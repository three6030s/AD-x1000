(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();var eI;(function(t){var e=function(){function n(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(n.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(r){this._dropEffect=r},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(r){this._effectAllowed=r},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),n.prototype.clearData=function(r){r!=null?delete this._data[r]:this._data=null},n.prototype.getData=function(r){return this._data[r]||""},n.prototype.setData=function(r,a){this._data[r]=a},n.prototype.setDragImage=function(r,a,s){var o=i._instance;o._imgCustom=r,o._imgOffset={x:a,y:s}},n}();t.DataTransfer=e;var i=function(){function n(){if(this._lastClick=0,n._instance)throw"DragDropTouch instance already created.";var r=!1;if(document.addEventListener("test",function(){},{get passive(){return r=!0,!0}}),"ontouchstart"in document){var a=document,s=this._touchstart.bind(this),o=this._touchmove.bind(this),c=this._touchend.bind(this),d=r?{passive:!1,capture:!1}:!1;a.addEventListener("touchstart",s,d),a.addEventListener("touchmove",o,d),a.addEventListener("touchend",c),a.addEventListener("touchcancel",c)}}return n.getInstance=function(){return n._instance},n.prototype._touchstart=function(r){var a=this;if(this._shouldHandle(r)){if(Date.now()-this._lastClick<n._DBLCLICK&&this._dispatchEvent(r,"dblclick",r.target)){r.cancelable&&r.preventDefault(),this._reset();return}this._reset();var s=this._closestDraggable(r.target);s&&!this._dispatchEvent(r,"mousemove",r.target)&&!this._dispatchEvent(r,"mousedown",r.target)&&(this._dragSource=s,this._ptDown=this._getPoint(r),this._lastTouch=r,r.cancelable&&r.preventDefault(),setTimeout(function(){a._dragSource==s&&a._img==null&&a._dispatchEvent(r,"contextmenu",s)&&a._reset()},n._CTXMENU),n._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){a._isDragEnabled=!0,a._touchmove(r)},n._PRESSHOLDAWAIT)))}},n.prototype._touchmove=function(r){if(this._shouldCancelPressHoldMove(r)){this._reset();return}if(this._shouldHandleMove(r)||this._shouldHandlePressHoldMove(r)){var a=this._getTarget(r);if(this._dispatchEvent(r,"mousemove",a)){this._lastTouch=r,r.cancelable&&r.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(r)&&(this._dispatchEvent(r,"dragstart",this._dragSource),this._createImage(r),this._dispatchEvent(r,"dragenter",a)),this._img&&(this._lastTouch=r,r.cancelable&&r.preventDefault(),a!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(r,"dragenter",a),this._lastTarget=a),this._moveImage(r),this._isDropZone=this._dispatchEvent(r,"dragover",a))}},n.prototype._touchend=function(r){if(this._shouldHandle(r)){if(this._dispatchEvent(this._lastTouch,"mouseup",r.target)){r.cancelable&&r.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",r.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(r.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},n.prototype._shouldHandle=function(r){return r&&!r.defaultPrevented&&r.touches&&r.touches.length<2},n.prototype._shouldHandleMove=function(r){return!n._ISPRESSHOLDMODE&&this._shouldHandle(r)},n.prototype._shouldHandlePressHoldMove=function(r){return n._ISPRESSHOLDMODE&&this._isDragEnabled&&r&&r.touches&&r.touches.length},n.prototype._shouldCancelPressHoldMove=function(r){return n._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(r)>n._PRESSHOLDMARGIN},n.prototype._shouldStartDragging=function(r){var a=this._getDelta(r);return a>n._THRESHOLD||n._ISPRESSHOLDMODE&&a>=n._PRESSHOLDTHRESHOLD},n.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new e,clearInterval(this._pressHoldInterval)},n.prototype._getPoint=function(r,a){return r&&r.touches&&(r=r.touches[0]),{x:a?r.pageX:r.clientX,y:a?r.pageY:r.clientY}},n.prototype._getDelta=function(r){if(n._ISPRESSHOLDMODE&&!this._ptDown)return 0;var a=this._getPoint(r);return Math.abs(a.x-this._ptDown.x)+Math.abs(a.y-this._ptDown.y)},n.prototype._getTarget=function(r){for(var a=this._getPoint(r),s=document.elementFromPoint(a.x,a.y);s&&getComputedStyle(s).pointerEvents=="none";)s=s.parentElement;return s},n.prototype._createImage=function(r){this._img&&this._destroyImage();var a=this._imgCustom||this._dragSource;if(this._img=a.cloneNode(!0),this._copyStyle(a,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var s=a.getBoundingClientRect(),o=this._getPoint(r);this._imgOffset={x:o.x-s.left,y:o.y-s.top},this._img.style.opacity=n._OPACITY.toString()}this._moveImage(r),document.body.appendChild(this._img)},n.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},n.prototype._moveImage=function(r){var a=this;requestAnimationFrame(function(){if(a._img){var s=a._getPoint(r,!0),o=a._img.style;o.position="absolute",o.pointerEvents="none",o.zIndex="999999",o.left=Math.round(s.x-a._imgOffset.x)+"px",o.top=Math.round(s.y-a._imgOffset.y)+"px"}})},n.prototype._copyProps=function(r,a,s){for(var o=0;o<s.length;o++){var c=s[o];r[c]=a[c]}},n.prototype._copyStyle=function(r,a){if(n._rmvAtts.forEach(function(m){a.removeAttribute(m)}),r instanceof HTMLCanvasElement){var s=r,o=a;o.width=s.width,o.height=s.height,o.getContext("2d").drawImage(s,0,0)}for(var c=getComputedStyle(r),d=0;d<c.length;d++){var p=c[d];p.indexOf("transition")<0&&(a.style[p]=c[p])}a.style.pointerEvents="none";for(var d=0;d<r.children.length;d++)this._copyStyle(r.children[d],a.children[d])},n.prototype._dispatchEvent=function(r,a,s){if(r&&s){var o=document.createEvent("Event"),c=r.touches?r.touches[0]:r;return o.initEvent(a,!0,!0),o.button=0,o.which=o.buttons=1,this._copyProps(o,r,n._kbdProps),this._copyProps(o,c,n._ptProps),o.dataTransfer=this._dataTransfer,s.dispatchEvent(o),o.defaultPrevented}return!1},n.prototype._closestDraggable=function(r){for(;r;r=r.parentElement)if(r.hasAttribute("draggable")&&r.draggable)return r;return null},n}();i._instance=new i,i._THRESHOLD=5,i._OPACITY=.5,i._DBLCLICK=500,i._CTXMENU=900,i._ISPRESSHOLDMODE=!1,i._PRESSHOLDAWAIT=400,i._PRESSHOLDMARGIN=25,i._PRESSHOLDTHRESHOLD=0,i._rmvAtts="id,class,style,draggable".split(","),i._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),i._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=i})(eI||(eI={}));var Ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),i}var X2={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(Ci,function(){var i=navigator.userAgent,n=navigator.platform,r=/gecko\/\d/i.test(i),a=/MSIE \d/.test(i),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(i),o=/Edge\/(\d+)/.exec(i),c=a||s||o,d=c&&(a?document.documentMode||6:+(o||s)[1]),p=!o&&/WebKit\//.test(i),m=p&&/Qt\/\d+\.\d+/.test(i),y=!o&&/Chrome\//.test(i),_=/Opera\//.test(i),w=/Apple Computer/.test(navigator.vendor),C=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(i),k=/PhantomJS/.test(i),S=w&&(/Mobile\/\w+/.test(i)||navigator.maxTouchPoints>2),x=/Android/.test(i),O=S||x||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(i),D=S||/Mac/.test(n),B=/\bCrOS\b/.test(i),P=/win/i.test(n),R=_&&i.match(/Version\/(\d*\.\d*)/);R&&(R=Number(R[1])),R&&R>=15&&(_=!1,p=!0);var I=D&&(m||_&&(R==null||R<12.11)),F=r||c&&d>=9;function $(u){return new RegExp("(^|\\s)"+u+"(?:$|\\s)\\s*")}var L=function(u,f){var v=u.className,g=$(f).exec(v);if(g){var E=v.slice(g.index+g[0].length);u.className=v.slice(0,g.index)+(E?g[1]+E:"")}};function W(u){for(var f=u.childNodes.length;f>0;--f)u.removeChild(u.firstChild);return u}function j(u,f){return W(u).appendChild(f)}function z(u,f,v,g){var E=document.createElement(u);if(v&&(E.className=v),g&&(E.style.cssText=g),typeof f=="string")E.appendChild(document.createTextNode(f));else if(f)for(var A=0;A<f.length;++A)E.appendChild(f[A]);return E}function re(u,f,v,g){var E=z(u,f,v,g);return E.setAttribute("role","presentation"),E}var ce;document.createRange?ce=function(u,f,v,g){var E=document.createRange();return E.setEnd(g||u,v),E.setStart(u,f),E}:ce=function(u,f,v){var g=document.body.createTextRange();try{g.moveToElementText(u.parentNode)}catch{return g}return g.collapse(!0),g.moveEnd("character",v),g.moveStart("character",f),g};function ge(u,f){if(f.nodeType==3&&(f=f.parentNode),u.contains)return u.contains(f);do if(f.nodeType==11&&(f=f.host),f==u)return!0;while(f=f.parentNode)}function be(){var u;try{u=document.activeElement}catch{u=document.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function ue(u,f){var v=u.className;$(f).test(v)||(u.className+=(v?" ":"")+f)}function se(u,f){for(var v=u.split(" "),g=0;g<v.length;g++)v[g]&&!$(v[g]).test(f)&&(f+=" "+v[g]);return f}var Z=function(u){u.select()};S?Z=function(u){u.selectionStart=0,u.selectionEnd=u.value.length}:c&&(Z=function(u){try{u.select()}catch{}});function K(u){var f=Array.prototype.slice.call(arguments,1);return function(){return u.apply(null,f)}}function q(u,f,v){f||(f={});for(var g in u)u.hasOwnProperty(g)&&(v!==!1||!f.hasOwnProperty(g))&&(f[g]=u[g]);return f}function ie(u,f,v,g,E){f==null&&(f=u.search(/[^\s\u00a0]/),f==-1&&(f=u.length));for(var A=g||0,N=E||0;;){var U=u.indexOf("	",A);if(U<0||U>=f)return N+(f-A);N+=U-A,N+=v-N%v,A=U+1}}var le=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};le.prototype.onTimeout=function(u){u.id=0,u.time<=+new Date?u.f():setTimeout(u.handler,u.time-+new Date)},le.prototype.set=function(u,f){this.f=f;var v=+new Date+u;(!this.id||v<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,u),this.time=v)};function Q(u,f){for(var v=0;v<u.length;++v)if(u[v]==f)return v;return-1}var fe=50,de={toString:function(){return"CodeMirror.Pass"}},he={scroll:!1},ve={origin:"*mouse"},ne={origin:"+move"};function Bt(u,f,v){for(var g=0,E=0;;){var A=u.indexOf("	",g);A==-1&&(A=u.length);var N=A-g;if(A==u.length||E+N>=f)return g+Math.min(N,f-E);if(E+=A-g,E+=v-E%v,g=A+1,E>=f)return g}}var It=[""];function ht(u){for(;It.length<=u;)It.push(Se(It)+" ");return It[u]}function Se(u){return u[u.length-1]}function Jt(u,f){for(var v=[],g=0;g<u.length;g++)v[g]=f(u[g],g);return v}function $t(u,f,v){for(var g=0,E=v(f);g<u.length&&v(u[g])<=E;)g++;u.splice(g,0,f)}function St(){}function xt(u,f){var v;return Object.create?v=Object.create(u):(St.prototype=u,v=new St),f&&q(f,v),v}var Ct=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function nt(u){return/\w/.test(u)||u>""&&(u.toUpperCase()!=u.toLowerCase()||Ct.test(u))}function De(u,f){return f?f.source.indexOf("\\w")>-1&&nt(u)?!0:f.test(u):nt(u)}function Ve(u){for(var f in u)if(u.hasOwnProperty(f)&&u[f])return!1;return!0}var Pt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function st(u){return u.charCodeAt(0)>=768&&Pt.test(u)}function _i(u,f,v){for(;(v<0?f>0:f<u.length)&&st(u.charAt(f));)f+=v;return f}function mi(u,f,v){for(var g=f>v?-1:1;;){if(f==v)return f;var E=(f+v)/2,A=g<0?Math.ceil(E):Math.floor(E);if(A==f)return u(A)?f:v;u(A)?v=A:f=A+g}}function wi(u,f,v,g){if(!u)return g(f,v,"ltr",0);for(var E=!1,A=0;A<u.length;++A){var N=u[A];(N.from<v&&N.to>f||f==v&&N.to==f)&&(g(Math.max(N.from,f),Math.min(N.to,v),N.level==1?"rtl":"ltr",A),E=!0)}E||g(f,v,"ltr")}var Ei=null;function di(u,f,v){var g;Ei=null;for(var E=0;E<u.length;++E){var A=u[E];if(A.from<f&&A.to>f)return E;A.to==f&&(A.from!=A.to&&v=="before"?g=E:Ei=E),A.from==f&&(A.from!=A.to&&v!="before"?g=E:Ei=E)}return g??Ei}var Xi=function(){var u="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function v(Y){return Y<=247?u.charAt(Y):1424<=Y&&Y<=1524?"R":1536<=Y&&Y<=1785?f.charAt(Y-1536):1774<=Y&&Y<=2220?"r":8192<=Y&&Y<=8203?"w":Y==8204?"b":"L"}var g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,E=/[stwN]/,A=/[LRr]/,N=/[Lb1n]/,U=/[1n]/;function H(Y,te,oe){this.level=Y,this.from=te,this.to=oe}return function(Y,te){var oe=te=="ltr"?"L":"R";if(Y.length==0||te=="ltr"&&!g.test(Y))return!1;for(var me=Y.length,pe=[],Ce=0;Ce<me;++Ce)pe.push(v(Y.charCodeAt(Ce)));for(var xe=0,Be=oe;xe<me;++xe){var Ye=pe[xe];Ye=="m"?pe[xe]=Be:Be=Ye}for(var Je=0,qe=oe;Je<me;++Je){var rt=pe[Je];rt=="1"&&qe=="r"?pe[Je]="n":A.test(rt)&&(qe=rt,rt=="r"&&(pe[Je]="R"))}for(var gt=1,pt=pe[0];gt<me-1;++gt){var Vt=pe[gt];Vt=="+"&&pt=="1"&&pe[gt+1]=="1"?pe[gt]="1":Vt==","&&pt==pe[gt+1]&&(pt=="1"||pt=="n")&&(pe[gt]=pt),pt=Vt}for(var Yi=0;Yi<me;++Yi){var br=pe[Yi];if(br==",")pe[Yi]="N";else if(br=="%"){var vn=void 0;for(vn=Yi+1;vn<me&&pe[vn]=="%";++vn);for(var rs=Yi&&pe[Yi-1]=="!"||vn<me&&pe[vn]=="1"?"1":"N",Ga=Yi;Ga<vn;++Ga)pe[Ga]=rs;Yi=vn-1}}for(var Yn=0,Ua=oe;Yn<me;++Yn){var Ir=pe[Yn];Ua=="L"&&Ir=="1"?pe[Yn]="L":A.test(Ir)&&(Ua=Ir)}for(var ir=0;ir<me;++ir)if(E.test(pe[ir])){var qn=void 0;for(qn=ir+1;qn<me&&E.test(pe[qn]);++qn);for(var In=(ir?pe[ir-1]:oe)=="L",La=(qn<me?pe[qn]:oe)=="L",lp=In==La?In?"L":"R":oe,Pu=ir;Pu<qn;++Pu)pe[Pu]=lp;ir=qn-1}for(var Zr=[],Rl,_r=0;_r<me;)if(N.test(pe[_r])){var iT=_r;for(++_r;_r<me&&N.test(pe[_r]);++_r);Zr.push(new H(0,iT,_r))}else{var xc=_r,ph=Zr.length,mh=te=="rtl"?1:0;for(++_r;_r<me&&pe[_r]!="L";++_r);for(var ga=xc;ga<_r;)if(U.test(pe[ga])){xc<ga&&(Zr.splice(ph,0,new H(1,xc,ga)),ph+=mh);var cp=ga;for(++ga;ga<_r&&U.test(pe[ga]);++ga);Zr.splice(ph,0,new H(2,cp,ga)),ph+=mh,xc=ga}else++ga;xc<_r&&Zr.splice(ph,0,new H(1,xc,_r))}return te=="ltr"&&(Zr[0].level==1&&(Rl=Y.match(/^\s+/))&&(Zr[0].from=Rl[0].length,Zr.unshift(new H(0,0,Rl[0].length))),Se(Zr).level==1&&(Rl=Y.match(/\s+$/))&&(Se(Zr).to-=Rl[0].length,Zr.push(new H(0,me-Rl[0].length,me)))),te=="rtl"?Zr.reverse():Zr}}();function Rt(u,f){var v=u.order;return v==null&&(v=u.order=Xi(u.text,f)),v}var jt=[],Xe=function(u,f,v){if(u.addEventListener)u.addEventListener(f,v,!1);else if(u.attachEvent)u.attachEvent("on"+f,v);else{var g=u._handlers||(u._handlers={});g[f]=(g[f]||jt).concat(v)}};function zt(u,f){return u._handlers&&u._handlers[f]||jt}function ut(u,f,v){if(u.removeEventListener)u.removeEventListener(f,v,!1);else if(u.detachEvent)u.detachEvent("on"+f,v);else{var g=u._handlers,E=g&&g[f];if(E){var A=Q(E,v);A>-1&&(g[f]=E.slice(0,A).concat(E.slice(A+1)))}}}function Ot(u,f){var v=zt(u,f);if(v.length)for(var g=Array.prototype.slice.call(arguments,2),E=0;E<v.length;++E)v[E].apply(null,g)}function ye(u,f,v){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Ot(u,v||f.type,u,f),Xt(f)||f.codemirrorIgnore}function Pe(u){var f=u._handlers&&u._handlers.cursorActivity;if(f)for(var v=u.curOp.cursorActivityHandlers||(u.curOp.cursorActivityHandlers=[]),g=0;g<f.length;++g)Q(v,f[g])==-1&&v.push(f[g])}function Le(u,f){return zt(u,f).length>0}function lt(u){u.prototype.on=function(f,v){Xe(this,f,v)},u.prototype.off=function(f,v){ut(this,f,v)}}function tt(u){u.preventDefault?u.preventDefault():u.returnValue=!1}function at(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0}function Xt(u){return u.defaultPrevented!=null?u.defaultPrevented:u.returnValue==!1}function hi(u){tt(u),at(u)}function Sn(u){return u.target||u.srcElement}function ks(u){var f=u.which;return f==null&&(u.button&1?f=1:u.button&2?f=3:u.button&4&&(f=2)),D&&u.ctrlKey&&f==1&&(f=3),f}var ur=function(){if(c&&d<9)return!1;var u=z("div");return"draggable"in u||"dragDrop"in u}(),Ki;function Ss(u){if(Ki==null){var f=z("span","​");j(u,z("span",[f,document.createTextNode("x")])),u.firstChild.offsetHeight!=0&&(Ki=f.offsetWidth<=1&&f.offsetHeight>2&&!(c&&d<8))}var v=Ki?z("span","​"):z("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return v.setAttribute("cm-text",""),v}var Pi;function qd(u){if(Pi!=null)return Pi;var f=j(u,document.createTextNode("AخA")),v=ce(f,0,1).getBoundingClientRect(),g=ce(f,1,2).getBoundingClientRect();return W(u),!v||v.left==v.right?!1:Pi=g.right-v.right<3}var Sa=`

b`.split(/\n/).length!=3?function(u){for(var f=0,v=[],g=u.length;f<=g;){var E=u.indexOf(`
`,f);E==-1&&(E=u.length);var A=u.slice(f,u.charAt(E-1)=="\r"?E-1:E),N=A.indexOf("\r");N!=-1?(v.push(A.slice(0,N)),f+=N+1):(v.push(A),f=E+1)}return v}:function(u){return u.split(/\r\n?|\n/)},Nn=window.getSelection?function(u){try{return u.selectionStart!=u.selectionEnd}catch{return!1}}:function(u){var f;try{f=u.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=u?!1:f.compareEndPoints("StartToEnd",f)!=0},Wd=function(){var u=z("div");return"oncopy"in u?!0:(u.setAttribute("oncopy","return;"),typeof u.oncopy=="function")}(),Aa=null;function jd(u){if(Aa!=null)return Aa;var f=j(u,z("span","x")),v=f.getBoundingClientRect(),g=ce(f,0,1).getBoundingClientRect();return Aa=Math.abs(v.left-g.left)>1}var lo={},co={};function zd(u,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),lo[u]=f}function Xd(u,f){co[u]=f}function vl(u){if(typeof u=="string"&&co.hasOwnProperty(u))u=co[u];else if(u&&typeof u.name=="string"&&co.hasOwnProperty(u.name)){var f=co[u.name];typeof f=="string"&&(f={name:f}),u=xt(f,u),u.name=f.name}else{if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(u))return vl("application/xml");if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(u))return vl("application/json")}return typeof u=="string"?{name:u}:u||{name:"null"}}function yc(u,f){f=vl(f);var v=lo[f.name];if(!v)return yc(u,"text/plain");var g=v(u,f);if(xa.hasOwnProperty(f.name)){var E=xa[f.name];for(var A in E)E.hasOwnProperty(A)&&(g.hasOwnProperty(A)&&(g["_"+A]=g[A]),g[A]=E[A])}if(g.name=f.name,f.helperType&&(g.helperType=f.helperType),f.modeProps)for(var N in f.modeProps)g[N]=f.modeProps[N];return g}var xa={};function Kd(u,f){var v=xa.hasOwnProperty(u)?xa[u]:xa[u]={};q(f,v)}function dr(u,f){if(f===!0)return f;if(u.copyState)return u.copyState(f);var v={};for(var g in f){var E=f[g];E instanceof Array&&(E=E.concat([])),v[g]=E}return v}function gc(u,f){for(var v;u.innerMode&&(v=u.innerMode(f),!(!v||v.mode==u));)f=v.state,u=v.mode;return v||{mode:u,state:f}}function uu(u,f,v){return u.startState?u.startState(f,v):!0}var Zi=function(u,f,v){this.pos=this.start=0,this.string=u,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=v};Zi.prototype.eol=function(){return this.pos>=this.string.length},Zi.prototype.sol=function(){return this.pos==this.lineStart},Zi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Zi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Zi.prototype.eat=function(u){var f=this.string.charAt(this.pos),v;if(typeof u=="string"?v=f==u:v=f&&(u.test?u.test(f):u(f)),v)return++this.pos,f},Zi.prototype.eatWhile=function(u){for(var f=this.pos;this.eat(u););return this.pos>f},Zi.prototype.eatSpace=function(){for(var u=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>u},Zi.prototype.skipToEnd=function(){this.pos=this.string.length},Zi.prototype.skipTo=function(u){var f=this.string.indexOf(u,this.pos);if(f>-1)return this.pos=f,!0},Zi.prototype.backUp=function(u){this.pos-=u},Zi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ie(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ie(this.string,this.lineStart,this.tabSize):0)},Zi.prototype.indentation=function(){return ie(this.string,null,this.tabSize)-(this.lineStart?ie(this.string,this.lineStart,this.tabSize):0)},Zi.prototype.match=function(u,f,v){if(typeof u=="string"){var g=function(N){return v?N.toLowerCase():N},E=this.string.substr(this.pos,u.length);if(g(E)==g(u))return f!==!1&&(this.pos+=u.length),!0}else{var A=this.string.slice(this.pos).match(u);return A&&A.index>0?null:(A&&f!==!1&&(this.pos+=A[0].length),A)}},Zi.prototype.current=function(){return this.string.slice(this.start,this.pos)},Zi.prototype.hideFirstChars=function(u,f){this.lineStart+=u;try{return f()}finally{this.lineStart-=u}},Zi.prototype.lookAhead=function(u){var f=this.lineOracle;return f&&f.lookAhead(u)},Zi.prototype.baseToken=function(){var u=this.lineOracle;return u&&u.baseToken(this.pos)};function ot(u,f){if(f-=u.first,f<0||f>=u.size)throw new Error("There is no line "+(f+u.first)+" in the document.");for(var v=u;!v.lines;)for(var g=0;;++g){var E=v.children[g],A=E.chunkSize();if(f<A){v=E;break}f-=A}return v.lines[f]}function ra(u,f,v){var g=[],E=f.line;return u.iter(f.line,v.line+1,function(A){var N=A.text;E==v.line&&(N=N.slice(0,v.ch)),E==f.line&&(N=N.slice(f.ch)),g.push(N),++E}),g}function vc(u,f,v){var g=[];return u.iter(f,v,function(E){g.push(E.text)}),g}function hr(u,f){var v=f-u.height;if(v)for(var g=u;g;g=g.parent)g.height+=v}function Ne(u){if(u.parent==null)return null;for(var f=u.parent,v=Q(f.lines,u),g=f.parent;g;f=g,g=g.parent)for(var E=0;g.children[E]!=f;++E)v+=g.children[E].chunkSize();return v+f.first}function aa(u,f){var v=u.first;e:do{for(var g=0;g<u.children.length;++g){var E=u.children[g],A=E.height;if(f<A){u=E;continue e}f-=A,v+=E.chunkSize()}return v}while(!u.lines);for(var N=0;N<u.lines.length;++N){var U=u.lines[N],H=U.height;if(f<H)break;f-=H}return v+N}function Po(u,f){return f>=u.first&&f<u.first+u.size}function kr(u,f){return String(u.lineNumberFormatter(f+u.firstLineNumber))}function Ie(u,f,v){if(v===void 0&&(v=null),!(this instanceof Ie))return new Ie(u,f,v);this.line=u,this.ch=f,this.sticky=v}function yt(u,f){return u.line-f.line||u.ch-f.ch}function uo(u,f){return u.sticky==f.sticky&&yt(u,f)==0}function Da(u){return Ie(u.line,u.ch)}function sa(u,f){return yt(u,f)<0?f:u}function oa(u,f){return yt(u,f)<0?u:f}function du(u,f){return Math.max(u.first,Math.min(f,u.first+u.size-1))}function vt(u,f){if(f.line<u.first)return Ie(u.first,0);var v=u.first+u.size-1;return f.line>v?Ie(v,ot(u,v).text.length):si(f,ot(u,f.line).text.length)}function si(u,f){var v=u.ch;return v==null||v>f?Ie(u.line,f):v<0?Ie(u.line,0):u}function nn(u,f){for(var v=[],g=0;g<f.length;g++)v[g]=vt(u,f[g]);return v}var As=function(u,f){this.state=u,this.lookAhead=f},la=function(u,f,v,g){this.state=f,this.doc=u,this.line=v,this.maxLookAhead=g||0,this.baseTokens=null,this.baseTokenPos=1};la.prototype.lookAhead=function(u){var f=this.doc.getLine(this.line+u);return f!=null&&u>this.maxLookAhead&&(this.maxLookAhead=u),f},la.prototype.baseToken=function(u){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=u;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-u}},la.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},la.fromSaved=function(u,f,v){return f instanceof As?new la(u,dr(u.mode,f.state),v,f.lookAhead):new la(u,dr(u.mode,f),v)},la.prototype.save=function(u){var f=u!==!1?dr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new As(f,this.maxLookAhead):f};function Oo(u,f,v,g){var E=[u.state.modeGen],A={};Bo(u,f.text,u.doc.mode,v,function(Y,te){return E.push(Y,te)},A,g);for(var N=v.state,U=function(Y){v.baseTokens=E;var te=u.state.overlays[Y],oe=1,me=0;v.state=!0,Bo(u,f.text,te.mode,v,function(pe,Ce){for(var xe=oe;me<pe;){var Be=E[oe];Be>pe&&E.splice(oe,1,pe,E[oe+1],Be),oe+=2,me=Math.min(pe,Be)}if(Ce)if(te.opaque)E.splice(xe,oe-xe,pe,"overlay "+Ce),oe=xe+2;else for(;xe<oe;xe+=2){var Ye=E[xe+1];E[xe+1]=(Ye?Ye+" ":"")+"overlay "+Ce}},A),v.state=N,v.baseTokens=null,v.baseTokenPos=1},H=0;H<u.state.overlays.length;++H)U(H);return{styles:E,classes:A.bgClass||A.textClass?A:null}}function No(u,f,v){if(!f.styles||f.styles[0]!=u.state.modeGen){var g=Hr(u,Ne(f)),E=f.text.length>u.options.maxHighlightLength&&dr(u.doc.mode,g.state),A=Oo(u,f,g);E&&(g.state=E),f.stateAfter=g.save(!E),f.styles=A.styles,A.classes?f.styleClasses=A.classes:f.styleClasses&&(f.styleClasses=null),v===u.doc.highlightFrontier&&(u.doc.modeFrontier=Math.max(u.doc.modeFrontier,++u.doc.highlightFrontier))}return f.styles}function Hr(u,f,v){var g=u.doc,E=u.display;if(!g.mode.startState)return new la(g,!0,f);var A=Zd(u,f,v),N=A>g.first&&ot(g,A-1).stateAfter,U=N?la.fromSaved(g,N,A):new la(g,uu(g.mode),A);return g.iter(A,f,function(H){ho(u,H.text,U);var Y=U.line;H.stateAfter=Y==f-1||Y%5==0||Y>=E.viewFrom&&Y<E.viewTo?U.save():null,U.nextLine()}),v&&(g.modeFrontier=U.line),U}function ho(u,f,v,g){var E=u.doc.mode,A=new Zi(f,u.options.tabSize,v);for(A.start=A.pos=g||0,f==""&&Go(E,v.state);!A.eol();)yn(E,A,v.state),A.start=A.pos}function Go(u,f){if(u.blankLine)return u.blankLine(f);if(u.innerMode){var v=gc(u,f);if(v.mode.blankLine)return v.mode.blankLine(v.state)}}function yn(u,f,v,g){for(var E=0;E<10;E++){g&&(g[0]=gc(u,v).mode);var A=u.token(f,v);if(f.pos>f.start)return A}throw new Error("Mode "+u.name+" failed to advance stream.")}var Uo=function(u,f,v){this.start=u.start,this.end=u.pos,this.string=u.current(),this.type=f||null,this.state=v};function Lo(u,f,v,g){var E=u.doc,A=E.mode,N;f=vt(E,f);var U=ot(E,f.line),H=Hr(u,f.line,v),Y=new Zi(U.text,u.options.tabSize,H),te;for(g&&(te=[]);(g||Y.pos<f.ch)&&!Y.eol();)Y.start=Y.pos,N=yn(A,Y,H.state),g&&te.push(new Uo(Y,N,dr(E.mode,H.state)));return g?te:new Uo(Y,N,H.state)}function Vr(u,f){if(u)for(;;){var v=u.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;u=u.slice(0,v.index)+u.slice(v.index+v[0].length);var g=v[1]?"bgClass":"textClass";f[g]==null?f[g]=v[2]:new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)").test(f[g])||(f[g]+=" "+v[2])}return u}function Bo(u,f,v,g,E,A,N){var U=v.flattenSpans;U==null&&(U=u.options.flattenSpans);var H=0,Y=null,te=new Zi(f,u.options.tabSize,g),oe,me=u.options.addModeClass&&[null];for(f==""&&Vr(Go(v,g.state),A);!te.eol();){if(te.pos>u.options.maxHighlightLength?(U=!1,N&&ho(u,f,g,te.pos),te.pos=f.length,oe=null):oe=Vr(yn(v,te,g.state,me),A),me){var pe=me[0].name;pe&&(oe="m-"+(oe?pe+" "+oe:pe))}if(!U||Y!=oe){for(;H<te.start;)H=Math.min(te.start,H+5e3),E(H,Y);Y=oe}te.start=te.pos}for(;H<te.pos;){var Ce=Math.min(te.pos,H+5e3);E(Ce,Y),H=Ce}}function Zd(u,f,v){for(var g,E,A=u.doc,N=v?-1:f-(u.doc.mode.innerMode?1e3:100),U=f;U>N;--U){if(U<=A.first)return A.first;var H=ot(A,U-1),Y=H.stateAfter;if(Y&&(!v||U+(Y instanceof As?Y.lookAhead:0)<=A.modeFrontier))return U;var te=ie(H.text,null,u.options.tabSize);(E==null||g>te)&&(E=U-1,g=te)}return E}function Qd(u,f){if(u.modeFrontier=Math.min(u.modeFrontier,f),!(u.highlightFrontier<f-10)){for(var v=u.first,g=f-1;g>v;g--){var E=ot(u,g).stateAfter;if(E&&(!(E instanceof As)||g+E.lookAhead<f)){v=g+1;break}}u.highlightFrontier=Math.min(u.highlightFrontier,v)}}var $o=!1,gn=!1;function bl(){$o=!0}function xs(){gn=!0}function Ds(u,f,v){this.marker=u,this.from=f,this.to=v}function Ja(u,f){if(u)for(var v=0;v<u.length;++v){var g=u[v];if(g.marker==f)return g}}function _l(u,f){for(var v,g=0;g<u.length;++g)u[g]!=f&&(v||(v=[])).push(u[g]);return v}function Is(u,f,v){var g=v&&window.WeakSet&&(v.markedSpans||(v.markedSpans=new WeakSet));g&&g.has(u.markedSpans)?u.markedSpans.push(f):(u.markedSpans=u.markedSpans?u.markedSpans.concat([f]):[f],g&&g.add(u.markedSpans)),f.marker.attachLine(u)}function Mi(u,f,v){var g;if(u)for(var E=0;E<u.length;++E){var A=u[E],N=A.marker,U=A.from==null||(N.inclusiveLeft?A.from<=f:A.from<f);if(U||A.from==f&&N.type=="bookmark"&&(!v||!A.marker.insertLeft)){var H=A.to==null||(N.inclusiveRight?A.to>=f:A.to>f);(g||(g=[])).push(new Ds(N,A.from,H?null:A.to))}}return g}function cn(u,f,v){var g;if(u)for(var E=0;E<u.length;++E){var A=u[E],N=A.marker,U=A.to==null||(N.inclusiveRight?A.to>=f:A.to>f);if(U||A.from==f&&N.type=="bookmark"&&(!v||A.marker.insertLeft)){var H=A.from==null||(N.inclusiveLeft?A.from<=f:A.from<f);(g||(g=[])).push(new Ds(N,H?null:A.from-f,A.to==null?null:A.to-f))}}return g}function bc(u,f){if(f.full)return null;var v=Po(u,f.from.line)&&ot(u,f.from.line).markedSpans,g=Po(u,f.to.line)&&ot(u,f.to.line).markedSpans;if(!v&&!g)return null;var E=f.from.ch,A=f.to.ch,N=yt(f.from,f.to)==0,U=Mi(v,E,N),H=cn(g,A,N),Y=f.text.length==1,te=Se(f.text).length+(Y?E:0);if(U)for(var oe=0;oe<U.length;++oe){var me=U[oe];if(me.to==null){var pe=Ja(H,me.marker);pe?Y&&(me.to=pe.to==null?null:pe.to+te):me.to=E}}if(H)for(var Ce=0;Ce<H.length;++Ce){var xe=H[Ce];if(xe.to!=null&&(xe.to+=te),xe.from==null){var Be=Ja(U,xe.marker);Be||(xe.from=te,Y&&(U||(U=[])).push(xe))}else xe.from+=te,Y&&(U||(U=[])).push(xe)}U&&(U=hu(U)),H&&H!=U&&(H=hu(H));var Ye=[U];if(!Y){var Je=f.text.length-2,qe;if(Je>0&&U)for(var rt=0;rt<U.length;++rt)U[rt].to==null&&(qe||(qe=[])).push(new Ds(U[rt].marker,null,null));for(var gt=0;gt<Je;++gt)Ye.push(qe);Ye.push(H)}return Ye}function hu(u){for(var f=0;f<u.length;++f){var v=u[f];v.from!=null&&v.from==v.to&&v.marker.clearWhenEmpty!==!1&&u.splice(f--,1)}return u.length?u:null}function Jd(u,f,v){var g=null;if(u.iter(f.line,v.line+1,function(pe){if(pe.markedSpans)for(var Ce=0;Ce<pe.markedSpans.length;++Ce){var xe=pe.markedSpans[Ce].marker;xe.readOnly&&(!g||Q(g,xe)==-1)&&(g||(g=[])).push(xe)}}),!g)return null;for(var E=[{from:f,to:v}],A=0;A<g.length;++A)for(var N=g[A],U=N.find(0),H=0;H<E.length;++H){var Y=E[H];if(!(yt(Y.to,U.from)<0||yt(Y.from,U.to)>0)){var te=[H,1],oe=yt(Y.from,U.from),me=yt(Y.to,U.to);(oe<0||!N.inclusiveLeft&&!oe)&&te.push({from:Y.from,to:U.from}),(me>0||!N.inclusiveRight&&!me)&&te.push({from:U.to,to:Y.to}),E.splice.apply(E,te),H+=te.length-3}}return E}function An(u){var f=u.markedSpans;if(f){for(var v=0;v<f.length;++v)f[v].marker.detachLine(u);u.markedSpans=null}}function Yr(u,f){if(f){for(var v=0;v<f.length;++v)f[v].marker.attachLine(u);u.markedSpans=f}}function Rs(u){return u.inclusiveLeft?-1:0}function Ms(u){return u.inclusiveRight?1:0}function Ia(u,f){var v=u.lines.length-f.lines.length;if(v!=0)return v;var g=u.find(),E=f.find(),A=yt(g.from,E.from)||Rs(u)-Rs(f);if(A)return-A;var N=yt(g.to,E.to)||Ms(u)-Ms(f);return N||f.id-u.id}function es(u,f){var v=gn&&u.markedSpans,g;if(v)for(var E=void 0,A=0;A<v.length;++A)E=v[A],E.marker.collapsed&&(f?E.from:E.to)==null&&(!g||Ia(g,E.marker)<0)&&(g=E.marker);return g}function Fo(u){return es(u,!0)}function wl(u){return es(u,!1)}function eh(u,f){var v=gn&&u.markedSpans,g;if(v)for(var E=0;E<v.length;++E){var A=v[E];A.marker.collapsed&&(A.from==null||A.from<f)&&(A.to==null||A.to>f)&&(!g||Ia(g,A.marker)<0)&&(g=A.marker)}return g}function Zn(u,f,v,g,E){var A=ot(u,f),N=gn&&A.markedSpans;if(N)for(var U=0;U<N.length;++U){var H=N[U];if(H.marker.collapsed){var Y=H.marker.find(0),te=yt(Y.from,v)||Rs(H.marker)-Rs(E),oe=yt(Y.to,g)||Ms(H.marker)-Ms(E);if(!(te>=0&&oe<=0||te<=0&&oe>=0)&&(te<=0&&(H.marker.inclusiveRight&&E.inclusiveLeft?yt(Y.to,v)>=0:yt(Y.to,v)>0)||te>=0&&(H.marker.inclusiveRight&&E.inclusiveLeft?yt(Y.from,g)<=0:yt(Y.from,g)<0)))return!0}}}function Qn(u){for(var f;f=Fo(u);)u=f.find(-1,!0).line;return u}function El(u){for(var f;f=wl(u);)u=f.find(1,!0).line;return u}function ca(u){for(var f,v;f=wl(u);)u=f.find(1,!0).line,(v||(v=[])).push(u);return v}function Ma(u,f){var v=ot(u,f),g=Qn(v);return v==g?f:Ne(g)}function xn(u,f){if(f>u.lastLine())return f;var v=ot(u,f),g;if(!qr(u,v))return f;for(;g=wl(v);)v=g.find(1,!0).line;return Ne(v)+1}function qr(u,f){var v=gn&&f.markedSpans;if(v){for(var g=void 0,E=0;E<v.length;++E)if(g=v[E],!!g.marker.collapsed){if(g.from==null)return!0;if(!g.marker.widgetNode&&g.from==0&&g.marker.inclusiveLeft&&Gt(u,f,g))return!0}}}function Gt(u,f,v){if(v.to==null){var g=v.marker.find(1,!0);return Gt(u,g.line,Ja(g.line.markedSpans,v.marker))}if(v.marker.inclusiveRight&&v.to==f.text.length)return!0;for(var E=void 0,A=0;A<f.markedSpans.length;++A)if(E=f.markedSpans[A],E.marker.collapsed&&!E.marker.widgetNode&&E.from==v.to&&(E.to==null||E.to!=v.from)&&(E.marker.inclusiveLeft||v.marker.inclusiveRight)&&Gt(u,f,E))return!0}function Sr(u){u=Qn(u);for(var f=0,v=u.parent,g=0;g<v.lines.length;++g){var E=v.lines[g];if(E==u)break;f+=E.height}for(var A=v.parent;A;v=A,A=v.parent)for(var N=0;N<A.children.length;++N){var U=A.children[N];if(U==v)break;f+=U.height}return f}function ua(u){if(u.height==0)return 0;for(var f=u.text.length,v,g=u;v=Fo(g);){var E=v.find(0,!0);g=E.from.line,f+=E.from.ch-E.to.ch}for(g=u;v=wl(g);){var A=v.find(0,!0);f-=g.text.length-A.from.ch,g=A.to.line,f+=g.text.length-A.to.ch}return f}function Ar(u){var f=u.display,v=u.doc;f.maxLine=ot(v,v.first),f.maxLineLength=ua(f.maxLine),f.maxLineChanged=!0,v.iter(function(g){var E=ua(g);E>f.maxLineLength&&(f.maxLineLength=E,f.maxLine=g)})}var We=function(u,f,v){this.text=u,Yr(this,f),this.height=v?v(this):1};We.prototype.lineNo=function(){return Ne(this)},lt(We);function Tl(u,f,v,g){u.text=f,u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null),u.order!=null&&(u.order=null),An(u),Yr(u,v);var E=g?g(u):1;E!=u.height&&hr(u,E)}function Cl(u){u.parent=null,An(u)}var da={},Ps={};function Wr(u,f){if(!u||/^\s*$/.test(u))return null;var v=f.addModeClass?Ps:da;return v[u]||(v[u]=u.replace(/\S+/g,"cm-$&"))}function fu(u,f){var v=re("span",null,null,p?"padding-right: .1px":null),g={pre:re("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:u,trailingSpace:!1,splitSpaces:u.getOption("lineWrapping")};f.measure={};for(var E=0;E<=(f.rest?f.rest.length:0);E++){var A=E?f.rest[E-1]:f.line,N=void 0;g.pos=0,g.addToken=th,qd(u.display.measure)&&(N=Rt(A,u.doc.direction))&&(g.addToken=ih(g.addToken,N)),g.map=[];var U=f!=u.display.externalMeasured&&Ne(A);Os(A,g,No(u,A,U)),A.styleClasses&&(A.styleClasses.bgClass&&(g.bgClass=se(A.styleClasses.bgClass,g.bgClass||"")),A.styleClasses.textClass&&(g.textClass=se(A.styleClasses.textClass,g.textClass||""))),g.map.length==0&&g.map.push(0,0,g.content.appendChild(Ss(u.display.measure))),E==0?(f.measure.map=g.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(g.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(p){var H=g.content.lastChild;(/\bcm-tab\b/.test(H.className)||H.querySelector&&H.querySelector(".cm-tab"))&&(g.content.className="cm-tab-wrap-hack")}return Ot(u,"renderLine",u,f.line,g.pre),g.pre.className&&(g.textClass=se(g.pre.className,g.textClass||"")),g}function ha(u){var f=z("span","•","cm-invalidchar");return f.title="\\u"+u.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function th(u,f,v,g,E,A,N){if(f){var U=u.splitSpaces?fa(f,u.trailingSpace):f,H=u.cm.state.specialChars,Y=!1,te;if(!H.test(f))u.col+=f.length,te=document.createTextNode(U),u.map.push(u.pos,u.pos+f.length,te),c&&d<9&&(Y=!0),u.pos+=f.length;else{te=document.createDocumentFragment();for(var oe=0;;){H.lastIndex=oe;var me=H.exec(f),pe=me?me.index-oe:f.length-oe;if(pe){var Ce=document.createTextNode(U.slice(oe,oe+pe));c&&d<9?te.appendChild(z("span",[Ce])):te.appendChild(Ce),u.map.push(u.pos,u.pos+pe,Ce),u.col+=pe,u.pos+=pe}if(!me)break;oe+=pe+1;var xe=void 0;if(me[0]=="	"){var Be=u.cm.options.tabSize,Ye=Be-u.col%Be;xe=te.appendChild(z("span",ht(Ye),"cm-tab")),xe.setAttribute("role","presentation"),xe.setAttribute("cm-text","	"),u.col+=Ye}else me[0]=="\r"||me[0]==`
`?(xe=te.appendChild(z("span",me[0]=="\r"?"␍":"␤","cm-invalidchar")),xe.setAttribute("cm-text",me[0]),u.col+=1):(xe=u.cm.options.specialCharPlaceholder(me[0]),xe.setAttribute("cm-text",me[0]),c&&d<9?te.appendChild(z("span",[xe])):te.appendChild(xe),u.col+=1);u.map.push(u.pos,u.pos+1,xe),u.pos++}}if(u.trailingSpace=U.charCodeAt(f.length-1)==32,v||g||E||Y||A||N){var Je=v||"";g&&(Je+=g),E&&(Je+=E);var qe=z("span",[te],Je,A);if(N)for(var rt in N)N.hasOwnProperty(rt)&&rt!="style"&&rt!="class"&&qe.setAttribute(rt,N[rt]);return u.content.appendChild(qe)}u.content.appendChild(te)}}function fa(u,f){if(u.length>1&&!/  /.test(u))return u;for(var v=f,g="",E=0;E<u.length;E++){var A=u.charAt(E);A==" "&&v&&(E==u.length-1||u.charCodeAt(E+1)==32)&&(A=" "),g+=A,v=A==" "}return g}function ih(u,f){return function(v,g,E,A,N,U,H){E=E?E+" cm-force-border":"cm-force-border";for(var Y=v.pos,te=Y+g.length;;){for(var oe=void 0,me=0;me<f.length&&(oe=f[me],!(oe.to>Y&&oe.from<=Y));me++);if(oe.to>=te)return u(v,g,E,A,N,U,H);u(v,g.slice(0,oe.to-Y),E,A,null,U,H),A=null,g=g.slice(oe.to-Y),Y=oe.to}}}function Jn(u,f,v,g){var E=!g&&v.widgetNode;E&&u.map.push(u.pos,u.pos+f,E),!g&&u.cm.display.input.needsContentAttribute&&(E||(E=u.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",v.id)),E&&(u.cm.display.input.setUneditable(E),u.content.appendChild(E)),u.pos+=f,u.trailingSpace=!1}function Os(u,f,v){var g=u.markedSpans,E=u.text,A=0;if(!g){for(var N=1;N<v.length;N+=2)f.addToken(f,E.slice(A,A=v[N]),Wr(v[N+1],f.cm.options));return}for(var U=E.length,H=0,Y=1,te="",oe,me,pe=0,Ce,xe,Be,Ye,Je;;){if(pe==H){Ce=xe=Be=me="",Je=null,Ye=null,pe=1/0;for(var qe=[],rt=void 0,gt=0;gt<g.length;++gt){var pt=g[gt],Vt=pt.marker;if(Vt.type=="bookmark"&&pt.from==H&&Vt.widgetNode)qe.push(Vt);else if(pt.from<=H&&(pt.to==null||pt.to>H||Vt.collapsed&&pt.to==H&&pt.from==H)){if(pt.to!=null&&pt.to!=H&&pe>pt.to&&(pe=pt.to,xe=""),Vt.className&&(Ce+=" "+Vt.className),Vt.css&&(me=(me?me+";":"")+Vt.css),Vt.startStyle&&pt.from==H&&(Be+=" "+Vt.startStyle),Vt.endStyle&&pt.to==pe&&(rt||(rt=[])).push(Vt.endStyle,pt.to),Vt.title&&((Je||(Je={})).title=Vt.title),Vt.attributes)for(var Yi in Vt.attributes)(Je||(Je={}))[Yi]=Vt.attributes[Yi];Vt.collapsed&&(!Ye||Ia(Ye.marker,Vt)<0)&&(Ye=pt)}else pt.from>H&&pe>pt.from&&(pe=pt.from)}if(rt)for(var br=0;br<rt.length;br+=2)rt[br+1]==pe&&(xe+=" "+rt[br]);if(!Ye||Ye.from==H)for(var vn=0;vn<qe.length;++vn)Jn(f,0,qe[vn]);if(Ye&&(Ye.from||0)==H){if(Jn(f,(Ye.to==null?U+1:Ye.to)-H,Ye.marker,Ye.from==null),Ye.to==null)return;Ye.to==H&&(Ye=!1)}}if(H>=U)break;for(var rs=Math.min(U,pe);;){if(te){var Ga=H+te.length;if(!Ye){var Yn=Ga>rs?te.slice(0,rs-H):te;f.addToken(f,Yn,oe?oe+Ce:Ce,Be,H+Yn.length==pe?xe:"",me,Je)}if(Ga>=rs){te=te.slice(rs-H),H=rs;break}H=Ga,Be=""}te=E.slice(A,A=v[Y++]),oe=Wr(v[Y++],f.cm.options)}}}function ts(u,f,v){this.line=f,this.rest=ca(f),this.size=this.rest?Ne(Se(this.rest))-v+1:1,this.node=this.text=null,this.hidden=qr(u,f)}function fr(u,f,v){for(var g=[],E,A=f;A<v;A=E){var N=new ts(u.doc,ot(u.doc,A),A);E=A+N.size,g.push(N)}return g}var xr=null;function kl(u){xr?xr.ops.push(u):u.ownsGroup=xr={ops:[u],delayedCallbacks:[]}}function un(u){var f=u.delayedCallbacks,v=0;do{for(;v<f.length;v++)f[v].call(null);for(var g=0;g<u.ops.length;g++){var E=u.ops[g];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(v<f.length)}function pr(u,f){var v=u.ownsGroup;if(v)try{un(v)}finally{xr=null,f(v)}}var jr=null;function Fi(u,f){var v=zt(u,f);if(v.length){var g=Array.prototype.slice.call(arguments,2),E;xr?E=xr.delayedCallbacks:jr?E=jr:(E=jr=[],setTimeout(ct,0));for(var A=function(U){E.push(function(){return v[U].apply(null,g)})},N=0;N<v.length;++N)A(N)}}function ct(){var u=jr;jr=null;for(var f=0;f<u.length;++f)u[f]()}function Ho(u,f,v,g){for(var E=0;E<f.changes.length;E++){var A=f.changes[E];A=="text"?nh(u,f):A=="gutter"?dt(u,f,v,g):A=="class"?fo(u,f):A=="widget"&&mr(u,f,g)}f.changes=null}function is(u){return u.node==u.text&&(u.node=z("div",null,null,"position: relative"),u.text.parentNode&&u.text.parentNode.replaceChild(u.node,u.text),u.node.appendChild(u.text),c&&d<8&&(u.node.style.zIndex=2)),u.node}function Sl(u,f){var v=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(v&&(v+=" CodeMirror-linebackground"),f.background)v?f.background.className=v:(f.background.parentNode.removeChild(f.background),f.background=null);else if(v){var g=is(f);f.background=g.insertBefore(z("div",null,v),g.firstChild),u.display.input.setUneditable(f.background)}}function pu(u,f){var v=u.display.externalMeasured;return v&&v.line==f.line?(u.display.externalMeasured=null,f.measure=v.measure,v.built):fu(u,f)}function nh(u,f){var v=f.text.className,g=pu(u,f);f.text==f.node&&(f.node=g.pre),f.text.parentNode.replaceChild(g.pre,f.text),f.text=g.pre,g.bgClass!=f.bgClass||g.textClass!=f.textClass?(f.bgClass=g.bgClass,f.textClass=g.textClass,fo(u,f)):v&&(f.text.className=v)}function fo(u,f){Sl(u,f),f.line.wrapClass?is(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var v=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=v||""}function dt(u,f,v,g){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var E=is(f);f.gutterBackground=z("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(u.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px; width: "+g.gutterTotalWidth+"px"),u.display.input.setUneditable(f.gutterBackground),E.insertBefore(f.gutterBackground,f.text)}var A=f.line.gutterMarkers;if(u.options.lineNumbers||A){var N=is(f),U=f.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(u.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px");if(U.setAttribute("aria-hidden","true"),u.display.input.setUneditable(U),N.insertBefore(U,f.text),f.line.gutterClass&&(U.className+=" "+f.line.gutterClass),u.options.lineNumbers&&(!A||!A["CodeMirror-linenumbers"])&&(f.lineNumber=U.appendChild(z("div",kr(u.options,v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+u.display.lineNumInnerWidth+"px"))),A)for(var H=0;H<u.display.gutterSpecs.length;++H){var Y=u.display.gutterSpecs[H].className,te=A.hasOwnProperty(Y)&&A[Y];te&&U.appendChild(z("div",[te],"CodeMirror-gutter-elt","left: "+g.gutterLeft[Y]+"px; width: "+g.gutterWidth[Y]+"px"))}}}function mr(u,f,v){f.alignable&&(f.alignable=null);for(var g=$("CodeMirror-linewidget"),E=f.node.firstChild,A=void 0;E;E=A)A=E.nextSibling,g.test(E.className)&&f.node.removeChild(E);mu(u,f,v)}function rh(u,f,v,g){var E=pu(u,f);return f.text=f.node=E.pre,E.bgClass&&(f.bgClass=E.bgClass),E.textClass&&(f.textClass=E.textClass),fo(u,f),dt(u,f,v,g),mu(u,f,g),f.node}function mu(u,f,v){if(yu(u,f.line,f,v,!0),f.rest)for(var g=0;g<f.rest.length;g++)yu(u,f.rest[g],f,v,!1)}function yu(u,f,v,g,E){if(f.widgets)for(var A=is(v),N=0,U=f.widgets;N<U.length;++N){var H=U[N],Y=z("div",[H.node],"CodeMirror-linewidget"+(H.className?" "+H.className:""));H.handleMouseEvents||Y.setAttribute("cm-ignore-events","true"),pa(H,Y,v,g),u.display.input.setUneditable(Y),E&&H.above?A.insertBefore(Y,v.gutter||v.text):A.appendChild(Y),Fi(H,"redraw")}}function pa(u,f,v,g){if(u.noHScroll){(v.alignable||(v.alignable=[])).push(f);var E=g.wrapperWidth;f.style.left=g.fixedPos+"px",u.coverGutter||(E-=g.gutterTotalWidth,f.style.paddingLeft=g.gutterTotalWidth+"px"),f.style.width=E+"px"}u.coverGutter&&(f.style.zIndex=5,f.style.position="relative",u.noHScroll||(f.style.marginLeft=-g.gutterTotalWidth+"px"))}function zr(u){if(u.height!=null)return u.height;var f=u.doc.cm;if(!f)return 0;if(!ge(document.body,u.node)){var v="position: relative;";u.coverGutter&&(v+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),u.noHScroll&&(v+="width: "+f.display.wrapper.clientWidth+"px;"),j(f.display.measure,z("div",[u.node],null,v))}return u.height=u.node.parentNode.offsetHeight}function Pa(u,f){for(var v=Sn(f);v!=u.wrapper;v=v.parentNode)if(!v||v.nodeType==1&&v.getAttribute("cm-ignore-events")=="true"||v.parentNode==u.sizer&&v!=u.mover)return!0}function Al(u){return u.lineSpace.offsetTop}function _c(u){return u.mover.offsetHeight-u.lineSpace.offsetHeight}function er(u){if(u.cachedPaddingH)return u.cachedPaddingH;var f=j(u.measure,z("pre","x","CodeMirror-line-like")),v=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,g={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight)};return!isNaN(g.left)&&!isNaN(g.right)&&(u.cachedPaddingH=g),g}function ma(u){return fe-u.display.nativeBarWidth}function Ns(u){return u.display.scroller.clientWidth-ma(u)-u.display.barWidth}function Vn(u){return u.display.scroller.clientHeight-ma(u)-u.display.barHeight}function ah(u,f,v){var g=u.options.lineWrapping,E=g&&Ns(u);if(!f.measure.heights||g&&f.measure.width!=E){var A=f.measure.heights=[];if(g){f.measure.width=E;for(var N=f.text.firstChild.getClientRects(),U=0;U<N.length-1;U++){var H=N[U],Y=N[U+1];Math.abs(H.bottom-Y.bottom)>2&&A.push((H.bottom+Y.top)/2-v.top)}}A.push(v.bottom-v.top)}}function gu(u,f,v){if(u.line==f)return{map:u.measure.map,cache:u.measure.cache};if(u.rest){for(var g=0;g<u.rest.length;g++)if(u.rest[g]==f)return{map:u.measure.maps[g],cache:u.measure.caches[g]};for(var E=0;E<u.rest.length;E++)if(Ne(u.rest[E])>v)return{map:u.measure.maps[E],cache:u.measure.caches[E],before:!0}}}function sh(u,f){f=Qn(f);var v=Ne(f),g=u.display.externalMeasured=new ts(u.doc,f,v);g.lineN=v;var E=g.built=fu(u,g);return g.text=E.pre,j(u.display.lineMeasure,E.pre),g}function vu(u,f,v,g){return yr(u,Oa(u,f),v,g)}function wc(u,f){if(f>=u.display.viewFrom&&f<u.display.viewTo)return u.display.view[G(u,f)];var v=u.display.externalMeasured;if(v&&f>=v.lineN&&f<v.lineN+v.size)return v}function Oa(u,f){var v=Ne(f),g=wc(u,v);g&&!g.text?g=null:g&&g.changes&&(Ho(u,g,v,l(u)),u.curOp.forceUpdate=!0),g||(g=sh(u,f));var E=gu(g,f,v);return{line:f,view:g,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function yr(u,f,v,g,E){f.before&&(v=-1);var A=v+(g||""),N;return f.cache.hasOwnProperty(A)?N=f.cache[A]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(ah(u,f.view,f.rect),f.hasHeights=!0),N=oh(u,f,v,g),N.bogus||(f.cache[A]=N)),{left:N.left,right:N.right,top:E?N.rtop:N.top,bottom:E?N.rbottom:N.bottom}}var bu={left:0,right:0,top:0,bottom:0};function _u(u,f,v){for(var g,E,A,N,U,H,Y=0;Y<u.length;Y+=3)if(U=u[Y],H=u[Y+1],f<U?(E=0,A=1,N="left"):f<H?(E=f-U,A=E+1):(Y==u.length-3||f==H&&u[Y+3]>f)&&(A=H-U,E=A-1,f>=H&&(N="right")),E!=null){if(g=u[Y+2],U==H&&v==(g.insertLeft?"left":"right")&&(N=v),v=="left"&&E==0)for(;Y&&u[Y-2]==u[Y-3]&&u[Y-1].insertLeft;)g=u[(Y-=3)+2],N="left";if(v=="right"&&E==H-U)for(;Y<u.length-3&&u[Y+3]==u[Y+4]&&!u[Y+5].insertLeft;)g=u[(Y+=3)+2],N="right";break}return{node:g,start:E,end:A,collapse:N,coverStart:U,coverEnd:H}}function Hi(u,f){var v=bu;if(f=="left")for(var g=0;g<u.length&&(v=u[g]).left==v.right;g++);else for(var E=u.length-1;E>=0&&(v=u[E]).left==v.right;E--);return v}function oh(u,f,v,g){var E=_u(f.map,v,g),A=E.node,N=E.start,U=E.end,H=E.collapse,Y;if(A.nodeType==3){for(var te=0;te<4;te++){for(;N&&st(f.line.text.charAt(E.coverStart+N));)--N;for(;E.coverStart+U<E.coverEnd&&st(f.line.text.charAt(E.coverStart+U));)++U;if(c&&d<9&&N==0&&U==E.coverEnd-E.coverStart?Y=A.parentNode.getBoundingClientRect():Y=Hi(ce(A,N,U).getClientRects(),g),Y.left||Y.right||N==0)break;U=N,N=N-1,H="right"}c&&d<11&&(Y=ae(u.display.measure,Y))}else{N>0&&(H=g="right");var oe;u.options.lineWrapping&&(oe=A.getClientRects()).length>1?Y=oe[g=="right"?oe.length-1:0]:Y=A.getBoundingClientRect()}if(c&&d<9&&!N&&(!Y||!Y.left&&!Y.right)){var me=A.parentNode.getClientRects()[0];me?Y={left:me.left,right:me.left+Me(u.display),top:me.top,bottom:me.bottom}:Y=bu}for(var pe=Y.top-f.rect.top,Ce=Y.bottom-f.rect.top,xe=(pe+Ce)/2,Be=f.view.measure.heights,Ye=0;Ye<Be.length-1&&!(xe<Be[Ye]);Ye++);var Je=Ye?Be[Ye-1]:0,qe=Be[Ye],rt={left:(H=="right"?Y.right:Y.left)-f.rect.left,right:(H=="left"?Y.left:Y.right)-f.rect.left,top:Je,bottom:qe};return!Y.left&&!Y.right&&(rt.bogus=!0),u.options.singleCursorHeightPerLine||(rt.rtop=pe,rt.rbottom=Ce),rt}function ae(u,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!jd(u))return f;var v=screen.logicalXDPI/screen.deviceXDPI,g=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*v,right:f.right*v,top:f.top*g,bottom:f.bottom*g}}function je(u){if(u.measure&&(u.measure.cache={},u.measure.heights=null,u.rest))for(var f=0;f<u.rest.length;f++)u.measure.caches[f]={}}function Ai(u){u.display.externalMeasure=null,W(u.display.lineMeasure);for(var f=0;f<u.display.view.length;f++)je(u.display.view[f])}function Vo(u){Ai(u),u.display.cachedCharWidth=u.display.cachedTextHeight=u.display.cachedPaddingH=null,u.options.lineWrapping||(u.display.maxLineChanged=!0),u.display.lineNumChars=null}function wu(){return y&&x?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Eu(){return y&&x?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ec(u){var f=Qn(u),v=f.widgets,g=0;if(v)for(var E=0;E<v.length;++E)v[E].above&&(g+=zr(v[E]));return g}function xl(u,f,v,g,E){if(!E){var A=Ec(f);v.top+=A,v.bottom+=A}if(g=="line")return v;g||(g="local");var N=Sr(f);if(g=="local"?N+=Al(u.display):N-=u.display.viewOffset,g=="page"||g=="window"){var U=u.display.lineSpace.getBoundingClientRect();N+=U.top+(g=="window"?0:Eu());var H=U.left+(g=="window"?0:wu());v.left+=H,v.right+=H}return v.top+=N,v.bottom+=N,v}function Tu(u,f,v){if(v=="div")return f;var g=f.left,E=f.top;if(v=="page")g-=wu(),E-=Eu();else if(v=="local"||!v){var A=u.display.sizer.getBoundingClientRect();g+=A.left,E+=A.top}var N=u.display.lineSpace.getBoundingClientRect();return{left:g-N.left,top:E-N.top}}function Dl(u,f,v,g,E){return g||(g=ot(u.doc,f.line)),xl(u,g,vu(u,g,f.ch,E),v)}function Xr(u,f,v,g,E,A){g=g||ot(u.doc,f.line),E||(E=Oa(u,g));function N(Ce,xe){var Be=yr(u,E,Ce,xe?"right":"left",A);return xe?Be.left=Be.right:Be.right=Be.left,xl(u,g,Be,v)}var U=Rt(g,u.doc.direction),H=f.ch,Y=f.sticky;if(H>=g.text.length?(H=g.text.length,Y="before"):H<=0&&(H=0,Y="after"),!U)return N(Y=="before"?H-1:H,Y=="before");function te(Ce,xe,Be){var Ye=U[xe],Je=Ye.level==1;return N(Be?Ce-1:Ce,Je!=Be)}var oe=di(U,H,Y),me=Ei,pe=te(H,oe,Y=="before");return me!=null&&(pe.other=te(H,me,Y!="before")),pe}function Cu(u,f){var v=0;f=vt(u.doc,f),u.options.lineWrapping||(v=Me(u.display)*f.ch);var g=ot(u.doc,f.line),E=Sr(g)+Al(u.display);return{left:v,right:v,top:E,bottom:E+g.height}}function Tc(u,f,v,g,E){var A=Ie(u,f,v);return A.xRel=E,g&&(A.outside=g),A}function Cc(u,f,v){var g=u.doc;if(v+=u.display.viewOffset,v<0)return Tc(g.first,0,null,-1,-1);var E=aa(g,v),A=g.first+g.size-1;if(E>A)return Tc(g.first+g.size-1,ot(g,A).text.length,null,1,1);f<0&&(f=0);for(var N=ot(g,E);;){var U=lh(u,N,E,f,v),H=eh(N,U.ch+(U.xRel>0||U.outside>0?1:0));if(!H)return U;var Y=H.find(1);if(Y.line==E)return Y;N=ot(g,E=Y.line)}}function ku(u,f,v,g){g-=Ec(f);var E=f.text.length,A=mi(function(N){return yr(u,v,N-1).bottom<=g},E,0);return E=mi(function(N){return yr(u,v,N).top>g},A,E),{begin:A,end:E}}function Su(u,f,v,g){v||(v=Oa(u,f));var E=xl(u,f,yr(u,v,g),"line").top;return ku(u,f,v,E)}function kc(u,f,v,g){return u.bottom<=v?!1:u.top>v?!0:(g?u.left:u.right)>f}function lh(u,f,v,g,E){E-=Sr(f);var A=Oa(u,f),N=Ec(f),U=0,H=f.text.length,Y=!0,te=Rt(f,u.doc.direction);if(te){var oe=(u.options.lineWrapping?Vi:ch)(u,f,v,A,te,g,E);Y=oe.level!=1,U=Y?oe.from:oe.to-1,H=Y?oe.to:oe.from-1}var me=null,pe=null,Ce=mi(function(gt){var pt=yr(u,A,gt);return pt.top+=N,pt.bottom+=N,kc(pt,g,E,!1)?(pt.top<=E&&pt.left<=g&&(me=gt,pe=pt),!0):!1},U,H),xe,Be,Ye=!1;if(pe){var Je=g-pe.left<pe.right-g,qe=Je==Y;Ce=me+(qe?0:1),Be=qe?"after":"before",xe=Je?pe.left:pe.right}else{!Y&&(Ce==H||Ce==U)&&Ce++,Be=Ce==0?"after":Ce==f.text.length?"before":yr(u,A,Ce-(Y?1:0)).bottom+N<=E==Y?"after":"before";var rt=Xr(u,Ie(v,Ce,Be),"line",f,A);xe=rt.left,Ye=E<rt.top?-1:E>=rt.bottom?1:0}return Ce=_i(f.text,Ce,1),Tc(v,Ce,Be,Ye,g-xe)}function ch(u,f,v,g,E,A,N){var U=mi(function(oe){var me=E[oe],pe=me.level!=1;return kc(Xr(u,Ie(v,pe?me.to:me.from,pe?"before":"after"),"line",f,g),A,N,!0)},0,E.length-1),H=E[U];if(U>0){var Y=H.level!=1,te=Xr(u,Ie(v,Y?H.from:H.to,Y?"after":"before"),"line",f,g);kc(te,A,N,!0)&&te.top>N&&(H=E[U-1])}return H}function Vi(u,f,v,g,E,A,N){var U=ku(u,f,g,N),H=U.begin,Y=U.end;/\s/.test(f.text.charAt(Y-1))&&Y--;for(var te=null,oe=null,me=0;me<E.length;me++){var pe=E[me];if(!(pe.from>=Y||pe.to<=H)){var Ce=pe.level!=1,xe=yr(u,g,Ce?Math.min(Y,pe.to)-1:Math.max(H,pe.from)).right,Be=xe<A?A-xe+1e9:xe-A;(!te||oe>Be)&&(te=pe,oe=Be)}}return te||(te=E[E.length-1]),te.from<H&&(te={from:H,to:te.to,level:te.level}),te.to>Y&&(te={from:te.from,to:Y,level:te.level}),te}var Zt;function Dr(u){if(u.cachedTextHeight!=null)return u.cachedTextHeight;if(Zt==null){Zt=z("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)Zt.appendChild(document.createTextNode("x")),Zt.appendChild(z("br"));Zt.appendChild(document.createTextNode("x"))}j(u.measure,Zt);var v=Zt.offsetHeight/50;return v>3&&(u.cachedTextHeight=v),W(u.measure),v||1}function Me(u){if(u.cachedCharWidth!=null)return u.cachedCharWidth;var f=z("span","xxxxxxxxxx"),v=z("pre",[f],"CodeMirror-line-like");j(u.measure,v);var g=f.getBoundingClientRect(),E=(g.right-g.left)/10;return E>2&&(u.cachedCharWidth=E),E||10}function l(u){for(var f=u.display,v={},g={},E=f.gutters.clientLeft,A=f.gutters.firstChild,N=0;A;A=A.nextSibling,++N){var U=u.display.gutterSpecs[N].className;v[U]=A.offsetLeft+A.clientLeft+E,g[U]=A.clientWidth}return{fixedPos:h(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:v,gutterWidth:g,wrapperWidth:f.wrapper.clientWidth}}function h(u){return u.scroller.getBoundingClientRect().left-u.sizer.getBoundingClientRect().left}function b(u){var f=Dr(u.display),v=u.options.lineWrapping,g=v&&Math.max(5,u.display.scroller.clientWidth/Me(u.display)-3);return function(E){if(qr(u.doc,E))return 0;var A=0;if(E.widgets)for(var N=0;N<E.widgets.length;N++)E.widgets[N].height&&(A+=E.widgets[N].height);return v?A+(Math.ceil(E.text.length/g)||1)*f:A+f}}function T(u){var f=u.doc,v=b(u);f.iter(function(g){var E=v(g);E!=g.height&&hr(g,E)})}function M(u,f,v,g){var E=u.display;if(!v&&Sn(f).getAttribute("cm-not-content")=="true")return null;var A,N,U=E.lineSpace.getBoundingClientRect();try{A=f.clientX-U.left,N=f.clientY-U.top}catch{return null}var H=Cc(u,A,N),Y;if(g&&H.xRel>0&&(Y=ot(u.doc,H.line).text).length==H.ch){var te=ie(Y,Y.length,u.options.tabSize)-Y.length;H=Ie(H.line,Math.max(0,Math.round((A-er(u.display).left)/Me(u.display))-te))}return H}function G(u,f){if(f>=u.display.viewTo||(f-=u.display.viewFrom,f<0))return null;for(var v=u.display.view,g=0;g<v.length;g++)if(f-=v[g].size,f<0)return g}function ee(u,f,v,g){f==null&&(f=u.doc.first),v==null&&(v=u.doc.first+u.doc.size),g||(g=0);var E=u.display;if(g&&v<E.viewTo&&(E.updateLineNumbers==null||E.updateLineNumbers>f)&&(E.updateLineNumbers=f),u.curOp.viewChanged=!0,f>=E.viewTo)gn&&Ma(u.doc,f)<E.viewTo&&Oe(u);else if(v<=E.viewFrom)gn&&xn(u.doc,v+g)>E.viewFrom?Oe(u):(E.viewFrom+=g,E.viewTo+=g);else if(f<=E.viewFrom&&v>=E.viewTo)Oe(u);else if(f<=E.viewFrom){var A=Tt(u,v,v+g,1);A?(E.view=E.view.slice(A.index),E.viewFrom=A.lineN,E.viewTo+=g):Oe(u)}else if(v>=E.viewTo){var N=Tt(u,f,f,-1);N?(E.view=E.view.slice(0,N.index),E.viewTo=N.lineN):Oe(u)}else{var U=Tt(u,f,f,-1),H=Tt(u,v,v+g,1);U&&H?(E.view=E.view.slice(0,U.index).concat(fr(u,U.lineN,H.lineN)).concat(E.view.slice(H.index)),E.viewTo+=g):Oe(u)}var Y=E.externalMeasured;Y&&(v<Y.lineN?Y.lineN+=g:f<Y.lineN+Y.size&&(E.externalMeasured=null))}function we(u,f,v){u.curOp.viewChanged=!0;var g=u.display,E=u.display.externalMeasured;if(E&&f>=E.lineN&&f<E.lineN+E.size&&(g.externalMeasured=null),!(f<g.viewFrom||f>=g.viewTo)){var A=g.view[G(u,f)];if(A.node!=null){var N=A.changes||(A.changes=[]);Q(N,v)==-1&&N.push(v)}}}function Oe(u){u.display.viewFrom=u.display.viewTo=u.doc.first,u.display.view=[],u.display.viewOffset=0}function Tt(u,f,v,g){var E=G(u,f),A,N=u.display.view;if(!gn||v==u.doc.first+u.doc.size)return{index:E,lineN:v};for(var U=u.display.viewFrom,H=0;H<E;H++)U+=N[H].size;if(U!=f){if(g>0){if(E==N.length-1)return null;A=U+N[E].size-f,E++}else A=U-f;f+=A,v+=A}for(;Ma(u.doc,v)!=v;){if(E==(g<0?0:N.length-1))return null;v+=g*N[E-(g<0?1:0)].size,E+=g}return{index:E,lineN:v}}function Qt(u,f,v){var g=u.display,E=g.view;E.length==0||f>=g.viewTo||v<=g.viewFrom?(g.view=fr(u,f,v),g.viewFrom=f):(g.viewFrom>f?g.view=fr(u,f,g.viewFrom).concat(g.view):g.viewFrom<f&&(g.view=g.view.slice(G(u,f))),g.viewFrom=f,g.viewTo<v?g.view=g.view.concat(fr(u,g.viewTo,v)):g.viewTo>v&&(g.view=g.view.slice(0,G(u,v)))),g.viewTo=v}function tr(u){for(var f=u.display.view,v=0,g=0;g<f.length;g++){var E=f[g];!E.hidden&&(!E.node||E.changes)&&++v}return v}function Dn(u){u.display.input.showSelection(u.display.input.prepareSelection())}function Au(u,f){f===void 0&&(f=!0);var v=u.doc,g={},E=g.cursors=document.createDocumentFragment(),A=g.selection=document.createDocumentFragment(),N=u.options.$customCursor;N&&(f=!0);for(var U=0;U<v.sel.ranges.length;U++)if(!(!f&&U==v.sel.primIndex)){var H=v.sel.ranges[U];if(!(H.from().line>=u.display.viewTo||H.to().line<u.display.viewFrom)){var Y=H.empty();if(N){var te=N(u,H);te&&po(u,te,E)}else(Y||u.options.showCursorWhenSelecting)&&po(u,H.head,E);Y||Gs(u,H,A)}}return g}function po(u,f,v){var g=Xr(u,f,"div",null,null,!u.options.singleCursorHeightPerLine),E=v.appendChild(z("div"," ","CodeMirror-cursor"));if(E.style.left=g.left+"px",E.style.top=g.top+"px",E.style.height=Math.max(0,g.bottom-g.top)*u.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(u.getWrapperElement().className)){var A=Dl(u,f,"div",null,null),N=A.right-A.left;E.style.width=(N>0?N:u.defaultCharWidth())+"px"}if(g.other){var U=v.appendChild(z("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));U.style.display="",U.style.left=g.other.left+"px",U.style.top=g.other.top+"px",U.style.height=(g.other.bottom-g.other.top)*.85+"px"}}function Il(u,f){return u.top-f.top||u.left-f.left}function Gs(u,f,v){var g=u.display,E=u.doc,A=document.createDocumentFragment(),N=er(u.display),U=N.left,H=Math.max(g.sizerWidth,Ns(u)-g.sizer.offsetLeft)-N.right,Y=E.direction=="ltr";function te(qe,rt,gt,pt){rt<0&&(rt=0),rt=Math.round(rt),pt=Math.round(pt),A.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+qe+`px;
                             top: `+rt+"px; width: "+(gt??H-qe)+`px;
                             height: `+(pt-rt)+"px"))}function oe(qe,rt,gt){var pt=ot(E,qe),Vt=pt.text.length,Yi,br;function vn(Yn,Ua){return Dl(u,Ie(qe,Yn),"div",pt,Ua)}function rs(Yn,Ua,Ir){var ir=Su(u,pt,null,Yn),qn=Ua=="ltr"==(Ir=="after")?"left":"right",In=Ir=="after"?ir.begin:ir.end-(/\s/.test(pt.text.charAt(ir.end-1))?2:1);return vn(In,qn)[qn]}var Ga=Rt(pt,E.direction);return wi(Ga,rt||0,gt??Vt,function(Yn,Ua,Ir,ir){var qn=Ir=="ltr",In=vn(Yn,qn?"left":"right"),La=vn(Ua-1,qn?"right":"left"),lp=rt==null&&Yn==0,Pu=gt==null&&Ua==Vt,Zr=ir==0,Rl=!Ga||ir==Ga.length-1;if(La.top-In.top<=3){var _r=(Y?lp:Pu)&&Zr,iT=(Y?Pu:lp)&&Rl,xc=_r?U:(qn?In:La).left,ph=iT?H:(qn?La:In).right;te(xc,In.top,ph-xc,In.bottom)}else{var mh,ga,cp,nT;qn?(mh=Y&&lp&&Zr?U:In.left,ga=Y?H:rs(Yn,Ir,"before"),cp=Y?U:rs(Ua,Ir,"after"),nT=Y&&Pu&&Rl?H:La.right):(mh=Y?rs(Yn,Ir,"before"):U,ga=!Y&&lp&&Zr?H:In.right,cp=!Y&&Pu&&Rl?U:La.left,nT=Y?rs(Ua,Ir,"after"):H),te(mh,In.top,ga-mh,In.bottom),In.bottom<La.top&&te(U,In.bottom,null,La.top),te(cp,La.top,nT-cp,La.bottom)}(!Yi||Il(In,Yi)<0)&&(Yi=In),Il(La,Yi)<0&&(Yi=La),(!br||Il(In,br)<0)&&(br=In),Il(La,br)<0&&(br=La)}),{start:Yi,end:br}}var me=f.from(),pe=f.to();if(me.line==pe.line)oe(me.line,me.ch,pe.ch);else{var Ce=ot(E,me.line),xe=ot(E,pe.line),Be=Qn(Ce)==Qn(xe),Ye=oe(me.line,me.ch,Be?Ce.text.length+1:null).end,Je=oe(pe.line,Be?0:null,pe.ch).start;Be&&(Ye.top<Je.top-2?(te(Ye.right,Ye.top,null,Ye.bottom),te(U,Je.top,Je.left,Je.bottom)):te(Ye.right,Ye.top,Je.left-Ye.right,Ye.bottom)),Ye.bottom<Je.top&&te(U,Ye.bottom,null,Je.top)}v.appendChild(A)}function RE(u){if(u.state.focused){var f=u.display;clearInterval(f.blinker);var v=!0;f.cursorDiv.style.visibility="",u.options.cursorBlinkRate>0?f.blinker=setInterval(function(){u.hasFocus()||Kf(u),f.cursorDiv.style.visibility=(v=!v)?"":"hidden"},u.options.cursorBlinkRate):u.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function Hx(u){u.hasFocus()||(u.display.input.focus(),u.state.focused||PE(u))}function ME(u){u.state.delayingBlurEvent=!0,setTimeout(function(){u.state.delayingBlurEvent&&(u.state.delayingBlurEvent=!1,u.state.focused&&Kf(u))},100)}function PE(u,f){u.state.delayingBlurEvent&&!u.state.draggingText&&(u.state.delayingBlurEvent=!1),u.options.readOnly!="nocursor"&&(u.state.focused||(Ot(u,"focus",u,f),u.state.focused=!0,ue(u.display.wrapper,"CodeMirror-focused"),!u.curOp&&u.display.selForContextMenu!=u.doc.sel&&(u.display.input.reset(),p&&setTimeout(function(){return u.display.input.reset(!0)},20)),u.display.input.receivedFocus()),RE(u))}function Kf(u,f){u.state.delayingBlurEvent||(u.state.focused&&(Ot(u,"blur",u,f),u.state.focused=!1,L(u.display.wrapper,"CodeMirror-focused")),clearInterval(u.display.blinker),setTimeout(function(){u.state.focused||(u.display.shift=!1)},150))}function Cb(u){for(var f=u.display,v=f.lineDiv.offsetTop,g=Math.max(0,f.scroller.getBoundingClientRect().top),E=f.lineDiv.getBoundingClientRect().top,A=0,N=0;N<f.view.length;N++){var U=f.view[N],H=u.options.lineWrapping,Y=void 0,te=0;if(!U.hidden){if(E+=U.line.height,c&&d<8){var oe=U.node.offsetTop+U.node.offsetHeight;Y=oe-v,v=oe}else{var me=U.node.getBoundingClientRect();Y=me.bottom-me.top,!H&&U.text.firstChild&&(te=U.text.firstChild.getBoundingClientRect().right-me.left-1)}var pe=U.line.height-Y;if((pe>.005||pe<-.005)&&(E<g&&(A-=pe),hr(U.line,Y),Vx(U.line),U.rest))for(var Ce=0;Ce<U.rest.length;Ce++)Vx(U.rest[Ce]);if(te>u.display.sizerWidth){var xe=Math.ceil(te/Me(u.display));xe>u.display.maxLineLength&&(u.display.maxLineLength=xe,u.display.maxLine=U.line,u.display.maxLineChanged=!0)}}}Math.abs(A)>2&&(f.scroller.scrollTop+=A)}function Vx(u){if(u.widgets)for(var f=0;f<u.widgets.length;++f){var v=u.widgets[f],g=v.node.parentNode;g&&(v.height=g.offsetHeight)}}function kb(u,f,v){var g=v&&v.top!=null?Math.max(0,v.top):u.scroller.scrollTop;g=Math.floor(g-Al(u));var E=v&&v.bottom!=null?v.bottom:g+u.wrapper.clientHeight,A=aa(f,g),N=aa(f,E);if(v&&v.ensure){var U=v.ensure.from.line,H=v.ensure.to.line;U<A?(A=U,N=aa(f,Sr(ot(f,U))+u.wrapper.clientHeight)):Math.min(H,f.lastLine())>=N&&(A=aa(f,Sr(ot(f,H))-u.wrapper.clientHeight),N=H)}return{from:A,to:Math.max(N,A+1)}}function z4(u,f){if(!ye(u,"scrollCursorIntoView")){var v=u.display,g=v.sizer.getBoundingClientRect(),E=null;if(f.top+g.top<0?E=!0:f.bottom+g.top>(window.innerHeight||document.documentElement.clientHeight)&&(E=!1),E!=null&&!k){var A=z("div","​",null,`position: absolute;
                         top: `+(f.top-v.viewOffset-Al(u.display))+`px;
                         height: `+(f.bottom-f.top+ma(u)+v.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");u.display.lineSpace.appendChild(A),A.scrollIntoView(E),u.display.lineSpace.removeChild(A)}}}function X4(u,f,v,g){g==null&&(g=0);var E;!u.options.lineWrapping&&f==v&&(v=f.sticky=="before"?Ie(f.line,f.ch+1,"before"):f,f=f.ch?Ie(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var A=0;A<5;A++){var N=!1,U=Xr(u,f),H=!v||v==f?U:Xr(u,v);E={left:Math.min(U.left,H.left),top:Math.min(U.top,H.top)-g,right:Math.max(U.left,H.left),bottom:Math.max(U.bottom,H.bottom)+g};var Y=OE(u,E),te=u.doc.scrollTop,oe=u.doc.scrollLeft;if(Y.scrollTop!=null&&(ly(u,Y.scrollTop),Math.abs(u.doc.scrollTop-te)>1&&(N=!0)),Y.scrollLeft!=null&&(uh(u,Y.scrollLeft),Math.abs(u.doc.scrollLeft-oe)>1&&(N=!0)),!N)break}return E}function K4(u,f){var v=OE(u,f);v.scrollTop!=null&&ly(u,v.scrollTop),v.scrollLeft!=null&&uh(u,v.scrollLeft)}function OE(u,f){var v=u.display,g=Dr(u.display);f.top<0&&(f.top=0);var E=u.curOp&&u.curOp.scrollTop!=null?u.curOp.scrollTop:v.scroller.scrollTop,A=Vn(u),N={};f.bottom-f.top>A&&(f.bottom=f.top+A);var U=u.doc.height+_c(v),H=f.top<g,Y=f.bottom>U-g;if(f.top<E)N.scrollTop=H?0:f.top;else if(f.bottom>E+A){var te=Math.min(f.top,(Y?U:f.bottom)-A);te!=E&&(N.scrollTop=te)}var oe=u.options.fixedGutter?0:v.gutters.offsetWidth,me=u.curOp&&u.curOp.scrollLeft!=null?u.curOp.scrollLeft:v.scroller.scrollLeft-oe,pe=Ns(u)-v.gutters.offsetWidth,Ce=f.right-f.left>pe;return Ce&&(f.right=f.left+pe),f.left<10?N.scrollLeft=0:f.left<me?N.scrollLeft=Math.max(0,f.left+oe-(Ce?0:10)):f.right>pe+me-3&&(N.scrollLeft=f.right+(Ce?0:10)-pe),N}function NE(u,f){f!=null&&(Sb(u),u.curOp.scrollTop=(u.curOp.scrollTop==null?u.doc.scrollTop:u.curOp.scrollTop)+f)}function Zf(u){Sb(u);var f=u.getCursor();u.curOp.scrollToPos={from:f,to:f,margin:u.options.cursorScrollMargin}}function oy(u,f,v){(f!=null||v!=null)&&Sb(u),f!=null&&(u.curOp.scrollLeft=f),v!=null&&(u.curOp.scrollTop=v)}function Z4(u,f){Sb(u),u.curOp.scrollToPos=f}function Sb(u){var f=u.curOp.scrollToPos;if(f){u.curOp.scrollToPos=null;var v=Cu(u,f.from),g=Cu(u,f.to);Yx(u,v,g,f.margin)}}function Yx(u,f,v,g){var E=OE(u,{left:Math.min(f.left,v.left),top:Math.min(f.top,v.top)-g,right:Math.max(f.right,v.right),bottom:Math.max(f.bottom,v.bottom)+g});oy(u,E.scrollLeft,E.scrollTop)}function ly(u,f){Math.abs(u.doc.scrollTop-f)<2||(r||UE(u,{top:f}),qx(u,f,!0),r&&UE(u),dy(u,100))}function qx(u,f,v){f=Math.max(0,Math.min(u.display.scroller.scrollHeight-u.display.scroller.clientHeight,f)),!(u.display.scroller.scrollTop==f&&!v)&&(u.doc.scrollTop=f,u.display.scrollbars.setScrollTop(f),u.display.scroller.scrollTop!=f&&(u.display.scroller.scrollTop=f))}function uh(u,f,v,g){f=Math.max(0,Math.min(f,u.display.scroller.scrollWidth-u.display.scroller.clientWidth)),!((v?f==u.doc.scrollLeft:Math.abs(u.doc.scrollLeft-f)<2)&&!g)&&(u.doc.scrollLeft=f,Kx(u),u.display.scroller.scrollLeft!=f&&(u.display.scroller.scrollLeft=f),u.display.scrollbars.setScrollLeft(f))}function cy(u){var f=u.display,v=f.gutters.offsetWidth,g=Math.round(u.doc.height+_c(u.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:u.options.fixedGutter?v:0,docHeight:g,scrollHeight:g+ma(u)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:v}}var dh=function(u,f,v){this.cm=v;var g=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");g.tabIndex=E.tabIndex=-1,u(g),u(E),Xe(g,"scroll",function(){g.clientHeight&&f(g.scrollTop,"vertical")}),Xe(E,"scroll",function(){E.clientWidth&&f(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};dh.prototype.update=function(u){var f=u.scrollWidth>u.clientWidth+1,v=u.scrollHeight>u.clientHeight+1,g=u.nativeBarWidth;if(v){this.vert.style.display="block",this.vert.style.bottom=f?g+"px":"0";var E=u.viewHeight-(f?g:0);this.vert.firstChild.style.height=Math.max(0,u.scrollHeight-u.clientHeight+E)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=v?g+"px":"0",this.horiz.style.left=u.barLeft+"px";var A=u.viewWidth-u.barLeft-(v?g:0);this.horiz.firstChild.style.width=Math.max(0,u.scrollWidth-u.clientWidth+A)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&u.clientHeight>0&&(g==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:v?g:0,bottom:f?g:0}},dh.prototype.setScrollLeft=function(u){this.horiz.scrollLeft!=u&&(this.horiz.scrollLeft=u),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},dh.prototype.setScrollTop=function(u){this.vert.scrollTop!=u&&(this.vert.scrollTop=u),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},dh.prototype.zeroWidthHack=function(){var u=D&&!C?"12px":"18px";this.horiz.style.height=this.vert.style.width=u,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new le,this.disableVert=new le},dh.prototype.enableZeroWidthBar=function(u,f,v){u.style.pointerEvents="auto";function g(){var E=u.getBoundingClientRect(),A=v=="vert"?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1);A!=u?u.style.pointerEvents="none":f.set(1e3,g)}f.set(1e3,g)},dh.prototype.clear=function(){var u=this.horiz.parentNode;u.removeChild(this.horiz),u.removeChild(this.vert)};var uy=function(){};uy.prototype.update=function(){return{bottom:0,right:0}},uy.prototype.setScrollLeft=function(){},uy.prototype.setScrollTop=function(){},uy.prototype.clear=function(){};function Qf(u,f){f||(f=cy(u));var v=u.display.barWidth,g=u.display.barHeight;Wx(u,f);for(var E=0;E<4&&v!=u.display.barWidth||g!=u.display.barHeight;E++)v!=u.display.barWidth&&u.options.lineWrapping&&Cb(u),Wx(u,cy(u)),v=u.display.barWidth,g=u.display.barHeight}function Wx(u,f){var v=u.display,g=v.scrollbars.update(f);v.sizer.style.paddingRight=(v.barWidth=g.right)+"px",v.sizer.style.paddingBottom=(v.barHeight=g.bottom)+"px",v.heightForcer.style.borderBottom=g.bottom+"px solid transparent",g.right&&g.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=g.bottom+"px",v.scrollbarFiller.style.width=g.right+"px"):v.scrollbarFiller.style.display="",g.bottom&&u.options.coverGutterNextToScrollbar&&u.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=g.bottom+"px",v.gutterFiller.style.width=f.gutterWidth+"px"):v.gutterFiller.style.display=""}var jx={native:dh,null:uy};function zx(u){u.display.scrollbars&&(u.display.scrollbars.clear(),u.display.scrollbars.addClass&&L(u.display.wrapper,u.display.scrollbars.addClass)),u.display.scrollbars=new jx[u.options.scrollbarStyle](function(f){u.display.wrapper.insertBefore(f,u.display.scrollbarFiller),Xe(f,"mousedown",function(){u.state.focused&&setTimeout(function(){return u.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,v){v=="horizontal"?uh(u,f):ly(u,f)},u),u.display.scrollbars.addClass&&ue(u.display.wrapper,u.display.scrollbars.addClass)}var Q4=0;function hh(u){u.curOp={cm:u,viewChanged:!1,startHeight:u.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Q4,markArrays:null},kl(u.curOp)}function fh(u){var f=u.curOp;f&&pr(f,function(v){for(var g=0;g<v.ops.length;g++)v.ops[g].cm.curOp=null;J4(v)})}function J4(u){for(var f=u.ops,v=0;v<f.length;v++)eH(f[v]);for(var g=0;g<f.length;g++)tH(f[g]);for(var E=0;E<f.length;E++)iH(f[E]);for(var A=0;A<f.length;A++)nH(f[A]);for(var N=0;N<f.length;N++)rH(f[N])}function eH(u){var f=u.cm,v=f.display;sH(f),u.updateMaxLine&&Ar(f),u.mustUpdate=u.viewChanged||u.forceUpdate||u.scrollTop!=null||u.scrollToPos&&(u.scrollToPos.from.line<v.viewFrom||u.scrollToPos.to.line>=v.viewTo)||v.maxLineChanged&&f.options.lineWrapping,u.update=u.mustUpdate&&new Ab(f,u.mustUpdate&&{top:u.scrollTop,ensure:u.scrollToPos},u.forceUpdate)}function tH(u){u.updatedDisplay=u.mustUpdate&&GE(u.cm,u.update)}function iH(u){var f=u.cm,v=f.display;u.updatedDisplay&&Cb(f),u.barMeasure=cy(f),v.maxLineChanged&&!f.options.lineWrapping&&(u.adjustWidthTo=vu(f,v.maxLine,v.maxLine.text.length).left+3,f.display.sizerWidth=u.adjustWidthTo,u.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+u.adjustWidthTo+ma(f)+f.display.barWidth),u.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+u.adjustWidthTo-Ns(f))),(u.updatedDisplay||u.selectionChanged)&&(u.preparedSelection=v.input.prepareSelection())}function nH(u){var f=u.cm;u.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=u.adjustWidthTo+"px",u.maxScrollLeft<f.doc.scrollLeft&&uh(f,Math.min(f.display.scroller.scrollLeft,u.maxScrollLeft),!0),f.display.maxLineChanged=!1);var v=u.focus&&u.focus==be();u.preparedSelection&&f.display.input.showSelection(u.preparedSelection,v),(u.updatedDisplay||u.startHeight!=f.doc.height)&&Qf(f,u.barMeasure),u.updatedDisplay&&BE(f,u.barMeasure),u.selectionChanged&&RE(f),f.state.focused&&u.updateInput&&f.display.input.reset(u.typing),v&&Hx(u.cm)}function rH(u){var f=u.cm,v=f.display,g=f.doc;if(u.updatedDisplay&&Xx(f,u.update),v.wheelStartX!=null&&(u.scrollTop!=null||u.scrollLeft!=null||u.scrollToPos)&&(v.wheelStartX=v.wheelStartY=null),u.scrollTop!=null&&qx(f,u.scrollTop,u.forceScroll),u.scrollLeft!=null&&uh(f,u.scrollLeft,!0,!0),u.scrollToPos){var E=X4(f,vt(g,u.scrollToPos.from),vt(g,u.scrollToPos.to),u.scrollToPos.margin);z4(f,E)}var A=u.maybeHiddenMarkers,N=u.maybeUnhiddenMarkers;if(A)for(var U=0;U<A.length;++U)A[U].lines.length||Ot(A[U],"hide");if(N)for(var H=0;H<N.length;++H)N[H].lines.length&&Ot(N[H],"unhide");v.wrapper.offsetHeight&&(g.scrollTop=f.display.scroller.scrollTop),u.changeObjs&&Ot(f,"changes",f,u.changeObjs),u.update&&u.update.finish()}function ns(u,f){if(u.curOp)return f();hh(u);try{return f()}finally{fh(u)}}function gr(u,f){return function(){if(u.curOp)return f.apply(u,arguments);hh(u);try{return f.apply(u,arguments)}finally{fh(u)}}}function ya(u){return function(){if(this.curOp)return u.apply(this,arguments);hh(this);try{return u.apply(this,arguments)}finally{fh(this)}}}function vr(u){return function(){var f=this.cm;if(!f||f.curOp)return u.apply(this,arguments);hh(f);try{return u.apply(this,arguments)}finally{fh(f)}}}function dy(u,f){u.doc.highlightFrontier<u.display.viewTo&&u.state.highlight.set(f,K(aH,u))}function aH(u){var f=u.doc;if(!(f.highlightFrontier>=u.display.viewTo)){var v=+new Date+u.options.workTime,g=Hr(u,f.highlightFrontier),E=[];f.iter(g.line,Math.min(f.first+f.size,u.display.viewTo+500),function(A){if(g.line>=u.display.viewFrom){var N=A.styles,U=A.text.length>u.options.maxHighlightLength?dr(f.mode,g.state):null,H=Oo(u,A,g,!0);U&&(g.state=U),A.styles=H.styles;var Y=A.styleClasses,te=H.classes;te?A.styleClasses=te:Y&&(A.styleClasses=null);for(var oe=!N||N.length!=A.styles.length||Y!=te&&(!Y||!te||Y.bgClass!=te.bgClass||Y.textClass!=te.textClass),me=0;!oe&&me<N.length;++me)oe=N[me]!=A.styles[me];oe&&E.push(g.line),A.stateAfter=g.save(),g.nextLine()}else A.text.length<=u.options.maxHighlightLength&&ho(u,A.text,g),A.stateAfter=g.line%5==0?g.save():null,g.nextLine();if(+new Date>v)return dy(u,u.options.workDelay),!0}),f.highlightFrontier=g.line,f.modeFrontier=Math.max(f.modeFrontier,g.line),E.length&&ns(u,function(){for(var A=0;A<E.length;A++)we(u,E[A],"text")})}}var Ab=function(u,f,v){var g=u.display;this.viewport=f,this.visible=kb(g,u.doc,f),this.editorIsHidden=!g.wrapper.offsetWidth,this.wrapperHeight=g.wrapper.clientHeight,this.wrapperWidth=g.wrapper.clientWidth,this.oldDisplayWidth=Ns(u),this.force=v,this.dims=l(u),this.events=[]};Ab.prototype.signal=function(u,f){Le(u,f)&&this.events.push(arguments)},Ab.prototype.finish=function(){for(var u=0;u<this.events.length;u++)Ot.apply(null,this.events[u])};function sH(u){var f=u.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=ma(u)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=ma(u)+"px",f.scrollbarsClipped=!0)}function oH(u){if(u.hasFocus())return null;var f=be();if(!f||!ge(u.display.lineDiv,f))return null;var v={activeElt:f};if(window.getSelection){var g=window.getSelection();g.anchorNode&&g.extend&&ge(u.display.lineDiv,g.anchorNode)&&(v.anchorNode=g.anchorNode,v.anchorOffset=g.anchorOffset,v.focusNode=g.focusNode,v.focusOffset=g.focusOffset)}return v}function lH(u){if(!(!u||!u.activeElt||u.activeElt==be())&&(u.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(u.activeElt.nodeName)&&u.anchorNode&&ge(document.body,u.anchorNode)&&ge(document.body,u.focusNode))){var f=window.getSelection(),v=document.createRange();v.setEnd(u.anchorNode,u.anchorOffset),v.collapse(!1),f.removeAllRanges(),f.addRange(v),f.extend(u.focusNode,u.focusOffset)}}function GE(u,f){var v=u.display,g=u.doc;if(f.editorIsHidden)return Oe(u),!1;if(!f.force&&f.visible.from>=v.viewFrom&&f.visible.to<=v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&tr(u)==0)return!1;Zx(u)&&(Oe(u),f.dims=l(u));var E=g.first+g.size,A=Math.max(f.visible.from-u.options.viewportMargin,g.first),N=Math.min(E,f.visible.to+u.options.viewportMargin);v.viewFrom<A&&A-v.viewFrom<20&&(A=Math.max(g.first,v.viewFrom)),v.viewTo>N&&v.viewTo-N<20&&(N=Math.min(E,v.viewTo)),gn&&(A=Ma(u.doc,A),N=xn(u.doc,N));var U=A!=v.viewFrom||N!=v.viewTo||v.lastWrapHeight!=f.wrapperHeight||v.lastWrapWidth!=f.wrapperWidth;Qt(u,A,N),v.viewOffset=Sr(ot(u.doc,v.viewFrom)),u.display.mover.style.top=v.viewOffset+"px";var H=tr(u);if(!U&&H==0&&!f.force&&v.renderedView==v.view&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo))return!1;var Y=oH(u);return H>4&&(v.lineDiv.style.display="none"),cH(u,v.updateLineNumbers,f.dims),H>4&&(v.lineDiv.style.display=""),v.renderedView=v.view,lH(Y),W(v.cursorDiv),W(v.selectionDiv),v.gutters.style.height=v.sizer.style.minHeight=0,U&&(v.lastWrapHeight=f.wrapperHeight,v.lastWrapWidth=f.wrapperWidth,dy(u,400)),v.updateLineNumbers=null,!0}function Xx(u,f){for(var v=f.viewport,g=!0;;g=!1){if(!g||!u.options.lineWrapping||f.oldDisplayWidth==Ns(u)){if(v&&v.top!=null&&(v={top:Math.min(u.doc.height+_c(u.display)-Vn(u),v.top)}),f.visible=kb(u.display,u.doc,v),f.visible.from>=u.display.viewFrom&&f.visible.to<=u.display.viewTo)break}else g&&(f.visible=kb(u.display,u.doc,v));if(!GE(u,f))break;Cb(u);var E=cy(u);Dn(u),Qf(u,E),BE(u,E),f.force=!1}f.signal(u,"update",u),(u.display.viewFrom!=u.display.reportedViewFrom||u.display.viewTo!=u.display.reportedViewTo)&&(f.signal(u,"viewportChange",u,u.display.viewFrom,u.display.viewTo),u.display.reportedViewFrom=u.display.viewFrom,u.display.reportedViewTo=u.display.viewTo)}function UE(u,f){var v=new Ab(u,f);if(GE(u,v)){Cb(u),Xx(u,v);var g=cy(u);Dn(u),Qf(u,g),BE(u,g),v.finish()}}function cH(u,f,v){var g=u.display,E=u.options.lineNumbers,A=g.lineDiv,N=A.firstChild;function U(Ce){var xe=Ce.nextSibling;return p&&D&&u.display.currentWheelTarget==Ce?Ce.style.display="none":Ce.parentNode.removeChild(Ce),xe}for(var H=g.view,Y=g.viewFrom,te=0;te<H.length;te++){var oe=H[te];if(!oe.hidden)if(!oe.node||oe.node.parentNode!=A){var me=rh(u,oe,Y,v);A.insertBefore(me,N)}else{for(;N!=oe.node;)N=U(N);var pe=E&&f!=null&&f<=Y&&oe.lineNumber;oe.changes&&(Q(oe.changes,"gutter")>-1&&(pe=!1),Ho(u,oe,Y,v)),pe&&(W(oe.lineNumber),oe.lineNumber.appendChild(document.createTextNode(kr(u.options,Y)))),N=oe.node.nextSibling}Y+=oe.size}for(;N;)N=U(N)}function LE(u){var f=u.gutters.offsetWidth;u.sizer.style.marginLeft=f+"px",Fi(u,"gutterChanged",u)}function BE(u,f){u.display.sizer.style.minHeight=f.docHeight+"px",u.display.heightForcer.style.top=f.docHeight+"px",u.display.gutters.style.height=f.docHeight+u.display.barHeight+ma(u)+"px"}function Kx(u){var f=u.display,v=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!u.options.fixedGutter))){for(var g=h(f)-f.scroller.scrollLeft+u.doc.scrollLeft,E=f.gutters.offsetWidth,A=g+"px",N=0;N<v.length;N++)if(!v[N].hidden){u.options.fixedGutter&&(v[N].gutter&&(v[N].gutter.style.left=A),v[N].gutterBackground&&(v[N].gutterBackground.style.left=A));var U=v[N].alignable;if(U)for(var H=0;H<U.length;H++)U[H].style.left=A}u.options.fixedGutter&&(f.gutters.style.left=g+E+"px")}}function Zx(u){if(!u.options.lineNumbers)return!1;var f=u.doc,v=kr(u.options,f.first+f.size-1),g=u.display;if(v.length!=g.lineNumChars){var E=g.measure.appendChild(z("div",[z("div",v)],"CodeMirror-linenumber CodeMirror-gutter-elt")),A=E.firstChild.offsetWidth,N=E.offsetWidth-A;return g.lineGutter.style.width="",g.lineNumInnerWidth=Math.max(A,g.lineGutter.offsetWidth-N)+1,g.lineNumWidth=g.lineNumInnerWidth+N,g.lineNumChars=g.lineNumInnerWidth?v.length:-1,g.lineGutter.style.width=g.lineNumWidth+"px",LE(u.display),!0}return!1}function $E(u,f){for(var v=[],g=!1,E=0;E<u.length;E++){var A=u[E],N=null;if(typeof A!="string"&&(N=A.style,A=A.className),A=="CodeMirror-linenumbers")if(f)g=!0;else continue;v.push({className:A,style:N})}return f&&!g&&v.push({className:"CodeMirror-linenumbers",style:null}),v}function Qx(u){var f=u.gutters,v=u.gutterSpecs;W(f),u.lineGutter=null;for(var g=0;g<v.length;++g){var E=v[g],A=E.className,N=E.style,U=f.appendChild(z("div",null,"CodeMirror-gutter "+A));N&&(U.style.cssText=N),A=="CodeMirror-linenumbers"&&(u.lineGutter=U,U.style.width=(u.lineNumWidth||1)+"px")}f.style.display=v.length?"":"none",LE(u)}function hy(u){Qx(u.display),ee(u),Kx(u)}function uH(u,f,v,g){var E=this;this.input=v,E.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=re("div",null,"CodeMirror-code"),E.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=z("div",null,"CodeMirror-cursors"),E.measure=z("div",null,"CodeMirror-measure"),E.lineMeasure=z("div",null,"CodeMirror-measure"),E.lineSpace=re("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var A=re("div",[E.lineSpace],"CodeMirror-lines");E.mover=z("div",[A],null,"position: relative"),E.sizer=z("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=z("div",null,null,"position: absolute; height: "+fe+"px; width: 1px;"),E.gutters=z("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=z("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=z("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),E.wrapper.setAttribute("translate","no"),c&&d<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),!p&&!(r&&O)&&(E.scroller.draggable=!0),u&&(u.appendChild?u.appendChild(E.wrapper):u(E.wrapper)),E.viewFrom=E.viewTo=f.first,E.reportedViewFrom=E.reportedViewTo=f.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=$E(g.gutters,g.lineNumbers),Qx(E),v.init(E)}var xb=0,Sc=null;c?Sc=-.53:r?Sc=15:y?Sc=-.7:w&&(Sc=-1/3);function Jx(u){var f=u.wheelDeltaX,v=u.wheelDeltaY;return f==null&&u.detail&&u.axis==u.HORIZONTAL_AXIS&&(f=u.detail),v==null&&u.detail&&u.axis==u.VERTICAL_AXIS?v=u.detail:v==null&&(v=u.wheelDelta),{x:f,y:v}}function dH(u){var f=Jx(u);return f.x*=Sc,f.y*=Sc,f}function eD(u,f){var v=Jx(f),g=v.x,E=v.y,A=Sc;f.deltaMode===0&&(g=f.deltaX,E=f.deltaY,A=1);var N=u.display,U=N.scroller,H=U.scrollWidth>U.clientWidth,Y=U.scrollHeight>U.clientHeight;if(g&&H||E&&Y){if(E&&D&&p){e:for(var te=f.target,oe=N.view;te!=U;te=te.parentNode)for(var me=0;me<oe.length;me++)if(oe[me].node==te){u.display.currentWheelTarget=te;break e}}if(g&&!r&&!_&&A!=null){E&&Y&&ly(u,Math.max(0,U.scrollTop+E*A)),uh(u,Math.max(0,U.scrollLeft+g*A)),(!E||E&&Y)&&tt(f),N.wheelStartX=null;return}if(E&&A!=null){var pe=E*A,Ce=u.doc.scrollTop,xe=Ce+N.wrapper.clientHeight;pe<0?Ce=Math.max(0,Ce+pe-50):xe=Math.min(u.doc.height,xe+pe+50),UE(u,{top:Ce,bottom:xe})}xb<20&&f.deltaMode!==0&&(N.wheelStartX==null?(N.wheelStartX=U.scrollLeft,N.wheelStartY=U.scrollTop,N.wheelDX=g,N.wheelDY=E,setTimeout(function(){if(N.wheelStartX!=null){var Be=U.scrollLeft-N.wheelStartX,Ye=U.scrollTop-N.wheelStartY,Je=Ye&&N.wheelDY&&Ye/N.wheelDY||Be&&N.wheelDX&&Be/N.wheelDX;N.wheelStartX=N.wheelStartY=null,Je&&(Sc=(Sc*xb+Je)/(xb+1),++xb)}},200)):(N.wheelDX+=g,N.wheelDY+=E))}}var Us=function(u,f){this.ranges=u,this.primIndex=f};Us.prototype.primary=function(){return this.ranges[this.primIndex]},Us.prototype.equals=function(u){if(u==this)return!0;if(u.primIndex!=this.primIndex||u.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var v=this.ranges[f],g=u.ranges[f];if(!uo(v.anchor,g.anchor)||!uo(v.head,g.head))return!1}return!0},Us.prototype.deepCopy=function(){for(var u=[],f=0;f<this.ranges.length;f++)u[f]=new xi(Da(this.ranges[f].anchor),Da(this.ranges[f].head));return new Us(u,this.primIndex)},Us.prototype.somethingSelected=function(){for(var u=0;u<this.ranges.length;u++)if(!this.ranges[u].empty())return!0;return!1},Us.prototype.contains=function(u,f){f||(f=u);for(var v=0;v<this.ranges.length;v++){var g=this.ranges[v];if(yt(f,g.from())>=0&&yt(u,g.to())<=0)return v}return-1};var xi=function(u,f){this.anchor=u,this.head=f};xi.prototype.from=function(){return oa(this.anchor,this.head)},xi.prototype.to=function(){return sa(this.anchor,this.head)},xi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Yo(u,f,v){var g=u&&u.options.selectionsMayTouch,E=f[v];f.sort(function(me,pe){return yt(me.from(),pe.from())}),v=Q(f,E);for(var A=1;A<f.length;A++){var N=f[A],U=f[A-1],H=yt(U.to(),N.from());if(g&&!N.empty()?H>0:H>=0){var Y=oa(U.from(),N.from()),te=sa(U.to(),N.to()),oe=U.empty()?N.from()==N.head:U.from()==U.head;A<=v&&--v,f.splice(--A,2,new xi(oe?te:Y,oe?Y:te))}}return new Us(f,v)}function xu(u,f){return new Us([new xi(u,f||u)],0)}function Du(u){return u.text?Ie(u.from.line+u.text.length-1,Se(u.text).length+(u.text.length==1?u.from.ch:0)):u.to}function tD(u,f){if(yt(u,f.from)<0)return u;if(yt(u,f.to)<=0)return Du(f);var v=u.line+f.text.length-(f.to.line-f.from.line)-1,g=u.ch;return u.line==f.to.line&&(g+=Du(f).ch-f.to.ch),Ie(v,g)}function FE(u,f){for(var v=[],g=0;g<u.sel.ranges.length;g++){var E=u.sel.ranges[g];v.push(new xi(tD(E.anchor,f),tD(E.head,f)))}return Yo(u.cm,v,u.sel.primIndex)}function iD(u,f,v){return u.line==f.line?Ie(v.line,u.ch-f.ch+v.ch):Ie(v.line+(u.line-f.line),u.ch)}function hH(u,f,v){for(var g=[],E=Ie(u.first,0),A=E,N=0;N<f.length;N++){var U=f[N],H=iD(U.from,E,A),Y=iD(Du(U),E,A);if(E=U.to,A=Y,v=="around"){var te=u.sel.ranges[N],oe=yt(te.head,te.anchor)<0;g[N]=new xi(oe?Y:H,oe?H:Y)}else g[N]=new xi(H,H)}return new Us(g,u.sel.primIndex)}function HE(u){u.doc.mode=yc(u.options,u.doc.modeOption),fy(u)}function fy(u){u.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),u.doc.modeFrontier=u.doc.highlightFrontier=u.doc.first,dy(u,100),u.state.modeGen++,u.curOp&&ee(u)}function nD(u,f){return f.from.ch==0&&f.to.ch==0&&Se(f.text)==""&&(!u.cm||u.cm.options.wholeLineUpdateBefore)}function VE(u,f,v,g){function E(Je){return v?v[Je]:null}function A(Je,qe,rt){Tl(Je,qe,rt,g),Fi(Je,"change",Je,f)}function N(Je,qe){for(var rt=[],gt=Je;gt<qe;++gt)rt.push(new We(Y[gt],E(gt),g));return rt}var U=f.from,H=f.to,Y=f.text,te=ot(u,U.line),oe=ot(u,H.line),me=Se(Y),pe=E(Y.length-1),Ce=H.line-U.line;if(f.full)u.insert(0,N(0,Y.length)),u.remove(Y.length,u.size-Y.length);else if(nD(u,f)){var xe=N(0,Y.length-1);A(oe,oe.text,pe),Ce&&u.remove(U.line,Ce),xe.length&&u.insert(U.line,xe)}else if(te==oe)if(Y.length==1)A(te,te.text.slice(0,U.ch)+me+te.text.slice(H.ch),pe);else{var Be=N(1,Y.length-1);Be.push(new We(me+te.text.slice(H.ch),pe,g)),A(te,te.text.slice(0,U.ch)+Y[0],E(0)),u.insert(U.line+1,Be)}else if(Y.length==1)A(te,te.text.slice(0,U.ch)+Y[0]+oe.text.slice(H.ch),E(0)),u.remove(U.line+1,Ce);else{A(te,te.text.slice(0,U.ch)+Y[0],E(0)),A(oe,me+oe.text.slice(H.ch),pe);var Ye=N(1,Y.length-1);Ce>1&&u.remove(U.line+1,Ce-1),u.insert(U.line+1,Ye)}Fi(u,"change",u,f)}function Iu(u,f,v){function g(E,A,N){if(E.linked)for(var U=0;U<E.linked.length;++U){var H=E.linked[U];if(H.doc!=A){var Y=N&&H.sharedHist;v&&!Y||(f(H.doc,Y),g(H.doc,E,Y))}}}g(u,null,!0)}function rD(u,f){if(f.cm)throw new Error("This document is already in use.");u.doc=f,f.cm=u,T(u),HE(u),aD(u),u.options.direction=f.direction,u.options.lineWrapping||Ar(u),u.options.mode=f.modeOption,ee(u)}function aD(u){(u.doc.direction=="rtl"?ue:L)(u.display.lineDiv,"CodeMirror-rtl")}function fH(u){ns(u,function(){aD(u),ee(u)})}function Db(u){this.done=[],this.undone=[],this.undoDepth=u?u.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=u?u.maxGeneration:1}function YE(u,f){var v={from:Da(f.from),to:Du(f),text:ra(u,f.from,f.to)};return lD(u,v,f.from.line,f.to.line+1),Iu(u,function(g){return lD(g,v,f.from.line,f.to.line+1)},!0),v}function sD(u){for(;u.length;){var f=Se(u);if(f.ranges)u.pop();else break}}function pH(u,f){if(f)return sD(u.done),Se(u.done);if(u.done.length&&!Se(u.done).ranges)return Se(u.done);if(u.done.length>1&&!u.done[u.done.length-2].ranges)return u.done.pop(),Se(u.done)}function oD(u,f,v,g){var E=u.history;E.undone.length=0;var A=+new Date,N,U;if((E.lastOp==g||E.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&E.lastModTime>A-(u.cm?u.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(N=pH(E,E.lastOp==g)))U=Se(N.changes),yt(f.from,f.to)==0&&yt(f.from,U.to)==0?U.to=Du(f):N.changes.push(YE(u,f));else{var H=Se(E.done);for((!H||!H.ranges)&&Ib(u.sel,E.done),N={changes:[YE(u,f)],generation:E.generation},E.done.push(N);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(v),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=A,E.lastOp=E.lastSelOp=g,E.lastOrigin=E.lastSelOrigin=f.origin,U||Ot(u,"historyAdded")}function mH(u,f,v,g){var E=f.charAt(0);return E=="*"||E=="+"&&v.ranges.length==g.ranges.length&&v.somethingSelected()==g.somethingSelected()&&new Date-u.history.lastSelTime<=(u.cm?u.cm.options.historyEventDelay:500)}function yH(u,f,v,g){var E=u.history,A=g&&g.origin;v==E.lastSelOp||A&&E.lastSelOrigin==A&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==A||mH(u,A,Se(E.done),f))?E.done[E.done.length-1]=f:Ib(f,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=A,E.lastSelOp=v,g&&g.clearRedo!==!1&&sD(E.undone)}function Ib(u,f){var v=Se(f);v&&v.ranges&&v.equals(u)||f.push(u)}function lD(u,f,v,g){var E=f["spans_"+u.id],A=0;u.iter(Math.max(u.first,v),Math.min(u.first+u.size,g),function(N){N.markedSpans&&((E||(E=f["spans_"+u.id]={}))[A]=N.markedSpans),++A})}function gH(u){if(!u)return null;for(var f,v=0;v<u.length;++v)u[v].marker.explicitlyCleared?f||(f=u.slice(0,v)):f&&f.push(u[v]);return f?f.length?f:null:u}function vH(u,f){var v=f["spans_"+u.id];if(!v)return null;for(var g=[],E=0;E<f.text.length;++E)g.push(gH(v[E]));return g}function cD(u,f){var v=vH(u,f),g=bc(u,f);if(!v)return g;if(!g)return v;for(var E=0;E<v.length;++E){var A=v[E],N=g[E];if(A&&N)e:for(var U=0;U<N.length;++U){for(var H=N[U],Y=0;Y<A.length;++Y)if(A[Y].marker==H.marker)continue e;A.push(H)}else N&&(v[E]=N)}return v}function Jf(u,f,v){for(var g=[],E=0;E<u.length;++E){var A=u[E];if(A.ranges){g.push(v?Us.prototype.deepCopy.call(A):A);continue}var N=A.changes,U=[];g.push({changes:U});for(var H=0;H<N.length;++H){var Y=N[H],te=void 0;if(U.push({from:Y.from,to:Y.to,text:Y.text}),f)for(var oe in Y)(te=oe.match(/^spans_(\d+)$/))&&Q(f,Number(te[1]))>-1&&(Se(U)[oe]=Y[oe],delete Y[oe])}}return g}function qE(u,f,v,g){if(g){var E=u.anchor;if(v){var A=yt(f,E)<0;A!=yt(v,E)<0?(E=f,f=v):A!=yt(f,v)<0&&(f=v)}return new xi(E,f)}else return new xi(v||f,f)}function Rb(u,f,v,g,E){E==null&&(E=u.cm&&(u.cm.display.shift||u.extend)),Kr(u,new Us([qE(u.sel.primary(),f,v,E)],0),g)}function uD(u,f,v){for(var g=[],E=u.cm&&(u.cm.display.shift||u.extend),A=0;A<u.sel.ranges.length;A++)g[A]=qE(u.sel.ranges[A],f[A],null,E);var N=Yo(u.cm,g,u.sel.primIndex);Kr(u,N,v)}function WE(u,f,v,g){var E=u.sel.ranges.slice(0);E[f]=v,Kr(u,Yo(u.cm,E,u.sel.primIndex),g)}function dD(u,f,v,g){Kr(u,xu(f,v),g)}function bH(u,f,v){var g={ranges:f.ranges,update:function(E){this.ranges=[];for(var A=0;A<E.length;A++)this.ranges[A]=new xi(vt(u,E[A].anchor),vt(u,E[A].head))},origin:v&&v.origin};return Ot(u,"beforeSelectionChange",u,g),u.cm&&Ot(u.cm,"beforeSelectionChange",u.cm,g),g.ranges!=f.ranges?Yo(u.cm,g.ranges,g.ranges.length-1):f}function hD(u,f,v){var g=u.history.done,E=Se(g);E&&E.ranges?(g[g.length-1]=f,Mb(u,f,v)):Kr(u,f,v)}function Kr(u,f,v){Mb(u,f,v),yH(u,u.sel,u.cm?u.cm.curOp.id:NaN,v)}function Mb(u,f,v){(Le(u,"beforeSelectionChange")||u.cm&&Le(u.cm,"beforeSelectionChange"))&&(f=bH(u,f,v));var g=v&&v.bias||(yt(f.primary().head,u.sel.primary().head)<0?-1:1);fD(u,mD(u,f,g,!0)),!(v&&v.scroll===!1)&&u.cm&&u.cm.getOption("readOnly")!="nocursor"&&Zf(u.cm)}function fD(u,f){f.equals(u.sel)||(u.sel=f,u.cm&&(u.cm.curOp.updateInput=1,u.cm.curOp.selectionChanged=!0,Pe(u.cm)),Fi(u,"cursorActivity",u))}function pD(u){fD(u,mD(u,u.sel,null,!1))}function mD(u,f,v,g){for(var E,A=0;A<f.ranges.length;A++){var N=f.ranges[A],U=f.ranges.length==u.sel.ranges.length&&u.sel.ranges[A],H=Pb(u,N.anchor,U&&U.anchor,v,g),Y=Pb(u,N.head,U&&U.head,v,g);(E||H!=N.anchor||Y!=N.head)&&(E||(E=f.ranges.slice(0,A)),E[A]=new xi(H,Y))}return E?Yo(u.cm,E,f.primIndex):f}function ep(u,f,v,g,E){var A=ot(u,f.line);if(A.markedSpans)for(var N=0;N<A.markedSpans.length;++N){var U=A.markedSpans[N],H=U.marker,Y="selectLeft"in H?!H.selectLeft:H.inclusiveLeft,te="selectRight"in H?!H.selectRight:H.inclusiveRight;if((U.from==null||(Y?U.from<=f.ch:U.from<f.ch))&&(U.to==null||(te?U.to>=f.ch:U.to>f.ch))){if(E&&(Ot(H,"beforeCursorEnter"),H.explicitlyCleared))if(A.markedSpans){--N;continue}else break;if(!H.atomic)continue;if(v){var oe=H.find(g<0?1:-1),me=void 0;if((g<0?te:Y)&&(oe=yD(u,oe,-g,oe&&oe.line==f.line?A:null)),oe&&oe.line==f.line&&(me=yt(oe,v))&&(g<0?me<0:me>0))return ep(u,oe,f,g,E)}var pe=H.find(g<0?-1:1);return(g<0?Y:te)&&(pe=yD(u,pe,g,pe.line==f.line?A:null)),pe?ep(u,pe,f,g,E):null}}return f}function Pb(u,f,v,g,E){var A=g||1,N=ep(u,f,v,A,E)||!E&&ep(u,f,v,A,!0)||ep(u,f,v,-A,E)||!E&&ep(u,f,v,-A,!0);return N||(u.cantEdit=!0,Ie(u.first,0))}function yD(u,f,v,g){return v<0&&f.ch==0?f.line>u.first?vt(u,Ie(f.line-1)):null:v>0&&f.ch==(g||ot(u,f.line)).text.length?f.line<u.first+u.size-1?Ie(f.line+1,0):null:new Ie(f.line,f.ch+v)}function gD(u){u.setSelection(Ie(u.firstLine(),0),Ie(u.lastLine()),he)}function vD(u,f,v){var g={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return g.canceled=!0}};return v&&(g.update=function(E,A,N,U){E&&(g.from=vt(u,E)),A&&(g.to=vt(u,A)),N&&(g.text=N),U!==void 0&&(g.origin=U)}),Ot(u,"beforeChange",u,g),u.cm&&Ot(u.cm,"beforeChange",u.cm,g),g.canceled?(u.cm&&(u.cm.curOp.updateInput=2),null):{from:g.from,to:g.to,text:g.text,origin:g.origin}}function tp(u,f,v){if(u.cm){if(!u.cm.curOp)return gr(u.cm,tp)(u,f,v);if(u.cm.state.suppressEdits)return}if(!((Le(u,"beforeChange")||u.cm&&Le(u.cm,"beforeChange"))&&(f=vD(u,f,!0),!f))){var g=$o&&!v&&Jd(u,f.from,f.to);if(g)for(var E=g.length-1;E>=0;--E)bD(u,{from:g[E].from,to:g[E].to,text:E?[""]:f.text,origin:f.origin});else bD(u,f)}}function bD(u,f){if(!(f.text.length==1&&f.text[0]==""&&yt(f.from,f.to)==0)){var v=FE(u,f);oD(u,f,v,u.cm?u.cm.curOp.id:NaN),py(u,f,v,bc(u,f));var g=[];Iu(u,function(E,A){!A&&Q(g,E.history)==-1&&(TD(E.history,f),g.push(E.history)),py(E,f,null,bc(E,f))})}}function Ob(u,f,v){var g=u.cm&&u.cm.state.suppressEdits;if(!(g&&!v)){for(var E=u.history,A,N=u.sel,U=f=="undo"?E.done:E.undone,H=f=="undo"?E.undone:E.done,Y=0;Y<U.length&&(A=U[Y],!(v?A.ranges&&!A.equals(u.sel):!A.ranges));Y++);if(Y!=U.length){for(E.lastOrigin=E.lastSelOrigin=null;;)if(A=U.pop(),A.ranges){if(Ib(A,H),v&&!A.equals(u.sel)){Kr(u,A,{clearRedo:!1});return}N=A}else if(g){U.push(A);return}else break;var te=[];Ib(N,H),H.push({changes:te,generation:E.generation}),E.generation=A.generation||++E.maxGeneration;for(var oe=Le(u,"beforeChange")||u.cm&&Le(u.cm,"beforeChange"),me=function(xe){var Be=A.changes[xe];if(Be.origin=f,oe&&!vD(u,Be,!1))return U.length=0,{};te.push(YE(u,Be));var Ye=xe?FE(u,Be):Se(U);py(u,Be,Ye,cD(u,Be)),!xe&&u.cm&&u.cm.scrollIntoView({from:Be.from,to:Du(Be)});var Je=[];Iu(u,function(qe,rt){!rt&&Q(Je,qe.history)==-1&&(TD(qe.history,Be),Je.push(qe.history)),py(qe,Be,null,cD(qe,Be))})},pe=A.changes.length-1;pe>=0;--pe){var Ce=me(pe);if(Ce)return Ce.v}}}}function _D(u,f){if(f!=0&&(u.first+=f,u.sel=new Us(Jt(u.sel.ranges,function(E){return new xi(Ie(E.anchor.line+f,E.anchor.ch),Ie(E.head.line+f,E.head.ch))}),u.sel.primIndex),u.cm)){ee(u.cm,u.first,u.first-f,f);for(var v=u.cm.display,g=v.viewFrom;g<v.viewTo;g++)we(u.cm,g,"gutter")}}function py(u,f,v,g){if(u.cm&&!u.cm.curOp)return gr(u.cm,py)(u,f,v,g);if(f.to.line<u.first){_D(u,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>u.lastLine())){if(f.from.line<u.first){var E=f.text.length-1-(u.first-f.from.line);_D(u,E),f={from:Ie(u.first,0),to:Ie(f.to.line+E,f.to.ch),text:[Se(f.text)],origin:f.origin}}var A=u.lastLine();f.to.line>A&&(f={from:f.from,to:Ie(A,ot(u,A).text.length),text:[f.text[0]],origin:f.origin}),f.removed=ra(u,f.from,f.to),v||(v=FE(u,f)),u.cm?_H(u.cm,f,g):VE(u,f,g),Mb(u,v,he),u.cantEdit&&Pb(u,Ie(u.firstLine(),0))&&(u.cantEdit=!1)}}function _H(u,f,v){var g=u.doc,E=u.display,A=f.from,N=f.to,U=!1,H=A.line;u.options.lineWrapping||(H=Ne(Qn(ot(g,A.line))),g.iter(H,N.line+1,function(pe){if(pe==E.maxLine)return U=!0,!0})),g.sel.contains(f.from,f.to)>-1&&Pe(u),VE(g,f,v,b(u)),u.options.lineWrapping||(g.iter(H,A.line+f.text.length,function(pe){var Ce=ua(pe);Ce>E.maxLineLength&&(E.maxLine=pe,E.maxLineLength=Ce,E.maxLineChanged=!0,U=!1)}),U&&(u.curOp.updateMaxLine=!0)),Qd(g,A.line),dy(u,400);var Y=f.text.length-(N.line-A.line)-1;f.full?ee(u):A.line==N.line&&f.text.length==1&&!nD(u.doc,f)?we(u,A.line,"text"):ee(u,A.line,N.line+1,Y);var te=Le(u,"changes"),oe=Le(u,"change");if(oe||te){var me={from:A,to:N,text:f.text,removed:f.removed,origin:f.origin};oe&&Fi(u,"change",u,me),te&&(u.curOp.changeObjs||(u.curOp.changeObjs=[])).push(me)}u.display.selForContextMenu=null}function ip(u,f,v,g,E){var A;g||(g=v),yt(g,v)<0&&(A=[g,v],v=A[0],g=A[1]),typeof f=="string"&&(f=u.splitLines(f)),tp(u,{from:v,to:g,text:f,origin:E})}function wD(u,f,v,g){v<u.line?u.line+=g:f<u.line&&(u.line=f,u.ch=0)}function ED(u,f,v,g){for(var E=0;E<u.length;++E){var A=u[E],N=!0;if(A.ranges){A.copied||(A=u[E]=A.deepCopy(),A.copied=!0);for(var U=0;U<A.ranges.length;U++)wD(A.ranges[U].anchor,f,v,g),wD(A.ranges[U].head,f,v,g);continue}for(var H=0;H<A.changes.length;++H){var Y=A.changes[H];if(v<Y.from.line)Y.from=Ie(Y.from.line+g,Y.from.ch),Y.to=Ie(Y.to.line+g,Y.to.ch);else if(f<=Y.to.line){N=!1;break}}N||(u.splice(0,E+1),E=0)}}function TD(u,f){var v=f.from.line,g=f.to.line,E=f.text.length-(g-v)-1;ED(u.done,v,g,E),ED(u.undone,v,g,E)}function my(u,f,v,g){var E=f,A=f;return typeof f=="number"?A=ot(u,du(u,f)):E=Ne(f),E==null?null:(g(A,E)&&u.cm&&we(u.cm,E,v),A)}function yy(u){this.lines=u,this.parent=null;for(var f=0,v=0;v<u.length;++v)u[v].parent=this,f+=u[v].height;this.height=f}yy.prototype={chunkSize:function(){return this.lines.length},removeInner:function(u,f){for(var v=u,g=u+f;v<g;++v){var E=this.lines[v];this.height-=E.height,Cl(E),Fi(E,"delete")}this.lines.splice(u,f)},collapse:function(u){u.push.apply(u,this.lines)},insertInner:function(u,f,v){this.height+=v,this.lines=this.lines.slice(0,u).concat(f).concat(this.lines.slice(u));for(var g=0;g<f.length;++g)f[g].parent=this},iterN:function(u,f,v){for(var g=u+f;u<g;++u)if(v(this.lines[u]))return!0}};function gy(u){this.children=u;for(var f=0,v=0,g=0;g<u.length;++g){var E=u[g];f+=E.chunkSize(),v+=E.height,E.parent=this}this.size=f,this.height=v,this.parent=null}gy.prototype={chunkSize:function(){return this.size},removeInner:function(u,f){this.size-=f;for(var v=0;v<this.children.length;++v){var g=this.children[v],E=g.chunkSize();if(u<E){var A=Math.min(f,E-u),N=g.height;if(g.removeInner(u,A),this.height-=N-g.height,E==A&&(this.children.splice(v--,1),g.parent=null),(f-=A)==0)break;u=0}else u-=E}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof yy))){var U=[];this.collapse(U),this.children=[new yy(U)],this.children[0].parent=this}},collapse:function(u){for(var f=0;f<this.children.length;++f)this.children[f].collapse(u)},insertInner:function(u,f,v){this.size+=f.length,this.height+=v;for(var g=0;g<this.children.length;++g){var E=this.children[g],A=E.chunkSize();if(u<=A){if(E.insertInner(u,f,v),E.lines&&E.lines.length>50){for(var N=E.lines.length%25+25,U=N;U<E.lines.length;){var H=new yy(E.lines.slice(U,U+=25));E.height-=H.height,this.children.splice(++g,0,H),H.parent=this}E.lines=E.lines.slice(0,N),this.maybeSpill()}break}u-=A}},maybeSpill:function(){if(!(this.children.length<=10)){var u=this;do{var f=u.children.splice(u.children.length-5,5),v=new gy(f);if(u.parent){u.size-=v.size,u.height-=v.height;var E=Q(u.parent.children,u);u.parent.children.splice(E+1,0,v)}else{var g=new gy(u.children);g.parent=u,u.children=[g,v],u=g}v.parent=u.parent}while(u.children.length>10);u.parent.maybeSpill()}},iterN:function(u,f,v){for(var g=0;g<this.children.length;++g){var E=this.children[g],A=E.chunkSize();if(u<A){var N=Math.min(f,A-u);if(E.iterN(u,N,v))return!0;if((f-=N)==0)break;u=0}else u-=A}}};var vy=function(u,f,v){if(v)for(var g in v)v.hasOwnProperty(g)&&(this[g]=v[g]);this.doc=u,this.node=f};vy.prototype.clear=function(){var u=this.doc.cm,f=this.line.widgets,v=this.line,g=Ne(v);if(!(g==null||!f)){for(var E=0;E<f.length;++E)f[E]==this&&f.splice(E--,1);f.length||(v.widgets=null);var A=zr(this);hr(v,Math.max(0,v.height-A)),u&&(ns(u,function(){CD(u,v,-A),we(u,g,"widget")}),Fi(u,"lineWidgetCleared",u,this,g))}},vy.prototype.changed=function(){var u=this,f=this.height,v=this.doc.cm,g=this.line;this.height=null;var E=zr(this)-f;E&&(qr(this.doc,g)||hr(g,g.height+E),v&&ns(v,function(){v.curOp.forceUpdate=!0,CD(v,g,E),Fi(v,"lineWidgetChanged",v,u,Ne(g))}))},lt(vy);function CD(u,f,v){Sr(f)<(u.curOp&&u.curOp.scrollTop||u.doc.scrollTop)&&NE(u,v)}function wH(u,f,v,g){var E=new vy(u,v,g),A=u.cm;return A&&E.noHScroll&&(A.display.alignWidgets=!0),my(u,f,"widget",function(N){var U=N.widgets||(N.widgets=[]);if(E.insertAt==null?U.push(E):U.splice(Math.min(U.length,Math.max(0,E.insertAt)),0,E),E.line=N,A&&!qr(u,N)){var H=Sr(N)<u.scrollTop;hr(N,N.height+zr(E)),H&&NE(A,E.height),A.curOp.forceUpdate=!0}return!0}),A&&Fi(A,"lineWidgetAdded",A,E,typeof f=="number"?f:Ne(f)),E}var kD=0,Ru=function(u,f){this.lines=[],this.type=f,this.doc=u,this.id=++kD};Ru.prototype.clear=function(){if(!this.explicitlyCleared){var u=this.doc.cm,f=u&&!u.curOp;if(f&&hh(u),Le(this,"clear")){var v=this.find();v&&Fi(this,"clear",v.from,v.to)}for(var g=null,E=null,A=0;A<this.lines.length;++A){var N=this.lines[A],U=Ja(N.markedSpans,this);u&&!this.collapsed?we(u,Ne(N),"text"):u&&(U.to!=null&&(E=Ne(N)),U.from!=null&&(g=Ne(N))),N.markedSpans=_l(N.markedSpans,U),U.from==null&&this.collapsed&&!qr(this.doc,N)&&u&&hr(N,Dr(u.display))}if(u&&this.collapsed&&!u.options.lineWrapping)for(var H=0;H<this.lines.length;++H){var Y=Qn(this.lines[H]),te=ua(Y);te>u.display.maxLineLength&&(u.display.maxLine=Y,u.display.maxLineLength=te,u.display.maxLineChanged=!0)}g!=null&&u&&this.collapsed&&ee(u,g,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,u&&pD(u.doc)),u&&Fi(u,"markerCleared",u,this,g,E),f&&fh(u),this.parent&&this.parent.clear()}},Ru.prototype.find=function(u,f){u==null&&this.type=="bookmark"&&(u=1);for(var v,g,E=0;E<this.lines.length;++E){var A=this.lines[E],N=Ja(A.markedSpans,this);if(N.from!=null&&(v=Ie(f?A:Ne(A),N.from),u==-1))return v;if(N.to!=null&&(g=Ie(f?A:Ne(A),N.to),u==1))return g}return v&&{from:v,to:g}},Ru.prototype.changed=function(){var u=this,f=this.find(-1,!0),v=this,g=this.doc.cm;!f||!g||ns(g,function(){var E=f.line,A=Ne(f.line),N=wc(g,A);if(N&&(je(N),g.curOp.selectionChanged=g.curOp.forceUpdate=!0),g.curOp.updateMaxLine=!0,!qr(v.doc,E)&&v.height!=null){var U=v.height;v.height=null;var H=zr(v)-U;H&&hr(E,E.height+H)}Fi(g,"markerChanged",g,u)})},Ru.prototype.attachLine=function(u){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Q(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(u)},Ru.prototype.detachLine=function(u){if(this.lines.splice(Q(this.lines,u),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},lt(Ru);function np(u,f,v,g,E){if(g&&g.shared)return EH(u,f,v,g,E);if(u.cm&&!u.cm.curOp)return gr(u.cm,np)(u,f,v,g,E);var A=new Ru(u,E),N=yt(f,v);if(g&&q(g,A,!1),N>0||N==0&&A.clearWhenEmpty!==!1)return A;if(A.replacedWith&&(A.collapsed=!0,A.widgetNode=re("span",[A.replacedWith],"CodeMirror-widget"),g.handleMouseEvents||A.widgetNode.setAttribute("cm-ignore-events","true"),g.insertLeft&&(A.widgetNode.insertLeft=!0)),A.collapsed){if(Zn(u,f.line,f,v,A)||f.line!=v.line&&Zn(u,v.line,f,v,A))throw new Error("Inserting collapsed marker partially overlapping an existing one");xs()}A.addToHistory&&oD(u,{from:f,to:v,origin:"markText"},u.sel,NaN);var U=f.line,H=u.cm,Y;if(u.iter(U,v.line+1,function(oe){H&&A.collapsed&&!H.options.lineWrapping&&Qn(oe)==H.display.maxLine&&(Y=!0),A.collapsed&&U!=f.line&&hr(oe,0),Is(oe,new Ds(A,U==f.line?f.ch:null,U==v.line?v.ch:null),u.cm&&u.cm.curOp),++U}),A.collapsed&&u.iter(f.line,v.line+1,function(oe){qr(u,oe)&&hr(oe,0)}),A.clearOnEnter&&Xe(A,"beforeCursorEnter",function(){return A.clear()}),A.readOnly&&(bl(),(u.history.done.length||u.history.undone.length)&&u.clearHistory()),A.collapsed&&(A.id=++kD,A.atomic=!0),H){if(Y&&(H.curOp.updateMaxLine=!0),A.collapsed)ee(H,f.line,v.line+1);else if(A.className||A.startStyle||A.endStyle||A.css||A.attributes||A.title)for(var te=f.line;te<=v.line;te++)we(H,te,"text");A.atomic&&pD(H.doc),Fi(H,"markerAdded",H,A)}return A}var by=function(u,f){this.markers=u,this.primary=f;for(var v=0;v<u.length;++v)u[v].parent=this};by.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var u=0;u<this.markers.length;++u)this.markers[u].clear();Fi(this,"clear")}},by.prototype.find=function(u,f){return this.primary.find(u,f)},lt(by);function EH(u,f,v,g,E){g=q(g),g.shared=!1;var A=[np(u,f,v,g,E)],N=A[0],U=g.widgetNode;return Iu(u,function(H){U&&(g.widgetNode=U.cloneNode(!0)),A.push(np(H,vt(H,f),vt(H,v),g,E));for(var Y=0;Y<H.linked.length;++Y)if(H.linked[Y].isParent)return;N=Se(A)}),new by(A,N)}function SD(u){return u.findMarks(Ie(u.first,0),u.clipPos(Ie(u.lastLine())),function(f){return f.parent})}function TH(u,f){for(var v=0;v<f.length;v++){var g=f[v],E=g.find(),A=u.clipPos(E.from),N=u.clipPos(E.to);if(yt(A,N)){var U=np(u,A,N,g.primary,g.primary.type);g.markers.push(U),U.parent=g}}}function CH(u){for(var f=function(g){var E=u[g],A=[E.primary.doc];Iu(E.primary.doc,function(H){return A.push(H)});for(var N=0;N<E.markers.length;N++){var U=E.markers[N];Q(A,U.doc)==-1&&(U.parent=null,E.markers.splice(N--,1))}},v=0;v<u.length;v++)f(v)}var kH=0,Na=function(u,f,v,g,E){if(!(this instanceof Na))return new Na(u,f,v,g,E);v==null&&(v=0),gy.call(this,[new yy([new We("",null)])]),this.first=v,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=v;var A=Ie(v,0);this.sel=xu(A),this.history=new Db(null),this.id=++kH,this.modeOption=f,this.lineSep=g,this.direction=E=="rtl"?"rtl":"ltr",this.extend=!1,typeof u=="string"&&(u=this.splitLines(u)),VE(this,{from:A,to:A,text:u}),Kr(this,xu(A),he)};Na.prototype=xt(gy.prototype,{constructor:Na,iter:function(u,f,v){v?this.iterN(u-this.first,f-u,v):this.iterN(this.first,this.first+this.size,u)},insert:function(u,f){for(var v=0,g=0;g<f.length;++g)v+=f[g].height;this.insertInner(u-this.first,f,v)},remove:function(u,f){this.removeInner(u-this.first,f)},getValue:function(u){var f=vc(this,this.first,this.first+this.size);return u===!1?f:f.join(u||this.lineSeparator())},setValue:vr(function(u){var f=Ie(this.first,0),v=this.first+this.size-1;tp(this,{from:f,to:Ie(v,ot(this,v).text.length),text:this.splitLines(u),origin:"setValue",full:!0},!0),this.cm&&oy(this.cm,0,0),Kr(this,xu(f),he)}),replaceRange:function(u,f,v,g){f=vt(this,f),v=v?vt(this,v):f,ip(this,u,f,v,g)},getRange:function(u,f,v){var g=ra(this,vt(this,u),vt(this,f));return v===!1?g:v===""?g.join(""):g.join(v||this.lineSeparator())},getLine:function(u){var f=this.getLineHandle(u);return f&&f.text},getLineHandle:function(u){if(Po(this,u))return ot(this,u)},getLineNumber:function(u){return Ne(u)},getLineHandleVisualStart:function(u){return typeof u=="number"&&(u=ot(this,u)),Qn(u)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(u){return vt(this,u)},getCursor:function(u){var f=this.sel.primary(),v;return u==null||u=="head"?v=f.head:u=="anchor"?v=f.anchor:u=="end"||u=="to"||u===!1?v=f.to():v=f.from(),v},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vr(function(u,f,v){dD(this,vt(this,typeof u=="number"?Ie(u,f||0):u),null,v)}),setSelection:vr(function(u,f,v){dD(this,vt(this,u),vt(this,f||u),v)}),extendSelection:vr(function(u,f,v){Rb(this,vt(this,u),f&&vt(this,f),v)}),extendSelections:vr(function(u,f){uD(this,nn(this,u),f)}),extendSelectionsBy:vr(function(u,f){var v=Jt(this.sel.ranges,u);uD(this,nn(this,v),f)}),setSelections:vr(function(u,f,v){if(u.length){for(var g=[],E=0;E<u.length;E++)g[E]=new xi(vt(this,u[E].anchor),vt(this,u[E].head||u[E].anchor));f==null&&(f=Math.min(u.length-1,this.sel.primIndex)),Kr(this,Yo(this.cm,g,f),v)}}),addSelection:vr(function(u,f,v){var g=this.sel.ranges.slice(0);g.push(new xi(vt(this,u),vt(this,f||u))),Kr(this,Yo(this.cm,g,g.length-1),v)}),getSelection:function(u){for(var f=this.sel.ranges,v,g=0;g<f.length;g++){var E=ra(this,f[g].from(),f[g].to());v=v?v.concat(E):E}return u===!1?v:v.join(u||this.lineSeparator())},getSelections:function(u){for(var f=[],v=this.sel.ranges,g=0;g<v.length;g++){var E=ra(this,v[g].from(),v[g].to());u!==!1&&(E=E.join(u||this.lineSeparator())),f[g]=E}return f},replaceSelection:function(u,f,v){for(var g=[],E=0;E<this.sel.ranges.length;E++)g[E]=u;this.replaceSelections(g,f,v||"+input")},replaceSelections:vr(function(u,f,v){for(var g=[],E=this.sel,A=0;A<E.ranges.length;A++){var N=E.ranges[A];g[A]={from:N.from(),to:N.to(),text:this.splitLines(u[A]),origin:v}}for(var U=f&&f!="end"&&hH(this,g,f),H=g.length-1;H>=0;H--)tp(this,g[H]);U?hD(this,U):this.cm&&Zf(this.cm)}),undo:vr(function(){Ob(this,"undo")}),redo:vr(function(){Ob(this,"redo")}),undoSelection:vr(function(){Ob(this,"undo",!0)}),redoSelection:vr(function(){Ob(this,"redo",!0)}),setExtending:function(u){this.extend=u},getExtending:function(){return this.extend},historySize:function(){for(var u=this.history,f=0,v=0,g=0;g<u.done.length;g++)u.done[g].ranges||++f;for(var E=0;E<u.undone.length;E++)u.undone[E].ranges||++v;return{undo:f,redo:v}},clearHistory:function(){var u=this;this.history=new Db(this.history),Iu(this,function(f){return f.history=u.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(u){return u&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(u){return this.history.generation==(u||this.cleanGeneration)},getHistory:function(){return{done:Jf(this.history.done),undone:Jf(this.history.undone)}},setHistory:function(u){var f=this.history=new Db(this.history);f.done=Jf(u.done.slice(0),null,!0),f.undone=Jf(u.undone.slice(0),null,!0)},setGutterMarker:vr(function(u,f,v){return my(this,u,"gutter",function(g){var E=g.gutterMarkers||(g.gutterMarkers={});return E[f]=v,!v&&Ve(E)&&(g.gutterMarkers=null),!0})}),clearGutter:vr(function(u){var f=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[u]&&my(f,v,"gutter",function(){return v.gutterMarkers[u]=null,Ve(v.gutterMarkers)&&(v.gutterMarkers=null),!0})})}),lineInfo:function(u){var f;if(typeof u=="number"){if(!Po(this,u)||(f=u,u=ot(this,u),!u))return null}else if(f=Ne(u),f==null)return null;return{line:f,handle:u,text:u.text,gutterMarkers:u.gutterMarkers,textClass:u.textClass,bgClass:u.bgClass,wrapClass:u.wrapClass,widgets:u.widgets}},addLineClass:vr(function(u,f,v){return my(this,u,f=="gutter"?"gutter":"class",function(g){var E=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!g[E])g[E]=v;else{if($(v).test(g[E]))return!1;g[E]+=" "+v}return!0})}),removeLineClass:vr(function(u,f,v){return my(this,u,f=="gutter"?"gutter":"class",function(g){var E=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",A=g[E];if(A)if(v==null)g[E]=null;else{var N=A.match($(v));if(!N)return!1;var U=N.index+N[0].length;g[E]=A.slice(0,N.index)+(!N.index||U==A.length?"":" ")+A.slice(U)||null}else return!1;return!0})}),addLineWidget:vr(function(u,f,v){return wH(this,u,f,v)}),removeLineWidget:function(u){u.clear()},markText:function(u,f,v){return np(this,vt(this,u),vt(this,f),v,v&&v.type||"range")},setBookmark:function(u,f){var v={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return u=vt(this,u),np(this,u,u,v,"bookmark")},findMarksAt:function(u){u=vt(this,u);var f=[],v=ot(this,u.line).markedSpans;if(v)for(var g=0;g<v.length;++g){var E=v[g];(E.from==null||E.from<=u.ch)&&(E.to==null||E.to>=u.ch)&&f.push(E.marker.parent||E.marker)}return f},findMarks:function(u,f,v){u=vt(this,u),f=vt(this,f);var g=[],E=u.line;return this.iter(u.line,f.line+1,function(A){var N=A.markedSpans;if(N)for(var U=0;U<N.length;U++){var H=N[U];!(H.to!=null&&E==u.line&&u.ch>=H.to||H.from==null&&E!=u.line||H.from!=null&&E==f.line&&H.from>=f.ch)&&(!v||v(H.marker))&&g.push(H.marker.parent||H.marker)}++E}),g},getAllMarks:function(){var u=[];return this.iter(function(f){var v=f.markedSpans;if(v)for(var g=0;g<v.length;++g)v[g].from!=null&&u.push(v[g].marker)}),u},posFromIndex:function(u){var f,v=this.first,g=this.lineSeparator().length;return this.iter(function(E){var A=E.text.length+g;if(A>u)return f=u,!0;u-=A,++v}),vt(this,Ie(v,f))},indexFromPos:function(u){u=vt(this,u);var f=u.ch;if(u.line<this.first||u.ch<0)return 0;var v=this.lineSeparator().length;return this.iter(this.first,u.line,function(g){f+=g.text.length+v}),f},copy:function(u){var f=new Na(vc(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,u&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(u){u||(u={});var f=this.first,v=this.first+this.size;u.from!=null&&u.from>f&&(f=u.from),u.to!=null&&u.to<v&&(v=u.to);var g=new Na(vc(this,f,v),u.mode||this.modeOption,f,this.lineSep,this.direction);return u.sharedHist&&(g.history=this.history),(this.linked||(this.linked=[])).push({doc:g,sharedHist:u.sharedHist}),g.linked=[{doc:this,isParent:!0,sharedHist:u.sharedHist}],TH(g,SD(this)),g},unlinkDoc:function(u){if(u instanceof dn&&(u=u.doc),this.linked)for(var f=0;f<this.linked.length;++f){var v=this.linked[f];if(v.doc==u){this.linked.splice(f,1),u.unlinkDoc(this),CH(SD(this));break}}if(u.history==this.history){var g=[u.id];Iu(u,function(E){return g.push(E.id)},!0),u.history=new Db(null),u.history.done=Jf(this.history.done,g),u.history.undone=Jf(this.history.undone,g)}},iterLinkedDocs:function(u){Iu(this,u)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(u){return this.lineSep?u.split(this.lineSep):Sa(u)},lineSeparator:function(){return this.lineSep||`
`},setDirection:vr(function(u){u!="rtl"&&(u="ltr"),u!=this.direction&&(this.direction=u,this.iter(function(f){return f.order=null}),this.cm&&fH(this.cm))})}),Na.prototype.eachLine=Na.prototype.iter;var AD=0;function SH(u){var f=this;if(xD(f),!(ye(f,u)||Pa(f.display,u))){tt(u),c&&(AD=+new Date);var v=M(f,u,!0),g=u.dataTransfer.files;if(!(!v||f.isReadOnly()))if(g&&g.length&&window.FileReader&&window.File)for(var E=g.length,A=Array(E),N=0,U=function(){++N==E&&gr(f,function(){v=vt(f.doc,v);var pe={from:v,to:v,text:f.doc.splitLines(A.filter(function(Ce){return Ce!=null}).join(f.doc.lineSeparator())),origin:"paste"};tp(f.doc,pe),hD(f.doc,xu(vt(f.doc,v),vt(f.doc,Du(pe))))})()},H=function(pe,Ce){if(f.options.allowDropFileTypes&&Q(f.options.allowDropFileTypes,pe.type)==-1){U();return}var xe=new FileReader;xe.onerror=function(){return U()},xe.onload=function(){var Be=xe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Be)){U();return}A[Ce]=Be,U()},xe.readAsText(pe)},Y=0;Y<g.length;Y++)H(g[Y],Y);else{if(f.state.draggingText&&f.doc.sel.contains(v)>-1){f.state.draggingText(u),setTimeout(function(){return f.display.input.focus()},20);return}try{var te=u.dataTransfer.getData("Text");if(te){var oe;if(f.state.draggingText&&!f.state.draggingText.copy&&(oe=f.listSelections()),Mb(f.doc,xu(v,v)),oe)for(var me=0;me<oe.length;++me)ip(f.doc,"",oe[me].anchor,oe[me].head,"drag");f.replaceSelection(te,"around","paste"),f.display.input.focus()}}catch{}}}}function AH(u,f){if(c&&(!u.state.draggingText||+new Date-AD<100)){hi(f);return}if(!(ye(u,f)||Pa(u.display,f))&&(f.dataTransfer.setData("Text",u.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!w)){var v=z("img",null,null,"position: fixed; left: 0; top: 0;");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_&&(v.width=v.height=1,u.display.wrapper.appendChild(v),v._top=v.offsetTop),f.dataTransfer.setDragImage(v,0,0),_&&v.parentNode.removeChild(v)}}function xH(u,f){var v=M(u,f);if(v){var g=document.createDocumentFragment();po(u,v,g),u.display.dragCursor||(u.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),u.display.lineSpace.insertBefore(u.display.dragCursor,u.display.cursorDiv)),j(u.display.dragCursor,g)}}function xD(u){u.display.dragCursor&&(u.display.lineSpace.removeChild(u.display.dragCursor),u.display.dragCursor=null)}function DD(u){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),v=[],g=0;g<f.length;g++){var E=f[g].CodeMirror;E&&v.push(E)}v.length&&v[0].operation(function(){for(var A=0;A<v.length;A++)u(v[A])})}}var ID=!1;function DH(){ID||(IH(),ID=!0)}function IH(){var u;Xe(window,"resize",function(){u==null&&(u=setTimeout(function(){u=null,DD(RH)},100))}),Xe(window,"blur",function(){return DD(Kf)})}function RH(u){var f=u.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,u.setSize()}for(var Mu={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},_y=0;_y<10;_y++)Mu[_y+48]=Mu[_y+96]=String(_y);for(var Nb=65;Nb<=90;Nb++)Mu[Nb]=String.fromCharCode(Nb);for(var wy=1;wy<=12;wy++)Mu[wy+111]=Mu[wy+63235]="F"+wy;var Ac={};Ac.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ac.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ac.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ac.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ac.default=D?Ac.macDefault:Ac.pcDefault;function MH(u){var f=u.split(/-(?!$)/);u=f[f.length-1];for(var v,g,E,A,N=0;N<f.length-1;N++){var U=f[N];if(/^(cmd|meta|m)$/i.test(U))A=!0;else if(/^a(lt)?$/i.test(U))v=!0;else if(/^(c|ctrl|control)$/i.test(U))g=!0;else if(/^s(hift)?$/i.test(U))E=!0;else throw new Error("Unrecognized modifier name: "+U)}return v&&(u="Alt-"+u),g&&(u="Ctrl-"+u),A&&(u="Cmd-"+u),E&&(u="Shift-"+u),u}function PH(u){var f={};for(var v in u)if(u.hasOwnProperty(v)){var g=u[v];if(/^(name|fallthrough|(de|at)tach)$/.test(v))continue;if(g=="..."){delete u[v];continue}for(var E=Jt(v.split(" "),MH),A=0;A<E.length;A++){var N=void 0,U=void 0;A==E.length-1?(U=E.join(" "),N=g):(U=E.slice(0,A+1).join(" "),N="...");var H=f[U];if(!H)f[U]=N;else if(H!=N)throw new Error("Inconsistent bindings for "+U)}delete u[v]}for(var Y in f)u[Y]=f[Y];return u}function rp(u,f,v,g){f=Gb(f);var E=f.call?f.call(u,g):f[u];if(E===!1)return"nothing";if(E==="...")return"multi";if(E!=null&&v(E))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return rp(u,f.fallthrough,v,g);for(var A=0;A<f.fallthrough.length;A++){var N=rp(u,f.fallthrough[A],v,g);if(N)return N}}}function RD(u){var f=typeof u=="string"?u:Mu[u.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function MD(u,f,v){var g=u;return f.altKey&&g!="Alt"&&(u="Alt-"+u),(I?f.metaKey:f.ctrlKey)&&g!="Ctrl"&&(u="Ctrl-"+u),(I?f.ctrlKey:f.metaKey)&&g!="Mod"&&(u="Cmd-"+u),!v&&f.shiftKey&&g!="Shift"&&(u="Shift-"+u),u}function PD(u,f){if(_&&u.keyCode==34&&u.char)return!1;var v=Mu[u.keyCode];return v==null||u.altGraphKey?!1:(u.keyCode==3&&u.code&&(v=u.code),MD(v,u,f))}function Gb(u){return typeof u=="string"?Ac[u]:u}function ap(u,f){for(var v=u.doc.sel.ranges,g=[],E=0;E<v.length;E++){for(var A=f(v[E]);g.length&&yt(A.from,Se(g).to)<=0;){var N=g.pop();if(yt(N.from,A.from)<0){A.from=N.from;break}}g.push(A)}ns(u,function(){for(var U=g.length-1;U>=0;U--)ip(u.doc,"",g[U].from,g[U].to,"+delete");Zf(u)})}function jE(u,f,v){var g=_i(u.text,f+v,v);return g<0||g>u.text.length?null:g}function zE(u,f,v){var g=jE(u,f.ch,v);return g==null?null:new Ie(f.line,g,v<0?"after":"before")}function XE(u,f,v,g,E){if(u){f.doc.direction=="rtl"&&(E=-E);var A=Rt(v,f.doc.direction);if(A){var N=E<0?Se(A):A[0],U=E<0==(N.level==1),H=U?"after":"before",Y;if(N.level>0||f.doc.direction=="rtl"){var te=Oa(f,v);Y=E<0?v.text.length-1:0;var oe=yr(f,te,Y).top;Y=mi(function(me){return yr(f,te,me).top==oe},E<0==(N.level==1)?N.from:N.to-1,Y),H=="before"&&(Y=jE(v,Y,1))}else Y=E<0?N.to:N.from;return new Ie(g,Y,H)}}return new Ie(g,E<0?v.text.length:0,E<0?"before":"after")}function OH(u,f,v,g){var E=Rt(f,u.doc.direction);if(!E)return zE(f,v,g);v.ch>=f.text.length?(v.ch=f.text.length,v.sticky="before"):v.ch<=0&&(v.ch=0,v.sticky="after");var A=di(E,v.ch,v.sticky),N=E[A];if(u.doc.direction=="ltr"&&N.level%2==0&&(g>0?N.to>v.ch:N.from<v.ch))return zE(f,v,g);var U=function(Ye,Je){return jE(f,Ye instanceof Ie?Ye.ch:Ye,Je)},H,Y=function(Ye){return u.options.lineWrapping?(H=H||Oa(u,f),Su(u,f,H,Ye)):{begin:0,end:f.text.length}},te=Y(v.sticky=="before"?U(v,-1):v.ch);if(u.doc.direction=="rtl"||N.level==1){var oe=N.level==1==g<0,me=U(v,oe?1:-1);if(me!=null&&(oe?me<=N.to&&me<=te.end:me>=N.from&&me>=te.begin)){var pe=oe?"before":"after";return new Ie(v.line,me,pe)}}var Ce=function(Ye,Je,qe){for(var rt=function(Yi,br){return br?new Ie(v.line,U(Yi,1),"before"):new Ie(v.line,Yi,"after")};Ye>=0&&Ye<E.length;Ye+=Je){var gt=E[Ye],pt=Je>0==(gt.level!=1),Vt=pt?qe.begin:U(qe.end,-1);if(gt.from<=Vt&&Vt<gt.to||(Vt=pt?gt.from:U(gt.to,-1),qe.begin<=Vt&&Vt<qe.end))return rt(Vt,pt)}},xe=Ce(A+g,g,te);if(xe)return xe;var Be=g>0?te.end:U(te.begin,-1);return Be!=null&&!(g>0&&Be==f.text.length)&&(xe=Ce(g>0?0:E.length-1,g,Y(Be)),xe)?xe:null}var Ey={selectAll:gD,singleSelection:function(u){return u.setSelection(u.getCursor("anchor"),u.getCursor("head"),he)},killLine:function(u){return ap(u,function(f){if(f.empty()){var v=ot(u.doc,f.head.line).text.length;return f.head.ch==v&&f.head.line<u.lastLine()?{from:f.head,to:Ie(f.head.line+1,0)}:{from:f.head,to:Ie(f.head.line,v)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(u){return ap(u,function(f){return{from:Ie(f.from().line,0),to:vt(u.doc,Ie(f.to().line+1,0))}})},delLineLeft:function(u){return ap(u,function(f){return{from:Ie(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(u){return ap(u,function(f){var v=u.charCoords(f.head,"div").top+5,g=u.coordsChar({left:0,top:v},"div");return{from:g,to:f.from()}})},delWrappedLineRight:function(u){return ap(u,function(f){var v=u.charCoords(f.head,"div").top+5,g=u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:v},"div");return{from:f.from(),to:g}})},undo:function(u){return u.undo()},redo:function(u){return u.redo()},undoSelection:function(u){return u.undoSelection()},redoSelection:function(u){return u.redoSelection()},goDocStart:function(u){return u.extendSelection(Ie(u.firstLine(),0))},goDocEnd:function(u){return u.extendSelection(Ie(u.lastLine()))},goLineStart:function(u){return u.extendSelectionsBy(function(f){return OD(u,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(u){return u.extendSelectionsBy(function(f){return ND(u,f.head)},{origin:"+move",bias:1})},goLineEnd:function(u){return u.extendSelectionsBy(function(f){return NH(u,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(u){return u.extendSelectionsBy(function(f){var v=u.cursorCoords(f.head,"div").top+5;return u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:v},"div")},ne)},goLineLeft:function(u){return u.extendSelectionsBy(function(f){var v=u.cursorCoords(f.head,"div").top+5;return u.coordsChar({left:0,top:v},"div")},ne)},goLineLeftSmart:function(u){return u.extendSelectionsBy(function(f){var v=u.cursorCoords(f.head,"div").top+5,g=u.coordsChar({left:0,top:v},"div");return g.ch<u.getLine(g.line).search(/\S/)?ND(u,f.head):g},ne)},goLineUp:function(u){return u.moveV(-1,"line")},goLineDown:function(u){return u.moveV(1,"line")},goPageUp:function(u){return u.moveV(-1,"page")},goPageDown:function(u){return u.moveV(1,"page")},goCharLeft:function(u){return u.moveH(-1,"char")},goCharRight:function(u){return u.moveH(1,"char")},goColumnLeft:function(u){return u.moveH(-1,"column")},goColumnRight:function(u){return u.moveH(1,"column")},goWordLeft:function(u){return u.moveH(-1,"word")},goGroupRight:function(u){return u.moveH(1,"group")},goGroupLeft:function(u){return u.moveH(-1,"group")},goWordRight:function(u){return u.moveH(1,"word")},delCharBefore:function(u){return u.deleteH(-1,"codepoint")},delCharAfter:function(u){return u.deleteH(1,"char")},delWordBefore:function(u){return u.deleteH(-1,"word")},delWordAfter:function(u){return u.deleteH(1,"word")},delGroupBefore:function(u){return u.deleteH(-1,"group")},delGroupAfter:function(u){return u.deleteH(1,"group")},indentAuto:function(u){return u.indentSelection("smart")},indentMore:function(u){return u.indentSelection("add")},indentLess:function(u){return u.indentSelection("subtract")},insertTab:function(u){return u.replaceSelection("	")},insertSoftTab:function(u){for(var f=[],v=u.listSelections(),g=u.options.tabSize,E=0;E<v.length;E++){var A=v[E].from(),N=ie(u.getLine(A.line),A.ch,g);f.push(ht(g-N%g))}u.replaceSelections(f)},defaultTab:function(u){u.somethingSelected()?u.indentSelection("add"):u.execCommand("insertTab")},transposeChars:function(u){return ns(u,function(){for(var f=u.listSelections(),v=[],g=0;g<f.length;g++)if(f[g].empty()){var E=f[g].head,A=ot(u.doc,E.line).text;if(A){if(E.ch==A.length&&(E=new Ie(E.line,E.ch-1)),E.ch>0)E=new Ie(E.line,E.ch+1),u.replaceRange(A.charAt(E.ch-1)+A.charAt(E.ch-2),Ie(E.line,E.ch-2),E,"+transpose");else if(E.line>u.doc.first){var N=ot(u.doc,E.line-1).text;N&&(E=new Ie(E.line,1),u.replaceRange(A.charAt(0)+u.doc.lineSeparator()+N.charAt(N.length-1),Ie(E.line-1,N.length-1),E,"+transpose"))}}v.push(new xi(E,E))}u.setSelections(v)})},newlineAndIndent:function(u){return ns(u,function(){for(var f=u.listSelections(),v=f.length-1;v>=0;v--)u.replaceRange(u.doc.lineSeparator(),f[v].anchor,f[v].head,"+input");f=u.listSelections();for(var g=0;g<f.length;g++)u.indentLine(f[g].from().line,null,!0);Zf(u)})},openLine:function(u){return u.replaceSelection(`
`,"start")},toggleOverwrite:function(u){return u.toggleOverwrite()}};function OD(u,f){var v=ot(u.doc,f),g=Qn(v);return g!=v&&(f=Ne(g)),XE(!0,u,g,f,1)}function NH(u,f){var v=ot(u.doc,f),g=El(v);return g!=v&&(f=Ne(g)),XE(!0,u,v,f,-1)}function ND(u,f){var v=OD(u,f.line),g=ot(u.doc,v.line),E=Rt(g,u.doc.direction);if(!E||E[0].level==0){var A=Math.max(v.ch,g.text.search(/\S/)),N=f.line==v.line&&f.ch<=A&&f.ch;return Ie(v.line,N?0:A,v.sticky)}return v}function Ub(u,f,v){if(typeof f=="string"&&(f=Ey[f],!f))return!1;u.display.input.ensurePolled();var g=u.display.shift,E=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),v&&(u.display.shift=!1),E=f(u)!=de}finally{u.display.shift=g,u.state.suppressEdits=!1}return E}function GH(u,f,v){for(var g=0;g<u.state.keyMaps.length;g++){var E=rp(f,u.state.keyMaps[g],v,u);if(E)return E}return u.options.extraKeys&&rp(f,u.options.extraKeys,v,u)||rp(f,u.options.keyMap,v,u)}var UH=new le;function Ty(u,f,v,g){var E=u.state.keySeq;if(E){if(RD(f))return"handled";if(/\'$/.test(f)?u.state.keySeq=null:UH.set(50,function(){u.state.keySeq==E&&(u.state.keySeq=null,u.display.input.reset())}),GD(u,E+" "+f,v,g))return!0}return GD(u,f,v,g)}function GD(u,f,v,g){var E=GH(u,f,g);return E=="multi"&&(u.state.keySeq=f),E=="handled"&&Fi(u,"keyHandled",u,f,v),(E=="handled"||E=="multi")&&(tt(v),RE(u)),!!E}function UD(u,f){var v=PD(f,!0);return v?f.shiftKey&&!u.state.keySeq?Ty(u,"Shift-"+v,f,function(g){return Ub(u,g,!0)})||Ty(u,v,f,function(g){if(typeof g=="string"?/^go[A-Z]/.test(g):g.motion)return Ub(u,g)}):Ty(u,v,f,function(g){return Ub(u,g)}):!1}function LH(u,f,v){return Ty(u,"'"+v+"'",f,function(g){return Ub(u,g,!0)})}var KE=null;function LD(u){var f=this;if(!(u.target&&u.target!=f.display.input.getField())&&(f.curOp.focus=be(),!ye(f,u))){c&&d<11&&u.keyCode==27&&(u.returnValue=!1);var v=u.keyCode;f.display.shift=v==16||u.shiftKey;var g=UD(f,u);_&&(KE=g?v:null,!g&&v==88&&!Wd&&(D?u.metaKey:u.ctrlKey)&&f.replaceSelection("",null,"cut")),r&&!D&&!g&&v==46&&u.shiftKey&&!u.ctrlKey&&document.execCommand&&document.execCommand("cut"),v==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&BH(f)}}function BH(u){var f=u.display.lineDiv;ue(f,"CodeMirror-crosshair");function v(g){(g.keyCode==18||!g.altKey)&&(L(f,"CodeMirror-crosshair"),ut(document,"keyup",v),ut(document,"mouseover",v))}Xe(document,"keyup",v),Xe(document,"mouseover",v)}function BD(u){u.keyCode==16&&(this.doc.sel.shift=!1),ye(this,u)}function $D(u){var f=this;if(!(u.target&&u.target!=f.display.input.getField())&&!(Pa(f.display,u)||ye(f,u)||u.ctrlKey&&!u.altKey||D&&u.metaKey)){var v=u.keyCode,g=u.charCode;if(_&&v==KE){KE=null,tt(u);return}if(!(_&&(!u.which||u.which<10)&&UD(f,u))){var E=String.fromCharCode(g??v);E!="\b"&&(LH(f,u,E)||f.display.input.onKeyPress(u))}}}var $H=400,ZE=function(u,f,v){this.time=u,this.pos=f,this.button=v};ZE.prototype.compare=function(u,f,v){return this.time+$H>u&&yt(f,this.pos)==0&&v==this.button};var Cy,ky;function FH(u,f){var v=+new Date;return ky&&ky.compare(v,u,f)?(Cy=ky=null,"triple"):Cy&&Cy.compare(v,u,f)?(ky=new ZE(v,u,f),Cy=null,"double"):(Cy=new ZE(v,u,f),ky=null,"single")}function FD(u){var f=this,v=f.display;if(!(ye(f,u)||v.activeTouch&&v.input.supportsTouch())){if(v.input.ensurePolled(),v.shift=u.shiftKey,Pa(v,u)){p||(v.scroller.draggable=!1,setTimeout(function(){return v.scroller.draggable=!0},100));return}if(!QE(f,u)){var g=M(f,u),E=ks(u),A=g?FH(g,E):"single";window.focus(),E==1&&f.state.selectingText&&f.state.selectingText(u),!(g&&HH(f,E,g,A,u))&&(E==1?g?YH(f,g,A,u):Sn(u)==v.scroller&&tt(u):E==2?(g&&Rb(f.doc,g),setTimeout(function(){return v.input.focus()},20)):E==3&&(F?f.display.input.onContextMenu(u):ME(f)))}}}function HH(u,f,v,g,E){var A="Click";return g=="double"?A="Double"+A:g=="triple"&&(A="Triple"+A),A=(f==1?"Left":f==2?"Middle":"Right")+A,Ty(u,MD(A,E),E,function(N){if(typeof N=="string"&&(N=Ey[N]),!N)return!1;var U=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),U=N(u,v)!=de}finally{u.state.suppressEdits=!1}return U})}function VH(u,f,v){var g=u.getOption("configureMouse"),E=g?g(u,f,v):{};if(E.unit==null){var A=B?v.shiftKey&&v.metaKey:v.altKey;E.unit=A?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(E.extend==null||u.doc.extend)&&(E.extend=u.doc.extend||v.shiftKey),E.addNew==null&&(E.addNew=D?v.metaKey:v.ctrlKey),E.moveOnDrag==null&&(E.moveOnDrag=!(D?v.altKey:v.ctrlKey)),E}function YH(u,f,v,g){c?setTimeout(K(Hx,u),0):u.curOp.focus=be();var E=VH(u,v,g),A=u.doc.sel,N;u.options.dragDrop&&ur&&!u.isReadOnly()&&v=="single"&&(N=A.contains(f))>-1&&(yt((N=A.ranges[N]).from(),f)<0||f.xRel>0)&&(yt(N.to(),f)>0||f.xRel<0)?qH(u,g,f,E):WH(u,g,f,E)}function qH(u,f,v,g){var E=u.display,A=!1,N=gr(u,function(Y){p&&(E.scroller.draggable=!1),u.state.draggingText=!1,u.state.delayingBlurEvent&&(u.hasFocus()?u.state.delayingBlurEvent=!1:ME(u)),ut(E.wrapper.ownerDocument,"mouseup",N),ut(E.wrapper.ownerDocument,"mousemove",U),ut(E.scroller,"dragstart",H),ut(E.scroller,"drop",N),A||(tt(Y),g.addNew||Rb(u.doc,v,null,null,g.extend),p&&!w||c&&d==9?setTimeout(function(){E.wrapper.ownerDocument.body.focus({preventScroll:!0}),E.input.focus()},20):E.input.focus())}),U=function(Y){A=A||Math.abs(f.clientX-Y.clientX)+Math.abs(f.clientY-Y.clientY)>=10},H=function(){return A=!0};p&&(E.scroller.draggable=!0),u.state.draggingText=N,N.copy=!g.moveOnDrag,Xe(E.wrapper.ownerDocument,"mouseup",N),Xe(E.wrapper.ownerDocument,"mousemove",U),Xe(E.scroller,"dragstart",H),Xe(E.scroller,"drop",N),u.state.delayingBlurEvent=!0,setTimeout(function(){return E.input.focus()},20),E.scroller.dragDrop&&E.scroller.dragDrop()}function HD(u,f,v){if(v=="char")return new xi(f,f);if(v=="word")return u.findWordAt(f);if(v=="line")return new xi(Ie(f.line,0),vt(u.doc,Ie(f.line+1,0)));var g=v(u,f);return new xi(g.from,g.to)}function WH(u,f,v,g){c&&ME(u);var E=u.display,A=u.doc;tt(f);var N,U,H=A.sel,Y=H.ranges;if(g.addNew&&!g.extend?(U=A.sel.contains(v),U>-1?N=Y[U]:N=new xi(v,v)):(N=A.sel.primary(),U=A.sel.primIndex),g.unit=="rectangle")g.addNew||(N=new xi(v,v)),v=M(u,f,!0,!0),U=-1;else{var te=HD(u,v,g.unit);g.extend?N=qE(N,te.anchor,te.head,g.extend):N=te}g.addNew?U==-1?(U=Y.length,Kr(A,Yo(u,Y.concat([N]),U),{scroll:!1,origin:"*mouse"})):Y.length>1&&Y[U].empty()&&g.unit=="char"&&!g.extend?(Kr(A,Yo(u,Y.slice(0,U).concat(Y.slice(U+1)),0),{scroll:!1,origin:"*mouse"}),H=A.sel):WE(A,U,N,ve):(U=0,Kr(A,new Us([N],0),ve),H=A.sel);var oe=v;function me(qe){if(yt(oe,qe)!=0)if(oe=qe,g.unit=="rectangle"){for(var rt=[],gt=u.options.tabSize,pt=ie(ot(A,v.line).text,v.ch,gt),Vt=ie(ot(A,qe.line).text,qe.ch,gt),Yi=Math.min(pt,Vt),br=Math.max(pt,Vt),vn=Math.min(v.line,qe.line),rs=Math.min(u.lastLine(),Math.max(v.line,qe.line));vn<=rs;vn++){var Ga=ot(A,vn).text,Yn=Bt(Ga,Yi,gt);Yi==br?rt.push(new xi(Ie(vn,Yn),Ie(vn,Yn))):Ga.length>Yn&&rt.push(new xi(Ie(vn,Yn),Ie(vn,Bt(Ga,br,gt))))}rt.length||rt.push(new xi(v,v)),Kr(A,Yo(u,H.ranges.slice(0,U).concat(rt),U),{origin:"*mouse",scroll:!1}),u.scrollIntoView(qe)}else{var Ua=N,Ir=HD(u,qe,g.unit),ir=Ua.anchor,qn;yt(Ir.anchor,ir)>0?(qn=Ir.head,ir=oa(Ua.from(),Ir.anchor)):(qn=Ir.anchor,ir=sa(Ua.to(),Ir.head));var In=H.ranges.slice(0);In[U]=jH(u,new xi(vt(A,ir),qn)),Kr(A,Yo(u,In,U),ve)}}var pe=E.wrapper.getBoundingClientRect(),Ce=0;function xe(qe){var rt=++Ce,gt=M(u,qe,!0,g.unit=="rectangle");if(gt)if(yt(gt,oe)!=0){u.curOp.focus=be(),me(gt);var pt=kb(E,A);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(gr(u,function(){Ce==rt&&xe(qe)}),150)}else{var Vt=qe.clientY<pe.top?-20:qe.clientY>pe.bottom?20:0;Vt&&setTimeout(gr(u,function(){Ce==rt&&(E.scroller.scrollTop+=Vt,xe(qe))}),50)}}function Be(qe){u.state.selectingText=!1,Ce=1/0,qe&&(tt(qe),E.input.focus()),ut(E.wrapper.ownerDocument,"mousemove",Ye),ut(E.wrapper.ownerDocument,"mouseup",Je),A.history.lastSelOrigin=null}var Ye=gr(u,function(qe){qe.buttons===0||!ks(qe)?Be(qe):xe(qe)}),Je=gr(u,Be);u.state.selectingText=Je,Xe(E.wrapper.ownerDocument,"mousemove",Ye),Xe(E.wrapper.ownerDocument,"mouseup",Je)}function jH(u,f){var v=f.anchor,g=f.head,E=ot(u.doc,v.line);if(yt(v,g)==0&&v.sticky==g.sticky)return f;var A=Rt(E);if(!A)return f;var N=di(A,v.ch,v.sticky),U=A[N];if(U.from!=v.ch&&U.to!=v.ch)return f;var H=N+(U.from==v.ch==(U.level!=1)?0:1);if(H==0||H==A.length)return f;var Y;if(g.line!=v.line)Y=(g.line-v.line)*(u.doc.direction=="ltr"?1:-1)>0;else{var te=di(A,g.ch,g.sticky),oe=te-N||(g.ch-v.ch)*(U.level==1?-1:1);te==H-1||te==H?Y=oe<0:Y=oe>0}var me=A[H+(Y?-1:0)],pe=Y==(me.level==1),Ce=pe?me.from:me.to,xe=pe?"after":"before";return v.ch==Ce&&v.sticky==xe?f:new xi(new Ie(v.line,Ce,xe),g)}function VD(u,f,v,g){var E,A;if(f.touches)E=f.touches[0].clientX,A=f.touches[0].clientY;else try{E=f.clientX,A=f.clientY}catch{return!1}if(E>=Math.floor(u.display.gutters.getBoundingClientRect().right))return!1;g&&tt(f);var N=u.display,U=N.lineDiv.getBoundingClientRect();if(A>U.bottom||!Le(u,v))return Xt(f);A-=U.top-N.viewOffset;for(var H=0;H<u.display.gutterSpecs.length;++H){var Y=N.gutters.childNodes[H];if(Y&&Y.getBoundingClientRect().right>=E){var te=aa(u.doc,A),oe=u.display.gutterSpecs[H];return Ot(u,v,u,te,oe.className,f),Xt(f)}}}function QE(u,f){return VD(u,f,"gutterClick",!0)}function YD(u,f){Pa(u.display,f)||zH(u,f)||ye(u,f,"contextmenu")||F||u.display.input.onContextMenu(f)}function zH(u,f){return Le(u,"gutterContextMenu")?VD(u,f,"gutterContextMenu",!1):!1}function qD(u){u.display.wrapper.className=u.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+u.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Vo(u)}var sp={toString:function(){return"CodeMirror.Init"}},WD={},Lb={};function XH(u){var f=u.optionHandlers;function v(g,E,A,N){u.defaults[g]=E,A&&(f[g]=N?function(U,H,Y){Y!=sp&&A(U,H,Y)}:A)}u.defineOption=v,u.Init=sp,v("value","",function(g,E){return g.setValue(E)},!0),v("mode",null,function(g,E){g.doc.modeOption=E,HE(g)},!0),v("indentUnit",2,HE,!0),v("indentWithTabs",!1),v("smartIndent",!0),v("tabSize",4,function(g){fy(g),Vo(g),ee(g)},!0),v("lineSeparator",null,function(g,E){if(g.doc.lineSep=E,!!E){var A=[],N=g.doc.first;g.doc.iter(function(H){for(var Y=0;;){var te=H.text.indexOf(E,Y);if(te==-1)break;Y=te+E.length,A.push(Ie(N,te))}N++});for(var U=A.length-1;U>=0;U--)ip(g.doc,E,A[U],Ie(A[U].line,A[U].ch+E.length))}}),v("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(g,E,A){g.state.specialChars=new RegExp(E.source+(E.test("	")?"":"|	"),"g"),A!=sp&&g.refresh()}),v("specialCharPlaceholder",ha,function(g){return g.refresh()},!0),v("electricChars",!0),v("inputStyle",O?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),v("spellcheck",!1,function(g,E){return g.getInputField().spellcheck=E},!0),v("autocorrect",!1,function(g,E){return g.getInputField().autocorrect=E},!0),v("autocapitalize",!1,function(g,E){return g.getInputField().autocapitalize=E},!0),v("rtlMoveVisually",!P),v("wholeLineUpdateBefore",!0),v("theme","default",function(g){qD(g),hy(g)},!0),v("keyMap","default",function(g,E,A){var N=Gb(E),U=A!=sp&&Gb(A);U&&U.detach&&U.detach(g,N),N.attach&&N.attach(g,U||null)}),v("extraKeys",null),v("configureMouse",null),v("lineWrapping",!1,ZH,!0),v("gutters",[],function(g,E){g.display.gutterSpecs=$E(E,g.options.lineNumbers),hy(g)},!0),v("fixedGutter",!0,function(g,E){g.display.gutters.style.left=E?h(g.display)+"px":"0",g.refresh()},!0),v("coverGutterNextToScrollbar",!1,function(g){return Qf(g)},!0),v("scrollbarStyle","native",function(g){zx(g),Qf(g),g.display.scrollbars.setScrollTop(g.doc.scrollTop),g.display.scrollbars.setScrollLeft(g.doc.scrollLeft)},!0),v("lineNumbers",!1,function(g,E){g.display.gutterSpecs=$E(g.options.gutters,E),hy(g)},!0),v("firstLineNumber",1,hy,!0),v("lineNumberFormatter",function(g){return g},hy,!0),v("showCursorWhenSelecting",!1,Dn,!0),v("resetSelectionOnContextMenu",!0),v("lineWiseCopyCut",!0),v("pasteLinesPerSelection",!0),v("selectionsMayTouch",!1),v("readOnly",!1,function(g,E){E=="nocursor"&&(Kf(g),g.display.input.blur()),g.display.input.readOnlyChanged(E)}),v("screenReaderLabel",null,function(g,E){E=E===""?null:E,g.display.input.screenReaderLabelChanged(E)}),v("disableInput",!1,function(g,E){E||g.display.input.reset()},!0),v("dragDrop",!0,KH),v("allowDropFileTypes",null),v("cursorBlinkRate",530),v("cursorScrollMargin",0),v("cursorHeight",1,Dn,!0),v("singleCursorHeightPerLine",!0,Dn,!0),v("workTime",100),v("workDelay",100),v("flattenSpans",!0,fy,!0),v("addModeClass",!1,fy,!0),v("pollInterval",100),v("undoDepth",200,function(g,E){return g.doc.history.undoDepth=E}),v("historyEventDelay",1250),v("viewportMargin",10,function(g){return g.refresh()},!0),v("maxHighlightLength",1e4,fy,!0),v("moveInputWithCursor",!0,function(g,E){E||g.display.input.resetPosition()}),v("tabindex",null,function(g,E){return g.display.input.getField().tabIndex=E||""}),v("autofocus",null),v("direction","ltr",function(g,E){return g.doc.setDirection(E)},!0),v("phrases",null)}function KH(u,f,v){var g=v&&v!=sp;if(!f!=!g){var E=u.display.dragFunctions,A=f?Xe:ut;A(u.display.scroller,"dragstart",E.start),A(u.display.scroller,"dragenter",E.enter),A(u.display.scroller,"dragover",E.over),A(u.display.scroller,"dragleave",E.leave),A(u.display.scroller,"drop",E.drop)}}function ZH(u){u.options.lineWrapping?(ue(u.display.wrapper,"CodeMirror-wrap"),u.display.sizer.style.minWidth="",u.display.sizerWidth=null):(L(u.display.wrapper,"CodeMirror-wrap"),Ar(u)),T(u),ee(u),Vo(u),setTimeout(function(){return Qf(u)},100)}function dn(u,f){var v=this;if(!(this instanceof dn))return new dn(u,f);this.options=f=f?q(f):{},q(WD,f,!1);var g=f.value;typeof g=="string"?g=new Na(g,f.mode,null,f.lineSeparator,f.direction):f.mode&&(g.modeOption=f.mode),this.doc=g;var E=new dn.inputStyles[f.inputStyle](this),A=this.display=new uH(u,g,E,f);A.wrapper.CodeMirror=this,qD(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zx(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new le,keySeq:null,specialChars:null},f.autofocus&&!O&&A.input.focus(),c&&d<11&&setTimeout(function(){return v.display.input.reset(!0)},20),QH(this),DH(),hh(this),this.curOp.forceUpdate=!0,rD(this,g),f.autofocus&&!O||this.hasFocus()?setTimeout(function(){v.hasFocus()&&!v.state.focused&&PE(v)},20):Kf(this);for(var N in Lb)Lb.hasOwnProperty(N)&&Lb[N](this,f[N],sp);Zx(this),f.finishInit&&f.finishInit(this);for(var U=0;U<JE.length;++U)JE[U](this);fh(this),p&&f.lineWrapping&&getComputedStyle(A.lineDiv).textRendering=="optimizelegibility"&&(A.lineDiv.style.textRendering="auto")}dn.defaults=WD,dn.optionHandlers=Lb;function QH(u){var f=u.display;Xe(f.scroller,"mousedown",gr(u,FD)),c&&d<11?Xe(f.scroller,"dblclick",gr(u,function(H){if(!ye(u,H)){var Y=M(u,H);if(!(!Y||QE(u,H)||Pa(u.display,H))){tt(H);var te=u.findWordAt(Y);Rb(u.doc,te.anchor,te.head)}}})):Xe(f.scroller,"dblclick",function(H){return ye(u,H)||tt(H)}),Xe(f.scroller,"contextmenu",function(H){return YD(u,H)}),Xe(f.input.getField(),"contextmenu",function(H){f.scroller.contains(H.target)||YD(u,H)});var v,g={end:0};function E(){f.activeTouch&&(v=setTimeout(function(){return f.activeTouch=null},1e3),g=f.activeTouch,g.end=+new Date)}function A(H){if(H.touches.length!=1)return!1;var Y=H.touches[0];return Y.radiusX<=1&&Y.radiusY<=1}function N(H,Y){if(Y.left==null)return!0;var te=Y.left-H.left,oe=Y.top-H.top;return te*te+oe*oe>20*20}Xe(f.scroller,"touchstart",function(H){if(!ye(u,H)&&!A(H)&&!QE(u,H)){f.input.ensurePolled(),clearTimeout(v);var Y=+new Date;f.activeTouch={start:Y,moved:!1,prev:Y-g.end<=300?g:null},H.touches.length==1&&(f.activeTouch.left=H.touches[0].pageX,f.activeTouch.top=H.touches[0].pageY)}}),Xe(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Xe(f.scroller,"touchend",function(H){var Y=f.activeTouch;if(Y&&!Pa(f,H)&&Y.left!=null&&!Y.moved&&new Date-Y.start<300){var te=u.coordsChar(f.activeTouch,"page"),oe;!Y.prev||N(Y,Y.prev)?oe=new xi(te,te):!Y.prev.prev||N(Y,Y.prev.prev)?oe=u.findWordAt(te):oe=new xi(Ie(te.line,0),vt(u.doc,Ie(te.line+1,0))),u.setSelection(oe.anchor,oe.head),u.focus(),tt(H)}E()}),Xe(f.scroller,"touchcancel",E),Xe(f.scroller,"scroll",function(){f.scroller.clientHeight&&(ly(u,f.scroller.scrollTop),uh(u,f.scroller.scrollLeft,!0),Ot(u,"scroll",u))}),Xe(f.scroller,"mousewheel",function(H){return eD(u,H)}),Xe(f.scroller,"DOMMouseScroll",function(H){return eD(u,H)}),Xe(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(H){ye(u,H)||hi(H)},over:function(H){ye(u,H)||(xH(u,H),hi(H))},start:function(H){return AH(u,H)},drop:gr(u,SH),leave:function(H){ye(u,H)||xD(u)}};var U=f.input.getField();Xe(U,"keyup",function(H){return BD.call(u,H)}),Xe(U,"keydown",gr(u,LD)),Xe(U,"keypress",gr(u,$D)),Xe(U,"focus",function(H){return PE(u,H)}),Xe(U,"blur",function(H){return Kf(u,H)})}var JE=[];dn.defineInitHook=function(u){return JE.push(u)};function Sy(u,f,v,g){var E=u.doc,A;v==null&&(v="add"),v=="smart"&&(E.mode.indent?A=Hr(u,f).state:v="prev");var N=u.options.tabSize,U=ot(E,f),H=ie(U.text,null,N);U.stateAfter&&(U.stateAfter=null);var Y=U.text.match(/^\s*/)[0],te;if(!g&&!/\S/.test(U.text))te=0,v="not";else if(v=="smart"&&(te=E.mode.indent(A,U.text.slice(Y.length),U.text),te==de||te>150)){if(!g)return;v="prev"}v=="prev"?f>E.first?te=ie(ot(E,f-1).text,null,N):te=0:v=="add"?te=H+u.options.indentUnit:v=="subtract"?te=H-u.options.indentUnit:typeof v=="number"&&(te=H+v),te=Math.max(0,te);var oe="",me=0;if(u.options.indentWithTabs)for(var pe=Math.floor(te/N);pe;--pe)me+=N,oe+="	";if(me<te&&(oe+=ht(te-me)),oe!=Y)return ip(E,oe,Ie(f,0),Ie(f,Y.length),"+input"),U.stateAfter=null,!0;for(var Ce=0;Ce<E.sel.ranges.length;Ce++){var xe=E.sel.ranges[Ce];if(xe.head.line==f&&xe.head.ch<Y.length){var Be=Ie(f,Y.length);WE(E,Ce,new xi(Be,Be));break}}}var qo=null;function Bb(u){qo=u}function eT(u,f,v,g,E){var A=u.doc;u.display.shift=!1,g||(g=A.sel);var N=+new Date-200,U=E=="paste"||u.state.pasteIncoming>N,H=Sa(f),Y=null;if(U&&g.ranges.length>1)if(qo&&qo.text.join(`
`)==f){if(g.ranges.length%qo.text.length==0){Y=[];for(var te=0;te<qo.text.length;te++)Y.push(A.splitLines(qo.text[te]))}}else H.length==g.ranges.length&&u.options.pasteLinesPerSelection&&(Y=Jt(H,function(Ye){return[Ye]}));for(var oe=u.curOp.updateInput,me=g.ranges.length-1;me>=0;me--){var pe=g.ranges[me],Ce=pe.from(),xe=pe.to();pe.empty()&&(v&&v>0?Ce=Ie(Ce.line,Ce.ch-v):u.state.overwrite&&!U?xe=Ie(xe.line,Math.min(ot(A,xe.line).text.length,xe.ch+Se(H).length)):U&&qo&&qo.lineWise&&qo.text.join(`
`)==H.join(`
`)&&(Ce=xe=Ie(Ce.line,0)));var Be={from:Ce,to:xe,text:Y?Y[me%Y.length]:H,origin:E||(U?"paste":u.state.cutIncoming>N?"cut":"+input")};tp(u.doc,Be),Fi(u,"inputRead",u,Be)}f&&!U&&zD(u,f),Zf(u),u.curOp.updateInput<2&&(u.curOp.updateInput=oe),u.curOp.typing=!0,u.state.pasteIncoming=u.state.cutIncoming=-1}function jD(u,f){var v=u.clipboardData&&u.clipboardData.getData("Text");if(v)return u.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&ns(f,function(){return eT(f,v,0,null,"paste")}),!0}function zD(u,f){if(!(!u.options.electricChars||!u.options.smartIndent))for(var v=u.doc.sel,g=v.ranges.length-1;g>=0;g--){var E=v.ranges[g];if(!(E.head.ch>100||g&&v.ranges[g-1].head.line==E.head.line)){var A=u.getModeAt(E.head),N=!1;if(A.electricChars){for(var U=0;U<A.electricChars.length;U++)if(f.indexOf(A.electricChars.charAt(U))>-1){N=Sy(u,E.head.line,"smart");break}}else A.electricInput&&A.electricInput.test(ot(u.doc,E.head.line).text.slice(0,E.head.ch))&&(N=Sy(u,E.head.line,"smart"));N&&Fi(u,"electricInput",u,E.head.line)}}}function XD(u){for(var f=[],v=[],g=0;g<u.doc.sel.ranges.length;g++){var E=u.doc.sel.ranges[g].head.line,A={anchor:Ie(E,0),head:Ie(E+1,0)};v.push(A),f.push(u.getRange(A.anchor,A.head))}return{text:f,ranges:v}}function KD(u,f,v,g){u.setAttribute("autocorrect",v?"":"off"),u.setAttribute("autocapitalize",g?"":"off"),u.setAttribute("spellcheck",!!f)}function ZD(){var u=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),f=z("div",[u],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?u.style.width="1000px":u.setAttribute("wrap","off"),S&&(u.style.border="1px solid black"),KD(u),f}function JH(u){var f=u.optionHandlers,v=u.helpers={};u.prototype={constructor:u,focus:function(){window.focus(),this.display.input.focus()},setOption:function(g,E){var A=this.options,N=A[g];A[g]==E&&g!="mode"||(A[g]=E,f.hasOwnProperty(g)&&gr(this,f[g])(this,E,N),Ot(this,"optionChange",this,g))},getOption:function(g){return this.options[g]},getDoc:function(){return this.doc},addKeyMap:function(g,E){this.state.keyMaps[E?"push":"unshift"](Gb(g))},removeKeyMap:function(g){for(var E=this.state.keyMaps,A=0;A<E.length;++A)if(E[A]==g||E[A].name==g)return E.splice(A,1),!0},addOverlay:ya(function(g,E){var A=g.token?g:u.getMode(this.options,g);if(A.startState)throw new Error("Overlays may not be stateful.");$t(this.state.overlays,{mode:A,modeSpec:g,opaque:E&&E.opaque,priority:E&&E.priority||0},function(N){return N.priority}),this.state.modeGen++,ee(this)}),removeOverlay:ya(function(g){for(var E=this.state.overlays,A=0;A<E.length;++A){var N=E[A].modeSpec;if(N==g||typeof g=="string"&&N.name==g){E.splice(A,1),this.state.modeGen++,ee(this);return}}}),indentLine:ya(function(g,E,A){typeof E!="string"&&typeof E!="number"&&(E==null?E=this.options.smartIndent?"smart":"prev":E=E?"add":"subtract"),Po(this.doc,g)&&Sy(this,g,E,A)}),indentSelection:ya(function(g){for(var E=this.doc.sel.ranges,A=-1,N=0;N<E.length;N++){var U=E[N];if(U.empty())U.head.line>A&&(Sy(this,U.head.line,g,!0),A=U.head.line,N==this.doc.sel.primIndex&&Zf(this));else{var H=U.from(),Y=U.to(),te=Math.max(A,H.line);A=Math.min(this.lastLine(),Y.line-(Y.ch?0:1))+1;for(var oe=te;oe<A;++oe)Sy(this,oe,g);var me=this.doc.sel.ranges;H.ch==0&&E.length==me.length&&me[N].from().ch>0&&WE(this.doc,N,new xi(H,me[N].to()),he)}}}),getTokenAt:function(g,E){return Lo(this,g,E)},getLineTokens:function(g,E){return Lo(this,Ie(g),E,!0)},getTokenTypeAt:function(g){g=vt(this.doc,g);var E=No(this,ot(this.doc,g.line)),A=0,N=(E.length-1)/2,U=g.ch,H;if(U==0)H=E[2];else for(;;){var Y=A+N>>1;if((Y?E[Y*2-1]:0)>=U)N=Y;else if(E[Y*2+1]<U)A=Y+1;else{H=E[Y*2+2];break}}var te=H?H.indexOf("overlay "):-1;return te<0?H:te==0?null:H.slice(0,te-1)},getModeAt:function(g){var E=this.doc.mode;return E.innerMode?u.innerMode(E,this.getTokenAt(g).state).mode:E},getHelper:function(g,E){return this.getHelpers(g,E)[0]},getHelpers:function(g,E){var A=[];if(!v.hasOwnProperty(E))return A;var N=v[E],U=this.getModeAt(g);if(typeof U[E]=="string")N[U[E]]&&A.push(N[U[E]]);else if(U[E])for(var H=0;H<U[E].length;H++){var Y=N[U[E][H]];Y&&A.push(Y)}else U.helperType&&N[U.helperType]?A.push(N[U.helperType]):N[U.name]&&A.push(N[U.name]);for(var te=0;te<N._global.length;te++){var oe=N._global[te];oe.pred(U,this)&&Q(A,oe.val)==-1&&A.push(oe.val)}return A},getStateAfter:function(g,E){var A=this.doc;return g=du(A,g??A.first+A.size-1),Hr(this,g+1,E).state},cursorCoords:function(g,E){var A,N=this.doc.sel.primary();return g==null?A=N.head:typeof g=="object"?A=vt(this.doc,g):A=g?N.from():N.to(),Xr(this,A,E||"page")},charCoords:function(g,E){return Dl(this,vt(this.doc,g),E||"page")},coordsChar:function(g,E){return g=Tu(this,g,E||"page"),Cc(this,g.left,g.top)},lineAtHeight:function(g,E){return g=Tu(this,{top:g,left:0},E||"page").top,aa(this.doc,g+this.display.viewOffset)},heightAtLine:function(g,E,A){var N=!1,U;if(typeof g=="number"){var H=this.doc.first+this.doc.size-1;g<this.doc.first?g=this.doc.first:g>H&&(g=H,N=!0),U=ot(this.doc,g)}else U=g;return xl(this,U,{top:0,left:0},E||"page",A||N).top+(N?this.doc.height-Sr(U):0)},defaultTextHeight:function(){return Dr(this.display)},defaultCharWidth:function(){return Me(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(g,E,A,N,U){var H=this.display;g=Xr(this,vt(this.doc,g));var Y=g.bottom,te=g.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),H.sizer.appendChild(E),N=="over")Y=g.top;else if(N=="above"||N=="near"){var oe=Math.max(H.wrapper.clientHeight,this.doc.height),me=Math.max(H.sizer.clientWidth,H.lineSpace.clientWidth);(N=="above"||g.bottom+E.offsetHeight>oe)&&g.top>E.offsetHeight?Y=g.top-E.offsetHeight:g.bottom+E.offsetHeight<=oe&&(Y=g.bottom),te+E.offsetWidth>me&&(te=me-E.offsetWidth)}E.style.top=Y+"px",E.style.left=E.style.right="",U=="right"?(te=H.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):(U=="left"?te=0:U=="middle"&&(te=(H.sizer.clientWidth-E.offsetWidth)/2),E.style.left=te+"px"),A&&K4(this,{left:te,top:Y,right:te+E.offsetWidth,bottom:Y+E.offsetHeight})},triggerOnKeyDown:ya(LD),triggerOnKeyPress:ya($D),triggerOnKeyUp:BD,triggerOnMouseDown:ya(FD),execCommand:function(g){if(Ey.hasOwnProperty(g))return Ey[g].call(null,this)},triggerElectric:ya(function(g){zD(this,g)}),findPosH:function(g,E,A,N){var U=1;E<0&&(U=-1,E=-E);for(var H=vt(this.doc,g),Y=0;Y<E&&(H=tT(this.doc,H,U,A,N),!H.hitSide);++Y);return H},moveH:ya(function(g,E){var A=this;this.extendSelectionsBy(function(N){return A.display.shift||A.doc.extend||N.empty()?tT(A.doc,N.head,g,E,A.options.rtlMoveVisually):g<0?N.from():N.to()},ne)}),deleteH:ya(function(g,E){var A=this.doc.sel,N=this.doc;A.somethingSelected()?N.replaceSelection("",null,"+delete"):ap(this,function(U){var H=tT(N,U.head,g,E,!1);return g<0?{from:H,to:U.head}:{from:U.head,to:H}})}),findPosV:function(g,E,A,N){var U=1,H=N;E<0&&(U=-1,E=-E);for(var Y=vt(this.doc,g),te=0;te<E;++te){var oe=Xr(this,Y,"div");if(H==null?H=oe.left:oe.left=H,Y=QD(this,oe,U,A),Y.hitSide)break}return Y},moveV:ya(function(g,E){var A=this,N=this.doc,U=[],H=!this.display.shift&&!N.extend&&N.sel.somethingSelected();if(N.extendSelectionsBy(function(te){if(H)return g<0?te.from():te.to();var oe=Xr(A,te.head,"div");te.goalColumn!=null&&(oe.left=te.goalColumn),U.push(oe.left);var me=QD(A,oe,g,E);return E=="page"&&te==N.sel.primary()&&NE(A,Dl(A,me,"div").top-oe.top),me},ne),U.length)for(var Y=0;Y<N.sel.ranges.length;Y++)N.sel.ranges[Y].goalColumn=U[Y]}),findWordAt:function(g){var E=this.doc,A=ot(E,g.line).text,N=g.ch,U=g.ch;if(A){var H=this.getHelper(g,"wordChars");(g.sticky=="before"||U==A.length)&&N?--N:++U;for(var Y=A.charAt(N),te=De(Y,H)?function(oe){return De(oe,H)}:/\s/.test(Y)?function(oe){return/\s/.test(oe)}:function(oe){return!/\s/.test(oe)&&!De(oe)};N>0&&te(A.charAt(N-1));)--N;for(;U<A.length&&te(A.charAt(U));)++U}return new xi(Ie(g.line,N),Ie(g.line,U))},toggleOverwrite:function(g){g!=null&&g==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):L(this.display.cursorDiv,"CodeMirror-overwrite"),Ot(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==be()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ya(function(g,E){oy(this,g,E)}),getScrollInfo:function(){var g=this.display.scroller;return{left:g.scrollLeft,top:g.scrollTop,height:g.scrollHeight-ma(this)-this.display.barHeight,width:g.scrollWidth-ma(this)-this.display.barWidth,clientHeight:Vn(this),clientWidth:Ns(this)}},scrollIntoView:ya(function(g,E){g==null?(g={from:this.doc.sel.primary().head,to:null},E==null&&(E=this.options.cursorScrollMargin)):typeof g=="number"?g={from:Ie(g,0),to:null}:g.from==null&&(g={from:g,to:null}),g.to||(g.to=g.from),g.margin=E||0,g.from.line!=null?Z4(this,g):Yx(this,g.from,g.to,g.margin)}),setSize:ya(function(g,E){var A=this,N=function(H){return typeof H=="number"||/^\d+$/.test(String(H))?H+"px":H};g!=null&&(this.display.wrapper.style.width=N(g)),E!=null&&(this.display.wrapper.style.height=N(E)),this.options.lineWrapping&&Ai(this);var U=this.display.viewFrom;this.doc.iter(U,this.display.viewTo,function(H){if(H.widgets){for(var Y=0;Y<H.widgets.length;Y++)if(H.widgets[Y].noHScroll){we(A,U,"widget");break}}++U}),this.curOp.forceUpdate=!0,Ot(this,"refresh",this)}),operation:function(g){return ns(this,g)},startOperation:function(){return hh(this)},endOperation:function(){return fh(this)},refresh:ya(function(){var g=this.display.cachedTextHeight;ee(this),this.curOp.forceUpdate=!0,Vo(this),oy(this,this.doc.scrollLeft,this.doc.scrollTop),LE(this.display),(g==null||Math.abs(g-Dr(this.display))>.5||this.options.lineWrapping)&&T(this),Ot(this,"refresh",this)}),swapDoc:ya(function(g){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),rD(this,g),Vo(this),this.display.input.reset(),oy(this,g.scrollLeft,g.scrollTop),this.curOp.forceScroll=!0,Fi(this,"swapDoc",this,E),E}),phrase:function(g){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,g)?E[g]:g},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},lt(u),u.registerHelper=function(g,E,A){v.hasOwnProperty(g)||(v[g]=u[g]={_global:[]}),v[g][E]=A},u.registerGlobalHelper=function(g,E,A,N){u.registerHelper(g,E,N),v[g]._global.push({pred:A,val:N})}}function tT(u,f,v,g,E){var A=f,N=v,U=ot(u,f.line),H=E&&u.direction=="rtl"?-v:v;function Y(){var Je=f.line+H;return Je<u.first||Je>=u.first+u.size?!1:(f=new Ie(Je,f.ch,f.sticky),U=ot(u,Je))}function te(Je){var qe;if(g=="codepoint"){var rt=U.text.charCodeAt(f.ch+(v>0?0:-1));if(isNaN(rt))qe=null;else{var gt=v>0?rt>=55296&&rt<56320:rt>=56320&&rt<57343;qe=new Ie(f.line,Math.max(0,Math.min(U.text.length,f.ch+v*(gt?2:1))),-v)}}else E?qe=OH(u.cm,U,f,v):qe=zE(U,f,v);if(qe==null)if(!Je&&Y())f=XE(E,u.cm,U,f.line,H);else return!1;else f=qe;return!0}if(g=="char"||g=="codepoint")te();else if(g=="column")te(!0);else if(g=="word"||g=="group")for(var oe=null,me=g=="group",pe=u.cm&&u.cm.getHelper(f,"wordChars"),Ce=!0;!(v<0&&!te(!Ce));Ce=!1){var xe=U.text.charAt(f.ch)||`
`,Be=De(xe,pe)?"w":me&&xe==`
`?"n":!me||/\s/.test(xe)?null:"p";if(me&&!Ce&&!Be&&(Be="s"),oe&&oe!=Be){v<0&&(v=1,te(),f.sticky="after");break}if(Be&&(oe=Be),v>0&&!te(!Ce))break}var Ye=Pb(u,f,A,N,!0);return uo(A,Ye)&&(Ye.hitSide=!0),Ye}function QD(u,f,v,g){var E=u.doc,A=f.left,N;if(g=="page"){var U=Math.min(u.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),H=Math.max(U-.5*Dr(u.display),3);N=(v>0?f.bottom:f.top)+v*H}else g=="line"&&(N=v>0?f.bottom+3:f.top-3);for(var Y;Y=Cc(u,A,N),!!Y.outside;){if(v<0?N<=0:N>=E.height){Y.hitSide=!0;break}N+=v*5}return Y}var Oi=function(u){this.cm=u,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new le,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Oi.prototype.init=function(u){var f=this,v=this,g=v.cm,E=v.div=u.lineDiv;E.contentEditable=!0,KD(E,g.options.spellcheck,g.options.autocorrect,g.options.autocapitalize);function A(U){for(var H=U.target;H;H=H.parentNode){if(H==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(H.className))break}return!1}Xe(E,"paste",function(U){!A(U)||ye(g,U)||jD(U,g)||d<=11&&setTimeout(gr(g,function(){return f.updateFromDOM()}),20)}),Xe(E,"compositionstart",function(U){f.composing={data:U.data,done:!1}}),Xe(E,"compositionupdate",function(U){f.composing||(f.composing={data:U.data,done:!1})}),Xe(E,"compositionend",function(U){f.composing&&(U.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Xe(E,"touchstart",function(){return v.forceCompositionEnd()}),Xe(E,"input",function(){f.composing||f.readFromDOMSoon()});function N(U){if(!(!A(U)||ye(g,U))){if(g.somethingSelected())Bb({lineWise:!1,text:g.getSelections()}),U.type=="cut"&&g.replaceSelection("",null,"cut");else if(g.options.lineWiseCopyCut){var H=XD(g);Bb({lineWise:!0,text:H.text}),U.type=="cut"&&g.operation(function(){g.setSelections(H.ranges,0,he),g.replaceSelection("",null,"cut")})}else return;if(U.clipboardData){U.clipboardData.clearData();var Y=qo.text.join(`
`);if(U.clipboardData.setData("Text",Y),U.clipboardData.getData("Text")==Y){U.preventDefault();return}}var te=ZD(),oe=te.firstChild;g.display.lineSpace.insertBefore(te,g.display.lineSpace.firstChild),oe.value=qo.text.join(`
`);var me=be();Z(oe),setTimeout(function(){g.display.lineSpace.removeChild(te),me.focus(),me==E&&v.showPrimarySelection()},50)}}Xe(E,"copy",N),Xe(E,"cut",N)},Oi.prototype.screenReaderLabelChanged=function(u){u?this.div.setAttribute("aria-label",u):this.div.removeAttribute("aria-label")},Oi.prototype.prepareSelection=function(){var u=Au(this.cm,!1);return u.focus=be()==this.div,u},Oi.prototype.showSelection=function(u,f){!u||!this.cm.display.view.length||((u.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(u))},Oi.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Oi.prototype.showPrimarySelection=function(){var u=this.getSelection(),f=this.cm,v=f.doc.sel.primary(),g=v.from(),E=v.to();if(f.display.viewTo==f.display.viewFrom||g.line>=f.display.viewTo||E.line<f.display.viewFrom){u.removeAllRanges();return}var A=$b(f,u.anchorNode,u.anchorOffset),N=$b(f,u.focusNode,u.focusOffset);if(!(A&&!A.bad&&N&&!N.bad&&yt(oa(A,N),g)==0&&yt(sa(A,N),E)==0)){var U=f.display.view,H=g.line>=f.display.viewFrom&&JD(f,g)||{node:U[0].measure.map[2],offset:0},Y=E.line<f.display.viewTo&&JD(f,E);if(!Y){var te=U[U.length-1].measure,oe=te.maps?te.maps[te.maps.length-1]:te.map;Y={node:oe[oe.length-1],offset:oe[oe.length-2]-oe[oe.length-3]}}if(!H||!Y){u.removeAllRanges();return}var me=u.rangeCount&&u.getRangeAt(0),pe;try{pe=ce(H.node,H.offset,Y.offset,Y.node)}catch{}pe&&(!r&&f.state.focused?(u.collapse(H.node,H.offset),pe.collapsed||(u.removeAllRanges(),u.addRange(pe))):(u.removeAllRanges(),u.addRange(pe)),me&&u.anchorNode==null?u.addRange(me):r&&this.startGracePeriod()),this.rememberSelection()}},Oi.prototype.startGracePeriod=function(){var u=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){u.gracePeriod=!1,u.selectionChanged()&&u.cm.operation(function(){return u.cm.curOp.selectionChanged=!0})},20)},Oi.prototype.showMultipleSelections=function(u){j(this.cm.display.cursorDiv,u.cursors),j(this.cm.display.selectionDiv,u.selection)},Oi.prototype.rememberSelection=function(){var u=this.getSelection();this.lastAnchorNode=u.anchorNode,this.lastAnchorOffset=u.anchorOffset,this.lastFocusNode=u.focusNode,this.lastFocusOffset=u.focusOffset},Oi.prototype.selectionInEditor=function(){var u=this.getSelection();if(!u.rangeCount)return!1;var f=u.getRangeAt(0).commonAncestorContainer;return ge(this.div,f)},Oi.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||be()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Oi.prototype.blur=function(){this.div.blur()},Oi.prototype.getField=function(){return this.div},Oi.prototype.supportsTouch=function(){return!0},Oi.prototype.receivedFocus=function(){var u=this,f=this;this.selectionInEditor()?setTimeout(function(){return u.pollSelection()},20):ns(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function v(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},Oi.prototype.selectionChanged=function(){var u=this.getSelection();return u.anchorNode!=this.lastAnchorNode||u.anchorOffset!=this.lastAnchorOffset||u.focusNode!=this.lastFocusNode||u.focusOffset!=this.lastFocusOffset},Oi.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var u=this.getSelection(),f=this.cm;if(x&&y&&this.cm.display.gutterSpecs.length&&e6(u.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var v=$b(f,u.anchorNode,u.anchorOffset),g=$b(f,u.focusNode,u.focusOffset);v&&g&&ns(f,function(){Kr(f.doc,xu(v,g),he),(v.bad||g.bad)&&(f.curOp.selectionChanged=!0)})}}},Oi.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var u=this.cm,f=u.display,v=u.doc.sel.primary(),g=v.from(),E=v.to();if(g.ch==0&&g.line>u.firstLine()&&(g=Ie(g.line-1,ot(u.doc,g.line-1).length)),E.ch==ot(u.doc,E.line).text.length&&E.line<u.lastLine()&&(E=Ie(E.line+1,0)),g.line<f.viewFrom||E.line>f.viewTo-1)return!1;var A,N,U;g.line==f.viewFrom||(A=G(u,g.line))==0?(N=Ne(f.view[0].line),U=f.view[0].node):(N=Ne(f.view[A].line),U=f.view[A-1].node.nextSibling);var H=G(u,E.line),Y,te;if(H==f.view.length-1?(Y=f.viewTo-1,te=f.lineDiv.lastChild):(Y=Ne(f.view[H+1].line)-1,te=f.view[H+1].node.previousSibling),!U)return!1;for(var oe=u.doc.splitLines(t6(u,U,te,N,Y)),me=ra(u.doc,Ie(N,0),Ie(Y,ot(u.doc,Y).text.length));oe.length>1&&me.length>1;)if(Se(oe)==Se(me))oe.pop(),me.pop(),Y--;else if(oe[0]==me[0])oe.shift(),me.shift(),N++;else break;for(var pe=0,Ce=0,xe=oe[0],Be=me[0],Ye=Math.min(xe.length,Be.length);pe<Ye&&xe.charCodeAt(pe)==Be.charCodeAt(pe);)++pe;for(var Je=Se(oe),qe=Se(me),rt=Math.min(Je.length-(oe.length==1?pe:0),qe.length-(me.length==1?pe:0));Ce<rt&&Je.charCodeAt(Je.length-Ce-1)==qe.charCodeAt(qe.length-Ce-1);)++Ce;if(oe.length==1&&me.length==1&&N==g.line)for(;pe&&pe>g.ch&&Je.charCodeAt(Je.length-Ce-1)==qe.charCodeAt(qe.length-Ce-1);)pe--,Ce++;oe[oe.length-1]=Je.slice(0,Je.length-Ce).replace(/^\u200b+/,""),oe[0]=oe[0].slice(pe).replace(/\u200b+$/,"");var gt=Ie(N,pe),pt=Ie(Y,me.length?Se(me).length-Ce:0);if(oe.length>1||oe[0]||yt(gt,pt))return ip(u.doc,oe,gt,pt,"+input"),!0},Oi.prototype.ensurePolled=function(){this.forceCompositionEnd()},Oi.prototype.reset=function(){this.forceCompositionEnd()},Oi.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Oi.prototype.readFromDOMSoon=function(){var u=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(u.readDOMTimeout=null,u.composing)if(u.composing.done)u.composing=null;else return;u.updateFromDOM()},80))},Oi.prototype.updateFromDOM=function(){var u=this;(this.cm.isReadOnly()||!this.pollContent())&&ns(this.cm,function(){return ee(u.cm)})},Oi.prototype.setUneditable=function(u){u.contentEditable="false"},Oi.prototype.onKeyPress=function(u){u.charCode==0||this.composing||(u.preventDefault(),this.cm.isReadOnly()||gr(this.cm,eT)(this.cm,String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),0))},Oi.prototype.readOnlyChanged=function(u){this.div.contentEditable=String(u!="nocursor")},Oi.prototype.onContextMenu=function(){},Oi.prototype.resetPosition=function(){},Oi.prototype.needsContentAttribute=!0;function JD(u,f){var v=wc(u,f.line);if(!v||v.hidden)return null;var g=ot(u.doc,f.line),E=gu(v,g,f.line),A=Rt(g,u.doc.direction),N="left";if(A){var U=di(A,f.ch);N=U%2?"right":"left"}var H=_u(E.map,f.ch,N);return H.offset=H.collapse=="right"?H.end:H.start,H}function e6(u){for(var f=u;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function op(u,f){return f&&(u.bad=!0),u}function t6(u,f,v,g,E){var A="",N=!1,U=u.doc.lineSeparator(),H=!1;function Y(pe){return function(Ce){return Ce.id==pe}}function te(){N&&(A+=U,H&&(A+=U),N=H=!1)}function oe(pe){pe&&(te(),A+=pe)}function me(pe){if(pe.nodeType==1){var Ce=pe.getAttribute("cm-text");if(Ce){oe(Ce);return}var xe=pe.getAttribute("cm-marker"),Be;if(xe){var Ye=u.findMarks(Ie(g,0),Ie(E+1,0),Y(+xe));Ye.length&&(Be=Ye[0].find(0))&&oe(ra(u.doc,Be.from,Be.to).join(U));return}if(pe.getAttribute("contenteditable")=="false")return;var Je=/^(pre|div|p|li|table|br)$/i.test(pe.nodeName);if(!/^br$/i.test(pe.nodeName)&&pe.textContent.length==0)return;Je&&te();for(var qe=0;qe<pe.childNodes.length;qe++)me(pe.childNodes[qe]);/^(pre|p)$/i.test(pe.nodeName)&&(H=!0),Je&&(N=!0)}else pe.nodeType==3&&oe(pe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;me(f),f!=v;)f=f.nextSibling,H=!1;return A}function $b(u,f,v){var g;if(f==u.display.lineDiv){if(g=u.display.lineDiv.childNodes[v],!g)return op(u.clipPos(Ie(u.display.viewTo-1)),!0);f=null,v=0}else for(g=f;;g=g.parentNode){if(!g||g==u.display.lineDiv)return null;if(g.parentNode&&g.parentNode==u.display.lineDiv)break}for(var E=0;E<u.display.view.length;E++){var A=u.display.view[E];if(A.node==g)return i6(A,f,v)}}function i6(u,f,v){var g=u.text.firstChild,E=!1;if(!f||!ge(g,f))return op(Ie(Ne(u.line),0),!0);if(f==g&&(E=!0,f=g.childNodes[v],v=0,!f)){var A=u.rest?Se(u.rest):u.line;return op(Ie(Ne(A),A.text.length),E)}var N=f.nodeType==3?f:null,U=f;for(!N&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(N=f.firstChild,v&&(v=N.nodeValue.length));U.parentNode!=g;)U=U.parentNode;var H=u.measure,Y=H.maps;function te(Be,Ye,Je){for(var qe=-1;qe<(Y?Y.length:0);qe++)for(var rt=qe<0?H.map:Y[qe],gt=0;gt<rt.length;gt+=3){var pt=rt[gt+2];if(pt==Be||pt==Ye){var Vt=Ne(qe<0?u.line:u.rest[qe]),Yi=rt[gt]+Je;return(Je<0||pt!=Be)&&(Yi=rt[gt+(Je?1:0)]),Ie(Vt,Yi)}}}var oe=te(N,U,v);if(oe)return op(oe,E);for(var me=U.nextSibling,pe=N?N.nodeValue.length-v:0;me;me=me.nextSibling){if(oe=te(me,me.firstChild,0),oe)return op(Ie(oe.line,oe.ch-pe),E);pe+=me.textContent.length}for(var Ce=U.previousSibling,xe=v;Ce;Ce=Ce.previousSibling){if(oe=te(Ce,Ce.firstChild,-1),oe)return op(Ie(oe.line,oe.ch+xe),E);xe+=Ce.textContent.length}}var Gn=function(u){this.cm=u,this.prevInput="",this.pollingFast=!1,this.polling=new le,this.hasSelection=!1,this.composing=null};Gn.prototype.init=function(u){var f=this,v=this,g=this.cm;this.createField(u);var E=this.textarea;u.wrapper.insertBefore(this.wrapper,u.wrapper.firstChild),S&&(E.style.width="0px"),Xe(E,"input",function(){c&&d>=9&&f.hasSelection&&(f.hasSelection=null),v.poll()}),Xe(E,"paste",function(N){ye(g,N)||jD(N,g)||(g.state.pasteIncoming=+new Date,v.fastPoll())});function A(N){if(!ye(g,N)){if(g.somethingSelected())Bb({lineWise:!1,text:g.getSelections()});else if(g.options.lineWiseCopyCut){var U=XD(g);Bb({lineWise:!0,text:U.text}),N.type=="cut"?g.setSelections(U.ranges,null,he):(v.prevInput="",E.value=U.text.join(`
`),Z(E))}else return;N.type=="cut"&&(g.state.cutIncoming=+new Date)}}Xe(E,"cut",A),Xe(E,"copy",A),Xe(u.scroller,"paste",function(N){if(!(Pa(u,N)||ye(g,N))){if(!E.dispatchEvent){g.state.pasteIncoming=+new Date,v.focus();return}var U=new Event("paste");U.clipboardData=N.clipboardData,E.dispatchEvent(U)}}),Xe(u.lineSpace,"selectstart",function(N){Pa(u,N)||tt(N)}),Xe(E,"compositionstart",function(){var N=g.getCursor("from");v.composing&&v.composing.range.clear(),v.composing={start:N,range:g.markText(N,g.getCursor("to"),{className:"CodeMirror-composing"})}}),Xe(E,"compositionend",function(){v.composing&&(v.poll(),v.composing.range.clear(),v.composing=null)})},Gn.prototype.createField=function(u){this.wrapper=ZD(),this.textarea=this.wrapper.firstChild},Gn.prototype.screenReaderLabelChanged=function(u){u?this.textarea.setAttribute("aria-label",u):this.textarea.removeAttribute("aria-label")},Gn.prototype.prepareSelection=function(){var u=this.cm,f=u.display,v=u.doc,g=Au(u);if(u.options.moveInputWithCursor){var E=Xr(u,v.sel.primary().head,"div"),A=f.wrapper.getBoundingClientRect(),N=f.lineDiv.getBoundingClientRect();g.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,E.top+N.top-A.top)),g.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,E.left+N.left-A.left))}return g},Gn.prototype.showSelection=function(u){var f=this.cm,v=f.display;j(v.cursorDiv,u.cursors),j(v.selectionDiv,u.selection),u.teTop!=null&&(this.wrapper.style.top=u.teTop+"px",this.wrapper.style.left=u.teLeft+"px")},Gn.prototype.reset=function(u){if(!(this.contextMenuPending||this.composing)){var f=this.cm;if(f.somethingSelected()){this.prevInput="";var v=f.getSelection();this.textarea.value=v,f.state.focused&&Z(this.textarea),c&&d>=9&&(this.hasSelection=v)}else u||(this.prevInput=this.textarea.value="",c&&d>=9&&(this.hasSelection=null))}},Gn.prototype.getField=function(){return this.textarea},Gn.prototype.supportsTouch=function(){return!1},Gn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!O||be()!=this.textarea))try{this.textarea.focus()}catch{}},Gn.prototype.blur=function(){this.textarea.blur()},Gn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Gn.prototype.receivedFocus=function(){this.slowPoll()},Gn.prototype.slowPoll=function(){var u=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){u.poll(),u.cm.state.focused&&u.slowPoll()})},Gn.prototype.fastPoll=function(){var u=!1,f=this;f.pollingFast=!0;function v(){var g=f.poll();!g&&!u?(u=!0,f.polling.set(60,v)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,v)},Gn.prototype.poll=function(){var u=this,f=this.cm,v=this.textarea,g=this.prevInput;if(this.contextMenuPending||!f.state.focused||Nn(v)&&!g&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var E=v.value;if(E==g&&!f.somethingSelected())return!1;if(c&&d>=9&&this.hasSelection===E||D&&/[\uf700-\uf7ff]/.test(E))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var A=E.charCodeAt(0);if(A==8203&&!g&&(g="​"),A==8666)return this.reset(),this.cm.execCommand("undo")}for(var N=0,U=Math.min(g.length,E.length);N<U&&g.charCodeAt(N)==E.charCodeAt(N);)++N;return ns(f,function(){eT(f,E.slice(N),g.length-N,null,u.composing?"*compose":null),E.length>1e3||E.indexOf(`
`)>-1?v.value=u.prevInput="":u.prevInput=E,u.composing&&(u.composing.range.clear(),u.composing.range=f.markText(u.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Gn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Gn.prototype.onKeyPress=function(){c&&d>=9&&(this.hasSelection=null),this.fastPoll()},Gn.prototype.onContextMenu=function(u){var f=this,v=f.cm,g=v.display,E=f.textarea;f.contextMenuPending&&f.contextMenuPending();var A=M(v,u),N=g.scroller.scrollTop;if(!A||_)return;var U=v.options.resetSelectionOnContextMenu;U&&v.doc.sel.contains(A)==-1&&gr(v,Kr)(v.doc,xu(A),he);var H=E.style.cssText,Y=f.wrapper.style.cssText,te=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",E.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(u.clientY-te.top-5)+"px; left: "+(u.clientX-te.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var oe;p&&(oe=window.scrollY),g.input.focus(),p&&window.scrollTo(null,oe),g.input.reset(),v.somethingSelected()||(E.value=f.prevInput=" "),f.contextMenuPending=pe,g.selForContextMenu=v.doc.sel,clearTimeout(g.detectingSelectAll);function me(){if(E.selectionStart!=null){var xe=v.somethingSelected(),Be="​"+(xe?E.value:"");E.value="⇚",E.value=Be,f.prevInput=xe?"":"​",E.selectionStart=1,E.selectionEnd=Be.length,g.selForContextMenu=v.doc.sel}}function pe(){if(f.contextMenuPending==pe&&(f.contextMenuPending=!1,f.wrapper.style.cssText=Y,E.style.cssText=H,c&&d<9&&g.scrollbars.setScrollTop(g.scroller.scrollTop=N),E.selectionStart!=null)){(!c||c&&d<9)&&me();var xe=0,Be=function(){g.selForContextMenu==v.doc.sel&&E.selectionStart==0&&E.selectionEnd>0&&f.prevInput=="​"?gr(v,gD)(v):xe++<10?g.detectingSelectAll=setTimeout(Be,500):(g.selForContextMenu=null,g.input.reset())};g.detectingSelectAll=setTimeout(Be,200)}}if(c&&d>=9&&me(),F){hi(u);var Ce=function(){ut(window,"mouseup",Ce),setTimeout(pe,20)};Xe(window,"mouseup",Ce)}else setTimeout(pe,50)},Gn.prototype.readOnlyChanged=function(u){u||this.reset(),this.textarea.disabled=u=="nocursor",this.textarea.readOnly=!!u},Gn.prototype.setUneditable=function(){},Gn.prototype.needsContentAttribute=!1;function n6(u,f){if(f=f?q(f):{},f.value=u.value,!f.tabindex&&u.tabIndex&&(f.tabindex=u.tabIndex),!f.placeholder&&u.placeholder&&(f.placeholder=u.placeholder),f.autofocus==null){var v=be();f.autofocus=v==u||u.getAttribute("autofocus")!=null&&v==document.body}function g(){u.value=U.getValue()}var E;if(u.form&&(Xe(u.form,"submit",g),!f.leaveSubmitMethodAlone)){var A=u.form;E=A.submit;try{var N=A.submit=function(){g(),A.submit=E,A.submit(),A.submit=N}}catch{}}f.finishInit=function(H){H.save=g,H.getTextArea=function(){return u},H.toTextArea=function(){H.toTextArea=isNaN,g(),u.parentNode.removeChild(H.getWrapperElement()),u.style.display="",u.form&&(ut(u.form,"submit",g),!f.leaveSubmitMethodAlone&&typeof u.form.submit=="function"&&(u.form.submit=E))}},u.style.display="none";var U=dn(function(H){return u.parentNode.insertBefore(H,u.nextSibling)},f);return U}function r6(u){u.off=ut,u.on=Xe,u.wheelEventPixels=dH,u.Doc=Na,u.splitLines=Sa,u.countColumn=ie,u.findColumn=Bt,u.isWordChar=nt,u.Pass=de,u.signal=Ot,u.Line=We,u.changeEnd=Du,u.scrollbarModel=jx,u.Pos=Ie,u.cmpPos=yt,u.modes=lo,u.mimeModes=co,u.resolveMode=vl,u.getMode=yc,u.modeExtensions=xa,u.extendMode=Kd,u.copyState=dr,u.startState=uu,u.innerMode=gc,u.commands=Ey,u.keyMap=Ac,u.keyName=PD,u.isModifierKey=RD,u.lookupKey=rp,u.normalizeKeyMap=PH,u.StringStream=Zi,u.SharedTextMarker=by,u.TextMarker=Ru,u.LineWidget=vy,u.e_preventDefault=tt,u.e_stopPropagation=at,u.e_stop=hi,u.addClass=ue,u.contains=ge,u.rmClass=L,u.keyNames=Mu}XH(dn),JH(dn);var a6="iter insert remove copy getEditor constructor".split(" ");for(var Fb in Na.prototype)Na.prototype.hasOwnProperty(Fb)&&Q(a6,Fb)<0&&(dn.prototype[Fb]=function(u){return function(){return u.apply(this.doc,arguments)}}(Na.prototype[Fb]));return lt(Na),dn.inputStyles={textarea:Gn,contenteditable:Oi},dn.defineMode=function(u){!dn.defaults.mode&&u!="null"&&(dn.defaults.mode=u),zd.apply(this,arguments)},dn.defineMIME=Xd,dn.defineMode("null",function(){return{token:function(u){return u.skipToEnd()}}}),dn.defineMIME("text/plain","null"),dn.defineExtension=function(u,f){dn.prototype[u]=f},dn.defineDocExtension=function(u,f){Na.prototype[u]=f},dn.fromTextArea=n6,r6(dn),dn.version="5.65.1",dn})})(X2);var Im=X2.exports;const o6=oc(Im);var l6=function(t,e,i){if(t==null||e==null)return t;var n=String(t),r=typeof e=="number"?e:parseInt(e,10);if(isNaN(r)||!isFinite(r))return n;var a=n.length;if(a>=r)return n;var s=i==null?"":String(i);s===""&&(s=" ");for(var o=r-a;s.length<o;)s+=s;var c=s.length>o?s.substr(0,o):s;return n+c};const rT=oc(l6);var $l=9e15,Hb=function(){for(var t=[],e=-323;e<=308;e++)t.push(+("1e"+e));return function(i){return t[i+323]}}(),$e=function(t){return t instanceof ci?t:new ci(t)},as=function(t,e){return new ci().fromMantissaExponent(t,e)},Mh=function(t,e){return new ci().fromMantissaExponent_noNormalize(t,e)};function c6(t,e,i,n){var r=e.mul(i.pow(n));return ci.floor(t.div(r).mul(i.sub(1)).add(1).log10()/i.log10())}function u6(t,e,i,n){return e.mul(i.pow(n)).mul(ci.sub(1,i.pow(t))).div(ci.sub(1,i))}var ci=function(){function t(e){this.mantissa=NaN,this.exponent=NaN,e===void 0?(this.m=0,this.e=0):e instanceof t?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):this.fromString(e)}return Object.defineProperty(t.prototype,"m",{get:function(){return this.mantissa},set:function(e){this.mantissa=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.exponent},set:function(e){this.exponent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){return this.sign()},set:function(e){if(e===0)return this.e=0,void(this.m=0);this.sgn()!==e&&(this.m=-this.m)},enumerable:!1,configurable:!0}),t.fromMantissaExponent=function(e,i){return new t().fromMantissaExponent(e,i)},t.fromMantissaExponent_noNormalize=function(e,i){return new t().fromMantissaExponent_noNormalize(e,i)},t.fromDecimal=function(e){return new t().fromDecimal(e)},t.fromNumber=function(e){return new t().fromNumber(e)},t.fromString=function(e){return new t().fromString(e)},t.fromValue=function(e){return new t().fromValue(e)},t.fromValue_noAlloc=function(e){return e instanceof t?e:new t(e)},t.abs=function(e){return $e(e).abs()},t.neg=function(e){return $e(e).neg()},t.negate=function(e){return $e(e).neg()},t.negated=function(e){return $e(e).neg()},t.sign=function(e){return $e(e).sign()},t.sgn=function(e){return $e(e).sign()},t.round=function(e){return $e(e).round()},t.floor=function(e){return $e(e).floor()},t.ceil=function(e){return $e(e).ceil()},t.trunc=function(e){return $e(e).trunc()},t.add=function(e,i){return $e(e).add(i)},t.plus=function(e,i){return $e(e).add(i)},t.sub=function(e,i){return $e(e).sub(i)},t.subtract=function(e,i){return $e(e).sub(i)},t.minus=function(e,i){return $e(e).sub(i)},t.mul=function(e,i){return $e(e).mul(i)},t.multiply=function(e,i){return $e(e).mul(i)},t.times=function(e,i){return $e(e).mul(i)},t.div=function(e,i){return $e(e).div(i)},t.divide=function(e,i){return $e(e).div(i)},t.recip=function(e){return $e(e).recip()},t.reciprocal=function(e){return $e(e).recip()},t.reciprocate=function(e){return $e(e).reciprocate()},t.cmp=function(e,i){return $e(e).cmp(i)},t.compare=function(e,i){return $e(e).cmp(i)},t.eq=function(e,i){return $e(e).eq(i)},t.equals=function(e,i){return $e(e).eq(i)},t.neq=function(e,i){return $e(e).neq(i)},t.notEquals=function(e,i){return $e(e).notEquals(i)},t.lt=function(e,i){return $e(e).lt(i)},t.lte=function(e,i){return $e(e).lte(i)},t.gt=function(e,i){return $e(e).gt(i)},t.gte=function(e,i){return $e(e).gte(i)},t.max=function(e,i){return $e(e).max(i)},t.min=function(e,i){return $e(e).min(i)},t.clamp=function(e,i,n){return $e(e).clamp(i,n)},t.clampMin=function(e,i){return $e(e).clampMin(i)},t.clampMax=function(e,i){return $e(e).clampMax(i)},t.cmp_tolerance=function(e,i,n){return $e(e).cmp_tolerance(i,n)},t.compare_tolerance=function(e,i,n){return $e(e).cmp_tolerance(i,n)},t.eq_tolerance=function(e,i,n){return $e(e).eq_tolerance(i,n)},t.equals_tolerance=function(e,i,n){return $e(e).eq_tolerance(i,n)},t.neq_tolerance=function(e,i,n){return $e(e).neq_tolerance(i,n)},t.notEquals_tolerance=function(e,i,n){return $e(e).notEquals_tolerance(i,n)},t.lt_tolerance=function(e,i,n){return $e(e).lt_tolerance(i,n)},t.lte_tolerance=function(e,i,n){return $e(e).lte_tolerance(i,n)},t.gt_tolerance=function(e,i,n){return $e(e).gt_tolerance(i,n)},t.gte_tolerance=function(e,i,n){return $e(e).gte_tolerance(i,n)},t.log10=function(e){return $e(e).log10()},t.absLog10=function(e){return $e(e).absLog10()},t.pLog10=function(e){return $e(e).pLog10()},t.log=function(e,i){return $e(e).log(i)},t.log2=function(e){return $e(e).log2()},t.ln=function(e){return $e(e).ln()},t.logarithm=function(e,i){return $e(e).logarithm(i)},t.pow10=function(e){return Number.isInteger(e)?Mh(1,e):as(Math.pow(10,e%1),Math.trunc(e))},t.pow=function(e,i){return typeof e=="number"&&e===10&&typeof i=="number"&&Number.isInteger(i)?Mh(1,i):$e(e).pow(i)},t.exp=function(e){return $e(e).exp()},t.sqr=function(e){return $e(e).sqr()},t.sqrt=function(e){return $e(e).sqrt()},t.cube=function(e){return $e(e).cube()},t.cbrt=function(e){return $e(e).cbrt()},t.dp=function(e){return $e(e).dp()},t.decimalPlaces=function(e){return $e(e).dp()},t.affordGeometricSeries=function(e,i,n,r){return c6($e(e),$e(i),$e(n),r)},t.sumGeometricSeries=function(e,i,n,r){return u6(e,$e(i),$e(n),r)},t.affordArithmeticSeries=function(e,i,n,r){return function(a,s,o,c){var d=s.add(c.mul(o)).sub(o.div(2)),p=d.pow(2);return d.neg().add(p.add(o.mul(a).mul(2)).sqrt()).div(o).floor()}($e(e),$e(i),$e(n),$e(r))},t.sumArithmeticSeries=function(e,i,n,r){return function(a,s,o,c){var d=s.add(c.mul(o));return a.div(2).mul(d.mul(2).plus(a.sub(1).mul(o)))}($e(e),$e(i),$e(n),$e(r))},t.efficiencyOfPurchase=function(e,i,n){return function(r,a,s){return r.div(a).add(r.div(s))}($e(e),$e(i),$e(n))},t.randomDecimalForTesting=function(e){if(20*Math.random()<1)return Mh(0,0);var i=10*Math.random();10*Math.random()<1&&(i=Math.round(i)),i*=Math.sign(2*Math.random()-1);var n=Math.floor(Math.random()*e*2)-e;return as(i,n)},t.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var e=Math.floor(Math.log10(Math.abs(this.m)));return this.m=e===-324?10*this.m/1e-323:this.m/Hb(e),this.e+=e,this},t.prototype.fromMantissaExponent=function(e,i){return isFinite(e)&&isFinite(i)?(this.m=e,this.e=i,this.normalize(),this):(e=Number.NaN,i=Number.NaN,this)},t.prototype.fromMantissaExponent_noNormalize=function(e,i){return this.m=e,this.e=i,this},t.prototype.fromDecimal=function(e){return this.m=e.m,this.e=e.e,this},t.prototype.fromNumber=function(e){return isNaN(e)?(this.m=Number.NaN,this.e=Number.NaN):e===Number.POSITIVE_INFINITY?(this.m=1,this.e=$l):e===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=$l):e===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(e))),this.m=this.e===-324?10*e/1e-323:e/Hb(this.e),this.normalize()),this},t.prototype.fromString=function(e){if(e.indexOf("e")!==-1){var i=e.split("e");this.m=parseFloat(i[0]),this.e=parseFloat(i[1]),this.normalize()}else if(e==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(e)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+e);return this},t.prototype.fromValue=function(e){return e instanceof t?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.m=0,this.e=0,this)},t.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var e=this.m*Hb(this.e);if(!isFinite(e)||this.e<0)return e;var i=Math.round(e);return Math.abs(i-e)<1e-10?i:e},t.prototype.mantissaWithDecimalPlaces=function(e){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var i=e+1,n=Math.ceil(Math.log10(Math.abs(this.m))),r=Math.round(this.m*Math.pow(10,i-n))*Math.pow(10,n-i);return parseFloat(r.toFixed(Math.max(i-n,0)))},t.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=$l?this.m>0?"Infinity":"-Infinity":this.e<=-$l||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toExponential=function(e){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=$l)return this.m>0?"Infinity":"-Infinity";if(this.e<=-$l||this.m===0)return"0"+(e>0?rT(".",e+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(e);isFinite(e)||(e=17);var i=e+1,n=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,i-n))*Math.pow(10,n-i)).toFixed(Math.max(i-n,0))+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toFixed=function(e){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=$l?this.m>0?"Infinity":"-Infinity":this.e<=-$l||this.m===0?"0"+(e>0?rT(".",e+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(e>0?rT(".",e+1,"0"):""):this.toNumber().toFixed(e)},t.prototype.toPrecision=function(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.e-1):this.toExponential(e-1)},t.prototype.valueOf=function(){return this.toString()},t.prototype.toJSON=function(){return this.toString()},t.prototype.toStringWithDecimalPlaces=function(e){return this.toExponential(e)},t.prototype.abs=function(){return Mh(Math.abs(this.m),this.e)},t.prototype.neg=function(){return Mh(-this.m,this.e)},t.prototype.negate=function(){return this.neg()},t.prototype.negated=function(){return this.neg()},t.prototype.sign=function(){return Math.sign(this.m)},t.prototype.sgn=function(){return this.sign()},t.prototype.round=function(){return this.e<-1?new t(0):this.e<17?new t(Math.round(this.toNumber())):this},t.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new t(0):new t(-1):this.e<17?new t(Math.floor(this.toNumber())):this},t.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new t(1):new t(0):this.e<17?new t(Math.ceil(this.toNumber())):this},t.prototype.trunc=function(){return this.e<0?new t(0):this.e<17?new t(Math.trunc(this.toNumber())):this},t.prototype.add=function(e){var i,n,r=$e(e);if(this.m===0)return r;if(r.m===0)return this;if(this.e>=r.e?(i=this,n=r):(i=r,n=this),i.e-n.e>17)return i;var a=Math.round(1e14*i.m+1e14*n.m*Hb(n.e-i.e));return as(a,i.e-14)},t.prototype.plus=function(e){return this.add(e)},t.prototype.sub=function(e){return this.add($e(e).neg())},t.prototype.subtract=function(e){return this.sub(e)},t.prototype.minus=function(e){return this.sub(e)},t.prototype.mul=function(e){if(typeof e=="number")return e<1e307&&e>-1e307?as(this.m*e,this.e):as(1e-307*this.m*e,this.e+307);var i=typeof e=="string"?new t(e):e;return as(this.m*i.m,this.e+i.e)},t.prototype.multiply=function(e){return this.mul(e)},t.prototype.times=function(e){return this.mul(e)},t.prototype.div=function(e){return this.mul($e(e).recip())},t.prototype.divide=function(e){return this.div(e)},t.prototype.divideBy=function(e){return this.div(e)},t.prototype.dividedBy=function(e){return this.div(e)},t.prototype.recip=function(){return as(1/this.m,-this.e)},t.prototype.reciprocal=function(){return this.recip()},t.prototype.reciprocate=function(){return this.recip()},t.prototype.cmp=function(e){var i=$e(e);if(this.m===0){if(i.m===0)return 0;if(i.m<0)return 1;if(i.m>0)return-1}if(i.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return i.m<0||this.e>i.e?1:this.e<i.e?-1:this.m>i.m?1:this.m<i.m?-1:0;if(this.m<0)return i.m>0||this.e>i.e?-1:this.e<i.e||this.m>i.m?1:this.m<i.m?-1:0;throw Error("Unreachable code")},t.prototype.compare=function(e){return this.cmp(e)},t.prototype.eq=function(e){var i=$e(e);return this.e===i.e&&this.m===i.m},t.prototype.equals=function(e){return this.eq(e)},t.prototype.neq=function(e){return!this.eq(e)},t.prototype.notEquals=function(e){return this.neq(e)},t.prototype.lt=function(e){var i=$e(e);return this.m===0?i.m>0:i.m===0?this.m<=0:this.e===i.e?this.m<i.m:this.m>0?i.m>0&&this.e<i.e:i.m>0||this.e>i.e},t.prototype.lte=function(e){return!this.gt(e)},t.prototype.gt=function(e){var i=$e(e);return this.m===0?i.m<0:i.m===0?this.m>0:this.e===i.e?this.m>i.m:this.m>0?i.m<0||this.e>i.e:i.m<0&&this.e<i.e},t.prototype.gte=function(e){return!this.lt(e)},t.prototype.max=function(e){var i=$e(e);return this.lt(i)?i:this},t.prototype.min=function(e){var i=$e(e);return this.gt(i)?i:this},t.prototype.clamp=function(e,i){return this.max(e).min(i)},t.prototype.clampMin=function(e){return this.max(e)},t.prototype.clampMax=function(e){return this.min(e)},t.prototype.cmp_tolerance=function(e,i){var n=$e(e);return this.eq_tolerance(n,i)?0:this.cmp(n)},t.prototype.compare_tolerance=function(e,i){return this.cmp_tolerance(e,i)},t.prototype.eq_tolerance=function(e,i){var n=$e(e);return t.lte(this.sub(n).abs(),t.max(this.abs(),n.abs()).mul(i))},t.prototype.equals_tolerance=function(e,i){return this.eq_tolerance(e,i)},t.prototype.neq_tolerance=function(e,i){return!this.eq_tolerance(e,i)},t.prototype.notEquals_tolerance=function(e,i){return this.neq_tolerance(e,i)},t.prototype.lt_tolerance=function(e,i){var n=$e(e);return!this.eq_tolerance(n,i)&&this.lt(n)},t.prototype.lte_tolerance=function(e,i){var n=$e(e);return this.eq_tolerance(n,i)||this.lt(n)},t.prototype.gt_tolerance=function(e,i){var n=$e(e);return!this.eq_tolerance(n,i)&&this.gt(n)},t.prototype.gte_tolerance=function(e,i){var n=$e(e);return this.eq_tolerance(n,i)||this.gt(n)},t.prototype.log10=function(){return this.e+Math.log10(this.m)},t.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},t.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},t.prototype.log=function(e){return Math.LN10/Math.log(e)*this.log10()},t.prototype.log2=function(){return 3.321928094887362*this.log10()},t.prototype.ln=function(){return 2.302585092994045*this.log10()},t.prototype.logarithm=function(e){return this.log(e)},t.prototype.pow=function(e){var i,n=e instanceof t?e.toNumber():e,r=this.e*n;if(Number.isSafeInteger(r)&&(i=Math.pow(this.m,n),isFinite(i)&&i!==0))return as(i,r);var a=Math.trunc(r),s=r-a;if(i=Math.pow(10,n*Math.log10(this.m)+s),isFinite(i)&&i!==0)return as(i,a);var o=t.pow10(n*this.absLog10());return this.sign()===-1?Math.abs(n%2)===1?o.neg():Math.abs(n%2)===0?o:new t(Number.NaN):o},t.prototype.pow_base=function(e){return $e(e).pow(this)},t.prototype.factorial=function(){var e=this.toNumber()+1;return t.pow(e/Math.E*Math.sqrt(e*Math.sinh(1/e)+1/(810*Math.pow(e,6))),e).mul(Math.sqrt(2*Math.PI/e))},t.prototype.exp=function(){var e=this.toNumber();return-706<e&&e<709?t.fromNumber(Math.exp(e)):t.pow(Math.E,e)},t.prototype.sqr=function(){return as(Math.pow(this.m,2),2*this.e)},t.prototype.sqrt=function(){return this.m<0?new t(Number.NaN):this.e%2!=0?as(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):as(Math.sqrt(this.m),Math.floor(this.e/2))},t.prototype.cube=function(){return as(Math.pow(this.m,3),3*this.e)},t.prototype.cbrt=function(){var e=1,i=this.m;i<0&&(e=-1,i=-i);var n=e*Math.pow(i,1/3),r=this.e%3;return as(r===1||r===-1?2.154434690031883*n:r!==0?4.641588833612778*n:n,Math.floor(this.e/3))},t.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},t.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},t.prototype.tanh=function(){return this.sinh().div(this.cosh())},t.prototype.asinh=function(){return t.ln(this.add(this.sqr().add(1).sqrt()))},t.prototype.acosh=function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))},t.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:t.ln(this.add(1).div(new t(1).sub(this)))/2},t.prototype.ascensionPenalty=function(e){return e===0?this:this.pow(Math.pow(10,-e))},t.prototype.egg=function(){return this.add(9)},t.prototype.lessThanOrEqualTo=function(e){return this.cmp(e)<1},t.prototype.lessThan=function(e){return this.cmp(e)<0},t.prototype.greaterThanOrEqualTo=function(e){return this.cmp(e)>-1},t.prototype.greaterThan=function(e){return this.cmp(e)>0},t.prototype.decimalPlaces=function(){return this.dp()},t.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var e=this.mantissa,i=-this.exponent,n=1;Math.abs(Math.round(e*n)/n-e)>1e-10;)n*=10,i++;return i>0?i:0},Object.defineProperty(t,"MAX_VALUE",{get:function(){return d6},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return h6},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MAX_VALUE",{get:function(){return f6},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MIN_VALUE",{get:function(){return p6},enumerable:!1,configurable:!0}),t}(),d6=Mh(1,$l),h6=Mh(1,-$l),f6=$e(Number.MAX_VALUE),p6=$e(Number.MIN_VALUE),m6={};/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */var Zs=Object.freeze({}),ai=Array.isArray;function Nt(t){return t==null}function ke(t){return t!=null}function Pn(t){return t===!0}function y6(t){return t===!1}function Rv(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="boolean"}function Tn(t){return typeof t=="function"}function Ta(t){return t!==null&&typeof t=="object"}var Qk=Object.prototype.toString;function eo(t){return Qk.call(t)==="[object Object]"}function g6(t){return Qk.call(t)==="[object RegExp]"}function K2(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function eC(t){return ke(t)&&typeof t.then=="function"&&typeof t.catch=="function"}function v6(t){return t==null?"":Array.isArray(t)||eo(t)&&t.toString===Qk?JSON.stringify(t,b6,2):String(t)}function b6(t,e){return e&&e.__v_isRef?e.value:e}function qg(t){var e=parseFloat(t);return isNaN(e)?t:e}function dl(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(a){return i[a.toLowerCase()]}:function(a){return i[a]}}dl("slot,component",!0);var _6=dl("key,ref,slot,slot-scope,is");function Ld(t,e){var i=t.length;if(i){if(e===t[i-1]){t.length=i-1;return}var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w6=Object.prototype.hasOwnProperty;function Ka(t,e){return w6.call(t,e)}function xf(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var E6=/-(\w)/g,nf=xf(function(t){return t.replace(E6,function(e,i){return i?i.toUpperCase():""})}),T6=xf(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),C6=/\B([A-Z])/g,Mv=xf(function(t){return t.replace(C6,"-$1").toLowerCase()});function k6(t,e){function i(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return i._length=t.length,i}function S6(t,e){return t.bind(e)}var Z2=Function.prototype.bind?S6:k6;function tC(t,e){e=e||0;for(var i=t.length-e,n=new Array(i);i--;)n[i]=t[i+e];return n}function on(t,e){for(var i in e)t[i]=e[i];return t}function Q2(t){for(var e={},i=0;i<t.length;i++)t[i]&&on(e,t[i]);return e}function $r(t,e,i){}var Vb=function(t,e,i){return!1},J2=function(t){return t};function rf(t,e){if(t===e)return!0;var i=Ta(t),n=Ta(e);if(i&&n)try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(c,d){return rf(c,e[d])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!r&&!a){var s=Object.keys(t),o=Object.keys(e);return s.length===o.length&&s.every(function(c){return rf(t[c],e[c])})}else return!1}catch{return!1}else return!i&&!n?String(t)===String(e):!1}function eN(t,e){for(var i=0;i<t.length;i++)if(rf(t[i],e))return i;return-1}function _0(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function A6(t,e){return t===e?t===0&&1/t!==1/e:t===t||e===e}var tI="data-server-rendered",Iw=["component","directive","filter"],tN=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],To={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Vb,isReservedAttr:Vb,isUnknownElement:Vb,getTagNamespace:$r,parsePlatformTagName:J2,mustUseProp:Vb,async:!0,_lifecycleHooks:tN},x6=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function iN(t){var e=(t+"").charCodeAt(0);return e===36||e===95}function fd(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var D6=new RegExp("[^".concat(x6.source,".$_\\d]"));function I6(t){if(!D6.test(t)){var e=t.split(".");return function(i){for(var n=0;n<e.length;n++){if(!i)return;i=i[e[n]]}return i}}}var R6="__proto__"in{},no=typeof window<"u",Ao=no&&window.navigator.userAgent.toLowerCase(),Rm=Ao&&/msie|trident/.test(Ao),Mm=Ao&&Ao.indexOf("msie 9.0")>0,nN=Ao&&Ao.indexOf("edge/")>0;Ao&&Ao.indexOf("android")>0;var M6=Ao&&/iphone|ipad|ipod|ios/.test(Ao),iI=Ao&&Ao.match(/firefox\/(\d+)/),iC={}.watch,rN=!1;if(no)try{var nI={};Object.defineProperty(nI,"passive",{get:function(){rN=!0}}),window.addEventListener("test-passive",null,nI)}catch{}var Yb,Pv=function(){return Yb===void 0&&(!no&&typeof global<"u"?Yb=global.process&&m6.VUE_ENV==="server":Yb=!1),Yb},w0=no&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function jp(t){return typeof t=="function"&&/native code/.test(t.toString())}var Ov=typeof Symbol<"u"&&jp(Symbol)&&typeof Reflect<"u"&&jp(Reflect.ownKeys),Wg;typeof Set<"u"&&jp(Set)?Wg=Set:Wg=function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(e){return this.set[e]===!0},t.prototype.add=function(e){this.set[e]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var zp=null;function Sd(t){t===void 0&&(t=null),t||zp&&zp._scope.off(),zp=t,t&&t._scope.on()}var to=function(){function t(e,i,n,r,a,s,o,c){this.tag=e,this.data=i,this.children=n,this.text=r,this.elm=a,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=i&&i.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),Wh=function(t){t===void 0&&(t="");var e=new to;return e.text=t,e.isComment=!0,e};function Op(t){return new to(void 0,void 0,void 0,String(t))}function nC(t){var e=new to(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var P6=0,F_=[],O6=function(){for(var t=0;t<F_.length;t++){var e=F_[t];e.subs=e.subs.filter(function(i){return i}),e._pending=!1}F_.length=0},Ad=function(){function t(){this._pending=!1,this.id=P6++,this.subs=[]}return t.prototype.addSub=function(e){this.subs.push(e)},t.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,F_.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(e){for(var i=this.subs.filter(function(s){return s}),n=0,r=i.length;n<r;n++){var a=i[n];a.update()}},t}();Ad.target=null;var H_=[];function Pm(t){H_.push(t),Ad.target=t}function Om(){H_.pop(),Ad.target=H_[H_.length-1]}var aN=Array.prototype,E0=Object.create(aN),N6=["push","pop","shift","unshift","splice","sort","reverse"];N6.forEach(function(t){var e=aN[t];fd(E0,t,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n),s=this.__ob__,o;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&s.observeArray(o),s.dep.notify(),a})});var rI=Object.getOwnPropertyNames(E0),sN={},Jk=!0;function xd(t){Jk=t}var G6={notify:$r,depend:$r,addSub:$r,removeSub:$r},aI=function(){function t(e,i,n){if(i===void 0&&(i=!1),n===void 0&&(n=!1),this.value=e,this.shallow=i,this.mock=n,this.dep=n?G6:new Ad,this.vmCount=0,fd(e,"__ob__",this),ai(e)){if(!n)if(R6)e.__proto__=E0;else for(var r=0,a=rI.length;r<a;r++){var s=rI[r];fd(e,s,E0[s])}i||this.observeArray(e)}else for(var o=Object.keys(e),r=0;r<o.length;r++){var s=o[r];af(e,s,sN,void 0,i,n)}}return t.prototype.observeArray=function(e){for(var i=0,n=e.length;i<n;i++)Qc(e[i],!1,this.mock)},t}();function Qc(t,e,i){if(t&&Ka(t,"__ob__")&&t.__ob__ instanceof aI)return t.__ob__;if(Jk&&(i||!Pv())&&(ai(t)||eo(t))&&Object.isExtensible(t)&&!t.__v_skip&&!ec(t)&&!(t instanceof to))return new aI(t,e,i)}function af(t,e,i,n,r,a,s){s===void 0&&(s=!1);var o=new Ad,c=Object.getOwnPropertyDescriptor(t,e);if(!(c&&c.configurable===!1)){var d=c&&c.get,p=c&&c.set;(!d||p)&&(i===sN||arguments.length===2)&&(i=t[e]);var m=r?i&&i.__ob__:Qc(i,!1,a);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var _=d?d.call(t):i;return Ad.target&&(o.depend(),m&&(m.dep.depend(),ai(_)&&lN(_))),ec(_)&&!r?_.value:_},set:function(_){var w=d?d.call(t):i;if(A6(w,_)){if(p)p.call(t,_);else{if(d)return;if(!r&&ec(w)&&!ec(_)){w.value=_;return}else i=_}m=r?_&&_.__ob__:Qc(_,!1,a),o.notify()}}}),o}}function eS(t,e,i){if(!tS(t)){var n=t.__ob__;return ai(t)&&K2(e)?(t.length=Math.max(t.length,e),t.splice(e,1,i),n&&!n.shallow&&n.mock&&Qc(i,!1,!0),i):e in t&&!(e in Object.prototype)?(t[e]=i,i):t._isVue||n&&n.vmCount?i:n?(af(n.value,e,i,void 0,n.shallow,n.mock),n.dep.notify(),i):(t[e]=i,i)}}function oN(t,e){if(ai(t)&&K2(e)){t.splice(e,1);return}var i=t.__ob__;t._isVue||i&&i.vmCount||tS(t)||Ka(t,e)&&(delete t[e],i&&i.dep.notify())}function lN(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),ai(e)&&lN(e)}function cN(t){return U6(t,!0),fd(t,"__v_isShallow",!0),t}function U6(t,e){tS(t)||Qc(t,e,Pv())}function tS(t){return!!(t&&t.__v_isReadonly)}function ec(t){return!!(t&&t.__v_isRef===!0)}function rC(t,e,i){Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:function(){var n=e[i];if(ec(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[i];ec(r)&&!ec(n)?r.value=n:e[i]=n}})}var ps,L6=function(){function t(e){e===void 0&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=ps,!e&&ps&&(this.index=(ps.scopes||(ps.scopes=[])).push(this)-1)}return t.prototype.run=function(e){if(this.active){var i=ps;try{return ps=this,e()}finally{ps=i}}},t.prototype.on=function(){ps=this},t.prototype.off=function(){ps=this.parent},t.prototype.stop=function(e){if(this.active){var i=void 0,n=void 0;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].teardown();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function B6(t,e){e===void 0&&(e=ps),e&&e.active&&e.effects.push(t)}function $6(){return ps}function F6(t){var e=t._provided,i=t.$parent&&t.$parent._provided;return i===e?t._provided=Object.create(i):e}var sI=xf(function(t){var e=t.charAt(0)==="&";t=e?t.slice(1):t;var i=t.charAt(0)==="~";t=i?t.slice(1):t;var n=t.charAt(0)==="!";return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}});function aC(t,e){function i(){var n=i.fns;if(ai(n))for(var r=n.slice(),a=0;a<r.length;a++)Dd(r[a],null,arguments,e,"v-on handler");else return Dd(n,null,arguments,e,"v-on handler")}return i.fns=t,i}function uN(t,e,i,n,r,a){var s,o,c,d;for(s in t)o=t[s],c=e[s],d=sI(s),Nt(o)||(Nt(c)?(Nt(o.fns)&&(o=t[s]=aC(o,a)),Pn(d.once)&&(o=t[s]=r(d.name,o,d.capture)),i(d.name,o,d.capture,d.passive,d.params)):o!==c&&(c.fns=o,t[s]=c));for(s in e)Nt(t[s])&&(d=sI(s),n(d.name,e[s],d.capture))}function sd(t,e,i){t instanceof to&&(t=t.data.hook||(t.data.hook={}));var n,r=t[e];function a(){i.apply(this,arguments),Ld(n.fns,a)}Nt(r)?n=aC([a]):ke(r.fns)&&Pn(r.merged)?(n=r,n.fns.push(a)):n=aC([r,a]),n.merged=!0,t[e]=n}function H6(t,e,i){var n=e.options.props;if(!Nt(n)){var r={},a=t.attrs,s=t.props;if(ke(a)||ke(s))for(var o in n){var c=Mv(o);oI(r,s,o,c,!0)||oI(r,a,o,c,!1)}return r}}function oI(t,e,i,n,r){if(ke(e)){if(Ka(e,i))return t[i]=e[i],r||delete e[i],!0;if(Ka(e,n))return t[i]=e[n],r||delete e[n],!0}return!1}function V6(t){for(var e=0;e<t.length;e++)if(ai(t[e]))return Array.prototype.concat.apply([],t);return t}function iS(t){return Rv(t)?[Op(t)]:ai(t)?dN(t):void 0}function Ay(t){return ke(t)&&ke(t.text)&&y6(t.isComment)}function dN(t,e){var i=[],n,r,a,s;for(n=0;n<t.length;n++)r=t[n],!(Nt(r)||typeof r=="boolean")&&(a=i.length-1,s=i[a],ai(r)?r.length>0&&(r=dN(r,"".concat(e||"","_").concat(n)),Ay(r[0])&&Ay(s)&&(i[a]=Op(s.text+r[0].text),r.shift()),i.push.apply(i,r)):Rv(r)?Ay(s)?i[a]=Op(s.text+r):r!==""&&i.push(Op(r)):Ay(r)&&Ay(s)?i[a]=Op(s.text+r.text):(Pn(t._isVList)&&ke(r.tag)&&Nt(r.key)&&ke(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),i.push(r)));return i}function Y6(t,e){var i=null,n,r,a,s;if(ai(t)||typeof t=="string")for(i=new Array(t.length),n=0,r=t.length;n<r;n++)i[n]=e(t[n],n);else if(typeof t=="number")for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(Ta(t))if(Ov&&t[Symbol.iterator]){i=[];for(var o=t[Symbol.iterator](),c=o.next();!c.done;)i.push(e(c.value,i.length)),c=o.next()}else for(a=Object.keys(t),i=new Array(a.length),n=0,r=a.length;n<r;n++)s=a[n],i[n]=e(t[s],s,n);return ke(i)||(i=[]),i._isVList=!0,i}function q6(t,e,i,n){var r=this.$scopedSlots[t],a;r?(i=i||{},n&&(i=on(on({},n),i)),a=r(i)||(Tn(e)?e():e)):a=this.$slots[t]||(Tn(e)?e():e);var s=i&&i.slot;return s?this.$createElement("template",{slot:s},a):a}function W6(t){return x0(this.$options,"filters",t)||J2}function lI(t,e){return ai(t)?t.indexOf(e)===-1:t!==e}function j6(t,e,i,n,r){var a=To.keyCodes[e]||i;return r&&n&&!To.keyCodes[e]?lI(r,n):a?lI(a,t):n?Mv(n)!==e:t===void 0}function z6(t,e,i,n,r){if(i&&Ta(i)){ai(i)&&(i=Q2(i));var a=void 0,s=function(c){if(c==="class"||c==="style"||_6(c))a=t;else{var d=t.attrs&&t.attrs.type;a=n||To.mustUseProp(e,d,c)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var p=nf(c),m=Mv(c);if(!(p in a)&&!(m in a)&&(a[c]=i[c],r)){var y=t.on||(t.on={});y["update:".concat(c)]=function(_){i[c]=_}}};for(var o in i)s(o)}return t}function X6(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e||(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),hN(n,"__static__".concat(t),!1)),n}function K6(t,e,i){return hN(t,"__once__".concat(e).concat(i?"_".concat(i):""),!0),t}function hN(t,e,i){if(ai(t))for(var n=0;n<t.length;n++)t[n]&&typeof t[n]!="string"&&cI(t[n],"".concat(e,"_").concat(n),i);else cI(t,e,i)}function cI(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Z6(t,e){if(e&&eo(e)){var i=t.on=t.on?on({},t.on):{};for(var n in e){var r=i[n],a=e[n];i[n]=r?[].concat(r,a):a}}return t}function fN(t,e,i,n){e=e||{$stable:!i};for(var r=0;r<t.length;r++){var a=t[r];ai(a)?fN(a,e,i):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return n&&(e.$key=n),e}function Q6(t,e){for(var i=0;i<e.length;i+=2){var n=e[i];typeof n=="string"&&n&&(t[e[i]]=e[i+1])}return t}function J6(t,e){return typeof t=="string"?e+t:t}function pN(t){t._o=K6,t._n=qg,t._s=v6,t._l=Y6,t._t=q6,t._q=rf,t._i=eN,t._m=X6,t._f=W6,t._k=j6,t._b=z6,t._v=Op,t._e=Wh,t._u=fN,t._g=Z6,t._d=Q6,t._p=J6}function nS(t,e){if(!t||!t.length)return{};for(var i={},n=0,r=t.length;n<r;n++){var a=t[n],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,(a.context===e||a.fnContext===e)&&s&&s.slot!=null){var o=s.slot,c=i[o]||(i[o]=[]);a.tag==="template"?c.push.apply(c,a.children||[]):c.push(a)}else(i.default||(i.default=[])).push(a)}for(var d in i)i[d].every(e8)&&delete i[d];return i}function e8(t){return t.isComment&&!t.asyncFactory||t.text===" "}function jg(t){return t.isComment&&t.asyncFactory}function Eg(t,e,i,n){var r,a=Object.keys(i).length>0,s=e?!!e.$stable:!a,o=e&&e.$key;if(!e)r={};else{if(e._normalized)return e._normalized;if(s&&n&&n!==Zs&&o===n.$key&&!a&&!n.$hasNormal)return n;r={};for(var c in e)e[c]&&c[0]!=="$"&&(r[c]=t8(t,i,c,e[c]))}for(var d in i)d in r||(r[d]=i8(i,d));return e&&Object.isExtensible(e)&&(e._normalized=r),fd(r,"$stable",s),fd(r,"$key",o),fd(r,"$hasNormal",a),r}function t8(t,e,i,n){var r=function(){var a=zp;Sd(t);var s=arguments.length?n.apply(null,arguments):n({});s=s&&typeof s=="object"&&!ai(s)?[s]:iS(s);var o=s&&s[0];return Sd(a),s&&(!o||s.length===1&&o.isComment&&!jg(o))?void 0:s};return n.proxy&&Object.defineProperty(e,i,{get:r,enumerable:!0,configurable:!0}),r}function i8(t,e){return function(){return t[e]}}function n8(t){var e=t.$options,i=e.setup;if(i){var n=t._setupContext=r8(t);Sd(t),Pm();var r=Dd(i,null,[t._props||cN({}),n],t,"setup");if(Om(),Sd(),Tn(r))e.render=r;else if(Ta(r))if(t._setupState=r,r.__sfc){var s=t._setupProxy={};for(var a in r)a!=="__sfc"&&rC(s,r,a)}else for(var a in r)iN(a)||rC(t,r,a)}}function r8(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};fd(e,"_v_attr_proxy",!0),T0(e,t.$attrs,Zs,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};T0(e,t.$listeners,Zs,t,"$listeners")}return t._listenersProxy},get slots(){return s8(t)},emit:Z2(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach(function(i){return rC(t,e,i)})}}}function T0(t,e,i,n,r){var a=!1;for(var s in e)s in t?e[s]!==i[s]&&(a=!0):(a=!0,a8(t,s,n,r));for(var s in t)s in e||(a=!0,delete t[s]);return a}function a8(t,e,i,n){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return i[n][e]}})}function s8(t){return t._slotsProxy||mN(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function mN(t,e){for(var i in e)t[i]=e[i];for(var i in t)i in e||delete t[i]}function o8(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,n=i&&i.context;t.$slots=nS(e._renderChildren,n),t.$scopedSlots=i?Eg(t.$parent,i.data.scopedSlots,t.$slots):Zs,t._c=function(a,s,o,c){return C0(t,a,s,o,c,!1)},t.$createElement=function(a,s,o,c){return C0(t,a,s,o,c,!0)};var r=i&&i.data;af(t,"$attrs",r&&r.attrs||Zs,null,!0),af(t,"$listeners",e._parentListeners||Zs,null,!0)}var V_=null;function l8(t){pN(t.prototype),t.prototype.$nextTick=function(e){return rS(e,this)},t.prototype._render=function(){var e=this,i=e.$options,n=i.render,r=i._parentVnode;r&&e._isMounted&&(e.$scopedSlots=Eg(e.$parent,r.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&mN(e._slotsProxy,e.$scopedSlots)),e.$vnode=r;var a=zp,s=V_,o;try{Sd(e),V_=e,o=n.call(e._renderProxy,e.$createElement)}catch(c){sf(c,e,"render"),o=e._vnode}finally{V_=s,Sd(a)}return ai(o)&&o.length===1&&(o=o[0]),o instanceof to||(o=Wh()),o.parent=r,o}}function aT(t,e){return(t.__esModule||Ov&&t[Symbol.toStringTag]==="Module")&&(t=t.default),Ta(t)?e.extend(t):t}function c8(t,e,i,n,r){var a=Wh();return a.asyncFactory=t,a.asyncMeta={data:e,context:i,children:n,tag:r},a}function u8(t,e){if(Pn(t.error)&&ke(t.errorComp))return t.errorComp;if(ke(t.resolved))return t.resolved;var i=V_;if(i&&ke(t.owners)&&t.owners.indexOf(i)===-1&&t.owners.push(i),Pn(t.loading)&&ke(t.loadingComp))return t.loadingComp;if(i&&!ke(t.owners)){var n=t.owners=[i],r=!0,a=null,s=null;i.$on("hook:destroyed",function(){return Ld(n,i)});var o=function(m){for(var y=0,_=n.length;y<_;y++)n[y].$forceUpdate();m&&(n.length=0,a!==null&&(clearTimeout(a),a=null),s!==null&&(clearTimeout(s),s=null))},c=_0(function(m){t.resolved=aT(m,e),r?n.length=0:o(!0)}),d=_0(function(m){ke(t.errorComp)&&(t.error=!0,o(!0))}),p=t(c,d);return Ta(p)&&(eC(p)?Nt(t.resolved)&&p.then(c,d):eC(p.component)&&(p.component.then(c,d),ke(p.error)&&(t.errorComp=aT(p.error,e)),ke(p.loading)&&(t.loadingComp=aT(p.loading,e),p.delay===0?t.loading=!0:a=setTimeout(function(){a=null,Nt(t.resolved)&&Nt(t.error)&&(t.loading=!0,o(!1))},p.delay||200)),ke(p.timeout)&&(s=setTimeout(function(){s=null,Nt(t.resolved)&&d(null)},p.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}function yN(t){if(ai(t))for(var e=0;e<t.length;e++){var i=t[e];if(ke(i)&&(ke(i.componentOptions)||jg(i)))return i}}var d8=1,gN=2;function C0(t,e,i,n,r,a){return(ai(i)||Rv(i))&&(r=n,n=i,i=void 0),Pn(a)&&(r=gN),h8(t,e,i,n,r)}function h8(t,e,i,n,r){if(ke(i)&&ke(i.__ob__)||(ke(i)&&ke(i.is)&&(e=i.is),!e))return Wh();ai(n)&&Tn(n[0])&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),r===gN?n=iS(n):r===d8&&(n=V6(n));var a,s;if(typeof e=="string"){var o=void 0;s=t.$vnode&&t.$vnode.ns||To.getTagNamespace(e),To.isReservedTag(e)?a=new to(To.parsePlatformTagName(e),i,n,void 0,void 0,t):(!i||!i.pre)&&ke(o=x0(t.$options,"components",e))?a=gI(o,i,t,n,e):a=new to(e,i,n,void 0,void 0,t)}else a=gI(e,i,t,n);return ai(a)?a:ke(a)?(ke(s)&&vN(a,s),ke(i)&&f8(i),a):Wh()}function vN(t,e,i){if(t.ns=e,t.tag==="foreignObject"&&(e=void 0,i=!0),ke(t.children))for(var n=0,r=t.children.length;n<r;n++){var a=t.children[n];ke(a.tag)&&(Nt(a.ns)||Pn(i)&&a.tag!=="svg")&&vN(a,e,i)}}function f8(t){Ta(t.style)&&k0(t.style),Ta(t.class)&&k0(t.class)}function sf(t,e,i){Pm();try{if(e)for(var n=e;n=n.$parent;){var r=n.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var s=r[a].call(n,t,e,i)===!1;if(s)return}catch(o){uI(o,n,"errorCaptured hook")}}uI(t,e,i)}finally{Om()}}function Dd(t,e,i,n,r){var a;try{a=i?t.apply(e,i):t.call(e),a&&!a._isVue&&eC(a)&&!a._handled&&(a.catch(function(s){return sf(s,n,r+" (Promise/async)")}),a._handled=!0)}catch(s){sf(s,n,r)}return a}function uI(t,e,i){if(To.errorHandler)try{return To.errorHandler.call(null,t,e,i)}catch(n){n!==t&&dI(n)}dI(t)}function dI(t,e,i){if(no&&typeof console<"u")console.error(t);else throw t}var sC=!1,oC=[],lC=!1;function qb(){lC=!1;var t=oC.slice(0);oC.length=0;for(var e=0;e<t.length;e++)t[e]()}var tg;if(typeof Promise<"u"&&jp(Promise)){var p8=Promise.resolve();tg=function(){p8.then(qb),M6&&setTimeout($r)},sC=!0}else if(!Rm&&typeof MutationObserver<"u"&&(jp(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var Wb=1,m8=new MutationObserver(qb),hI=document.createTextNode(String(Wb));m8.observe(hI,{characterData:!0}),tg=function(){Wb=(Wb+1)%2,hI.data=String(Wb)},sC=!0}else typeof setImmediate<"u"&&jp(setImmediate)?tg=function(){setImmediate(qb)}:tg=function(){setTimeout(qb,0)};function rS(t,e){var i;if(oC.push(function(){if(t)try{t.call(e)}catch(n){sf(n,e,"nextTick")}else i&&i(e)}),lC||(lC=!0,tg()),!t&&typeof Promise<"u")return new Promise(function(n){i=n})}var y8="2.7.16",fI=new Wg;function k0(t){return Y_(t,fI),fI.clear(),t}function Y_(t,e){var i,n,r=ai(t);if(!(!r&&!Ta(t)||t.__v_skip||Object.isFrozen(t)||t instanceof to)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(r)for(i=t.length;i--;)Y_(t[i],e);else if(ec(t))Y_(t.value,e);else for(n=Object.keys(t),i=n.length;i--;)Y_(t[n[i]],e)}}var g8=0,aS=function(){function t(e,i,n,r,a){B6(this,ps&&!ps._vm?ps:e?e._scope:void 0),(this.vm=e)&&a&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++g8,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Wg,this.newDepIds=new Wg,this.expression="",Tn(i)?this.getter=i:(this.getter=I6(i),this.getter||(this.getter=$r)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){Pm(this);var e,i=this.vm;try{e=this.getter.call(i,i)}catch(n){if(this.user)sf(n,i,'getter for watcher "'.concat(this.expression,'"'));else throw n}finally{this.deep&&k0(e),Om(),this.cleanupDeps()}return e},t.prototype.addDep=function(e){var i=e.id;this.newDepIds.has(i)||(this.newDepIds.add(i),this.newDeps.push(e),this.depIds.has(i)||e.addSub(this))},t.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var i=this.deps[e];this.newDepIds.has(i.id)||i.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():P8(this)},t.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||Ta(e)||this.deep){var i=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Dd(this.cb,this.vm,[e,i],this.vm,n)}else this.cb.call(this.vm,e,i)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&Ld(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function v8(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&bN(t,e)}var zg;function b8(t,e){zg.$on(t,e)}function _8(t,e){zg.$off(t,e)}function w8(t,e){var i=zg;return function n(){var r=e.apply(null,arguments);r!==null&&i.$off(t,n)}}function bN(t,e,i){zg=t,uN(e,i||{},b8,_8,w8,t),zg=void 0}function E8(t){var e=/^hook:/;t.prototype.$on=function(i,n){var r=this;if(ai(i))for(var a=0,s=i.length;a<s;a++)r.$on(i[a],n);else(r._events[i]||(r._events[i]=[])).push(n),e.test(i)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(i,n){var r=this;function a(){r.$off(i,a),n.apply(r,arguments)}return a.fn=n,r.$on(i,a),r},t.prototype.$off=function(i,n){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(ai(i)){for(var a=0,s=i.length;a<s;a++)r.$off(i[a],n);return r}var o=r._events[i];if(!o)return r;if(!n)return r._events[i]=null,r;for(var c,d=o.length;d--;)if(c=o[d],c===n||c.fn===n){o.splice(d,1);break}return r},t.prototype.$emit=function(i){var n=this,r=n._events[i];if(r){r=r.length>1?tC(r):r;for(var a=tC(arguments,1),s='event handler for "'.concat(i,'"'),o=0,c=r.length;o<c;o++)Dd(r[o],n,a,n,s)}return n}}var jh=null;function _N(t){var e=jh;return jh=t,function(){jh=e}}function T8(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._provided=i?i._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function C8(t){t.prototype._update=function(e,i){var n=this,r=n.$el,a=n._vnode,s=_N(n);n._vnode=e,a?n.$el=n.__patch__(a,e):n.$el=n.__patch__(n.$el,e,i,!1),s(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var o=n;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},t.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},t.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ol(e,"beforeDestroy"),e._isBeingDestroyed=!0;var i=e.$parent;i&&!i._isBeingDestroyed&&!e.$options.abstract&&Ld(i.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ol(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function k8(t,e,i){t.$el=e,t.$options.render||(t.$options.render=Wh),ol(t,"beforeMount");var n;n=function(){t._update(t._render(),i)};var r={before:function(){t._isMounted&&!t._isDestroyed&&ol(t,"beforeUpdate")}};new aS(t,n,$r,r,!0),i=!1;var a=t._preWatchers;if(a)for(var s=0;s<a.length;s++)a[s].run();return t.$vnode==null&&(t._isMounted=!0,ol(t,"mounted")),t}function S8(t,e,i,n,r){var a=n.data.scopedSlots,s=t.$scopedSlots,o=!!(a&&!a.$stable||s!==Zs&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(r||t.$options._renderChildren||o),d=t.$vnode;t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=r;var p=n.data.attrs||Zs;t._attrsProxy&&T0(t._attrsProxy,p,d.data&&d.data.attrs||Zs,t,"$attrs")&&(c=!0),t.$attrs=p,i=i||Zs;var m=t.$options._parentListeners;if(t._listenersProxy&&T0(t._listenersProxy,i,m||Zs,t,"$listeners"),t.$listeners=t.$options._parentListeners=i,bN(t,i,m),e&&t.$options.props){xd(!1);for(var y=t._props,_=t.$options._propKeys||[],w=0;w<_.length;w++){var C=_[w],k=t.$options.props;y[C]=dS(C,k,e,t)}xd(!0),t.$options.propsData=e}c&&(t.$slots=nS(r,n.context),t.$forceUpdate())}function wN(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function sS(t,e){if(e){if(t._directInactive=!1,wN(t))return}else if(t._directInactive)return;if(t._inactive||t._inactive===null){t._inactive=!1;for(var i=0;i<t.$children.length;i++)sS(t.$children[i]);ol(t,"activated")}}function EN(t,e){if(!(e&&(t._directInactive=!0,wN(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)EN(t.$children[i]);ol(t,"deactivated")}}function ol(t,e,i,n){n===void 0&&(n=!0),Pm();var r=zp,a=$6();n&&Sd(t);var s=t.$options[e],o="".concat(e," hook");if(s)for(var c=0,d=s.length;c<d;c++)Dd(s[c],t,null,t,o);t._hasHookEvent&&t.$emit("hook:"+e),n&&(Sd(r),a&&a.on()),Om()}var $c=[],oS=[],S0={},cC=!1,lS=!1,Np=0;function A8(){Np=$c.length=oS.length=0,S0={},cC=lS=!1}var TN=0,uC=Date.now;if(no&&!Rm){var sT=window.performance;sT&&typeof sT.now=="function"&&uC()>document.createEvent("Event").timeStamp&&(uC=function(){return sT.now()})}var x8=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function D8(){TN=uC(),lS=!0;var t,e;for($c.sort(x8),Np=0;Np<$c.length;Np++)t=$c[Np],t.before&&t.before(),e=t.id,S0[e]=null,t.run();var i=oS.slice(),n=$c.slice();A8(),M8(i),I8(n),O6(),w0&&To.devtools&&w0.emit("flush")}function I8(t){for(var e=t.length;e--;){var i=t[e],n=i.vm;n&&n._watcher===i&&n._isMounted&&!n._isDestroyed&&ol(n,"updated")}}function R8(t){t._inactive=!1,oS.push(t)}function M8(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,sS(t[e],!0)}function P8(t){var e=t.id;if(S0[e]==null&&!(t===Ad.target&&t.noRecurse)){if(S0[e]=!0,!lS)$c.push(t);else{for(var i=$c.length-1;i>Np&&$c[i].id>t.id;)i--;$c.splice(i+1,0,t)}cC||(cC=!0,rS(D8))}}function O8(t){var e=t.$options.provide;if(e){var i=Tn(e)?e.call(t):e;if(!Ta(i))return;for(var n=F6(t),r=Ov?Reflect.ownKeys(i):Object.keys(i),a=0;a<r.length;a++){var s=r[a];Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(i,s))}}}function N8(t){var e=CN(t.$options.inject,t);e&&(xd(!1),Object.keys(e).forEach(function(i){af(t,i,e[i])}),xd(!0))}function CN(t,e){if(t){for(var i=Object.create(null),n=Ov?Reflect.ownKeys(t):Object.keys(t),r=0;r<n.length;r++){var a=n[r];if(a!=="__ob__"){var s=t[a].from;if(s in e._provided)i[a]=e._provided[s];else if("default"in t[a]){var o=t[a].default;i[a]=Tn(o)?o.call(e):o}}}return i}}function cS(t,e,i,n,r){var a=this,s=r.options,o;Ka(n,"_uid")?(o=Object.create(n),o._original=n):(o=n,n=n._original);var c=Pn(s._compiled),d=!c;this.data=t,this.props=e,this.children=i,this.parent=n,this.listeners=t.on||Zs,this.injections=CN(s.inject,n),this.slots=function(){return a.$slots||Eg(n,t.scopedSlots,a.$slots=nS(i,n)),a.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Eg(n,t.scopedSlots,this.slots())}}),c&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=Eg(n,t.scopedSlots,this.$slots)),s._scopeId?this._c=function(p,m,y,_){var w=C0(o,p,m,y,_,d);return w&&!ai(w)&&(w.fnScopeId=s._scopeId,w.fnContext=n),w}:this._c=function(p,m,y,_){return C0(o,p,m,y,_,d)}}pN(cS.prototype);function G8(t,e,i,n,r){var a=t.options,s={},o=a.props;if(ke(o))for(var c in o)s[c]=dS(c,o,e||Zs);else ke(i.attrs)&&mI(s,i.attrs),ke(i.props)&&mI(s,i.props);var d=new cS(i,s,r,n,t),p=a.render.call(null,d._c,d);if(p instanceof to)return pI(p,i,d.parent,a);if(ai(p)){for(var m=iS(p)||[],y=new Array(m.length),_=0;_<m.length;_++)y[_]=pI(m[_],i,d.parent,a);return y}}function pI(t,e,i,n,r){var a=nC(t);return a.fnContext=i,a.fnOptions=n,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function mI(t,e){for(var i in e)t[nf(i)]=e[i]}function A0(t){return t.name||t.__name||t._componentTag}var uS={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;uS.prepatch(i,i)}else{var n=t.componentInstance=U8(t,jh);n.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions,n=e.componentInstance=t.componentInstance;S8(n,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,ol(i,"mounted")),t.data.keepAlive&&(e._isMounted?R8(i):sS(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?EN(e,!0):e.$destroy())}},yI=Object.keys(uS);function gI(t,e,i,n,r){if(!Nt(t)){var a=i.$options._base;if(Ta(t)&&(t=a.extend(t)),typeof t=="function"){var s;if(Nt(t.cid)&&(s=t,t=u8(s,a),t===void 0))return c8(s,e,i,n,r);e=e||{},fS(t),ke(e.model)&&$8(t.options,e);var o=H6(e,t);if(Pn(t.options.functional))return G8(t,o,e,i,n);var c=e.on;if(e.on=e.nativeOn,Pn(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}L8(e);var p=A0(t.options)||r,m=new to("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:o,listeners:c,tag:r,children:n},s);return m}}}function U8(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return ke(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(i)}function L8(t){for(var e=t.hook||(t.hook={}),i=0;i<yI.length;i++){var n=yI[i],r=e[n],a=uS[n];r!==a&&!(r&&r._merged)&&(e[n]=r?B8(a,r):a)}}function B8(t,e){var i=function(n,r){t(n,r),e(n,r)};return i._merged=!0,i}function $8(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var r=e.on||(e.on={}),a=r[n],s=e.model.callback;ke(a)?(ai(a)?a.indexOf(s)===-1:a!==s)&&(r[n]=[s].concat(a)):r[n]=s}var F8=$r,Xl=To.optionMergeStrategies;function Xg(t,e,i){if(i===void 0&&(i=!0),!e)return t;for(var n,r,a,s=Ov?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)n=s[o],n!=="__ob__"&&(r=t[n],a=e[n],!i||!Ka(t,n)?eS(t,n,a):r!==a&&eo(r)&&eo(a)&&Xg(r,a));return t}function vI(t,e,i){return i?function(){var r=Tn(e)?e.call(i,i):e,a=Tn(t)?t.call(i,i):t;return r?Xg(r,a):a}:e?t?function(){return Xg(Tn(e)?e.call(this,this):e,Tn(t)?t.call(this,this):t)}:e:t}Xl.data=function(t,e,i){return i?vI(t,e,i):e&&typeof e!="function"?t:vI(t,e)};function H8(t,e){var i=e?t?t.concat(e):ai(e)?e:[e]:t;return i&&V8(i)}function V8(t){for(var e=[],i=0;i<t.length;i++)e.indexOf(t[i])===-1&&e.push(t[i]);return e}tN.forEach(function(t){Xl[t]=H8});function Y8(t,e,i,n){var r=Object.create(t||null);return e?on(r,e):r}Iw.forEach(function(t){Xl[t+"s"]=Y8});Xl.watch=function(t,e,i,n){if(t===iC&&(t=void 0),e===iC&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};on(r,t);for(var a in e){var s=r[a],o=e[a];s&&!ai(s)&&(s=[s]),r[a]=s?s.concat(o):ai(o)?o:[o]}return r};Xl.props=Xl.methods=Xl.inject=Xl.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return on(r,t),e&&on(r,e),r};Xl.provide=function(t,e){return t?function(){var i=Object.create(null);return Xg(i,Tn(t)?t.call(this):t),e&&Xg(i,Tn(e)?e.call(this):e,!1),i}:e};var q8=function(t,e){return e===void 0?t:e};function W8(t,e){var i=t.props;if(i){var n={},r,a,s;if(ai(i))for(r=i.length;r--;)a=i[r],typeof a=="string"&&(s=nf(a),n[s]={type:null});else if(eo(i))for(var o in i)a=i[o],s=nf(o),n[s]=eo(a)?a:{type:a};t.props=n}}function j8(t,e){var i=t.inject;if(i){var n=t.inject={};if(ai(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(eo(i))for(var a in i){var s=i[a];n[a]=eo(s)?on({from:a},s):{from:s}}}}function z8(t){var e=t.directives;if(e)for(var i in e){var n=e[i];Tn(n)&&(e[i]={bind:n,update:n})}}function of(t,e,i){if(Tn(e)&&(e=e.options),W8(e),j8(e),z8(e),!e._base&&(e.extends&&(t=of(t,e.extends,i)),e.mixins))for(var n=0,r=e.mixins.length;n<r;n++)t=of(t,e.mixins[n],i);var a={},s;for(s in t)o(s);for(s in e)Ka(t,s)||o(s);function o(c){var d=Xl[c]||q8;a[c]=d(t[c],e[c],i,c)}return a}function x0(t,e,i,n){if(typeof i=="string"){var r=t[e];if(Ka(r,i))return r[i];var a=nf(i);if(Ka(r,a))return r[a];var s=T6(a);if(Ka(r,s))return r[s];var o=r[i]||r[a]||r[s];return o}}function dS(t,e,i,n){var r=e[t],a=!Ka(i,t),s=i[t],o=_I(Boolean,r.type);if(o>-1){if(a&&!Ka(r,"default"))s=!1;else if(s===""||s===Mv(t)){var c=_I(String,r.type);(c<0||o<c)&&(s=!0)}}if(s===void 0){s=X8(n,r,t);var d=Jk;xd(!0),Qc(s),xd(d)}return s}function X8(t,e,i){if(Ka(e,"default")){var n=e.default;return t&&t.$options.propsData&&t.$options.propsData[i]===void 0&&t._props[i]!==void 0?t._props[i]:Tn(n)&&dC(e.type)!=="Function"?n.call(t):n}}var K8=/^\s*function (\w+)/;function dC(t){var e=t&&t.toString().match(K8);return e?e[1]:""}function bI(t,e){return dC(t)===dC(e)}function _I(t,e){if(!ai(e))return bI(e,t)?0:-1;for(var i=0,n=e.length;i<n;i++)if(bI(e[i],t))return i;return-1}var Qu={enumerable:!0,configurable:!0,get:$r,set:$r};function hS(t,e,i){Qu.get=function(){return this[e][i]},Qu.set=function(r){this[e][i]=r},Object.defineProperty(t,i,Qu)}function Z8(t){var e=t.$options;if(e.props&&Q8(t,e.props),n8(t),e.methods&&nV(t,e.methods),e.data)J8(t);else{var i=Qc(t._data={});i&&i.vmCount++}e.computed&&iV(t,e.computed),e.watch&&e.watch!==iC&&rV(t,e.watch)}function Q8(t,e){var i=t.$options.propsData||{},n=t._props=cN({}),r=t.$options._propKeys=[],a=!t.$parent;a||xd(!1);var s=function(c){r.push(c);var d=dS(c,e,i,t);af(n,c,d,void 0,!0),c in t||hS(t,"_props",c)};for(var o in e)s(o);xd(!0)}function J8(t){var e=t.$options.data;e=t._data=Tn(e)?eV(e,t):e||{},eo(e)||(e={});var i=Object.keys(e),n=t.$options.props;t.$options.methods;for(var r=i.length;r--;){var a=i[r];n&&Ka(n,a)||iN(a)||hS(t,"_data",a)}var s=Qc(e);s&&s.vmCount++}function eV(t,e){Pm();try{return t.call(e,e)}catch(i){return sf(i,e,"data()"),{}}finally{Om()}}var tV={lazy:!0};function iV(t,e){var i=t._computedWatchers=Object.create(null),n=Pv();for(var r in e){var a=e[r],s=Tn(a)?a:a.get;n||(i[r]=new aS(t,s||$r,$r,tV)),r in t||kN(t,r,a)}}function kN(t,e,i){var n=!Pv();Tn(i)?(Qu.get=n?wI(e):EI(i),Qu.set=$r):(Qu.get=i.get?n&&i.cache!==!1?wI(e):EI(i.get):$r,Qu.set=i.set||$r),Object.defineProperty(t,e,Qu)}function wI(t){return function(){var i=this._computedWatchers&&this._computedWatchers[t];if(i)return i.dirty&&i.evaluate(),Ad.target&&i.depend(),i.value}}function EI(t){return function(){return t.call(this,this)}}function nV(t,e){t.$options.props;for(var i in e)t[i]=typeof e[i]!="function"?$r:Z2(e[i],t)}function rV(t,e){for(var i in e){var n=e[i];if(ai(n))for(var r=0;r<n.length;r++)hC(t,i,n[r]);else hC(t,i,n)}}function hC(t,e,i,n){return eo(i)&&(n=i,i=i.handler),typeof i=="string"&&(i=t[i]),t.$watch(e,i,n)}function aV(t){var e={};e.get=function(){return this._data};var i={};i.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=eS,t.prototype.$delete=oN,t.prototype.$watch=function(n,r,a){var s=this;if(eo(r))return hC(s,n,r,a);a=a||{},a.user=!0;var o=new aS(s,n,r,a);if(a.immediate){var c='callback for immediate watcher "'.concat(o.expression,'"');Pm(),Dd(r,s,[o.value],s,c),Om()}return function(){o.teardown()}}}var sV=0;function oV(t){t.prototype._init=function(e){var i=this;i._uid=sV++,i._isVue=!0,i.__v_skip=!0,i._scope=new L6(!0),i._scope.parent=void 0,i._scope._vm=!0,e&&e._isComponent?lV(i,e):i.$options=of(fS(i.constructor),e||{},i),i._renderProxy=i,i._self=i,T8(i),v8(i),o8(i),ol(i,"beforeCreate",void 0,!1),N8(i),Z8(i),O8(i),ol(i,"created"),i.$options.el&&i.$mount(i.$options.el)}}function lV(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function fS(t){var e=t.options;if(t.super){var i=fS(t.super),n=t.superOptions;if(i!==n){t.superOptions=i;var r=cV(t);r&&on(t.extendOptions,r),e=t.options=of(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function cV(t){var e,i=t.options,n=t.sealedOptions;for(var r in i)i[r]!==n[r]&&(e||(e={}),e[r]=i[r]);return e}function Cn(t){this._init(t)}oV(Cn);aV(Cn);E8(Cn);C8(Cn);l8(Cn);function uV(t){t.use=function(e){var i=this._installedPlugins||(this._installedPlugins=[]);if(i.indexOf(e)>-1)return this;var n=tC(arguments,1);return n.unshift(this),Tn(e.install)?e.install.apply(e,n):Tn(e)&&e.apply(null,n),i.push(e),this}}function dV(t){t.mixin=function(e){return this.options=of(this.options,e),this}}function hV(t){t.cid=0;var e=1;t.extend=function(i){i=i||{};var n=this,r=n.cid,a=i._Ctor||(i._Ctor={});if(a[r])return a[r];var s=A0(i)||A0(n.options),o=function(d){this._init(d)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=of(n.options,i),o.super=n,o.options.props&&fV(o),o.options.computed&&pV(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,Iw.forEach(function(c){o[c]=n[c]}),s&&(o.options.components[s]=o),o.superOptions=n.options,o.extendOptions=i,o.sealedOptions=on({},o.options),a[r]=o,o}}function fV(t){var e=t.options.props;for(var i in e)hS(t.prototype,"_props",i)}function pV(t){var e=t.options.computed;for(var i in e)kN(t.prototype,i,e[i])}function mV(t){Iw.forEach(function(e){t[e]=function(i,n){return n?(e==="component"&&eo(n)&&(n.name=n.name||i,n=this.options._base.extend(n)),e==="directive"&&Tn(n)&&(n={bind:n,update:n}),this.options[e+"s"][i]=n,n):this.options[e+"s"][i]}})}function TI(t){return t&&(A0(t.Ctor.options)||t.tag)}function jb(t,e){return ai(t)?t.indexOf(e)>-1:typeof t=="string"?t.split(",").indexOf(e)>-1:g6(t)?t.test(e):!1}function CI(t,e){var i=t.cache,n=t.keys,r=t._vnode,a=t.$vnode;for(var s in i){var o=i[s];if(o){var c=o.name;c&&!e(c)&&fC(i,s,n,r)}}a.componentOptions.children=void 0}function fC(t,e,i,n){var r=t[e];r&&(!n||r.tag!==n.tag)&&r.componentInstance.$destroy(),t[e]=null,Ld(i,e)}var kI=[String,RegExp,Array],yV={name:"keep-alive",abstract:!0,props:{include:kI,exclude:kI,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,i=t.keys,n=t.vnodeToCache,r=t.keyToCache;if(n){var a=n.tag,s=n.componentInstance,o=n.componentOptions;e[r]={name:TI(o),tag:a,componentInstance:s},i.push(r),this.max&&i.length>parseInt(this.max)&&fC(e,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)fC(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(e){CI(t,function(i){return jb(e,i)})}),this.$watch("exclude",function(e){CI(t,function(i){return!jb(e,i)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=yN(t),i=e&&e.componentOptions;if(i){var n=TI(i),r=this,a=r.include,s=r.exclude;if(a&&(!n||!jb(a,n))||s&&n&&jb(s,n))return e;var o=this,c=o.cache,d=o.keys,p=e.key==null?i.Ctor.cid+(i.tag?"::".concat(i.tag):""):e.key;c[p]?(e.componentInstance=c[p].componentInstance,Ld(d,p),d.push(p)):(this.vnodeToCache=e,this.keyToCache=p),e.data.keepAlive=!0}return e||t&&t[0]}},gV={KeepAlive:yV};function vV(t){var e={};e.get=function(){return To},Object.defineProperty(t,"config",e),t.util={warn:F8,extend:on,mergeOptions:of,defineReactive:af},t.set=eS,t.delete=oN,t.nextTick=rS,t.observable=function(i){return Qc(i),i},t.options=Object.create(null),Iw.forEach(function(i){t.options[i+"s"]=Object.create(null)}),t.options._base=t,on(t.options.components,gV),uV(t),dV(t),hV(t),mV(t)}vV(Cn);Object.defineProperty(Cn.prototype,"$isServer",{get:Pv});Object.defineProperty(Cn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(Cn,"FunctionalRenderContext",{value:cS});Cn.version=y8;var bV=dl("style,class"),_V=dl("input,textarea,option,select,progress"),wV=function(t,e,i){return i==="value"&&_V(t)&&e!=="button"||i==="selected"&&t==="option"||i==="checked"&&t==="input"||i==="muted"&&t==="video"},SN=dl("contenteditable,draggable,spellcheck"),EV=dl("events,caret,typing,plaintext-only"),TV=function(t,e){return D0(e)||e==="false"?"false":t==="contenteditable"&&EV(e)?e:"true"},CV=dl("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),pC="http://www.w3.org/1999/xlink",pS=function(t){return t.charAt(5)===":"&&t.slice(0,5)==="xlink"},AN=function(t){return pS(t)?t.slice(6,t.length):""},D0=function(t){return t==null||t===!1};function kV(t){for(var e=t.data,i=t,n=t;ke(n.componentInstance);)n=n.componentInstance._vnode,n&&n.data&&(e=SI(n.data,e));for(;ke(i=i.parent);)i&&i.data&&(e=SI(e,i.data));return SV(e.staticClass,e.class)}function SI(t,e){return{staticClass:mS(t.staticClass,e.staticClass),class:ke(t.class)?[t.class,e.class]:e.class}}function SV(t,e){return ke(t)||ke(e)?mS(t,yS(e)):""}function mS(t,e){return t?e?t+" "+e:t:e||""}function yS(t){return Array.isArray(t)?AV(t):Ta(t)?xV(t):typeof t=="string"?t:""}function AV(t){for(var e="",i,n=0,r=t.length;n<r;n++)ke(i=yS(t[n]))&&i!==""&&(e&&(e+=" "),e+=i);return e}function xV(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var DV={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},IV=dl("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),gS=dl("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),xN=function(t){return IV(t)||gS(t)};function RV(t){if(gS(t))return"svg";if(t==="math")return"math"}var zb=Object.create(null);function MV(t){if(!no)return!0;if(xN(t))return!1;if(t=t.toLowerCase(),zb[t]!=null)return zb[t];var e=document.createElement(t);return t.indexOf("-")>-1?zb[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:zb[t]=/HTMLUnknownElement/.test(e.toString())}var mC=dl("text,number,password,search,email,tel,url");function PV(t){if(typeof t=="string"){var e=document.querySelector(t);return e||document.createElement("div")}else return t}function OV(t,e){var i=document.createElement(t);return t!=="select"||e.data&&e.data.attrs&&e.data.attrs.multiple!==void 0&&i.setAttribute("multiple","multiple"),i}function NV(t,e){return document.createElementNS(DV[t],e)}function GV(t){return document.createTextNode(t)}function UV(t){return document.createComment(t)}function LV(t,e,i){t.insertBefore(e,i)}function BV(t,e){t.removeChild(e)}function $V(t,e){t.appendChild(e)}function FV(t){return t.parentNode}function HV(t){return t.nextSibling}function VV(t){return t.tagName}function YV(t,e){t.textContent=e}function qV(t,e){t.setAttribute(e,"")}var WV=Object.freeze({__proto__:null,createElement:OV,createElementNS:NV,createTextNode:GV,createComment:UV,insertBefore:LV,removeChild:BV,appendChild:$V,parentNode:FV,nextSibling:HV,tagName:VV,setTextContent:YV,setStyleScope:qV}),jV={create:function(t,e){Gp(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Gp(t,!0),Gp(e))},destroy:function(t){Gp(t,!0)}};function Gp(t,e){var i=t.data.ref;if(ke(i)){var n=t.context,r=t.componentInstance||t.elm,a=e?null:r,s=e?void 0:r;if(Tn(i)){Dd(i,n,[a],n,"template ref function");return}var o=t.data.refInFor,c=typeof i=="string"||typeof i=="number",d=ec(i),p=n.$refs;if(c||d){if(o){var m=c?p[i]:i.value;e?ai(m)&&Ld(m,r):ai(m)?m.includes(r)||m.push(r):c?(p[i]=[r],AI(n,i,p[i])):i.value=[r]}else if(c){if(e&&p[i]!==r)return;p[i]=s,AI(n,i,a)}else if(d){if(e&&i.value!==r)return;i.value=a}}}}function AI(t,e,i){var n=t._setupState;n&&Ka(n,e)&&(ec(n[e])?n[e].value=i:n[e]=i)}var od=new to("",{},[]),xy=["create","activate","update","remove","destroy"];function yh(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&ke(t.data)===ke(e.data)&&zV(t,e)||Pn(t.isAsyncPlaceholder)&&Nt(e.asyncFactory.error))}function zV(t,e){if(t.tag!=="input")return!0;var i,n=ke(i=t.data)&&ke(i=i.attrs)&&i.type,r=ke(i=e.data)&&ke(i=i.attrs)&&i.type;return n===r||mC(n)&&mC(r)}function XV(t,e,i){var n,r,a={};for(n=e;n<=i;++n)r=t[n].key,ke(r)&&(a[r]=n);return a}function KV(t){var e,i,n={},r=t.modules,a=t.nodeOps;for(e=0;e<xy.length;++e)for(n[xy[e]]=[],i=0;i<r.length;++i)ke(r[i][xy[e]])&&n[xy[e]].push(r[i][xy[e]]);function s(W){return new to(a.tagName(W).toLowerCase(),{},[],void 0,W)}function o(W,j){function z(){--z.listeners===0&&c(W)}return z.listeners=j,z}function c(W){var j=a.parentNode(W);ke(j)&&a.removeChild(j,W)}function d(W,j,z,re,ce,ge,be){if(ke(W.elm)&&ke(ge)&&(W=ge[be]=nC(W)),W.isRootInsert=!ce,!p(W,j,z,re)){var ue=W.data,se=W.children,Z=W.tag;ke(Z)?(W.elm=W.ns?a.createElementNS(W.ns,Z):a.createElement(Z,W),S(W),w(W,se,j),ke(ue)&&k(W,j),_(z,W.elm,re)):Pn(W.isComment)?(W.elm=a.createComment(W.text),_(z,W.elm,re)):(W.elm=a.createTextNode(W.text),_(z,W.elm,re))}}function p(W,j,z,re){var ce=W.data;if(ke(ce)){var ge=ke(W.componentInstance)&&ce.keepAlive;if(ke(ce=ce.hook)&&ke(ce=ce.init)&&ce(W,!1),ke(W.componentInstance))return m(W,j),_(z,W.elm,re),Pn(ge)&&y(W,j,z,re),!0}}function m(W,j){ke(W.data.pendingInsert)&&(j.push.apply(j,W.data.pendingInsert),W.data.pendingInsert=null),W.elm=W.componentInstance.$el,C(W)?(k(W,j),S(W)):(Gp(W),j.push(W))}function y(W,j,z,re){for(var ce,ge=W;ge.componentInstance;)if(ge=ge.componentInstance._vnode,ke(ce=ge.data)&&ke(ce=ce.transition)){for(ce=0;ce<n.activate.length;++ce)n.activate[ce](od,ge);j.push(ge);break}_(z,W.elm,re)}function _(W,j,z){ke(W)&&(ke(z)?a.parentNode(z)===W&&a.insertBefore(W,j,z):a.appendChild(W,j))}function w(W,j,z){if(ai(j))for(var re=0;re<j.length;++re)d(j[re],z,W.elm,null,!0,j,re);else Rv(W.text)&&a.appendChild(W.elm,a.createTextNode(String(W.text)))}function C(W){for(;W.componentInstance;)W=W.componentInstance._vnode;return ke(W.tag)}function k(W,j){for(var z=0;z<n.create.length;++z)n.create[z](od,W);e=W.data.hook,ke(e)&&(ke(e.create)&&e.create(od,W),ke(e.insert)&&j.push(W))}function S(W){var j;if(ke(j=W.fnScopeId))a.setStyleScope(W.elm,j);else for(var z=W;z;)ke(j=z.context)&&ke(j=j.$options._scopeId)&&a.setStyleScope(W.elm,j),z=z.parent;ke(j=jh)&&j!==W.context&&j!==W.fnContext&&ke(j=j.$options._scopeId)&&a.setStyleScope(W.elm,j)}function x(W,j,z,re,ce,ge){for(;re<=ce;++re)d(z[re],ge,W,j,!1,z,re)}function O(W){var j,z,re=W.data;if(ke(re))for(ke(j=re.hook)&&ke(j=j.destroy)&&j(W),j=0;j<n.destroy.length;++j)n.destroy[j](W);if(ke(j=W.children))for(z=0;z<W.children.length;++z)O(W.children[z])}function D(W,j,z){for(;j<=z;++j){var re=W[j];ke(re)&&(ke(re.tag)?(B(re),O(re)):c(re.elm))}}function B(W,j){if(ke(j)||ke(W.data)){var z,re=n.remove.length+1;for(ke(j)?j.listeners+=re:j=o(W.elm,re),ke(z=W.componentInstance)&&ke(z=z._vnode)&&ke(z.data)&&B(z,j),z=0;z<n.remove.length;++z)n.remove[z](W,j);ke(z=W.data.hook)&&ke(z=z.remove)?z(W,j):j()}else c(W.elm)}function P(W,j,z,re,ce){for(var ge=0,be=0,ue=j.length-1,se=j[0],Z=j[ue],K=z.length-1,q=z[0],ie=z[K],le,Q,fe,de,he=!ce;ge<=ue&&be<=K;)Nt(se)?se=j[++ge]:Nt(Z)?Z=j[--ue]:yh(se,q)?(I(se,q,re,z,be),se=j[++ge],q=z[++be]):yh(Z,ie)?(I(Z,ie,re,z,K),Z=j[--ue],ie=z[--K]):yh(se,ie)?(I(se,ie,re,z,K),he&&a.insertBefore(W,se.elm,a.nextSibling(Z.elm)),se=j[++ge],ie=z[--K]):yh(Z,q)?(I(Z,q,re,z,be),he&&a.insertBefore(W,Z.elm,se.elm),Z=j[--ue],q=z[++be]):(Nt(le)&&(le=XV(j,ge,ue)),Q=ke(q.key)?le[q.key]:R(q,j,ge,ue),Nt(Q)?d(q,re,W,se.elm,!1,z,be):(fe=j[Q],yh(fe,q)?(I(fe,q,re,z,be),j[Q]=void 0,he&&a.insertBefore(W,fe.elm,se.elm)):d(q,re,W,se.elm,!1,z,be)),q=z[++be]);ge>ue?(de=Nt(z[K+1])?null:z[K+1].elm,x(W,de,z,be,K,re)):be>K&&D(j,ge,ue)}function R(W,j,z,re){for(var ce=z;ce<re;ce++){var ge=j[ce];if(ke(ge)&&yh(W,ge))return ce}}function I(W,j,z,re,ce,ge){if(W!==j){ke(j.elm)&&ke(re)&&(j=re[ce]=nC(j));var be=j.elm=W.elm;if(Pn(W.isAsyncPlaceholder)){ke(j.asyncFactory.resolved)?L(W.elm,j,z):j.isAsyncPlaceholder=!0;return}if(Pn(j.isStatic)&&Pn(W.isStatic)&&j.key===W.key&&(Pn(j.isCloned)||Pn(j.isOnce))){j.componentInstance=W.componentInstance;return}var ue,se=j.data;ke(se)&&ke(ue=se.hook)&&ke(ue=ue.prepatch)&&ue(W,j);var Z=W.children,K=j.children;if(ke(se)&&C(j)){for(ue=0;ue<n.update.length;++ue)n.update[ue](W,j);ke(ue=se.hook)&&ke(ue=ue.update)&&ue(W,j)}Nt(j.text)?ke(Z)&&ke(K)?Z!==K&&P(be,Z,K,z,ge):ke(K)?(ke(W.text)&&a.setTextContent(be,""),x(be,null,K,0,K.length-1,z)):ke(Z)?D(Z,0,Z.length-1):ke(W.text)&&a.setTextContent(be,""):W.text!==j.text&&a.setTextContent(be,j.text),ke(se)&&ke(ue=se.hook)&&ke(ue=ue.postpatch)&&ue(W,j)}}function F(W,j,z){if(Pn(z)&&ke(W.parent))W.parent.data.pendingInsert=j;else for(var re=0;re<j.length;++re)j[re].data.hook.insert(j[re])}var $=dl("attrs,class,staticClass,staticStyle,key");function L(W,j,z,re){var ce,ge=j.tag,be=j.data,ue=j.children;if(re=re||be&&be.pre,j.elm=W,Pn(j.isComment)&&ke(j.asyncFactory))return j.isAsyncPlaceholder=!0,!0;if(ke(be)&&(ke(ce=be.hook)&&ke(ce=ce.init)&&ce(j,!0),ke(ce=j.componentInstance)))return m(j,z),!0;if(ke(ge)){if(ke(ue))if(!W.hasChildNodes())w(j,ue,z);else if(ke(ce=be)&&ke(ce=ce.domProps)&&ke(ce=ce.innerHTML)){if(ce!==W.innerHTML)return!1}else{for(var se=!0,Z=W.firstChild,K=0;K<ue.length;K++){if(!Z||!L(Z,ue[K],z,re)){se=!1;break}Z=Z.nextSibling}if(!se||Z)return!1}if(ke(be)){var q=!1;for(var ie in be)if(!$(ie)){q=!0,k(j,z);break}!q&&be.class&&k0(be.class)}}else W.data!==j.text&&(W.data=j.text);return!0}return function(j,z,re,ce){if(Nt(z)){ke(j)&&O(j);return}var ge=!1,be=[];if(Nt(j))ge=!0,d(z,be);else{var ue=ke(j.nodeType);if(!ue&&yh(j,z))I(j,z,be,null,null,ce);else{if(ue){if(j.nodeType===1&&j.hasAttribute(tI)&&(j.removeAttribute(tI),re=!0),Pn(re)&&L(j,z,be))return F(z,be,!0),j;j=s(j)}var se=j.elm,Z=a.parentNode(se);if(d(z,be,se._leaveCb?null:Z,a.nextSibling(se)),ke(z.parent))for(var K=z.parent,q=C(z);K;){for(var ie=0;ie<n.destroy.length;++ie)n.destroy[ie](K);if(K.elm=z.elm,q){for(var le=0;le<n.create.length;++le)n.create[le](od,K);var Q=K.data.hook.insert;if(Q.merged)for(var fe=Q.fns.slice(1),de=0;de<fe.length;de++)fe[de]()}else Gp(K);K=K.parent}ke(Z)?D([j],0,0):ke(j.tag)&&O(j)}}return F(z,be,ge),z.elm}}var ZV={create:oT,update:oT,destroy:function(e){oT(e,od)}};function oT(t,e){(t.data.directives||e.data.directives)&&QV(t,e)}function QV(t,e){var i=t===od,n=e===od,r=xI(t.data.directives,t.context),a=xI(e.data.directives,e.context),s=[],o=[],c,d,p;for(c in a)d=r[c],p=a[c],d?(p.oldValue=d.value,p.oldArg=d.arg,Dy(p,"update",e,t),p.def&&p.def.componentUpdated&&o.push(p)):(Dy(p,"bind",e,t),p.def&&p.def.inserted&&s.push(p));if(s.length){var m=function(){for(var y=0;y<s.length;y++)Dy(s[y],"inserted",e,t)};i?sd(e,"insert",m):m()}if(o.length&&sd(e,"postpatch",function(){for(var y=0;y<o.length;y++)Dy(o[y],"componentUpdated",e,t)}),!i)for(c in r)a[c]||Dy(r[c],"unbind",t,t,n)}var JV=Object.create(null);function xI(t,e){var i=Object.create(null);if(!t)return i;var n,r;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=JV),i[eY(r)]=r,e._setupState&&e._setupState.__sfc){var a=r.def||x0(e,"_setupState","v-"+r.name);typeof a=="function"?r.def={bind:a,update:a}:r.def=a}r.def=r.def||x0(e.$options,"directives",r.name)}return i}function eY(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function Dy(t,e,i,n,r){var a=t.def&&t.def[e];if(a)try{a(i.elm,t,i,n,r)}catch(s){sf(s,i.context,"directive ".concat(t.name," ").concat(e," hook"))}}var tY=[jV,ZV];function DI(t,e){var i=e.componentOptions;if(!(ke(i)&&i.Ctor.options.inheritAttrs===!1)&&!(Nt(t.data.attrs)&&Nt(e.data.attrs))){var n,r,a,s=e.elm,o=t.data.attrs||{},c=e.data.attrs||{};(ke(c.__ob__)||Pn(c._v_attr_proxy))&&(c=e.data.attrs=on({},c));for(n in c)r=c[n],a=o[n],a!==r&&II(s,n,r,e.data.pre);(Rm||nN)&&c.value!==o.value&&II(s,"value",c.value);for(n in o)Nt(c[n])&&(pS(n)?s.removeAttributeNS(pC,AN(n)):SN(n)||s.removeAttribute(n))}}function II(t,e,i,n){n||t.tagName.indexOf("-")>-1?RI(t,e,i):CV(e)?D0(i)?t.removeAttribute(e):(i=e==="allowfullscreen"&&t.tagName==="EMBED"?"true":e,t.setAttribute(e,i)):SN(e)?t.setAttribute(e,TV(e,i)):pS(e)?D0(i)?t.removeAttributeNS(pC,AN(e)):t.setAttributeNS(pC,e,i):RI(t,e,i)}function RI(t,e,i){if(D0(i))t.removeAttribute(e);else{if(Rm&&!Mm&&t.tagName==="TEXTAREA"&&e==="placeholder"&&i!==""&&!t.__ieph){var n=function(r){r.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var iY={create:DI,update:DI};function MI(t,e){var i=e.elm,n=e.data,r=t.data;if(!(Nt(n.staticClass)&&Nt(n.class)&&(Nt(r)||Nt(r.staticClass)&&Nt(r.class)))){var a=kV(e),s=i._transitionClasses;ke(s)&&(a=mS(a,yS(s))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var nY={create:MI,update:MI},lT="__r",cT="__c";function rY(t){if(ke(t[lT])){var e=Rm?"change":"input";t[e]=[].concat(t[lT],t[e]||[]),delete t[lT]}ke(t[cT])&&(t.change=[].concat(t[cT],t.change||[]),delete t[cT])}var Kg;function aY(t,e,i){var n=Kg;return function r(){var a=e.apply(null,arguments);a!==null&&DN(t,r,i,n)}}var sY=sC&&!(iI&&Number(iI[1])<=53);function oY(t,e,i,n){if(sY){var r=TN,a=e;e=a._wrapper=function(s){if(s.target===s.currentTarget||s.timeStamp>=r||s.timeStamp<=0||s.target.ownerDocument!==document)return a.apply(this,arguments)}}Kg.addEventListener(t,e,rN?{capture:i,passive:n}:i)}function DN(t,e,i,n){(n||Kg).removeEventListener(t,e._wrapper||e,i)}function uT(t,e){if(!(Nt(t.data.on)&&Nt(e.data.on))){var i=e.data.on||{},n=t.data.on||{};Kg=e.elm||t.elm,rY(i),uN(i,n,oY,DN,aY,e.context),Kg=void 0}}var lY={create:uT,update:uT,destroy:function(t){return uT(t,od)}},Xb;function PI(t,e){if(!(Nt(t.data.domProps)&&Nt(e.data.domProps))){var i,n,r=e.elm,a=t.data.domProps||{},s=e.data.domProps||{};(ke(s.__ob__)||Pn(s._v_attr_proxy))&&(s=e.data.domProps=on({},s));for(i in a)i in s||(r[i]="");for(i in s){if(n=s[i],i==="textContent"||i==="innerHTML"){if(e.children&&(e.children.length=0),n===a[i])continue;r.childNodes.length===1&&r.removeChild(r.childNodes[0])}if(i==="value"&&r.tagName!=="PROGRESS"){r._value=n;var o=Nt(n)?"":String(n);cY(r,o)&&(r.value=o)}else if(i==="innerHTML"&&gS(r.tagName)&&Nt(r.innerHTML)){Xb=Xb||document.createElement("div"),Xb.innerHTML="<svg>".concat(n,"</svg>");for(var c=Xb.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;c.firstChild;)r.appendChild(c.firstChild)}else if(n!==a[i])try{r[i]=n}catch{}}}}function cY(t,e){return!t.composing&&(t.tagName==="OPTION"||uY(t,e)||dY(t,e))}function uY(t,e){var i=!0;try{i=document.activeElement!==t}catch{}return i&&t.value!==e}function dY(t,e){var i=t.value,n=t._vModifiers;if(ke(n)){if(n.number)return qg(i)!==qg(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}var hY={create:PI,update:PI},fY=xf(function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach(function(r){if(r){var a=r.split(n);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e});function dT(t){var e=IN(t.style);return t.staticStyle?on(t.staticStyle,e):e}function IN(t){return Array.isArray(t)?Q2(t):typeof t=="string"?fY(t):t}function pY(t,e){for(var i={},n,r=t;r.componentInstance;)r=r.componentInstance._vnode,r&&r.data&&(n=dT(r.data))&&on(i,n);(n=dT(t.data))&&on(i,n);for(var a=t;a=a.parent;)a.data&&(n=dT(a.data))&&on(i,n);return i}var mY=/^--/,OI=/\s*!important$/,NI=function(t,e,i){if(mY.test(e))t.style.setProperty(e,i);else if(OI.test(i))t.style.setProperty(Mv(e),i.replace(OI,""),"important");else{var n=yY(e);if(Array.isArray(i))for(var r=0,a=i.length;r<a;r++)t.style[n]=i[r];else t.style[n]=i}},GI=["Webkit","Moz","ms"],Kb,yY=xf(function(t){if(Kb=Kb||document.createElement("div").style,t=nf(t),t!=="filter"&&t in Kb)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<GI.length;i++){var n=GI[i]+e;if(n in Kb)return n}});function UI(t,e){var i=e.data,n=t.data;if(!(Nt(i.staticStyle)&&Nt(i.style)&&Nt(n.staticStyle)&&Nt(n.style))){var r,a,s=e.elm,o=n.staticStyle,c=n.normalizedStyle||n.style||{},d=o||c,p=IN(e.data.style)||{};e.data.normalizedStyle=ke(p.__ob__)?on({},p):p;var m=pY(e);for(a in d)Nt(m[a])&&NI(s,a,"");for(a in m)r=m[a],NI(s,a,r??"")}}var gY={create:UI,update:UI},RN=/\s+/;function MN(t,e){if(!(!e||!(e=e.trim())))if(t.classList)e.indexOf(" ")>-1?e.split(RN).forEach(function(n){return t.classList.add(n)}):t.classList.add(e);else{var i=" ".concat(t.getAttribute("class")||""," ");i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function PN(t,e){if(!(!e||!(e=e.trim())))if(t.classList)e.indexOf(" ")>-1?e.split(RN).forEach(function(r){return t.classList.remove(r)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" ".concat(t.getAttribute("class")||""," "),n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function ON(t){if(t){if(typeof t=="object"){var e={};return t.css!==!1&&on(e,LI(t.name||"v")),on(e,t),e}else if(typeof t=="string")return LI(t)}}var LI=xf(function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}}),NN=no&&!Mm,Cp="transition",hT="animation",q_="transition",I0="transitionend",yC="animation",GN="animationend";NN&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(q_="WebkitTransition",I0="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(yC="WebkitAnimation",GN="webkitAnimationEnd"));var BI=no?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function UN(t){BI(function(){BI(t)})}function zh(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),MN(t,e))}function Fc(t,e){t._transitionClasses&&Ld(t._transitionClasses,e),PN(t,e)}function LN(t,e,i){var n=BN(t,e),r=n.type,a=n.timeout,s=n.propCount;if(!r)return i();var o=r===Cp?I0:GN,c=0,d=function(){t.removeEventListener(o,p),i()},p=function(m){m.target===t&&++c>=s&&d()};setTimeout(function(){c<s&&d()},a+1),t.addEventListener(o,p)}var vY=/\b(transform|all)(,|$)/;function BN(t,e){var i=window.getComputedStyle(t),n=(i[q_+"Delay"]||"").split(", "),r=(i[q_+"Duration"]||"").split(", "),a=$I(n,r),s=(i[yC+"Delay"]||"").split(", "),o=(i[yC+"Duration"]||"").split(", "),c=$I(s,o),d,p=0,m=0;e===Cp?a>0&&(d=Cp,p=a,m=r.length):e===hT?c>0&&(d=hT,p=c,m=o.length):(p=Math.max(a,c),d=p>0?a>c?Cp:hT:null,m=d?d===Cp?r.length:o.length:0);var y=d===Cp&&vY.test(i[q_+"Property"]);return{type:d,timeout:p,propCount:m,hasTransform:y}}function $I(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(i,n){return FI(i)+FI(t[n])}))}function FI(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function gC(t,e){var i=t.elm;ke(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var n=ON(t.data.transition);if(!Nt(n)&&!(ke(i._enterCb)||i.nodeType!==1)){for(var r=n.css,a=n.type,s=n.enterClass,o=n.enterToClass,c=n.enterActiveClass,d=n.appearClass,p=n.appearToClass,m=n.appearActiveClass,y=n.beforeEnter,_=n.enter,w=n.afterEnter,C=n.enterCancelled,k=n.beforeAppear,S=n.appear,x=n.afterAppear,O=n.appearCancelled,D=n.duration,B=jh,P=jh.$vnode;P&&P.parent;)B=P.context,P=P.parent;var R=!B._isMounted||!t.isRootInsert;if(!(R&&!S&&S!=="")){var I=R&&d?d:s,F=R&&m?m:c,$=R&&p?p:o,L=R&&k||y,W=R&&Tn(S)?S:_,j=R&&x||w,z=R&&O||C,re=qg(Ta(D)?D.enter:D),ce=r!==!1&&!Mm,ge=vS(W),be=i._enterCb=_0(function(){ce&&(Fc(i,$),Fc(i,F)),be.cancelled?(ce&&Fc(i,I),z&&z(i)):j&&j(i),i._enterCb=null});t.data.show||sd(t,"insert",function(){var ue=i.parentNode,se=ue&&ue._pending&&ue._pending[t.key];se&&se.tag===t.tag&&se.elm._leaveCb&&se.elm._leaveCb(),W&&W(i,be)}),L&&L(i),ce&&(zh(i,I),zh(i,F),UN(function(){Fc(i,I),be.cancelled||(zh(i,$),ge||(FN(re)?setTimeout(be,re):LN(i,a,be)))})),t.data.show&&(e&&e(),W&&W(i,be)),!ce&&!ge&&be()}}}function $N(t,e){var i=t.elm;ke(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var n=ON(t.data.transition);if(Nt(n)||i.nodeType!==1)return e();if(ke(i._leaveCb))return;var r=n.css,a=n.type,s=n.leaveClass,o=n.leaveToClass,c=n.leaveActiveClass,d=n.beforeLeave,p=n.leave,m=n.afterLeave,y=n.leaveCancelled,_=n.delayLeave,w=n.duration,C=r!==!1&&!Mm,k=vS(p),S=qg(Ta(w)?w.leave:w),x=i._leaveCb=_0(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),C&&(Fc(i,o),Fc(i,c)),x.cancelled?(C&&Fc(i,s),y&&y(i)):(e(),m&&m(i)),i._leaveCb=null});_?_(O):O();function O(){x.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),C&&(zh(i,s),zh(i,c),UN(function(){Fc(i,s),x.cancelled||(zh(i,o),k||(FN(S)?setTimeout(x,S):LN(i,a,x)))})),p&&p(i,x),!C&&!k&&x())}}function FN(t){return typeof t=="number"&&!isNaN(t)}function vS(t){if(Nt(t))return!1;var e=t.fns;return ke(e)?vS(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function HI(t,e){e.data.show!==!0&&gC(e)}var bY=no?{create:HI,activate:HI,remove:function(t,e){t.data.show!==!0?$N(t,e):e()}}:{},_Y=[iY,nY,lY,hY,gY,bY],wY=_Y.concat(tY),EY=KV({nodeOps:WV,modules:wY});Mm&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&bS(t,"input")});var HN={inserted:function(t,e,i,n){i.tag==="select"?(n.elm&&!n.elm._vOptions?sd(i,"postpatch",function(){HN.componentUpdated(t,e,i)}):VI(t,e,i.context),t._vOptions=[].map.call(t.options,R0)):(i.tag==="textarea"||mC(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",TY),t.addEventListener("compositionend",WI),t.addEventListener("change",WI),Mm&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if(i.tag==="select"){VI(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,R0);if(r.some(function(s,o){return!rf(s,n[o])})){var a=t.multiple?e.value.some(function(s){return qI(s,r)}):e.value!==e.oldValue&&qI(e.value,r);a&&bS(t,"change")}}}};function VI(t,e,i){YI(t,e),(Rm||nN)&&setTimeout(function(){YI(t,e)},0)}function YI(t,e,i){var n=e.value,r=t.multiple;if(!(r&&!Array.isArray(n))){for(var a,s,o=0,c=t.options.length;o<c;o++)if(s=t.options[o],r)a=eN(n,R0(s))>-1,s.selected!==a&&(s.selected=a);else if(rf(R0(s),n)){t.selectedIndex!==o&&(t.selectedIndex=o);return}r||(t.selectedIndex=-1)}}function qI(t,e){return e.every(function(i){return!rf(i,t)})}function R0(t){return"_value"in t?t._value:t.value}function TY(t){t.target.composing=!0}function WI(t){t.target.composing&&(t.target.composing=!1,bS(t.target,"input"))}function bS(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function vC(t){return t.componentInstance&&(!t.data||!t.data.transition)?vC(t.componentInstance._vnode):t}var CY={bind:function(t,e,i){var n=e.value;i=vC(i);var r=i.data&&i.data.transition,a=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;n&&r?(i.data.show=!0,gC(i,function(){t.style.display=a})):t.style.display=n?a:"none"},update:function(t,e,i){var n=e.value,r=e.oldValue;if(!n!=!r){i=vC(i);var a=i.data&&i.data.transition;a?(i.data.show=!0,n?gC(i,function(){t.style.display=t.__vOriginalDisplay}):$N(i,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},kY={model:HN,show:CY},VN={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function bC(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?bC(yN(e.children)):t}function YN(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var n in r)e[nf(n)]=r[n];return e}function jI(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function SY(t){for(;t=t.parent;)if(t.data.transition)return!0}function AY(t,e){return e.key===t.key&&e.tag===t.tag}var xY=function(t){return t.tag||jg(t)},DY=function(t){return t.name==="show"},IY={name:"transition",props:VN,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(xY),!!i.length)){var n=this.mode,r=i[0];if(SY(this.$vnode))return r;var a=bC(r);if(!a)return r;if(this._leaving)return jI(t,r);var s="__transition-".concat(this._uid,"-");a.key=a.key==null?a.isComment?s+"comment":s+a.tag:Rv(a.key)?String(a.key).indexOf(s)===0?a.key:s+a.key:a.key;var o=(a.data||(a.data={})).transition=YN(this),c=this._vnode,d=bC(c);if(a.data.directives&&a.data.directives.some(DY)&&(a.data.show=!0),d&&d.data&&!AY(a,d)&&!jg(d)&&!(d.componentInstance&&d.componentInstance._vnode.isComment)){var p=d.data.transition=on({},o);if(n==="out-in")return this._leaving=!0,sd(p,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),jI(t,r);if(n==="in-out"){if(jg(a))return c;var m,y=function(){m()};sd(o,"afterEnter",y),sd(o,"enterCancelled",y),sd(p,"delayLeave",function(_){m=_})}}return r}}},qN=on({tag:String,moveClass:String},VN);delete qN.mode;var RY={props:qN,beforeMount:function(){var t=this,e=this._update;this._update=function(i,n){var r=_N(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,i,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],s=YN(this),o=0;o<r.length;o++){var c=r[o];c.tag&&c.key!=null&&String(c.key).indexOf("__vlist")!==0&&(a.push(c),i[c.key]=c,(c.data||(c.data={})).transition=s)}if(n){for(var d=[],p=[],o=0;o<n.length;o++){var c=n[o];c.data.transition=s,c.data.pos=c.elm.getBoundingClientRect(),i[c.key]?d.push(c):p.push(c)}this.kept=t(e,null,d),this.removed=p}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";!t.length||!this.hasMove(t[0].elm,e)||(t.forEach(MY),t.forEach(PY),t.forEach(OY),this._reflow=document.body.offsetHeight,t.forEach(function(i){if(i.data.moved){var n=i.elm,r=n.style;zh(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(I0,n._moveCb=function a(s){s&&s.target!==n||(!s||/transform$/.test(s.propertyName))&&(n.removeEventListener(I0,a),n._moveCb=null,Fc(n,e))})}}))},methods:{hasMove:function(t,e){if(!NN)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(r){PN(i,r)}),MN(i,e),i.style.display="none",this.$el.appendChild(i);var n=BN(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function MY(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function PY(t){t.data.newPos=t.elm.getBoundingClientRect()}function OY(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate(".concat(n,"px,").concat(r,"px)"),a.transitionDuration="0s"}}var NY={Transition:IY,TransitionGroup:RY};Cn.config.mustUseProp=wV;Cn.config.isReservedTag=xN;Cn.config.isReservedAttr=bV;Cn.config.getTagNamespace=RV;Cn.config.isUnknownElement=MV;on(Cn.options.directives,kY);on(Cn.options.components,NY);Cn.prototype.__patch__=no?EY:$r;Cn.prototype.$mount=function(t,e){return t=t&&no?PV(t):void 0,k8(this,t,e)};no&&setTimeout(function(){To.devtools&&w0&&w0.emit("init",Cn)},0);(function(t,e){(function(i){i(Im)})(function(i){i.defineSimpleMode=function(y,_){i.defineMode(y,function(w){return i.simpleMode(w,_)})},i.simpleMode=function(y,_){n(_,"start");var w={},C=_.meta||{},k=!1;for(var S in _)if(S!=C&&_.hasOwnProperty(S))for(var x=w[S]=[],O=_[S],D=0;D<O.length;D++){var B=O[D];x.push(new s(B,_)),(B.indent||B.dedent)&&(k=!0)}var P={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:k?[]:null}},copyState:function(I){var F={state:I.state,pending:I.pending,local:I.local,localState:null,indent:I.indent&&I.indent.slice(0)};I.localState&&(F.localState=i.copyState(I.local.mode,I.localState)),I.stack&&(F.stack=I.stack.slice(0));for(var $=I.persistentStates;$;$=$.next)F.persistentStates={mode:$.mode,spec:$.spec,state:$.state==I.localState?F.localState:i.copyState($.mode,$.state),next:F.persistentStates};return F},token:o(w,y),innerMode:function(I){return I.local&&{mode:I.local.mode,state:I.localState}},indent:m(w,C)};if(C)for(var R in C)C.hasOwnProperty(R)&&(P[R]=C[R]);return P};function n(y,_){if(!y.hasOwnProperty(_))throw new Error("Undefined state "+_+" in simple mode")}function r(y,_){if(!y)return/(?:)/;var w="";return y instanceof RegExp?(y.ignoreCase&&(w="i"),y.unicode&&(w+="u"),y=y.source):y=String(y),new RegExp((_===!1?"":"^")+"(?:"+y+")",w)}function a(y){if(!y)return null;if(y.apply)return y;if(typeof y=="string")return y.replace(/\./g," ");for(var _=[],w=0;w<y.length;w++)_.push(y[w]&&y[w].replace(/\./g," "));return _}function s(y,_){(y.next||y.push)&&n(_,y.next||y.push),this.regex=r(y.regex),this.token=a(y.token),this.data=y}function o(y,_){return function(w,C){if(C.pending){var k=C.pending.shift();return C.pending.length==0&&(C.pending=null),w.pos+=k.text.length,k.token}if(C.local)if(C.local.end&&w.match(C.local.end)){var S=C.local.endToken||null;return C.local=C.localState=null,S}else{var S=C.local.mode.token(w,C.localState),x;return C.local.endScan&&(x=C.local.endScan.exec(w.current()))&&(w.pos=w.start+x.index),S}for(var O=y[C.state],D=0;D<O.length;D++){var B=O[D],P=(!B.data.sol||w.sol())&&w.match(B.regex);if(P){B.data.next?C.state=B.data.next:B.data.push?((C.stack||(C.stack=[])).push(C.state),C.state=B.data.push):B.data.pop&&C.stack&&C.stack.length&&(C.state=C.stack.pop()),B.data.mode&&d(_,C,B.data.mode,B.token),B.data.indent&&C.indent.push(w.indentation()+_.indentUnit),B.data.dedent&&C.indent.pop();var R=B.token;if(R&&R.apply&&(R=R(P)),P.length>2&&B.token&&typeof B.token!="string"){for(var I=2;I<P.length;I++)P[I]&&(C.pending||(C.pending=[])).push({text:P[I],token:B.token[I-1]});return w.backUp(P[0].length-(P[1]?P[1].length:0)),R[0]}else return R&&R.join?R[0]:R}}return w.next(),null}}function c(y,_){if(y===_)return!0;if(!y||typeof y!="object"||!_||typeof _!="object")return!1;var w=0;for(var C in y)if(y.hasOwnProperty(C)){if(!_.hasOwnProperty(C)||!c(y[C],_[C]))return!1;w++}for(var C in _)_.hasOwnProperty(C)&&w--;return w==0}function d(y,_,w,C){var k;if(w.persistent)for(var S=_.persistentStates;S&&!k;S=S.next)(w.spec?c(w.spec,S.spec):w.mode==S.mode)&&(k=S);var x=k?k.mode:w.mode||i.getMode(y,w.spec),O=k?k.state:i.startState(x);w.persistent&&!k&&(_.persistentStates={mode:x,spec:w.spec,state:O,next:_.persistentStates}),_.localState=O,_.local={mode:x,end:w.end&&r(w.end),endScan:w.end&&w.forceEnd!==!1&&r(w.end,!1),endToken:C&&C.join?C[C.length-1]:C}}function p(y,_){for(var w=0;w<_.length;w++)if(_[w]===y)return!0}function m(y,_){return function(w,C,k){if(w.local&&w.local.mode.indent)return w.local.mode.indent(w.localState,C,k);if(w.indent==null||w.local||_.dontIndentStates&&p(w.state,_.dontIndentStates)>-1)return i.Pass;var S=w.indent.length-1,x=y[w.state];e:for(;;){for(var O=0;O<x.length;O++){var D=x[O];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var B=D.regex.exec(C);if(B&&B[0]){S--,(D.next||D.push)&&(x=y[D.next||D.push]),C=C.slice(B[0].length);continue e}}}break}return S<0?0:w.indent[S]}}})})();(function(t,e){(function(i){i(Im)})(function(i){var n="CodeMirror-hint",r="CodeMirror-hint-active";i.showHint=function(S,x,O){if(!x)return S.showHint(O);O&&O.async&&(x.async=!0);var D={hint:x};if(O)for(var B in O)D[B]=O[B];return S.showHint(D)},i.defineExtension("showHint",function(S){S=c(this,this.getCursor("start"),S);var x=this.listSelections();if(!(x.length>1)){if(this.somethingSelected()){if(!S.hint.supportsSelection)return;for(var O=0;O<x.length;O++)if(x[O].head.line!=x[O].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var D=this.state.completionActive=new a(this,S);D.options.hint&&(i.signal(this,"startCompletion",this),D.update(!0))}}),i.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function a(S,x){if(this.cm=S,this.options=x,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var O=this;S.on("cursorActivity",this.activityFunc=function(){O.cursorActivity()})}}var s=window.requestAnimationFrame||function(S){return setTimeout(S,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;a.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&i.signal(this.data,"close"),this.widget&&this.widget.close(),i.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(S,x){var O=S.list[x],D=this;this.cm.operation(function(){O.hint?O.hint(D.cm,S,O):D.cm.replaceRange(d(O),O.from||S.from,O.to||S.to,"complete"),i.signal(S,"pick",O),D.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var S=this.startPos;this.data&&(S=this.data.from);var x=this.cm.getCursor(),O=this.cm.getLine(x.line);if(x.line!=this.startPos.line||O.length-x.ch!=this.startLen-this.startPos.ch||x.ch<S.ch||this.cm.somethingSelected()||!x.ch||this.options.closeCharacters.test(O.charAt(x.ch-1)))this.close();else{var D=this;this.debounce=s(function(){D.update()}),this.widget&&this.widget.disable()}},update:function(S){if(this.tick!=null){var x=this,O=++this.tick;w(this.options.hint,this.cm,this.options,function(D){x.tick==O&&x.finishUpdate(D,S)})}},finishUpdate:function(S,x){this.data&&i.signal(this.data,"update");var O=this.widget&&this.widget.picked||x&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=S,S&&S.list.length&&(O&&S.list.length==1?this.pick(S,0):(this.widget=new y(this,S),i.signal(S,"shown")))}};function c(S,x,O){var D=S.options.hintOptions,B={};for(var P in k)B[P]=k[P];if(D)for(var P in D)D[P]!==void 0&&(B[P]=D[P]);if(O)for(var P in O)O[P]!==void 0&&(B[P]=O[P]);return B.hint.resolve&&(B.hint=B.hint.resolve(S,x)),B}function d(S){return typeof S=="string"?S:S.text}function p(S,x){var O={Up:function(){x.moveFocus(-1)},Down:function(){x.moveFocus(1)},PageUp:function(){x.moveFocus(-x.menuSize()+1,!0)},PageDown:function(){x.moveFocus(x.menuSize()-1,!0)},Home:function(){x.setFocus(0)},End:function(){x.setFocus(x.length-1)},Enter:x.pick,Tab:x.pick,Esc:x.close},D=/Mac/.test(navigator.platform);D&&(O["Ctrl-P"]=function(){x.moveFocus(-1)},O["Ctrl-N"]=function(){x.moveFocus(1)});var B=S.options.customKeys,P=B?{}:O;function R($,L){var W;typeof L!="string"?W=function(j){return L(j,x)}:O.hasOwnProperty(L)?W=O[L]:W=L,P[$]=W}if(B)for(var I in B)B.hasOwnProperty(I)&&R(I,B[I]);var F=S.options.extraKeys;if(F)for(var I in F)F.hasOwnProperty(I)&&R(I,F[I]);return P}function m(S,x){for(;x&&x!=S;){if(x.nodeName.toUpperCase()==="LI"&&x.parentNode==S)return x;x=x.parentNode}}function y(S,x){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=S,this.data=x,this.picked=!1;var O=this,D=S.cm,B=D.getInputField().ownerDocument,P=B.defaultView||B.parentWindow,R=this.hints=B.createElement("ul");R.setAttribute("role","listbox"),R.setAttribute("aria-expanded","true"),R.id=this.id;var I=S.cm.options.theme;R.className="CodeMirror-hints "+I,this.selectedHint=x.selectedHint||0;for(var F=x.list,$=0;$<F.length;++$){var L=R.appendChild(B.createElement("li")),W=F[$],j=n+($!=this.selectedHint?"":" "+r);W.className!=null&&(j=W.className+" "+j),L.className=j,$==this.selectedHint&&L.setAttribute("aria-selected","true"),L.id=this.id+"-"+$,L.setAttribute("role","option"),W.render?W.render(L,x,W):L.appendChild(B.createTextNode(W.displayText||d(W))),L.hintId=$}var z=S.options.container||B.body,re=D.cursorCoords(S.options.alignWithWord?x.from:null),ce=re.left,ge=re.bottom,be=!0,ue=0,se=0;if(z!==B.body){var Z=["absolute","relative","fixed"].indexOf(P.getComputedStyle(z).position)!==-1,K=Z?z:z.offsetParent,q=K.getBoundingClientRect(),ie=B.body.getBoundingClientRect();ue=q.left-ie.left-K.scrollLeft,se=q.top-ie.top-K.scrollTop}R.style.left=ce-ue+"px",R.style.top=ge-se+"px";var le=P.innerWidth||Math.max(B.body.offsetWidth,B.documentElement.offsetWidth),Q=P.innerHeight||Math.max(B.body.offsetHeight,B.documentElement.offsetHeight);z.appendChild(R),D.getInputField().setAttribute("aria-autocomplete","list"),D.getInputField().setAttribute("aria-owns",this.id),D.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var fe=S.options.moveOnOverlap?R.getBoundingClientRect():new DOMRect,de=S.options.paddingForScrollbar?R.scrollHeight>R.clientHeight+1:!1,he;setTimeout(function(){he=D.getScrollInfo()});var ve=fe.bottom-Q;if(ve>0){var ne=fe.bottom-fe.top,Bt=re.top-(re.bottom-fe.top);if(Bt-ne>0)R.style.top=(ge=re.top-ne-se)+"px",be=!1;else if(ne>Q){R.style.height=Q-5+"px",R.style.top=(ge=re.bottom-fe.top-se)+"px";var It=D.getCursor();x.from.ch!=It.ch&&(re=D.cursorCoords(It),R.style.left=(ce=re.left-ue)+"px",fe=R.getBoundingClientRect())}}var ht=fe.right-le;if(de&&(ht+=D.display.nativeBarWidth),ht>0&&(fe.right-fe.left>le&&(R.style.width=le-5+"px",ht-=fe.right-fe.left-le),R.style.left=(ce=re.left-ht-ue)+"px"),de)for(var Se=R.firstChild;Se;Se=Se.nextSibling)Se.style.paddingRight=D.display.nativeBarWidth+"px";if(D.addKeyMap(this.keyMap=p(S,{moveFocus:function(St,xt){O.changeActive(O.selectedHint+St,xt)},setFocus:function(St){O.changeActive(St)},menuSize:function(){return O.screenAmount()},length:F.length,close:function(){S.close()},pick:function(){O.pick()},data:x})),S.options.closeOnUnfocus){var Jt;D.on("blur",this.onBlur=function(){Jt=setTimeout(function(){S.close()},100)}),D.on("focus",this.onFocus=function(){clearTimeout(Jt)})}D.on("scroll",this.onScroll=function(){var St=D.getScrollInfo(),xt=D.getWrapperElement().getBoundingClientRect();he||(he=D.getScrollInfo());var Ct=ge+he.top-St.top,nt=Ct-(P.pageYOffset||(B.documentElement||B.body).scrollTop);if(be||(nt+=R.offsetHeight),nt<=xt.top||nt>=xt.bottom)return S.close();R.style.top=Ct+"px",R.style.left=ce+he.left-St.left+"px"}),i.on(R,"dblclick",function(St){var xt=m(R,St.target||St.srcElement);xt&&xt.hintId!=null&&(O.changeActive(xt.hintId),O.pick())}),i.on(R,"click",function(St){var xt=m(R,St.target||St.srcElement);xt&&xt.hintId!=null&&(O.changeActive(xt.hintId),S.options.completeOnSingleClick&&O.pick())}),i.on(R,"mousedown",function(){setTimeout(function(){D.focus()},20)});var $t=this.getSelectedHintRange();return($t.from!==0||$t.to!==0)&&this.scrollToActive(),i.signal(x,"select",F[this.selectedHint],R.childNodes[this.selectedHint]),!0}y.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var S=this.completion.cm.getInputField();S.removeAttribute("aria-activedescendant"),S.removeAttribute("aria-owns");var x=this.completion.cm;this.completion.options.closeOnUnfocus&&(x.off("blur",this.onBlur),x.off("focus",this.onFocus)),x.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var S=this;this.keyMap={Enter:function(){S.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(S,x){if(S>=this.data.list.length?S=x?this.data.list.length-1:0:S<0&&(S=x?0:this.data.list.length-1),this.selectedHint!=S){var O=this.hints.childNodes[this.selectedHint];O&&(O.className=O.className.replace(" "+r,""),O.removeAttribute("aria-selected")),O=this.hints.childNodes[this.selectedHint=S],O.className+=" "+r,O.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",O.id),this.scrollToActive(),i.signal(this.data,"select",this.data.list[this.selectedHint],O)}},scrollToActive:function(){var S=this.getSelectedHintRange(),x=this.hints.childNodes[S.from],O=this.hints.childNodes[S.to],D=this.hints.firstChild;x.offsetTop<this.hints.scrollTop?this.hints.scrollTop=x.offsetTop-D.offsetTop:O.offsetTop+O.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=O.offsetTop+O.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var S=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-S),to:Math.min(this.data.list.length-1,this.selectedHint+S)}}};function _(S,x){if(!S.somethingSelected())return x;for(var O=[],D=0;D<x.length;D++)x[D].supportsSelection&&O.push(x[D]);return O}function w(S,x,O,D){if(S.async)S(x,D,O);else{var B=S(x,O);B&&B.then?B.then(D):D(B)}}function C(S,x){var O=S.getHelpers(x,"hint"),D;if(O.length){var B=function(P,R,I){var F=_(P,O);function $(L){if(L==F.length)return R(null);w(F[L],P,I,function(W){W&&W.list.length>0?R(W):$(L+1)})}$(0)};return B.async=!0,B.supportsSelection=!0,B}else return(D=S.getHelper(S.getCursor(),"hintWords"))?function(P){return i.hint.fromList(P,{words:D})}:i.hint.anyword?function(P,R){return i.hint.anyword(P,R)}:function(){}}i.registerHelper("hint","auto",{resolve:C}),i.registerHelper("hint","fromList",function(S,x){var O=S.getCursor(),D=S.getTokenAt(O),B,P=i.Pos(O.line,D.start),R=O;D.start<O.ch&&/\w/.test(D.string.charAt(O.ch-D.start-1))?B=D.string.substr(0,O.ch-D.start):(B="",P=O);for(var I=[],F=0;F<x.words.length;F++){var $=x.words[F];$.slice(0,B.length)==B&&I.push($)}if(I.length)return{list:I,from:P,to:R}}),i.commands.autocomplete=i.showHint;var k={hint:i.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};i.defineOption("hintOptions",null)})})();(function(t,e){(function(i){i(Im)})(function(i){var n="CodeMirror-lint-markers",r="CodeMirror-lint-line-";function a(R,I,F){var $=document.createElement("div");$.className="CodeMirror-lint-tooltip cm-s-"+R.options.theme,$.appendChild(F.cloneNode(!0)),R.state.lint.options.selfContain?R.getWrapperElement().appendChild($):document.body.appendChild($);function L(W){if(!$.parentNode)return i.off(document,"mousemove",L);$.style.top=Math.max(0,W.clientY-$.offsetHeight-5)+"px",$.style.left=W.clientX+5+"px"}return i.on(document,"mousemove",L),L(I),$.style.opacity!=null&&($.style.opacity=1),$}function s(R){R.parentNode&&R.parentNode.removeChild(R)}function o(R){R.parentNode&&(R.style.opacity==null&&s(R),R.style.opacity=0,setTimeout(function(){s(R)},600))}function c(R,I,F,$){var L=a(R,I,F);function W(){i.off($,"mouseout",W),L&&(o(L),L=null)}var j=setInterval(function(){if(L)for(var z=$;;z=z.parentNode){if(z&&z.nodeType==11&&(z=z.host),z==document.body)return;if(!z){W();break}}if(!L)return clearInterval(j)},400);i.on($,"mouseout",W)}function d(R,I,F){this.marked=[],I instanceof Function&&(I={getAnnotations:I}),(!I||I===!0)&&(I={}),this.options={},this.linterOptions=I.options||{};for(var $ in p)this.options[$]=p[$];for(var $ in I)p.hasOwnProperty($)?I[$]!=null&&(this.options[$]=I[$]):I.options||(this.linterOptions[$]=I[$]);this.timeout=null,this.hasGutter=F,this.onMouseOver=function(L){P(R,L)},this.waitingFor=0}var p={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function m(R){var I=R.state.lint;I.hasGutter&&R.clearGutter(n),I.options.highlightLines&&y(R);for(var F=0;F<I.marked.length;++F)I.marked[F].clear();I.marked.length=0}function y(R){R.eachLine(function(I){var F=I.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(I.wrapClass);F&&R.removeLineClass(I,"wrap",F[0])})}function _(R,I,F,$,L){var W=document.createElement("div"),j=W;return W.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+F,$&&(j=W.appendChild(document.createElement("div")),j.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),L!=!1&&i.on(j,"mouseover",function(z){c(R,z,I,j)}),W}function w(R,I){return R=="error"?R:I}function C(R){for(var I=[],F=0;F<R.length;++F){var $=R[F],L=$.from.line;(I[L]||(I[L]=[])).push($)}return I}function k(R){var I=R.severity;I||(I="error");var F=document.createElement("div");return F.className="CodeMirror-lint-message CodeMirror-lint-message-"+I,typeof R.messageHTML<"u"?F.innerHTML=R.messageHTML:F.appendChild(document.createTextNode(R.message)),F}function S(R,I){var F=R.state.lint,$=++F.waitingFor;function L(){$=-1,R.off("change",L)}R.on("change",L),I(R.getValue(),function(W,j){R.off("change",L),F.waitingFor==$&&(j&&W instanceof i&&(W=j),R.operation(function(){O(R,W)}))},F.linterOptions,R)}function x(R){var I=R.state.lint;if(I){var F=I.options,$=F.getAnnotations||R.getHelper(i.Pos(0,0),"lint");if($)if(F.async||$.async)S(R,$);else{var L=$(R.getValue(),I.linterOptions,R);if(!L)return;L.then?L.then(function(W){R.operation(function(){O(R,W)})}):R.operation(function(){O(R,L)})}}}function O(R,I){var F=R.state.lint;if(F){var $=F.options;m(R);for(var L=C(I),W=0;W<L.length;++W){var j=L[W];if(j){var z=[];j=j.filter(function(se){return z.indexOf(se.message)>-1?!1:z.push(se.message)});for(var re=null,ce=F.hasGutter&&document.createDocumentFragment(),ge=0;ge<j.length;++ge){var be=j[ge],ue=be.severity;ue||(ue="error"),re=w(re,ue),$.formatAnnotation&&(be=$.formatAnnotation(be)),F.hasGutter&&ce.appendChild(k(be)),be.to&&F.marked.push(R.markText(be.from,be.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+ue,__annotation:be}))}F.hasGutter&&R.setGutterMarker(W,n,_(R,ce,re,L[W].length>1,$.tooltips)),$.highlightLines&&R.addLineClass(W,"wrap",r+re)}}$.onUpdateLinting&&$.onUpdateLinting(I,L,R)}}function D(R){var I=R.state.lint;I&&(clearTimeout(I.timeout),I.timeout=setTimeout(function(){x(R)},I.options.delay))}function B(R,I,F){for(var $=F.target||F.srcElement,L=document.createDocumentFragment(),W=0;W<I.length;W++){var j=I[W];L.appendChild(k(j))}c(R,F,L,$)}function P(R,I){var F=I.target||I.srcElement;if(/\bCodeMirror-lint-mark-/.test(F.className)){for(var $=F.getBoundingClientRect(),L=($.left+$.right)/2,W=($.top+$.bottom)/2,j=R.findMarksAt(R.coordsChar({left:L,top:W},"client")),z=[],re=0;re<j.length;++re){var ce=j[re].__annotation;ce&&z.push(ce)}z.length&&B(R,z,I)}}i.defineOption("lint",!1,function(R,I,F){if(F&&F!=i.Init&&(m(R),R.state.lint.options.lintOnChange!==!1&&R.off("change",D),i.off(R.getWrapperElement(),"mouseover",R.state.lint.onMouseOver),clearTimeout(R.state.lint.timeout),delete R.state.lint),I){for(var $=R.getOption("gutters"),L=!1,W=0;W<$.length;++W)$[W]==n&&(L=!0);var j=R.state.lint=new d(R,I,L);j.options.lintOnChange&&R.on("change",D),j.options.tooltips!=!1&&j.options.tooltips!="gutter"&&i.on(R.getWrapperElement(),"mouseover",j.onMouseOver),x(R)}}),i.defineExtension("performLint",function(){x(this)})})})();(function(t,e){(function(i){i(Im)})(function(i){var n="CodeMirror-activeline",r="CodeMirror-activeline-background",a="CodeMirror-activeline-gutter";i.defineOption("styleActiveLine",!1,function(p,m,y){var _=y==i.Init?!1:y;m!=_&&(_&&(p.off("beforeSelectionChange",d),s(p),delete p.state.activeLines),m&&(p.state.activeLines=[],c(p,p.listSelections()),p.on("beforeSelectionChange",d)))});function s(p){for(var m=0;m<p.state.activeLines.length;m++)p.removeLineClass(p.state.activeLines[m],"wrap",n),p.removeLineClass(p.state.activeLines[m],"background",r),p.removeLineClass(p.state.activeLines[m],"gutter",a)}function o(p,m){if(p.length!=m.length)return!1;for(var y=0;y<p.length;y++)if(p[y]!=m[y])return!1;return!0}function c(p,m){for(var y=[],_=0;_<m.length;_++){var w=m[_],C=p.getOption("styleActiveLine");if(!(typeof C=="object"&&C.nonEmpty?w.anchor.line!=w.head.line:!w.empty())){var k=p.getLineHandleVisualStart(w.head.line);y[y.length-1]!=k&&y.push(k)}}o(p.state.activeLines,y)||p.operation(function(){s(p);for(var S=0;S<y.length;S++)p.addLineClass(y[S],"wrap",n),p.addLineClass(y[S],"background",r),p.addLineClass(y[S],"gutter",a);p.state.activeLines=y})}function d(p,m){c(p,m.ranges)}})})();(function(t,e){(function(i){i(Im)})(function(i){var n={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},r=i.Pos;i.defineOption("autoCloseBrackets",!1,function(S,x,O){O&&O!=i.Init&&(S.removeKeyMap(s),S.state.closeBrackets=null),x&&(o(a(x,"pairs")),S.state.closeBrackets=x,S.addKeyMap(s))});function a(S,x){return x=="pairs"&&typeof S=="string"?S:typeof S=="object"&&S[x]!=null?S[x]:n[x]}var s={Backspace:p,Enter:m};function o(S){for(var x=0;x<S.length;x++){var O=S.charAt(x),D="'"+O+"'";s[D]||(s[D]=c(O))}}o(n.pairs+"`");function c(S){return function(x){return w(x,S)}}function d(S){var x=S.state.closeBrackets;if(!x||x.override)return x;var O=S.getModeAt(S.getCursor());return O.closeBrackets||x}function p(S){var x=d(S);if(!x||S.getOption("disableInput"))return i.Pass;for(var O=a(x,"pairs"),D=S.listSelections(),B=0;B<D.length;B++){if(!D[B].empty())return i.Pass;var P=C(S,D[B].head);if(!P||O.indexOf(P)%2!=0)return i.Pass}for(var B=D.length-1;B>=0;B--){var R=D[B].head;S.replaceRange("",r(R.line,R.ch-1),r(R.line,R.ch+1),"+delete")}}function m(S){var x=d(S),O=x&&a(x,"explode");if(!O||S.getOption("disableInput"))return i.Pass;for(var D=S.listSelections(),B=0;B<D.length;B++){if(!D[B].empty())return i.Pass;var P=C(S,D[B].head);if(!P||O.indexOf(P)%2!=0)return i.Pass}S.operation(function(){var R=S.lineSeparator()||`
`;S.replaceSelection(R+R,null),y(S,-1),D=S.listSelections();for(var I=0;I<D.length;I++){var F=D[I].head.line;S.indentLine(F,null,!0),S.indentLine(F+1,null,!0)}})}function y(S,x){for(var O=[],D=S.listSelections(),B=0,P=0;P<D.length;P++){var R=D[P];R.head==S.getCursor()&&(B=P);var I=R.head.ch||x>0?{line:R.head.line,ch:R.head.ch+x}:{line:R.head.line-1};O.push({anchor:I,head:I})}S.setSelections(O,B)}function _(S){var x=i.cmpPos(S.anchor,S.head)>0;return{anchor:new r(S.anchor.line,S.anchor.ch+(x?-1:1)),head:new r(S.head.line,S.head.ch+(x?1:-1))}}function w(S,x){var O=d(S);if(!O||S.getOption("disableInput"))return i.Pass;var D=a(O,"pairs"),B=D.indexOf(x);if(B==-1)return i.Pass;for(var P=a(O,"closeBefore"),R=a(O,"triples"),I=D.charAt(B+1)==x,F=S.listSelections(),$=B%2==0,L,W=0;W<F.length;W++){var j=F[W],z=j.head,re,ce=S.getRange(z,r(z.line,z.ch+1));if($&&!j.empty())re="surround";else if((I||!$)&&ce==x)I&&k(S,z)?re="both":R.indexOf(x)>=0&&S.getRange(z,r(z.line,z.ch+3))==x+x+x?re="skipThree":re="skip";else if(I&&z.ch>1&&R.indexOf(x)>=0&&S.getRange(r(z.line,z.ch-2),z)==x+x){if(z.ch>2&&/\bstring/.test(S.getTokenTypeAt(r(z.line,z.ch-2))))return i.Pass;re="addFour"}else if(I){var ge=z.ch==0?" ":S.getRange(r(z.line,z.ch-1),z);if(!i.isWordChar(ce)&&ge!=x&&!i.isWordChar(ge))re="both";else return i.Pass}else if($&&(ce.length===0||/\s/.test(ce)||P.indexOf(ce)>-1))re="both";else return i.Pass;if(!L)L=re;else if(L!=re)return i.Pass}var be=B%2?D.charAt(B-1):x,ue=B%2?x:D.charAt(B+1);S.operation(function(){if(L=="skip")y(S,1);else if(L=="skipThree")y(S,3);else if(L=="surround"){for(var se=S.getSelections(),Z=0;Z<se.length;Z++)se[Z]=be+se[Z]+ue;S.replaceSelections(se,"around"),se=S.listSelections().slice();for(var Z=0;Z<se.length;Z++)se[Z]=_(se[Z]);S.setSelections(se)}else L=="both"?(S.replaceSelection(be+ue,null),S.triggerElectric(be+ue),y(S,-1)):L=="addFour"&&(S.replaceSelection(be+be+be+be,"before"),y(S,1))})}function C(S,x){var O=S.getRange(r(x.line,x.ch-1),r(x.line,x.ch+1));return O.length==2?O:null}function k(S,x){var O=S.getTokenAt(r(x.line,x.ch+1));return/\bstring/.test(O.type)&&O.start==x.ch&&(x.ch==0||!/\bstring/.test(S.getTokenTypeAt(x)))}})})();window.CodeMirror=o6;window.Decimal=ci;window.Vue=Cn;String.prototype.includes||(String.prototype.includes=function(t,e){return typeof e!="number"&&(e=0),e+t.length>this.length?!1:this.indexOf(t,e)!==-1});Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value(t,e){if(this===null)throw new TypeError('"this" is null or not defined');const i=Object(this),n=i.length>>>0;if(n===0)return!1;const r=e|0;let a=Math.max(r>=0?r:n-Math.abs(r),0);function s(o,c){return o===c||typeof o=="number"&&typeof c=="number"&&isNaN(o)&&isNaN(c)}for(;a<n;){if(s(i[a],t))return!0;a++}return!1}});Math.log10||(Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E});Math.log2||(Math.log2=Math.log2||function(t){return Math.log(t)*Math.LOG2E});window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(let i=0;i<this.length;i++)t.call(e,this[i],i,this)});Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value(t){if(this===null)throw new TypeError('"this" is null or not defined');const e=Object(this),i=e.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");const n=arguments[1];let r=0;for(;r<i;){const a=e[r];if(t.call(n,a,r,e))return a;r++}}});Array.max=function(t){return Math.max(...t)};Array.min=function(t){return Math.min(...t)};Object.invert=function(t){const e={},i=Object.keys(t);for(let n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e};typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(e,i){if(e===null)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let r=1;r<arguments.length;r++){const a=arguments[r];if(a!==null)for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},writable:!0,configurable:!0});function Up(t){return typeof t=="number"}function zI(t){return typeof t=="string"}function M0(t){return typeof t=="function"}function Xp(t){return t instanceof Decimal}Array.prototype.distinct=function(){return this.filter((t,e,i)=>i.indexOf(t)===e)};Math.wrap=function(t,e,i){const n=i-e+1,r=(t-e)%n;return r<0?i+1+r:e+r};Math.clamp=function(t,e,i){return Math.clampMax(Math.clampMin(t,e),i)};Math.clampMin=function(t,e){return Math.max(t,e)};Math.clampMax=function(t,e){return Math.min(t,e)};Array.prototype.nextSiblingIndex=function(t){const e=this.indexOf(t);if(e===-1)throw"Current item is not in array";return e===this.length-1?0:e+1};Array.prototype.nextSibling=function(t){return this[this.nextSiblingIndex(t)]};Array.prototype.previousSiblingIndex=function(t){const e=this.indexOf(t);if(e===-1)throw"Current item is not in array";return e===0?this.length-1:e-1};Array.prototype.previousSibling=function(t){return this[this.previousSiblingIndex(t)]};Decimal.sumReducer=function(t,e){return Decimal.add(t,e)};Decimal.prodReducer=function(t,e){return Decimal.mul(t,e)};Number.sumReducer=function(t,e){return t+e};Number.prodReducer=function(t,e){return t*e};Decimal.maxReducer=function(t,e){return Decimal.max(t,e)};Decimal.prototype.copyFrom=function(t){if(!(t instanceof Decimal)&&!(t instanceof DecimalCurrency))throw"Copy value is not Decimal or DecimalCurrency";this.mantissa=t.mantissa,this.exponent=t.exponent};window.copyToClipboard=function(){const t=document.createElement("textarea");return document.body.appendChild(t),t.style.position="absolute",t.style.left="-9999999px",t.setAttribute("readonly",""),function(e){try{return t.value=e,t.select(),document.execCommand("copy")}catch(i){return console.log(i),!1}}}();window.safeCall=function(e){e&&e()};String.prototype.capitalize=function(){return this.toLowerCase().replace(/^\w/u,t=>t.toUpperCase())};String.prototype.splice=function(t,e,i){return this.slice(0,t)+i+this.slice(t+Math.abs(e))};Array.range=function(t,e){return[...Array(e).keys()].map(i=>i+t)};Array.repeat=function(t,e){return Array(e).fill(t)};Array.prototype.first=function(t){if(t===void 0)return this.length>0?this[0]:void 0;if(typeof t!="function")throw"Predicate must be a function";for(let e=0;e<this.length;e++)if(t(this[e])===!0)return this[e];throw"Array doesn't contain a matching item"};Array.prototype.last=function(t){if(t===void 0)return this.length>0?this[this.length-1]:void 0;if(typeof t!="function")throw"Predicate must be a function";for(let e=this.length-1;e>=0;e--)if(t(this[e])===!0)return this[e];throw"Array doesn't contain a matching item"};Array.prototype.mapToObject=function(t,e){if(typeof t!="function"||typeof e!="function")throw"keyFun and valueFun must be functions";const i={};for(let n=0;n<this.length;++n)i[t(this[n],n)]=e(this[n],n);return i};Array.dimensionTiers=Array.range(1,8);Array.prototype.sum=function(){return this.length===0?0:this.reduce(Number.sumReducer)};Array.prototype.max=function(){return this.length===0?0:this.reduce((t,e)=>Math.max(t,e))};Array.prototype.min=function(){return this.length===0?0:this.reduce((t,e)=>Math.min(t,e))};Array.prototype.countWhere=function(t){let e=0;for(const i of this)t(i)&&++e;return e};Decimal.prototype.clampMaxExponent=function(t){return this.exponent>=t?Decimal.fromMantissaExponent_noNormalize(1,t):this};Number.prototype.toDecimal=function(){return new Decimal(this.valueOf())};Math.log4=Math.log(4);Array.prototype.randomElement=function(){return this[Math.floor(Math.random()*this.length)]};Decimal.prototype.valueOf=()=>{throw new Error("Implicit conversion from Decimal to number")};Set.prototype.countWhere=function(t){let e=0;for(const i of this)t(i)&&++e;return e};Set.prototype.find=function(t){for(const e of this)if(t(e))return e};Set.prototype.some=function(t){for(const e of this)if(t(e))return!0;return!1};Set.prototype.every=function(t){for(const e of this)if(!t(e))return!1;return!0};Array.prototype.compact=function(){return this.filter(t=>t!=null)};Array.prototype.toBitmask=function(){return this.reduce((t,e)=>t|1<<e,0)};Set.prototype.toBitmask=function(){let t=0;for(const e of this)t|=1<<e;return t};Array.fromBitmask=function(t){const e=[];let i=0;for(;t!==0;)t&1&&e.push(i),t>>=1,++i;return e};String.isWhiteSpace=function(t){return t&&!t.trim()};Decimal.isFinite=function(t){return Xp(t)?(isFinite(t.m)||isFinite(t.e))&&!(t.e>=9e15):isFinite(t)};window.NotImplementedError=class extends Error{constructor(){super("The method is not implemented."),this.name="NotImplementedError"}};window.GlobalErrorHandler={handled:!1,cleanStart:!1,onerror(t){if(!this.handled){if(this.handled=!0,!this.cleanStart){document.getElementById("loading").style.display="none",requestAnimationFrame(()=>this.crash(t));return}this.stopGame(),this.crash(t)}},stopGame(){GameKeyboard.disable(),GameIntervals.stop();function t(e,i){let n=e(()=>{},9999);for(;n--;)i(n)}t(setInterval,clearInterval),t(setTimeout,clearTimeout),t(requestAnimationFrame,cancelAnimationFrame)},crash(t){window.GameUI!==void 0&&GameUI.initialized&&Modal.message.show(`${t}<br>Check the console for more details`,{},3);debugger}};window.onerror=(t,e)=>{e.endsWith(".js")&&GlobalErrorHandler.onerror(t)};window.TimeSpan=class os{static fromYears(e){return new os(e*31536e6)}static fromDays(e){return new os(e*864e5)}static fromHours(e){return new os(e*36e5)}static fromMinutes(e){return new os(e*6e4)}static fromSeconds(e){return new os(e*1e3)}static fromMilliseconds(e){return new os(e)}constructor(e){gh.isNumber(e,"Value 'ms' must be a number"),this._ms=e}copyFrom(e){gh.isTimeSpan(e),this._ms=e._ms}setFrom(e){gh.isNumber(e),this._ms=e}get years(){return Math.floor(this.totalYears)}get days(){return Math.floor(this.totalDays%365)}get hours(){return Math.floor(this.totalHours%24)}get minutes(){return Math.floor(this.totalMinutes%60)}get seconds(){return Math.floor(this.totalSeconds%60)}get milliseconds(){return Math.floor(this.totalMilliseconds%1e3)}get totalYears(){return this._ms/31536e6}get totalDays(){return this._ms/864e5}get totalHours(){return this._ms/36e5}get totalMinutes(){return this._ms/6e4}get totalSeconds(){return this._ms/1e3}get totalMilliseconds(){return this._ms}plus(e){return gh.isTimeSpan(e),new os(this._ms+e._ms)}minus(e){return gh.isTimeSpan(e),new os(this._ms-e._ms)}times(e){return gh.isNumber(e),new os(this._ms*e)}dividedBy(e){return gh.isNumber(e),new os(this._ms/e)}toString(){return this.years>1e6?`${format(this.totalYears,3,0)} years`:this.totalSeconds>=10?this.toStringNoDecimals():this.toStringShort()}toStringNoDecimals(){const e=[];function i(r,a){r!==0&&n(r,a)}function n(r,a){e.push(r===1?`${formatInt(r)} ${a}`:`${formatInt(r)} ${a}s`)}return i(this.years,"year"),i(this.days,"day"),i(this.hours,"hour"),i(this.minutes,"minute"),i(this.seconds,"second"),e.length===0?`${formatInt(0)} seconds`:[e.slice(0,-1).join(", "),e.slice(-1)[0]].join(e.length<2?"":" and ")}toStringShort(e=!0,i=!1,n=!1){if(format(0)==="END"&&!n)return"END";const r=this.totalSeconds;if(r>5e-7&&r<.001)return`${format(1e3*r,0,3,n)} ms`;if(r<1)return`${format(1e3*r,0,0,n)} ms`;if(r<10)return`${format(r,0,3,n)} seconds`;if(r<60)return`${format(r,0,2,n)} seconds`;if(this.totalHours<100||i&&this.totalHours<1e3){if(e&&!Notations.current.isPainful){const o=s(this.seconds,this.milliseconds);return Math.floor(this.totalHours)===0?`${a(this.minutes)}:${o}`:`${a(Math.floor(this.totalHours))}:${a(this.minutes)}:${o}`}if(this.totalMinutes<60)return`${format(this.totalMinutes,0,2,n)} minutes`;if(this.totalHours<24)return`${format(this.totalHours,0,2,n)} hours`}if(this.totalDays<500)return`${i?this.totalDays.toFixed(2):format(this.totalDays,0,2,n)} days`;return`${i?this.totalYears.toFixed(3):format(this.totalYears,3,2,n)} years`;function a(o){const c=o.toString();return c.length===1?`0${c}`:c}function s(o,c){const d=a(o);return i?`${d}.${Math.floor(c/100)}`:d}}toTimeEstimate(){const e=this.totalSeconds;return e<1?`< ${formatInt(1)} second`:e>86400*365.25?`> ${formatInt(1)} year`:this.toStringShort()}static get zero(){return new os(0)}static get maxValue(){return new os(Number.MAX_VALUE)}static get minValue(){return new os(Number.MIN_VALUE)}};const gh={isDefined(t,e){if(t===void 0)throw e||"Value is defined"},isNumber(t,e){if(typeof t!="number")throw e||"Value is not a number"},isTimeSpan(t,e){if(!(t instanceof TimeSpan))throw e||"Value is not a TimeSpan"}};function Nv(){const t=GameEnd.endState>END_STATE_MARKERS.END_NUMBERS?1:(GameEnd.endState-END_STATE_MARKERS.FADE_AWAY)/2;return player.celestials.pelle.doomed&&Math.random()<t}window.format=function(e,i=0,n=0,r=!1){return Nv()&&!r?"END":Notations.current.format(e,i,n,3)};window.formatInt=function(e,i=!1){return Nv()&&!i?"END":Notations.current.isPainful&&Notations.current.name!=="Standard"?format(e,2):formatWithCommas(typeof e=="number"?e.toFixed(0):e.toNumber().toFixed(0))};window.formatFloat=function(e,i,n=!1){return Nv()&&!n?"END":Notations.current.isPainful?format(e,Math.max(2,i),i):formatWithCommas(e.toFixed(i))};window.formatPostBreak=function(e,i,n,r=!1){if(Nv()&&!r)return"END";const a=Notations.current;if(typeof e=="number"&&!Number.isFinite(e))return a.infinite;const s=Decimal.fromValue_noAlloc(e);if(s.exponent<-300)return s.sign()<0?a.formatVerySmallNegativeDecimal(s.abs(),n):a.formatVerySmallDecimal(s,n);if(s.exponent<3){const o=s.toNumber();return o<0?a.formatNegativeUnder1000(Math.abs(o),n):a.formatUnder1000(o,n)}return s.sign()<0?a.formatNegativeDecimal(s.abs(),i):a.formatDecimal(s,i)};window.formatX=function(e,i,n,r=!1){return`×${format(e,i,n,r)}`};window.formatPow=function(e,i,n,r=!1){return`^${format(e,i,n,r)}`};window.formatPercents=function(e,i,n=!1){return`${format(e*100,2,i,n)}%`};window.formatRarity=function(e,i){const n=e.toFixed(1).endsWith(".0")?0:1;return`${format(e,2,n,i)}%`};window.formatMachines=function(e,i,n=!1){if(Nv()&&!n)return"END";const r=[];return Decimal.neq(e,0)&&r.push(format(e,2)),Decimal.neq(i,0)&&r.push(`${format(i,2,2)}i`),Decimal.eq(e,0)&&Decimal.eq(i,0)?format(0):r.join(" + ")};window.timeDisplay=function(e){return TimeSpan.fromMilliseconds(e).toString()};window.timeDisplayNoDecimals=function(e){return TimeSpan.fromMilliseconds(e).toStringNoDecimals()};window.timeDisplayShort=function(e){return TimeSpan.fromMilliseconds(e).toStringShort()};const GY=/\B(?=(\d{3})+(?!\d))/gu;window.formatWithCommas=function(e){const i=e.toString().split(".");return i[0]=i[0].replace(GY,","),i.join(".")};const UY=new Map([[/y$/u,"ies"],[/x$/u,"xes"],[/$/u,"s"]]),XI=new Map([["Antimatter","Antimatter"],["Dilated Time","Dilated Time"],["Matter","Matter"],["Replicanti","Replicanti"]]);window.pluralize=function(e,i,n){if(e===void 0||i===void 0)throw"Arguments must be defined";if(Decimal.eq(i,1))return e;const r=n??XI.get(e);if(r!==void 0)return r;const a=generatePlural(e);return XI.set(e,a),a};window.generatePlural=function(e){for(const[i,n]of UY.entries()){const r=e.replace(i,n);if(e!==r)return r}return e};window.quantify=function(e,i,n,r,a=format){if(e===void 0||i===void 0)throw"Arguments must be defined";const s=a(i,n,r),o=pluralize(e,i);return`${s} ${o}`};window.quantifyInt=function(e,i){if(e===void 0||i===void 0)throw"Arguments must be defined";const n=formatInt(i),r=pluralize(e,i);return`${n} ${r}`};window.makeEnumeration=function(e){if(e.length===0)return"";if(e.length===1)return e[0];if(e.length===2)return`${e[0]} and ${e[1]}`;const i=e.slice(0,e.length-1).join(", "),n=e[e.length-1];return`${i}, and ${n}`};window.PRESTIGE_EVENT={DIMENSION_BOOST:0,ANTIMATTER_GALAXY:1,INFINITY:2,ETERNITY:3,REALITY:4};function WN(t){return Object.keys(t).forEach(e=>{const i=t[e];typeof i=="object"&&WN(i)}),Object.freeze(t)}window.DC=WN({DM1:new Decimal("-1"),D0:new Decimal("0"),D0_01:new Decimal("0.01"),D0_8446303389034288:new Decimal("0.8446303389034288"),D0_95:new Decimal("0.95"),D0_965:new Decimal("0.965"),D1:new Decimal("1"),D1_0000109:new Decimal("1.0000109"),D1_00038:new Decimal("1.00038"),D1_0004:new Decimal("1.0004"),D1_0025:new Decimal("1.0025"),D1_005:new Decimal("1.005"),D1_007:new Decimal("1.007"),D1_02:new Decimal("1.02"),D1_2:new Decimal("1.2"),D2:new Decimal("2"),D3:new Decimal("3"),D4:new Decimal("4"),D5:new Decimal("5"),D15:new Decimal("15"),D16:new Decimal("16"),D11111:new Decimal("11111"),D3E4:new Decimal("30000"),D2E6:new Decimal("2e6"),D2E9:new Decimal("2e9"),D2E22222:new Decimal("2e22222"),D9_99999E999:new Decimal("9.99999e999"),D9_9999E9999:new Decimal("9.9999e9999"),C1D1_1245:Decimal.div(1,1.1245),D2P30D0_61:Decimal.pow(2,30/.61),C2P30:Decimal.pow(2,30),C2P1024:Decimal.pow(2,1024),C10P16000D3:Decimal.pow(10,16e3/3),E1:new Decimal("1e1"),E2:new Decimal("1e2"),E3:new Decimal("1e3"),E5:new Decimal("1e5"),E6:new Decimal("1e6"),E8:new Decimal("1e8"),E9:new Decimal("1e9"),E10:new Decimal("1e10"),E12:new Decimal("1e12"),E15:new Decimal("1e15"),E20:new Decimal("1e20"),E25:new Decimal("1e25"),E29:new Decimal("1e29"),E30:new Decimal("1e30"),E31:new Decimal("1e31"),E40:new Decimal("1e40"),E45:new Decimal("1e45"),E50:new Decimal("1e50"),E55:new Decimal("1e55"),E58:new Decimal("1e58"),E60:new Decimal("1e60"),E63:new Decimal("1e63"),E70:new Decimal("1e70"),E75:new Decimal("1e75"),E80:new Decimal("1e80"),E90:new Decimal("1e90"),E100:new Decimal("1e100"),E140:new Decimal("1e140"),E150:new Decimal("1e150"),E160:new Decimal("1e160"),E170:new Decimal("1e170"),E175:new Decimal("1e175"),E200:new Decimal("1e200"),E250:new Decimal("1e250"),E260:new Decimal("1e260"),E280:new Decimal("1e280"),E300:new Decimal("1e300"),E308:new Decimal("1e308"),E309:new Decimal("1e309"),E310:new Decimal("1e310"),E315:new Decimal("1e315"),E320:new Decimal("1e320"),E349:new Decimal("1e349"),E400:new Decimal("1e400"),E450:new Decimal("1e450"),E500:new Decimal("1e500"),E530:new Decimal("1e530"),E550:new Decimal("1e550"),E600:new Decimal("1e600"),E616:new Decimal("1e616"),E650:new Decimal("1e650"),E750:new Decimal("1e750"),E850:new Decimal("1e850"),E900:new Decimal("1e900"),E925:new Decimal("1e925"),E975:new Decimal("1e975"),E1000:new Decimal("1e1000"),E1100:new Decimal("1e1100"),E1200:new Decimal("1e1200"),E1300:new Decimal("1e1300"),E1400:new Decimal("1e1400"),E1500:new Decimal("1e1500"),E1750:new Decimal("1e1750"),E1800:new Decimal("1e1800"),E1900:new Decimal("1e1900"),E2000:new Decimal("1e2000"),E2350:new Decimal("1e2350"),E2400:new Decimal("1e2400"),E2500:new Decimal("1e2500"),E2650:new Decimal("1e2650"),E2700:new Decimal("1e2700"),E2750:new Decimal("1e2750"),E2800:new Decimal("1e2800"),E2900:new Decimal("1e2900"),E3000:new Decimal("1e3000"),E3200:new Decimal("1e3200"),E3350:new Decimal("1e3350"),E4000:new Decimal("1e4000"),E5000:new Decimal("1e5000"),E6000:new Decimal("1e6000"),E8000:new Decimal("1e8000"),E9000:new Decimal("1e9000"),E10000:new Decimal("1e10000"),E10500:new Decimal("1e10500"),E11000:new Decimal("1e11000"),E11111:new Decimal("1e11111"),E11200:new Decimal("1e11200"),E12000:new Decimal("1e12000"),E13000:new Decimal("1e13000"),E14000:new Decimal("1e14000"),E16500:new Decimal("1e16500"),E17500:new Decimal("1e17500"),E18000:new Decimal("1e18000"),E20000:new Decimal("1e20000"),E22500:new Decimal("1e22500"),E23000:new Decimal("1e23000"),E27000:new Decimal("1e27000"),E28000:new Decimal("1e28000"),E30000:new Decimal("1e30000"),E45000:new Decimal("1e45000"),E54000:new Decimal("1e54000"),E60000:new Decimal("1e60000"),E100000:new Decimal("1e100000"),E110000:new Decimal("1e110000"),E164000:new Decimal("1e164000"),E200000:new Decimal("1e200000"),E201600:new Decimal("1e201600"),E208000:new Decimal("1e208000"),E210000:new Decimal("1e210000"),E300000:new Decimal("1e300000"),E320000:new Decimal("1e320000"),E500000:new Decimal("1e500000"),E1E6:new Decimal("1e1000000"),E3E6:new Decimal("1e3000000"),E6E6:new Decimal("1e6000000"),E1E7:new Decimal("1e10000000"),E2E7:new Decimal("1e20000000"),E4E7:new Decimal("1e40000000"),E6E7:new Decimal("1e60000000"),E1E8:new Decimal("1e100000000"),E1_5E12:new Decimal("1e1500000000000"),E1E15:new Decimal("1e1000000000000000")});window.AUTOBUYER_MODE={BUY_SINGLE:1,BUY_10:10,BUY_MAX:100};window.AUTO_CRUNCH_MODE={AMOUNT:0,TIME:1,X_HIGHEST:2};window.AUTO_ETERNITY_MODE={AMOUNT:0,TIME:1,X_HIGHEST:2};window.AUTO_REALITY_MODE={RM:0,GLYPH:1,EITHER:2,BOTH:3,TIME:4,RELIC_SHARD:5};window.RECENT_PRESTIGE_RESOURCE={ABSOLUTE_GAIN:0,RATE:1,CURRENCY:2,PRESTIGE_COUNT:3};window.GLYPH_MIME_TYPE="text/x-ivark-glyph";window.GlyphRarities=[{minStrength:3.5,name:"Celestial",darkColor:"#3d3dec",lightColor:"#9696ff",darkHighContrast:"#ffff00",lightHighContrast:"#c0c000"},{minStrength:3.25,name:"Transcendent",darkColor:"#03ffec",lightColor:"#00c3c3",darkHighContrast:"#00ffff",lightHighContrast:"#00c0c0"},{minStrength:3,name:"Mythical",darkColor:"#d50000",lightColor:"#d50000",darkHighContrast:"#c00000",lightHighContrast:"#ff0000"},{minStrength:2.75,name:"Legendary",darkColor:"#ff9800",lightColor:"#d68100",darkHighContrast:"#ff8000",lightHighContrast:"#ff8000"},{minStrength:2.5,name:"Epic",darkColor:"#9c27b0",lightColor:"#9c27b0",darkHighContrast:"#ff00ff",lightHighContrast:"#ff00ff"},{minStrength:2,name:"Rare",darkColor:"#5096f3",lightColor:"#0d40ff",darkHighContrast:"#6060ff",lightHighContrast:"#0000ff"},{minStrength:1.5,name:"Uncommon",darkColor:"#43a047",lightColor:"#1e8622",darkHighContrast:"#00ff00",lightHighContrast:"#00b000"},{minStrength:1,name:"Common",darkColor:"#ffffff",lightColor:"#000000",darkHighContrast:"#ffffff",lightHighContrast:"#000000"}];window.GLYPH_BG_SETTING={AUTO:0,LIGHT:1,DARK:2};window.GLYPH_TYPES=["power","infinity","replication","time","dilation","effarig","reality","cursed","companion"];window.BASIC_GLYPH_TYPES=["power","infinity","replication","time","dilation"];window.ALCHEMY_BASIC_GLYPH_TYPES=["power","infinity","replication","time","dilation","effarig"];window.GLYPH_SYMBOLS={power:"Ω",infinity:"∞",replication:"Ξ",time:"Δ",dilation:"Ψ",effarig:"Ϙ",reality:"Ϟ",cursed:"⸸",companion:"♥"};window.CANCER_GLYPH_SYMBOLS={power:"⚡",infinity:"8",replication:"⚤",time:"🕟",dilation:"☎",effarig:"🦒",reality:"⛧",cursed:"☠",companion:"³"};window.ALTERATION_TYPE={ADDITION:1,EMPOWER:2,BOOST:3};window.BLACK_HOLE_PAUSE_MODE={NO_PAUSE:0,PAUSE_BEFORE_BH1:1,PAUSE_BEFORE_BH2:2};window.GLYPH_SIDEBAR_MODE={INVENTORY_MANAGEMENT:0,FILTER_SETTINGS:1,SAVED_SETS:2,SACRIFICE_TYPE:3};window.AUTO_SORT_MODE={NONE:0,LEVEL:1,POWER:2,EFFECT:3,SCORE:4};window.AUTO_GLYPH_SCORE={LOWEST_SACRIFICE:0,EFFECT_COUNT:1,RARITY_THRESHOLD:2,SPECIFIED_EFFECT:3,EFFECT_SCORE:4,LOWEST_ALCHEMY:5,ALCHEMY_VALUE:6};window.AUTO_GLYPH_REJECT={SACRIFICE:0,REFINE:1,REFINE_TO_CAP:2};window.TIME_STUDY_PATH={NONE:0,ANTIMATTER_DIM:1,INFINITY_DIM:2,TIME_DIM:3,ACTIVE:4,PASSIVE:5,IDLE:6,LIGHT:7,DARK:8};window.TIME_STUDY_TYPE={NORMAL:0,ETERNITY_CHALLENGE:1,DILATION:2,TRIAD:3};window.TS_REQUIREMENT_TYPE={AT_LEAST_ONE:0,ALL:1,DIMENSION_PATH:2};window.ALCHEMY_RESOURCE={POWER:0,INFINITY:1,TIME:2,REPLICATION:3,DILATION:4,CARDINALITY:5,ETERNITY:6,DIMENSIONALITY:7,INFLATION:8,ALTERNATION:9,EFFARIG:10,SYNERGISM:11,MOMENTUM:12,DECOHERENCE:13,EXPONENTIAL:14,FORCE:15,UNCOUNTABILITY:16,BOUNDLESS:17,MULTIVERSAL:18,UNPREDICTABILITY:19,REALITY:20};window.SINGULARITY_MILESTONE_RESOURCE={SINGULARITIES:0,CONDENSE_COUNT:1,MANUAL_TIME:2,AUTO_TIME:3};window.SINGULARITY_MILESTONE_SORT={SINGULARITIES_TO_NEXT:0,CURRENT_COMPLETIONS:1,PERCENT_COMPLETIONS:2,FINAL_COMPLETION:3,MOST_RECENT:4};window.COMPLETED_MILESTONES={FIRST:0,LAST:1,IGNORED:2};window.SORT_ORDER={ASCENDING:0,DESCENDING:1};window.PROGRESS_STAGE={PRE_INFINITY:1,EARLY_INFINITY:2,BREAK_INFINITY:3,REPLICANTI:4,EARLY_ETERNITY:5,ETERNITY_CHALLENGES:6,EARLY_DILATION:7,LATE_ETERNITY:8,EARLY_REALITY:9,TERESA:10,EFFARIG:11,ENSLAVED:12,V:13,RA:14,IMAGINARY_MACHINES:15,LAITELA:16,PELLE:17};window.STD_BACKEND_URL="https://antimatterdimensionspayments.ew.r.appspot.com";window.SPEEDRUN_SEED_STATE={UNKNOWN:0,FIXED:1,RANDOM:2,PLAYER:3};var jN={exports:{}},KI=7,ZI=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23],LY=607/128,fT=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function zN(t){if(t<0)return+"0/0";for(var e=fT[0],i=fT.length-1;i>0;--i)e+=fT[i]/(t+i);var n=t+LY+.5;return .5*Math.log(2*Math.PI)+(t+.5)*Math.log(n)-n+Math.log(e)-Math.log(t)}jN.exports=function t(e){if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t(1-e));if(e>100)return Math.exp(zN(e));e-=1;for(var i=ZI[0],n=1;n<KI+2;n++)i+=ZI[n]/(e+n);var r=e+KI+.5;return Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*i};var BY=jN.exports.log=zN;window.LOG10_MAX_VALUE=Math.log10(Number.MAX_VALUE);window.LN_SQRT_2_PI=.5*Math.log(2*Math.PI);window.LOG10_2=Math.log10(2);window.LOG10_E=Math.log10(Math.E);Math.PI_2=Math.PI*2;window.bulkBuyBinarySearch=function(e,i,n){const r=i.costFunction,a=i.firstCost===void 0?r(n):i.firstCost,s=i.cumulative===void 0?!0:i.cumulative;if(e.lt(a))return null;let o=1,c;do o*=2,c=r(n+o-1);while(e.gte(c));if(o===2)return{quantity:1,purchasePrice:a};let d=o/2;if(o>Number.MAX_SAFE_INTEGER)throw new Error("Overflow in binary search");for(;o-d>1;){const w=Math.floor((d+o)/2);e.gte(r(n+w-1))?d=w:o=w}const p=r(n+d-1);if(!s)return{quantity:d,purchasePrice:p};let m=DC.D0,y=0;for(let w=d-1;w>0;--w){const C=m.plus(r(n+w-1));if(C.eq(m))break;if(m=C,++y>1e3)throw new Error("unexpected long loop (buggy cost function?)")}let _=p.plus(m);return e.lt(_)&&(--d,_=m),{quantity:d,purchasePrice:_}};window.LinearMultiplierScaling=class{constructor(e,i){this.baseRatio=e,this.growth=i}scale(e){return this.baseRatio*=e,this.growth*=e,this}shift(e){return this.baseRatio+=this.growth*e,this}logTotalMultiplierAfterPurchases(e){if(e===0)return 0;const i=this.growth/this.baseRatio,n=i*e;return(1/i+e-.5)*Math.log1p(n)+e*(Math.log(this.baseRatio)-1)-i*n/(12*(1+n))}purchasesForLogTotalMultiplier(e){if(this.baseRatio<1.01)throw new Error("Ratio is too small for good calculations");const i=Math.log(this.baseRatio),n=this.growth/this.baseRatio,r=w=>{const C=n*w,k=Math.log1p(C),S=.5*n/(1+C),x=(1/n+w-.5)*k+w*(i-1)-(e+S*C/6),O=k+i-S*(S/3+1),D=S*(2+S*(2+S/3)),B=x/O;return w-2*B/(1+Math.sqrt(1-2*B*D/O))},a=e/i;if(n*a<.01)return r(r(a));const s=this.growth*e+this.baseRatio*(i-1),o=.183709519164226,c=.693791942633232,d=.049293492810849,p=Math.sqrt(2*(s+1)),m=p*(1+o*p)/(1+c*Math.log1p(d*p)),_=((1+m+s)/Math.log1p(m)-this.baseRatio)/this.growth;return r(r(_))}logTotalMultiplierAfterPurchasesBaseline(e){let i=0;const n=this.growth/this.baseRatio;for(let r=0;r<e;++r)i+=Math.log1p(n*r);return i+e*Math.log(this.baseRatio)}};window.getCostWithLinearCostScaling=function(e,i,n,r,a){const s=Math.max(0,Math.floor(Math.log(i/n)/Math.log(r))),o=Math.ceil(Math.pow(r,Math.min(s,e))*n),c=new LinearMultiplierScaling(r,a),d=Math.exp(c.logTotalMultiplierAfterPurchases(Math.max(0,e-s)));return o*d};window.findFirstInfiniteCostPurchase=function(e,i,n,r){let a=1;for(;Number.isFinite(getCostWithLinearCostScaling(a,e,i,n,r));)a*=2;let s=a/2;for(;s<a;){const o=Math.floor((s+a)/2),c=getCostWithLinearCostScaling(o,e,i,n,r);Number.isFinite(c)?s=o+1:a=o}return s};window.LinearCostScaling=class{constructor(e,i,n,r=Number.MAX_SAFE_INTEGER,a=!1){a?this._purchases=Math.clampMax(Math.floor(e.div(i).log10()/Math.log10(n)+1),r):this._purchases=Math.clampMax(Math.floor(e.mul(n-1).div(i).add(1).log10()/Math.log10(n)),r),this._totalCostMultiplier=Decimal.pow(n,this._purchases),a?this._totalCost=i.mul(Decimal.pow(n,this._purchases-1)):this._totalCost=i.mul(Decimal.sub(1,this._totalCostMultiplier)).div(1-n)}get purchases(){return this._purchases}get totalCostMultiplier(){return this._totalCostMultiplier}get totalCost(){return this._totalCost}};window.ExponentialCostScaling=class kp{constructor(e){if(this._baseCost=new Decimal(e.baseCost),this._baseIncrease=e.baseIncrease,typeof this._baseIncrease!="number")throw new Error("baseIncrease must be a number");if(this._costScale=e.costScale,typeof this._costScale!="number")throw new Error("costScale must be a number");if(this._logBaseCost=kp.log10(e.baseCost),this._logBaseIncrease=kp.log10(e.baseIncrease),this._logCostScale=kp.log10(e.costScale),e.purchasesBeforeScaling!==void 0)this._purchasesBeforeScaling=e.purchasesBeforeScaling;else if(e.scalingCostThreshold!==void 0)this._purchasesBeforeScaling=Math.ceil((kp.log10(e.scalingCostThreshold)-this._logBaseCost)/this._logBaseIncrease);else throw new Error("Must specify either scalingCostThreshold or purchasesBeforeScaling");this.updateCostScale()}get costScale(){return this._costScale}set costScale(e){this._logCostScale=kp.log10(e),this._costScale=e,this.updateCostScale()}updateCostScale(){this._precalcDiscriminant=Math.pow(2*this._logBaseIncrease+this._logCostScale,2)-8*this._logCostScale*(this._purchasesBeforeScaling*this._logBaseIncrease+this._logBaseCost),this._precalcCenter=-this._logBaseIncrease/this._logCostScale+this._purchasesBeforeScaling+.5}calculateCost(e){const i=this._logBaseIncrease,n=this._logBaseCost,r=e-this._purchasesBeforeScaling,a=r>0?e*i+n+.5*r*(r+1)*this._logCostScale:e*i+n;return DC.E1.pow(a)}getMaxBought(e,i,n){const a=i.div(n).log10(),s=this._logBaseIncrease,o=this._logBaseCost;let c=Math.floor(1+(a-o)/s);if(c>this._purchasesBeforeScaling){const p=this._precalcDiscriminant+8*this._logCostScale*a;if(p<0)return null;c=Math.floor(this._precalcCenter+Math.sqrt(p)/(2*this._logCostScale))}if(c<=e)return null;let d;if(c<=this._purchasesBeforeScaling+1)d=(c-1)*s+o;else{const p=c-this._purchasesBeforeScaling;d=(c-1)*s+o+.5*p*(p-1)*this._logCostScale}return{quantity:c-e,logPrice:d+Math.log10(n)}}getContinuumValue(e,i){const r=e.div(i).log10(),a=this._logBaseIncrease,s=this._logBaseCost;let o=1+(r-s)/a;if(o>this._purchasesBeforeScaling){const c=this._precalcDiscriminant+8*this._logCostScale*r;if(c<0)return 0;o=this._precalcCenter+Math.sqrt(c)/(2*this._logCostScale)}return Math.clampMin(o,0)}static log10(e){return e instanceof Decimal?e.log10():Math.log10(e)}};window.productLog=function(e){let i=e,n=0;do n=i,i-=1-(1+e*Math.exp(-i))/(1+i);while(Math.abs(i-n)>1e-6*i);return i};window.permutationIndex=function(e,i){let n=1;for(let c=1;c<=e;c++)n*=c;let r=i%n,a=n/e;const s=Array.range(0,e),o=[];for(;s.length>0;){const c=Math.floor(r/a),d=r%a;o.push(s.splice(c,1)[0]),r=d,a/=s.length}return o};window.getHybridCostScaling=function(e,i,n,r,a,s,o,c){const d=getCostWithLinearCostScaling(e,i,n,r,a);if(Number.isFinite(d))return new Decimal(d);const p=e-findFirstInfiniteCostPurchase(i,n,r,a);return new ExponentialCostScaling({baseCost:s,baseIncrease:o,costScale:c,scalingCostThreshold:Number.MAX_VALUE}).calculateCost(p)};window.logFactorial=function(){const t=Array.range(1,11).map(Math.log),e=[0];for(const i of t)e.push(e[e.length-1]+i);return i=>typeof i!="number"||i<0?NaN:i<e.length?e[i]:BY(i+1)}();window.exp1m=function(t){return t.abs().gte(.001)?t.exp().minus(1):t.plus(t.pow(2).div(2)).plus(t.pow(3).div(6)).plus(t.pow(4).div(24)).plus(t.pow(5).div(120))};window.xorshift32Update=function(e){return e^=e<<13,e^=e>>>17,e^=e<<5,e};window.fastRandom=function(){let t=Math.floor(Date.now())%Math.pow(2,32);const e=1/Math.pow(2,32);return()=>(t=xorshift32Update(t),t*e+.5)}();window.normalDistribution=function(){let t=!1,e=0;return(i,n)=>{if(typeof i!="number"||typeof n!="number")return NaN;if(t)return t=!1,i+n*e;let r,a,s;do a=fastRandom()*2-1,s=fastRandom()*2-1,r=a*a+s*s;while(r>=1||r===0);const o=Math.sqrt(-2*Math.log(r)/r);return t=!0,e=s*o,i+n*a*o}}();window.binomialGeneratorFC=function(){const t=i=>-.08106146679532726+(i+.5)*Math.log1p(i)-i,e=Array.range(0,20).map(i=>logFactorial(i)-t(i));return i=>{if(typeof i!="number"||i<0)return NaN;if(i<e.length)return e[i];const n=1/(i+1);return(1/12-(1/360-n*n/1260)*(n*n))*n}}();window.binomialDistributionSmallExpected=function(e,i){const n=i/(1-i),r=(e+1)*n;let a=Math.exp(Math.log1p(-i)*e);const s=fastRandom();let o=a,c=0;for(;s>o&&(++c,a*=r/c-n,o+a!==o);)o+=a;return c};window.binomialDistribution=function t(e,i){if(i===0)return 0;if(e instanceof Decimal){if(e.e<308){const s=typeof i=="number"?i:i.toNumber();return new Decimal(t(e.toNumber(),s))}const a=e.times(i);return a.e>32?a:new Decimal(poissonDistribution(e.times(i)))}const n=e*i;if(n<15)return binomialDistributionSmallExpected(e,i);if(i>.5)return e-t(e,1-i);if(n>1e32)return n;const r=n*(1-i);return r>1e4?Math.round(normalDistribution(n,Math.sqrt(r))):binomialDistributionBTRD(e,i)};window.poissonDistribution=function t(e){return e===0?0:e instanceof Decimal?e.e>32?e:new Decimal(t(e.toNumber())):e>1e32?e:e>1e4?poissonDistributionViaNormal(e):e<20?poissonDistributionSmallExpected(e):poissonDistributionPTRD(e)};window.poissonDistributionViaNormal=function(e){const i=normalDistribution(Math.sqrt(e),.5);return Math.floor(i*i)};window.poissonDistributionSmallExpected=function(e){let i=Math.exp(-e),n=i;const r=fastRandom();let a=0;for(;r>n&&(++a,i*=e/a,n+i!==n);)n+=i;return a};window.binomialDistributionBTRD=function(e,i){const n=e*i,r=n*(1-i),a=Math.sqrt(r),s=Math.floor(n+i),o=i/(1-i),c=(e+1)*o,d=1.15+2.53*a,p=-.0873+.0248*d+.01*i,m=n+.5,y=(2.83+5.1/d)*a,_=.43,w=.92-4.2/d;for(;;){let C=fastRandom();if(C<=2*_*w){const L=C/w-_;return Math.floor((2*p/(.5-Math.abs(L))+d)*L+m)}let k;if(C>=w)k=fastRandom()-.5;else{const L=C/w-.93;C=fastRandom()*w,k=(L>0?.5:-.5)-L}const S=.5-Math.abs(k),x=Math.floor((2*p/S+d)*k+m);if(x<0||x>e)continue;C*=y/(p/(S*S)+d);const O=Math.abs(x-s);if(O<=40){let L=1;if(s<x)for(let W=s+1;W<=x;++W)L*=c/W-o;else if(s>x)for(let W=x+1;W<=s;++W)C*=c/W-o;if(C<=L)return x;continue}const D=O/r*(((O/3+.625)*O+1/6)/r+.5),B=-O*O/(2*r),P=Math.log(C);if(P<B-D)return x;if(P>B+D)continue;const R=e-s+1,I=e-x+1,F=(s+.5)*Math.log((s+1)/(o*R))+binomialGeneratorFC(s)+binomialGeneratorFC(e-s),$=(e+1)*Math.log(R/I)+(x+.5)*Math.log(I*o/(x+1))-binomialGeneratorFC(x)-binomialGeneratorFC(e-x);if(P<=F+$)return x}};window.poissonDistributionPTRD=function(e){const i=Math.sqrt(e),n=.931+2.53*i,r=-.059+.02483*n,a=1.1239+1.328/(n-3.4),s=.9277-3.6224/(n-2);for(;;){let o=Math.random();if(o<.86*s){const y=o/s-.43;return Math.floor((2*r/(.5-Math.abs(y))+n)*y+e+.445)}let c;if(o>=s)c=fastRandom()-.5;else{const y=o/s-.93;c=(y>0?.5:-.5)-y,o=fastRandom()*s}const d=.5-Math.abs(c);if(d<.013&&d<o)continue;const p=Math.floor((2*r/d+n)*c+e+.445);o*=a/(r/d/d+n);const m=1/p;if(p>=10){const y=(p+.5)*Math.log(e*m)-e-LN_SQRT_2_PI+p-(.08333333333333333-m*m/360)*m;if(Math.log(o*i)<=y)return p}else if(Math.log(o)<=p*Math.log(e)-e-logFactorial(p))return p}};window.depressedCubicRealRoots=function(e,i,n){if(e===0)return i===0?[]:[-n/i];if(i/=e,n/=e,n===0){if(i===0)return[0];if(i>0)return[];const o=Math.sqrt(-i);return[o,-o]}if(i===0)return[Math.cbrt(-n)];let r=.25*n*n+i*i*i/27;if(r>=0)return r=Math.sqrt(r),[Math.cbrt(-.5*n+r)+Math.cbrt(-.5*n-r)];const a=2*Math.sqrt(-i/3),s=Math.acos(3*n/(i*a))/3;return[a*Math.cos(s),a*Math.cos(s-2*Math.PI/3),a*Math.cos(s-4*Math.PI/3)]};window.quadraticRealRoots=function(e,i,n){if(e===0)return i===0?[]:[-n/i];if(i===0){const s=n/e;return s>0?[]:[Math.sqrt(-s),-Math.sqrt(-s)]}const r=i*i-4*e*n;if(r<0)return[];if(r===0)return[-i/(2*e)];const a=-i-Math.sign(i)*Math.sqrt(r);return[a/(2*e),2*n/a]};window.cubicRealRoots=function(e,i,n,r){if(e===0)return quadraticRealRoots(i,n,r);if(i===0)return depressedCubicRealRoots(e,n,r);const a=i/(3*e),s=a*a,o=n/e,c=o-3*s,d=2*a*s-a*o+r/e;return depressedCubicRealRoots(1,c,d).map(m=>m-a)};window.testCRR=function(e,i,n,r){const a=cubicRealRoots(e,i,n,r);console.log(a),console.log(a.map(s=>r+s*(n+s*(i+s*e))))};window.depressedQuarticRealRoots=function(e,i,n,r){if(e===0)return quadraticRealRoots(i,n,r);if(r===0){const y=depressedCubicRealRoots(e,i,n);return y.includes(0)||y.push(0),y}if(n===0){const y=quadraticRealRoots(e,i,r),_=[];for(const w of y)w<0||(w===0?_.push(0):_.push(Math.sqrt(w),-Math.sqrt(w)));return _}i/=e,n/=e,r/=e;const s=cubicRealRoots(8,8*i,2*i*i-8*r,-n*n).max();if(s<=0)return[];const o=Math.sqrt(2*s),c=2*n/o,d=-(2*i+2*s+c),p=[];d>0?p.push(.5*(o+Math.sqrt(d)),.5*(o-Math.sqrt(d))):d===0&&p.push(.5*o);const m=-(2*i+2*s-c);return m>0?p.push(.5*(-o+Math.sqrt(m)),.5*(-o-Math.sqrt(m))):m===0&&p.push(-.5*o),p};window.testDQRR=function(e,i,n,r){const a=depressedQuarticRealRoots(e,i,n,r);console.log(a),console.log(a.map(s=>r+s*(n+s*(i+s*s*e))))};window.solveSimpleBiquadratic=function(e,i,n,r,a,s){const o=[];if(e===0){if(i===0||a===0)return[];const m=-n/i;return r===0?[{x:-s/a,y:m}]:[{x:(-s-r*m*m)/a,y:m}]}if(r===0){if(i===0||a===0)return[];const m=-s/a;return[{x:m,y:(-n-e*m*m)/i}]}if(i===0){const m=quadraticRealRoots(e,0,n);for(const y of m){const _=s+a*y,w=quadraticRealRoots(r,0,_);for(const C of w)o.push({x:y,y:C})}return o}if(a===0){const m=quadraticRealRoots(r,0,s);for(const y of m){const _=n+i*y,w=quadraticRealRoots(e,0,_);for(const C of w)o.push({x:C,y})}return o}const c=e/i,d=n/i,p=depressedQuarticRealRoots(r*c*c,2*r*c*d,a,s+r*d*d);for(const m of p)o.push({x:m,y:-(c*m*m+d)});return o};window.testSSBQ=function(e,i,n,r,a,s){console.log({A:e,B:i,C:n,D:r,E:a,F:s});const o=solveSimpleBiquadratic(e,i,n,r,a,s);for(const c of o){const d=e*c.x*c.x+i*c.y+n,p=r*c.y*c.y+a*c.x+s;console.log(`${c.x} ${c.y} ${d} ${p}`)}};window.AffineTransform=class Hs{constructor(e=1,i=0,n=0,r=1,a=0,s=0){this.a00=e,this.a01=i,this.a10=n,this.a11=r,this.o0=a,this.o1=s}times(e){if(e instanceof Hs)return new Hs(this.a00*e.a00+this.a01*e.a10,this.a00*e.a01+this.a01*e.a11,this.a10*e.a00+this.a11*e.a10,this.a10*e.a01+this.a11*e.a11,this.a00*e.o0+this.a01*e.o1+this.o0,this.a10*e.o0+this.a11*e.o1+this.o1);if(e instanceof Vector)return e.transformedBy(this);throw new Error("unsupported operation")}translated(e,i=void 0){return e instanceof Vector?new Hs(this.a00,this.a01,this.a10,this.a11,this.o0+e.x,this.o1+e.y):new Hs(this.a00,this.a01,this.a10,this.a11,this.o0+e,this.o1+i)}rotated(e){return Hs.rotation(e).times(this)}scaled(e){return Hs.scale(e).times(this)}get withoutTranslation(){return new Hs(this.a00,this.a01,this.a10,this.a11)}static translation(e,i){return e instanceof Vector?new Hs(1,0,0,1,e.x,e.y):new Hs(1,0,0,1,e,i)}static rotation(e){const i=Math.cos(e),n=Math.sin(e);return new Hs(i,-n,n,i)}static scale(e){return new Hs(e,0,0,e)}static identity(){return new Hs}};window.Vector=class ls{constructor(e,i){this.x=e,this.y=i}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}plus(e){return new ls(this.x+e.x,this.y+e.y)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}minus(e){return new ls(this.x-e.x,this.y-e.y)}times(e){return new ls(this.x*e,this.y*e)}asTranslate(){return`translate(${this.x}, ${this.y})`}asRotate(){return`rotate(${180/Math.PI*Math.atan2(this.y,this.x)})`}toString(){return`${this.x}, ${this.y}`}round(e){return new ls(Math.round(this.x*e)/e,Math.round(this.y*e)/e)}get copy(){return new ls(this.x,this.y)}matrixTransform(e,i,n,r){return new ls(e*this.x+i*this.y,n*this.x+r*this.y)}transformedBy(e){return new ls(e.a00*this.x+e.a01*this.y+e.o0,e.a10*this.x+e.a11*this.y+e.o1)}get negative(){return new ls(-this.x,-this.y)}get normalized(){return this.times(1/this.length)}get right90(){return new ls(this.y,-this.x)}get left90(){return new ls(-this.y,this.x)}get angle(){return Math.atan2(this.y,this.x)}static horiz(e){return new ls(e,0)}static unitFromRadians(e){return new ls(Math.cos(e),Math.sin(e))}static unitFromDegrees(e){return ls.unitFromRadians(e*Math.PI/180)}};window.Curve=class{position(){throw new NotImplementedError}derivative(){throw new NotImplementedError}secondDerivative(){throw new NotImplementedError}curvature(e){const i=this.derivative(e),n=this.secondDerivative(e),r=i.length;return i.cross(n)/(r*r*r)}shapeAt(e){const i=this.derivative(e);return{t:e,position:this.position(e),derivative:i,direction:i.normalized,curvature:this.curvature(e)}}minimumDistanceTo(e,i,n){let r=.5*(i+n);const a=Math.max(Math.abs(n),Math.abs(i))*Number.EPSILON*16;for(let s=0;;++s){const o=this.position(r),c=this.derivative(r),d=this.secondDerivative(r),p=o.minus(e),m=p.length,y=p.dot(c)*2;y>0?n=r:i=r;const _=(p.dot(d)+c.dot(c))*2,w=_<0?-m/y:-y/_;if(Math.abs(w)<a||s>=16)return m;r=Math.clamp(r+w,i,n)}}};window.LinearPath=class Sp extends Curve{constructor(e,i){super(),this.p0=e.copy,this.p1=i.copy}position(e){return this.p0.times(1-e).plus(this.p1.times(e))}derivative(){return this.p1.minus(this.p0)}secondDerivative(){return new Vector(0,0)}curvature(e){return 0}trimStart(e){const i=this.p1.minus(this.p0).normalized;return new Sp(this.p0.plus(i.times(e)),this.p1)}trimEnd(e){const i=this.p1.minus(this.p0).normalized;return new Sp(this.p0,this.p1.minus(i.times(e)))}transformed(e){return new Sp(this.p0.transformedBy(e),this.p1.transformedBy(e))}get relativeSVG(){const e=this.p1.minus(this.p0);return`l ${e.x} ${e.y}
`}createOffsetLine(e,i=0,n=1){const r=this.p1.minus(this.p0).normalized.right90.times(e);return new Sp(this.position(i).plus(r),this.position(n).plus(r))}static connectCircles(e,i,n,r){const a=n.minus(e).normalized;return new Sp(e.plus(a.times(i)),n.minus(a.times(r)))}};class Tg extends Curve{constructor(e,i,n,r){super(),this.p0=e.copy,this.p1=i.copy,this.p2=n.copy,this.p3=r.copy}position(e){const i=(1-e)*(1-e),n=e*e;return this.p0.times((1-e)*i).plus(this.p1.times(3*e*i)).plus(this.p2.times(3*n*(1-e))).plus(this.p3.times(n*e))}derivative(e){return this.p1.minus(this.p0).times(3*(1-e)*(1-e)).plus(this.p2.minus(this.p1).times(6*e*(1-e))).plus(this.p3.minus(this.p2).times(3*e*e))}secondDerivative(e){return this.p2.minus(this.p1.times(2)).plus(this.p0).times(6*(1-e)).plus(this.p3.minus(this.p2.times(2)).plus(this.p1).times(6*e))}transformed(e){return new Tg(this.p0.transformedBy(e),this.p1.transformedBy(e),this.p2.transformedBy(e),this.p3.transformedBy(e))}get relativeSVG(){const e=this.p1.minus(this.p0),i=this.p2.minus(this.p0),n=this.p3.minus(this.p0);return`c ${e.x} ${e.y} ${i.x} ${i.y} ${n.x} ${n.y}
`}get reverse(){return new Tg(this.p3,this.p2,this.p1,this.p0)}static fitCurveSection(e,i){const n=i.position.minus(e.position),r=e.t>i.t,a=e.direction.cross(i.direction);let s=solveSimpleBiquadratic(1.5*e.curvature,a,-e.direction.cross(n),1.5*i.curvature,a,i.direction.cross(n));return s=r?s.filter(o=>o.x<=0&&o.y<=0):s.filter(o=>o.x>=0&&o.y>=0),s.length===0?null:new Tg(e.position,e.position.plus(e.direction.times(s[0].x)),i.position.minus(i.direction.times(s[0].y)),i.position)}}window.OffsetCurve=class extends Curve{constructor(e,i){super(),this.base=e,this.offset=i}position(e){const i=this.base.position(e),n=this.base.derivative(e);return i.plus(n.normalized.right90.times(this.offset))}derivative(e){return this.base.derivative(e)}curvature(e){return 1/(1/this.base.curvature(e)+this.offset)}shapeAt(e){const i=this.base.shapeAt(e);return{t:i.t,position:i.position.plus(i.direction.right90.times(this.offset)),derivative:i.derivative,direction:i.direction,curvature:i.curvature/(1+this.offset*i.curvature)}}};window.LogarithmicSpiral=class XN extends Curve{constructor(e,i,n){super(),this.center=e,this.scale=i,this.rate=n}position(e){return Vector.unitFromRadians(e).times(this.scale*Math.exp(this.rate*e)).plus(this.center)}derivative(e){const i=Vector.unitFromRadians(e),n=this.scale*Math.exp(this.rate*e);return i.times(n*this.rate).plus(i.left90.times(n))}secondDerivative(e){const i=Vector.unitFromRadians(e),n=this.scale*Math.exp(this.rate*e);return i.times(n*(this.rate*this.rate-1)).plus(i.left90.times(2*n*this.rate))}shapeAt(e){const i=Vector.unitFromRadians(e),n=this.scale*Math.exp(this.rate*e),r=i.times(n),a=r.times(this.rate).plus(r.left90);return{t:e,position:r.plus(this.center),derivative:a,direction:a.normalized,curvature:1/(Math.abs(n)*Math.sqrt(1+this.rate*this.rate))}}angleFromRadius(e){return Math.log(e/this.scale)/this.rate}static fromPolarEndpoints(e,i,n,r,a){const s=Math.log(a/n)/(r-i);return new XN(e,n/Math.exp(s*i),s)}};window.PiecewisePath=class _C{constructor(e=void 0){this.path=e||[]}push(e){this.path.push(e)}transformedBy(e){return new _C(this.path.map(i=>i.transformed(e)))}toSVG(e){const i=this.path[0].position(0),n=[`${e} ${i.x} ${i.y}
`];for(const r of this.path)n.push(r.relativeSVG);return n.join("")}static cubicBezierFitToCurveSection(e,i,n,r=1,a=1){const s=new _C,o=e.shapeAt(i),c=e.shapeAt(n);function d(m,y,_=8){const w=e.shapeAt(.5*(m.t+y.t));return p(m,w,_-1)&&p(w,y,_-1)}function p(m,y,_=8){const w=Tg.fitCurveSection(m,y);if(w===null){if(_<=0)throw new Error("coulnd't decompose curve");return d(m,y,_)}const C=.5*(m.t+y.t);return w.minimumDistanceTo(e.position(C),0,1)>r?d(m,y,_):(s.push(w),!0)}return a>1?d(o,c):p(o,c),s}};window.ExponentialMovingAverage=class{constructor(e=.02,i=5,n=3,r=.4){this.alpha=e,this.maxOutliers=i,this.highOutlierThreshold=n,this.lowOutlierThreshold=r,this.outliers=0,this._average=void 0}get average(){return this._average===void 0?0:this._average}addValue(e){if(this._average===void 0)this._average=e;else{this._average+=this.alpha*(e-this._average);const i=Math.abs(e),n=Math.abs(this._average),r=i>n*this.highOutlierThreshold,a=i<n*this.lowOutlierThreshold;r||a?(this.outliers++,this.outliers>=this.maxOutliers&&(this._average=e,this.outliers=0)):this.outliers=0}}};window.Async={_enabled:!0,get enabled(){return this._enabled},set enabled(t){this._enabled=t},runForTime(t,e,i){const n=i.batchSize||1,r=i.maxTime,a=Date.now();for(let s=e;s>0;){for(let o=0;o<Math.min(s,n);++o)t(s),--s;if(Date.now()-a>=r)return s}return 0},sleepPromise:t=>new Promise(e=>setTimeout(e,t)),run(t,e,i){if(this.enabled){this.enabled=!1;const n=this._run(t,e,i);return i.then?n.then(()=>{i.then(),this.enabled=!0}):n}for(let n=0;n<e;++n)t(n);i.then&&i.then()},async _run(t,e,i){i.progress||(i.progress={}),i.progress.maxIter=e,i.progress.remaining=this.runForTime(t,i.progress.maxIter,i);const n=i.sleepTime||1;if(i.progress.remaining){i.asyncEntry&&i.asyncEntry(i.progress.maxIter-i.progress.remaining);do await this.sleepPromise(n),i.progress.remaining=this.runForTime(t,i.progress.remaining,i),i.asyncProgress&&i.asyncProgress(i.progress.maxIter-i.progress.remaining);while(i.progress.remaining>0);i.asyncExit&&i.asyncExit()}}};window.EventHub=class ig{constructor(){this._handlers={}}on(e,i,n){let r=this._handlers[e];r===void 0&&(r=[],this._handlers[e]=r),r.push({fn:i,target:n})}offAll(e){for(const i of Object.keys(this._handlers))this._handlers[i]=this._handlers[i].filter(n=>n.target!==e)}dispatch(e,i){const n=this._handlers[e];if(n!==void 0)for(const r of n)r.fn(i)}static dispatch(e,...i){ig.logic.dispatch(e,i),GameUI.dispatch(e,i)}static get stats(){function e(i){return Object.values(i._handlers).map(n=>n.length).sum()}return`UI(UPDATE/Total): ${ig.ui._handlers[GAME_EVENT.UPDATE].length}/${e(ig.ui)}; Logic(Total): ${e(ig.logic)}`}};EventHub.logic=new EventHub;EventHub.ui=new EventHub;window.GAME_EVENT={GAME_TICK_BEFORE:"GAME_TICK_BEFORE",GAME_TICK_AFTER:"GAME_TICK_AFTER",REPLICANTI_TICK_BEFORE:"REPLICANTI_TICK_BEFORE",REPLICANTI_TICK_AFTER:"REPLICANTI_TICK_AFTER",DIMBOOST_BEFORE:"DIMBOOST_BEFORE",DIMBOOST_AFTER:"DIMBOOST_AFTER",GALAXY_RESET_BEFORE:"GALAXY_RESET_BEFORE",GALAXY_RESET_AFTER:"GALAXY_RESET_AFTER",SACRIFICE_RESET_BEFORE:"SACRIFICE_RESET_BEFORE",SACRIFICE_RESET_AFTER:"SACRIFICE_RESET_AFTER",BIG_CRUNCH_BEFORE:"BIG_CRUNCH_BEFORE",BIG_CRUNCH_AFTER:"BIG_CRUNCH_AFTER",ETERNITY_RESET_BEFORE:"ETERNITY_RESET_BEFORE",ETERNITY_RESET_AFTER:"ETERNITY_RESET_AFTER",REALITY_RESET_BEFORE:"REALITY_RESET_BEFORE",REALITY_RESET_AFTER:"REALITY_RESET_AFTER",SINGULARITY_RESET_BEFORE:"SINGULARITY_RESET_BEFORE",SINGULARITY_RESET_AFTER:"SINGULARITY_RESET_AFTER",ARMAGEDDON_BEFORE:"ARMAGEDDON_BEFORE",ARMAGEDDON_AFTER:"ARMAGEDDON_AFTER",GLYPHS_EQUIPPED_CHANGED:"GLYPHS_EQUIPPED_CHANGED",GLYPHS_CHANGED:"GLYPHS_CHANGED",GLYPH_SACRIFICED:"GLYPH_SACRIFICED",GLYPH_SET_SAVE_CHANGE:"GLYPH_SET_SAVE_CHANGE",GLYPH_VISUAL_CHANGE:"GLYPH_VISUAL_CHANGE",BREAK_INFINITY:"BREAK_INFINITY",FIX_INFINITY:"FIX_INFINITY",INFINITY_DIMENSION_UNLOCKED:"INFINITY_DIMENSION_UNLOCKED",INFINITY_CHALLENGE_COMPLETED:"INFINITY_CHALLENGE_COMPLETED",INFINITY_UPGRADE_BOUGHT:"INFINITY_UPGRADE_BOUGHT",INFINITY_UPGRADE_CHARGED:"INFINITY_UPGRADE_CHARGED",INFINITY_UPGRADES_DISCHARGED:"INFINITY_UPGRADES_DISCHARGED",ACHIEVEMENT_UNLOCKED:"ACHIEVEMENT_UNLOCKED",CHALLENGE_FAILED:"CHALLENGE_FAILED",REALITY_UPGRADE_BOUGHT:"REALITY_UPGRADE_BOUGHT",REALITY_UPGRADE_TEN_BOUGHT:"REALITY_UPGRADE_TEN_BOUGHT",PERK_BOUGHT:"PERK_BOUGHT",BLACK_HOLE_UNLOCKED:"BLACK_HOLE_UNLOCKED",BLACK_HOLE_UPGRADE_BOUGHT:"BLACK_HOLE_UPGRADE_BOUGHT",GAME_LOAD:"GAME_LOAD",OFFLINE_CURRENCY_GAINED:"OFFLINE_CURRENCY_GAINED",SAVE_CONVERTED_FROM_PREVIOUS_VERSION:"SAVE_CONVERTED_FROM_PREVIOUS_VERSION",REALITY_FIRST_UNLOCKED:"REALITY_FIRST_UNLOCKED",AUTOMATOR_TYPE_CHANGED:"AUTOMATOR_TYPE_CHANGED",AUTOMATOR_SAVE_CHANGED:"AUTOMATOR_SAVE_CHANGED",AUTOMATOR_CONSTANT_CHANGED:"AUTOMATOR_CONSTANT_CHANGED",PELLE_STRIKE_UNLOCKED:"PELLE_STRIKE_UNLOCKED",ENTER_PRESSED:"ENTER_PRESSED",ARROW_KEY_PRESSED:"ARROW_KEY_PRESSED",UPDATE:"UPDATE",TAB_CHANGED:"TAB_CHANGED",CLOSE_MODAL:"CLOSE_MODAL"};class ng{constructor(e,i,n){if(e===void 0||this.isCustomEffect)return;const r=y=>typeof y=="function",a=y=>typeof y=="number",s=y=>y instanceof Decimal,o=y=>a(y)||s(y);if(!r(e)&&!o(e))throw new Error("Unknown effect value type.");const c=()=>({configurable:!1}),d=(y,_)=>{if(o(_))y.writable=!1,y.value=_;else if(r(_))y.get=_;else throw new Error("Unknown getter type.")};if(n!==void 0){if(!r(n))throw new Error("Effect condition must be a function.");const y=c();y.get=n,Object.defineProperty(this,"isEffectConditionSatisfied",y)}const p=c();if(d(p,e),Object.defineProperty(this,"uncappedEffectValue",p),i!==void 0){const y=c();d(y,i),Object.defineProperty(this,"cap",y)}const m=c();d(m,e),o(i)?a(e)?m.get=()=>Math.min(e,this.cap):s(e)?m.get=()=>Decimal.min(e,this.cap):r(e)&&(m.configurable=!0,m.get=()=>{const y=e(),_=c();if(a(y))_.get=()=>Math.min(e(),this.cap);else if(s(y))_.get=()=>Decimal.min(e(),this.cap);else throw new Error("Unknown effect value type.");return Object.defineProperty(this,"effectValue",_),_.get()}):r(i)&&(a(e)?m.get=()=>{const y=this.cap;return y===void 0?e:Math.min(e,y)}:s(e)?m.get=()=>{const y=this.cap;return y===void 0?e:Decimal.min(e,y)}:r(e)&&(m.configurable=!0,m.get=()=>{const y=e(),_=c();if(a(y))_.get=()=>{const w=this.cap;return w===void 0?e():Math.min(e(),w)};else if(s(y))_.get=()=>{const w=this.cap;return w===void 0?e():Decimal.min(e(),w)};else throw new Error("Unknown effect value type.");return Object.defineProperty(this,"effectValue",_),_.get()})),Object.defineProperty(this,"effectValue",m)}get effectValue(){throw new Error("Effect is undefined.")}get uncappedEffectValue(){throw new Error("Effect is undefined.")}get cap(){throw new Error("Cap is undefined.")}get isEffectConditionSatisfied(){return!0}get isEffectActive(){return!0}get canBeApplied(){return this.isEffectActive&&this.isEffectConditionSatisfied}effectOrDefault(e){return this.canBeApplied?this.effectValue:e}applyEffect(e){this.canBeApplied&&e(this.effectValue)}get isCustomEffect(){return!1}}const $Y={sum(...t){let e=0;return Hc(t,i=>e+=i),e},product(...t){let e=1;return Hc(t,i=>e*=i),e},last(t,...e){let i=t,n=!1;const r=e.filter(s=>s!=null).reverse(),a=s=>{i=s,n=!0};for(const s of r)if(s.applyEffect(a),n)break;return i},max(t,...e){let i=t;return Hc(e,n=>i=Math.max(i,n)),i},min(t,...e){let i=t;return Hc(e,n=>i=Math.min(i,n)),i}};Decimal.prototype.plusEffectOf=function(t){let e=this;return t.applyEffect(i=>e=e.plus(i)),e};Decimal.prototype.plusEffectsOf=function(...t){let e=this;return Hc(t,i=>e=e.plus(i)),e};Decimal.prototype.minusEffectOf=function(t){let e=this;return t.applyEffect(i=>e=e.minus(i)),e};Decimal.prototype.minusEffectsOf=function(...t){let e=this;return Hc(t,i=>e=e.minus(i)),e};Decimal.prototype.timesEffectOf=function(t){let e=this;return t.applyEffect(i=>e=e.times(i)),e};Decimal.prototype.timesEffectsOf=function(...t){let e=this.mantissa,i=this.exponent;return Hc(t,n=>{const r=typeof n=="number"?new Decimal(n):n;e*=r.mantissa,i+=r.exponent}),Decimal.fromMantissaExponent(e,i)};Decimal.prototype.dividedByEffectOf=function(t){let e=this;return t.applyEffect(i=>e=e.dividedBy(i)),e};Decimal.prototype.dividedByEffectsOf=function(...t){let e=this;return Hc(t,i=>e=e.dividedBy(i)),e};Decimal.prototype.powEffectOf=function(t){let e=this;return t.applyEffect(i=>e=e.pow(i)),e};Decimal.prototype.powEffectsOf=function(...t){let e=this;return Hc(t,i=>e=e.pow(i)),e};function Hc(t,e){for(const i of t)i!=null&&i.applyEffect(e)}class mn extends ng{constructor(e){if(!e)throw new Error("Must specify config for GameMechanicState");if(super(e.effect,e.cap,e.effectCondition),this._config=e,e.effects!==void 0){this.effects={};for(const i in e.effects){const n=e.effects[i];let r;typeof n=="number"||n instanceof Decimal?r=new ng(n):typeof n=="function"?r=new ng(e.effect?()=>n(this.effectValue):n):r=new ng(n.effect,n.cap,n.effectCondition),Object.defineProperty(r,"canBeApplied",{configurable:!1,get:()=>this.canBeApplied}),this.effects[i]=r}}}get config(){return this._config}get id(){return this.config.id}registerEvents(e,i){if(e!==void 0)for(const n of e instanceof Array?e:[e])EventHub.logic.on(n,i,this)}static createAccessor(e){const i=mapGameData(e,r=>new this(r)),n=r=>i[r];return n.index=i,n}}class Bd extends mn{constructor(e){if(super(e),this.id<0||this.id>31)throw new Error(`Id ${this.id} out of bit range`)}get bits(){throw new NotImplementedError}set bits(e){throw new NotImplementedError}get isUnlocked(){return!!(this.bits&1<<this.id)}get canBeApplied(){return this.isUnlocked&&this.isEffectActive}get canBeUnlocked(){return!this.isUnlocked}onUnlock(){}unlock(){this.canBeUnlocked&&(this.bits|=1<<this.id,this.onUnlock())}}class _S extends mn{get currency(){throw new NotImplementedError}get isAffordable(){return this.currency.gte(this.cost)}get isAvailableForPurchase(){return!0}get isRebuyable(){return!1}get cost(){return this.config.cost}get isBought(){throw new NotImplementedError}set isBought(e){throw new NotImplementedError}get canBeBought(){return!this.isBought&&this.isAffordable&&this.isAvailableForPurchase}purchase(){return this.canBeBought?(this.currency.subtract(this.cost),this.isBought=!0,this.onPurchased(),GameUI.update(),!0):!1}onPurchased(){}get isEffectActive(){return this.isBought}}class Df extends _S{get set(){throw new NotImplementedError}get isBought(){return this.set.has(this.id)}set isBought(e){e?this.set.add(this.id):this.set.delete(this.id)}}class wS extends _S{get bits(){throw new NotImplementedError}set bits(e){throw new NotImplementedError}get bitIndex(){throw new NotImplementedError}get isBought(){return(this.bits&1<<this.bitIndex)!==0}set isBought(e){e?this.bits|=1<<this.bitIndex:this.bits&=~(1<<this.bitIndex)}}class tu extends mn{get currency(){throw new NotImplementedError}get isAffordable(){return this.currency.gte(this.cost)}get cost(){return this.config.cost()}get isAvailableForPurchase(){return!0}get isCapped(){return!1}get isRebuyable(){return!0}get boughtAmount(){throw new NotImplementedError}set boughtAmount(e){throw new NotImplementedError}get isEffectActive(){return this.boughtAmount>0}get canBeBought(){return this.isAffordable&&this.isAvailableForPurchase&&!this.isCapped}purchase(){return!this.canBeBought||GameEnd.creditsEverClosed?!1:(this.currency.subtract(this.cost),this.boughtAmount++,this.onPurchased(),GameUI.update(),!0)}onPurchased(){}}const FY=Object.freeze(Object.defineProperty({__proto__:null,BitPurchasableMechanicState:wS,BitUpgradeState:Bd,Effect:ng,Effects:$Y,GameMechanicState:mn,PurchasableMechanicState:_S,RebuyableMechanicState:tu,SetPurchasableMechanicState:Df},Symbol.toStringTag,{value:"Module"})),Fe={activeDimCount(t){switch(t){case"AD":return Math.clamp(AntimatterDimensions.all.filter(e=>e.isProducing).length,1,EternityChallenge(7).isRunning?7:8);case"ID":return InfinityDimensions.all.filter(e=>e.isProducing).length;case"TD":return TimeDimensions.all.filter(e=>e.isProducing).length;default:throw new Error("Unrecognized Dimension type in Multiplier tab GameDB entry")}},globalGalaxyMult(){return Effects.product(InfinityUpgrade.galaxyBoost,InfinityUpgrade.galaxyBoost.chargedEffect,BreakInfinityUpgrade.galaxyBoost,TimeStudy(212),TimeStudy(232),Achievement(86),Achievement(178),InfinityChallenge(5).reward,PelleUpgrade.galaxyPower,PelleRifts.decay.milestones[1])*Pelle.specialGlyphEffect.power},decomposeTickspeed(){let t=effectiveBaseGalaxies();const e=this.globalGalaxyMult();let i,n;if(t<3){let o=1.1245;player.galaxies===1&&(o=1.11888888),player.galaxies===2&&(o=1.11267177),NormalChallenge(5).isRunning&&(o=1.08,player.galaxies===1&&(o=1.07632),player.galaxies===2&&(o=1.072)),o/=.965**2;const c=Math.log10(o),d=.02*e;t*=Pelle.specialGlyphEffect.power,n=Tickspeed.totalUpgrades*c,i=-Math.log10(Math.max(.01,1/o-t*d))/c}else{t-=2,t*=e,t*=getAdjustedGlyphEffect("realitygalaxies")*(1+ImaginaryUpgrade(9).effectOrDefault(0)),t*=Pelle.specialGlyphEffect.power;const o=.965**2/(NormalChallenge(5).isRunning?.83:.8),c=Math.log10(o),d=-DC.D0_965.log10();n=Tickspeed.totalUpgrades*c,i=1+t/c*d}i*=3;const r=DC.D1.dividedByEffectsOf(Achievement(36),Achievement(45),Achievement(66),Achievement(83));let a=r.log10()/Tickspeed.perSecond.log10();r.eq(1)&&(a=0),t===0&&(i=0);let s=(1-a)/(n+i);return Tickspeed.totalUpgrades===0&&(s=0),{base:a,tickspeed:n*s,galaxies:i*s}},achievementDimCheck(t,e){switch(t){case 23:return e==="AD8";case 28:case 31:case 68:case 71:return e==="AD1";case 94:return e==="ID1";case 34:return e.substr(0,2)==="AD"&&Number(e.charAt(2))!==8;case 64:return e.substr(0,2)==="AD"&&Number(e.charAt(2))<=4;default:return!0}},timeStudyDimCheck(t,e){switch(t){case 11:return e==="TD1";case 71:return e.substr(0,2)==="AD"&&Number(e.charAt(2))!==8;case 72:return e==="ID4";case 73:return e==="TD3";case 214:return e==="AD8";case 227:return e==="TD4";case 234:return e==="AD1";default:return!0}},ICDimCheck(t,e){switch(t){case 1:case 6:return e.substr(0,2)==="ID";case 3:case 4:return e.substr(0,2)==="AD";case 8:return e.substr(0,2)==="AD"&&Number(e.charAt(2))>1&&Number(e.charAt(2))<8;default:return!1}},ECDimCheck(t,e){switch(t){case 1:case 10:return e.substr(0,2)==="TD";case 2:return e==="ID1";case 4:case 9:return e.substr(0,2)==="ID";case 7:return e==="ID8";default:return!1}},blackHoleSpeeds(){const t=BlackHoles.list.filter(r=>r.isUnlocked).map(r=>r.isActive?r.power:1).reduce((r,a)=>r*a,1),e=BlackHole(1),i=BlackHole(2),n=1+(e.isUnlocked?e.dutyCycle*(e.power-1):0)+(i.isUnlocked?e.dutyCycle*i.dutyCycle*e.power*(i.power-1):0);return{current:t,average:n}},pluralizeDimensions(t){return t===1?"Dimension ":"Dimensions"},evenDimNC12Production(){const t=i=>[2,4,6].includes(i)?.1*(8-i):0,e=Math.clampMin(2*Math.floor(Fe.activeDimCount("AD")/2),2);return AntimatterDimensions.all.filter(i=>i.isProducing&&i.tier%2===0).map(i=>i.multiplier.times(i.amount.pow(t(i.tier)))).reduce((i,n)=>i.times(n),DC.D1).times(AntimatterDimension(e).totalAmount)},oddDimNC12Production(){const t=Math.clampMin(2*Math.floor(Fe.activeDimCount("AD")/2-.5)+1,1);return AntimatterDimensions.all.filter(e=>e.isProducing&&e.tier%2===1).map(e=>e.multiplier).reduce((e,i)=>e.times(i),DC.D1).times(AntimatterDimension(t).totalAmount)},actualNC12Production(){return Decimal.max(this.evenDimNC12Production(),this.oddDimNC12Production())},multInNC12(t){const e=n=>[2,4,6].includes(n)?.1*(8-n):0,i=AntimatterDimension(t);return i.isProducing?i.multiplier.times(i.totalAmount.pow(e(t))):DC.D1},isNC12ProducingEven(){return this.evenDimNC12Production().gt(this.oddDimNC12Production())}},HY={time:{id:"time",symbol:GLYPH_SYMBOLS.time,color:"#b241e3",primaryEffect:"timepow",alchemyResource:ALCHEMY_RESOURCE.TIME,hasRarity:!0},dilation:{id:"dilation",symbol:GLYPH_SYMBOLS.dilation,color:"#64dd17",alchemyResource:ALCHEMY_RESOURCE.DILATION,hasRarity:!0},replication:{id:"replication",symbol:GLYPH_SYMBOLS.replication,color:"#03a9f4",alchemyResource:ALCHEMY_RESOURCE.REPLICATION,hasRarity:!0},infinity:{id:"infinity",symbol:GLYPH_SYMBOLS.infinity,color:"#b67f33",primaryEffect:"infinitypow",alchemyResource:ALCHEMY_RESOURCE.INFINITY,hasRarity:!0},power:{id:"power",symbol:GLYPH_SYMBOLS.power,color:"#22aa48",primaryEffect:"powerpow",alchemyResource:ALCHEMY_RESOURCE.POWER,hasRarity:!0},effarig:{id:"effarig",symbol:GLYPH_SYMBOLS.effarig,color:"#e21717",isUnlocked:()=>EffarigUnlock.reality.isUnlocked,canCustomize:()=>EffarigUnlock.reality.isUnlocked,alchemyResource:ALCHEMY_RESOURCE.EFFARIG,hasRarity:!0},reality:{id:"reality",symbol:GLYPH_SYMBOLS.reality,fixedSymbolColor:!0,isUnlocked:()=>!1,canCustomize:()=>player.reality.glyphs.createdRealityGlyph,alchemyResource:ALCHEMY_RESOURCE.REALITY},cursed:{id:"cursed",symbol:GLYPH_SYMBOLS.cursed,color:"#000000",fixedSymbolColor:!0,isUnlocked:()=>!1,canCustomize:()=>V.isFlipped},companion:{id:"companion",symbol:GLYPH_SYMBOLS.companion,color:"#feaec9",fixedSymbolColor:!0,isUnlocked:()=>!1,canCustomize:()=>!1}},VY={music:{id:"music",symbol:"♫",color:"#FF80AB",isUnlocked:()=>TeresaUnlocks.shop.isUnlocked},blob:{id:"blob",symbol:"",color:"#E4B51A",preventBlur:!0,isUnlocked:()=>Themes.available().map(t=>t.name).includes("S11"),canCustomize:()=>!1}},_t={ANTIMATTER:"ANTIMATTER",INFINITY:"INFINITY",ETERNITY:"ETERNITY",DILATION:"DILATION",REALITY:"REALITY",AUTOMATION:"AUTOMATION",ACHIEVEMENT:"ACHIEVEMENT"},wC={firstPerk:{id:0,label:"START",family:_t.REALITY,get description(){return`Allow you to choose from ${formatInt(4)} different Glyphs on Reality.`},effect:4,layoutPosList:[76596,80200,80600,80200,80188,67769]},startAM:{id:10,label:"SAM",family:_t.ANTIMATTER,get description(){return`Start every reset with ${format(5e133)} antimatter.`},bumpCurrency:()=>Currency.antimatter.bumpTo(5e133),effect:5e133,layoutPosList:[76559,80600,80199,80600,82191,75745]},startIP1:{id:12,label:"SIP1",family:_t.INFINITY,get description(){return`Start every Eternity and Reality with ${format(5e18)} Infinity Points.`},bumpCurrency:()=>Currency.infinityPoints.bumpTo(5e18),effect:5e18,layoutPosList:[74523,80599,79798,80599,82594,91322]},startIP2:{id:13,label:"SIP2",family:_t.INFINITY,get description(){return`Start every Eternity and Reality with ${format(5e133)} Infinity Points.`},bumpCurrency:()=>Currency.infinityPoints.bumpTo(5e133),effect:5e133,layoutPosList:[62111,80598,79797,80998,82597,91690]},startEP1:{id:14,label:"SEP1",family:_t.ETERNITY,get description(){return`Start every Reality with ${formatInt(1e3)} Eternity Points.`},bumpCurrency:()=>Currency.eternityPoints.bumpTo(1e3),effect:1e3,automatorPoints:5,shortDescription:()=>`Start with ${formatInt(1e3)} EP`,layoutPosList:[88915,80999,79398,80598,82197,103734]},startEP2:{id:15,label:"SEP2",family:_t.ETERNITY,get description(){return`Start every Reality with ${format(5e6)} Eternity Points.`},bumpCurrency:()=>Currency.eternityPoints.bumpTo(5e6),effect:5e6,layoutPosList:[92484,81398,78998,80597,82200,102193]},startEP3:{id:16,label:"SEP3",family:_t.ETERNITY,get description(){return`Start every Reality with ${format(5e12)} Eternity Points.`},bumpCurrency:()=>Currency.eternityPoints.bumpTo(5e12),effect:5e12,automatorPoints:10,shortDescription:()=>`Start with ${format(5e12)} EP`,layoutPosList:[96459,81798,78997,80596,82203,106224]},startTP:{id:17,label:"STP",family:_t.DILATION,get description(){return`After unlocking Dilation, gain ${formatInt(1e4)} Tachyon Particles.`},effect:()=>Enslaved.isRunning?1e3:1e4,automatorPoints:5,shortDescription:()=>`Start with ${formatInt(1e4)} TP`,layoutPosList:[102120,81399,79399,80197,81800,109376]},antimatterNoReset:{id:30,label:"ANR",family:_t.ANTIMATTER,description:`Dimension Boosts and Antimatter Galaxies no longer reset
      Antimatter, Antimatter Dimensions, Tickspeed, or Dimensional Sacrifice.`,layoutPosList:[85343,81e3,79799,80199,82194,92553]},studyPassive:{id:31,label:"PASS",family:_t.ETERNITY,get description(){return`Improve Time Study 122 to ${formatX(50)} Eternity Points and
        Time Study 142 to ${formatX(DC.E50)} Infinity Points.
        ${Pelle.isDoomed?"":`In addition, Time Study 132 also makes Replicanti ${format(3)} times faster.`}`},layoutPosList:[67054,79400,80999,80202,78594,52589]},autounlockEU1:{id:40,label:"EU1",family:_t.ETERNITY,description:"Automatically unlock the first row of Eternity Upgrades for free once you have Eternities.",layoutPosList:[89407,80601,80201,79800,80591,73007]},autounlockEU2:{id:41,label:"EU2",family:_t.ETERNITY,get description(){return`The second row of Eternity Upgrades is automatically purchased
        at ${formatX(1e10)} times less than their original price.`},layoutPosList:[103008,81001,80202,79400,80594,81867]},autounlockDilation1:{id:42,label:"DU1",family:_t.DILATION,description:"After unlocking Dilation, automatically unlock the second row of Dilation Upgrades for free.",layoutPosList:[119833,81801,79403,79398,80200,97510]},autounlockDilation2:{id:43,label:"DU2",family:_t.DILATION,description:"After unlocking Dilation, automatically unlock the third row of Dilation Upgrades for free.",layoutPosList:[124260,82201,79003,79397,80203,85513]},autounlockDilation3:{id:44,label:"ATT",family:_t.DILATION,description:"Automatically purchase the passive Time Theorem generation Dilation Upgrade once you can afford it.",automatorPoints:5,shortDescription:()=>"Auto-purchase TT generation",layoutPosList:[124289,82601,79002,79396,80206,72282]},autounlockTD:{id:45,label:"ATD",family:_t.DILATION,description:"Auto-unlock Time Dimensions 5-8 once you can afford them.",automatorPoints:5,shortDescription:()=>"Auto-unlock TD 5-8",layoutPosList:[127117,82600,79001,79796,80209,61869]},autounlockReality:{id:46,label:"REAL",family:_t.REALITY,get description(){return`Auto-unlocks Reality once you have ${format(DC.E4000)} Eternity Points
        and have unlocked Time Dimension 8.`},automatorPoints:10,shortDescription:()=>"Auto-unlock Reality",layoutPosList:[124343,83e3,79e3,79795,80212,71046]},bypassIDAntimatter:{id:51,label:"IDR",family:_t.INFINITY,description:"Infinity Dimensions no longer have antimatter requirements.",layoutPosList:[51317,80998,79397,80997,82600,104489]},bypassTGReset:{id:52,label:"TGR",family:_t.DILATION,description:"The 2nd rebuyable Dilation Upgrade no longer resets your Dilated Time.",layoutPosList:[116568,81800,79801,79798,81400,112677]},bypassECDilation:{id:53,label:"DILR",family:_t.DILATION,description:"Remove the Eternity Challenge 11, Eternity Challenge 12, and total Time Theorem requirements from Time Dilation unlock.",automatorPoints:5,shortDescription:()=>"Unlocking Dilation only requires TT",layoutPosList:[129011,81802,80203,80198,80600,109116]},bypassEC1Lock:{id:54,label:"EC1R",family:_t.ETERNITY,description:"Remove the Eternity Challenge 1 requirement from Time Study 181.",layoutPosList:[64284,79e3,81399,80603,78597,44167]},bypassEC2Lock:{id:55,label:"EC2R",family:_t.ETERNITY,description:"Remove the Eternity Challenge 2 requirement from Time Study 181.",layoutPosList:[55463,78999,80998,80602,78197,48944]},bypassEC3Lock:{id:56,label:"EC3R",family:_t.ETERNITY,description:"Remove the Eternity Challenge 3 requirement from Time Study 181.",layoutPosList:[75475,79001,81400,80203,78997,47822]},bypassEC5Lock:{id:57,label:"EC5R",family:_t.ETERNITY,description:"Remove the Eternity Challenge 5 requirement from Time Study 62.",layoutPosList:[70626,79800,81e3,80201,78591,62607]},autocompleteEC1:{id:60,label:"PEC1",family:_t.AUTOMATION,get description(){return`Auto-complete one Eternity Challenge every ${format(3.6,0,1)} seconds (real-time).
              ECs will be completed sequentially, requiring all previous
              ECs to be fully completed before progressing to the next EC.`},effect:.06,automatorPoints:5,shortDescription:()=>`Auto-complete ECs every ${format(3.6,0,1)} seconds`,layoutPosList:[90660,79402,81002,79803,79397,46664]},autocompleteEC2:{id:61,label:"PEC2",family:_t.AUTOMATION,get description(){return`Auto-complete one Eternity Challenge every ${format(2.4,0,1)} seconds (real-time).
        (${format(1.2,0,1)} second decrease)`},effect:.04,layoutPosList:[95485,79002,81402,79804,79400,53486]},autocompleteEC3:{id:62,label:"PEC3",family:_t.AUTOMATION,get description(){return`Auto-complete one Eternity Challenge every ${format(1.2,0,1)} seconds (real-time).
        (${format(1.2,0,1)} second decrease)`},effect:.02,automatorPoints:10,shortDescription:()=>`Auto-complete ECs every ${format(1.2,0,1)} minutes`,layoutPosList:[96311,78602,81401,80204,79403,61903]},studyActiveEP:{id:70,label:"ACT",family:_t.ETERNITY,description:"Active path multipliers are always maximized.",layoutPosList:[56633,79399,80599,80601,78194,58565]},studyIdleEP:{id:71,label:"IDL",family:_t.ETERNITY,get description(){return`Idle path multipliers start as if you have spent ${formatInt(15)} minutes in this Infinity/Eternity.`},effect:15,layoutPosList:[80248,79401,81001,79802,78994,56239]},studyECRequirement:{id:72,label:"ECR",family:_t.ETERNITY,description:"Remove non-Time Theorem requirements for unlocking Eternity Challenges.",automatorPoints:10,shortDescription:()=>"Remove EC secondary requirements",layoutPosList:[62714,78600,81398,80604,78600,40599]},studyECBulk:{id:73,label:"ECB",family:_t.ETERNITY,description:`You can complete multiple tiers of Eternity Challenges at once if
      you reach the goal for a higher completion of that challenge.`,automatorPoints:15,shortDescription:()=>"Bulk EC Completion",layoutPosList:[62741,78200,81397,81004,78603,41435]},retroactiveTP1:{id:80,label:"TP1",family:_t.DILATION,get description(){return`When buying the 3rd rebuyable Dilation Upgrade,
        multiply your current Tachyon Particle amount by ${formatFloat(1.5,1)}.`},effect:1.5,layoutPosList:[111739,81799,79800,79797,81403,115434]},retroactiveTP2:{id:81,label:"TP2",family:_t.DILATION,get description(){return`When buying the 3rd rebuyable Dilation Upgrade,
        multiply your current Tachyon Particle amount by ${formatInt(2)}.`},effect:2,layoutPosList:[103757,82199,79401,80196,81406,117382]},retroactiveTP3:{id:82,label:"TP3",family:_t.DILATION,get description(){return`When buying the 3rd rebuyable Dilation Upgrade,
        multiply your current Tachyon Particle amount by ${formatFloat(2.5,1)}.`},effect:2.5,layoutPosList:[96175,82599,79400,80195,81409,116540]},retroactiveTP4:{id:83,label:"TP4",family:_t.DILATION,get description(){return`When buying the 3rd rebuyable Dilation Upgrade,
        multiply your current Tachyon Particle amount by ${formatInt(3)}.`},effect:3,automatorPoints:10,shortDescription:()=>`${formatX(3)} TP upgrade applies retroactively`,layoutPosList:[86984,82598,78999,80595,81412,114103]},autobuyerDilation:{id:100,label:"DAU",family:_t.AUTOMATION,description:"Unlock autobuyers for the repeatable Dilation Upgrades.",automatorPoints:5,shortDescription:()=>"Dilation Upgrade Autobuyers",layoutPosList:[117401,81401,79802,79799,80597,96672]},autobuyerFasterID:{id:101,label:"IDAS",family:_t.AUTOMATION,get description(){return`Infinity Dimension autobuyers work ${formatX(9)} faster.`},effect:1/9,automatorPoints:5,shortDescription:()=>"Faster ID Autobuyers",layoutPosList:[74095,80199,80198,81e3,82997,77720]},autobuyerFasterReplicanti:{id:102,label:"REPAS",family:_t.AUTOMATION,get description(){return`Replicanti autobuyers work ${formatX(9)} faster.`},effect:1/9,automatorPoints:5,shortDescription:()=>"Faster Replicanti Autobuyers",layoutPosList:[57685,80198,80197,80999,83e3,79297]},autobuyerFasterDilation:{id:103,label:"DAS",family:_t.AUTOMATION,get description(){return`Dilation Upgrade autobuyers work ${formatX(9)} faster.`},effect:1/9,automatorPoints:5,shortDescription:()=>"Faster Dilation Autobuyers",layoutPosList:[113895,82602,79402,79395,80609,72715]},ttBuySingle:{id:104,label:"TTS",family:_t.AUTOMATION,description:"Unlock a Time Theorem Autobuyer which buys single Time Theorems every tick.",automatorPoints:5,shortDescription:()=>"Single TT Autobuyer",layoutPosList:[44631,79398,80598,81001,77797,57325]},ttFree:{id:105,label:"TTF",family:_t.AUTOMATION,get description(){return"Purchasing Time Theorems no longer spends your Antimatter, Infinity Points, or Eternity Points."},layoutPosList:[33840,78998,80597,81002,77800,67309]},ttBuyMax:{id:106,label:"TTM",family:_t.AUTOMATION,get description(){return"Upgrade the Time Theorem Autobuyer to buy max Time Theorems."},automatorPoints:10,shortDescription:()=>"Max TT Autobuyer",layoutPosList:[25055,78598,80997,81003,77803,65739]},dilationAutobuyerBulk:{id:107,label:"DAB",family:_t.AUTOMATION,get description(){return"Dilation Upgrade autobuyers buy nine times as many Dilation Upgrades at once."},effect:9,automatorPoints:5,shortDescription:()=>"Dilation Autobuyer bulk",layoutPosList:[127384,81400,79803,79399,81e3,103048]},achievementGroup1:{id:201,label:"ACH1",family:_t.ACHIEVEMENT,get description(){return`Reduce the Achievement timer to ${formatInt(20)} minutes per
        Achievement (${formatInt(10)} minute decrease).`},effect:10,automatorPoints:5,shortDescription:()=>`Faster Achievements: every ${formatInt(20)} minutes`,layoutPosList:[65386,80201,80601,79801,79791,81371]},achievementGroup2:{id:202,label:"ACH2",family:_t.ACHIEVEMENT,get description(){return`Reduce the Achievement timer to ${formatInt(12)} minutes per
        Achievement (${formatInt(8)} minute decrease).`},effect:8,layoutPosList:[54976,80202,80602,79401,79794,93780]},achievementGroup3:{id:203,label:"ACH3",family:_t.ACHIEVEMENT,get description(){return`Reduce the Achievement timer to ${formatInt(6)} minutes per
        Achievement (${formatInt(6)} minute decrease).`},effect:6,layoutPosList:[44168,80602,80603,79402,79797,83005]},achievementGroup4:{id:204,label:"ACH4",family:_t.ACHIEVEMENT,get description(){return`Reduce the Achievement timer to ${formatInt(2)} minutes per
        Achievement (${formatInt(4)} minute decrease).`},effect:4,layoutPosList:[33760,81002,81003,79403,79800,95422]},achievementGroup5:{id:205,label:"ACHNR",family:_t.ACHIEVEMENT,get description(){return`Immediately unlock the first ${formatInt(13)} rows of Achievements
        and Reality no longer resets them.`},automatorPoints:10,shortDescription:()=>"Keep Achievements on Reality",layoutPosList:[23353,81402,81403,79404,79803,84639]}},YY=function(){const t=wC,e=[[t.firstPerk,t.achievementGroup1,t.startAM,t.autounlockEU1,t.bypassEC5Lock],[t.startAM,t.antimatterNoReset,t.startIP1],[t.antimatterNoReset,t.startEP1],[t.startIP1,t.startIP2,t.startEP1,t.autobuyerFasterID],[t.startIP2,t.bypassIDAntimatter,t.autobuyerFasterReplicanti],[t.startEP1,t.startEP2,t.startTP],[t.startEP2,t.startEP3],[t.startTP,t.startEP1,t.retroactiveTP1],[t.autounlockEU1,t.autounlockEU2],[t.autounlockEU2,t.autounlockEU1,t.autobuyerDilation],[t.autounlockDilation1,t.autounlockDilation2],[t.autounlockDilation2,t.autounlockDilation3],[t.autounlockDilation3,t.autobuyerFasterDilation,t.autounlockTD],[t.autounlockTD,t.autounlockReality],[t.bypassTGReset,t.autobuyerDilation,t.retroactiveTP1],[t.bypassEC1Lock,t.bypassEC2Lock,t.bypassEC3Lock,t.studyECRequirement],[t.bypassEC2Lock,t.studyActiveEP,t.bypassEC1Lock],[t.bypassEC3Lock,t.studyIdleEP,t.bypassEC1Lock],[t.bypassEC5Lock,t.studyActiveEP,t.studyIdleEP,t.studyPassive],[t.studyPassive,t.bypassEC1Lock],[t.autocompleteEC1,t.autocompleteEC2],[t.autocompleteEC2,t.autocompleteEC3],[t.studyActiveEP,t.bypassEC2Lock,t.ttBuySingle],[t.studyIdleEP,t.bypassEC3Lock,t.autocompleteEC1],[t.studyECRequirement,t.studyECBulk],[t.retroactiveTP1,t.bypassTGReset,t.startTP,t.retroactiveTP2],[t.retroactiveTP2,t.retroactiveTP3],[t.retroactiveTP3,t.retroactiveTP4],[t.autobuyerDilation,t.autounlockEU2,t.autounlockDilation1,t.bypassECDilation,t.bypassTGReset,t.dilationAutobuyerBulk],[t.autobuyerFasterID],[t.ttBuySingle,t.ttFree],[t.ttFree,t.ttBuyMax],[t.achievementGroup1,t.achievementGroup2],[t.achievementGroup2,t.achievementGroup3],[t.achievementGroup3,t.achievementGroup4],[t.achievementGroup4,t.achievementGroup5]],i={};for(const n of Object.values(wC)){const r=[],a=e.find(o=>o[0]===n);a!==void 0&&r.push(...a.slice(1));const s=e.filter(o=>o.slice(1).some(c=>c===n)).map(o=>o[0]);r.push(...s),i[n.id]=[...new Set(r.map(o=>o.id))]}return i}();function X(t,e,i,n,r,a,s,o){var c=typeof t=="function"?t.options:t;return e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),a&&(c._scopeId="data-v-"+a),{exports:t,options:c}}const qY={name:"AutobuyerInput",props:{autobuyer:{type:Object,required:!0},property:{type:String,required:!0},type:{type:String,required:!0}},data(){return{isValid:!0,isFocused:!1,displayValue:"0"}},computed:{inputType(){return this.type==="int"?"number":"text"},typeFunctions(){const t=W_[this.type];if(t===void 0)throw new Error("Unknown autobuyer input type");return t},validityClass(){return this.isValid?void 0:"o-autobuyer-input--invalid"}},methods:{update(){this.isFocused||this.updateActualValue()},updateActualValue(){const t=this.autobuyer[this.property];this.areEqual(this.actualValue,t)||(this.actualValue=this.typeFunctions.copyValue(t),this.updateDisplayValue())},areEqual(t,e){return e===void 0||t===void 0?!1:this.typeFunctions.areEqual(t,e)},updateDisplayValue(){this.displayValue=this.typeFunctions.formatValue(this.actualValue)},handleInput(t){const e=t.target.value;if(this.displayValue=e,e.length===0){this.isValid=!1;return}const i=this.typeFunctions.tryParse(e);this.isValid=i!==void 0,this.actualValue=this.typeFunctions.copyValue(i)},handleFocus(){this.isFocused=!0},handleChange(t){this.displayValue==="69"&&SecretAchievement(28).unlock(),this.isValid?this.autobuyer[this.property]=this.typeFunctions.copyValue(this.actualValue):this.updateActualValue(),this.updateDisplayValue(),this.isValid=!0,this.isFocused=!1,t.target.blur()}}},W_={decimal:{areEqual:(t,e)=>Decimal.eq(t,e),formatValue:t=>Notation.scientific.format(t,2,2),copyValue:t=>new Decimal(t),tryParse:t=>{if(t)try{let e;if(/^e\d*[.]?\d+$/u.test(t.replaceAll(",","")))e=Decimal.pow10(parseFloat(t.replaceAll(",","").slice(1)));else if(/^\d*[.]?\d+(e\d+)?$/u.test(t.replaceAll(",","")))e=Decimal.fromString(t.replaceAll(",",""));else if(/^\d*[.]?\d+(e\d*[.]?\d+)?$/u.test(t.replaceAll(",",""))){const i=/(?<mantissa>\d*[.]?\d+)e(?<exponent>\d*[.]?\d+)/u,n=t.replaceAll(",","").match(i);e=Decimal.pow10(Math.log10(Number(n.groups.mantissa))+Number(n.groups.exponent))}else return;return isNaN(e.mantissa)||isNaN(e.exponent)?void 0:e}catch{return}}},float:{areEqual:(t,e)=>t===e,formatValue:t=>t.toString(),copyValue:t=>t,tryParse:t=>{const e=parseFloat(t);return isNaN(e)?void 0:e}},int:{areEqual:(t,e)=>t===e,formatValue:t=>t.toString(),copyValue:t=>t,tryParse:t=>{if(!t||!/^\d+$/u.test(t.replaceAll(",","")))return;const e=parseInt(t,10);return isNaN(e)||!Number.isInteger(e)?void 0:e}}};var WY=function(){var e=this,i=e._self._c;return i("input",{staticClass:"o-autobuyer-input",class:e.validityClass,attrs:{type:e.inputType},domProps:{value:e.displayValue},on:{change:e.handleChange,focus:e.handleFocus,input:e.handleInput}})},jY=[],zY=X(qY,WY,jY,!1,null,"508218a0");const Nm=zY.exports,XY={paramTypes:[{name:"tree",isValidString:t=>{const e=TimeStudyTree.isValidImportString(t),i=t.match(/^(NAME (.{1,4})|ID (\d))$/u),n=i?player.timestudy.presets.some(r=>r.name===i[2])||Number(i[3])>0&&Number(i[3])<7:!1;return e||n}},{name:"integer",isValidString:t=>W_.int.tryParse(t),map:t=>Math.round(parseInt(t,10))},{name:"decimal",isValidString:t=>W_.decimal.tryParse(t),map:t=>W_.decimal.tryParse(t)},{name:"boolean",boolDisplay:[!0,!1]},{name:"nowait",boolDisplay:["Continue onward","Keep buying Studies"]},{name:"mode",boolDisplay:["X times highest","Seconds since last"],map:t=>t?"mult":"time"}],scripts:[{name:"Climb EP",description:`This script performs repeated Eternities, attempting to re-purchase a Time Study Tree every
        Eternity. Autobuyer settings must be supplied for the Infinity and Eternity Autobuyers. The script will
        repeat until a final Eternity Point value is reached.`,inputs:[{name:"treeStudies",type:"tree",prompt:"Or directly enter your time studies"},{name:"treeNowait",type:"nowait",prompt:"Missing Study behavior"},{name:"finalEP",type:"decimal",prompt:"Target EP"},{name:"autoInfMode",type:"mode",prompt:"Infinity Autobuyer Mode"},{name:"autoInfValue",type:"decimal",prompt:"Infinity Autobuyer Threshold"},{name:"autoEterMode",type:"mode",prompt:"Eternity Autobuyer Mode"},{name:"autoEterValue",type:"decimal",prompt:"Eternity Autobuyer Threshold"}],warnings:()=>{const t=[];return RealityUpgrade(10).isBought||t.push(`This script will be unable to properly set Autobuyer modes without at least ${formatInt(100)}
            Eternities. Consider getting Reality Upgrade "${RealityUpgrade(10).name}" before using this at the start
            of a Reality.`),RealityUpgrade(13).isBought||t.push(`This template may perform poorly without Reality Upgrade "${RealityUpgrade(13).name}"`),Perk.ttBuySingle.isBought||t.push(`This template may perform poorly without Perk "${Perk.ttBuySingle.label}" unless you can generate
            Time Theorems without purchsing them`),t}},{name:"Grind Eternities",description:`This script performs repeated fast Eternities after buying a specified Time Study Tree.
        Auto-Infinity will be set to "Times Highest" with a specified number of crunches and Auto-Eternity will
        trigger as soon as possible. The script will repeat until a final Eternity count is reached.`,inputs:[{name:"treeStudies",type:"tree",prompt:"Or directly enter your time studies"},{name:"treeNowait",type:"nowait",prompt:"Missing Study behavior"},{name:"crunchesPerEternity",type:"integer",prompt:"Crunches per Eternity"},{name:"eternities",type:"decimal",prompt:"Target Eternity Count"}],warnings:()=>{const t=[];return RealityUpgrade(14).isBought&&t.push(`You probably do not need to use this due to Reality Upgrade "${RealityUpgrade(14).name}"`),t}},{name:"Grind Infinities",description:`This script buys a specified Time Study Tree and then configures your Autobuyers for gaining
        Infinities. It will repeat until a final Infinity count is reached; the count can be for Banked Infinities,
        in which case it will get all Infinities before performing a single Eternity.`,inputs:[{name:"treeStudies",type:"tree",prompt:"Or directly enter your time studies"},{name:"treeNowait",type:"nowait",prompt:"Missing Study behavior"},{name:"infinities",type:"decimal",prompt:"Target Infinity Count"},{name:"isBanked",type:"boolean",prompt:"Use Banked for Target?"}],warnings:()=>{const t=[];return Perk.achievementGroup5.isBought||t.push(`You will not start this Reality with Achievement "${Achievement(131).name}" - grinding
            Infinities may be less useful than expected since they cannot be Banked until later`),RealityUpgrade(11).isBought&&t.push(`You probably do not need to use this due to Reality Upgrade "${RealityUpgrade(11).name}"`),t}},{name:"Complete Eternity Challenge",description:`This script buys a specified Time Study Tree and then unlocks a specified Eternity Challenge.
        Then it will set your Infinity Autobuyer to your specified settings and enter the Eternity Challenge.
        Finally, it will wait until at least the desired number of completions before triggering an Eternity to
        complete the Challenge.`,inputs:[{name:"treeStudies",type:"tree",prompt:"Or directly enter your time studies"},{name:"treeNowait",type:"nowait",prompt:"Missing Study behavior"},{name:"ec",type:"integer",prompt:"Eternity Challenge ID"},{name:"completions",type:"integer",prompt:"Target Completion Count"},{name:"autoInfMode",type:"mode",prompt:"Infinity Autobuyer Mode"},{name:"autoInfValue",type:"decimal",prompt:"Infinity Autobuyer Threshold"}],warnings:()=>{const t=[];return Perk.studyECRequirement.isBought||t.push(`Eternity Challenges may not be reliably unlockable due to secondary resource requirements, consider
            unlocking Perk "${Perk.studyECRequirement.label}" before using this template`),Perk.studyECBulk.isBought||t.push(`Using this template without bulk completions of Eternity Challenges may lead to long scripts which
            are slower and difficult to modify. If you use this template, consider returning to simplify your scripts
            after unlocking Perk "${Perk.studyECBulk.label}"`),t}},{name:"Unlock Dilation",description:`This script performs repeated Eternities, attempting to re-purchase a Time Study Tree every
        Eternity. Settings must be supplied for the Eternity Autobuyer; your Infinity Autobuyer will be
        turned off. The script loops until you have the total Time Theorem requirement to unlock Dilation, and then
        it will unlock Dilation once it does.`,inputs:[{name:"treeStudies",type:"tree",prompt:"Or directly enter your time studies"},{name:"treeNowait",type:"nowait",prompt:"Missing Study behavior"},{name:"finalEP",type:"decimal",prompt:"Target EP"},{name:"autoEterMode",type:"mode",prompt:"Eternity Autobuyer Mode"},{name:"autoEterValue",type:"decimal",prompt:"Eternity Autobuyer Threshold"}],warnings:()=>{const t=[];return RealityUpgrade(13).isBought||t.push(`This template may perform poorly without Reality Upgrade "${RealityUpgrade(13).name}"`),Perk.ttBuySingle.isBought||t.push(`This template may perform poorly without Perk "${Perk.ttBuySingle.label}" unless you can generate
            Time Theorems without purchsing them`),t}}]},KY={categoryNames:["Time Studies","Event Triggers","Alter Settings","Information","Script Flow"],commands:[{id:0,isUnlocked:()=>!0,keyword:"STUDIES RESPEC",category:0,syntax:"<b>studies respec</b>",description:`This command turns on the respec option, which will respec your Time Studies on the next manual or
        automatic Eternity. Note that this does not actually perform an Eternity on its own; make sure your Autobuyer
        is on or you manually run the ETERNITY command (although ETERNITY has its own built-in respec option).`,examples:["studies respec"]},{id:1,isUnlocked:()=>!0,keyword:"STUDIES LOAD",category:0,syntax:`<b>studies</b> [nowait] <b>load id</b> <u>selector</u><br>
        <b>studies</b> [nowait] <b>load name</b> <u>name</u>`,description:"Loads a Time Study preset, as if you had clicked on the button in the Time Study tab.",sections:[{name:"INPUTS",items:[{header:"<i>nowait</i>",description:`
                If present, the Automator will purchase as many studies as possible before continuing onward. By default
                (ie. without "nowait") this command will repeat this line indefinitely until all of the studies in the
                preset are bought; this may cause the Automator to get stuck indefinitely if you are not careful.
              `},{header:"<i>selector</i>",description:`
                Finds and loads the specified Time Study preset by its slot number. This is numbered one through six,
                ordered from left to right.`},{header:"<i>name</i>",description:"Finds and loads the specified Time Study preset by its given name. This is case-sensitive."}]}],examples:["studies load id 2","studies load name ANTI","studies nowait load name dil"]},{id:2,isUnlocked:()=>!0,keyword:"STUDIES PURCHASE",category:0,syntax:"<b>studies</b> [nowait] <b>purchase <u>study_list</u></b>",description:"Purchase Time Studies specified from a list of Time Studies.",sections:[{name:"INPUTS",items:[{header:"<i>nowait</i>",description:`
                If present, the Automator will purchase as many studies as possible before continuing onward. By default
                (ie. without "nowait") this command will repeat this line indefinitely until all of the studies in the
                preset are bought; this may cause the Automator to get stuck indefinitely if you are not careful.
              `},{header:"<i>study_list</i>",description:`
                The exported Time Study tree format is supported here, which is simply a list of Time Study IDs
                separated by commas. This command also supports a more flexible formatting, additionally allowing
                ranges of studies (for example, <u>11-62</u>) and the following aliases:<br>
                <blockquote><b>antimatter, infinity, time, active, passive, idle, light, dark</b></blockquote>
                A variable name may be used in place of the entire Time Study list as well (see the definition panel),
                although in that case the shorthand ranges and aliases are not allowed.`}]}],examples:["studies nowait purchase 11,21,31","studies purchase 11-62, antimatter, 111, idle","studies nowait purchase ec6Studies"]},{id:3,isUnlocked:()=>!0,keyword:"PRESTIGE",category:1,syntax:`
        <b>infinity</b> [nowait]<br>
        <b>eternity</b> [nowait] [respec]<br>
        <b>reality</b> [nowait] [respec]`,description:`Triggers an Infinity, Eternity, or Reality reset if possible, otherwise the automator will wait at
        this command until it becomes possible. If you find that your script often gets stuck on this command, an
        Autobuyer may be triggering a prestige before the Automator reaches this line - consider using <i>nowait</i> or
        adjusting your Autobuyer settings using AUTO.`,sections:[{name:"MODIFIERS",items:[{header:"<i>nowait</i>",description:`
                If present, the Automator will move on to the next command instead of repeatedly trying on this
                command in situations where the prestige is not possible (eg. within an EC below the goal).
              `},{header:"<i>respec</i>",description:`
                For non-Infinity prestiges, also does the related respec action when triggering prestige.
                Eternity: Respec Time Studies and Eternity.<br>
                Reality: Unequip Glyphs and Reality.
              `}]}],examples:["infinity","eternity respec","reality nowait"]},{id:4,isUnlocked:()=>!0,keyword:"UNLOCK",category:1,syntax:"<b>unlock</b> [nowait] <u>feature</u>",description:"Unlocks the specified Eternity Challenge or Time Dilation.",sections:[{name:"MODIFIERS",items:[{header:"<i>nowait</i>",description:`
                If present, the Automator will move on to the next command even if unlocking the feature fails. By
                default, the Automator will keep running this command until the unlock succeeds.
              `}]}],examples:["unlock dilation","unlock ec7"]},{id:5,isUnlocked:()=>!0,keyword:"START",category:1,syntax:`
        <b>start</b> ec<u>N</u><br>
        <b>start</b> dilation`,description:`Start a specified Eternity Challenge or a Dilated Eternity. This command will also attempt
        to unlock the EC if not unlocked, but will not do the same for Dilation (use UNLOCK command to do that).
        If you are already in the specified EC or Dilated Eternity, running this command again will do nothing;
        otherwise, the Automator will keep attempting to start the Eternity until it succeeds.`,examples:["start ec12","start dilation"]},{id:6,isUnlocked:()=>!0,keyword:"AUTO",category:2,syntax:`<b>auto infinity</b> [setting]<br>
        <b>auto eternity</b> [setting]<br>
        <b>auto reality</b> [setting]`,description:`Turns prestige Autobuyers on or off and allows you to change their settings. If the setting option
        is not present, this command will toggle the Autobuyer state, turning it off if it is on and turning it on if
        it is off. <b>This command will not work if you try to modify an Autobuyer or setting you do not have.</b>`,sections:[{name:"SETTINGS",items:[{header:"<i>on</i> | <i>off</i>",description:"Turns specified Autobuyer on or off."},{header:"<u><i>number</i></u> <u><i>time units</i></u>",description:`Usable with Infinity and Eternity only.
                Turns the Autobuyer on and set it to trigger at the given interval.`},{header:"<u><i>number</i></u> x highest",description:`Usable with Infinity and Eternity only. Turns the Autobuyer on and sets it to
                "X times highest" mode.`},{header:"<i><u>number</u> <u>currency</u></i>",description:`Turns the Autobuyer on and sets it to trigger at a specific amount. The currency must
                match the autobuyer type (IP, EP, or RM). This will select "Reality Machines" mode for the Reality
                Autobuyer. Glyph Level mode cannot be changed or set via the Automator, only manually.`}]}],examples:["auto infinity on","auto eternity off","auto infinity 30s","auto eternity 10 seconds","auto eternity 1e100 x highest"]},{id:7,isUnlocked:()=>BlackHole(1).isUnlocked,keyword:"BLACK HOLE",category:2,syntax:"<b>black hole</b> <u>state</u>",description:`Toggles the speedup effect from the Black Hole on or off. Turning the Black Hole on via the
        Automator does not bypass the gradual acceleration from off to max speed which occurs before they are
        permanent.`,examples:["black hole on","black hole off"]},{id:8,isUnlocked:()=>Enslaved.isUnlocked,keyword:"STORE GAME TIME",category:2,syntax:"<b>store game time</b> <u>action</u>",description:"Changes whether or not the Black Hole is storing time. Also allows usage of stored time.",sections:[{name:"ACTIONS",items:[{header:"<i>on</i> | <i>off</i>",description:`
                Turns storing game time on or off.
              `},{header:"<i>use</i>",description:`
                Uses all stored game time. Does not alter the on/off state of time storage.
              `}]}],examples:["store game time on","store game time off","store game time use"]},{id:9,isUnlocked:()=>!0,keyword:"NOTIFY",category:3,syntax:'<b>notify</b> "<u>text</u>"',description:`Takes the specified text and posts it in the top-right corner as
        a text notification, in the same spot and style as other notifications such as auto-save
        and achievement/upgrade unlocks. Can be useful for seeing automator status while
        on tabs other than the Automator tab.`,examples:['notify "Dilation reached"','notify "ECs completed"']},{id:10,isUnlocked:()=>!0,keyword:"Adding Comments",category:3,syntax:"<b>#</b> text<br><b>//</b> text",description:`Allows you to leave a note to yourself within your script. This may be
        useful for organizing or keeping track of which parts of your script do various things,
        in a way that appears more readable than just the commands. These commands mainly serve as a tool to
        help you keep the steps of your scripts easier to follow if desired.`,sections:[{name:"NOTES",items:[{header:"<i>Inline comments</i>",description:`
                The Automator does not support comments which are placed after an already functional
                line of code, on the same line. As an example, the single line "studies load name TDI // Load push"
                will be an invalid command. In this case, you will need to move the comment to a separate line
                in the automator.
              `},{header:"<i>Execution speed</i>",description:`
                Having comments will not slow down your script, as they are completely skipped during
                execution and do not count as a command for the purposes of running. For example, even if you have
                a really long explanation in the form of comments on lines 20-40, the Automator will still
                <i>immediately</i> skip from line 19 to 41 during execution.
              `}]}],examples:["# get 1e20 before starting ec1","// this loop alternates dilation and pushing"]},{id:11,isUnlocked:()=>!0,keyword:"WAIT",category:4,syntax:"<b>wait</b> <u>condition</u>",description:`Forces Automator to wait for some condition or event. To wait for a certain duration of time,
        use the PAUSE command instead.`,sections:[{name:"POSSIBLE CONDITIONS",items:[{header:"<i>comparison</i>",description:`
                Wait until the comparison statement is true. Check the entry for "Formatting Comparisons" for details
                on how to properly input this option.
              `},{header:"<i>prestige</i>",description:`
                Wait until the specified prestige (Infinity, Eternity, or Reality) has been triggered by its respective
                Autobuyer. This must happen <i>after</i> this command is reached; if the Autobuyer triggers
                <i>before</i> the command is reached, your script may get stuck.
              `},{header:"<i>black hole (state)</i>",description:`
                Wait until the Black Hole(s) are in the specified state. Valid inputs for state are
                "off", "bh1", and "bh2", corresponding to no active Black Hole(s), at least the first Black Hole active,
                and both Black Holes active.
              `}]}],examples:["wait am >= 1e308","wait pending completions >= 5","wait ec9 completions >= 4","wait infinity","wait black hole bh1"]},{id:12,isUnlocked:()=>!0,keyword:"PAUSE",category:4,syntax:"<b>pause</b> <u>interval</u>",description:`Tells the automator to stop moving forward and executing commands for a certain amount of time.
        Note that if the pause duration is shorter than the automator's execution speed, the automator will wait until
        the next execution tick before moving on.`,examples:["pause 10s","pause 1 minute","pause 34 seconds"],sections:[{name:"INTERVAL FORMATTING",items:[{header:"<i>Specified Interval</i>",description:`This command accepts time units of milliseconds ("ms"), seconds ("s", "sec", or "seconds"),
                minutes ("m", "min", or "minutes"), and hours ("h" or "hours"). You cannot provide just a number and
                nothing else; a unit of time must be specified.`},{header:"<i>Defined Constant</i>",description:`A defined constant may be used instead, see the definition panel. The defined value will
                be assumed to be in units of seconds.`}]},{name:"OTHER",items:[{header:"<i>Offline Side-effects</i>",description:`This command may behave undesirably when it runs during offline progress due to limited
                tick count. A 1-second pause that is usually 20-30 ticks might be only 1 game tick when processing
                hours of offline progress, which might not be enough for the resources needed for the rest of the
                script.`},{header:"<i>Alternatives</i>",description:`Using another command like 'WAIT' will allow you to set it for a certain resource amount,
                in order to ensure that the game has the proper state before moving onward.`},{header:"<i>Manual Skip</i>",description:`You can manually force the Automator to continue execution past a PAUSE command without
                waiting the entire specified time by stepping forward one line (to put it on the next one) and then
                resuming execution. If you find yourself doing this regularly, consider modifying your script.`}]}]},{id:13,isUnlocked:()=>!0,keyword:"IF",category:4,syntax:`<b>if</b> <u>condition</u> {<br>
        <blockquote>commands</blockquote>
        }`,description:`Defines an inner block of block of the automator script which will only be executed if the specified
        comparison is true when this line is reached. If the comparison is false, the automator will instead skip to the
        first line after the block and continue execution from there.`,examples:["if ec10 completions < 5","if ep > 1e6000"]},{id:14,isUnlocked:()=>!0,keyword:"UNTIL",category:4,syntax:`<b>until</b> <u>comparison</u> {<br>
        <blockquote>commands</blockquote>
        }<br><b>until</b> <u>prestige_event</u> {<br>
          <blockquote>commands</blockquote>
        }`,description:`Defines an inner block of the script where commands are repeated; the comparison is checked at the
        start and every time the loop repeats. If the condition is true when the UNTIL statement is first reached, the
        inner block of commands will be skipped entirely.
        <br><br>
        If an prestige event (ie. Infinity, Eternity, or Reality) is specified instead of a condition, then the block
        will always be entered and the commands within the block will repeat until the event occurs for the first time
        <i>after</i> entering the block. Note that the Automator will finish the rest of the loop and then exit after
        the prestige event occurs - it will not immediately exit the loop in the middle.`,examples:["until ep > 1e500","until reality"]},{id:15,isUnlocked:()=>!0,keyword:"WHILE",category:4,syntax:`<b>while</b> <u>comparison</u> {<br>
        <blockquote>commands</blockquote>
      }`,description:`Defines an inner block of the script where commands are repeated; the comparison is checked at the
        start and every time the loop repeats. If the condition is false when the WHILE statement is first reached, the
        inner block of commands will be skipped entirely.`,examples:["while ep < 1e500","while myThreshold > am"]},{id:16,isUnlocked:()=>!0,keyword:"STOP",category:4,syntax:"<b>stop</b>",description:`When the Automator runs this line, it will stop execution as if you clicked the
        <i class="fas fa-stop"></i> button on the control panel in the top-left of the Automator. This
        does not need to be placed at the end of every script in order to stop them, as turning off the
        <i class="fas fa-sync-alt"></i> option on the left panel will do this automatically.
        This command may be useful when used inside of an IF command, in order to stop execution
        only under certain conditions.`,examples:["stop"]},{id:17,isUnlocked:()=>!0,keyword:"Currency List",category:4,syntax:"<i>You can use these in any IF, WHILE, UNTIL, or WAIT command</i>",description:()=>{const t=EffarigUnlock.glyphFilter.isUnlocked?"<b>filter score</b> - Glyph filter score of the Glyph which your filter will select this Reality<br>":"",e=V.spaceTheorems>0?`<b>space theorems</b> - Current unspent Space Theorem amount<br>
            <b>total space theorems</b> - TOTAL Space Theorems, including ones spent on current Studies<br>`:"";return`This is a list of "currencies" or numbers that you can use within the Automator.<br>
          Note that when used, most currencies will need to be in scientific notation.<br>
          <b>am</b> - Current Antimatter amount  <br>
          <b>ip</b> - Current Infinity Point amount  <br>
          <b>ep</b> - Current Eternity Point amount  <br>
          <b>rm</b> - Current Reality Machine amount  <br>
          <b>infinities</b> - Current Infinity amount <br>
          <b>banked infinities</b> - Current Banked Infinity amount <br>
          <b>eternities</b> - Current Eternity amount <br>
          <b>realities</b> - Current Reality amount <br>
          <b>pending ip</b> - IP gained on Infinity (0 if not available)<br>
          <b>pending ep</b> - EP gained on Eternity (0 if not available)<br>
          <b>pending tp</b> - TP gained on exiting Dilation<br>
          <b>pending rm</b> - RM gained on Reality (0 if not available)<br>
          <b>pending glyph level</b> - Glyph Level gained on Reality (0 if not available)<br>
          <b>dt</b> - Current Dilated Time amount <br>
          <b>tp</b> - Current Tachyon Particle amount<br>
          <b>rg</b> - Current Replicanti Galaxy amount (does not use scientific)<br>
          <b>rep</b> - Current Replicanti amount <br>
          <b>tt</b> - Current Time Theorem amount <br>
          <b>total tt</b> - TOTAL Time Theorems, includes all forms of generated TT and any spent on Studies <br>
          <b>spent tt</b> - Time Theorems currently spent on all Time Studies <br>
          <b>total completions</b> - Total completions of all Eternity Challenges <br>
          <b>pending completions</b> - Total completions of current EC at Eternity <br>
          <b>ec<u>X</u> completions</b> - Amount of EC completions for a certain EC (eg. "ec6 completions")<br>
          ${t}
          ${e}
        `}},{id:18,isUnlocked:()=>!0,keyword:"Formatting Comparisons",category:4,syntax:"<u>resource1</u> <u>condition</u> <u>resource2</u>",description:`
        Comparisons are used within certain commands, which allow you to control the behavior of the automator based
        on the game's current state. They have a standard format with two value inputs and a comparison operator, but
        the value inputs can be anything as long as it is formatted correctly overall.`,sections:[{name:"CONDITIONS",items:[{header:"<i>resource</i>",description:`
                This can be any Automator Currency, a defined constant, or a number which must be formatted in
                scientific notation (eg. 1000, 1e100, 1.8e308). Unlike more general programming languages, this must
                be a single value (ie. math expressions such as "ip + pending ip" are not allowed).
              `},{header:"<i>condition</i>",description:`
                This must be an inequality operator (<, <=, >, >=), which takes on its typical mathematical meaning.
                Equality operators (==, !=) are not allowed, as the nature of the game means that numbers will often
                never be exactly equal and thus checking based on direct equality may lead to unexpected script
                behavior.
              `}]}],examples:["ep < 1e20","total tt > 14000"]},{id:19,isUnlocked:()=>!0,keyword:"Commands with inner blocks",category:4,syntax:`<b>header_command</b> {<br>
        <blockquote>inner_commands</blockquote>
        }`,description:`Some commands are associated with an "inner block" of commands. This inner block can contain still
        contain any other valid command, but may or may not actually get executed based on what the state of the game is
        when <b>header_command</b> is executed. This allows you to repeat some commands over and over (eg. Time Study
        purchasing), or to skip them entirely (eg. not entering an EC if it already has full completions). These blocks
        can be nested if desired, with inner blocks being placed within one another.
        <br><br>
        In the text editor mode: Specify the inner block with curly braces, with the opening brace { on the same line as
        the comparison and the closing brace } on its own line after the last line you want inside the block. Inner
        commands do not need to be indented, although it may be visually helpful to do so.
        <br><br>
        In the block editor mode: These commands come with an empty dotted rectangle which indicates which commands are
        within the inner block. Subsequent blocks can then be dragged inside the dotted rectangle.
        `,examples:[`if ec10 completions < 5 {<br>
          <blockquote>
          unlock ec10<br>
          start ec10</blockquote>
        }`,`until ep > 1e8 {<br>
          <blockquote>
          studies nowait purchase 11-62<br>
          pause 10s<br>
          eternity respec</blockquote>
        }`]}],otherAutomatorPoints:[{name:"Reality Count",automatorPoints:()=>2*Math.clampMax(Currency.realities.value,50),shortDescription:()=>`+${formatInt(2)} per Reality, up to ${formatInt(50)} Realities`,symbol:"Ϟ"},{name:"Black Hole",automatorPoints:()=>BlackHole(1).isUnlocked?10:0,shortDescription:()=>`Unlocking gives ${formatInt(10)} AP`,symbol:"<i class='fas fa-circle'></i>"}],templates:XY},ZY={cards:{id:"cards",name:"Playing Card Suits",symbol:["♠","♥","♦","♣","♤","♧","♡","♢"],color:["W#000000","B#FF2222"]},lower:{id:"lower",name:"Lowercase Glyphs",symbol:["ω","ξ","δ","ψ"]},sus:{id:"sus",name:"Suspicious",symbol:["ඔ","ඕ","ඞ","ඩ"],color:["B#FCA40A"]},currency:{id:"currency",name:"Modern Currency",symbol:["$","₽","¥","€","¢","£","₩"],preventBlur:!0,color:["W#00DD00"]},oldCurrency:{id:"oldCurrency",name:"Older Currency",symbol:["₷","₰","₳","₯","₻"],preventBlur:!0,color:["B#00DD00"]},pipe:{id:"pipe",name:"Single Pipes",symbol:["┌","┐","└","┘","─","│"],color:["B#33FF33"]},pipe2:{id:"pipe2",name:"Double Pipes",symbol:["╔","╗","╚","╝","═","║"],color:["W#33FF33"]},trigram:{id:"trigram",name:"Trigrams",symbol:["☰","☱","☲","☳","☴","☵","☶","☷"],preventBlur:!0,color:["B#FFFFFF"]},arrow:{id:"arrow",name:"Single Arrows",symbol:["←","↓","↑","→","↖","↗","↘","↙"],color:["W#CC0000"]},arrow2:{id:"arrow2",name:"Double Arrows",symbol:["⇄","⇅","⇔","⇕"],color:["W#0000CC"]},arrow3:{id:"arrow3",name:"Special Arrows",symbol:["↺","↯","↬","⇱","⇲","⇮","↭"],preventBlur:!0,color:["W#CCCC00"]},integral:{id:"integral",name:"Integration",symbol:["∬","∭","∮","∯","∰","∱","∲","∳"],preventBlur:!0,color:["B#123456"]},numbers:{id:"numbers",name:"Circled Numbers",symbol:["①","②","③","④","⑤","⑥","⑦","⑧"],preventBlur:!0,color:["B#607D8B"]},blocks:{id:"blocks",name:"2x2 Blocks",symbol:["▘","▚","▞","▙","▛","▜","▟"]},shapes:{id:"shapes",name:"Miscellaneous Shapes",symbol:["▰","▲","◆","◎","◍"],preventBlur:!0},chess:{id:"chess",name:"Chess Pieces",symbol:["♟","♞","♝","♜","♛","♚"],preventBlur:!0,color:["B#AAAAAA"]},planet:{id:"planet",name:"Planetary Symbols",symbol:["☿","♀","♁","♂","♃","♄","♆","♇"],preventBlur:!0,color:["B#964B00"]},musical:{id:"musical",name:"Musical Symbols",symbol:["♩","♪","♬","♭","♮","♯"],preventBlur:!0,color:["W#E621E6"]},recycle:{id:"recycle",name:"Recycling Symbols",symbol:["♻","♳","♴","♵","♶","♷","♸","♹"],preventBlur:!0},dice:{id:"dice",name:"Dice Faces",symbol:["⚀","⚁","⚂","⚃","⚄","⚅"],preventBlur:!0},hazard:{id:"hazard",name:"Hazard Symbols",symbol:["☠","☢","☣","⚠"],preventBlur:!0,color:["W#FCA40A"]},celestial:{id:"celestial",name:"Celestial Icons",symbol:["","⌬","","ᛝ","♅"],color:["B#00BCD4"]},alchemy:{id:"alchemy",name:"Alchemical Symbols",symbol:["🜁","🜂","🜃","🜄","🜔","🜍","🜞","🜚"],color:["B#FFD700"]},blob:{id:"blob",name:"Blobs",symbol:["","","","","","",""],preventBlur:!0,color:["B#E4B51A"]},blob2:{id:"blob2",name:"More Blobs",symbol:["","","","","","",""],preventBlur:!0},star:{id:"star",name:"Geometric Stars",symbol:["★","☆","✪","✯","✭","✫","🜞"]},star2:{id:"star2",name:"Realistic Stars",symbol:["✶","✦","✧","✺","✹","✷"],color:["W#D4FFFF","W#FDFFCC"]},gem:{id:"gem",name:"Gemstones",symbol:["💎"],color:["B#035E3B","B#943B47","B#032C54"]},heiroglyph:{id:"heiroglyph",name:"Common Hieroglyphs",symbol:["𓂀","𓀶","𓅊","𓇌","𓊝","☥"],preventBlur:!0},paperclip:{id:"paperclip",name:"Useless Paperclips",symbol:["𓄲","𓄳","𓄴","𓄵","𓄶","𓄷","𓄸"],preventBlur:!0,color:["B#222222"]},snake:{id:"snake",name:"Various Snakes",symbol:["𓆓","𓆔","𓆕","𓆖","𓆗","𓆘"],preventBlur:!0},egyptNumber:{id:"egyptNumber",name:"Egyptian Numbers",symbol:["𓆄","𓅔","𓆾","𓂰","𓍦","𓎋","𓐀","𓃐"],preventBlur:!0,color:["W#123456"]},egyptWeather:{id:"egyptWeather",name:"Egyptian Weathervanes",symbol:["𓈹","𓈧","𓈷","𓉈","𓈩","𓈻","𓈽"],preventBlur:!0,color:["W#607D8B"]},limbs:{id:"limbs",name:"Awkward Limbs",symbol:["𓈝","𓄒","𓃂","𓃁","𓂩","𓂙","𓂓","𓂼"],preventBlur:!0,color:["B#E621E6"]},animal:{id:"animal",name:"Moses' Ark",symbol:["𓆏","𓆉","𓅬","𓅃","𓃲","𓆣","𓆊","𓃰"],preventBlur:!0,color:["W#0000AA"]}},ti=Object.freeze({add:t=>t.reduce(Number.sumReducer,0),multiply:t=>t.reduce(Number.prodReducer,1),addExponents:t=>t.reduce(Number.sumReducer,1-t.length),multiplyDecimal:t=>t.reduce(Decimal.prodReducer,DC.D1)}),QY={timepow:{id:"timepow",bitmaskIndex:0,isGenerated:!0,glyphTypes:["time"],singleDesc:"Time Dimension power +{value}",totalDesc:"Time Dimension multipliers ^{value}",shortDesc:"TD power +{value}",effect:(t,e)=>1.01+Math.pow(t,.32)*Math.pow(e,.45)/75,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents,enabledInDoomed:!0},timespeed:{id:"timespeed",bitmaskIndex:1,isGenerated:!0,glyphTypes:["time"],singleDesc:"Multiply game speed by {value}",totalDesc:"Game runs ×{value} faster",genericDesc:"Game speed multiplier",shortDesc:"Game speed ×{value}",effect:(t,e)=>GlyphAlteration.isEmpowered("time")?1+Math.pow(t,.35):1+Math.pow(t,.3)*Math.pow(e,.65)/20,formatEffect:t=>format(t,3,3),combine:ti.multiply,alteredColor:()=>GlyphAlteration.getEmpowermentColor("time"),alterationType:ALTERATION_TYPE.EMPOWER,enabledInDoomed:!0},timeetermult:{id:"timeetermult",bitmaskIndex:2,isGenerated:!0,glyphTypes:["time"],singleDesc:"Multiply Eternity gain by {value}",totalDesc:"Eternity gain ×{value}",genericDesc:"Eternity gain multiplier",shortDesc:"Eternities ×{value}",effect:(t,e)=>Math.pow((e+3)*t,.9)*Math.pow(3,GlyphAlteration.sacrificeBoost("time")),formatEffect:t=>format(t,2,2),combine:ti.multiply,alteredColor:()=>GlyphAlteration.getBoostColor("time"),alterationType:ALTERATION_TYPE.BOOST},timeEP:{id:"timeEP",bitmaskIndex:3,isGenerated:!0,glyphTypes:["time"],singleDesc:()=>GlyphAlteration.isAdded("time")?`Eternity Point gain 
×{value} [and ^]{value2}`:"Multiply Eternity Point gain by {value}",totalDesc:()=>GlyphAlteration.isAdded("time")?"Eternity Point gain ×{value} and ^{value2}":"Eternity Point gain ×{value}",genericDesc:()=>GlyphAlteration.isAdded("time")?"Eternity Point gain multiplier and power":"Eternity Point gain multiplier",shortDesc:()=>GlyphAlteration.isAdded("time")?"EP ×{value} and ^{value2}":"EP ×{value}",effect:(t,e)=>Math.pow(t*e,3)*100,formatEffect:t=>format(t,2,3),combine:ti.multiply,conversion:t=>1+Math.log10(t)/1e3,formatSecondaryEffect:t=>format(t,4,4),alteredColor:()=>GlyphAlteration.getAdditionColor("time"),alterationType:ALTERATION_TYPE.ADDITION},dilationDT:{id:"dilationDT",bitmaskIndex:4,isGenerated:!0,glyphTypes:["dilation"],singleDesc:"Multiply Dilated Time gain by {value}",totalDesc:"Dilated Time gain ×{value}",shortDesc:"DT ×{value}",effect:(t,e)=>GlyphAlteration.isEmpowered("dilation")?DC.D1_005.pow(t).times(15):Decimal.pow(t*e,1.5).times(2),formatEffect:t=>format(t,2,1),combine:ti.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("dilation"),alterationType:ALTERATION_TYPE.EMPOWER},dilationgalaxyThreshold:{id:"dilationgalaxyThreshold",bitmaskIndex:5,isGenerated:!0,glyphTypes:["dilation"],singleDesc:"Tachyon Galaxy threshold multiplier ×{value}",genericDesc:"Tachyon Galaxy cost multiplier",shortDesc:"TG threshold ×{value}",effect:(t,e)=>1-Math.pow(t,.17)*Math.pow(e,.35)/100-GlyphAlteration.sacrificeBoost("dilation")/50,formatEffect:t=>format(t,3,3),alteredColor:()=>GlyphAlteration.getBoostColor("dilation"),alterationType:ALTERATION_TYPE.BOOST,combine:t=>{const e=t.reduce(Number.prodReducer,1);return e<.4?{value:.4-Math.pow(.4-e,1.7),capped:!0}:{value:e,capped:!1}},enabledInDoomed:!0},dilationTTgen:{id:"dilationTTgen",bitmaskIndex:6,isGenerated:!0,glyphTypes:["dilation"],singleDesc:()=>GlyphAlteration.isAdded("dilation")?`Generates {value} Time Theorems/hour 
[and multiplies Time Theorem 
generation by] {value2}`:"Generates {value} Time Theorems per hour",totalDesc:()=>GlyphAlteration.isAdded("dilation")?"Generating {value} Time Theorems/hour and Time Theorem generation ×{value2}":"Generating {value} Time Theorems per hour",genericDesc:()=>GlyphAlteration.isAdded("dilation")?"Time Theorem generation and multiplier":"Time Theorem generation",shortDesc:()=>GlyphAlteration.isAdded("dilation")?"{value} TT/hr and TTgen ×{value2}":"{value} TT/hr",effect:(t,e)=>Math.pow(t*e,.5)/1e4,formatEffect:t=>format(3600*t,2,2),combine:ti.add,conversion:t=>Math.clampMin(Math.pow(1e4*t,1.6),1),formatSecondaryEffect:t=>format(t,2,2),alteredColor:()=>GlyphAlteration.getAdditionColor("dilation"),alterationType:ALTERATION_TYPE.ADDITION},dilationpow:{id:"dilationpow",bitmaskIndex:7,isGenerated:!0,glyphTypes:["dilation"],singleDesc:"Antimatter Dimension power +{value} while Dilated",totalDesc:"Antimatter Dimension multipliers ^{value} while Dilated",genericDesc:"Antimatter Dimensions ^x while Dilated",shortDesc:"Dilated AD power +{value}",effect:(t,e)=>1.1+Math.pow(t,.7)*Math.pow(e,.7)/25,formatEffect:t=>format(t,2,2),formatSingleEffect:t=>format(t-1,2,2),combine:ti.addExponents,enabledInDoomed:!0},replicationspeed:{id:"replicationspeed",bitmaskIndex:8,isGenerated:!0,glyphTypes:["replication"],singleDesc:"Multiply Replication speed by {value}",totalDesc:"Replication speed ×{value}",genericDesc:"Replication speed multiplier",shortDesc:"Replication speed ×{value}",effect:(t,e)=>GlyphAlteration.isEmpowered("replication")?DC.D1_007.pow(t).times(10):Decimal.times(t,e).times(3),formatEffect:t=>format(t,2,1),combine:ti.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("replication"),alterationType:ALTERATION_TYPE.EMPOWER},replicationpow:{id:"replicationpow",bitmaskIndex:9,isGenerated:!0,glyphTypes:["replication"],singleDesc:"Replicanti multiplier power +{value}",totalDesc:"Replicanti multiplier ^{value}",shortDesc:"Replicanti mult. power +{value}",effect:(t,e)=>1.1+Math.pow(t,.5)*e/25+GlyphAlteration.sacrificeBoost("replication")*3,formatEffect:t=>format(t,2,2),formatSingleEffect:t=>format(t-1,2,2),combine:ti.addExponents,alteredColor:()=>GlyphAlteration.getBoostColor("replication"),alterationType:ALTERATION_TYPE.BOOST,enabledInDoomed:!0},replicationdtgain:{id:"replicationdtgain",bitmaskIndex:10,isGenerated:!0,glyphTypes:["replication"],singleDesc:()=>GlyphAlteration.isAdded("replication")?`Multiply Dilated Time 
[and Replicanti speed] by 
+{value} per ${format(DC.E10000)} replicanti`:`Multiply Dilated Time gain by 
+{value} per ${format(DC.E10000)} replicanti`,totalDesc:()=>GlyphAlteration.isAdded("replication")?`Multiply Dilated Time and Replication speed by +{value} per ${format(DC.E10000)} replicanti`:`Multiply Dilated Time gain by +{value} per ${format(DC.E10000)} replicanti`,genericDesc:()=>GlyphAlteration.isAdded("replication")?"Dilated Time+Replicanti mult from replicanti":"Dilated Time gain multiplier from replicanti",shortDesc:()=>GlyphAlteration.isAdded("replication")?`×DT and repl. by +{value} per ${format(DC.E10000)} replicanti`:`×DT by +{value} per ${format(DC.E10000)} replicanti`,effect:(t,e)=>3e-4*Math.pow(t,.3)*Math.pow(e,.65),formatEffect:t=>format(1e4*t,2,2),formatSingleEffect:t=>format(1e4*t,2,2),combine:t=>({value:t.length===0?0:t.reduce(Number.prodReducer,Math.pow(1e-4,1-t.length)),capped:!1}),conversion:t=>t,formatSecondaryEffect:t=>format(t,2,3),formatSingleSecondaryEffect:t=>format(t,5,5),alteredColor:()=>GlyphAlteration.getAdditionColor("replication"),alterationType:ALTERATION_TYPE.ADDITION},replicationglyphlevel:{id:"replicationglyphlevel",bitmaskIndex:11,isGenerated:!0,glyphTypes:["replication"],singleDesc:()=>`Replicanti factor for Glyph level:
 ^${format(.4,1,1)}
      ➜ ^(${format(.4,1,1)} + {value})`,totalDesc:()=>`Replicanti factor for Glyph level: ^${format(.4,1,1)}
      ➜ ^(${format(.4,1,1)} + {value})`,genericDesc:"Replicanti factor for Glyph level",shortDesc:"Replicanti pow. for level +{value}",effect:(t,e)=>Math.pow(Math.pow(t,.25)*Math.pow(e,.4),.5)/50,formatEffect:t=>format(t,3,3),combine:t=>{let e=t.reduce(Number.sumReducer,0);return t.length>2&&(e*=6/(t.length+4)),e>.1?{value:.1+.2*(e-.1),capped:!0}:{value:e,capped:t.length>2}},enabledInDoomed:!0},infinitypow:{id:"infinitypow",bitmaskIndex:12,isGenerated:!0,glyphTypes:["infinity"],singleDesc:"Infinity Dimension power +{value}",totalDesc:"Infinity Dimension multipliers ^{value}",shortDesc:"ID power +{value}",effect:(t,e)=>1.007+Math.pow(t,.21)*Math.pow(e,.4)/75+GlyphAlteration.sacrificeBoost("infinity")/50,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents,alteredColor:()=>GlyphAlteration.getBoostColor("infinity"),alterationType:ALTERATION_TYPE.BOOST,enabledInDoomed:!0},infinityrate:{id:"infinityrate",bitmaskIndex:13,isGenerated:!0,glyphTypes:["infinity"],singleDesc:()=>`Infinity Power conversion rate: 
^${formatInt(7)}
      ➜ ^(${formatInt(7)} + {value})`,totalDesc:()=>`Infinity Power conversion rate: ^${formatInt(7)}
      ➜ ^(${formatInt(7)} + {value})`,genericDesc:"Infinity Power conversion rate",shortDesc:"Infinity Power conversion +{value}",effect:(t,e)=>Math.pow(t,.2)*Math.pow(e,.4)*.04,formatEffect:t=>format(t,2,2),combine:ti.add,enabledInDoomed:!0},infinityIP:{id:"infinityIP",bitmaskIndex:14,isGenerated:!0,glyphTypes:["infinity"],singleDesc:()=>GlyphAlteration.isAdded("infinity")?`Infinity Point gain 
×{value} [and ^]{value2}`:"Multiply Infinity Point gain by {value}",totalDesc:()=>GlyphAlteration.isAdded("infinity")?"Infinity Point gain ×{value} and ^{value2}":"Infinity Point gain ×{value}",genericDesc:()=>GlyphAlteration.isAdded("infinity")?"Infinity Point gain multiplier and power":"Infinity Point gain multiplier",shortDesc:()=>GlyphAlteration.isAdded("infinity")?"IP ×{value} and ^{value2}":"IP ×{value}",effect:(t,e)=>Math.pow(t*(e+1),6)*1e4,formatEffect:t=>format(t,2,3),combine:ti.multiply,softcap:t=>Effarig.eternityCap!==void 0?Math.min(t,Effarig.eternityCap.toNumber()):t,conversion:t=>1+Math.log10(t)/1800,formatSecondaryEffect:t=>format(t,4,4),alteredColor:()=>GlyphAlteration.getAdditionColor("infinity"),alterationType:ALTERATION_TYPE.ADDITION},infinityinfmult:{id:"infinityinfmult",bitmaskIndex:15,isGenerated:!0,glyphTypes:["infinity"],singleDesc:"Multiply Infinity gain by {value}",totalDesc:"Infinity gain ×{value}",genericDesc:"Infinity gain multiplier",shortDesc:"Infinities ×{value}",effect:(t,e)=>GlyphAlteration.isEmpowered("infinity")?DC.D1_02.pow(t):Decimal.pow(t*e,1.5).times(2),formatEffect:t=>format(t,2,1),combine:ti.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("infinity"),alterationType:ALTERATION_TYPE.EMPOWER},powerpow:{id:"powerpow",bitmaskIndex:16,isGenerated:!0,glyphTypes:["power"],singleDesc:()=>GlyphAlteration.isAdded("power")?`Antimatter Dimension power +{value}
[and Antimatter Galaxy cost ×]{value2}`:"Antimatter Dimension power +{value}",totalDesc:()=>GlyphAlteration.isAdded("power")?"Antimatter Dimension multipliers ^{value} and Antimatter Galaxy cost ×{value2}":"Antimatter Dimension multipliers ^{value}",genericDesc:()=>GlyphAlteration.isAdded("power")?"Antimatter Dimensions multipliers ^x and Antimatter Galaxy cost multiplier":"Antimatter Dimension multipliers ^x",shortDesc:()=>GlyphAlteration.isAdded("power")?"AD power +{value} and AG cost ×{value2}":"AD power +{value}",effect:(t,e)=>1.015+Math.pow(t,.2)*Math.pow(e,.4)/75,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents,conversion:t=>2/(t+1),formatSecondaryEffect:t=>format(t,3,3),alteredColor:()=>GlyphAlteration.getAdditionColor("power"),alterationType:ALTERATION_TYPE.ADDITION,enabledInDoomed:!0},powermult:{id:"powermult",bitmaskIndex:17,isGenerated:!0,glyphTypes:["power"],singleDesc:"Antimatter Dimension multipliers ×{value}",shortDesc:"AD ×{value}",effect:(t,e)=>GlyphAlteration.isEmpowered("power")?DC.D11111.pow(t*220):Decimal.pow(t*e*10,t*e*10),formatEffect:t=>formatPostBreak(t,2,0),combine:ti.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("power"),alterationType:ALTERATION_TYPE.EMPOWER,enabledInDoomed:!0},powerdimboost:{id:"powerdimboost",bitmaskIndex:18,isGenerated:!0,glyphTypes:["power"],singleDesc:"Dimension Boost multiplier ×{value}",genericDesc:"Dimension Boost multiplier",shortDesc:"Dimboost mult. ×{value}",effect:(t,e)=>Math.pow(t*e,.5)*Math.pow(1+GlyphAlteration.sacrificeBoost("power"),3),formatEffect:t=>format(t,2,2),combine:ti.multiply,alteredColor:()=>GlyphAlteration.getBoostColor("power"),alterationType:ALTERATION_TYPE.BOOST,enabledInDoomed:!0},powerbuy10:{id:"powerbuy10",bitmaskIndex:19,isGenerated:!0,glyphTypes:["power"],singleDesc:()=>`Increase the bonus from buying ${formatInt(10)} Antimatter Dimensions by {value}`,totalDesc:()=>`Multiplier from "Buy ${formatInt(10)}" ×{value}`,genericDesc:()=>`"Buy ${formatInt(10)}" bonus increase`,shortDesc:()=>`AD "Buy ${formatInt(10)}" mult. ×{value}`,effect:(t,e)=>1+t*e/12,formatEffect:t=>format(t,2,2),combine:ti.addExponents,enabledInDoomed:!0},effarigrm:{id:"effarigrm",bitmaskIndex:20,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Reality Machine multiplier ×{value}",genericDesc:"Reality Machine multiplier",shortDesc:"RM ×{value}",effect:(t,e)=>GlyphAlteration.isEmpowered("effarig")?Math.pow(t,1.5):Math.pow(t,.6)*e,formatEffect:t=>format(t,2,2),combine:ti.multiply,alteredColor:()=>GlyphAlteration.getEmpowermentColor("effarig"),alterationType:ALTERATION_TYPE.EMPOWER},effarigglyph:{id:"effarigglyph",bitmaskIndex:21,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Glyph Instability starting level +{value}",genericDesc:"Glyph Instability delay",shortDesc:"Instability delay +{value}",effect:(t,e)=>Math.floor(10*Math.pow(t*e,.5)),formatEffect:t=>formatInt(t),combine:ti.add},effarigblackhole:{id:"effarigblackhole",bitmaskIndex:22,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Game speed power +{value}",totalDesc:"Game speed ^{value}",genericDesc:"Game speed ^x",shortDesc:"Game speed power +{value}",effect:(t,e)=>1+Math.pow(t,.25)*Math.pow(e,.4)/75,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents},effarigachievement:{id:"effarigachievement",bitmaskIndex:23,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Achievement multiplier power +{value}",totalDesc:"Achievement multiplier ^{value}",genericDesc:"Achievement multiplier ^x",shortDesc:"Achievement mult. power +{value}",effect:(t,e)=>1+Math.pow(t,.4)*Math.pow(e,.6)/60+GlyphAlteration.sacrificeBoost("effarig")/10,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents,alteredColor:()=>GlyphAlteration.getBoostColor("effarig"),alterationType:ALTERATION_TYPE.BOOST},effarigforgotten:{id:"effarigforgotten",bitmaskIndex:24,isGenerated:!0,glyphTypes:["effarig"],singleDesc:()=>GlyphAlteration.isAdded("effarig")?`"Buy ${formatInt(10)}" multiplier ^{value} [and
Dimension Boost multiplier ^]{value2}`:`Bonus from buying ${formatInt(10)} Dimensions ^{value}`,totalDesc:()=>GlyphAlteration.isAdded("effarig")?`Multiplier from "Buy ${formatInt(10)}" ^{value} and Dimension Boost multiplier ^{value2}`:`Multiplier from "Buy ${formatInt(10)}" ^{value}`,genericDesc:()=>GlyphAlteration.isAdded("effarig")?`"Buy ${formatInt(10)}" and Dimension Boost multipliers ^x`:`"Buy ${formatInt(10)}" multiplier ^x`,shortDesc:()=>GlyphAlteration.isAdded("effarig")?`Buy ${formatInt(10)} mult. ^{value}, Dimboost mult. ^{value2}`:`Buy ${formatInt(10)} mult. ^{value}`,effect:(t,e)=>1+2*Math.pow(t,.25)*Math.pow(e,.4),formatEffect:t=>format(t,2,2),combine:ti.multiply,conversion:t=>Math.pow(t,.4),formatSecondaryEffect:t=>format(t,2,2),alteredColor:()=>GlyphAlteration.getAdditionColor("effarig"),alterationType:ALTERATION_TYPE.ADDITION},effarigdimensions:{id:"effarigdimensions",bitmaskIndex:25,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"All Dimension power +{value}",totalDesc:"All Dimension multipliers ^{value}",genericDesc:"All Dimension multipliers ^x",shortDesc:"All Dimension power +{value}",effect:(t,e)=>1+Math.pow(t,.25)*Math.pow(e,.4)/500,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents},effarigantimatter:{id:"effarigantimatter",bitmaskIndex:26,isGenerated:!0,glyphTypes:["effarig"],singleDesc:()=>`Antimatter production:
${formatInt(10)}^x ➜ ${formatInt(10)}^(x^{value})`,genericDesc:"Antimatter production exponent power",shortDesc:"AM production exponent ^{value}",effect:(t,e)=>1+Math.pow(t,.25)*Math.pow(e,.4)/5e3,formatEffect:t=>format(t,4,4),combine:ti.multiply},timeshardpow:{id:"timeshardpow",bitmaskIndex:27,isGenerated:!0,glyphTypes:[],singleDesc:"Time Shard power +{value}",totalDesc:"Time Shard gain ^{value}",genericDesc:"Time Shards ^x",shortDesc:"Time Shard power +{value}",effect:(t,e)=>1+e/3.5*Math.pow(t,.35)/400,formatEffect:t=>format(t,3,3),formatSingleEffect:t=>format(t-1,3,3),combine:ti.addExponents,enabledInDoomed:!0},cursedgalaxies:{id:"cursedgalaxies",bitmaskIndex:0,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"All Galaxies are {value} weaker",totalDesc:"All Galaxy strength -{value}",shortDesc:"Galaxy Strength -{value}",effect:t=>Math.pow(t,-.03),formatEffect:t=>formatPercents(1-t,2),combine:ti.multiply},curseddimensions:{id:"curseddimensions",bitmaskIndex:1,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"All Dimension multipliers ^{value}",shortDesc:"All Dimensions ^{value}",effect:t=>Math.pow(t,-.035),formatEffect:t=>format(t,3,3),combine:ti.multiply},cursedtickspeed:{id:"cursedtickspeed",bitmaskIndex:2,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"The threshold for Tickspeed Upgrades from Time Dimensions is multiplied by ×{value}",totalDesc:"The threshold for Tickspeed Upgrades from Time Dimensions is increased by ×{value}",shortDesc:"TD Tickspeed threshold ×{value}",effect:t=>Math.clampMin(Math.log10(t),1),formatEffect:t=>format(t,3,3),combine:ti.add},cursedEP:{id:"cursedEP",bitmaskIndex:3,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"Divide Eternity Point gain by {value}",totalDesc:"Eternity Point gain / {value}",shortDesc:"EP / {value}",effect:t=>Decimal.pow10(-t/10),formatEffect:t=>format(t.reciprocal()),combine:ti.multiplyDecimal},realityglyphlevel:{id:"realityglyphlevel",bitmaskIndex:4,isGenerated:!1,glyphTypes:["reality"],singleDesc:"Increase the effective level of equipped basic Glyphs by {value}",totalDesc:"Equipped basic Glyph level +{value}",shortDesc:"Basic Glyph Level +{value}",effect:t=>Math.floor(Math.sqrt(t*90)),formatEffect:t=>formatInt(t),combine:ti.add},realitygalaxies:{id:"realitygalaxies",bitmaskIndex:5,isGenerated:!1,glyphTypes:["reality"],singleDesc:"All Galaxies are {value} stronger",totalDesc:"All Galaxy strength +{value}",shortDesc:"Galaxy Strength +{value}",effect:t=>1+Math.pow(t/1e5,.5),formatEffect:t=>formatPercents(t-1,2),combine:ti.multiply},realityrow1pow:{id:"realityrow1pow",bitmaskIndex:6,isGenerated:!1,glyphTypes:["reality"],singleDesc:"Multiplier from Reality Upgrade Amplifiers ^{value}",totalDesc:"Reality Upgrade Amplifier multiplier ^{value}",shortDesc:"Amplifier Multiplier ^{value}",effect:t=>1+t/125e3,formatEffect:t=>format(t,3,3),combine:ti.addExponents},realityDTglyph:{id:"realityDTglyph",bitmaskIndex:7,isGenerated:!1,glyphTypes:["reality"],singleDesc:()=>`Dilated Time factor for Glyph level: 
^${format(1.3,1,1)}
      ➜ ^(${format(1.3,1,1)} + {value})`,totalDesc:()=>`Dilated Time factor for Glyph level: ^${format(1.3,1,1)}
      ➜ ^(${format(1.3,1,1)} + {value})`,genericDesc:"Dilated Time factor for Glyph level",shortDesc:"DT pow. for level +{value}",effect:()=>.1,formatEffect:t=>format(t,2,2),combine:ti.add},companiondescription:{id:"companiondescription",bitmaskIndex:8,isGenerated:!1,glyphTypes:["companion"],singleDesc:"It does nothing but sit there and cutely smile at you, whisper into your dreams politely, and plot the demise of all who stand against you. This one-of-a-kind Glyph will never leave you.",totalDesc:"+{value} happiness",shortDesc:"Doesn't want to hurt you",effect:()=>{if(Enslaved.isRunning)return 0;const t=Glyphs.active.countWhere(e=>(e==null?void 0:e.type)==="cursed");return t>0?Math.pow(.2+.2*Math.random(),t):.4+.6*Math.random()},formatEffect:t=>formatPercents(t,2,2),combine:ti.add,enabledInDoomed:!0},companionEP:{id:"companionEP",bitmaskIndex:9,isGenerated:!1,glyphTypes:["companion"],singleDesc:"Thanks for your dedication for the game! You reached {value} Eternity Points on your first Reality.",shortDesc:"It loves you very, very much",totalDesc:()=>Enslaved.isRunning||Glyphs.active.countWhere(t=>(t==null?void 0:t.type)==="cursed")?"Help me":"Yay!",effect:(t,e)=>Decimal.pow10(1e6*strengthToRarity(e)),formatEffect:t=>formatPostBreak(t,2),combine:ti.multiplyDecimal,enabledInDoomed:!0}},JY={power:{id:"power",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 0;const e=player.reality.glyphs.sac.power+(t??0),i=Math.clampMax(e,GlyphSacrificeHandler.maxSacrificeForEffects),n=Math.log10(i+1)/Math.log10(GlyphSacrificeHandler.maxSacrificeForEffects);return Math.floor(750*Math.pow(n,1.2))},description:t=>{const e=GlyphSacrificeHandler.maxSacrificeForEffects,i=Math.pow(10,Math.pow((t+1)/750,1/1.2)*Math.log10(e))-1,n=t<750?` (next at ${format(i,2,2)})`:"";return`Distant Galaxy scaling starts ${formatInt(t)} later${n}`},cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},infinity:{id:"infinity",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 1;const e=player.reality.glyphs.sac.infinity+(t??0),i=Math.clampMax(e,GlyphSacrificeHandler.maxSacrificeForEffects);return 1+Math.log10(1+Math.pow(i,.2)/100)},description:t=>`${formatX(t,2,2)} bigger multiplier when buying 8th Infinity Dimension`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},time:{id:"time",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 1;const e=player.reality.glyphs.sac.time+(t??0),i=Math.clampMax(e,GlyphSacrificeHandler.maxSacrificeForEffects);return Math.pow(1+Math.pow(i,.2)/100,2)},description:t=>`${formatX(t,2,2)} bigger multiplier when buying 8th Time Dimension`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},replication:{id:"replication",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 0;const e=player.reality.glyphs.sac.replication+(t??0),i=Math.clampMax(e,GlyphSacrificeHandler.maxSacrificeForEffects),n=Math.log10(i+1)/Math.log10(GlyphSacrificeHandler.maxSacrificeForEffects);return Math.floor(1500*Math.pow(n,1.2))},description:t=>{const e=GlyphSacrificeHandler.maxSacrificeForEffects,i=Math.pow(10,Math.pow((t+1)/1500,1/1.2)*Math.log10(e))-1,n=t<1500?` (next at ${format(i,2,2)})`:"";return`Replicanti Galaxy scaling starts ${formatInt(t)} later${n}`},cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},dilation:{id:"dilation",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 1;const e=player.reality.glyphs.sac.dilation+(t??0),i=Math.clampMax(e,GlyphSacrificeHandler.maxSacrificeForEffects),n=.32*Math.pow(Math.log10(i+1)/Math.log10(GlyphSacrificeHandler.maxSacrificeForEffects),.1);return Math.pow(Math.clampMin(i,1),n)},description:t=>`Multiply Tachyon Particle gain by ${formatX(t,2,2)}`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},effarig:{id:"effarig",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 0;const e=player.reality.glyphs.sac.effarig+(t??0),i=Math.clampMax(e,1e70);return 2*Math.log10(i/1e20+1)},description:t=>`+${formatPercents(t/100,2)} additional Glyph rarity`,cap:()=>1e70},reality:{id:"reality",effect:t=>{if(Pelle.isDisabled("glyphsac"))return 0;const e=player.reality.glyphs.sac.reality+(t??0);return Math.clampMax(1+Math.sqrt(e)/15,100)},description:t=>`Multiply Memory Chunk gain by ${formatX(t,2,3)}`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects}},Ml=t=>{t.cost=()=>t.initialCost*Math.pow(t.costMult,player.reality.imaginaryRebuyables[t.id]);const{effect:e}=t;return t.isDecimal?t.effect=()=>Decimal.pow(e,player.reality.imaginaryRebuyables[t.id]):t.effect=()=>e*player.reality.imaginaryRebuyables[t.id],t.formatEffect||(t.formatEffect=i=>`+${format(i,2,2)}`),t.formatCost=i=>format(i,2,0),t},e9=[Ml({name:"Temporal Intensifier",id:1,initialCost:3,costMult:60,description:()=>`Increase Temporal Amplifier multiplier by +${format(.15,2,2)}`,effect:.15}),Ml({name:"Replicative Intensifier",id:2,initialCost:4,costMult:60,description:()=>`Increase Replicative Amplifier multiplier by +${format(.15,2,2)}`,effect:.15}),Ml({name:"Eternal Intensifier",id:3,initialCost:1,costMult:40,description:()=>`Increase Eternal Amplifier multiplier by +${format(.4,2,2)}`,effect:.4}),Ml({name:"Superluminal Intensifier",id:4,initialCost:5,costMult:80,description:()=>`Increase Superluminal Amplifier multiplier by +${format(.15,2,2)}`,effect:.15}),Ml({name:"Boundless Intensifier",id:5,initialCost:1,costMult:30,description:()=>`Increase Boundless Amplifier multiplier by +${format(.6,2,2)}`,effect:.6}),Ml({name:"Elliptic Materiality",id:6,initialCost:1e4,costMult:500,description:()=>`Increase the Reality Machine cap by ${formatX(1e100)}`,effect:1e100,formatEffect:t=>`${formatX(t)}`,isDecimal:!0}),Ml({name:"Runic Assurance",id:7,initialCost:2e5,costMult:500,description:()=>`Delay Glyph Instability starting level by ${formatInt(200)}`,effect:200,formatEffect:t=>`+${formatInt(t)} levels`}),Ml({name:"Hyperbolic Apeirogon",id:8,initialCost:1e7,costMult:800,description:()=>`Multiply Infinity Dimensions by ${format("1e100000")}`,effect:DC.E100000,formatEffect:t=>`${formatX(t)}`,isDecimal:!0}),Ml({name:"Cosmic Filament",id:9,initialCost:1e9,costMult:1e3,description:()=>"Increase Galaxy strength",effect:.03,formatEffect:t=>`+${formatPercents(t)}`}),Ml({name:"Entropic Condensing",id:10,initialCost:8e9,costMult:2e3,description:()=>"Increase Singularity gain",effect:1,formatEffect:t=>`${formatX(1+t,2)}`}),{name:"Suspicion of Interference",id:11,cost:5e7,requirement:()=>`${format(1e90)} total Relic Shards
      (You have ${format(player.celestials.effarig.relicShards,2)})`,hasFailed:()=>!1,checkRequirement:()=>player.celestials.effarig.relicShards>=1e90,checkEvent:GAME_EVENT.REALITY_RESET_AFTER,description:"Time Dimension power based on total antimatter",effect:()=>1+Math.log10(player.records.totalAntimatter.log10())/100,formatEffect:t=>`${formatPow(t,0,4)}`,isDisabledInDoomed:!0},{name:"Consequences of Illusions",id:12,cost:5e7,requirement:()=>`Make a level ${formatInt(9e3)} Glyph with a single Glyph level factor weight at
    ${formatInt(100)}`,hasFailed:()=>!1,checkRequirement:()=>Object.values(player.celestials.effarig.glyphWeights).some(t=>t===100)&&gainedGlyphLevel().actualLevel>=9e3,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Gain free Dimboosts based on Imaginary rebuyable count",effect:()=>2e4*ImaginaryUpgrades.totalRebuyables,formatEffect:t=>`${format(t,1)}`,isDisabledInDoomed:!0},{name:"Transience of Information",id:13,cost:5e7,requirement:()=>`Reach ${format(Number.MAX_VALUE,2)} projected Reality Machines within
      The Nameless Ones' Reality`,hasFailed:()=>!Enslaved.isRunning,checkRequirement:()=>Enslaved.isRunning&&MachineHandler.uncappedRM.times(simulatedRealityCount(!1)+1).gte(Number.MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Increase Imaginary Machine Cap based on Imaginary Upgrades purchased",effect:()=>1+ImaginaryUpgrades.totalRebuyables/20+ImaginaryUpgrades.totalSinglePurchase/2,formatEffect:t=>`${formatX(t,2,1)}`,isDisabledInDoomed:!0},{name:"Recollection of Intrusion",id:14,cost:35e7,formatCost:t=>format(t,1),requirement:()=>`Reach a tickspeed of ${format("1e75000000000")} / sec within Eternity Challenge 5`,hasFailed:()=>!1,checkRequirement:()=>EternityChallenge(5).isRunning&&Tickspeed.perSecond.exponent>=75e9,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Raise all Dimension per-purchase multipliers to ${formatPow(1.5,0,1)}`,effect:1.5,isDisabledInDoomed:!0},{name:"Fabrication of Ideals",id:15,cost:1e9,requirement:()=>`Reach ${format("1e1500000000000")} antimatter without
      ever having any 1st Infinity Dimensions`,hasFailed:()=>player.requirementChecks.reality.maxID1.gt(0),checkRequirement:()=>player.requirementChecks.reality.maxID1.eq(0)&&player.antimatter.exponent>=15e11,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,description:()=>`${Pelle.isDoomed?"Unlock":"Convert Antimatter Dimensions to Continuum and unlock"} Lai'tela, Celestial of Dimensions`},{name:"Massless Momentum",id:16,cost:35e8,formatCost:t=>format(t,1),requirement:()=>`Destabilize Lai'tela's Reality in under ${formatInt(30)} seconds twice`,hasFailed:()=>!1,checkRequirement:()=>Laitela.maxAllowedDimension<=6,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Unlock the 2nd Dark Matter Dimension"},{name:"Chiral Oscillation",id:17,cost:6e9,requirement:()=>`Automatically condense at least ${formatInt(20)} Singularities at once`,hasFailed:()=>!1,checkRequirement:()=>Singularity.singularitiesGained>=20&&Currency.darkEnergy.gte(Singularity.cap*SingularityMilestone.autoCondense.effectOrDefault(1/0)),checkEvent:GAME_EVENT.SINGULARITY_RESET_BEFORE,description:"Unlock the 3rd Dark Matter Dimension"},{name:"Dimensional Symmetry",id:18,cost:15e9,formatCost:t=>format(t,1),requirement:()=>`Have ${formatInt(8e4)} total Galaxies`,hasFailed:()=>!1,checkRequirement:()=>Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies>=8e4,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Unlock the 4th Dark Matter Dimension"},{name:"Deterministic Radiation",id:19,cost:28e9,formatCost:t=>format(t,1),requirement:()=>`Reach ${formatInt(385e4)} Tickspeed Continuum without ever having more than
      ${formatInt(8)} Time Studies in this Reality`,hasFailed:()=>player.requirementChecks.reality.maxStudies>8,checkRequirement:()=>player.requirementChecks.reality.maxStudies<=8&&Tickspeed.continuumValue>=385e4,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,lockEvent:()=>`purchase more than ${formatInt(8)} Time Studies`,description:"Unlock Dark Matter Annihilation"},{name:"Vacuum Acceleration",id:20,cost:3e12,requirement:()=>`Have a Continuum increase of at least ${formatPercents(1)}`,hasFailed:()=>!1,checkRequirement:()=>Laitela.matterExtraPurchaseFactor>=2,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Unlock Autobuyers for repeatable Imaginary Upgrades and generate Imaginary Machines
      ${formatInt(10)} times faster`,effect:10,isDisabledInDoomed:!0},{name:"Existential Elimination",id:21,cost:1e13,requirement:()=>`Reach ${format("1e7400000000000")} antimatter with Continuum disabled for the entire Reality`,hasFailed:()=>!player.requirementChecks.reality.noContinuum,checkRequirement:()=>player.requirementChecks.reality.noContinuum&&Currency.antimatter.value.log10()>=74e11,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,lockEvent:"enable Continuum",description:"Annihilation multiplier gain is improved based on Imaginary Machines",effect:()=>Math.clampMin(Math.pow(Math.log10(Currency.imaginaryMachines.value)-10,3),1),formatEffect:t=>`${formatX(t,2,1)}`,isDisabledInDoomed:!0},{name:"Total Termination",id:22,cost:15e13,formatCost:t=>format(t,1),requirement:()=>`Reach ${format("1e150000000000")} antimatter in Effarig's Reality with
      at least ${formatInt(4)} Cursed Glyphs equipped`,hasFailed:()=>!Effarig.isRunning||player.requirementChecks.reality.maxGlyphs>-10,checkRequirement:()=>Effarig.isRunning&&player.requirementChecks.reality.maxGlyphs<-10&&Currency.antimatter.value.exponent>=15e10,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`All Glyph Sacrifice totals are increased to ${format(1e100)}`,effect:1e100,isDisabledInDoomed:!0},{name:"Planar Purification",id:23,cost:6e14,requirement:()=>`Reach Glyph level ${formatInt(2e4)} in Ra's Reality with
      at most ${formatInt(0)} Glyphs equipped`,hasFailed:()=>!Ra.isRunning||player.requirementChecks.reality.maxGlyphs>0,checkRequirement:()=>Ra.isRunning&&player.requirementChecks.reality.maxGlyphs<=0&&gainedGlyphLevel().actualLevel>=2e4,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Increase free Dimboost count based on Tesseract count",effect:()=>Math.floor(.25*Math.pow(Tesseracts.effectiveCount,2)),formatEffect:t=>`${formatX(t)}`,isDisabledInDoomed:!0},{name:"Absolute Annulment",id:24,cost:6e14,requirement:()=>`Have ${formatInt(13e3)} Antimatter Galaxies in Ra's Reality
      with a fully inverted Black Hole`,hasFailed:()=>!Ra.isRunning||player.requirementChecks.reality.slowestBH>1e-300,checkRequirement:()=>Ra.isRunning&&player.requirementChecks.reality.slowestBH<=1e-300&&player.galaxies>=13e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,description:"Increase free Dimboost strength based on Singularity count",effect:()=>Decimal.pow(player.celestials.laitela.singularities,300),formatEffect:t=>`${formatX(t,2,1)}`,isDisabledInDoomed:!0},{name:"Omnipresent Obliteration",id:25,cost:16e14,formatCost:t=>format(t,1),requirement:()=>`Reach Reality in Lai'tela's Reality with all Dimensions disabled and
      at least ${formatInt(4)} empty Glyph slots`,hasFailed:()=>!Laitela.isRunning||Laitela.maxAllowedDimension!==0||Glyphs.activeWithoutCompanion.length>1,checkRequirement:()=>Laitela.isRunning&&Laitela.maxAllowedDimension===0&&Glyphs.activeWithoutCompanion.length<=1&&TimeStudy.reality.isBought,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,lockEvent:"equip another non-Companion Glyph",description:"Unlock Pelle, Celestial of Antimatter"}],Iy=t=>{t.cost=()=>getHybridCostScaling(player.reality.rebuyables[t.id],1e30,t.initialCost,t.costMult,t.costMult/10,DC.E309,1e3,t.initialCost*t.costMult);const{effect:e}=t;return t.effect=()=>Math.pow(e+ImaginaryUpgrade(t.id).effectOrDefault(0),player.reality.rebuyables[t.id]*getAdjustedGlyphEffect("realityrow1pow")),t.description=()=>t.textTemplate.replace("{value}",ImaginaryUpgrade(t.id).effectValue===0?formatInt(e):format(e+ImaginaryUpgrade(t.id).effectValue,2,2)),t.formatEffect=i=>formatX(i,2,0),t.formatCost=i=>format(i,2,0),t},t9=[Iy({name:"Temporal Amplifier",id:1,initialCost:1,costMult:30,textTemplate:"You gain Dilated Time {value} times faster",effect:3}),Iy({name:"Replicative Amplifier",id:2,initialCost:1,costMult:30,textTemplate:"You gain Replicanti {value} times faster",effect:3}),Iy({name:"Eternal Amplifier",id:3,initialCost:2,costMult:30,textTemplate:"You gain {value} times more Eternities",effect:3}),Iy({name:"Superluminal Amplifier",id:4,initialCost:2,costMult:30,textTemplate:"You gain {value} times more Tachyon Particles",effect:3}),Iy({name:"Boundless Amplifier",id:5,initialCost:3,costMult:50,textTemplate:"You gain {value} times more Infinities",effect:5}),{name:"Cosmically Duplicate",id:6,cost:15,requirement:"Complete your first manual Eternity without using Replicanti Galaxies",hasFailed:()=>!(player.requirementChecks.eternity.noRG&&player.requirementChecks.reality.noEternities),checkRequirement:()=>player.requirementChecks.eternity.noRG&&player.requirementChecks.reality.noEternities,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,canLock:!0,lockEvent:"gain a Replicanti Galaxy",description:"Replicanti speed is multiplied based on Replicanti Galaxies",effect:()=>1+Replicanti.galaxies.total/50,formatEffect:t=>formatX(t,2,2)},{name:"Innumerably Construct",id:7,cost:15,requirement:"Complete your first Infinity with at most 1 Antimatter Galaxy",hasFailed:()=>!(player.galaxies<=1&&player.requirementChecks.reality.noInfinities),checkRequirement:()=>player.galaxies<=1&&player.requirementChecks.reality.noInfinities,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,canLock:!0,lockEvent:"gain another Antimatter Galaxy",description:"Infinity gain is boosted from Antimatter Galaxy count",effect:()=>1+player.galaxies/30,formatEffect:t=>formatX(t,2,2)},{name:"Paradoxically Attain",id:8,cost:15,requirement:"Manually Eternity without any automatic Achievements",hasFailed:()=>player.reality.gainedAutoAchievements,checkRequirement:()=>!player.reality.gainedAutoAchievements,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,canLock:!0,description:"Tachyon Particle gain is boosted based on Achievement multiplier",effect:()=>Math.sqrt(Achievements.power),formatEffect:t=>formatX(t,2,2)},{name:"Linguistically Expand",id:9,cost:15,requirement:()=>`Eternity for ${format("1e4000")} Eternity Points using
      only a single Glyph which must be level ${formatInt(3)}+.`,hasFailed:()=>{const t=Glyphs.activeWithoutCompanion.length>1||Glyphs.activeWithoutCompanion.length===1&&Glyphs.activeWithoutCompanion[0].level<3,e=Glyphs.inventory.countWhere(i=>i&&i.level>=3)>0;return t||Glyphs.activeWithoutCompanion.length===0&&!e},checkRequirement:()=>Currency.eternityPoints.exponent>=4e3&&Glyphs.activeWithoutCompanion.length===1&&Glyphs.activeWithoutCompanion[0].level>=3,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,description:"Gain another Glyph slot",effect:()=>1},{name:"Existentially Prolong",id:10,cost:15,requirement:()=>`Complete your first manual Eternity with at least ${formatPostBreak(DC.E400)} Infinity Points`,hasFailed:()=>!player.requirementChecks.reality.noEternities,checkRequirement:()=>Currency.infinityPoints.exponent>=400&&player.requirementChecks.reality.noEternities,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,canLock:!0,lockEvent:"Eternity",bypassLock:()=>Currency.infinityPoints.exponent>=400,description:()=>`Start every Reality with ${formatInt(100)} Eternities (also applies to current Reality)`,automatorPoints:15,shortDescription:()=>`Start with ${formatInt(100)} Eternities`,effect:()=>100},{name:"The Boundless Flow",id:11,cost:50,requirement:()=>`${format(Currency.infinitiesBanked.value,2)}/${format(DC.E12)} Banked Infinities`,checkRequirement:()=>Currency.infinitiesBanked.exponent>=12,checkEvent:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.REALITY_FIRST_UNLOCKED],description:"Every second, gain 10% of the Infinities you would normally gain by Infinitying",automatorPoints:5,shortDescription:()=>"Continuous Infinity generation",effect:()=>gainedInfinities().times(.1),formatEffect:t=>`${format(t)} per second`},{name:"The Knowing Existence",id:12,cost:50,requirement:()=>`Eternity for ${format(DC.E70)} Eternity Points without completing Eternity Challenge 1`,hasFailed:()=>EternityChallenge(1).completions!==0,checkRequirement:()=>Currency.eternityPoints.exponent>=70&&EternityChallenge(1).completions===0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,lockEvent:"complete Eternity Challenge 1",description:"Eternity Point multiplier based on Reality and Time Theorem count",effect:()=>Currency.timeTheorems.value.minus(DC.E3).clampMin(2).pow(Math.log2(Math.min(Currency.realities.value,1e4))).clampMin(1),formatEffect:t=>formatX(t,2,2)},{name:"The Telemechanical Process",id:13,cost:50,requirement:()=>`Eternity for ${format(DC.E4000)} Eternity Points without Time Dim. 5-8`,hasFailed:()=>!Array.range(5,4).every(t=>TimeDimension(t).amount.equals(0)),checkRequirement:()=>Currency.eternityPoints.exponent>=4e3&&Array.range(5,4).every(t=>TimeDimension(t).amount.equals(0)),checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,lockEvent:"purchase a Time Dimension above the 4th TD",description:()=>`Improve Eternity Autobuyer and unlock autobuyers for Time Dimensions and ${formatX(5)} EP`,automatorPoints:10,shortDescription:()=>`TD and ${formatX(5)} EP Autobuyers, improved Eternity Autobuyer`},{name:"The Eternal Flow",id:14,cost:50,requirement:()=>`${format(Currency.eternities.value,2)}/${format(1e7)} Eternities`,checkRequirement:()=>Currency.eternities.gte(1e7),checkEvent:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.REALITY_FIRST_UNLOCKED],description:"Gain Eternities per second equal to your Reality count",automatorPoints:5,shortDescription:()=>"Continuous Eternity generation",effect:()=>Currency.realities.value*Ra.unlocks.continuousTTBoost.effects.eternity.effectOrDefault(1),formatEffect:t=>`${format(t)} per second`},{name:"The Paradoxical Forever",id:15,cost:50,requirement:()=>`Have ${format(DC.E10)} Eternity Points without purchasing
      the ${formatX(5)} Eternity Point upgrade`,hasFailed:()=>player.epmultUpgrades!==0,checkRequirement:()=>Currency.eternityPoints.exponent>=10&&player.epmultUpgrades===0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,lockEvent:()=>`purchase a ${formatX(5)} EP upgrade`,description:()=>`Boost Tachyon Particle gain based on ${formatX(5)} Eternity Point multiplier`,effect:()=>Math.max(Math.sqrt(Decimal.log10(EternityUpgrade.epMult.effectValue))/9,1),formatEffect:t=>formatX(t,2,2)},{name:"Disparity of Rarity",id:16,cost:1500,requirement:()=>`Reality with ${formatInt(4)} Glyphs equipped of uncommon or better rarity
      (${formatInt(Glyphs.activeWithoutCompanion.countWhere(t=>t&&t.strength>=1.5))} equipped)`,hasFailed:()=>{const t=Glyphs.inventory.countWhere(n=>n&&n.strength>=1.5),e=Glyphs.activeWithoutCompanion.countWhere(n=>n.strength>=1.5),i=Glyphs.activeSlotCount-Glyphs.activeList.length;return e+Math.min(t,i)<4},checkRequirement:()=>Glyphs.activeWithoutCompanion.countWhere(t=>t.strength>=1.5)===4,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Improve the Glyph rarity formula",effect:1.3,formatCost:t=>format(t,1,0)},{name:"Duplicity of Potency",id:17,cost:1500,requirement:()=>`Reality with ${formatInt(4)} Glyphs equipped, each having at least ${formatInt(2)} effects
      (${formatInt(Glyphs.activeWithoutCompanion.countWhere(t=>t&&countValuesFromBitmask(t.effects)>=2))}
      equipped)`,hasFailed:()=>{const t=Glyphs.inventory.countWhere(n=>n&&countValuesFromBitmask(n.effects)>=2),e=Glyphs.activeWithoutCompanion.countWhere(n=>countValuesFromBitmask(n.effects)>=2),i=Glyphs.activeSlotCount-Glyphs.activeList.length;return e+Math.min(t,i)<4},checkRequirement:()=>Glyphs.activeWithoutCompanion.countWhere(t=>countValuesFromBitmask(t.effects)>=2)===4,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:()=>`${formatPercents(.5)} chance to get an additional effect on Glyphs`,effect:.5,formatCost:t=>format(t,1,0)},{name:"Measure of Forever",id:18,cost:1500,requirement:()=>`Reality with ${formatInt(4)} Glyphs equipped, each at level ${formatInt(10)} or higher
      (${formatInt(Glyphs.activeWithoutCompanion.countWhere(t=>t&&t.level>=10))} equipped)`,hasFailed:()=>{const t=Glyphs.inventory.countWhere(n=>n&&n.level>=10),e=Glyphs.activeWithoutCompanion.countWhere(n=>n.level>=10),i=Glyphs.activeSlotCount-Glyphs.activeList.length;return e+Math.min(t,i)<4},checkRequirement:()=>Glyphs.activeWithoutCompanion.countWhere(t=>t.level>=10)===4,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Eternity count boosts Glyph level",effect:()=>Math.max(Math.sqrt(Currency.eternities.value.plus(1).log10())*.45,1),formatCost:t=>format(t,1,0)},{name:"Scour to Empower",id:19,cost:1500,requirement:()=>`Have a total of ${formatInt(10)} or more Glyphs at once
      (You have ${formatInt(Glyphs.allGlyphs.countWhere(t=>t.type!=="companion"))})`,hasFailed:()=>Glyphs.allGlyphs.countWhere(t=>t.type!=="companion")<10,checkRequirement:()=>Glyphs.allGlyphs.countWhere(t=>t.type!=="companion")>=10,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"You can sacrifice Glyphs for permanent bonuses (Shift + click)",formatCost:t=>format(t,1,0)},{name:"Parity of Singularity",id:20,cost:1500,requirement:()=>`${formatInt(100)} days total play time after unlocking the Black Hole
      (Currently: ${Time.timeSinceBlackHole.toStringShort(!1)})`,hasFailed:()=>!BlackHole(1).isUnlocked&&Currency.realityMachines.lt(100),checkRequirement:()=>Time.timeSinceBlackHole.totalDays>=100&&BlackHole(1).isUnlocked,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Unlock another Black Hole",automatorPoints:10,shortDescription:()=>"Second Black Hole",formatCost:t=>format(t,1,0)},{name:"Cosmic Conglomerate",id:21,cost:1e5,requirement:()=>`${formatInt(Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies)}/${formatInt(2800)} total Galaxies from all types`,checkRequirement:()=>Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies>=2800,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Remote Antimatter Galaxy scaling is moved to ${formatInt(1e5)} galaxies`,effect:1e5},{name:"Temporal Transcendence",id:22,cost:1e5,requirement:()=>`${format(Currency.timeShards.value,1)}/${format(DC.E28000)} Time Shards`,checkRequirement:()=>Currency.timeShards.exponent>=28e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Time Dimension multiplier based on days spent in this Reality",effect:()=>Decimal.pow10(Math.pow(1+2*Math.log10(Time.thisReality.totalDays+1),1.6)),formatEffect:t=>formatX(t,2,2)},{name:"Replicative Rapidity",id:23,cost:1e5,requirement:()=>`Reality in under ${formatInt(15)} minutes of game time
      (Fastest: ${Time.bestReality.toStringShort()})`,hasFailed:()=>Time.thisReality.totalMinutes>=15,checkRequirement:()=>Time.thisReality.totalMinutes<15,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Replicanti speed is boosted based on your fastest game-time Reality",effect:()=>15/Math.clamp(Time.bestReality.totalMinutes,1/12,15),cap:180,formatEffect:t=>formatX(t,2,2)},{name:"Synthetic Symbolism",id:24,cost:1e5,requirement:()=>`Reality for ${formatInt(5e3)} Reality Machines without equipped Glyphs`,hasFailed:()=>Glyphs.activeWithoutCompanion.length>0,checkRequirement:()=>MachineHandler.gainedRealityMachines.gte(5e3)&&Glyphs.activeWithoutCompanion.length===0,canLock:!0,lockEvent:"equip a non-Companion Glyph",checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Gain another Glyph slot",effect:()=>1},{name:"Effortless Existence",id:25,cost:1e5,requirement:()=>`Reach ${format(DC.E11111)} EP (Best: ${format(player.records.bestReality.bestEP,2)} EP)`,checkRequirement:()=>player.records.bestReality.bestEP.exponent>=11111,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,description:"Unlock the Reality autobuyer and Automator command",automatorPoints:100,shortDescription:()=>"Reality Autobuyer"}],j_={automator:KY,cosmeticGlyphs:VY,glyphCosmeticSets:ZY,glyphEffects:QY,glyphSacrifice:JY,glyphTypes:HY,imaginaryUpgrades:e9,perks:wC,perkConnections:YY,upgrades:t9},_e={DIMENSION(t,e){const i=e??"";switch(t){case"AD":return{symbol:`<b>Ω${i}</b>`,color:"var(--color-antimatter)"};case"ID":return{symbol:`<b>∞${i}</b>`,color:"var(--color-infinity)"};case"TD":return{symbol:`<b>Δ${i}</b>`,color:"var(--color-eternity)"};default:throw new Error("Unrecognized dimension type in multiplier tab icons")}},PURCHASE(t,e){const i=`<i class="fas fa-arrow-up-right-dots" />${e??""}`;switch(t){case"AD":return{symbol:i,color:"var(--color-antimatter)"};case"ID":return{symbol:i,color:"var(--color-infinity)"};case"TD":return{symbol:i,color:"var(--color-eternity)"};case"baseID":return{symbol:'<i class="fas fa-arrows-up-to-line" />',color:"var(--color-infinity)"};case"tesseractID":return{symbol:'<i class="fas fa-up-right-and-down-left-from-center" />',color:"var(--color-enslaved--base)"};default:throw new Error("Unrecognized purchase type in multiplier tab icons")}},CHALLENGE(t,e){const i=`<i class="fas fa-arrow-down-wide-short" />${e??""}`;switch(t){case"infinity":return{symbol:`<b>∞</b>${i}`,color:"var(--color-infinity)"};case"eternity":return{symbol:`<b>Δ</b>${i}`,color:"var(--color-eternity)"};default:throw new Error("Unrecognized challenge type in multiplier tab icons")}},SACRIFICE(t){const e='<i class="fas fa-turn-down" />';switch(t){case"antimatter":return{symbol:`<b>Ω</b>${e}`,color:"var(--color-antimatter)"};case"infinity":return{symbol:`<b>∞</b>${e}`,color:"var(--color-infinity)"};case"time":return{symbol:`<b>Δ</b>${e}`,color:"var(--color-eternity)"};case"dilation":return{symbol:`<b>Ψ</b>${e}`,color:"var(--color-dilation)",textColor:"black"};default:throw new Error("Unrecognized sacrifice type in multiplier tab icons")}},UPGRADE(t){const e='<i class="fas fa-arrow-up" />';switch(t){case"infinity":return{symbol:`<b>∞</b>${e}`,color:"var(--color-infinity)"};case"eternity":return{symbol:`<b>Δ</b>${e}`,color:"var(--color-eternity)"};case"dilation":return{symbol:`<b>Ψ</b>${e}`,color:"var(--color-dilation)"};case"reality":return{symbol:`<b>Ϟ</b>${e}`,color:"var(--color-reality)"};case"imaginary":return{symbol:`<i class="far fa-lightbulb" />${e}`,color:"var(--color-ra--base)"};default:throw new Error("Unrecognized upgrade type in multiplier tab icons")}},CONVERT_FROM(t){return t==="AM"?{symbol:"<i class='fas fa-atom' /><i class='fa-solid fa-arrow-right-arrow-left' />",color:"var(--color-antimatter)"}:t==="IP"?{symbol:"<b>∞</b><i class='fa-solid fa-arrow-right-arrow-left' />",color:"var(--color-infinity)"}:{}},DIVISOR(t){let e;return t==="IP"&&(e="var(--color-infinity)"),t==="EP"&&(e="var(--color-eternity)"),{symbol:"<i class='fas fa-calculator' />",color:e}},ANTIMATTER:{symbol:"<i class='fas fa-atom' />",color:"var(--color-antimatter)"},DIMBOOST:{symbol:'<i class="fas fa-angles-up" />',color:j_.glyphTypes.power.color},TICKSPEED:{symbol:'<i class="fas fa-clock" />',color:"var(--color-eternity)"},GALAXY:{symbol:'<i class="fas fa-bahai" />',color:"var(--color-eternity)"},ACHIEVEMENT:{symbol:'<i class="fas fa-trophy" />',color:"var(--color-v--base)",textColor:"black"},BREAK_INFINITY:{symbol:"<b>∝</b>",color:"var(--color-infinity)",textColor:"black"},INFINITY_POWER:{symbol:'<b>∞</b><i class="fas fa-arrows-turn-right" />',color:"var(--color-infinity)",textColor:"black"},IPOW_CONVERSION:{symbol:'<i class="fas fa-arrow-down-up-across-line" />',color:"var(--color-infinity)",textColor:"black"},TIME_STUDY:{symbol:'<i class="fas fa-book" />',color:"var(--color-eternity)"},TACHYON_PARTICLES:{symbol:'<i class="fas fa-meteor" />',color:"var(--color-dilation)"},GENERIC_GLYPH:{symbol:'<i class="fas fa-clone" />',color:"var(--color-reality)"},SPECIFIC_GLYPH(t){return{symbol:`<b>${j_.glyphTypes[t].symbol}</b>`,color:j_.glyphTypes[t].color}},BLACK_HOLE:{symbol:'<i class="fas fa-circle" />',color:"var(--color-reality)"},GAMESPEED:{symbol:'<i class="fas fa-clock" />',color:"var(--color-reality)"},GENERIC_TERESA:{symbol:"<b>Ϟ</b>",color:"var(--color-teresa--base)"},GENERIC_ENSLAVED:{symbol:'<div class="o-tab-btn--cel3"></div>',color:"var(--color-enslaved--base)"},GENERIC_V:{symbol:"<b>⌬</b>",color:"var(--color-v--base)",textColor:"black"},GENERIC_RA:{symbol:'<i class="fas fa-sun" />',color:"var(--color-ra--base)"},ALCHEMY:{symbol:'<i class="fas fa-vial" />',color:"var(--color-ra-pet--effarig)"},BH_PULSE:{symbol:'<i class="fas fa-expand-arrows-alt" />',color:"var(--color-reality)"},GENERIC_LAITELA:{symbol:"<b>ᛝ</b>",color:"var(--color-laitela--base)",textColor:"var(--color-laitela--accent)"},SINGULARITY:{symbol:'<i class="fas fa-arrows-up-down-left-right" />',color:"var(--color-laitela--base)",textColor:"var(--color-laitela--accent)"},PELLE:{symbol:"<b>♅</b>",color:"var(--color-pelle--base)"},IAP:{symbol:'<i class="fas fa-coins" />',color:"var(--color-accent)"}},i9={total:{name:"Total Tickspeed",displayOverride:()=>{const t=Tickspeed.perSecond,e=Fe.activeDimCount("AD"),i=Fe.pluralizeDimensions(e);return`${format(t,2,2)}/sec on ${formatInt(e)} ${i}
        ➜ ${formatX(t.pow(e),2,2)}`},fakeValue:DC.E100,multValue:()=>Tickspeed.perSecond.pow(Fe.activeDimCount("AD")),isActive:()=>Tickspeed.perSecond.gt(1)&&effectiveBaseGalaxies()>0,dilationEffect:()=>Effarig.isRunning?Effarig.tickDilation:1,overlay:["<i class='fa-solid fa-clock' />"],icon:_e.TICKSPEED},base:{name:"Base Tickspeed from Achievements",displayOverride:()=>{const t=DC.D1.dividedByEffectsOf(Achievement(36),Achievement(45),Achievement(66),Achievement(83));return`${format(t,2,2)}/sec`},multValue:()=>new Decimal.pow10(100*Fe.decomposeTickspeed().base),isActive:()=>[36,45,66,83].some(t=>Achievement(t).canBeApplied),icon:_e.ACHIEVEMENT},upgrades:{name:"Tickspeed Upgrades",displayOverride:()=>`${formatInt(Tickspeed.totalUpgrades)} Total`,multValue:()=>new Decimal.pow10(100*Fe.decomposeTickspeed().tickspeed),isActive:!0,icon:_e.PURCHASE("AD")},galaxies:{name:"Galaxies",displayOverride:()=>{const t=player.galaxies+GalaxyGenerator.galaxies,e=Replicanti.galaxies.total,i=player.dilation.totalTachyonGalaxies;return`${formatInt(t+e+i)} Total`},multValue:()=>new Decimal.pow10(100*Fe.decomposeTickspeed().galaxies),isActive:!0,icon:_e.GALAXY},pelleTickspeedPow:{name:"Tickspeed Dilation Upgrade",powValue:()=>DilationUpgrade.tickspeedPower.effectValue,isActive:()=>DilationUpgrade.tickspeedPower.canBeApplied,icon:_e.UPGRADE("dilation")}},n9={purchased:{name:"Purchased Tickspeed Upgrades",displayOverride:()=>Laitela.continuumActive?formatFloat(Tickspeed.continuumValue,2,2):formatInt(player.totalTickBought),multValue:()=>Decimal.pow10(Laitela.continuumActive?Tickspeed.continuumValue:player.totalTickBought),isActive:()=>!0,icon:_e.PURCHASE("AD")},free:{name:"Tickspeed Upgrades from TD",displayOverride:()=>formatInt(player.totalTickGained),multValue:()=>Decimal.pow10(player.totalTickGained),isActive:()=>Currency.timeShards.gt(0),icon:_e.SPECIFIC_GLYPH("time")}};let sn=class Ap{constructor(e){this._player=e}get isInfinityUnlocked(){const e=this._player.infinitied?this._player.infinitied:this._player.infinities;return new Decimal(e).gt(0)||this.isEternityUnlocked}get isEternityUnlocked(){return new Decimal(this._player.eternities).gt(0)||this.isRealityUnlocked}get isRealityUnlocked(){return this._player.realities>0}get hasFullCompletion(){var e;return((e=this._player.records)==null?void 0:e.fullGameCompletions)>0}static get current(){return new Ap(player)}static of(e){return new Ap(e)}static infinityUnlocked(){return Ap.current.isInfinityUnlocked}static hasBroken(){return player.break||this.isEternityUnlocked||this.isRealityUnlocked}static replicantiUnlocked(){return Replicanti.areUnlocked||this.isEternityUnlocked}static eternityUnlocked(){return Ap.current.isEternityUnlocked}static dilationUnlocked(){return TimeStudy.dilation.isBought}static realityUnlocked(){return Ap.current.isRealityUnlocked}static seenAlteredSpeed(){const e=EternityChallenge(12);return this.realityUnlocked()||e.completions>0||e.isRunning}static challengeCompleted(){return NormalChallenges.all.slice(1).some(e=>e.isCompleted)}static infinityChallengeCompleted(){return InfinityChallenges.all.some(e=>e.isCompleted)}};const r9={total:{name:t=>t?`AD ${t} Multiplier`:NormalChallenge(12).isRunning?Fe.actualNC12Production().eq(0)?"Base AD Production from All Dimensions":`Base AD Production from ${Fe.isNC12ProducingEven()?"Even":"Odd"} Dimensions`:"Base AD Production",displayOverride:t=>{if(t){const i=NormalChallenge(12).isRunning?Fe.multInNC12(t):AntimatterDimension(t).multiplier;return formatX(i,2,2)}const e=EternityChallenge(7).isRunning?7:Fe.activeDimCount("AD");return NormalChallenge(12).isRunning?`${format(Fe.actualNC12Production(),2)}/sec`:`${format(AntimatterDimensions.all.filter(i=>i.isProducing).map(i=>i.multiplier).reduce((i,n)=>i.times(n),DC.D1).times(AntimatterDimension(e).totalAmount),2)}/sec`},multValue:t=>{if(NormalChallenge(12).isRunning){const n=Fe.actualNC12Production();return t?(Fe.isNC12ProducingEven()?t%2===0:t%2===1)?Fe.multInNC12(t):DC.D1:n.eq(0)?1:n}const e=t?AntimatterDimension(t).multiplier:AntimatterDimensions.all.filter(n=>n.isProducing).map(n=>n.multiplier).reduce((n,r)=>n.times(r),DC.D1),i=AntimatterDimension(EternityChallenge(7).isRunning?7:Fe.activeDimCount("AD")).totalAmount;return e.times(i).clampMin(1)},isActive:t=>t?t<=Fe.activeDimCount("AD"):!0,dilationEffect:()=>(player.dilation.active||Enslaved.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1)*(Effarig.isRunning?Effarig.multDilation:1),isDilated:!0,overlay:["Ω","<i class='fas fa-cube' />"],icon:t=>_e.DIMENSION("AD",t)},purchase:{name:t=>t?`Purchased AD ${t}`:"Purchases",multValue:t=>{const e=i=>Laitela.continuumActive?AntimatterDimension(i).continuumValue:Math.floor(AntimatterDimension(i).bought/10);return t?Decimal.pow(AntimatterDimensions.buyTenMultiplier,e(t)):AntimatterDimensions.all.filter(i=>i.isProducing).map(i=>Decimal.pow(AntimatterDimensions.buyTenMultiplier,e(i.tier))).reduce((i,n)=>i.times(n),DC.D1)},isActive:()=>!EternityChallenge(11).isRunning,icon:t=>_e.PURCHASE("AD",t)},highestDim:{name:()=>"Amount of highest Dimension",displayOverride:()=>{const t=EternityChallenge(7).isRunning?7:Fe.activeDimCount("AD");return`AD ${t}, ${format(AntimatterDimension(t).totalAmount,2)}`},multValue:()=>{const t=EternityChallenge(7).isRunning?7:Fe.activeDimCount("AD");return AntimatterDimension(t).totalAmount},isActive:()=>AntimatterDimension(1).isProducing,icon:_e.DIMENSION("AD")},dimboost:{name:t=>t?`Dimboosts on AD ${t}`:"Dimboosts",multValue:t=>t?DimBoost.multiplierToNDTier(t):AntimatterDimensions.all.filter(e=>e.isProducing).map(e=>DimBoost.multiplierToNDTier(e.tier)).reduce((e,i)=>e.times(i),DC.D1),isActive:!0,icon:_e.DIMBOOST},sacrifice:{name:"Sacrifice Multiplier",multValue:t=>!t||t===8?Sacrifice.totalBoost:DC.D1,isActive:t=>(!t||t===8)&&Sacrifice.totalBoost.gt(1)&&!EternityChallenge(11).isRunning,icon:_e.SACRIFICE("antimatter")},achievementMult:{name:"Achievement Multiplier",multValue:t=>Decimal.pow(Achievements.power,t?1:Fe.activeDimCount("AD")),isActive:()=>!Pelle.isDoomed&&!EternityChallenge(11).isRunning,icon:_e.ACHIEVEMENT},achievement:{name:"Achievement Rewards",multValue:t=>{const e=DC.D1.timesEffectsOf(Achievement(48),Achievement(56),Achievement(65),Achievement(72),Achievement(73),Achievement(74),Achievement(76),Achievement(84),Achievement(91),Achievement(92)),i=Array.repeat(DC.D1,9);for(let r=1;r<=8;r++)r===1&&(i[r]=i[r].timesEffectsOf(Achievement(28),Achievement(31),Achievement(68),Achievement(71))),i[r]=i[r].timesEffectsOf(r===8?Achievement(23):null,r<8?Achievement(34):null,r<=4?Achievement(64):null),Achievement(43).isUnlocked&&(i[r]=i[r].times(1+r/100));if(t)return e.times(i[t]);let n=DC.D1;for(let r=1;r<=Fe.activeDimCount("AD");r++)n=n.times(i[r]).times(e);return n},powValue:()=>Achievement(183).effectOrDefault(1),isActive:()=>!EternityChallenge(11).isRunning,icon:_e.ACHIEVEMENT},infinityUpgrade:{name:t=>t?`Infinity Upgrades (AD ${t})`:"Infinity Upgrades",multValue:t=>{const e=DC.D1.timesEffectsOf(InfinityUpgrade.totalTimeMult,InfinityUpgrade.thisInfinityTimeMult),i=Array.repeat(DC.D1,9);for(let r=1;r<=8;r++)r===1&&(i[r]=i[r].timesEffectsOf(InfinityUpgrade.unspentIPMult,InfinityUpgrade.unspentIPMult.chargedEffect)),i[r]=i[r].timesEffectsOf(AntimatterDimension(r).infinityUpgrade);if(t)return e.times(i[t]);let n=DC.D1;for(let r=1;r<=Fe.activeDimCount("AD");r++)n=n.times(i[r]).times(e);return n},powValue:t=>{const e=InfinityUpgrade.totalTimeMult.chargedEffect.effectOrDefault(1)*InfinityUpgrade.thisInfinityTimeMult.chargedEffect.effectOrDefault(1),i=Array.repeat(1,9);for(let n=1;n<=8;n++)i[n]=AntimatterDimension(n).infinityUpgrade.chargedEffect.effectOrDefault(1);return t?e*i[t]:e*Math.exp(i.slice(1).map(n=>Math.log(n)).sum()/Fe.activeDimCount("AD"))},isActive:()=>sn.infinityUnlocked()&&!EternityChallenge(11).isRunning,icon:_e.UPGRADE("infinity")},breakInfinityUpgrade:{name:"Break Infinity Upgrades",multValue:t=>{const e=DC.D1.timesEffectsOf(BreakInfinityUpgrade.totalAMMult,BreakInfinityUpgrade.currentAMMult,BreakInfinityUpgrade.achievementMult,BreakInfinityUpgrade.slowestChallengeMult,BreakInfinityUpgrade.infinitiedMult);return Decimal.pow(e,t?1:Fe.activeDimCount("AD"))},isActive:()=>player.break&&!EternityChallenge(11).isRunning,icon:_e.BREAK_INFINITY},infinityPower:{name:"Multiplier from Infinity Power",fakeValue:()=>Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate),multValue:t=>{const e=Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate).max(1);return Decimal.pow(e,t?1:Fe.activeDimCount("AD"))},isActive:()=>Currency.infinityPower.value.gt(1)&&!EternityChallenge(9).isRunning,icon:_e.INFINITY_POWER},infinityChallenge:{name:t=>t?`Infinity Challenges (AD ${t})`:"Infinity Challenges",multValue:t=>{const e=DC.D1.timesEffectsOf(InfinityChallenge(3),InfinityChallenge(3).reward),i=Array.repeat(DC.D1,9);for(let r=1;r<=8;r++)i[r]=i[r].timesEffectsOf(r>1&&r<8?InfinityChallenge(8).reward:null);if(t)return e.times(i[t]);let n=DC.D1;for(let r=1;r<=Fe.activeDimCount("AD");r++)n=n.times(i[r]).times(e);return n},powValue:()=>InfinityChallenge(4).reward.effectOrDefault(1),isActive:()=>player.break&&!EternityChallenge(11).isRunning,icon:_e.CHALLENGE("infinity")},timeStudy:{name:t=>t?`Time Studies (AD ${t})`:"Time Studies",multValue:t=>{const e=DC.D1.timesEffectsOf(TimeStudy(91),TimeStudy(101),TimeStudy(161),TimeStudy(193)),i=Array.repeat(DC.D1,9);for(let r=1;r<=8;r++){const a=DC.D1.timesEffectsOf(AntimatterDimension(r).infinityUpgrade,BreakInfinityUpgrade.infinitiedMult);i[r]=i[r].times(a.pow(TimeStudy(31).effectOrDefault(1)-1)),i[r]=i[r].timesEffectsOf(r<8?TimeStudy(71):null,r===8?TimeStudy(214):null,r===1?TimeStudy(234):null)}if(t)return e.times(i[t]);let n=DC.D1;for(let r=1;r<=Fe.activeDimCount("AD");r++)n=n.times(i[r]).times(e);return n},isActive:()=>sn.eternityUnlocked()&&!EternityChallenge(11).isRunning,icon:_e.TIME_STUDY},eternityChallenge:{name:"Eternity Challenges",multValue:t=>Decimal.pow(EternityChallenge(10).effectValue,t?1:Fe.activeDimCount("AD")),isActive:()=>EternityChallenge(10).isRunning,icon:_e.CHALLENGE("eternity")},glyph:{name:"Glyph Effects",multValue:t=>{const e=getAdjustedGlyphEffect("powermult");return Decimal.pow(e,t?1:Fe.activeDimCount("AD"))},powValue:()=>getAdjustedGlyphEffect("powerpow")*getAdjustedGlyphEffect("effarigdimensions")*(player.dilation.active?getAdjustedGlyphEffect("dilationpow"):1),isActive:()=>sn.realityUnlocked()&&!EternityChallenge(11).isRunning,icon:_e.GENERIC_GLYPH},v:{name:"5 V-Achievement Milestone - AD Power based on Space Theorems",powValue:()=>VUnlocks.adPow.effectOrDefault(1),isActive:()=>sn.realityUnlocked()&&!EternityChallenge(11).isRunning,icon:_e.ACHIEVEMENT},alchemy:{name:"Glyph Alchemy",multValue:t=>{const e=AlchemyResource.dimensionality.effectOrDefault(1).times(Currency.realityMachines.value.powEffectOf(AlchemyResource.force));return Decimal.pow(e,t?1:Fe.activeDimCount("AD"))},powValue:t=>{const e=AlchemyResource.power.effectOrDefault(1)*Ra.momentumValue;let i=1;if(AlchemyResource.inflation.isUnlocked)if(t)i=AntimatterDimension(t).multiplier.gte(AlchemyResource.inflation.effectValue)?1.05:1;else{const n=AntimatterDimensions.all.countWhere(r=>r.isProducing&&r.multiplier.gte(AlchemyResource.inflation.effectValue));i=Math.pow(1.05,n/AntimatterDimensions.all.countWhere(r=>r.isProducing))}return e*i},isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&!EternityChallenge(11).isRunning,icon:_e.ALCHEMY},pelle:{name:"Pelle Upgrades",multValue:t=>Decimal.pow(PelleUpgrade.antimatterDimensionMult.effectOrDefault(1),t?1:Fe.activeDimCount("AD")),powValue:()=>PelleRifts.paradox.effectOrDefault(DC.D1).toNumber(),isActive:()=>Pelle.isDoomed&&!EternityChallenge(11).isRunning,icon:_e.PELLE},iap:{name:"Shop Tab Purchases",multValue:t=>{const e=ShopPurchase.dimPurchases.currentMult*ShopPurchase.allDimPurchases.currentMult;return Decimal.pow(e,t?1:Fe.activeDimCount("AD"))},isActive:()=>ShopPurchaseData.totalSTD>0&&!EternityChallenge(11).isRunning,icon:_e.IAP},effectNC:{name:t=>t?`Normal Challenge Effect (AD ${t})`:"Normal Challenge Effects",displayOverride:t=>{const e=r=>r.gte(1)?formatX(r,2,2):`/${format(r.reciprocal(),2,2)}`;let i=Array.repeat(DC.D1,9);if(NormalChallenge(2).isRunning&&(i=Array.repeat(new Decimal(player.chall2Pow),9)),NormalChallenge(3).isRunning&&(i[1]=i[1].times(player.chall3Pow)),NormalChallenge(12).isRunning&&(i[2]=AntimatterDimension(2).totalAmount.pow(.6),i[4]=AntimatterDimension(4).totalAmount.pow(.4),i[6]=AntimatterDimension(6).totalAmount.pow(.2)),t)return e(i[t]);let n=DC.D1;for(let r=1;r<=Fe.activeDimCount("AD");r++)n=n.times(i[r]);return e(n)},multValue:t=>{let e=Array.repeat(DC.D1,9);if(NormalChallenge(2).isRunning&&(e=Array.repeat(new Decimal(player.chall2Pow),9)),NormalChallenge(3).isRunning&&(e[1]=e[1].times(player.chall3Pow)),NormalChallenge(12).isRunning){if(e[2]=AntimatterDimension(2).totalAmount.pow(.6),e[4]=AntimatterDimension(4).totalAmount.pow(.4),e[6]=AntimatterDimension(6).totalAmount.pow(.2),!Fe.isNC12ProducingEven())return DC.D1;if(t)return e[t].neq(0)?e[t]:DC.D1;let n=DC.D1;for(let r=2;r<=6;r+=2)n=n.times(e[r].clampMin(1));return n}if(t)return e[t];let i=DC.D1;for(let n=1;n<=Fe.activeDimCount("AD");n++)i=i.times(e[n]);return i},isActive:()=>[2,3,12].some(t=>NormalChallenge(t).isRunning),icon:_e.CHALLENGE("infinity")},nerfIC:{name:t=>t?`Infinity Challenge Nerf (AD ${t})`:"Infinity Challenge Nerf",multValue:t=>{let e=Array.repeat(DC.D1,9);if(InfinityChallenge(4).isRunning)for(let n=1;n<=8;n++)player.postC4Tier!==n&&(e[n]=e[n].pow(1-InfinityChallenge(4).effectValue).reciprocal());else InfinityChallenge(6).isRunning?e=Array.repeat(DC.D1.dividedByEffectOf(InfinityChallenge(6)),9):InfinityChallenge(8).isRunning&&(e=Array.repeat(DC.D1.timesEffectsOf(InfinityChallenge(8)),9));if(t)return e[t];let i=DC.D1;for(let n=1;n<=Fe.activeDimCount("AD");n++)i=i.times(e[n]);return i},isActive:()=>[4,6,8].some(t=>InfinityChallenge(t).isRunning),icon:_e.CHALLENGE("infinity")},nerfV:{name:"V's Reality",powValue:()=>.5,isActive:()=>V.isRunning,icon:_e.GENERIC_V},nerfCursed:{name:"Cursed Glyphs",powValue:()=>getAdjustedGlyphEffect("curseddimensions"),isActive:()=>getAdjustedGlyphEffect("curseddimensions")!==1,icon:_e.SPECIFIC_GLYPH("cursed")},nerfPelle:{name:"Doomed Reality",multValue:.1,powValue:()=>PelleStrikes.infinity.hasStrike?.5:1,isActive:()=>Pelle.isDoomed,icon:_e.PELLE}},a9={total:{name:"Antimatter Production",displayOverride:()=>`${format(Currency.antimatter.productionPerSecond,2,2)}/sec`,multValue:()=>new Decimal(Currency.antimatter.productionPerSecond).clampMin(1),isActive:!0,overlay:["<i class='fas fa-atom' />"]},effarigAM:{name:"Glyph Effect - Effarig Antimatter Production",powValue:()=>{const t=AntimatterDimension(1),e=t.totalAmount.times(t.multiplier).times(Tickspeed.perSecond);return Math.pow(e.log10(),getAdjustedGlyphEffect("effarigantimatter")-1)},isActive:()=>getAdjustedGlyphEffect("effarigantimatter")>1&&AntimatterDimension(1).isProducing,icon:_e.SPECIFIC_GLYPH("effarig")}},s9={total:{name:"Dilated Time gain",displayOverride:()=>`${format(getDilationGainPerSecond().times(getGameSpeedupForDisplay()),2,2)}/sec`,multValue:()=>getDilationGainPerSecond().times(getGameSpeedupForDisplay()),isActive:()=>sn.realityUnlocked()||sn.dilationUnlocked()&&getDilationGainPerSecond().gt(0),dilationEffect:()=>Enslaved.isRunning?.85:1,isDilated:!0,overlay:["Ψ"]},achievement:{name:"Achievements",multValue:()=>Achievement(132).effectOrDefault(1)*Achievement(137).effectOrDefault(1),isActive:()=>(Achievement(132).canBeApplied||Achievement(137).canBeApplied)&&getDilationGainPerSecond().neq(0),icon:_e.ACHIEVEMENT},dilation:{name:"Repeatable Dilation Upgrades",multValue:()=>DC.D1.timesEffectsOf(DilationUpgrade.dtGain,DilationUpgrade.dtGainPelle,DilationUpgrade.flatDilationMult),isActive:()=>DC.D1.timesEffectsOf(DilationUpgrade.dtGain,DilationUpgrade.dtGainPelle,DilationUpgrade.flatDilationMult).gt(1),icon:_e.UPGRADE("dilation")},amplifierDT:{name:"Reality Upgrade - Temporal Amplifier",multValue:()=>RealityUpgrade(1).effectOrDefault(1),isActive:()=>RealityUpgrade(1).canBeApplied&&getDilationGainPerSecond().neq(0)&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},glyph:{name:"Glyph Effects",multValue:()=>{const t=getAdjustedGlyphEffect("dilationDT").times(Pelle.specialGlyphEffect.dilation),e=Replicanti.areUnlocked?Math.clampMin(Decimal.log10(Replicanti.amount)*getAdjustedGlyphEffect("replicationdtgain"),1):DC.D1;return t.times(e)},isActive:()=>sn.realityUnlocked()&&getDilationGainPerSecond().neq(0),icon:_e.GENERIC_GLYPH},ra1:{name:"Ra Upgrade - Multiplier based on TT",multValue:()=>DC.D1.timesEffectsOf(Ra.unlocks.continuousTTBoost.effects.dilatedTime),isActive:()=>Ra.unlocks.autoTP.canBeApplied&&getDilationGainPerSecond().neq(0),icon:_e.GENERIC_RA},ra2:{name:"Ra Upgrade - Multiplier based on peak game speed",multValue:()=>DC.D1.timesEffectsOf(Ra.unlocks.peakGamespeedDT),isActive:()=>Ra.unlocks.autoTP.canBeApplied&&getDilationGainPerSecond().neq(0),icon:_e.GENERIC_RA},alchemy:{name:"Glyph Alchemy",multValue:()=>AlchemyResource.dilation.effectOrDefault(1),isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&getDilationGainPerSecond().neq(0),icon:_e.ALCHEMY},iap:{name:"Shop Tab Purchases",multValue:()=>new Decimal(ShopPurchase.dilatedTimePurchases.currentMult**(Pelle.isDoomed?.5:1)),isActive:()=>ShopPurchaseData.totalSTD>0&&getDilationGainPerSecond().neq(0),icon:_e.IAP},nerfV:{name:"V's Reality",powValue:()=>.5,isActive:()=>V.isRunning&&getDilationGainPerSecond().neq(0),icon:_e.GENERIC_V},nerfPelle:{name:"Doomed Reality",multValue:1e-5,isActive:()=>Pelle.isDoomed&&getDilationGainPerSecond().neq(0),icon:_e.PELLE},gamespeed:{name:"Current Game speed",multValue:()=>getGameSpeedupForDisplay(),isActive:()=>getGameSpeedupForDisplay()>1&&getDilationGainPerSecond().neq(0),ignoresNerfPowers:!0,icon:_e.GAMESPEED}},o9={total:{name:"Total EP Gained on Eternity",displayOverride:()=>Player.canEternity?format(gainedEternityPoints(),2,2):"Cannot Eternity",multValue:()=>Player.canEternity?gainedEternityPoints():1,isActive:()=>sn.eternityUnlocked()||Player.canEternity,dilationEffect:()=>Laitela.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1,isDilated:!0,overlay:["Δ","<i class='fa-solid fa-layer-group' />"]},base:{name:"Base Eternity Points",isBase:!0,fakeValue:DC.D5,multValue:()=>DC.D5.pow(player.records.thisEternity.maxIP.plus(gainedInfinityPoints()).log10()/(308-PelleRifts.recursion.effectValue.toNumber())-.7),isActive:()=>sn.eternityUnlocked(),icon:_e.CONVERT_FROM("IP")},IP:{name:"Eternity Points from Infinity Points",displayOverride:()=>`${format(player.records.thisEternity.maxIP.plus(gainedInfinityPoints()),2,2)} IP`,multValue:DC.D5,isActive:()=>sn.eternityUnlocked(),icon:_e.SPECIFIC_GLYPH("infinity")},divisor:{name:"Pelle - EP Formula Improvement",displayOverride:()=>{const t=308-PelleRifts.recursion.effectValue.toNumber();return`log(IP)/${formatInt(308)} ➜ log(IP)/${format(t,2,2)}`},powValue:()=>308/(308-PelleRifts.recursion.effectValue.toNumber()),isActive:()=>PelleRifts.recursion.canBeApplied,icon:_e.DIVISOR("EP")},eternityUpgrade:{name:()=>`Eternity Upgrade - Repeatable ${formatX(5)} EP`,multValue:()=>EternityUpgrade.epMult.effectOrDefault(1),isActive:()=>sn.eternityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("eternity")},timeStudy:{name:"Time Studies",multValue:()=>DC.D1.timesEffectsOf(TimeStudy(61),TimeStudy(121),TimeStudy(122),TimeStudy(123)),isActive:()=>sn.eternityUnlocked()&&!Pelle.isDoomed,icon:_e.TIME_STUDY},glyph:{name:"Equipped Glyphs",multValue:()=>DC.D1.timesEffectsOf(Pelle.isDoomed?null:GlyphEffect.epMult).times(Pelle.specialGlyphEffect.time),powValue:()=>GlyphAlteration.isAdded("time")?getSecondaryGlyphEffect("timeEP"):1,isActive:()=>sn.realityUnlocked(),icon:_e.GENERIC_GLYPH},realityUpgrade:{name:"Reality Upgrade - The Knowing Existence",multValue:()=>RealityUpgrade(12).effectOrDefault(1),isActive:()=>RealityUpgrade(12).canBeApplied&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},pelle:{name:"Pelle Strike - Vacuum Rift",multValue:()=>PelleRifts.vacuum.milestones[2].effectOrDefault(1),isActive:()=>PelleRifts.vacuum.milestones[2].canBeApplied,icon:_e.PELLE},iap:{name:"Shop Tab Purchases",multValue:()=>ShopPurchase.EPPurchases.currentMult,isActive:()=>ShopPurchaseData.totalSTD>0,icon:_e.IAP},nerfTeresa:{name:"Teresa's Reality",powValue:()=>.55,isActive:()=>Teresa.isRunning,icon:_e.GENERIC_TERESA},nerfV:{name:"V's Reality",powValue:()=>.5,isActive:()=>V.isRunning,icon:_e.GENERIC_V}},l9={total:{name:"Eternities gained per Eternity",isBase:!0,multValue:()=>gainedEternities(),isActive:()=>(PlayerProgress.realityUnlocked()||Achievement(113).isUnlocked)&&!Pelle.isDoomed,overlay:["Δ","<i class='fa-solid fa-arrows-rotate' />"]},achievement:{name:"Achievement 113",multValue:()=>Achievement(113).effectOrDefault(1),isActive:()=>Achievement(113).canBeApplied,icon:_e.ACHIEVEMENT},amplifierEter:{name:"Reality Upgrade - Eternal Amplifier",multValue:()=>RealityUpgrade(3).effectOrDefault(1),isActive:()=>RealityUpgrade(3).canBeApplied,icon:_e.UPGRADE("reality")},glyph:{name:"Equipped Glyphs",multValue:()=>getAdjustedGlyphEffect("timeetermult"),isActive:()=>PlayerProgress.realityUnlocked(),icon:_e.GENERIC_GLYPH},ra:{name:"Ra Upgrade - Multiplier based on TT",multValue:()=>Ra.unlocks.continuousTTBoost.effects.eternity.effectOrDefault(1),isActive:()=>Ra.unlocks.continuousTTBoost.isUnlocked,icon:_e.GENERIC_RA},alchemy:{name:"Alchemy Resource - Eternity",powValue:()=>AlchemyResource.eternity.effectOrDefault(1),isActive:()=>AlchemyResource.eternity.canBeApplied,icon:_e.ALCHEMY}},c9={antimatter:{name:"Antimatter Galaxies",displayOverride:()=>{const t=player.galaxies+GalaxyGenerator.galaxies,e=Fe.globalGalaxyMult();return`${formatInt(t)}, ${formatX(e,2,2)} strength`},multValue:()=>Decimal.pow10(player.galaxies+GalaxyGenerator.galaxies),isActive:!0,icon:_e.ANTIMATTER},replicanti:{name:"Replicanti Galaxies",displayOverride:()=>{const t=Replicanti.galaxies.total;let e=Replicanti.galaxies.bought;e*=1+Effects.sum(TimeStudy(132),TimeStudy(133)),e+=Replicanti.galaxies.extra,e+=Math.min(Replicanti.galaxies.bought,ReplicantiUpgrade.galaxies.value)*Effects.sum(EternityChallenge(8).reward);const i=e/Math.clampMin(t,1)*Fe.globalGalaxyMult();return`${formatInt(t)}, ${formatX(i,2,2)} strength`},multValue:()=>{let t=Replicanti.galaxies.bought;return t*=1+Effects.sum(TimeStudy(132),TimeStudy(133)),t+=Replicanti.galaxies.extra,t+=Math.min(Replicanti.galaxies.bought,ReplicantiUpgrade.galaxies.value)*Effects.sum(EternityChallenge(8).reward),Decimal.pow10(t)},isActive:()=>Replicanti.areUnlocked,icon:_e.SPECIFIC_GLYPH("replication")},tachyon:{name:"Tachyon Galaxies",displayOverride:()=>{const t=player.dilation.totalTachyonGalaxies,e=Fe.globalGalaxyMult()*(1+Math.max(0,Replicanti.amount.log10()/1e6)*AlchemyResource.alternation.effectValue);return`${formatInt(t)}, ${formatX(e,2,2)} strength`},multValue:()=>{const t=player.dilation.totalTachyonGalaxies,e=1+Math.max(0,Replicanti.amount.log10()/1e6)*AlchemyResource.alternation.effectValue;return Decimal.pow10(t*e)},isActive:()=>player.dilation.totalTachyonGalaxies>0,icon:_e.SPECIFIC_GLYPH("dilation")},nerfPelle:{name:"Doomed Reality",displayOverride:()=>`All Galaxy strength /${formatInt(2)}`,powValue:.5,isActive:()=>Pelle.isDoomed,icon:_e.PELLE}},u9={total:{name:"Game speed",displayOverride:()=>{if(Enslaved.isStoringRealTime)return`Set to ${format(0)} (storing real time)`;if(EternityChallenge(12).isRunning)return`${formatX(1)}/${formatInt(1e3)} (fixed)`;const t=getGameSpeedupFactor(),e=Fe.blackHoleSpeeds(),i=e.current,n=e.average,r=Enslaved.isAutoReleasing?getGameSpeedupForDisplay():t/i*n,a=` (current) | ${formatX(r,2,2)} (average)`;return`${formatX(t,2,2)}${t===r?"":a}`},multValue:()=>getGameSpeedupForDisplay(),isActive:()=>PlayerProgress.seenAlteredSpeed(),dilationEffect:()=>Effarig.isRunning?Effarig.multDilation:1,isDilated:!0,overlay:["Δ",'<i class="fas fa-clock" />','<i class="fas fa-circle" />']},glyph:{name:"Equipped Glyphs",multValue:()=>getAdjustedGlyphEffect("timespeed"),powValue:()=>getAdjustedGlyphEffect("effarigblackhole"),isActive:()=>PlayerProgress.realityUnlocked()&&!EternityChallenge(12).isRunning,icon:_e.GENERIC_GLYPH},blackHoleCurr:{name:"Current Black Hole Speedup",multValue:()=>Fe.blackHoleSpeeds().current,isActive:()=>BlackHole(1).isUnlocked&&!BlackHoles.arePaused&&!EternityChallenge(12).isRunning,icon:_e.BLACK_HOLE},blackHoleAvg:{name:"Average Black Hole Speedup",multValue:()=>Fe.blackHoleSpeeds().average,isActive:()=>BlackHole(1).isUnlocked&&!BlackHoles.arePaused&&!EternityChallenge(12).isRunning,icon:_e.BLACK_HOLE},achievementMult:{name:"30 V-Achievement Milestone - Achievement Multiplier",multValue:()=>Math.pow(VUnlocks.achievementBH.effectOrDefault(1),BlackHoles.list.countWhere(t=>t.isUnlocked)),isActive:()=>!BlackHoles.arePaused&&VUnlocks.achievementBH.canBeApplied&&!EternityChallenge(12).isRunning,icon:_e.ACHIEVEMENT},pulsing:{name:"Auto-Discharging Stored Time",multValue:()=>Enslaved.isAutoReleasing?Math.max(Enslaved.autoReleaseSpeed/getGameSpeedupFactor(),1):getGameSpeedupFactor(),isActive:()=>Enslaved.canRelease()&&Enslaved.isAutoReleasing&&!EternityChallenge(12).isRunning,icon:_e.BH_PULSE},singularity:{name:"Singularity Milestone - Game speed based on Singularities",multValue:()=>SingularityMilestone.gamespeedFromSingularities.effectOrDefault(1),isActive:()=>SingularityMilestone.gamespeedFromSingularities.canBeApplied&&!EternityChallenge(12).isRunning,icon:_e.SINGULARITY},pelle:{name:"Pelle Upgrade - Repeatable Game speed",multValue:()=>PelleUpgrade.timeSpeedMult.effectValue.toNumber(),isActive:()=>Pelle.isDoomed&&!EternityChallenge(12).isRunning,icon:_e.PELLE},ec12:{name:"Eternity Challenge 12",multValue:()=>.001/getGameSpeedupForDisplay(),isActive:()=>EternityChallenge(12).isRunning,icon:_e.CHALLENGE("eternity")},chargingBH:{name:"Black Hole Charging",multValue:()=>Ra.unlocks.autoPulseTime.canBeApplied?.01:0,isActive:()=>Enslaved.isStoringGameTime,icon:_e.BLACK_HOLE},invertedBH:{name:"Inverted Black Hole",multValue:()=>player.blackHoleNegative,isActive:()=>BlackHoles.areNegative,icon:_e.CHALLENGE("eternity")},nerfLaitela:{name:"Lai'tela's Reality",powValue:()=>Math.clampMax(Time.thisRealityRealTime.totalMinutes/10,1),isActive:()=>Laitela.isRunning,icon:_e.GENERIC_LAITELA}},d9={achievement:{name:(t,e)=>(e==null?void 0:e.length)===2?`Achievement ${t} (${e})`:`Achievement ${t}`,multValue:(t,e)=>{if(t===131)return Achievement(131).canBeApplied?Achievement(131).effects.infinitiesGain.effectOrDefault(1):1;if(t===141)return Achievement(141).canBeApplied?Achievement(141).effects.ipGain.effectOrDefault(1):1;if(t===183)return 1;if(!e)return Achievement(t).canBeApplied?Achievement(t).effectOrDefault(1):1;if((e==null?void 0:e.length)===2){let i=DC.D1;for(let n=1;n<=Fe.activeDimCount(e);n++){let r;t===43?r=Achievement(43).canBeApplied?1+n/100:1:r=Fe.achievementDimCheck(t,`${e}${n}`)&&Achievement(t).canBeApplied?Achievement(t).effectOrDefault(1):1,i=i.times(r)}return i}return t===43?Achievement(43).canBeApplied?1+Number(e.charAt(2))/100:1:Fe.achievementDimCheck(t,e)&&Achievement(t).canBeApplied?Achievement(t).effectOrDefault(1):1},powValue:t=>t===183?Achievement(183).effectOrDefault(1):1,isActive:t=>Achievement(t).canBeApplied,icon:t=>{const e=_e.ACHIEVEMENT;return{color:e.color,symbol:`${e.symbol}${t}`}}},timeStudy:{name:(t,e)=>(e==null?void 0:e.length)===2?`Time Study ${t} (${e})`:`Time Study ${t}`,multValue:(t,e)=>{if(t===132){const i=Perk.studyPassive.isBought?2:1;return TimeStudy(t).canBeApplied?1.5*i:1}if(!e)return TimeStudy(t).canBeApplied?TimeStudy(t).effectOrDefault(1):1;if((e==null?void 0:e.length)===2){let i=DC.D1;for(let n=1;n<=Fe.activeDimCount(e);n++)i=i.times(Fe.timeStudyDimCheck(t,`${e}${n}`)&&TimeStudy(t).isBought?TimeStudy(t).effectOrDefault(1):1);return i}return Fe.timeStudyDimCheck(t,e)&&TimeStudy(t).isBought?new Decimal(TimeStudy(t).effectOrDefault(1)):1},isActive:t=>TimeStudy(t).isBought,icon:t=>{const e=_e.TIME_STUDY;return{color:e.color,symbol:`${e.symbol}${t}`}}},infinityChallenge:{name:t=>`Infinity Challenge ${t}`,displayOverride:t=>t===4?formatPow(InfinityChallenge(4).reward.effectValue,0,3):"",multValue:(t,e)=>{if(t===4){const n=InfinityChallenge(4).reward.effectValue,r=AntimatterDimensions.all.map(a=>a.multiplier.pow((n-1)/n));return(e==null?void 0:e.length)===2?r.reduce((a,s)=>a.times(s),DC.D1):r[Number(e.charAt(2))-1]}if((e==null?void 0:e.length)===2){let n=DC.D1;for(let r=1;r<=Fe.activeDimCount(e);r++)n=n.times(Fe.ICDimCheck(t,`${e}${r}`)&&InfinityChallenge(t).isCompleted?InfinityChallenge(t).reward.effectOrDefault(1):1);return n}const i=Number(e.charAt(2));return t===8?i>1&&i<8?InfinityChallenge(t).reward.effectValue:DC.D1:InfinityChallenge(t).reward.effectValue},isActive:t=>InfinityChallenge(t).isCompleted,icon:t=>{const e=_e.CHALLENGE("infinity");return{color:e.color,symbol:`${e.symbol}${t}`}}},eternityChallenge:{name:t=>`Eternity Challenge ${t}`,multValue:(t,e)=>{if((e==null?void 0:e.length)===2){let i=DC.D1;for(let n=1;n<=Fe.activeDimCount(e);n++)i=i.times(Fe.ECDimCheck(t,`${e}${n}`)&&EternityChallenge(t).reward.canBeApplied?EternityChallenge(t).reward.effectOrDefault(1).clampMin(1):1);return i}return t===2?e==="ID1"?EternityChallenge(t).reward.effectValue:DC.D1:EternityChallenge(t).reward.effectOrDefault(1)},isActive:t=>EternityChallenge(t).reward.canBeApplied,icon:t=>{const e=_e.CHALLENGE("eternity");return{color:e.color,symbol:`${e.symbol}${t}`}}}},h9={total:{name:t=>t?`ID ${t} Multiplier`:EternityChallenge(7).isRunning?"AD7 Production":"Infinity Power Production",displayOverride:t=>t?formatX(InfinityDimension(t).multiplier,2):`${format(InfinityDimension(1).productionPerSecond,2)}/sec`,multValue:t=>t?InfinityDimension(t).multiplier:InfinityDimensions.all.filter(e=>e.isProducing).map(e=>e.multiplier).reduce((e,i)=>e.times(i),DC.D1),isActive:t=>t?InfinityDimension(t).isProducing:sn.eternityUnlocked()||InfinityDimension(1).isProducing,dilationEffect:()=>(player.dilation.active?.75*Effects.product(DilationUpgrade.dilationPenalty):1)*(Effarig.isRunning?Effarig.multDilation:1),isDilated:!0,overlay:["∞","<i class='fa-solid fa-cube' />"],icon:t=>_e.DIMENSION("ID",t)},purchase:{name:t=>t?`Purchased ID ${t}`:"Purchases",multValue:t=>{const e=i=>Decimal.pow(InfinityDimension(i).powerMultiplier,Math.floor(InfinityDimension(i).baseAmount/10));return t?e(t):InfinityDimensions.all.filter(i=>i.isProducing).map(i=>e(i.tier)).reduce((i,n)=>i.times(n),DC.D1)},isActive:()=>!EternityChallenge(2).isRunning&&!EternityChallenge(10).isRunning,icon:t=>_e.PURCHASE("ID",t)},highestDim:{name:()=>"Amount of highest Dimension",displayOverride:()=>{const t=Fe.activeDimCount("ID");return`ID ${t}, ${format(InfinityDimension(t).amount,2)}`},multValue:()=>InfinityDimension(Fe.activeDimCount("ID")).amount,isActive:()=>InfinityDimension(1).isProducing,icon:_e.DIMENSION("ID")},basePurchase:{name:"Base purchases",multValue:t=>{const e=i=>{const n=i===8?Math.floor(InfinityDimension(i).baseAmount/10):Math.min(InfinityDimensions.HARDCAP_PURCHASES,Math.floor(InfinityDimension(i).baseAmount/10)),r=InfinityDimension(i)._powerMultiplier;return Decimal.pow(r,n)};return t?e(t):InfinityDimensions.all.filter(i=>i.isProducing).map(i=>e(i.tier)).reduce((i,n)=>i.times(n),DC.D1)},isActive:!0,icon:_e.PURCHASE("baseID")},tesseractPurchase:{name:"Tesseracts",multValue:t=>{const e=i=>{if(i===8)return DC.D1;const n=Math.floor(InfinityDimension(i).baseAmount/10);return Decimal.pow(InfinityDimension(i)._powerMultiplier,Math.clampMin(n-InfinityDimensions.HARDCAP_PURCHASES,0))};return t?e(t):InfinityDimensions.all.filter(i=>i.isProducing).map(i=>e(i.tier)).reduce((i,n)=>i.times(n),DC.D1)},isActive:()=>Tesseracts.bought>0,icon:_e.PURCHASE("tesseractID")},infinityGlyphSacrifice:{name:"Infinity Glyph sacrifice",multValue:()=>InfinityDimension(8).isProducing?Decimal.pow(GlyphSacrifice.infinity.effectValue,Math.floor(InfinityDimension(8).baseAmount/10)):DC.D1,isActive:()=>GlyphSacrifice.infinity.effectValue>1,icon:_e.SACRIFICE("infinity")},powPurchase:{name:"Imaginary Upgrade - Recollection of Intrusion",powValue:()=>ImaginaryUpgrade(14).effectOrDefault(1),isActive:()=>ImaginaryUpgrade(14).canBeApplied,icon:_e.UPGRADE("imaginary")},replicanti:{name:"Replicanti Multiplier",multValue:t=>Decimal.pow(replicantiMult(),t?1:Fe.activeDimCount("ID")),isActive:()=>Replicanti.areUnlocked,icon:_e.SPECIFIC_GLYPH("replication")},achievementMult:{name:"Achievement Multiplier",multValue:t=>Decimal.pow(Achievements.power,t?1:Fe.activeDimCount("ID")),isActive:()=>Achievement(75).canBeApplied&&!Pelle.isDoomed,icon:_e.ACHIEVEMENT},achievement:{name:()=>"Achievement 94",multValue:t=>(t??1)===1?Achievement(94).effectOrDefault(1):1,isActive:()=>Achievement(94).canBeApplied,icon:_e.ACHIEVEMENT},timeStudy:{name:t=>t?`Time Studies (ID ${t})`:"Time Studies",multValue:t=>{const e=DC.D1.timesEffectsOf(TimeStudy(82),TimeStudy(92),TimeStudy(162));if(t)return t===4?e.times(TimeStudy(72).effectOrDefault(1)):e;const i=Fe.activeDimCount("ID");return Decimal.pow(e,i).times(i>=4?TimeStudy(72).effectOrDefault(1):DC.D1)},isActive:()=>sn.eternityUnlocked(),icon:_e.TIME_STUDY},eternityUpgrade:{name:"Eternity Upgrades",multValue:t=>{const e=DC.D1.timesEffectsOf(EternityUpgrade.idMultEP,EternityUpgrade.idMultEternities,EternityUpgrade.idMultICRecords);return Decimal.pow(e,t?1:Fe.activeDimCount("ID"))},isActive:()=>sn.eternityUnlocked(),icon:_e.UPGRADE("eternity")},eu1:{name:()=>"Unspent Eternity Points",multValue:t=>Decimal.pow(EternityUpgrade.idMultEP.effectOrDefault(1),t?1:Fe.activeDimCount("ID")),isActive:()=>EternityUpgrade.idMultEP.canBeApplied,icon:_e.UPGRADE("eternity")},eu2:{name:()=>"Eternity Count",multValue:t=>Decimal.pow(EternityUpgrade.idMultEternities.effectOrDefault(1),t?1:Fe.activeDimCount("ID")),isActive:()=>EternityUpgrade.idMultEternities.canBeApplied,icon:_e.UPGRADE("eternity")},eu3:{name:()=>"Infinity Challenge Records",multValue:t=>Decimal.pow(EternityUpgrade.idMultICRecords.effectOrDefault(1),t?1:Fe.activeDimCount("ID")),isActive:()=>EternityUpgrade.idMultICRecords.canBeApplied,icon:_e.UPGRADE("eternity")},infinityChallenge:{name:"Infinity Challenges",multValue:t=>{const e=DC.D1.timesEffectsOf(InfinityChallenge(1).reward,InfinityChallenge(6).reward);return Decimal.pow(e,t?1:Fe.activeDimCount("ID"))},isActive:()=>InfinityChallenge(1).isCompleted,icon:_e.CHALLENGE("infinity")},eternityChallenge:{name:t=>t?`Eternity Challenges (ID ${t})`:" Eternity Challenges",multValue:t=>{const e=DC.D1.timesEffectsOf(EternityChallenge(4).reward,EternityChallenge(9).reward).times(EternityChallenge(7).isRunning?Tickspeed.perSecond:DC.D1);if(t)return t===1?e.times(EternityChallenge(2).reward.effectOrDefault(1)):e;const i=Fe.activeDimCount("ID");return Decimal.pow(e,i).times(i>=1?EternityChallenge(2).reward.effectOrDefault(1):DC.D1)},isActive:()=>EternityChallenge(2).completions>0,icon:_e.CHALLENGE("eternity")},tickspeed:{name:()=>"Tickspeed (EC7)",displayOverride:()=>{const t=Tickspeed.perSecond,e=Fe.activeDimCount("ID"),i=Fe.pluralizeDimensions(e);return`${format(t,2,2)}/sec on ${formatInt(e)} ${i}
        ➜ ${formatX(t.pow(e),2,2)}`},multValue:()=>Tickspeed.perSecond.pow(8),isActive:()=>EternityChallenge(7).isRunning,icon:_e.TICKSPEED},glyph:{name:"Glyph Effects",multValue:()=>1,powValue:()=>getAdjustedGlyphEffect("infinitypow")*getAdjustedGlyphEffect("effarigdimensions"),isActive:()=>sn.realityUnlocked(),icon:_e.GENERIC_GLYPH},alchemy:{name:"Glyph Alchemy",multValue:t=>Decimal.pow(AlchemyResource.dimensionality.effectOrDefault(1),t?1:Fe.activeDimCount("ID")),powValue:()=>AlchemyResource.infinity.effectOrDefault(1)*Ra.momentumValue,isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,icon:_e.ALCHEMY},imaginaryUpgrade:{name:"Imaginary Upgrade - Hyperbolic Apeirogon",multValue:t=>Decimal.pow(ImaginaryUpgrade(8).effectOrDefault(1),t?1:Fe.activeDimCount("ID")),isActive:()=>ImaginaryUpgrade(8).canBeApplied,icon:_e.UPGRADE("imaginary")},pelle:{name:"Pelle Rift Effects",multValue:t=>{const e=DC.D1.timesEffectsOf(PelleRifts.recursion.milestones[1]),i=Fe.activeDimCount("ID"),n=(t?t===1:i>=1)?PelleRifts.decay.milestones[0].effectOrDefault(1):DC.D1;return Decimal.pow(e,t?1:i).times(n)},powValue:()=>PelleRifts.paradox.effectOrDefault(DC.D1).toNumber(),isActive:()=>Pelle.isDoomed,icon:_e.PELLE},iap:{name:"Shop Tab Purchases",multValue:t=>Decimal.pow(ShopPurchase.allDimPurchases.currentMult,t?1:Fe.activeDimCount("ID")),isActive:()=>ShopPurchaseData.totalSTD>0,icon:_e.IAP},powerConversion:{name:"Infinity Power Conversion",powValue:()=>InfinityDimensions.powerConversionRate,isActive:()=>Currency.infinityPower.value.gt(1)&&!EternityChallenge(9).isRunning,icon:_e.IPOW_CONVERSION},nerfV:{name:"V's Reality",powValue:()=>.5,isActive:()=>V.isRunning,icon:_e.GENERIC_V},nerfCursed:{name:"Cursed Glyphs",powValue:()=>getAdjustedGlyphEffect("curseddimensions"),isActive:()=>getAdjustedGlyphEffect("curseddimensions")!==1,icon:_e.SPECIFIC_GLYPH("cursed")},nerfPelle:{name:"Doomed Reality",powValue:.5,isActive:()=>PelleStrikes.powerGalaxies.hasStrike,icon:_e.PELLE}},f9={total:{name:"Infinities gained per Crunch",isBase:!0,multValue:()=>gainedInfinities(),isActive:()=>(Achievement(87).isUnlocked||PlayerProgress.eternityUnlocked())&&!EternityChallenge(4).isRunning&&!Pelle.isDoomed,overlay:["∞","<i class='fa-solid fa-arrows-rotate' />"]},achievement:{name:"Achievements",multValue:()=>DC.D1.timesEffectsOf(Achievement(87),Achievement(131).effects.infinitiesGain,Achievement(164)),isActive:()=>Achievement(87).isUnlocked,icon:_e.ACHIEVEMENT},timeStudy:{name:"Time Study 32",multValue:()=>TimeStudy(32).effectOrDefault(1),isActive:()=>TimeStudy(32).isBought,icon:_e.TIME_STUDY},amplifierInf:{name:"Reality Upgrade - Boundless Amplifier",multValue:()=>DC.D1.timesEffectsOf(RealityUpgrade(5)),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},realityUpgrades:{name:"Reality Upgrade - Innumerably Construct",multValue:()=>DC.D1.timesEffectsOf(RealityUpgrade(7)),isActive:()=>PlayerProgress.realityUnlocked(),icon:_e.UPGRADE("reality")},glyph:{name:"Equipped Glyphs",multValue:()=>getAdjustedGlyphEffect("infinityinfmult"),isActive:()=>PlayerProgress.realityUnlocked(),icon:_e.GENERIC_GLYPH},ra:{name:"Ra Upgrade - Multiplier based on TT",multValue:()=>Ra.unlocks.continuousTTBoost.effects.infinity.effectOrDefault(1),isActive:()=>Ra.unlocks.continuousTTBoost.isUnlocked,icon:_e.GENERIC_RA},singularity:{name:"Singularity Milestone - Power from Singularities",powValue:()=>SingularityMilestone.infinitiedPow.effectOrDefault(1),isActive:()=>SingularityMilestone.infinitiedPow.canBeApplied,icon:_e.SINGULARITY}},p9={total:{name:"Total IP Gained on Infinity",displayOverride:()=>Player.canCrunch?format(gainedInfinityPoints(),2,2):"Cannot Crunch",multValue:()=>Player.canCrunch?gainedInfinityPoints():1,isActive:()=>sn.infinityUnlocked()||Player.canCrunch,dilationEffect:()=>Laitela.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1,isDilated:!0,overlay:["∞","<i class='fa-solid fa-layer-group' />"]},base:{name:"Base Infinity Points",isBase:!0,fakeValue:DC.D5,multValue:()=>{const t=Effects.min(308,Achievement(103),TimeStudy(111));return Decimal.pow10(player.records.thisInfinity.maxAM.log10()/t-.75)},isActive:()=>player.break,icon:_e.CONVERT_FROM("AM")},antimatter:{name:"Infinity Points from Antimatter",displayOverride:()=>`${format(player.records.thisInfinity.maxAM,2,2)} AM`,multValue:DC.D5,isActive:()=>player.break,icon:_e.ANTIMATTER},divisor:{name:"Formula Improvement",displayOverride:()=>{const t=Effects.min(308,Achievement(103),TimeStudy(111));return`log(AM)/${formatInt(308)} ➜ log(AM)/${format(t,2,1)}`},powValue:()=>308/Effects.min(308,Achievement(103),TimeStudy(111)),isActive:()=>Achievement(103).canBeApplied||TimeStudy(111).isBought,icon:_e.DIVISOR("IP")},infinityUpgrade:{name:()=>`Infinity Upgrade - Repeatable ${formatX(2)} IP`,multValue:()=>InfinityUpgrade.ipMult.effectOrDefault(1),isActive:()=>player.break&&!Pelle.isDoomed,icon:_e.UPGRADE("infinity")},achievement:{name:"Achievements",multValue:()=>DC.D1.timesEffectsOf(Achievement(85),Achievement(93),Achievement(116),Achievement(125),Achievement(141).effects.ipGain),isActive:()=>player.break&&!Pelle.isDoomed,icon:_e.ACHIEVEMENT},timeStudy:{name:"Time Studies",multValue:()=>DC.D1.timesEffectsOf(TimeStudy(41),TimeStudy(51),TimeStudy(141),TimeStudy(142),TimeStudy(143)),isActive:()=>player.break&&!Pelle.isDoomed,icon:_e.TIME_STUDY},dilationUpgrade:{name:"Dilation Upgrade - IP multiplier based on DT",multValue:()=>DilationUpgrade.ipMultDT.effectOrDefault(1),isActive:()=>DilationUpgrade.ipMultDT.canBeApplied,icon:_e.UPGRADE("dilation")},glyph:{name:"Equipped Glyphs",multValue:()=>Pelle.specialGlyphEffect.infinity.times(Pelle.isDoomed?1:getAdjustedGlyphEffect("infinityIP")),powValue:()=>GlyphAlteration.isAdded("infinity")?getSecondaryGlyphEffect("infinityIP"):1,isActive:()=>sn.realityUnlocked(),icon:_e.GENERIC_GLYPH},alchemy:{name:"Glyph Alchemy",multValue:()=>Replicanti.amount.powEffectOf(AlchemyResource.exponential),isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,icon:_e.ALCHEMY},pelle:{name:"Pelle Strike - Vacuum Rift",multValue:()=>DC.D1.timesEffectsOf(PelleRifts.vacuum),isActive:()=>Pelle.isDoomed,icon:_e.PELLE},iap:{name:"Shop Tab Purchases",multValue:()=>ShopPurchase.IPPurchases.currentMult,isActive:()=>ShopPurchaseData.totalSTD>0,icon:_e.IAP},nerfTeresa:{name:"Teresa's Reality",powValue:()=>.55,isActive:()=>Teresa.isRunning,icon:_e.GENERIC_TERESA},nerfV:{name:"V's Reality",powValue:()=>.5,isActive:()=>V.isRunning,icon:_e.GENERIC_V}},m9={total:{name:"Replicanti Speed",multValue:()=>totalReplicantiSpeedMult(Replicanti.amount.gt(replicantiCap())),isActive:()=>PlayerProgress.eternityUnlocked(),overlay:["Ξ"]},achievement:{name:"Achievement 134",multValue:2,isActive:()=>Achievement(134).canBeApplied&&Replicanti.amount.lte(replicantiCap())&&!Pelle.isDoomed,icon:_e.ACHIEVEMENT},timeStudy:{name:"Time Studies",multValue:()=>Effects.product(TimeStudy(62),TimeStudy(213))*(TimeStudy(132).isBought?1.5:1)*(Perk.studyPassive.isBought&&TimeStudy(132).isBought?2:1),isActive:()=>PlayerProgress.eternityUnlocked()&&!Pelle.isDoomed,icon:_e.TIME_STUDY},glyph:{name:"Glyph Effects",multValue:()=>{const t=(Pelle.isDoomed?DC.D1:getAdjustedGlyphEffect("replicationspeed")).times(Pelle.specialGlyphEffect.replication),e=Math.clampMin(Decimal.log10(Replicanti.amount)*getSecondaryGlyphEffect("replicationdtgain"),1);return GlyphAlteration.isAdded("replication")?t.times(e):t},isActive:()=>PlayerProgress.realityUnlocked()&&(!Pelle.isDoomed||Pelle.specialGlyphEffect.replication>1),icon:_e.GENERIC_GLYPH},amplifierRep:{name:"Reality Upgrade - Replicative Amplifier",multValue:()=>RealityUpgrade(2).effectOrDefault(1),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},realityUpgrade1:{name:"Reality Upgrade - Cosmically Duplicate",multValue:()=>RealityUpgrade(6).effectOrDefault(1),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},realityUpgrade2:{name:"Reality Upgrade - Replicative Rapidity",multValue:()=>RealityUpgrade(23).effectOrDefault(1),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},alchemy:{name:"Alchemy Resource - Replication",multValue:()=>AlchemyResource.replication.effectOrDefault(1),isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&!Pelle.isDoomed,icon:_e.ALCHEMY},ra:{name:"Ra Upgrade - Multiplier based on TT",multValue:()=>Ra.unlocks.continuousTTBoost.effects.replicanti.effectOrDefault(1),isActive:()=>Ra.unlocks.continuousTTBoost.isUnlocked,icon:_e.GENERIC_RA},pelle:{name:"Pelle Strike - Decay Rift",multValue:()=>PelleRifts.decay.effectValue,isActive:()=>Pelle.isDoomed&&PelleRifts.decay.effectValue.gt(1),icon:_e.PELLE},iap:{name:"Shop Tab Purchases",multValue:()=>ShopPurchase.replicantiPurchases.currentMult,isActive:()=>ShopPurchaseData.totalSTD>0&&ShopPurchase.replicantiPurchases.currentMult>1,icon:_e.IAP}},y9={total:{name:t=>t?`TD ${t} Multiplier`:EternityChallenge(7).isRunning?"ID8 Production":"Time Shard Production",displayOverride:t=>t?formatX(TimeDimension(t).multiplier,2):`${format(TimeDimension(1).productionPerSecond,2)}/sec`,multValue:t=>t?TimeDimension(t).multiplier:TimeDimensions.all.filter(e=>e.isProducing).map(e=>e.multiplier).reduce((e,i)=>e.times(i),DC.D1),isActive:t=>t?TimeDimension(t).isProducing:sn.realityUnlocked()||TimeDimension(1).isProducing,dilationEffect:()=>(player.dilation.active?.75*Effects.product(DilationUpgrade.dilationPenalty):1)*(Effarig.isRunning?Effarig.multDilation:1),isDilated:!0,overlay:["Δ","<i class='fa-solid fa-cube' />"],icon:t=>_e.DIMENSION("TD",t)},purchase:{name:t=>t?`Purchased TD ${t}`:"Purchases",multValue:t=>{const e=i=>{const n=TimeDimension(i),r=i===8?Math.clampMax(n.bought,1e8):n.bought;return Decimal.pow(n.powerMultiplier,r)};return t?e(t):TimeDimensions.all.filter(i=>i.isProducing).map(i=>e(i.tier)).reduce((i,n)=>i.times(n),DC.D1)},isActive:()=>!EternityChallenge(2).isRunning&&!EternityChallenge(10).isRunning,icon:t=>_e.PURCHASE("TD",t)},highestDim:{name:()=>"Amount of highest Dimension",displayOverride:()=>{const t=Fe.activeDimCount("TD");return`TD ${t}, ${formatInt(TimeDimension(t).amount)}`},multValue:()=>TimeDimension(Fe.activeDimCount("TD")).amount,isActive:()=>TimeDimension(1).isProducing,icon:_e.DIMENSION("TD")},basePurchase:{name:"Base purchases",multValue:t=>{const e=i=>Decimal.pow(4,i===8?Math.clampMax(TimeDimension(i).bought,1e8):TimeDimension(i).bought);return t?e(t):TimeDimensions.all.filter(i=>i.isProducing).map(i=>e(i.tier)).reduce((i,n)=>i.times(n),DC.D1)},isActive:t=>t?ImaginaryUpgrade(14).canBeApplied||t===8&&GlyphSacrifice.time.effectValue>1:TimeDimension(1).isProducing,icon:t=>_e.PURCHASE("TD",t)},timeGlyphSacrifice:{name:"Time Glyph Sacrifice",multValue:()=>TimeDimension(8).isProducing?Decimal.pow(GlyphSacrifice.time.effectValue,Math.clampMax(TimeDimension(8).bought,1e8)):DC.D1,isActive:()=>GlyphSacrifice.time.effectValue>1,icon:_e.SACRIFICE("time")},powPurchase:{name:"Imaginary Upgrade - Recollection of Intrusion",powValue:()=>ImaginaryUpgrade(14).effectOrDefault(1),isActive:()=>ImaginaryUpgrade(14).canBeApplied,icon:_e.UPGRADE("imaginary")},achievementMult:{name:"Eternity Upgrade - Achievement Multiplier",multValue:t=>Decimal.pow(EternityUpgrade.tdMultAchs.effectOrDefault(1),t?1:Fe.activeDimCount("TD")),isActive:()=>EternityUpgrade.tdMultAchs.canBeApplied&&!Pelle.isDoomed,icon:_e.ACHIEVEMENT},achievement:{name:"Achievement Rewards",multValue:t=>{const e=DC.D1.timesEffectsOf(Achievement(105),Achievement(128));return Decimal.pow(e,t?1:Fe.activeDimCount("TD"))},isActive:()=>Achievement(105).canBeApplied||Achievement(128).canBeApplied,icon:_e.ACHIEVEMENT},timeStudy:{name:t=>t?`Time Studies (TD ${t})`:"Time Studies",multValue:t=>{const e=DC.D1.timesEffectsOf(TimeStudy(93),TimeStudy(103),TimeStudy(151),TimeStudy(221),TimeStudy(301)),i=Array.repeat(DC.D1,9);for(let r=1;r<=8;r++)i[r]=i[r].timesEffectsOf(r===1?TimeStudy(11):null,r===3?TimeStudy(73):null,r===4?TimeStudy(227):null);if(t)return e.times(i[t]);let n=DC.D1;for(let r=1;r<=Fe.activeDimCount("TD");r++)n=n.times(i[r]).times(e);return n},isActive:()=>TimeDimension(1).isProducing,icon:_e.TIME_STUDY},eternityUpgrade:{name:t=>t?`Other Eternity Upgrades (TD ${t})`:"Other Eternity Upgrades",multValue:t=>{const e=DC.D1.timesEffectsOf(EternityUpgrade.tdMultTheorems,EternityUpgrade.tdMultRealTime);return Decimal.pow(e,t?1:Fe.activeDimCount("TD"))},isActive:()=>TimeDimension(1).isProducing,icon:_e.UPGRADE("eternity")},eu1:{name:()=>"Unspent Time Theorems",multValue:t=>Decimal.pow(EternityUpgrade.tdMultTheorems.effectOrDefault(1),t?1:Fe.activeDimCount("TD")),isActive:()=>EternityUpgrade.tdMultTheorems.canBeApplied,icon:_e.UPGRADE("eternity")},eu2:{name:()=>"Days played",multValue:t=>Decimal.pow(EternityUpgrade.tdMultRealTime.effectOrDefault(1),t?1:Fe.activeDimCount("TD")),isActive:()=>EternityUpgrade.tdMultRealTime.canBeApplied,icon:_e.UPGRADE("eternity")},eternityChallenge:{name:t=>t?`Eternity Challenges (TD ${t})`:"Eternity Challenges",multValue:t=>{let e=DC.D1.timesEffectsOf(EternityChallenge(1).reward,EternityChallenge(10).reward).times(EternityChallenge(7).isRunning?Tickspeed.perSecond:DC.D1);return EternityChallenge(9).isRunning&&(e=e.times(Decimal.pow(Math.clampMin(Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate/7).log2(),1),4).clampMin(1))),Decimal.pow(e,t?1:Fe.activeDimCount("TD"))},isActive:()=>EternityChallenge(1).completions>0,icon:_e.CHALLENGE("eternity")},tickspeed:{name:()=>"Tickspeed (EC7)",displayOverride:()=>{const t=Tickspeed.perSecond,e=Fe.activeDimCount("TD"),i=Fe.pluralizeDimensions(e);return`${format(t,2,2)}/sec on ${formatInt(e)} ${i}
        ➜ ${formatX(t.pow(e),2,2)}`},multValue:()=>Tickspeed.perSecond.pow(Fe.activeDimCount("TD")),isActive:()=>EternityChallenge(7).isRunning,icon:_e.TICKSPEED},dilationUpgrade:{name:"Dilation Upgrade - Replicanti Multiplier",multValue:t=>{const e=Replicanti.areUnlocked&&Replicanti.amount.gt(1)?DilationUpgrade.tdMultReplicanti.effectValue:DC.D1;return Decimal.pow(e,t?1:Fe.activeDimCount("TD"))},isActive:()=>DilationUpgrade.tdMultReplicanti.canBeApplied,icon:_e.UPGRADE("dilation")},realityUpgrade:{name:"Reality Upgrade - Temporal Transcendence",multValue:t=>Decimal.pow(RealityUpgrade(22).effectOrDefault(1),t?1:Fe.activeDimCount("TD")),isActive:()=>!Pelle.isDoomed&&RealityUpgrade(22).canBeApplied,icon:_e.UPGRADE("reality")},glyph:{name:"Glyph Effects",powValue:()=>getAdjustedGlyphEffect("timepow")*getAdjustedGlyphEffect("effarigdimensions"),isActive:()=>sn.realityUnlocked(),icon:_e.GENERIC_GLYPH},alchemy:{name:"Glyph Alchemy",multValue:t=>Decimal.pow(AlchemyResource.dimensionality.effectOrDefault(1),t?1:Fe.activeDimCount("TD")),powValue:()=>AlchemyResource.time.effectOrDefault(1)*Ra.momentumValue,isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,icon:_e.ALCHEMY},imaginaryUpgrade:{name:"Imaginary Upgrade - Suspicion of Interference",powValue:()=>ImaginaryUpgrade(11).effectOrDefault(1),isActive:()=>ImaginaryUpgrade(11).canBeApplied,icon:_e.UPGRADE("imaginary")},pelle:{name:"Pelle Rift Effects",multValue:t=>Decimal.pow(PelleRifts.chaos.effectOrDefault(1),t?1:Fe.activeDimCount("TD")),powValue:()=>PelleRifts.paradox.effectOrDefault(DC.D1).toNumber(),isActive:()=>Pelle.isDoomed,icon:_e.PELLE},iap:{name:"Shop Tab Purchases",multValue:t=>Decimal.pow(ShopPurchase.allDimPurchases.currentMult,t?1:Fe.activeDimCount("TD")),isActive:()=>ShopPurchaseData.totalSTD>0,icon:_e.IAP},nerfV:{name:"V's Reality",powValue:()=>.5,isActive:()=>V.isRunning,icon:_e.GENERIC_V},nerfCursed:{name:"Cursed Glyphs",powValue:()=>getAdjustedGlyphEffect("curseddimensions"),isActive:()=>getAdjustedGlyphEffect("curseddimensions")!==1,icon:_e.SPECIFIC_GLYPH("cursed")}},g9={total:{name:"Total Tachyon Particles",displayOverride:()=>{const t=format(new Decimal(Currency.tachyonParticles.value),2,2);return PelleRifts.paradox.milestones[1].canBeApplied?`${t}${formatPow(PelleRifts.paradox.milestones[1].effectValue,1,1)}`:t},multValue:()=>{const t=new Decimal(Currency.tachyonParticles.value).pow(PelleRifts.paradox.milestones[1].effectOrDefault(1));return TimeStudy.dilation.isBought?t:1},isActive:()=>sn.realityUnlocked()||sn.dilationUnlocked(),icon:_e.TACHYON_PARTICLES},base:{name:"Base Tachyon Particle Count",isBase:!0,multValue:()=>new Decimal(Currency.tachyonParticles.value).div(tachyonGainMultiplier()),isActive:()=>new Decimal(Currency.tachyonParticles.value).gt(0),icon:_e.TACHYON_PARTICLES},achievementMult:{name:"Achievement Multiplier",multValue:()=>RealityUpgrade(8).effectOrDefault(1),isActive:()=>RealityUpgrade(8).canBeApplied&&!Pelle.isDoomed,icon:_e.ACHIEVEMENT},achievement:{name:"Achievement 132",multValue:()=>Achievement(132).effectOrDefault(1),isActive:()=>Achievement(132).canBeApplied,icon:_e.ACHIEVEMENT},dilation:{name:()=>`Dilation Upgrade - Repeatable ${formatX(3)} TP`,multValue:()=>DilationUpgrade.tachyonGain.effectOrDefault(1),isActive:()=>DilationUpgrade.tachyonGain.canBeApplied,icon:_e.UPGRADE("dilation")},amplifierTP:{name:"Reality Upgrade - Superluminal Amplifier",multValue:()=>DC.D1.timesEffectsOf(RealityUpgrade(4)),isActive:()=>sn.realityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},realityUpgrade:{name:"Reality Upgrade - The Paradoxical Forever",multValue:()=>DC.D1.timesEffectsOf(RealityUpgrade(15)),isActive:()=>sn.realityUnlocked()&&!Pelle.isDoomed,icon:_e.UPGRADE("reality")},dilationGlyphSacrifice:{name:"Dilation Glyph Sacrifice",multValue:()=>GlyphSacrifice.dilation.effectValue,isActive:()=>GlyphSacrifice.dilation.effectValue>1,icon:_e.SACRIFICE("dilation")},nerfEnslaved:{name:"The Nameless Ones' Reality",powValue:()=>Enslaved.tachyonNerf,isActive:()=>Enslaved.isRunning,icon:_e.GENERIC_ENSLAVED}},KN={general:d9,AM:a9,AD:r9,ID:h9,TD:y9,IP:p9,EP:o9,TP:g9,DT:s9,tickspeed:i9,tickspeedUpgrades:n9,galaxies:c9,infinities:f9,eternities:l9,gamespeed:u9,replicanti:m9},v9=["TP","DT","infinities","eternities","gamespeed","replicanti"],EC={AD:["purchase","dimboost","sacrifice","achievementMult","achievement","infinityUpgrade","breakInfinityUpgrade","infinityPower","infinityChallenge","timeStudy","eternityChallenge","glyph","v","alchemy","pelle","iap","effectNC","nerfIC","nerfV","nerfCursed","nerfPelle"],ID:["purchase","achievementMult","achievement","replicanti","infinityChallenge","timeStudy","eternityUpgrade","eternityChallenge","glyph","alchemy","imaginaryUpgrade","pelle","iap","nerfV","nerfCursed","nerfPelle"],TD:["purchase","achievementMult","achievement","timeStudy","eternityUpgrade","eternityChallenge","dilationUpgrade","realityUpgrade","glyph","alchemy","imaginaryUpgrade","pelle","iap","nerfV","nerfCursed"],IP:["base","infinityUpgrade","achievement","timeStudy","dilationUpgrade","glyph","alchemy","pelle","iap","nerfTeresa","nerfV"],EP:["base","eternityUpgrade","timeStudy","glyph","realityUpgrade","pelle","iap","nerfTeresa","nerfV"]};for(const t of v9){EC[t]=[];for(const e of Object.keys(KN[t]))e!=="total"&&EC[t].push(e)}function z_(t){const e=[];for(let i=1;i<=8;i++)e.push(`${t}_${i}`);return e}function qs(t,e){const i=EC[t].map(r=>`${t}_${r}`);if(!e)return i;const n=[];for(const r of i)n.push(`${r}_${e}`);return n}const Ri={AM_total:[["AD_total","tickspeed_total","AM_effarigAM"]],AD_total:[qs("AD"),z_("AD_total")],ID_total:[qs("ID"),z_("ID_total")],TD_total:[qs("TD"),z_("TD_total")],IP_total:[qs("IP")],IP_base:[["IP_antimatter","IP_divisor"]],EP_total:[qs("EP")],EP_base:[["EP_IP","EP_divisor"]],TP_total:[qs("TP")],DT_total:[qs("DT")],tickspeed_total:[["tickspeed_base","tickspeed_upgrades","tickspeed_galaxies","tickspeed_pelleTickspeedPow"]],tickspeed_upgrades:[["tickspeedUpgrades_purchased","tickspeedUpgrades_free"]],tickspeed_galaxies:[["galaxies_antimatter","galaxies_replicanti","galaxies_tachyon","galaxies_nerfPelle"]],infinities_total:[qs("infinities")],eternities_total:[qs("eternities")],gamespeed_total:[qs("gamespeed")],replicanti_total:[qs("replicanti")]},ZN=Ri.gamespeed_total[0];Ri.gamespeed_total[0]=[...ZN].filter(t=>t!=="gamespeed_blackHoleAvg");Ri.gamespeed_total[1]=[...ZN].filter(t=>t!=="gamespeed_blackHoleCurr");Ri.DT_total[0].unshift("TP_total");const ES=["AD","ID","TD"],b9=["IP","EP","DT","infinities","replicanti"],Uh={achievement:{checkFn:Fe.achievementDimCheck,AD:[23,28,31,34,43,48,56,64,65,68,71,72,73,74,76,84,91,92,183],TD:[105,128],IP:[85,93,116,125,141],DT:[132,137],infinities:[87,131,164]},timeStudy:{checkFn:Fe.timeStudyDimCheck,AD:[71,91,101,161,193,214,234],ID:[72,82,92,102,162],TD:[11,73,93,103,151,221,227,301],IP:[41,51,141,142,143],EP:[61,121,122,123],replicanti:[62,132,213]},infinityChallenge:{checkFn:Fe.ICDimCheck,AD:[3,4,8],ID:[1,6]},eternityChallenge:{checkFn:Fe.ECDimCheck,ID:[2,4,9],TD:[1,10]}};for(const t of ES)Ri[`${t}_total`][0].push(`${t}_highestDim`),Ri[`${t}_total`][1].push(`${t}_highestDim`);for(const t of["ID","TD"])Ri[`${t}_total`][0].push(`${t}_tickspeed`),Ri[`${t}_total`][1].push(`${t}_tickspeed`);for(const t of ES){for(const e of qs(t))Ri[e]=[z_(e)];for(let e=1;e<=8;e++)Ri[`${t}_total_${e}`]=[qs(t,e)]}const _9=["AD_sacrifice","AD_breakInfinityUpgrade","AD_nerfIC","AD_infinityUpgrade","AD_v","ID_replicanti","ID_infinityChallenge","ID_eternityUpgrades","TD_achievement","TD_eternityUpgrade","TD_dilationUpgrade","TD_realityUpgrade",".._achievementMult",".._glyph",".._alchemy",".._imaginaryUpgrade",".._iap",".._nerfV",".._nerfCursed",".._nerfPelle",".._pelle"],w9=Object.keys(Ri).filter(t=>_9.some(e=>t.match(e)));for(const t of w9)Ri[t]=void 0;Ri.AD_infinityPower=[["ID_total","ID_powerConversion"]];for(let t=1;t<=8;t++)Ri[`AD_infinityPower_${t}`]=[["ID_total","ID_powerConversion"]];Ri.ID_purchase.unshift(["ID_basePurchase","ID_tesseractPurchase","ID_infinityGlyphSacrifice","ID_powPurchase"]);for(let t=1;t<=7;t++)Ri[`ID_purchase_${t}`]=[[`ID_basePurchase_${t}`,`ID_tesseractPurchase_${t}`,"ID_powPurchase"]];Ri.ID_purchase_8=[["ID_basePurchase_8","ID_infinityGlyphSacrifice","ID_powPurchase"]];for(let t=1;t<=7;t++)Ri[`TD_purchase_${t}`]=[[`TD_basePurchase_${t}`,`TD_powPurchase_${t}`]];Ri.TD_purchase.push(["TD_basePurchase","TD_timeGlyphSacrifice","TD_powPurchase"]);Ri.TD_purchase_8=[["TD_basePurchase_8","TD_timeGlyphSacrifice","TD_powPurchase"]];for(const t of ES)for(const e of Object.keys(Uh))if(Uh[e][t]){Ri[`${t}_${e}`]=[[]];for(const i of Uh[e][t]){for(let n=1;n<=8;n++){const r=`${t}_${e}_${n}`,a=`${t}${n}`;Uh[e].checkFn(i,a)&&(Ri[r]||(Ri[r]=[[]]),Ri[r][0].push(`general_${e}_${i}_${a}`))}Ri[`${t}_${e}`][0].push(`general_${e}_${i}_${t}`)}}for(const t of b9)for(const e of Object.keys(Uh))if(Uh[e][t]){Ri[`${t}_${e}`]=[[]];for(const i of Uh[e][t])Ri[`${t}_${e}`][0].push(`general_${e}_${i}`)}Ri.ID_eternityUpgrade=[["ID_eu1","ID_eu2","ID_eu3"]];Ri.TD_eternityUpgrade=[["TD_eu1","TD_eu2"]];for(let t=1;t<=8;t++)Ri[`ID_eternityUpgrade_${t}`]=[[`ID_eu1_${t}`,`ID_eu2_${t}`,`ID_eu3_${t}`]],Ri[`TD_eternityUpgrade_${t}`]=[[`TD_eu1_${t}`,`TD_eu2_${t}`]];const E9=[{id:11,name:"You gotta start somewhere",description:"Buy a 1st Antimatter Dimension.",get reward(){return"Make sure this mod doesn't get on the wiki."}},{id:12,name:"100 antimatter is a lot",description:"Buy a 2nd Antimatter Dimension."},{id:13,name:"Half life 3 CONFIRMED",description:"Buy a 3rd Antimatter Dimension."},{id:14,name:"L4D: Left 4 Dimensions",description:"Buy a 4th Antimatter Dimension."},{id:15,name:"5 Dimension Antimatter Punch",description:"Buy a 5th Antimatter Dimension."},{id:16,name:"We couldn't afford 9",get description(){return Enslaved.isRunning?"Buy a 6th Antimatter Dimension (they never amount to anything)":"Buy a 6th Antimatter Dimension."}},{id:17,name:"Not a luck related achievement",description:"Buy a 7th Antimatter Dimension."},{id:18,name:"90 degrees to infinity",get description(){return Enslaved.isRunning?"Buy an 8th Antimatter Dimension (don't get used to it)":"Buy an 8th Antimatter Dimension."}},{id:21,name:"To infinity!",description:"Go Infinite.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Start with ${formatInt(5e5)} antimatter. (this is 5e3x stronger to prevent potential softlocks)`},effect:5e5},{id:22,name:"FAKE NEWS!",get description(){return`Encounter ${formatInt(50)} different news messages.`},checkRequirement:()=>NewsHandler.uniqueTickersSeen>=50,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},{id:23,name:"The 9th Dimension is a lie",get description(){return`Have exactly ${formatInt(99)} 8th Antimatter Dimensions.`},checkRequirement:()=>AntimatterDimension(8).amount.eq(99),get reward(){return`8th Antimatter Dimensions are ${formatPercents(.1)} stronger.`},effect:1.1},{id:24,name:"Antimatter Apocalypse",get description(){return`Get over ${format(DC.E80)} antimatter.`},checkRequirement:()=>Currency.antimatter.exponent>=80,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:25,name:"Boosting to the max",get description(){return`Buy ${formatInt(10)} Dimension Boosts.`},checkRequirement:()=>DimBoost.purchasedBoosts>=10,checkEvent:GAME_EVENT.DIMBOOST_AFTER},{id:26,name:"You got past The Big Wall",description:"Buy an Antimatter Galaxy.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.GALAXY_RESET_BEFORE},{id:27,name:"Double Galaxy",get description(){return`Buy ${formatInt(2)} Antimatter Galaxies.`},checkRequirement:()=>player.galaxies>=2,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER},{id:28,name:"There's no point in doing that...",get description(){return`Buy a single 1st Antimatter Dimension when you have over ${format(DC.E150)} of them.`},checkRequirement:()=>AntimatterDimension(1).amount.exponent>=150,get reward(){return`1st Antimatter Dimensions are ${formatPercents(.1)} stronger.`},effect:1.1},{id:31,name:"I forgot to nerf that",get description(){return`Get any Antimatter Dimension multiplier over ${formatX(DC.E31)}.`},checkRequirement:()=>AntimatterDimensions.all.some(t=>t.multiplier.exponent>=31),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`1st Antimatter Dimensions are ${formatPercents(.05)} stronger.`},effect:1.05},{id:32,name:"The Gods are pleased",get description(){return`Get over ${formatX(600)} from Dimensional Sacrifice outside of Challenge 8.`},checkRequirement:()=>!NormalChallenge(8).isOnlyActiveChallenge&&Sacrifice.totalBoost.gte(600),checkEvent:GAME_EVENT.SACRIFICE_RESET_AFTER,get reward(){return`Dimensional Sacrifice is stronger.
      ${Sacrifice.getSacrificeDescription({Achievement32:!1,Achievement57:!1,Achievement88:!1})} ➜
      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!1,Achievement88:!1})}`},effect:.1},{id:33,name:"That's a lot of infinites",get description(){return`Reach Infinity ${formatInt(10)} times.`},checkRequirement:()=>Currency.infinities.gte(10),checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:34,name:"You didn't need it anyway",description:"Infinity without having any 8th Antimatter Dimensions.",checkRequirement:()=>AntimatterDimension(8).totalAmount.eq(0),checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Dimensions 1-7 are ${formatPercents(.02)} stronger.`},effect:1.02},{id:35,name:"Don't you dare sleep",get description(){return PlayerProgress.realityUnlocked()?`Be offline for a period of over ${formatInt(6)} hours (real time).`:`Be offline for a period of over ${formatInt(6)} hours.`},checkRequirement:()=>Date.now()-player.lastUpdate>=216e5,checkEvent:GAME_EVENT.GAME_TICK_BEFORE},{id:36,name:"Claustrophobic",get description(){return`Infinity with just ${formatInt(1)} Antimatter Galaxy. (Your Antimatter Galaxies are reset on Infinity.)`},checkRequirement:()=>player.galaxies===1,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Multiply starting tick speed by ${format(1.02,2,2)}.`},effect:1/1.02},{id:37,name:"That's FAST!",get description(){return`Infinity in under ${formatInt(2)} hours.`},checkRequirement:()=>Time.thisInfinityRealTime.totalHours<=2,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Start with ${formatInt(5e6)} antimatter.`},effect:5e6},{id:38,name:"I don't believe in Gods",get description(){return`Buy an Antimatter Galaxy without Dimensional Sacrificing.
        (Your Antimatter Galaxies are reset on Infinity.)`},checkRequirement:()=>player.requirementChecks.infinity.noSacrifice,checkEvent:GAME_EVENT.GALAXY_RESET_BEFORE},{id:41,name:"No DLC required",get description(){return`Buy ${formatInt(16)} Infinity Upgrades.`},checkRequirement:()=>player.infinityUpgrades.size>=16,checkEvent:[GAME_EVENT.INFINITY_UPGRADE_BOUGHT,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT],get reward(){return`Unlock two new Infinity Upgrades- ${formatX(2)} IP multiplier and offline IP generation.`}},{id:42,name:"Super Sanic",get description(){return`Have antimatter per second exceed your current antimatter above ${format(DC.E63)}.`},checkRequirement:()=>Currency.antimatter.exponent>=63&&Currency.antimatter.productionPerSecond.gt(Currency.antimatter.value),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:43,name:"How the antitables have turned..",description:"Get the 8th Antimatter Dimension multiplier to be highest, 7th Antimatter Dimension multiplier  second highest, etc.",checkRequirement:()=>{const t=Array.range(1,8).map(e=>AntimatterDimension(e).multiplier);for(let e=0;e<t.length-1;e++)if(t[e].gte(t[e+1]))return!1;return!0},checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Each Antimatter Dimension gains a boost proportional to tier
      (8th gets ${formatPercents(.08)}, 7th gets ${formatPercents(.07)}, etc.)`}},{id:44,name:"Over in 30 Seconds",get description(){return`Have antimatter per second exceed your current antimatter
      for ${formatInt(30)} consecutive seconds.`},checkRequirement:()=>AchievementTimers.marathon1.check(Currency.antimatter.productionPerSecond.gt(Currency.antimatter.value),30),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:45,name:"Faster than a potato",get description(){return`Get more than ${format(DC.E29)} ticks per second.`},checkRequirement:()=>Tickspeed.current.exponent<=-26,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Multiply starting tickspeed by ${formatX(1.02,0,2)}.`},effect:.98},{id:46,name:"Multidimensional",get description(){return`Reach ${format(DC.E12)} of all Antimatter Dimensions except the 8th.`},checkRequirement:()=>AntimatterDimension(7).amount.exponent>=12,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:47,name:"Daredevil",get description(){return`Complete ${formatInt(3)} Normal Challenges.`},checkRequirement:()=>NormalChallenges.all.countWhere(t=>t.isCompleted)>=3,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:48,name:"Antichallenged",get description(){return`Complete all ${formatInt(12)} Normal Challenges.`},checkRequirement:()=>NormalChallenges.all.countWhere(t=>!t.isCompleted)===0,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT],get reward(){return`All Dimensions are ${formatPercents(.1)} stronger.`},effect:1.1},{id:51,name:"Limit Break",description:"Break Infinity.",checkRequirement:()=>player.break,checkEvent:[GAME_EVENT.BREAK_INFINITY,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:52,name:"Age of Automation",description:"Max the interval for Antimatter Dimension and Tickspeed upgrade autobuyers.",checkRequirement:()=>Autobuyer.antimatterDimension.zeroIndexed.concat(Autobuyer.tickspeed).every(t=>t.isUnlocked&&t.hasMaxedInterval),checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:53,name:"Definitely not worth it",description:"Max the intervals for all normal autobuyers.",checkRequirement:()=>Autobuyers.upgradeable.every(t=>t.isUnlocked&&t.hasMaxedInterval),checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:54,name:"That's FASTER!",get description(){return`Infinity in ${formatInt(10)} minutes or less.`},checkRequirement:()=>Time.thisInfinityRealTime.totalMinutes<=10,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Start with ${format(5e8)} antimatter.`},effect:5e8},{id:55,name:"Forever isn't that long",get description(){return`Infinity in ${formatInt(1)} minute or less.`},checkRequirement:()=>Time.thisInfinityRealTime.totalMinutes<=1,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Start with ${format(5e13)} antimatter.`},effect:5e13},{id:56,name:"Many Deaths",get description(){return`Complete the 2nd Antimatter Dimension Autobuyer Challenge in ${formatInt(3)} minutes or less.`},checkRequirement:()=>NormalChallenge(2).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalMinutes<=3,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`All Antimatter Dimensions are stronger in the first ${formatInt(3)} minutes of Infinities.`},effect:()=>Math.max(6/(Time.thisInfinity.totalMinutes+3),1),effectCondition:()=>Time.thisInfinity.totalMinutes<3,formatEffect:t=>`${formatX(t,2,2)}`},{id:57,name:"Gift from the Gods",get description(){return`Complete the 8th Antimatter Dimension Autobuyer Challenge in ${formatInt(3)} minutes or less.`},checkRequirement:()=>NormalChallenge(8).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalMinutes<=3,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Dimensional Sacrifice is stronger.
      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!1,Achievement88:!1})} ➜
      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!0,Achievement88:!1})}`},effect:.1},{id:58,name:"This is fine.",get description(){return`Complete the Tickspeed Autobuyer Challenge in ${formatInt(3)} minutes or less.`},checkRequirement:()=>NormalChallenge(9).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalMinutes<=3,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Increase the multiplier for buying ${formatInt(10)} Antimatter Dimensions by +${formatPercents(.01)}.`},effect:1.01},{id:61,name:"Bulked Up",get description(){return`Get all of your Antimatter Dimension Autobuyer bulk amounts to
        ${formatInt(Autobuyer.antimatterDimension.bulkCap)}.`},checkRequirement:()=>Autobuyer.antimatterDimension.zeroIndexed.every(t=>t.hasMaxedBulk),checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT,GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION],reward:"Dimension Autobuyer bulks are unlimited."},{id:62,name:"Oh, hey... You're still here?",get description(){return`Reach ${format(DC.E8)} Infinity Points per minute.`},checkRequirement:()=>Player.bestRunIPPM.exponent>=8,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:63,name:"A new beginning",description:"Begin generation of Infinity Power.",checkRequirement:()=>Currency.infinityPower.gt(1),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:64,name:"Zero Deaths",description:"Get to Infinity without Dimension Boosts or Antimatter Galaxies while in a Normal Challenge.",checkRequirement:()=>player.galaxies===0&&DimBoost.purchasedBoosts===0&&NormalChallenge.isRunning,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Antimatter Dimensions 1-4 are ${formatPercents(.25)} stronger.`},effect:1.25},{id:65,name:"Not-so-challenging",get description(){return`Get the sum of all of your Normal Challenge times under ${formatInt(3)} minutes.`},checkRequirement:()=>Time.challengeSum.totalMinutes<3,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER],get reward(){return`All Antimatter Dimensions are stronger in the first ${formatInt(3)} minutes of Infinities,
      but only in Challenges.`},effect:()=>Player.isInAnyChallenge?Math.max(4/(Time.thisInfinity.totalMinutes+1),1):1,effectCondition:()=>Player.isInAnyChallenge&&Time.thisInfinity.totalMinutes<3,formatEffect:t=>`${formatX(t,2,2)}`},{id:66,name:"Faster than a squared potato",get description(){return`Get more than ${format(DC.E58)} ticks per second.`},checkRequirement:()=>Tickspeed.current.exponent<=-55,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Multiply starting tickspeed by ${formatX(1.02,0,2)}.`},effect:.98},{id:67,name:"Infinitely Challenging",description:"Complete an Infinity Challenge.",checkRequirement:()=>InfinityChallenges.completed.length>0,checkEvent:[GAME_EVENT.INFINITY_CHALLENGE_COMPLETED,GAME_EVENT.REALITY_RESET_AFTER]},{id:68,name:"You did this again just for the achievement right?",get description(){return`Complete the 3rd Antimatter Dimension Autobuyer Challenge in ${formatInt(10)} seconds or less.`},checkRequirement:()=>NormalChallenge(3).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalSeconds<=10,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`1st Antimatter Dimensions are ${formatPercents(.5)} stronger.`},effect:1.5},{id:71,name:"ERROR 909: Dimension not found",description:`Get to Infinity with only a single 1st Antimatter Dimension without Dimension Boosts
      or Antimatter Galaxies, while in the 2nd Antimatter Dimension Autobuyer Challenge.`,checkRequirement:()=>NormalChallenge(2).isOnlyActiveChallenge&&AntimatterDimension(1).amount.eq(1)&&DimBoost.purchasedBoosts===0&&player.galaxies===0,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`1st Antimatter Dimensions are ${formatInt(3)} times stronger.`},effect:3},{id:72,name:"Can't hold all these infinities",get description(){return`Get all Antimatter Dimension multipliers over ${formatX(Decimal.NUMBER_MAX_VALUE,1)}.`},checkRequirement:()=>AntimatterDimensions.all.every(t=>t.multiplier.gte(Decimal.NUMBER_MAX_VALUE)),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`All Antimatter Dimensions are ${formatPercents(.1)} stronger.`},effect:1.1},{id:73,name:"THIS ACHIEVEMENT DOESN'T EXIST",get description(){return`Get ${formatPostBreak(DC.D9_9999E9999,4)} antimatter.`},checkRequirement:()=>Currency.antimatter.gte(DC.D9_9999E9999),checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Antimatter Dimensions gain a multiplier based on current antimatter.",effect:()=>Currency.antimatter.value.pow(2e-5).plus(1),formatEffect:t=>`${formatX(t,2,2)}`},{id:74,name:"Not a second lost",get description(){return`Get the sum of all best Normal Challenge times under ${formatInt(5)} seconds.`},checkRequirement:()=>Time.challengeSum.totalSeconds<5,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER],get reward(){return`All Antimatter Dimensions are ${formatPercents(.4)} stronger, but only in challenges.`},effect:1.4,effectCondition:()=>Player.isInAnyChallenge},{id:75,name:"NEW DIMENSIONS???",description:"Unlock the 4th Infinity Dimension.",checkRequirement:()=>InfinityDimension(4).isUnlocked,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Your Achievement bonus affects Infinity Dimensions.",effect:()=>Achievements.power},{id:76,name:"One for each dimension",get description(){return`Play for ${formatInt(8)} days.`},checkRequirement:()=>Time.totalTimePlayed.totalDays>=8,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Extremely small multiplier to Antimatter Dimensions based on time played.",effect:()=>Math.max(Math.pow(Time.totalTimePlayed.totalDays/2,.05),1),formatEffect:t=>`${formatX(t,2,2)}`},{id:77,name:"1 Million is a lot",get description(){return`Reach ${format(1e6)} Infinity Power.`},checkRequirement:()=>Currency.infinityPower.exponent>=6,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:78,name:"Blink of an eye",get description(){return`Infinity in under ${formatInt(250)}ms.`},checkRequirement:()=>Time.thisInfinityRealTime.totalMilliseconds<=250,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Start with ${format(5e28)} antimatter.`},effect:5e28},{id:81,name:"Game Design Is My Passion",get description(){return`Beat Infinity Challenge 5 in ${formatInt(15)} seconds or less.`},checkRequirement:()=>InfinityChallenge(5).isRunning&&Time.thisInfinityRealTime.totalSeconds<=15,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE},{id:82,name:"Anti-antichallenged",get description(){return`Complete all ${formatInt(8)} Infinity Challenges.`},checkRequirement:()=>InfinityChallenges.completed.length===8,checkEvent:[GAME_EVENT.INFINITY_CHALLENGE_COMPLETED,GAME_EVENT.REALITY_RESET_AFTER]},{id:83,name:"YOU CAN GET 50 GALAXIES?!?!",get description(){return`Get ${formatInt(50)} Antimatter Galaxies.`},checkRequirement:()=>player.galaxies>=50,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,get reward(){return`Tickspeed is just over ${formatPercents(.05)} faster per Antimatter Galaxy.`},effect:()=>DC.D0_95.pow(player.galaxies),formatEffect:t=>`${formatX(t.recip(),2,2)}`},{id:84,name:"I got a few to spare",get description(){return`Reach ${formatPostBreak("1e35000")} antimatter.`},checkRequirement:()=>Currency.antimatter.exponent>=35e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Antimatter Dimensions are stronger the more unspent antimatter you have.",effect:()=>Currency.antimatter.value.pow(2e-5).plus(1),formatEffect:t=>`${formatX(t,2,2)}`},{id:85,name:"ALL YOUR IP ARE BELONG TO US",get description(){return`Big Crunch for ${format(DC.E150)} Infinity Points.`},checkRequirement:()=>gainedInfinityPoints().exponent>=150,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Additional ${formatX(4)} multiplier to Infinity Points.`},effect:4},{id:86,name:"Do you even bend time bro?",get description(){return`Reach ${formatX(1e3)} faster per Tickspeed upgrade.`},checkRequirement:()=>Tickspeed.multiplier.recip().gte(1e3),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`All Galaxies are ${formatPercents(.01)} stronger.`},effect:1.01},{id:87,name:"2 MILLION INFINITIES",get description(){return`Infinity ${format(DC.D2E6)} times.`},checkRequirement:()=>Currency.infinities.gt(DC.D2E6),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Infinities more than ${formatInt(5)} seconds long
      give ${formatX(250)} more Infinities.`},effect:250,effectCondition:()=>Time.thisInfinity.totalSeconds>5},{id:88,name:"Yet another infinity reference",get description(){return`Get a ${formatX(Decimal.NUMBER_MAX_VALUE,1,0)} multiplier in a single Dimensional Sacrifice.`},checkRequirement:()=>Sacrifice.nextBoost.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.SACRIFICE_RESET_BEFORE,get reward(){return`Dimensional Sacrifice is stronger.
      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!0,Achievement88:!1})} ➜
      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!0,Achievement88:!0})}`},effect:.1},{id:91,name:"Ludicrous Speed",get description(){return`Big Crunch for ${format(DC.E200)} Infinity Points in ${formatInt(2)} seconds or less.`},checkRequirement:()=>gainedInfinityPoints().exponent>=200&&Time.thisInfinityRealTime.totalSeconds<=2,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`All Antimatter Dimensions are significantly stronger in the
      first ${formatInt(5)} seconds of Infinities.`},effect:()=>Math.max((5-Time.thisInfinity.totalSeconds)*60,1),effectCondition:()=>Time.thisInfinity.totalSeconds<5,formatEffect:t=>`${formatX(t,2,2)}`},{id:92,name:"I brake for NOBODY!",get description(){return`Big Crunch for ${format(DC.E250)} Infinity Points in ${formatInt(20)} seconds or less.`},checkRequirement:()=>gainedInfinityPoints().exponent>=250&&Time.thisInfinityRealTime.totalSeconds<=20,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`All Antimatter Dimensions are significantly stronger in the
      first ${formatInt(60)} seconds of Infinities.`},effect:()=>Math.max((1-Time.thisInfinity.totalMinutes)*100,1),effectCondition:()=>Time.thisInfinity.totalMinutes<1,formatEffect:t=>`${formatX(t,2,2)}`},{id:93,name:"MAXIMUM OVERDRIVE",get description(){return`Big Crunch for ${format(DC.E300)} Infinity Points.`},checkRequirement:()=>gainedInfinityPoints().exponent>=300,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Additional ${formatX(4)} multiplier to Infinity Points.`},effect:4},{id:94,name:"4.3333 minutes of Infinity",get description(){return`Reach ${format(DC.E260)} Infinity Power.`},checkRequirement:()=>Currency.infinityPower.exponent>=260,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Double Infinity Power gain.",effect:2},{id:95,name:"Is this safe?",get description(){return`Gain ${format(Decimal.NUMBER_MAX_VALUE,1,0)} Replicanti in ${formatInt(1)} hour.`},get reward(){return`You keep your Replicanti and ${formatInt(1)} Replicanti Galaxy on Infinity.`},checkRequirement:()=>(Replicanti.amount.eq(Decimal.NUMBER_MAX_VALUE)||player.replicanti.galaxies>0)&&Time.thisInfinityRealTime.totalHours<=1,checkEvent:GAME_EVENT.REPLICANTI_TICK_AFTER},{id:96,name:"Time is relative",description:"Go Eternal.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:97,name:"Like jumping on a lego",get description(){return`Get the sum of Infinity Challenge times under ${format(6.66,2,2)} seconds.`},checkRequirement:()=>Time.infinityChallengeSum.totalSeconds<6.66,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER]},{id:98,name:"0 degrees from Infinity",description:"Unlock the 8th Infinity Dimension.",checkRequirement:()=>InfinityDimension(8).isUnlocked,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:101,name:"8 nobody got time for that",description:"Eternity without buying Antimatter Dimensions 1-7.",checkRequirement:()=>player.requirementChecks.eternity.onlyAD8,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:102,name:"This mile took an eternity",description:"Get all Eternity milestones.",checkRequirement:()=>EternityMilestone.all.every(t=>t.isReached),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:103,name:"Tätä saavutusta ei ole olemassa II",get description(){return`Reach ${formatPostBreak(DC.D9_99999E999,5,0)} Infinity Points.`},checkRequirement:()=>Currency.infinityPoints.exponent>=1e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Make the Infinity Point formula better. log(x)/${formatInt(308)} ➜ log(x)/${formatFloat(307.8,1)}`},effect:307.8},{id:104,name:"That wasn't an eternity",get description(){return`Eternity in under ${formatInt(30)} seconds.`},checkRequirement:()=>Time.thisEternity.totalSeconds<=30,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,get reward(){return`Start Eternities with ${format(5e28)} Infinity Points.`},effect:5e28},{id:105,name:"Infinite Time",get description(){return`Have ${formatInt(308)} Tickspeed upgrades from Time Dimensions.`},checkRequirement:()=>player.totalTickGained>=308,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Time Dimensions gain a multiplier based on tickspeed.",effect:()=>Tickspeed.perSecond.pow(5e-6),formatEffect:t=>`${formatX(t,2,2)}`},{id:106,name:"The swarm",get description(){return`Get ${formatInt(10)} Replicanti Galaxies in ${formatInt(15)} seconds.`},checkRequirement:()=>Replicanti.galaxies.total>=10&&Time.thisInfinity.totalSeconds<=15,checkEvent:GAME_EVENT.REPLICANTI_TICK_AFTER},{id:107,name:"Do you really need a guide for this?",get description(){return`Eternity with less than ${formatInt(10)} Infinities.`},checkRequirement:()=>Currency.infinities.lt(10),checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:108,name:"We COULD afford 9",get description(){return`Eternity with exactly ${formatInt(9)} Replicanti.`},checkRequirement:()=>Replicanti.amount.round().eq(9),checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:111,name:"Yo dawg, I heard you liked infinities...",get description(){return`Have all your Infinities in your past ${formatInt(10)} Infinities be at least
      ${format(Decimal.NUMBER_MAX_VALUE,1,0)} times higher Infinity Points than the previous one.`},checkRequirement:()=>{if(player.records.recentInfinities.some(e=>e[0]===Number.MAX_VALUE))return!1;const t=player.records.recentInfinities.map(e=>e[2]);for(let e=0;e<t.length-1;e++)if(t[e].lt(t[e+1].times(Decimal.NUMBER_MAX_VALUE)))return!1;return!0},checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER,reward:"Your antimatter doesn't reset on Dimension Boosts or Antimatter Galaxies."},{id:112,name:"Never again",get description(){return`Get the sum of Infinity Challenge times below ${formatInt(750)}ms.`},checkRequirement:()=>Time.infinityChallengeSum.totalMilliseconds<750,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER]},{id:113,name:"Eternities are the new infinity",get description(){return`Eternity in under ${formatInt(250)}ms.`},checkRequirement:()=>Time.thisEternity.totalMilliseconds<=250,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,get reward(){return`Gain ${formatX(2)} more Eternities.`},effect:2},{id:114,name:"You're a mistake",description:"Fail an Eternity Challenge.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.CHALLENGE_FAILED,reward:"A fading sense of accomplishment.",effect:()=>"Sense of accomplishment (fading)"},{id:115,name:"I wish I had gotten 7 eternities",description:"Start an Infinity Challenge inside an Eternity Challenge."},{id:116,name:"Do I really need to infinity",get description(){return`Eternity with only ${formatInt(1)} Infinity.`},checkRequirement:()=>Currency.infinities.lte(1),checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,reward:"Multiplier to Infinity Points based on Infinities.",effect:()=>Decimal.pow(Currency.infinitiesTotal.value.clampMin(1),LOG10_2/4).powEffectOf(TimeStudy(31)),cap:()=>Effarig.eternityCap,formatEffect:t=>{const e=formatX(t,2,2);return TimeStudy(31).canBeApplied?`${formatX(t.pow(1/TimeStudy(31).effectValue),2,1)} (After TS31: ${e})`:e}},{id:117,name:"Costco sells Dimboosts now!",get description(){return`Bulk buy ${formatInt(750)} Dimension Boosts at once.`},checkRequirement:([t])=>t>=750,checkEvent:GAME_EVENT.DIMBOOST_AFTER,get reward(){return`The multiplier from Dimension Boosts to Antimatter Dimensions is ${formatPercents(.01)} higher.`},effect:1.01},{id:118,name:"IT'S OVER 9000",get description(){return`Get a total Dimensional Sacrifice multiplier of ${formatPostBreak(DC.E9000)}.`},checkRequirement:()=>Sacrifice.totalBoost.exponent>=9e3,checkEvent:GAME_EVENT.SACRIFICE_RESET_AFTER,reward:`Dimensional Sacrifice doesn't reset your Antimatter Dimensions
      and the Autobuyer activates every tick if turned on.`},{id:121,name:"Can you get infinite IP?",get description(){return`Reach ${formatPostBreak("1e30008")} Infinity Points.`},checkRequirement:()=>Currency.infinityPoints.exponent>=30008,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:122,name:"You're already dead.",description:"Eternity without buying Antimatter Dimensions 2-8.",checkRequirement:()=>player.requirementChecks.eternity.onlyAD1,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:123,name:"5 more eternities until the update",get description(){return`Complete ${formatInt(50)} unique Eternity Challenge tiers.`},checkRequirement:()=>EternityChallenges.completions>=50,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},{id:124,name:"Long lasting relationship",get description(){return`Have your Infinity Power per second exceed your Infinity Power
      for ${formatInt(60)} consecutive seconds during a single Infinity.`},checkRequirement:()=>AchievementTimers.marathon2.check(!EternityChallenge(7).isRunning&&InfinityDimension(1).productionPerSecond.gt(Currency.infinityPower.value),60),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:125,name:"Like feasting on a behind",get description(){return`Reach ${format(DC.E90)} Infinity Points without having any Infinities
      or any 1st Antimatter Dimensions in your current Eternity.`},checkRequirement:()=>Currency.infinityPoints.exponent>=90&&player.requirementChecks.eternity.noAD1&&Currency.infinities.eq(0),checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Infinity Point multiplier based on time spent this Infinity.",effect(){const t=Time.thisInfinity.totalSeconds*10+1;return DC.D2.pow(Math.log(t)*Math.min(Math.pow(t,.11),500))},cap:()=>Effarig.eternityCap,formatEffect:t=>`${formatX(t,2,2)}`},{id:126,name:"Popular music",get description(){return`Have ${formatInt(180)} times more Replicanti Galaxies than Antimatter Galaxies.`},checkRequirement:()=>Replicanti.galaxies.total>=180*player.galaxies&&player.galaxies>0,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Replicanti Galaxies divide your Replicanti by ${format(Decimal.NUMBER_MAX_VALUE,1,0)}
      instead of resetting them to ${formatInt(1)}.`}},{id:127,name:"But I wanted another prestige layer...",get description(){return`Reach ${format(Decimal.NUMBER_MAX_VALUE,1,0)} Eternity Points.`},checkRequirement:()=>Currency.eternityPoints.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:128,name:"What do I have to do to get rid of you",get description(){return`Reach ${formatPostBreak("1e22000")} Infinity Points without any Time Studies.`},checkRequirement:()=>Currency.infinityPoints.exponent>=22e3&&player.timestudy.studies.length===0,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Time Dimensions are multiplied by the number of Time Studies you have.",effect:()=>Math.max(player.timestudy.studies.length,1),formatEffect:t=>`${formatX(t)}`},{id:131,name:"No ethical consumption",get description(){return`Get ${format(DC.D2E9)} Banked Infinities.`},checkRequirement:()=>Currency.infinitiesBanked.gt(DC.D2E9),checkEvent:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION],get reward(){return`You gain ${formatX(2)} times more Infinities and
      after Eternity you permanently keep ${formatPercents(.05)} of your Infinities as Banked Infinities.`},effects:{infinitiesGain:2,bankedInfinitiesGain:()=>Currency.infinities.value.times(.05).floor()}},{id:132,name:"Unique snowflakes",get description(){return`Have ${formatInt(569)} Antimatter Galaxies without gaining any
        Replicanti Galaxies in your current Eternity.`},checkRequirement:()=>player.galaxies>=569&&player.requirementChecks.eternity.noRG,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,reward:"Gain a multiplier to Tachyon Particle and Dilated Time gain based on Antimatter Galaxies.",effect:()=>1.22*Math.max(Math.pow(player.galaxies,.04),1),formatEffect:t=>`${formatX(t,2,2)}`},{id:133,name:"I never liked this infinity stuff anyway",get description(){return`Reach ${formatPostBreak(DC.E200000)} Infinity Points without
      buying any Infinity Dimensions or the ${formatX(2)} Infinity Point multiplier.`},checkRequirement:()=>Array.dimensionTiers.map(InfinityDimension).every(t=>t.baseAmount===0)&&player.IPMultPurchases===0&&Currency.infinityPoints.exponent>=2e5,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"You start Eternities with all Infinity Challenges unlocked and completed."},{id:134,name:"When will it be enough?",get description(){return`Reach ${formatPostBreak(DC.E18000)} Replicanti.`},checkRequirement:()=>Replicanti.amount.exponent>=18e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`You gain Replicanti ${formatInt(2)} times faster under ${format(replicantiCap(),1)} Replicanti.`}},{id:135,name:"Faster than a potato^286078",get description(){return`Get more than ${formatPostBreak("1e8296262")} ticks per second.`},checkRequirement:()=>Tickspeed.current.exponent<=-8296262,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:136,name:"I told you already, time is relative",description:"Dilate time."},{id:137,name:"Now you're thinking with dilation!",get description(){return`Get ${formatPostBreak("1e260000")} antimatter
      in ${formatInt(1)} minute or less while Dilated.`},checkRequirement:()=>Currency.antimatter.exponent>=26e4&&Time.thisEternity.totalMinutes<=1&&player.dilation.active,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Gain ${formatX(2)} Dilated Time and Time Theorems while Dilated.`},effect:()=>player.dilation.active?2:1},{id:138,name:"This is what I have to do to get rid of you.",get description(){return`Reach ${formatPostBreak("1e26000")} Infinity Points without any Time Studies while Dilated.`},checkRequirement:()=>player.timestudy.studies.length===0&&player.dilation.active&&Currency.infinityPoints.exponent>=26e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Removes the downsides from Time Study 131 and 133 in the Active and Idle Time Study paths."},{id:141,name:"Snap back to reality",description:"Make a new Reality.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`${formatX(4)} Infinity Point gain, and increase the multiplier for buying ${formatInt(10)}
      Antimatter Dimensions by +${format(.1,0,1)}.`},effects:{ipGain:4,buyTenMult:.1}},{id:142,name:"How does this work?",description:"Unlock the automator.",checkRequirement:()=>Player.automatorUnlocked,checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_BOUGHT,GAME_EVENT.PERK_BOUGHT,GAME_EVENT.BLACK_HOLE_UNLOCKED],get reward(){return`Dimension Boosts are ${formatPercents(.5)} stronger.`},effect:1.5},{id:143,name:"Yo dawg, I heard you liked reskins...",get description(){return`Have all your Eternities in your past ${formatInt(10)} Eternities be at least
      ${format(Decimal.NUMBER_MAX_VALUE,1,0)} times higher Eternity Points than the previous one.`},checkRequirement:()=>{if(player.records.recentEternities.some(e=>e[0]===Number.MAX_VALUE))return!1;const t=player.records.recentEternities.map(e=>e[2]);for(let e=0;e<t.length-1;e++)if(t[e].lt(t[e+1].times(Decimal.NUMBER_MAX_VALUE)))return!1;return!0},checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,reward:"Galaxies no longer reset Dimension Boosts."},{id:144,name:"Is this an Interstellar reference?",description:"Unlock the Black Hole.",checkRequirement:()=>BlackHole(1).isUnlocked,checkEvent:GAME_EVENT.BLACK_HOLE_UNLOCKED},{id:145,name:"Are you sure these are the right way around?",description:"Have either Black Hole interval smaller than its duration.",checkRequirement:()=>BlackHoles.list.some(t=>t.interval<t.duration),checkEvent:GAME_EVENT.BLACK_HOLE_UPGRADE_BOUGHT,get reward(){return`Black Hole intervals are ${formatPercents(.1)} shorter.`},effect:.9},{id:146,name:"Perks of living",description:"Have all Perks bought.",checkRequirement:()=>player.reality.perks.size===Perks.all.length,checkEvent:GAME_EVENT.PERK_BOUGHT,get reward(){return`+${formatPercents(.01)} Glyph rarity.`},effect:1},{id:147,name:"Master of Reality",description:"Have all Reality upgrades bought.",checkRequirement:()=>RealityUpgrades.allBought,checkEvent:GAME_EVENT.REALITY_UPGRADE_BOUGHT,reward:"Unlock Teresa, the Celestial of Reality."},{id:148,name:"Royal flush",description:"Reality with one of each basic Glyph type.",checkRequirement:()=>BASIC_GLYPH_TYPES.every(t=>Glyphs.activeList.some(e=>e.type===t)),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,reward:"Gained Glyph level is increased by number of distinct Glyph types equipped.",effect:()=>new Set(Glyphs.activeWithoutCompanion.map(t=>t.type)).size,formatEffect:t=>`+${formatInt(t)}`},{id:151,name:"You really didn't need it anyway",get description(){return`Get ${formatInt(800)} Antimatter Galaxies without
      buying 8th Antimatter Dimensions in your current Infinity.`},checkRequirement:()=>player.galaxies>=800&&player.requirementChecks.infinity.noAD8,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,reward:"Unlock V, the Celestial of Achievements."},{id:152,name:"Y'all got any more of them Glyphs?",get description(){return`Have ${formatInt(100)} Glyphs in your inventory.`},checkRequirement:()=>Glyphs.inventoryList.length>=100,checkEvent:GAME_EVENT.GLYPHS_CHANGED},{id:153,name:`More like "reallydoesn'tmatter"`,description:"Reality without producing antimatter.",checkRequirement:()=>player.requirementChecks.reality.noAM,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},{id:154,name:"I am speed",get description(){return`Reality in under ${formatInt(5)} seconds (game time).`},checkRequirement:()=>Time.thisReality.totalSeconds<=5,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`${formatPercents(.1)} chance each Reality of ${formatX(2)} Realities and Perk Points, and the game runs ${formatX(1e3)} faster.`},effect:.1},{id:155,name:"Achievement #15983",get description(){return`Play for ${formatFloat(13.7,1)} billion years.`},checkRequirement:()=>Time.totalTimePlayed.totalYears>137e8,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Black Hole durations are ${formatPercents(.1)} longer.`},effect:1.1},{id:156,name:"College Dropout",description:"Reality without buying Time Theorems.",checkRequirement:()=>player.requirementChecks.reality.noPurchasedTT,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`Gain ${formatX(2.5,0,1)} generated Time Theorems, and a free coupon to McDonalds™️.`},effect:2.5},{id:157,name:"It's super effective!",get description(){return`Get a Glyph with ${formatInt(4)} effects.`},checkRequirement:()=>Glyphs.activeList.concat(Glyphs.inventoryList).map(t=>getGlyphEffectsFromBitmask(t.effects,0,0).filter(e=>e.isGenerated).length).max()>=4,checkEvent:GAME_EVENT.GLYPHS_CHANGED},{id:158,name:"Bruh, are you like, inside the hole?",description:"Make both Black Holes permanent.",checkRequirement:()=>BlackHole(1).isPermanent&&BlackHole(2).isPermanent,checkEvent:GAME_EVENT.BLACK_HOLE_UPGRADE_BOUGHT,get reward(){return`Black Hole power increased by ${formatPercents(.1)}.`},effect:1.1},{id:161,name:"that's where you're wrong kiddo",get description(){return`Get ${formatPostBreak(DC.E1E8)} antimatter while Dilated.`},checkRequirement:()=>Currency.antimatter.exponent>=1e8&&player.dilation.active,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:162,name:"Reinstalled the game and rejoined the server",description:"Have every Time Study at once.",checkRequirement:()=>player.timestudy.studies.length>=58,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:163,name:"Actually, super easy! Barely an inconvenience!",get description(){return`Complete all the Eternity Challenges ${formatInt(5)} times with less than ${formatInt(1)}
      second (game time) in your current Reality.`},checkRequirement:()=>EternityChallenges.all.map(t=>t.completions).min()>=5&&Time.thisReality.totalSeconds<=1,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:164,name:"Infinity times two",get description(){return`Get ${format(Decimal.NUMBER_MAX_VALUE,1)} Infinities.`},checkRequirement:()=>Currency.infinitiesTotal.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Gain ×${formatInt(1024)} more Infinities.`},effect:1024},{id:165,name:"Perfectly balanced",get description(){return`Get a level ${formatInt(5e3)} Glyph with all Glyph level factors equally weighted.`},checkRequirement:()=>gainedGlyphLevel().actualLevel>=5e3&&["repl","dt","eternities"].every(t=>player.celestials.effarig.glyphWeights[t]===player.celestials.effarig.glyphWeights.ep),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,reward:"Unlock optimal automatic Glyph level factor adjustment."},{id:166,name:"Nicenice.",get description(){return`Get a Glyph with level at least ${formatInt(6969)}.`},checkRequirement:()=>gainedGlyphLevel().actualLevel>=6969,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`+${formatInt(69)} to Glyph level.`},effect:69},{id:167,name:"Mr. Layer? Sorry, you're not on the list",get description(){return`Reach ${format(Decimal.NUMBER_MAX_VALUE,1,0)} Reality Machines.`},checkRequirement:()=>Currency.realityMachines.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Gain more Reality Machines based on your current Reality Machines.",effect:()=>Math.clampMin(1,Currency.realityMachines.value.log2()),formatEffect:t=>`${formatX(t,2,2)}`},{id:168,name:"Woah, we're halfway there",get description(){return`Get ${formatInt(50)} total Ra Celestial Memory levels.`},checkRequirement:()=>Ra.totalPetLevel>=50,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`Get ${formatPercents(.1)} more memories.`},effect:1.1},{id:171,name:"The god is delighted",description:"Sacrifice every sacrificable Glyph type at least once.",checkRequirement:()=>Object.values(player.reality.glyphs.sac).every(t=>t>0),checkEvent:GAME_EVENT.GLYPHS_CHANGED,get reward(){return`Glyph sacrifice is ${formatX(2)} stronger.`},effect:2},{id:172,name:"Hitchhiker's Guide to Reality",get description(){return`Reality for ${format(Decimal.NUMBER_MAX_VALUE,1)} Reality Machines without having
      any Charged Infinity Upgrades, having any equipped Glyphs, or buying any Triad Studies.`},checkRequirement:()=>MachineHandler.gainedRealityMachines.gte(Decimal.NUMBER_MAX_VALUE)&&player.celestials.ra.charged.size===0&&Glyphs.activeWithoutCompanion.length===0&&player.requirementChecks.reality.noTriads,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},{id:173,name:"Cet accomplissement n'existe pas III",get description(){return`Reach ${formatPostBreak(DC.D9_99999E999,5,0)} Reality Machines.`},checkRequirement:()=>player.reality.realityMachines.gte(DC.D9_99999E999),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:174,name:"Don't you already have two of these?",description:"Get a Singularity.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.SINGULARITY_RESET_BEFORE},{id:175,name:"The First Antihistorian",get description(){return`Get ${formatInt(Ra.alchemyResourceCap)} of all Alchemy Resources.`},checkRequirement:()=>AlchemyResources.all.every(t=>t.amount>=Ra.alchemyResourceCap),checkEvent:GAME_EVENT.REALITY_RESET_AFTER,get reward(){return`Momentum increases ${formatX(10)} faster. (this isn't very useful because momentum is already 1000x faster but oh well)`},effect:10},{id:176,name:"Mom counted to 3",description:"Annihilate your Dark Matter Dimensions."},{id:177,name:"This mile took a celestial",description:"Complete all Singularity Milestones at least once.",checkRequirement:()=>SingularityMilestones.all.every(t=>t.completions>0),checkEvent:GAME_EVENT.SINGULARITY_RESET_AFTER},{id:178,name:"Destroyer of Worlds",get description(){return`Get ${formatInt(1e5)} Antimatter Galaxies.`},checkRequirement:()=>player.galaxies>=1e5,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,get reward(){return`All Galaxies are ${formatPercents(.01)} stronger.`},effect:1.01},{id:181,displayId:666,name:"Antimatter Dimensions Eternal",description:"Doom your Reality.",checkRequirement:()=>Pelle.isDoomed,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},{id:182,name:"One more time",description:"Permanently gain back all Antimatter Dimension autobuyers.",checkRequirement:()=>PelleUpgrade.antimatterDimAutobuyers1.canBeApplied&&PelleUpgrade.antimatterDimAutobuyers2.canBeApplied,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:183,name:"Déjà vOoM",description:"Complete Infinity Challenge 5 while Doomed.",checkRequirement:()=>Pelle.isDoomed&&InfinityChallenge(5).isCompleted,checkEvent:GAME_EVENT.INFINITY_CHALLENGE_COMPLETED,get reward(){return`All Antimatter Dimensions are raised to ${formatPow(1.0812403840463596,0,16)}.`},effect:1.0812403840463596},{id:184,name:"You're out!",description:"Encounter the third Pelle Strike.",checkRequirement:()=>PelleStrikes.eternity.hasStrike,checkEvent:GAME_EVENT.PELLE_STRIKE_UNLOCKED},{id:185,name:"Four score and seven years ago",description:"Encounter the fourth Pelle Strike.",checkRequirement:()=>PelleStrikes.ECs.hasStrike,checkEvent:GAME_EVENT.PELLE_STRIKE_UNLOCKED},{id:186,displayId:181,name:"An unhealthy obsession",description:"Purchase Time Study 181 while Doomed."},{id:187,name:"The One with Dilated Time",description:"Unlock Dilation while Doomed.",checkRequirement:()=>PelleStrikes.dilation.hasStrike,checkEvent:GAME_EVENT.PELLE_STRIKE_UNLOCKED,get reward(){return`Increase the multiplier per repeatable Dilated Time
      multiplier upgrade by ${formatX(1.35,0,2)}.`},effect:1.35},{id:188,name:"The End",description:"Beat the game.",checkRequirement:()=>GameEnd.endState>END_STATE_MARKERS.GAME_END&&!GameEnd.removeAdditionalEnd,checkEvent:GAME_EVENT.GAME_TICK_AFTER}],T9=[{id:11,name:"The first one's always free",description:"Click on this Achievement."},{id:12,name:"Just in case",get description(){return`Save ${formatInt(100)} times without refreshing.`}},{id:13,name:"It pays to have respect",description:"Pay respects."},{id:14,name:"So do I",description:"Say something naughty."},{id:15,name:"Do a barrel roll!",description:"Do a barrel roll."},{id:16,name:"Do you enjoy pain?",get description(){return`Use a "painful" notation for ${formatInt(10)} real-time minutes
      after doing an Eternity.`},checkRequirement:()=>AchievementTimers.pain.check(PlayerProgress.eternityUnlocked()&&Notations.current.isPainful,600),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:17,name:"30 Lives",description:"Input the konami code."},{id:18,name:"Do you feel lucky? Well do ya punk?",get description(){return`You have a ${formatInt(1)}/${formatInt(1e5)} chance of getting this achievement every second.`}},{id:21,name:"Go study in real life instead",description:"Purchase the secret Time Study."},{id:22,name:"Deep fried",get description(){return`Buy ${formatInt(1e5)} Antimatter Galaxies in total while using emoji notation.`},checkRequirement:()=>player.requirementChecks.permanent.emojiGalaxies>=1e5,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER},{id:23,name:"Stop right there criminal scum!",description:"Open the console."},{id:24,name:"Real news",description:"Click on a news ticker message that does something when you click on it."},{id:25,name:"Shhh... It's a secret",description:"Discover a secret theme."},{id:26,name:"You're a failure",get description(){return`Fail Eternity Challenges ${formatInt(10)} times without refreshing.
      What are you doing with your life...`},checkRequirement:function(){let t=0;return()=>++t>=10}(),checkEvent:GAME_EVENT.CHALLENGE_FAILED},{id:27,name:"It's not called matter dimensions is it?",description:"Get Infinite matter.",checkRequirement:()=>Currency.matter.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:28,name:"Nice.",description:"Don't act like you don't know what you did."},{id:31,name:"You should download some more RAM",get description(){return`Set your update rate to ${formatInt(200)}ms.`}},{id:32,name:"Less than or equal to 0.001",get description(){return`Get a fastest infinity or eternity time of less than or equal to ${format(.001,3,3)} seconds.`},checkRequirement:()=>Time.bestInfinity.totalMilliseconds<=1||Time.bestEternity.totalMilliseconds<=1,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.ETERNITY_RESET_AFTER]},{id:33,name:"A sound financial decision",description:"Click on the button to purchase STD coins. (...hey, how did you even get this achievement?)"},{id:34,name:"You do know how these work, right?",description:"Respec with an empty Time Study Tree."},{id:35,name:"Should we tell them about buy max...",get description(){return`Buy single Tickspeed upgrades ${formatInt(1e5)} times.`},checkRequirement:()=>player.requirementChecks.permanent.singleTickspeed>=1e5,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:36,name:"While you were away... Nothing happened.",description:"See nothing happen while you were away."},{id:37,name:"You followed the instructions",description:"Follow instructions."},{id:38,name:"Knife's edge",description:"Close the Hard Reset modal after typing in the confirmation."},{id:41,name:"That dimension doesn’t exist",description:"Try to purchase the 9th dimension."},{id:42,name:"SHAME ON ME",description:"Try to use EC12 to speed up time."},{id:43,name:"A cacophonous chorus",description:"Have all equipped Glyphs be Music Glyphs.",checkRequirement:()=>Glyphs.active.length&&Glyphs.active.every(t=>Glyphs.isMusicGlyph(t)),checkEvent:GAME_EVENT.GLYPHS_EQUIPPED_CHANGED},{id:44,name:"Are you statisfied now?",get description(){return`Stare intently at the statistics tab for ${formatInt(15)} real-time minutes.`},checkRequirement:()=>AchievementTimers.stats.check(Tab.statistics.isOpen,900),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:45,name:"This dragging is dragging on",description:"Drag the Perks around for a minute.",checkRequirement:()=>player.requirementChecks.permanent.perkTreeDragging++/100>=60},{id:46,name:"For a rainy day",description:"Store a day of real time."},{id:47,name:"ALT+",description:"Hide every possible tab."},{id:48,name:"Stack overflow",description:"Have more Automator errors than lines."}],C9={normal:E9,secret:T9},k9=[{name:"antimatter",isUnlocked:()=>!0},{name:"dimensionBoosts",isUnlocked:()=>!0},{name:"antimatterGalaxies",reference:["galaxies"],isUnlocked:()=>!0},{name:"infinities",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"infinityPoints",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"replicanti",reference:["replicanti","amount"],isUnlocked:()=>PlayerProgress.replicantiUnlocked()||PlayerProgress.eternityUnlocked()},{name:"replicantiGalaxies",reference:["replicanti","galaxies"],isUnlocked:()=>PlayerProgress.replicantiUnlocked()||PlayerProgress.eternityUnlocked()},{name:"eternities",isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"eternityPoints",isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"tachyonParticles",reference:["dilation","tachyonParticles"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"dilatedTime",reference:["dilation","dilatedTime"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"timeTheorems",reference:["timestudy","theorem"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"tachyonGalaxies",reference:["dilation","totalTachyonGalaxies"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"achievementAmount",reference:["achievementBits"],applyFn:t=>t.map(e=>countValuesFromBitmask(e)).sum(),isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"realities",isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"realityMachines",reference:["reality","realityMachines"],isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"blackHole",isUnlocked:()=>BlackHole(1).isUnlocked,appearsInAwayModal:!1},{name:"firstBlackHole",awayOption:"blackHole",reference:["blackHole","0","activations"],isUnlocked:()=>BlackHole(1).isUnlocked,classObjectReference:"black-hole",showOption:!1},{name:"secondBlackHole",awayOption:"blackHole",reference:["blackHole","1","activations"],isUnlocked:()=>BlackHole(2).isUnlocked,classObjectReference:"black-hole",showOption:!1},{name:"relicShards",reference:["celestials","effarig","relicShards"],isUnlocked:()=>TeresaUnlocks.effarig.canBeApplied},{name:"celestialMemories",isUnlocked:()=>VUnlocks.raUnlock.isUnlocked,appearsInAwayModal:!1},{name:"teresaMemories",awayOption:"celestialMemories",reference:["celestials","ra","pets","teresa","memories"],isUnlocked:()=>Ra.pets.teresa.isUnlocked&&!Ra.pets.teresa.isCapped,showOption:!1},{name:"effarigMemories",awayOption:"celestialMemories",reference:["celestials","ra","pets","effarig","memories"],isUnlocked:()=>Ra.pets.effarig.isUnlocked&&!Ra.pets.effarig.isCapped,showOption:!1},{name:"enslavedMemories",forcedName:"Nameless Memories",awayOption:"celestialMemories",reference:["celestials","ra","pets","enslaved","memories"],isUnlocked:()=>Ra.pets.enslaved.isUnlocked&&!Ra.pets.enslaved.isCapped,showOption:!1},{name:"vMemories",awayOption:"celestialMemories",reference:["celestials","ra","pets","v","memories"],isUnlocked:()=>Ra.pets.v.isUnlocked&&!Ra.pets.v.isCapped,showOption:!1},{name:"imaginaryMachines",reference:["reality","imaginaryMachines"],isUnlocked:()=>MachineHandler.isIMUnlocked},{name:"darkMatter",reference:["celestials","laitela","darkMatter"],isUnlocked:()=>Laitela.isUnlocked},{name:"darkEnergy",reference:["celestials","laitela","darkEnergy"],isUnlocked:()=>Laitela.isUnlocked},{name:"singularities",reference:["celestials","laitela","singularities"],isUnlocked:()=>Laitela.isUnlocked},{name:"realityShards",reference:["celestials","pelle","realityShards"],isUnlocked:()=>Pelle.isDoomed}],S9=[{name:"Antimatter Dimensions",id:0,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:`Every Antimatter Dimension continuously produces Dimensions of the next tier down. The lowest
      Antimatter Dimension produces antimatter.`},{name:"Tickspeed Upgrades",id:1,openH2pEntry:"Tickspeed",requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:`Tickspeed Upgrades make Antimatter Dimensions produce other Antimatter Dimensions or antimatter
      as if time were passing faster.`},{name:"Autobuyers",id:2,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:`Autobuyers are a built-in feature to the game which purchases upgrades for your Antimatter
      Dimensions automatically when you can afford them.`},{name:"Dimension Boosts",id:3,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:`Dimension Boosts are gained by resetting all your Antimatter Dimensions and tickspeed after
      reaching a certain amount of the highest available Antimatter Dimension. They provide a multiplier to your
      Antimatter Dimensions.`},{name:"Antimatter Galaxies",id:4,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:`Antimatter Galaxies are gained by resetting your Antimatter Dimensions and Dimension Boosts. They
      improve the effectiveness of your Tickspeed Upgrades in a compounding way.`},{name:"Infinity",id:5,requiredStage:PROGRESS_STAGE.EARLY_INFINITY,description:()=>`Infinity is the first main reset layer. Reaching ${format(Number.MAX_VALUE,2)} antimatter
      allows you to reset everything up to this point in exchange for unlocking new content and resources.`},{name:"Infinity Points",id:6,openH2pEntry:"Infinity",requiredStage:PROGRESS_STAGE.EARLY_INFINITY,description:`Infinity Points are the primary resource after completing your first Infinity. They can be spent on
      features which persist through Infinity resets.`},{name:"Normal Challenges",id:7,openH2pEntry:"Normal Challenges",requiredStage:PROGRESS_STAGE.EARLY_INFINITY,description:()=>`Challenges require you to reach ${format(Number.MAX_VALUE,2)} antimatter under more difficult
      conditions. Completing challenges allows you to upgrade your Autobuyers.`},{name:"Break Infinity",id:8,requiredStage:PROGRESS_STAGE.BREAK_INFINITY,description:()=>`Upgrading your Big Crunch Autobuyer to the maximum allows you to surpass
      ${format(Number.MAX_VALUE,2)} antimatter, giving increasing amounts of Infinity Points with more antimatter.`},{name:"Infinity Dimensions",id:9,requiredStage:PROGRESS_STAGE.BREAK_INFINITY,description:`Infinity Dimensions Produce in a cascading fashion like Antimatter Dimensions. The lowest tier of
      Infinity Dimension produces Infinity Power, which applies a large multiplier to all Antimatter Dimensions.`},{name:"Infinity Challenges",id:10,requiredStage:PROGRESS_STAGE.BREAK_INFINITY,description:()=>`Infinity Challenges are new challenges with an antimatter goal above
      ${format(Number.MAX_VALUE,2)}. Completing them rewards upgrades and production boosts.`},{name:"Replicanti",id:11,requiredStage:PROGRESS_STAGE.REPLICANTI,description:()=>`Replicanti is a resource which produces itself over time, giving a multiplier to all
      Infinity Dimensions. At ${format(Number.MAX_VALUE,2)} Replicanti, they can be reset to ${formatInt(1)} for an
      additional Galaxy which does not increase the cost of Antimatter Galaxies. They also reset after every Infinity.`},{name:"Eternity",id:12,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:()=>`Eternity is the second main reset layer. Reaching ${format(Number.MAX_VALUE,2)} Infinity Points
      allows you to reset everything up to this point for access to new content and resources.`},{name:"Eternity Points",id:13,openH2pEntry:"Eternity",requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:`Eternity Points are the primary resource after completing your first Eternity, and scale based on your
      Infinity Points at the time you complete the Eternity.`},{name:"Time Studies",id:14,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:`Time Studies are a set of upgrades akin to a skill tree, and can be freely re-allocated after every
      Eternity with no resource loss. Some sections of the tree have restrictions which forbid you from choosing
      particular studies simultaneously.`},{name:"Eternity Milestones",id:15,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:`Eternity Milestones are forms of built-in automation and convenience which are unlocked simply by
      completing more Eternities. Unlocking them does not require spending any resources.`},{name:"Time Dimensions",id:16,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:`Time Dimensions also produce each other in a cascading manner, with the lowest tier producing Time
      Shards. Time Shards give you additional Tickspeed Upgrades which do not increase the cost of the Tickspeed
      Upgrades purchased with antimatter.`},{name:"Eternity Challenges",id:17,requiredStage:PROGRESS_STAGE.ETERNITY_CHALLENGES,description:`Eternity Challenges are modified Eternities with an Infinity Point goal which must be reached for
      completion. They can be completed up to five times, getting more difficult each repetition in exchange for
      increasingly powerful rewards.`},{name:"Time Dilation",id:18,requiredStage:PROGRESS_STAGE.EARLY_DILATION,description:()=>`Time Dilation is a modified Eternity where tickspeed and all Dimension multipliers are
      severely reduced. Completing Dilated Eternities gives Tachyon Particles.`},{name:"Tachyon Particles",id:19,openH2pEntry:"Time Dilation",requiredStage:PROGRESS_STAGE.EARLY_DILATION,description:()=>`Tachyon Particles are a resource which cannot be farmed and require you to get a higher amount
      of antimatter in a Dilated Eternity in order to increase your amount. Tachyon Particles produce Dilated Time.`},{name:"Reality",id:20,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:()=>`Reality is the third and final main reset layer. Reaching ${format(DC.E4000)} Eternity Points
      gives you the option to reset everything up to this point in exchange for unlocking new content and gaining
      access to new resources.`},{name:"Reality Machines",id:21,openH2pEntry:"Reality",requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:`Reality Machines are the primary resource after completing your first Reality. They are given based
      on Eternity Points at the time of completing a Reality.`},{name:"Perks",id:22,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:`Perks are unlockable features similar to Eternity Milestones which primarily focus on convenience and
      automation. They are purchased using Perk Points, which are gained after every Reality.`},{name:"Glyphs",id:23,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:`Glyphs are equippable upgrades which can only be unequipped between Realities. Every Reality you are
      allowed to choose one of multiple new random Glyphs to receive; the average quality of your available choices
      is determined by how high some of your resources reached in that Reality.`},{name:"Automator",id:24,openH2pEntry:"Automator Overview",requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:`The Automator is a built-in feature that uses a scripting language that allows you to eventually
      finish Realities completely hands-off with enough upgrades and perks.`},{name:"Black Hole",id:25,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:`The Black Hole runs the entire game faster in a periodic cycle. This affects everything in the game up
      to this point and will give similar results to leaving the game open for an equivalent amount of time.`},{name:"Teresa",id:26,requiredStage:PROGRESS_STAGE.TERESA,description:`Teresa is the first Celestial, who has a more difficult Reality which gives a massive boost to Glyph
      Sacrifice depending upon completion. They unlock upgrades which focus on testing and automating Realities more
      easily.`},{name:"Effarig",id:27,requiredStage:PROGRESS_STAGE.EFFARIG,description:`Effarig is the second Celestial, whose Reality limits your Glyphs and has scaling nerfs but gives
      rewards for each new reset layer reached. They unlock upgrades which focus on automatically selecting and
      filtering the large number of Glyphs you are receiving, purchased with a new resource called Relic Shards.`},{name:"The Nameless Ones",id:28,openH2pEntry:"Nameless Ones",requiredStage:PROGRESS_STAGE.ENSLAVED,description:`The Nameless Ones are the third Celestial, whose Reality is extremely punishing with a long list of
      nerfs, but unlocks Tesseracts for those who can figure out how to prevail. They also modify your Black Hole to
      allow it to store time.`},{name:"Stored Time",id:29,openH2pEntry:"Nameless Ones",requiredStage:PROGRESS_STAGE.ENSLAVED,description:`Your Black Hole has the ability to store time in two ways. Charging it allows you to hold on to
      sped-up time and release it later as a single skip-forward burst. Storing real time lets you use actual time
      to simulate Realities (giving you the resources of that Reality but multiplied), or as a stand-in for
      offline progress.`},{name:"Tesseracts",id:30,requiredStage:PROGRESS_STAGE.ENSLAVED,description:`Infinity Dimensions cannot be purchased indefinitely and all but the 8th have a hard limit for how
      many times they can be purchased. Each Tesseract permanently increases this limit by a large amount.`},{name:"V",id:31,requiredStage:PROGRESS_STAGE.V,description:`V is the fourth Celestial, with a modified Reality which is similar to Teresa's Reality but only gives
      rewards by reaching certain milestones of resources within. They give a new resource called Space Theorems, which
      allow you to purchase additional Time Studies without path restrictions.`},{name:"Ra",id:32,requiredStage:PROGRESS_STAGE.RA,description:`Ra is the fifth Celestial, with a modified Reality which produces a resource called Memory Chunks
      based on your resource totals within. They focus highly on taking older upgrades and themes from the previous
      four Celestials and improving upon them, as well as filling out some final gaps in automation and convenience.`},{name:"Memories",id:33,openH2pEntry:"Ra",requiredStage:PROGRESS_STAGE.RA,description:`Ra has the previous four Celestials under their control, producing Memories over time based on Memory
      Chunk count. These Memories are used to level up the previous Celestials, providing upgrades when certain levels
      are reached.`},{name:"Charged Infinity Upgrades",id:34,openH2pEntry:"Ra",requiredStage:PROGRESS_STAGE.RA,description:`Teresa's Memories allow you to charge your Infinity Upgrades, maintaining a similar effect but
      strengthening them significantly. Which upgrades are charged can only be changed between Realities.`},{name:"Glyph Alchemy",id:35,requiredStage:PROGRESS_STAGE.RA,description:`Effarig's Memories unlock Glyph Alchemy, which gives many minor boosts using a modified version of
      Glyph Sacrifice. The resources gained from giving up Glyphs in this way must be combined together in reactions
      in order to fully upgrade their effects.`},{name:"Amplified Black Hole",id:36,openH2pEntry:"Ra",requiredStage:PROGRESS_STAGE.RA,description:`Nameless's Memories amplify charging so that the amount of game time stored is larger than the actual
      game time elapsed. Discharging can now also be done repeatedly and automatically.`},{name:"Harder V",id:37,openH2pEntry:"Ra",requiredStage:PROGRESS_STAGE.RA,description:`V's Memories unlocks a modified version of V's original Reality with even harder goals and a new set
      of Time Studies called Triad Studies.`},{name:"Imaginary Machines",id:38,requiredStage:PROGRESS_STAGE.IMAGINARY_MACHINES,description:()=>`Imaginary Machines are a new resource unlocked when reaching ${format(DC.E1000)} Reality
      Machines. They are produced passively up to a cap determined by how many Reality Machines you would have gotten
      in your farthest Reality ever.`},{name:"Lai'tela",id:39,requiredStage:PROGRESS_STAGE.LAITELA,description:`Lai'tela is the sixth Celestial, whose Reality has a modified completion condition and gives a
      scaling reward based on how quickly you can reach it. They unlock new features largely related to a resource
      called Dark Matter.`},{name:"Continuum",id:40,requiredStage:PROGRESS_STAGE.LAITELA,description:`Continuum is a modified type of production which allows your Antimatter Dimensions to produce as if
      they could purchase fractional amounts of upgrades, without actually purchasing them.`},{name:"Dark Matter Dimensions",id:41,openH2pEntry:"Lai'tela",requiredStage:PROGRESS_STAGE.LAITELA,description:`Dark Matter Dimensions are cascading production which operate on a tick-based system instead of
      continuously. The lowest tier produces Dark Matter and all tiers produce Dark Energy.`},{name:"Dimension Reset Mechanics",id:42,openH2pEntry:"Lai'tela",requiredStage:PROGRESS_STAGE.LAITELA,description:`Dark Matter Dimensions can be reset in two ways. Annihilation resets all your Dimensions in exchange
      for a permanent multiplier to all Dark Matter Dimensions. Ascension increases production but resets the interval
      of a single Dimension.`},{name:"Singularities",id:43,requiredStage:PROGRESS_STAGE.LAITELA,description:`Dark Energy can be used to produce Singularities, which give boosts based on their total amount.
      When producing Singularities, any extra Dark Energy above the condensing threshold is wasted.`},{name:"Pelle",id:44,requiredStage:PROGRESS_STAGE.PELLE,description:`Pelle is the seventh and final Celestial, who permanently Dooms your game, throwing you into a very
      difficult modified Reality which you cannot escape.`},{name:"Armageddon",id:45,openH2pEntry:"Pelle",requiredStage:PROGRESS_STAGE.PELLE,description:`Armageddon is a Pelle-specific reset which you can perform at any time. This resets your progress to
      the beginning of the Doomed Reality, but gives Remnants which produce Reality Shards.`},{name:"Pelle Strikes and Rifts",id:46,openH2pEntry:"Pelle Strikes",requiredStage:PROGRESS_STAGE.PELLE,description:`Upon reaching certain progress milestones within Pelle, a Strike may occur which permanently applies
      another nerf to the Doomed Reality. Accompanying every Strike is a Rift, which is a mechanic which lets you drain
      a different resource in exchange for a boost. These are permanent and remain unlocked after Armageddon.`}],A9={power:{id:ALCHEMY_RESOURCE.POWER,name:"Power",symbol:"Ω",isBaseResource:!0,effect:t=>1+t/2e5,tier:1,uiOrder:1,unlockedAt:2,description:"provides a power to Antimatter Dimensions",formatEffect:t=>`Antimatter Dimension multipliers ${formatPow(t,4,4)}`},infinity:{id:ALCHEMY_RESOURCE.INFINITY,name:"Infinity",symbol:"∞",isBaseResource:!0,effect:t=>1+t/2e5,tier:1,uiOrder:2,unlockedAt:3,description:"provides a power to Infinity Dimensions",formatEffect:t=>`Infinity Dimension multipliers ${formatPow(t,4,4)}`},time:{id:ALCHEMY_RESOURCE.TIME,name:"Time",symbol:"Δ",isBaseResource:!0,effect:t=>1+t/2e5,tier:1,uiOrder:3,unlockedAt:4,description:"provides a power to Time Dimensions",formatEffect:t=>`Time Dimension multipliers ${formatPow(t,4,4)}`},replication:{id:ALCHEMY_RESOURCE.REPLICATION,name:"Replication",symbol:"Ξ",isBaseResource:!0,effect:t=>Decimal.pow10(t/1e3),tier:1,uiOrder:4,unlockedAt:5,description:"increases Replication speed",formatEffect:t=>`Replication speed is increased by ${formatX(t,2,2)}`},dilation:{id:ALCHEMY_RESOURCE.DILATION,name:"Dilation",symbol:"Ψ",isBaseResource:!0,effect:t=>Decimal.pow10(t/2e3),tier:1,uiOrder:5,unlockedAt:6,description:"increases Dilated Time production",formatEffect:t=>`Dilated Time production is increased by ${formatX(t,2,2)}`},cardinality:{id:ALCHEMY_RESOURCE.CARDINALITY,name:"Cardinality",symbol:"α",isBaseResource:!1,effect:t=>1+.2/(1+t/2e4),tier:2,uiOrder:3,unlockedAt:8,description:"reduces Replicanti slowdown when above the cap",formatEffect:t=>`Replicanti interval increases slower ${formatX(1.2,1,1)} ➜
      ${formatX(t,4,4)} per ${format(Number.MAX_VALUE,2)}`,reagents:[{resource:ALCHEMY_RESOURCE.TIME,amount:8},{resource:ALCHEMY_RESOURCE.REPLICATION,amount:7}]},eternity:{id:ALCHEMY_RESOURCE.ETERNITY,name:"Eternity",symbol:"τ",isBaseResource:!1,effect:t=>1+t/15e3,tier:2,uiOrder:2,unlockedAt:9,description:"provides a power to Eternity generation",formatEffect:t=>`Eternity generation ${formatPow(t,4,4)}`,reagents:[{resource:ALCHEMY_RESOURCE.TIME,amount:11},{resource:ALCHEMY_RESOURCE.INFINITY,amount:4}]},dimensionality:{id:ALCHEMY_RESOURCE.DIMENSIONALITY,name:"Dimensionality",symbol:"ρ",isBaseResource:!1,effect:t=>Decimal.pow10(5*t),tier:2,uiOrder:1,unlockedAt:10,description:"provides a large multiplier to all Dimensions",formatEffect:t=>`All Dimensions ${formatX(t)}`,reagents:[{resource:ALCHEMY_RESOURCE.POWER,amount:10},{resource:ALCHEMY_RESOURCE.INFINITY,amount:5}]},inflation:{id:ALCHEMY_RESOURCE.INFLATION,name:"Inflation",symbol:"λ",isBaseResource:!1,effect:t=>Decimal.pow10(6e9-3e5*t),tier:2,uiOrder:5,unlockedAt:11,description:"provides an additional power for very large multipliers",formatEffect:t=>`All Antimatter Dimension multipliers are ${formatPow(1.05,2,2)}
      if they are above ${format(t)} `,reagents:[{resource:ALCHEMY_RESOURCE.POWER,amount:9},{resource:ALCHEMY_RESOURCE.DILATION,amount:6}]},alternation:{id:ALCHEMY_RESOURCE.ALTERNATION,name:"Alternation",symbol:"ω",isBaseResource:!1,effect:t=>t/2e5,tier:2,uiOrder:4,unlockedAt:12,description:"increases the strength of Tachyon Galaxies based on Replicanti",formatEffect:t=>`Tachyon Galaxies are ${formatPercents(t,2,2)} stronger
      per ${format(DC.E1E6)} Replicanti`,reagents:[{resource:ALCHEMY_RESOURCE.REPLICATION,amount:5},{resource:ALCHEMY_RESOURCE.DILATION,amount:10}]},effarig:{id:ALCHEMY_RESOURCE.EFFARIG,name:"Effarig",symbol:"Ϙ",isBaseResource:!0,effect:t=>Math.pow(10,t/2500),tier:1,uiOrder:1.5,unlockedAt:7,description:"increases Relic Shard gain",formatEffect:t=>`Relic Shard gain is multiplied ${formatX(t,2,2)}`},synergism:{id:ALCHEMY_RESOURCE.SYNERGISM,name:"Synergism",symbol:"π",isBaseResource:!1,effect:t=>3+13*Math.sqrt(t/25e3),tier:3,uiOrder:2,unlockedAt:13,description:"increases the yield of Alchemy Reactions",formatEffect(t){return`Alchemy Reaction efficiency ${formatPercents(3)} ➜ ${formatPercents(t,2,2)}`},reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:3},{resource:ALCHEMY_RESOURCE.REPLICATION,amount:16},{resource:ALCHEMY_RESOURCE.INFINITY,amount:14}]},momentum:{id:ALCHEMY_RESOURCE.MOMENTUM,name:"Momentum",symbol:"μ",isBaseResource:!1,effect:t=>1+t/125e3,tier:3,uiOrder:3,unlockedAt:15,description:"provides a power to all Dimensions that permanently grows over time",formatEffect:t=>`All Dimensions ${formatPow(Ra.momentumValue,4,4)}, increasing by
      ${format(.005*Achievement(175).effectOrDefault(1),3,3)}
      per real-time hour after the resource is unlocked, up to a maximum of ${formatPow(t,4,4)}`,reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:11},{resource:ALCHEMY_RESOURCE.POWER,amount:4},{resource:ALCHEMY_RESOURCE.TIME,amount:20}]},decoherence:{id:ALCHEMY_RESOURCE.DECOHERENCE,name:"Decoherence",symbol:"ξ",isBaseResource:!1,effect:t=>.15*Math.sqrt(t/25e3),tier:3,uiOrder:4,unlockedAt:14,description:"gives all basic Alchemy Resources upon refinement",formatEffect:t=>`Refined Glyphs also give ${formatPercents(t,2)} of their value to all other base resources`,reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:13},{resource:ALCHEMY_RESOURCE.ALTERNATION,amount:8}]},exponential:{id:ALCHEMY_RESOURCE.EXPONENTIAL,name:"Exponential",symbol:"Γ",isBaseResource:!1,effect:t=>10*Math.pow(t/1e4,2),tier:4,uiOrder:2,unlockedAt:18,description:"multiplies Infinity Points based on Replicanti",formatEffect:t=>`Infinity Points multiplied by Replicanti${formatPow(t,2,3)}`,reagents:[{resource:ALCHEMY_RESOURCE.INFLATION,amount:18},{resource:ALCHEMY_RESOURCE.SYNERGISM,amount:3}]},force:{id:ALCHEMY_RESOURCE.FORCE,name:"Force",symbol:"Φ",isBaseResource:!1,effect:t=>5*t,tier:4,uiOrder:2,unlockedAt:17,description:"multiplies Antimatter Dimensions based on Reality Machines",formatEffect:t=>`Multiply Antimatter Dimensions by Reality Machines${formatPow(t,2,2)}`,reagents:[{resource:ALCHEMY_RESOURCE.DIMENSIONALITY,amount:7},{resource:ALCHEMY_RESOURCE.MOMENTUM,amount:8}]},uncountability:{id:ALCHEMY_RESOURCE.UNCOUNTABILITY,name:"Uncountability",symbol:"Θ",isBaseResource:!1,effect:t=>160*Math.sqrt(t/25e3),tier:4,uiOrder:3,unlockedAt:19,description:"passively generates Realities and Perk Points",formatEffect:t=>`Generate ${format(t,2,2)} Realities and Perk Points per second`,reagents:[{resource:ALCHEMY_RESOURCE.INFINITY,amount:20},{resource:ALCHEMY_RESOURCE.EFFARIG,amount:6},{resource:ALCHEMY_RESOURCE.CARDINALITY,amount:16}]},boundless:{id:ALCHEMY_RESOURCE.BOUNDLESS,name:"Boundless",symbol:"Π",isBaseResource:!1,effect:t=>t/8e4,tier:4,uiOrder:1,unlockedAt:20,description:"makes Tesseracts stronger",formatEffect:t=>`Tesseracts are +${formatPercents(t,2,2)} stronger`,reagents:[{resource:ALCHEMY_RESOURCE.ETERNITY,amount:13},{resource:ALCHEMY_RESOURCE.INFLATION,amount:18}]},multiversal:{id:ALCHEMY_RESOURCE.MULTIVERSAL,name:"Multiversal",symbol:"Σ",isBaseResource:!1,effect:t=>32*Math.pow(t/25e3,2),tier:4,uiOrder:5,unlockedAt:16,description:"makes each Reality simulate more Realities",formatEffect:t=>`Each Reality simulates ${format(t,2,3)} additional Realities, giving all
      the same rewards as if it was amplified`,reagents:[{resource:ALCHEMY_RESOURCE.ALTERNATION,amount:16},{resource:ALCHEMY_RESOURCE.DECOHERENCE,amount:3}]},unpredictability:{id:ALCHEMY_RESOURCE.UNPREDICTABILITY,name:"Unpredictability",symbol:"Λ",isBaseResource:!1,effect:t=>t/(10714.28+t),tier:4,uiOrder:4,unlockedAt:21,description:"makes each Alchemy Reaction have a chance to happen twice",formatEffect:t=>`Any Alchemy Reaction has a ${formatPercents(t,2,2)}
      chance of triggering again`,reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:15},{resource:ALCHEMY_RESOURCE.DECOHERENCE,amount:3},{resource:ALCHEMY_RESOURCE.SYNERGISM,amount:10}]},reality:{id:ALCHEMY_RESOURCE.REALITY,name:"Reality",symbol:"Ϟ",isBaseResource:!1,effect:t=>Math.floor(t),tier:5,unlockedAt:25,description:"can be consumed to create Reality Glyphs",formatEffect:t=>`Consume all Reality Resource to create a level ${formatInt(t)} Reality Glyph`,reagents:[{resource:ALCHEMY_RESOURCE.EXPONENTIAL,amount:1},{resource:ALCHEMY_RESOURCE.FORCE,amount:1},{resource:ALCHEMY_RESOURCE.UNCOUNTABILITY,amount:1},{resource:ALCHEMY_RESOURCE.BOUNDLESS,amount:1},{resource:ALCHEMY_RESOURCE.MULTIVERSAL,amount:1},{resource:ALCHEMY_RESOURCE.UNPREDICTABILITY,amount:1}]}};function x9(t){let e=Math.pow(t%97,4.3)*232344573;const i=15485863,n=521791;e=e*i%n;for(let r=0;r<t*t%90+90;r++)e=e*i%n;return e/n}function D9(){return String.fromCharCode(Math.floor(Math.random()*50)+192)}const zn={wordCycle(t,e=!1){const i=t.length,n=Math.floor(Date.now()/250)%(i*5),r=Date.now()/250%(i*5)%5,a=Math.floor(n/5);let s=t[a];if(r<.6?s=this.blendWords(t[(a+t.length-1)%t.length],t[a],(r+.6)/1.2):r>4.4&&(s=this.blendWords(t[a],t[(a+1)%t.length],(r-4.4)/1.2)),s=this.randomCrossWords(s,.1*Math.pow(r-2.5,4)-.6),e)return s;const c=(Math.max(...t.map(d=>d.length))-s.length)/2;return" ".repeat(Math.ceil(c))+s+" ".repeat(Math.floor(c))},randomCrossWords(t,e=.7){if(e<=0)return t;const i=t.split("");for(let n=0;n<i.length*e;n++){const r=Math.floor(x9(Math.floor(Date.now()/500)%964372+1.618*n)*i.length);i[r]=D9()}return i.join("")},blendWords(t,e,i){return i<=0?t:i>=1?e:t.substring(0,t.length*(1-i))+e.substring(e.length*(1-i),e.length)}};function pT(t){return Math.pow(t,10)}function up(t){return VUnlocks.vAchievementUnlock.isUnlocked?1:Object.values(GameDatabase.celestials.v.mainUnlock).find(i=>i.id===t).progress()}function dp(t,e){const i=Object.values(GameDatabase.celestials.v.mainUnlock).find(n=>n.id===e);return t>=1?`${i.name} condition for V`:`Reach ${i.format(i.resource())} / ${i.format(i.requirement)} ${i.name}.`}function Qo(t,e){const i=new Vector(750,550),n=(.7-.4*t)*Math.PI;return new Vector(e*Math.cos(n),-e*Math.sin(n)).plus(i)}function I9(t,e,i){return function(){const r=(.4*t+.5)*Math.PI,a=r+2,s=LogarithmicSpiral.fromPolarEndpoints(Qo(t+.5,75),r,75,a,4/3*75),o=s.angleFromRadius(75+.01)-r,c=a-s.angleFromRadius(4/3*75);return{pathStart:r,pathEnd:a,path:s,pathPadStart:o,pathPadEnd:c,fill:e,drawOrder:i?il.NODE_OVERLAYS:void 0,noBG:i}}()}const Xs={LOCKED:0,FILL:1,DRAIN:2,OVERFILL:3};function Zb(t){const e=PelleRifts[t.toLowerCase()];return e.canBeApplied?!Pelle.hasGalaxyGenerator||e.reducedTo===1?Xs.FILL:e.reducedTo<1?Xs.DRAIN:Xs.OVERFILL:Xs.LOCKED}const il={NODE_BG:0,CONNECTORS:1e3,NODES:2e3,NODE_OVERLAYS:3e3,CANVAS_OVERLAY:4e3},Ae=Object.freeze({teresa:new Vector(100,100),teresaPerkPointShop:new Vector(0,-50),effarigShop:new Vector(300,0),effarigRealityUnlock:new Vector(400,50),effarigNode:new Vector(550,25),enslavedReality:new Vector(650,250),enslavedGlyphLevel:new Vector(650+75*Math.cos(Math.PI/180*-60),250+75*Math.sin(Math.PI/180*-60)),enslavedGlyphRarity:new Vector(650+75*Math.cos(Math.PI/180*120),250+75*Math.sin(Math.PI/180*120)),vUnlockAchievement:new Vector(400,350+50*Math.sqrt(3)),vAchievement0:new Vector(350,350),vAchievement1:new Vector(450,350),vAchievement2:new Vector(500,350+50*Math.sqrt(3)),vAchievement3:new Vector(450,350+100*Math.sqrt(3)),vAchievement4:new Vector(350,350+100*Math.sqrt(3)),vAchievement5:new Vector(300,350+50*Math.sqrt(3)),raReality:new Vector(400,200),raPetTeresa:new Vector(400+85*Math.sin(Math.PI/180*252),200+85*Math.cos(Math.PI/180*252)),raPetEffarig:new Vector(400+85*Math.sin(Math.PI/180*140),200+85*Math.cos(Math.PI/180*140)),raPetEnslaved:new Vector(400+85*Math.sin(Math.PI/180*78),200+85*Math.cos(Math.PI/180*78)),raPetV:new Vector(400+85*Math.sin(Math.PI/180*0),200+85*Math.cos(Math.PI/180*0)),laitelaFirstCenter:new Vector(150,450),laitelaFirstLeft:new Vector(100,500),laitelaFirstRight:new Vector(200,500),laitelaSecondCenter:new Vector(150,550),laitelaSecondLeft:new Vector(100,600),laitelaSecondRight:new Vector(200,600),laitelaThirdCenter:new Vector(150,650),pelleUnlock:new Vector(450,580),pelleAchievementRequirement:Qo(0,0),pelleVacuum:Qo(0,150),pelleDecay:Qo(1,150),pelleChaos:Qo(2,150),pelleRecursion:Qo(3,150),pelleParadox:Qo(4,150),pelleGalaxyGen:Qo(0,0)});function R9(t,e,i,n){let r,a,s,o,c,d,p;switch(n){case Xs.FILL:r=()=>Zb(t)===Xs.FILL,a=()=>Math.clamp(.1+PelleRifts[t.toLowerCase()].realPercentage/.9,1e-6,1),s=()=>!1,o=()=>PelleRifts[t.toLowerCase()].realPercentage,c="c-celestial-nav__test-incomplete",d="crimson",p="crimson";break;case Xs.DRAIN:r=()=>Zb(t)>=Xs.DRAIN,a=()=>Math.clamp(Math.sqrt(PelleRifts[t.toLowerCase()].reducedTo),1e-6,1),s=()=>Zb(t)===Xs.DRAIN&&PelleRifts[t.toLowerCase()].reducedTo<1,o=()=>PelleRifts[t.toLowerCase()].reducedTo,c="c-celestial-nav__drained-rift",d="crimson",p="#550919";break;case Xs.OVERFILL:r=()=>Zb(t)===Xs.OVERFILL,a=()=>Math.clamp(PelleRifts[t.toLowerCase()].percentage-1,1e-6,1),o=()=>PelleRifts[t.toLowerCase()].percentage,s=()=>!0,c=void 0,d="#ff7700",p="#ff9900";break}return{visible:()=>Pelle.isDoomed&&r(),complete:()=>a(),node:{clickAction:()=>Tab.celestials.pelle.show(!0),incompleteClass:c,position:Ae[`pelle${t}`],fill:d,ring:{rMajor:8},forceLegend:()=>s(),legend:{text:()=>[`${formatPercents(o(),1)} ${zn.wordCycle(PelleRifts[t.toLowerCase()].name)}`],angle:i,diagonal:30,horizontal:16}},connector:I9(e,p,n===Xs.OVERFILL)}}const M9=["fill","drain","overfill"],QI=["Vacuum","Decay","Chaos","Recursion","Paradox"],P9=[225,315,45,135,135],QN={};for(const t of M9)for(let e=0;e<QI.length;e++){const i=QI[e];QN[`pelle-${i}-${t}`]=R9(i,e,P9[e],Xs[t.toUpperCase()])}const O9={"teresa-base":{visible:()=>!0,complete:()=>1,node:{clickAction:()=>Tab.celestials.teresa.show(!0),completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",position:Ae.teresa,ring:{rMajor:78,rMinor:64},legend:{text:"Teresa",angle:135,diagonal:32,horizontal:16}}},"teresa-reality-unlock":{visible:()=>!0,complete:()=>TeresaUnlocks.run.canBeApplied?1:Decimal.pLog10(Teresa.pouredAmount)/Math.log10(TeresaUnlocks.run.price),node:{completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",position:Ae.teresa,ring:{rMajor:32,rMinor:22},legend:{hideWhenCompleted:!0,text:()=>{const t=Teresa.pouredAmount,e=TeresaUnlocks.run.price;return`Pour ${format(t,2)} / ${format(e,2)} RM`},angle:135,diagonal:16,horizontal:16}},connector:function(){const t=-Math.PI,e=Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(Ae.teresa,-Math.PI,69,Math.PI,26),n=i.angleFromRadius(61)-t,r=e-i.angleFromRadius(34);return{pathStart:t,pathEnd:e,path:i,pathPadStart:n,pathPadEnd:r}}()},"teresa-reality":{visible:()=>!0,complete:()=>Teresa.runCompleted?1:0,node:{clickAction:()=>Tab.celestials.teresa.show(!0),completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",symbol:"Ϟ",position:Ae.teresa,ring:{rMajor:16},alwaysShowLegend:!0,legend:{text:"Teresa's Reality",angle:-135,diagonal:96,horizontal:16}}},"teresa-pp-shop":{visible:()=>!0,complete:()=>TeresaUnlocks.shop.canBeApplied?1:Decimal.pLog10(Teresa.pouredAmount)/Math.log10(TeresaUnlocks.shop.price),node:{clickAction:()=>Tab.celestials.teresa.show(!0),completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",position:Ae.teresaPerkPointShop,ring:{rMajor:16,rMinor:0},legend:{text:t=>{if(t>=1)return"Teresa's Perk Point Shop";const e=Teresa.pouredAmount,i=TeresaUnlocks.shop.price;return["Teresa's Perk Point Shop",`Pour ${format(e,2)} / ${format(i,2)} Reality Machines`]},angle:-35,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(Ae.teresa,77,Ae.teresaPerkPointShop,15),completeWidth:6,incompleteWidth:4}},"effarig-shop":{visible:()=>!0,complete:()=>TeresaUnlocks.effarig.canBeApplied?1:Decimal.pLog10(Teresa.pouredAmount)/Math.log10(TeresaUnlocks.effarig.price),node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",position:Ae.effarigShop,ring:{rMajor:24},legend:{text:t=>{if(t>=1)return"Effarig's Shop";const e=Teresa.pouredAmount,i=TeresaUnlocks.effarig.price;return["Effarig",`Pour ${format(e,2)} / ${format(i,2)} Reality Machines`]},angle:-135,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(Ae.teresa,77,Ae.effarigShop,23),fill:"url(#gradTeresaEffarig)"}},"effarig-reality-unlock":{visible:()=>TeresaUnlocks.effarig.canBeApplied,complete:()=>EffarigUnlock.run.isUnlocked?1:Math.clampMax(.999,Decimal.pLog10(Currency.relicShards.value)/Math.log10(EffarigUnlock.run.cost)),node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",position:Ae.effarigRealityUnlock,ring:{rMajor:16},legend:{text:t=>{if(t>=1)return"Unlock Effarig's Reality";const e=Currency.relicShards.value,i=EffarigUnlock.run.cost;return["Unlock Effarig's Reality",`Reach ${format(e,2)} / ${format(i,2)} Relic Shards`]},angle:75,diagonal:40,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(Ae.effarigShop,23,Ae.effarigRealityUnlock,15),fill:"#d13737"}},"effarig-infinity":{visible:()=>EffarigUnlock.run.isUnlocked,complete:()=>EffarigUnlock.infinity.isUnlocked?1:Effarig.isRunning?Currency.antimatter.value.pLog10()/Decimal.NUMBER_MAX_VALUE.log10():0,node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",position:Ae.effarigNode,ring:{rMajor:60,rMinor:52},legend:{text:t=>{if(t>=1)return"Effarig's Infinity";if(t===0)return"Unlock Effarig's Reality";const e=Effarig.isRunning?Currency.antimatter.value:0;return["Effarig's Infinity",`Reach ${format(e,2)} / ${format(Number.MAX_VALUE,2)}`,"Antimatter inside Effarig's Reality."]},angle:0,diagonal:100,horizontal:16},bgDrawOrder:il.NODE_BG+750},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(Ae.effarigRealityUnlock,15,Ae.effarigNode,59),fill:"#d13737"}},"effarig-eternity":{visible:()=>EffarigUnlock.infinity.isUnlocked,complete:()=>EffarigUnlock.eternity.isUnlocked?1:Effarig.isRunning?Currency.infinityPoints.value.pLog10()/Decimal.NUMBER_MAX_VALUE.log10():0,node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",fill:"#7131ec",position:Ae.effarigNode,ring:{rMajor:40,rMinor:30},legend:{text:t=>{if(t>=1)return"Effarig's Eternity";const e=Effarig.isRunning?Currency.infinityPoints.value:0;return["Effarig's Eternity",`Reach ${format(e,2)} / ${format(Number.MAX_VALUE,2)}`,"Infinity Points inside Effarig's Reality."]},angle:-45,diagonal:16,horizontal:16}},connector:function(){const t=-Math.PI,e=0,i=LogarithmicSpiral.fromPolarEndpoints(new Vector(560,25),t,66,e,26),n=0,r=e-i.angleFromRadius(30);return{pathStart:t,pathEnd:e,path:i,pathPadStart:n,pathPadEnd:r,fill:"#d13737"}}()},"effarig-reality":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>EffarigUnlock.reality.isUnlocked?1:Effarig.isRunning?Currency.eternityPoints.value.pLog10()/4e3:0,node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",fill:"#A101ec",position:new Vector(550,25),ring:{rMajor:20,rMinor:0},symbol:"Ϙ",alwaysShowLegend:!0,legend:{text:t=>{if(t>=1)return"Effarig's Reality";const e=Effarig.isRunning?Currency.eternityPoints.value:0,i=DC.E4000;return["Effarig's Reality",`Reach ${format(e,2)} / ${format(i,2)}`,"Eternity Points inside Effarig's Reality."]},angle:-120,diagonal:82,horizontal:16}},connector:function(){const e=Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(new Vector(558,25),0,26,e,24);return{pathStart:0,pathEnd:e,path:i,pathPadStart:0,pathPadEnd:0,fill:"#d13737"}}()},enslaved:{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>EffarigUnlock.eternity.isUnlocked?1:0,drawOrder:-1,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:Ae.enslavedReality,ring:{rMajor:80,rMinor:70,gapCenterDeg:15,gapDeg:200},alwaysShowLegend:!1,legend:{text:"Nameless",angle:-90,diagonal:20,horizontal:16}},connector:{pathStart:0,pathEnd:1,drawOrder:il.NODE_BG+500,path:LinearPath.connectCircles(Ae.effarigNode,39,Ae.enslavedReality,79),fill:"url(#gradEffarigEnslaved)"}},"enslaved-unlock-glyph-level":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>player.records.bestReality.glyphLevel/5e3,drawOrder:-1,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:Ae.enslavedGlyphLevel,ring:{rMajor:24,rMinor:16,gapCenterDeg:40,gapDeg:60,gapAngleDeg:0},legend:{text:t=>{if(t>=1)return"Glyph level chain has been broken";const e=5e3;return["Break a chain",`Reach Glyph level ${formatInt(Math.min(player.records.bestReality.glyphLevel,e))}/${formatInt(e)}`]},angle:-45,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(new Vector(650-74*Math.sqrt(.75),250-74*.5),Ae.enslavedGlyphLevel).trimEnd(23),fill:"#ffa337",completeWidth:6,incompleteWidth:4}},"enslaved-unlock-glyph-rarity":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>strengthToRarity(player.records.bestReality.glyphStrength)/100,drawOrder:-1,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:Ae.enslavedGlyphRarity,ring:{rMajor:24,rMinor:16,gapCenterDeg:220,gapDeg:60,gapAngleDeg:0},legend:{text:t=>{if(t>=1)return"Glyph rarity chain has been broken";const e=100;return["Break a chain",`Reach Glyph rarity ${formatPercents(t*e/100,1)}/${formatPercents(e/100,1)}`]},angle:45,diagonal:32,horizontal:32}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.enslavedGlyphRarity,Ae.enslavedGlyphLevel).trimStart(23).trimEnd(23),fill:"#ffa337",completeWidth:6,incompleteWidth:4}},"enslaved-reality":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>Enslaved.isCompleted?1:Enslaved.isRunning?Currency.eternityPoints.value.pLog10()/4e3:0,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:Ae.enslavedReality,ring:{rMajor:80,rMinor:70,gapCenterDeg:195,gapDeg:200},alwaysShowLegend:!0,legend:{text:t=>{if(t>=1)return"The Nameless Ones' Reality";const e=Enslaved.isRunning?Currency.eternityPoints.value:0,i=DC.E4000;return["The Nameless Ones' Reality",`Reach ${format(e,2)} / ${format(i,2)}`,"Eternity Points inside The Nameless Ones' Reality."]},angle:45,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.enslavedGlyphRarity,new Vector(650+74*Math.sqrt(.75),250+74*.5)).trimStart(23),fill:"#ffa337"}},"v-unlock-achievement":{visible:()=>EffarigUnlock.reality.isUnlocked,complete:()=>Achievement(151).isUnlocked?1:player.requirementChecks.infinity.noAD8?player.galaxies/800:0,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"⌬",symbolOffset:"2",fill:"#ffe066",position:Ae.vUnlockAchievement,ring:{rMajor:20},alwaysShowLegend:!0,legend:{text:t=>{if(t>=1)return"V's Reality";const i=player.requirementChecks.infinity.noAD8?player.galaxies:0;return["V's unlock Achievement",`Reach ${formatInt(i)} / ${formatInt(800)} Antimatter Galaxies without buying`,"8th Antimatter Dimensions in your current Infinity"]},angle:135,diagonal:60,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(Ae.enslavedReality,79,Ae.vUnlockAchievement,15),fill:"url(#gradEnslavedV)",completeWidth:6,incompleteWidth:4}},"v-unlock-1":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>up(1),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement1,ring:{rMajor:8},legend:{text:t=>dp(t,1),angle:-135,diagonal:50,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vUnlockAchievement,Ae.vAchievement1),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-2":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>up(2),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement2,ring:{rMajor:8},legend:{text:t=>dp(t,2),angle:-45,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vUnlockAchievement,Ae.vAchievement2),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-3":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>up(3),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement3,ring:{rMajor:8},legend:{text:t=>dp(t,3),angle:45,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vUnlockAchievement,Ae.vAchievement3),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-4":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>up(4),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement4,ring:{rMajor:8},legend:{text:t=>dp(t,4),angle:135,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vUnlockAchievement,Ae.vAchievement4),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-5":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>up(5),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement5,ring:{rMajor:8},legend:{text:t=>dp(t,5),angle:-135,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vUnlockAchievement,Ae.vAchievement5),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-6":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>up(6),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement0,ring:{rMajor:8},legend:{text:t=>dp(t,6),angle:-135,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vUnlockAchievement,Ae.vAchievement0),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-0":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[0].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement0,ring:{rMajor:8},legend:{text:t=>{const e=VRunUnlocks.all[0].config.name;if(t>=1)return`V-Achievement "${e}"`;const i=VRunUnlocks.all[0].completions;return["V-Achievement",`Reach ${formatInt(i)} / ${formatInt(6)} completions in ${e}.`]},angle:-135,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vAchievement5,Ae.vAchievement0),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-1":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[1].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement1,ring:{rMajor:8},legend:{text:t=>{const e=VRunUnlocks.all[1].config.name;if(t>=1)return`V-Achievement "${e}"`;const i=VRunUnlocks.all[1].completions;return["V-Achievement",`Reach ${formatInt(i)} / ${formatInt(6)} completions in ${e}.`]},angle:20,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vAchievement0,Ae.vAchievement1),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-2":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[2].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement2,ring:{rMajor:8},legend:{text:t=>{const e=VRunUnlocks.all[2].config.name;if(t>=1)return`V-Achievement "${e}"`;const i=VRunUnlocks.all[2].completions;return["V-Achievement",`Reach ${formatInt(i)} / ${formatInt(6)} completions in ${e}.`]},angle:315,diagonal:25,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vAchievement1,Ae.vAchievement2),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-3":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[3].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement3,ring:{rMajor:8},legend:{text:t=>{const e=VRunUnlocks.all[3].config.name;if(t>=1)return`V-Achievement "${e}"`;const i=VRunUnlocks.all[3].completions;return["V-Achievement",`Reach ${formatInt(i)} / ${formatInt(6)} completions in ${e}.`]},angle:135,diagonal:25,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vAchievement2,Ae.vAchievement3),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-4":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[4].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement4,ring:{rMajor:8},legend:{text:t=>{const e=VRunUnlocks.all[4].config.name;if(t>=1)return`V-Achievement "${e}"`;const i=VRunUnlocks.all[4].completions;return["V-Achievement",`Reach ${formatInt(i)} / ${formatInt(6)} completions in ${e}.`]},angle:60,diagonal:25,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vAchievement3,Ae.vAchievement4),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-5":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[5].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:Ae.vAchievement5,ring:{rMajor:8},legend:{text:t=>{const e=VRunUnlocks.all[5].config.name;if(t>=1)return`V-Achievement "${e}"`;const i=VRunUnlocks.all[5].completions;return["V-Achievement",`Reach ${formatInt(i)} / ${formatInt(6)} completions in ${e}.`]},angle:260,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.vAchievement4,Ae.vAchievement5),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},ra:{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"",symbolOffset:"2",fill:"#9063de",position:Ae.raReality,ring:{rMajor:24},alwaysShowLegend:!0,legend:{text:"Ra's Reality",angle:230,diagonal:85,horizontal:16}}},"teresa-pet":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:Ae.raPetTeresa,ring:{rMajor:12},legend:{text:()=>{const t=Ra.pets.teresa.level;return t===25?"Ra's Teresa Memories have all been returned":["Ra's Teresa Memory level",`${formatInt(t)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(Ae.raReality,Ae.raPetTeresa),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"teresa-pet-to-teresa":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>Ra.pets.teresa.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.7,path:new LinearPath(Ae.raPetTeresa,Ae.teresa),fill:"url(#gradRaTeresa)",completeWidth:6,incompleteWidth:4}},"effarig-pet":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>Ra.pets.teresa.level/8,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:Ae.raPetEffarig,ring:{rMajor:12},legend:{text:t=>{const e=Ra.pets.teresa.level,i=Ra.pets.effarig.level;return t<1?`Ra's Teresa Memory level ${e} / ${formatInt(8)}`:i===25?"Ra's Effarig Memories have all been returned":["Ra's Effarig Memory level",`${formatInt(i)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(Ae.raReality,Ae.raPetEffarig),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"effarig-pet-to-effarig":{visible:()=>Ra.unlocks.effarigUnlock.isUnlocked,complete:()=>Ra.pets.effarig.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.6,path:new LinearPath(Ae.raPetEffarig,Ae.effarigNode),fill:"url(#gradRaEffarig)",completeWidth:6,incompleteWidth:4}},"enslaved-pet":{visible:()=>Ra.unlocks.effarigUnlock.isUnlocked,complete:()=>Ra.pets.effarig.level/8,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:Ae.raPetEnslaved,ring:{rMajor:12},legend:{text:t=>{const e=Ra.pets.effarig.level,i=Ra.pets.enslaved.level;return t<1?`Ra's Effarig Memory level ${e} / ${formatInt(8)}`:i===25?"Ra's Nameless Memories have all been returned":["Ra's Nameless Memory level",`${formatInt(i)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(Ae.raReality,Ae.raPetEnslaved),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"enslaved-pet-to-enslaved":{visible:()=>Ra.unlocks.enslavedUnlock.isUnlocked,complete:()=>Ra.pets.enslaved.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.55,path:new LinearPath(Ae.raPetEnslaved,Ae.enslavedReality),fill:"url(#gradRaEnslaved)",completeWidth:6,incompleteWidth:4}},"v-pet":{visible:()=>Ra.unlocks.enslavedUnlock.isUnlocked,complete:()=>Ra.pets.enslaved.level/8,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:Ae.raPetV,ring:{rMajor:12},legend:{text:t=>{const e=Ra.pets.enslaved.level,i=Ra.pets.v.level;return t<1?`Ra's Nameless Memory level ${e} / ${formatInt(8)}`:i===25?"Ra's V Memories have all been returned":["Ra's V Memory level",`${formatInt(i)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(Ae.raReality,Ae.raPetV),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"v-pet-to-v":{visible:()=>Ra.unlocks.vUnlock.isUnlocked,complete:()=>Ra.pets.v.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.42,path:new LinearPath(Ae.raPetV,Ae.vUnlockAchievement),fill:"url(#gradRaV)",completeWidth:6,incompleteWidth:4}},"ra-ring-1":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:Ae.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:74,gapDeg:268}}},"ra-ring-2":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:Ae.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:161,gapDeg:318}}},"ra-ring-3":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:Ae.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:231,gapDeg:301}}},"ra-ring-4":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:Ae.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:293,gapDeg:334}}},"ra-ring-5":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:Ae.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:-14,gapDeg:316}}},"laitela-unlock":{visible:()=>Ra.unlocks.vUnlock.isUnlocked,complete:()=>DarkMatterDimension(1).unlockUpgrade.canBeBought||Laitela.isUnlocked?1:MachineHandler.isIMUnlocked?player.requirementChecks.reality.maxID1.neq(0)?.5:.5+.5*Math.clampMax(.999,player.antimatter.exponent/15e11):Math.clampMax(.5,Currency.realityMachines.value.pLog10()/MachineHandler.baseRMCap.exponent),drawOrder:-1,node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"ᛝ",symbolScale:1.6,symbolOffset:"0.6",fill:"white",position:Ae.laitelaFirstCenter,ring:{rMajor:15},alwaysShowLegend:!0,legend:{text:t=>{const e="Lai'tela's Reality";if(t>=1)return[e];if(!MachineHandler.isIMUnlocked){const a=Currency.realityMachines.value,s=MachineHandler.baseRMCap;return[e,"The limits of Reality Machines bind you",`${format(a)} / ${format(s)}`]}if(player.requirementChecks.reality.maxID1.neq(0))return[e,"The Power of Infinity Dimensions","blocks your path."];const n=Currency.antimatter.value,r=DC.E1_5E12;return[e,`${format(n)} / ${format(r)}`]},angle:260,diagonal:15,horizontal:8}},connector:{pathStart:.05,pathEnd:1,path:new LinearPath(Ae.raReality,Ae.laitelaFirstCenter),fill:"url(#gradRaLaitela)",completeWidth:6,incompleteWidth:4}},"laitela-2nd-dim":{visible:()=>Laitela.isUnlocked,complete:()=>{const t=DarkMatterDimension(2).unlockUpgrade;return t.canBeBought||t.isBought?1:t.isAvailableForPurchase?t.currency.value/t.cost:Laitela.difficultyTier<1?0:30/player.celestials.laitela.fastestCompletion},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:Ae.laitelaFirstLeft,ring:{rMajor:8},legend:{text:t=>{const e="2nd Dark Matter Dimension",i=DarkMatterDimension(2);if(i.isUnlocked)return[e];const n=i.adjustedStartingCost;if(t>=1)return[e,`Dark Matter ${format(Currency.darkMatter.max.min(n),i.isUnlocked?0:2)} / ${format(n)}`];const r=i.unlockUpgrade;return r.isAvailableForPurchase?[e,`Imaginary Machines
            ${format(Math.min(r.currency.value,r.cost),r.canBeBought?1:2)}
            / ${format(r.cost,1)}`]:player.celestials.laitela.fastestCompletion>30&&Laitela.difficultyTier<0?[e,`Beat Lai'tela's Reality in less that ${format(30)} seconds`]:[e,"Beat Lai'tela's Reality"]},angle:135,diagonal:30,horizontal:16}},connector:{pathStart:.17,pathEnd:.89,path:new LinearPath(Ae.laitelaFirstCenter,Ae.laitelaFirstLeft),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-singularity":{visible:()=>Laitela.isUnlocked,complete:()=>Currency.singularities.gte(1)?1:Math.clampMax(.999,Currency.darkEnergy.value/Singularity.cap),node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:Ae.laitelaFirstRight,ring:{rMajor:8},legend:{text:t=>{if(t>=1)return["Obtain a Singularity"];const e=Currency.darkEnergy.value,i=Singularity.cap;return["Condense your Dark Energy","Into a Singularity",`${format(e)} / ${format(i)}`]},angle:45,diagonal:65,horizontal:16}},connector:{pathStart:.17,pathEnd:.89,path:new LinearPath(Ae.laitelaFirstCenter,Ae.laitelaFirstRight),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-3rd-dim":{visible:()=>DarkMatterDimension(2).isUnlocked&&Currency.singularities.gte(1),complete:()=>{const t=DarkMatterDimension(3).unlockUpgrade;return t.canBeBought||t.isBought?1:t.isAvailableForPurchase?t.currency.value/t.cost:player.auto.singularity.isActive?Math.clampMax(.999,Singularity.singularitiesGained/20):.5},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:Ae.laitelaSecondCenter,ring:{rMajor:15},legend:{text:t=>{const e="3rd Dark Matter Dimension",i=DarkMatterDimension(3);if(i.isUnlocked)return[e];const n=i.adjustedStartingCost;if(t>=1)return[e,`Dark Matter ${format(Currency.darkMatter.max.min(n),i.isUnlocked?0:2)} / ${format(n)}`];const r=i.unlockUpgrade;return r.isAvailableForPurchase?[e,`Imaginary Machines
            ${format(Math.min(r.currency.value,r.cost),r.canBeBought?0:2)}
            / ${format(r.cost)}`]:player.auto.singularity.isActive?[e,`Automatically Condense ${format(20)} Singularities at once`,`${format(Math.clampMax(Singularity.singularitiesGained,20))} / ${format(20)}`]:[e,"Unlock Automatic Singularities",`${format(Currency.singularities.value)} / ${format(SingularityMilestone.autoCondense.start)}`]},angle:15,diagonal:30,horizontal:16}},connector:[{pathStart:.1,pathEnd:.89,path:new LinearPath(Ae.laitelaFirstLeft,Ae.laitelaSecondCenter),fill:"white",completeWidth:6,incompleteWidth:4},{pathStart:.1,pathEnd:.89,path:new LinearPath(Ae.laitelaFirstRight,Ae.laitelaSecondCenter),fill:"white",completeWidth:6,incompleteWidth:4}]},"laitela-4th-dim":{visible:()=>DarkMatterDimension(3).isUnlocked,complete:()=>{const t=DarkMatterDimension(4).unlockUpgrade;return t.canBeBought||t.isBought?1:t.isAvailableForPurchase?t.currency.value/t.cost:(Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies)/8e4},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:Ae.laitelaSecondLeft,ring:{rMajor:8},legend:{text:t=>{const e="4th Dark Matter Dimension",i=DarkMatterDimension(4);if(i.isUnlocked)return[e];const n=i.adjustedStartingCost;if(t>=1)return[e,`Dark Matter ${format(Currency.darkMatter.max.min(n),i.isUnlocked?0:2)} / ${format(n)}`];const r=i.unlockUpgrade;if(r.isAvailableForPurchase)return[e,`Imaginary Machines
            ${format(Math.min(r.currency.value,r.cost),r.canBeBought?1:2)}
            / ${format(r.cost,1)}`];const a=Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies;return[e,`Have ${format(8e4)} total Galaxies`,`${format(Math.clampMax(a,8e4))} / ${format(8e4)}`]},angle:225,diagonal:30,horizontal:16}},connector:{pathStart:.11,pathEnd:.89,path:new LinearPath(Ae.laitelaSecondCenter,Ae.laitelaSecondLeft),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-annihilation":{visible:()=>DarkMatterDimension(4).isUnlocked,complete:()=>{const t=ImaginaryUpgrade(19);return t.canBeBought||t.isBought?1:t.isAvailableForPurchase?Currency.imaginaryMachines.value/t.cost:t.isPossible?Tickspeed.continuumValue/385e4:0},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:Ae.laitelaSecondRight,ring:{rMajor:8},legend:{text:()=>["Annihilate your","Dark Matter Dimensions"],angle:315,diagonal:30,horizontal:16}},connector:{pathStart:.11,pathEnd:.89,path:new LinearPath(Ae.laitelaSecondCenter,Ae.laitelaSecondRight),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-destabilization":{visible:()=>DarkMatterDimension(4).isUnlocked&&ImaginaryUpgrade(19).isBought,complete:()=>Laitela.difficultyTier/8,node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbolScale:1.6,symbolOffset:"0.6",fill:"white",position:Ae.laitelaThirdCenter,ring:{rMajor:15},legend:{text:t=>t<1?["Destabilize Lai'tela's Reality","To the point where you cannot","use any Dimensions",`${format(Laitela.difficultyTier)} / ${format(8)} Dimensions disabled`]:["Completely destabilized","Lai'tela's Reality"],angle:180,diagonal:15,horizontal:8}},connector:[{pathStart:.11,pathEnd:.83,path:new LinearPath(Ae.laitelaSecondLeft,Ae.laitelaThirdCenter),fill:"white",completeWidth:6,incompleteWidth:4},{pathStart:.11,pathEnd:.83,path:new LinearPath(Ae.laitelaSecondRight,Ae.laitelaThirdCenter),fill:"white",completeWidth:6,incompleteWidth:4}]},"pelle-unlock":{visible:()=>Laitela.difficultyTier>4,complete:()=>{if(Pelle.isUnlocked)return 1;const t=Math.clampMax(pT(Math.log10(Currency.imaginaryMachines.value)/Math.log10(16e14)),1);let e=Laitela.isRunning?Math.min(Currency.eternityPoints.value.log10()/4e3,.99):0;return Laitela.difficultyTier!==8||Glyphs.activeWithoutCompanion.length>1?e=0:ImaginaryUpgrade(25).isAvailableForPurchase&&(e=1),(t+e)/2},node:{clickAction:()=>Tab.celestials.pelle.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"crimson",position:Ae.pelleUnlock,ring:{rMajor:8},legend:{text:t=>{if(t===1)return["Unlock Pelle","The Celestial of Antimatter"];let e=`${format(Currency.eternityPoints.value)} / ${format("1e4000")} EP`;return!Laitela.isRunning||Laitela.difficultyTier!==8||Glyphs.activeWithoutCompanion.length>1?e="Lai'tela's Reality is still intact":ImaginaryUpgrade(25).isAvailableForPurchase&&(e="Lai'tela's Reality has been destroyed"),["Unlock Pelle","The Celestial of Antimatter",`${format(Currency.imaginaryMachines.value,2)} / ${format(16e14,2)} iM`,e]},angle:105,diagonal:90,horizontal:10}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.laitelaThirdCenter,Ae.pelleUnlock),fill:"url(#gradLaitelaPelle)",completeWidth:6,incompleteWidth:4}},"pelle-doomed-requirement":{visible:()=>Pelle.isUnlocked,complete:()=>{if(Pelle.isDoomed)return 1;const t=Achievements.prePelleRows.countWhere(i=>i.every(n=>n.isUnlocked))/Achievements.prePelleRows.length,e=AlchemyResources.all.countWhere(i=>i.capped)/AlchemyResources.all.length;return(pT(t)+pT(e))/2},node:{clickAction:()=>Tab.celestials.pelle.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"♅",symbolOffset:"1.6",fill:"crimson",position:Ae.pelleAchievementRequirement,ring:{rMajor:20},forceLegend:()=>Pelle.isUnlocked&&!Pelle.hasGalaxyGenerator,legend:{text:t=>{if(t>=1)return Pelle.isDoomed?"Doomed Reality":"Doom your Reality";const e=[Achievements.prePelleRows.countWhere(n=>n.every(r=>r.isUnlocked)),Achievements.prePelleRows.length],i=[AlchemyResources.all.countWhere(n=>n.capped),AlchemyResources.all.length];return[`Complete ${formatInt(e[0])} / ${formatInt(e[1])} rows of Achievements`,`Fill ${formatInt(i[0])} / ${formatInt(i[1])} Alchemy Resources`]},angle:290,diagonal:40,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(Ae.pelleUnlock,Ae.pelleAchievementRequirement),fill:"crimson",completeWidth:6,incompleteWidth:4}},...QN,"pelle-galaxy-generator-start-node":{visible:()=>Pelle.hasGalaxyGenerator,complete:()=>Pelle.hasGalaxyGenerator?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"black",position:Ae.pelleAchievementRequirement,ring:{rMajor:20},alwaysShowLegend:!0,legend:{text:()=>["Galaxy Generator:",`${format(GalaxyGenerator.generatedGalaxies,2)} / ${format(GalaxyGenerator.generationCap,2)} Galaxies`],angle:290,diagonal:40,horizontal:16}}},"pelle-galaxy-generator-sigil-mask":{visible:()=>Pelle.hasGalaxyGenerator,complete:()=>Pelle.hasGalaxyGenerator?1:0,node:{clickAction:()=>Tab.celestials.pelle.show(!0),position:Ae.pelleAchievementRequirement,ring:{rMajor:20}}},"pelle-galaxy-generator-path":{visible:()=>Pelle.hasGalaxyGenerator,complete:()=>{const t=PelleRifts.all.map(a=>a.config.galaxyGeneratorThreshold),e=t.countWhere(a=>GalaxyGenerator.generatedGalaxies>=a);if(e===5)return 1;const i=t.filter(a=>GalaxyGenerator.generatedGalaxies>=a).max(),n=t.filter(a=>GalaxyGenerator.generatedGalaxies<a).min(),r=Math.sqrt((GalaxyGenerator.generatedGalaxies-i)/(n-i));return(e+r)/5},connector:function(){const t=.5*Math.PI,e=t+10*Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(Qo(0,0),t,18,e,150);return{pathStart:t,pathEnd:e,path:i,pathPadStart:0,pathPadEnd:0,fill:"#00bbbb"}}()},"pelle-galaxy-generator-infinite":{visible:()=>Pelle.hasGalaxyGenerator&&!Number.isFinite(GalaxyGenerator.generationCap),complete:()=>Math.clamp((GalaxyGenerator.generatedGalaxies-1e10)/2e11,1e-6,1),connector:function(){const t=.5*Math.PI,e=t+10*Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(Qo(0,0),t,150,e,1250);return{pathStart:t,pathEnd:e,path:i,pathPadStart:0,pathPadEnd:0,drawOrder:il.CANVAS_OVERLAY,fill:"#00bbbb",noBG:!0}}()}},N9={adjuster:{id:0,description:"Adjustable Glyph level factor weights",cost:1e7,onPurchased:()=>{Effarig.quotes.unlockWeights.show(),ui.view.tabs.reality.openGlyphWeights=!0,Tab.reality.glyphs.show()}},glyphFilter:{id:1,description:"Glyph Filtering",cost:2e8,onPurchased:()=>{Effarig.quotes.unlockGlyphFilter.show(),player.reality.showSidebarPanel=GLYPH_SIDEBAR_MODE.FILTER_SETTINGS}},setSaves:{id:2,description:"Glyph Presets",cost:3e9,onPurchased:()=>{Effarig.quotes.unlockSetSaves.show(),player.reality.showSidebarPanel=GLYPH_SIDEBAR_MODE.SAVED_SETS}},run:{id:3,description:"Effarig's Reality",cost:5e11,onPurchased:()=>{Effarig.quotes.unlockRun.show()}},infinity:{id:4,label:"Infinity",get description(){return` Replicanti cap is multiplied by a value based on Infinities
        Infinities increase your max Replicanti Galaxies
        Base Infinity Point gain is capped at ${format(DC.E200)} in Effarig's Reality
        Each type of Infinity Point multiplier is capped at ${format(DC.E50)} in Effarig's Reality`}},eternity:{id:5,label:"Eternity",get description(){return` Eternities generate Infinities
        Infinity Points are no longer limited in any way in Effarig's Reality
        You have unlocked The Nameless Ones`}},reality:{id:6,label:"Reality",get description(){return" You have unlocked Effarig Glyphs (You may equip at most one and some effects are mutually exclusive)"}}},G9={progress:{hintsUnlocked:{id:0,hint:"The Nameless Ones want to help, but the help takes a while.",condition:()=>`Spent more than ${formatInt(5)} real-time hours inside the Reality without completing it;
        time outside the Reality counts for ${formatPercents(.4)} as much. The timer starts once the
        Reality is unlocked, but accumulates continuously.`},ec1:{id:1,hint:"That's odd, the Automatic Eternity Challenge perk seems to be having some trouble working properly.",condition:()=>`Gained more than ${formatInt(5)} completions of Eternity Challenge 1 at once`},feelEternity:{id:2,hint:"Infinity seems to be more broken than usual in this Reality, but is that even fixable?",condition:"Tried to Fix Infinity, but instead found and clicked the FEEL ETERNITY button"},ec6:{id:3,hint:`Some Challenges are harder, but also boost something in exchange. I wonder if there's a Challenge
        that's just strictly better than normal here.`,condition:()=>`Entered Eternity Challenge 6 again after completing it ${formatInt(5)} times in order
        to use its cheaper Replicanti Galaxies`},c10:{id:4,hint:"Is there a way to get Antimatter Galaxies without 8th Antimatter Dimensions?",condition:"Used Challenge 10 to get more than one Antimatter Galaxy with 6th Antimatter Dimensions"},secretStudy:{id:5,hint:"Time Study 12? What's that?",condition:()=>`Clicked the secret Time Study and gained an extra ${formatInt(100)} Time Theorems`},storedTime:{id:6,hint:"It seems like certain parts of this Reality erode away if you wait long enough.",condition:"Discharged to have more than a year of game time this Reality"},challengeCombo:{id:7,hint:"Could I possibly use one Challenge to get around a restriction in another Challenge?",condition:"Entered Challenge 10 while already inside of Eternity Challenge 6"}},glyphHints:["Infinity and Dilation Glyphs seem confined too tightly to be useful at all.","Power and Time Glyphs are particularly strong here.",`Effarig Glyphs are only useful with the right effects, but you can complete the Reality without one.
      A Replication Glyph is very helpful, but it's not strictly necessary or quite as strong
      as Power and Time.`]};function JI(){const t=PelleRifts.all.map(i=>Math.clamp(i.realPercentage,0,1)).min(),e=Math.log10(1+GalaxyGenerator.generatedGalaxies)/11;return Math.clampMax(.2*t+.8*e,1)}const Vl={visible:()=>PelleRifts.all.map(t=>Math.clamp(t.realPercentage,0,1)).min()>0,center:new Vector(400,300),size:400,color:"#00ffff",canvasLayer:il.NODE_BG-500};function va(t,e){const i=Vl;return new Vector(i.center.x+i.size*t,i.center.y+i.size*e)}function mT(t){return new Vector(2*Vl.center.x-t.x,t.y)}function Wn(t,e,i,n){let r,a,s,o;switch(t){case"edge":r=e.start,a=new LinearPath(e.start,e.end),s=0,o=1;break;case"circle":r=e.center,a=LogarithmicSpiral.fromPolarEndpoints(e.center,0,e.radius*Vl.size,1,e.radius*Vl.size),s=e.initAngle,o=e.finalAngle;break;default:throw Error("Unrecognized shape in sigil specification")}return{visible:()=>Vl.visible()&&JI()>=i.init,complete:()=>Math.clamp((JI()-i.init)/i.weight,0,1),att:e,fill:i,node:{position:r,ring:{rMajor:0}},connector:{pathStart:s,pathEnd:o,drawOrder:Vl.canvasLayer,path:a,fill:n??Vl.color,completeWidth:Vl.size/20,noBG:!0}}}const Gi=Object.freeze({circTop:va(.333,-.41),circMid:va(.5,.22),circBot:va(0,.43),topC:va(0,-.4),top1:va(.08,-.27),top2:va(.18,-.35),top3:va(.28,-.35),mid:va(.08,.05),arm1:va(.5,.05),arm2:va(.5,-.15),arm3:va(.4,-.15),lowC:va(0,.22),low1:va(.42,.22),botC:va(0,.31),bot1:va(.12,.43),bot2:va(.28,.43)}),Lh={botCircR:Wn("circle",{center:Gi.circBot,radius:.12,initAngle:.5*Math.PI,finalAngle:-.5*Math.PI},{init:0,weight:.2}),botH:Wn("edge",{start:Gi.bot1,end:Gi.bot2},{init:.1,weight:.1}),lowH:Wn("edge",{start:Gi.lowC,end:Gi.low1},{init:.3,weight:.3}),circUp:Wn("circle",{center:Gi.circMid,radius:.08,initAngle:Math.PI,finalAngle:0},{init:.6,weight:.1}),circDown:Wn("circle",{center:Gi.circMid,radius:.08,initAngle:Math.PI,finalAngle:2*Math.PI},{init:.6,weight:.1}),vert2:Wn("edge",{start:Gi.bot2,end:Gi.top3},{init:.2,weight:.7}),vertC:Wn("edge",{start:Gi.botC,end:Gi.lowC},{init:.2,weight:.1}),vertDiag1:Wn("edge",{start:Gi.lowC,end:Gi.mid},{init:.3,weight:.1}),arm1:Wn("edge",{start:Gi.mid,end:Gi.arm1},{init:.4,weight:.2}),arm2:Wn("edge",{start:Gi.arm1,end:Gi.arm2},{init:.6,weight:.1}),arm3:Wn("edge",{start:Gi.arm2,end:Gi.arm3},{init:.7,weight:.1}),vert1:Wn("edge",{start:Gi.mid,end:Gi.top1},{init:.4,weight:.3}),vertDiag2:Wn("edge",{start:Gi.top1,end:Gi.topC},{init:.7,weight:.1}),vertDiag3:Wn("edge",{start:Gi.top1,end:Gi.top2},{init:.7,weight:.1}),topH:Wn("edge",{start:Gi.top2,end:Gi.top3},{init:.8,weight:.1}),circTopUp:Wn("circle",{center:Gi.circTop,radius:.08,initAngle:.75*Math.PI,finalAngle:1.75*Math.PI},{init:.9,weight:.1}),circTopDown:Wn("circle",{center:Gi.circTop,radius:.08,initAngle:.75*Math.PI,finalAngle:-.25*Math.PI},{init:.9,weight:.1})};for(const t of Object.keys(Lh)){const e=Lh[t];e.connector.path instanceof LinearPath?Lh[`${t}Ref`]=Wn("edge",{start:mT(e.att.start),end:mT(e.att.end)},e.fill):e.connector.path instanceof LogarithmicSpiral&&(Lh[`${t}Ref`]=Wn("circle",{center:mT(e.att.center),radius:e.att.radius,initAngle:Math.PI-e.att.initAngle,finalAngle:Math.PI-e.att.finalAngle},e.fill))}const eR=16;for(let t=0;t<eR;t++){const e=2*Math.PI/eR,i=t*e;Lh[`arcInner${t}`]=Wn("circle",{center:Vl.center,radius:.75,initAngle:i,finalAngle:i+e},{init:.1,weight:.4},"crimson"),Lh[`arcOuter${t}`]=Wn("circle",{center:Vl.center,radius:.95,initAngle:i,finalAngle:i-e},{init:.5,weight:.4},"crimson")}const U9=Object.values(Lh).mapToObject((t,e)=>`final-sigil-${e}`,t=>t),js={visible:()=>Pelle.hasGalaxyGenerator,center:Qo(0,0),size:20,color:"#00ffff",canvasLayer:il.CANVAS_OVERLAY};function TC(t,e,i,n){let r,a,s,o;switch(t){case"circle":r=e.center,a=LogarithmicSpiral.fromPolarEndpoints(e.center,0,e.radius*js.size,1,e.radius*js.size),s=e.initAngle,o=e.finalAngle;break;case"arc":r=e.center,s=e.initAngle,o=e.finalAngle,a=LogarithmicSpiral.fromPolarEndpoints(e.center,s,e.initRadius*js.size,o,e.finalRadius*js.size);break;default:throw Error("Unrecognized shape in sigil specification")}return{visible:()=>js.visible(),complete:()=>1,node:{position:r,ring:{rMajor:js.size*i.thickness},bgDrawOrder:js.canvasLayer+i.layer},connector:{pathStart:s,pathEnd:o,drawOrder:js.canvasLayer+i.layer,path:a,fill:n??js.color,completeWidth:js.size*i.thickness,noBG:!0}}}const JN={disc:TC("circle",{center:js.center,radius:.2,initAngle:0,finalAngle:6.28},{thickness:.15,layer:1},"#88ffff"),glow:TC("circle",{center:js.center,radius:.125,initAngle:0,finalAngle:6.28},{thickness:.05,layer:2},"white")},tR=10;for(let t=0;t<tR;t++){const e=2*Math.PI/tR,i=t*e;JN[`spiral${t}`]=TC("arc",{center:js.center,initRadius:.2,finalRadius:.9,initAngle:i,finalAngle:i+Math.PI},{thickness:.1,layer:0},"cyan")}const L9=Object.values(JN).mapToObject((t,e)=>`galaxy-icon-${e}`,t=>t),B9=t=>format(t,2),Ry=t=>{const{id:e,description:i,cost:n,effect:r,formatEffect:a,currency:s,currencyLabel:o}=t;return{id:e,description:i,cost:()=>n(player.celestials.pelle.rebuyables[e]),formatCost:B9,effect:(c=player.celestials.pelle.rebuyables[e])=>r(c),formatEffect:a,currency:s,currencyLabel:o}},$9={additive:Ry({id:"galaxyGeneratorAdditive",description:"Increase base Galaxy generation by 20",cost:t=>Math.pow(3,t),effect:t=>t*20,formatEffect:t=>`${format(t,2,2)}/s`,currency:()=>Currency.galaxyGeneratorGalaxies,currencyLabel:"Galaxy"}),multiplicative:Ry({id:"galaxyGeneratorMultiplicative",description:"Multiply Galaxy generation",cost:t=>Math.pow(10,t),effect:t=>Decimal.pow(2.5,t),formatEffect:t=>formatX(t,2,1),currency:()=>Currency.galaxyGeneratorGalaxies,currencyLabel:"Galaxy"}),antimatterMult:Ry({id:"galaxyGeneratorAntimatterMult",description:"Multiply Galaxy generation",cost:t=>Decimal.pow("1e100000000",10**t),effect:t=>Decimal.pow(2,t),formatEffect:t=>formatX(t,2),currency:()=>Currency.antimatter,currencyLabel:"Antimatter"}),IPMult:Ry({id:"galaxyGeneratorIPMult",description:"Multiply Galaxy generation",cost:t=>Decimal.pow("1e2000000",100**t),effect:t=>Decimal.pow(2,t),formatEffect:t=>formatX(t,2),currency:()=>Currency.infinityPoints,currencyLabel:"Infinity Point"}),EPMult:Ry({id:"galaxyGeneratorEPMult",description:"Multiply Galaxy generation",cost:t=>Decimal.pow("1e10000",1e3**t),effect:t=>Decimal.pow(2,t),formatEffect:t=>formatX(t,2),currency:()=>Currency.eternityPoints,currencyLabel:"Eternity Point"})},F9={vacuum:{id:1,key:"vacuum",name:["Vacuum","Hollow","Void"],drainResource:"IP",baseEffect:t=>`IP gain ${formatX(t,2,2)}`,additionalEffects:()=>[PelleRifts.vacuum.milestones[2]],strike:()=>PelleStrikes.infinity,percentage:t=>Math.log10(t.plus(1).log10()*10+1)**2.5/100,percentageToFill:t=>Decimal.pow(10,Decimal.pow(10,(t*100)**(1/2.5)).div(10).minus(.1)).minus(1),effect:t=>{if(player.challenge.eternity.current!==0){const e=EternityChallenge.current,i=e.goalAtCompletions(e.gainedCompletionStatus.totalCompletions);return t.plus(1).pow(.1).min(i.pow(.15))}return t.plus(1).pow(.33)},currency:()=>Currency.infinityPoints,galaxyGeneratorThreshold:1e3,milestones:[{resource:"vacuum",requirement:.04,description:"You can equip a single basic Glyph with decreased level and rarity"},{resource:"vacuum",requirement:.06,description:()=>`Uncap Replicanti and make its unlock and upgrades ${formatX(1e130)} cheaper`,effect:()=>1e130},{resource:"vacuum",requirement:.4,description:()=>`${zn.wordCycle(PelleRifts.vacuum.name)} also affects EP gain`,effect:()=>Decimal.pow(4,PelleRifts.vacuum.totalFill.log10()/2/308+3),formatEffect:t=>`EP gain ${formatX(t,2,2)}`}],galaxyGeneratorText:"There is not enough space left for more, you must fill in the $value"},decay:{id:2,key:"decay",name:["Decay","Collapse","Disarray"],drainResource:"Replicanti",spendable:!0,baseEffect:t=>`Replicanti speed ${formatX(t,2,2)}`,additionalEffects:()=>[PelleRifts.decay.milestones[0],PelleRifts.decay.milestones[2]],strike:()=>PelleStrikes.powerGalaxies,percentage:t=>t.plus(1).log10()*.05/100,percentageToFill:t=>Decimal.pow(10,20*t*100).minus(1),effect:t=>PelleRifts.chaos.milestones[0].canBeApplied?Decimal.sqrt(2001):Decimal.sqrt(t.plus(1).log10()+1),currency:()=>Currency.replicanti,galaxyGeneratorThreshold:1e7,milestones:[{resource:"decay",requirement:.2,description:"First rebuyable Pelle upgrade also affects 1st Infinity Dimension",effect:()=>{const t=player.celestials.pelle.rebuyables.antimatterDimensionMult;return Decimal.pow(1e50,t-9)},formatEffect:t=>`1st Infinity Dimension ${formatX(t,2,2)}`},{resource:"decay",requirement:.6,description:()=>`When Replicanti exceeds ${format(DC.E1300)},
          all Galaxies are ${formatPercents(.1)} more effective`,effect:()=>Replicanti.amount.gt(DC.E1300)?1.1:1},{resource:"decay",requirement:1,description:"Increase max Replicanti Galaxies based on total Rift milestones",effect:()=>{const t=PelleRifts.totalMilestones();return t**2-2*t},formatEffect:t=>`Max RG count +${formatInt(t)}`}],galaxyGeneratorText:"There's not enough antimatter to form new Galaxies, you need to reverse the $value"},chaos:{id:3,key:"chaos",name:["Chaos","Disorder","Impurity"],drainResource:["Decay","Collapse","Disarray"],baseEffect:t=>`Time Dimensions ${formatX(t,2,2)}`,strike:()=>PelleStrikes.eternity,percentage:t=>t/10,percentageToFill:t=>10*t,effect:t=>{const e=t>6.5?(t-6.5)/7+6.5:t;return Decimal.pow(6,Decimal.pow(6,Decimal.pow(6,e/10+.1)).minus(6)).div(1e5).plus(Decimal.pow(10,e/10+.1))},currency:()=>({get value(){return PelleRifts.decay.percentage},set value(t){const e=PelleRifts.decay.percentage-t;player.celestials.pelle.rifts.decay.percentageSpent+=e}}),galaxyGeneratorThreshold:1e9,milestones:[{resource:"chaos",requirement:.09,description:()=>`${zn.wordCycle(PelleRifts.decay.name)}         effect is always maxed and milestones always active`},{resource:"chaos",requirement:.15,description:"Glyphs gain a new Pelle-specific effect"},{resource:"chaos",requirement:1,description:()=>`You gain ${formatPercents(.01)} of your EP gained on Eternity per second`}],galaxyGeneratorText:"Your Galaxies are too fragmented, you must stabilize the $value"},recursion:{id:4,key:"recursion",name:["Recursion","Dispersion","Destruction"],drainResource:"EP",baseEffect:t=>`EP formula: log(x)/${formatInt(308)} ➜ log(x)/${formatFloat(308-t.toNumber(),2)}`,additionalEffects:()=>[PelleRifts.recursion.milestones[0],PelleRifts.recursion.milestones[1]],strike:()=>PelleStrikes.ECs,percentage:t=>t.plus(1).log10()**.4/4e3**.4,percentageToFill:t=>Decimal.pow(10,t**2.5*4e3).minus(1),effect:t=>new Decimal(58*t.plus(1).log10()**.2/4e3**.2),currency:()=>Currency.eternityPoints,galaxyGeneratorThreshold:1e10,milestones:[{resource:"recursion",requirement:.1,description:"Dimensional Boosts are more powerful based on EC completions",effect:()=>Math.max(100*EternityChallenges.completions**2,1)*Math.max(1e4**(EternityChallenges.completions-40),1),formatEffect:t=>`Dimension Boost power ${formatX(t,2,2)}`},{resource:"recursion",requirement:.15,description:"Infinity Dimensions are stronger based on EC completions",effect:()=>Decimal.pow("1e1500",((EternityChallenges.completions-25)/20)**1.7).max(1),formatEffect:t=>`Infinity Dimensions ${formatX(t)}`},{resource:"recursion",requirement:1,description:"Permanently unlock the Galaxy Generator"}],galaxyGeneratorText:"Creating more Galaxies is unsustainable, you must focus the $value to allow more"},paradox:{id:5,key:"paradox",name:["Paradox","Contradiction","Fallacy"],drainResource:"Dilated Time",baseEffect:t=>`All Dimensions ${formatPow(t,2,3)}`,additionalEffects:()=>[PelleRifts.paradox.milestones[2]],strike:()=>PelleStrikes.dilation,percentage:t=>t.plus(1).log10()/100,percentageToFill:t=>Decimal.pow10(t*100).minus(1),effect:t=>new Decimal(1+t.plus(1).log10()*.004),currency:()=>Currency.dilatedTime,galaxyGeneratorThreshold:1e5,milestones:[{resource:"paradox",requirement:.15,description:"Time Dimensions 5-8 are much cheaper, unlock more Dilation upgrades",onStateChange:()=>{updateTimeDimensionCosts()}},{resource:"paradox",requirement:.25,description:()=>`Dilated Time gain becomes Tachyon Particles ${formatPow(1.4,1,1)}`,effect:1.4},{resource:"paradox",requirement:.5,description:"Dilation rebuyable purchase count improves Infinity Power conversion rate",effect:()=>Math.min(1.1075**(Object.values(player.dilation.rebuyables).sum()-60),712),formatEffect:t=>`Infinity Power Conversion ${formatX(t,2,2)}`}],galaxyGeneratorText:"It should be possible to create more, but Pelle has restricted you. Disregard the $value"}},H9={infinity:{id:1,requirementDescription:"Reach Infinity",penaltyDescription:()=>`Antimatter Dimensions are raised to ${formatPow(.5,1,1)}`,rewardDescription:()=>`Unlock ${zn.wordCycle(PelleRifts.vacuum.name)}
      and get a permanent Infinity Autobuyer`,rift:()=>PelleRifts.vacuum},powerGalaxies:{id:2,requirementDescription:"Power-up Galaxies",penaltyDescription:()=>`Infinity Dimensions are raised to ${formatPow(.5,1,1)}`,rewardDescription:()=>`Unlock ${zn.wordCycle(PelleRifts.decay.name)}`,rift:()=>PelleRifts.decay},eternity:{id:3,requirementDescription:"Reach Eternity",penaltyDescription:()=>`Replicanti speed slows down even more above ${format(DC.E2000)}`,rewardDescription:()=>`Unlock ${zn.wordCycle(PelleRifts.chaos.name)}`,rift:()=>PelleRifts.chaos},ECs:{id:4,requirementDescription:()=>`Reach ${formatInt(115)} TT`,penaltyDescription:()=>`In Eternity Challenges, ${zn.wordCycle(PelleRifts.vacuum.name)}
      IP multiplier is only ${formatPercents(.3)} as strong and capped at ${formatPercents(.15)}
      of the goal`,rewardDescription:()=>`Unlock ${zn.wordCycle(PelleRifts.recursion.name)}`,rift:()=>PelleRifts.recursion},dilation:{id:5,requirementDescription:"Dilate Time",penaltyDescription:"Time Dilation is permanently active",rewardDescription:()=>`Keep the Time Dilation study across Armageddon, boost Remnant gain, and unlock
      ${zn.wordCycle(PelleRifts.paradox.name)}`,rift:()=>PelleRifts.paradox}},_n=t=>format(t,2),V9=(t,e,i,n,r)=>Decimal.pow(t,r).times(Decimal.pow(e,r-i).max(1)).times(n),My=t=>{const{id:e,description:i,cost:n,effect:r,formatEffect:a,cap:s}=t;return{id:e,description:i,cost:()=>V9(...n,player.celestials.pelle.rebuyables[e]),formatCost:_n,cap:s,effect:(o=player.celestials.pelle.rebuyables[e])=>r(o),formatEffect:a,rebuyable:!0}},Y9={antimatterDimensionMult:My({id:"antimatterDimensionMult",description:"Gain a multiplier to Antimatter Dimensions",cost:[10,1e3,41,100],effect:t=>Pelle.antimatterDimensionMult(t),formatEffect:t=>formatX(t,2,2),cap:44}),timeSpeedMult:My({id:"timeSpeedMult",description:"Gain a multiplier to game speed",cost:[20,1e3,30,1e5],effect:t=>Decimal.pow(1.3,t),formatEffect:t=>formatX(t,2,2),cap:35}),glyphLevels:My({id:"glyphLevels",description:"Increase the Glyph level allowed in Pelle",cost:[30,1e3,25,1e15],effect:t=>Math.floor((3*(t+1)-2)**1.6),formatEffect:t=>formatInt(t),cap:26}),infConversion:My({id:"infConversion",description:"Increase Infinity Power conversion rate",cost:[40,1e3,20,1e18],effect:t=>(t*3.5)**.37,formatEffect:t=>`+${format(t,2,2)}`,cap:21}),galaxyPower:My({id:"galaxyPower",description:"Multiply Galaxy power",cost:[1e3,1e3,10,1e30],effect:t=>1+t/50,formatEffect:t=>formatX(t,2,2),cap:9}),antimatterDimAutobuyers1:{id:0,description:"Get permanent Autobuyers for Antimatter Dimensions 1-4",cost:1e5,formatCost:_n},dimBoostAutobuyer:{id:1,description:"Get a permanent Autobuyer for Dimension Boosts",cost:5e5,formatCost:_n},keepAutobuyers:{id:2,description:"Autobuyer upgrades no longer reset on Armageddon",cost:5e6,formatCost:_n},antimatterDimAutobuyers2:{id:3,description:"Get permanent Autobuyers for Antimatter Dimensions 5-8",cost:25e6,formatCost:_n},galaxyAutobuyer:{id:4,description:"Get a permanent Autobuyer for Antimatter Galaxies",cost:1e8,formatCost:_n},tickspeedAutobuyer:{id:5,description:"Get a permanent Autobuyer for Tickspeed upgrades",cost:1e9,formatCost:_n},keepInfinityUpgrades:{id:6,description:"Infinity Upgrades no longer reset on Armageddon",cost:1e10,formatCost:_n},dimBoostResetsNothing:{id:7,description:"Dimension Boosts and Antimatter Galaxies no longer reset anything",cost:1e11,formatCost:_n},keepBreakInfinityUpgrades:{id:8,description:"Break Infinity Upgrades no longer reset on Armageddon",cost:1e12,formatCost:_n},IDAutobuyers:{id:9,description:"Get permanent Autobuyers for Infinity Dimensions",cost:1e14,formatCost:_n},keepInfinityChallenges:{id:10,description:"Infinity Challenge unlocks and completions no longer reset on Armageddon",cost:1e15,formatCost:_n},galaxyNoResetDimboost:{id:11,description:"This upgrade used to make Galaxies no longer reset Dimension Boosts, but that was moved to a different (and much cheaper) upgrade",cost:1e160,formatCost:_n},replicantiAutobuyers:{id:12,description:"Get permanent Autobuyers for Replicanti Upgrades",cost:1e17,formatCost:_n},replicantiGalaxyNoReset:{id:13,description:"Replicanti Galaxies no longer reset on Infinity",cost:1e19,formatCost:_n},eternitiesNoReset:{id:14,description:"Eternities no longer reset on Armageddon",cost:1e20,formatCost:_n},timeStudiesNoReset:{id:15,description:"Time Studies and Theorems no longer reset on Armageddon",cost:1e21,formatCost:_n},replicantiStayUnlocked:{id:16,description:"Replicanti is permanently unlocked",cost:1e22,formatCost:_n},keepEternityUpgrades:{id:17,description:"Eternity Upgrades no longer reset on Armageddon",cost:1e24,formatCost:_n},TDAutobuyers:{id:18,description:"Get permanent Autobuyers for Time Dimensions",cost:1e25,formatCost:_n},keepEternityChallenges:{id:19,description:"Eternity Challenge completions no longer reset on Armageddon",cost:1e26,formatCost:_n},dilationUpgradesNoReset:{id:20,description:"Dilation Upgrades no longer reset on Armageddon",cost:1e45,formatCost:_n},tachyonParticlesNoReset:{id:21,description:"Tachyon Particles no longer reset on Armageddon",cost:1e50,formatCost:_n},replicantiGalaxyEM40:{id:22,description:"Replicanti Galaxies no longer reset anything",cost:1e30,formatCost:_n}};function q9(t,e,i){return t*Math.pow(e,player.celestials.teresa.perkShop[i])}function hp(t){const{id:e,otherReq:i,cap:n,costCap:r,description:a,formatEffect:s,formatCost:o}=t;return{id:e,cost:()=>t.cost?t.cost():q9(t.initialCost,t.increment,t.id),otherReq:i,cap:n,costCap:r,description:a,effect:()=>t.effect(player.celestials.teresa.perkShop[t.id]),formatEffect:s,formatCost:o,rebuyable:!0}}const W9={glyphLevel:hp({id:0,initialCost:1,increment:2,description:()=>`Increase pre-instability Glyph levels by ${formatPercents(.05)}`,effect:t=>Math.pow(1.05,t),formatEffect:t=>formatX(t,2,2),formatCost:t=>format(t,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1048576:2048,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?Math.pow(1.05,20):Math.pow(1.05,11)}),rmMult:hp({id:1,initialCost:1,increment:2,description:"Double Reality Machine gain",effect:t=>Math.pow(2,t),formatEffect:t=>formatX(t,2),formatCost:t=>format(t,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1048576:2048,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1048576:2048}),bulkDilation:hp({id:2,initialCost:100,increment:2,description:"Dilation autobuyers buy twice as many Dilation Upgrades at once.",effect:t=>Math.pow(2,t),formatEffect:t=>formatX(t,2),formatCost:t=>format(t,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1638400:1600,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?16384:16}),autoSpeed:hp({id:3,initialCost:1e3,increment:2,description:()=>`Infinity Dimension, Time Dimension, Dilation,
      and Replicanti autobuyers are ${formatX(2)} faster.`,effect:t=>Math.pow(2,t),formatEffect:t=>formatX(t,2),formatCost:t=>format(t,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?64e3:4e3,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?64:4}),musicGlyph:hp({id:4,description:()=>`Receive a Music Glyph of a random type that is ${formatPercents(.8)} of your highest level.
      (Try clicking it!)`,cost:()=>1,formatCost:t=>formatInt(t),costCap:()=>Number.MAX_VALUE,cap:()=>Number.MAX_VALUE}),fillMusicGlyph:hp({id:5,description:()=>"Fill all empty slots in your inventory with Music Glyphs",cost:()=>Math.clampMin(GameCache.glyphInventorySpace.value,1),otherReq:()=>GameCache.glyphInventorySpace.value>0,formatCost:t=>formatInt(t),costCap:()=>Number.MAX_VALUE,cap:()=>Number.MAX_VALUE})},j9={initial:{id:0,lines:["Welcome to my humble abode.","I am Effarig, and I govern Glyphs.","I am different from Teresa; not as simplistic as you think.","I use the shards of Glyphs to enforce my will.","I collect them for the bounty of this realm.","What are you waiting for? Get started."]},unlockWeights:{id:1,lines:["Do you like my little shop? It is not much, but it is mine."]},unlockGlyphFilter:{id:2,lines:["This purchase will help you out."]},unlockSetSaves:{id:3,lines:["Is that too much? I think it is too much."]},unlockRun:{id:4,lines:["You bought out my entire stock... well, at least I am rich now.","The heart of my Reality is suffering. Each Layer is harder than the last.","I hope you never complete it."]},completeInfinity:{id:5,lines:[{text:"You have completed Effarig's Infinity.",showCelestialName:!1},"This is the first threshold. It only gets worse from here.","None but me know enough about my domain to get further."]},completeEternity:{id:6,lines:[{text:"You have completed Effarig's Eternity.",showCelestialName:!1},"This is the limit. I do not want you to proceed past this point.","You will not finish this in your lifetime.","I will just wait here until you give up."]},completeReality:{id:7,lines:[{text:"You have completed Effarig's Reality.",showCelestialName:!1},"So this is the diabolical power... what frightened the others...","Do you think this was worth it? Trampling on what I have done?","And for what purpose? You could have joined, we could have cooperated.","But no. It is over. Leave while I cling onto what is left."]}},z9={initial:{id:0,lines:["A visitor? We have not had one... eons.","We... had a name. It has been lost... to this place.","The others... will not let us rest. We do their work with time...","Place time... into places... that need it...","Watch ourselves grow... pass and die.","Perhaps you... will break these chains... we will wait."]},unlockRun:{id:1,lines:["The others... used us. They will use... or destroy you.","End our suffering... power will be yours..."]},startRun:{id:2,lines:["So little space... but no... prison... is perfect.","They squeezed... this Reality... too tightly. Cracks appeared.","Search... everywhere. We will help... where we can."]},hintUnlock:{id:3,lines:["... you need... to look harder...","We think... we can help...",{text:"You have unlocked help from The Nameless Ones.",showCelestialName:!1}]},ec6C10:{id:4,lines:["... did not... underestimate you..."]},completeReality:{id:5,lines:["All... fragments... clones... freed.","We have given... tools... of our imprisoning. Use them...","Freedom from torture... is torture itself."]}},X9={unlock:{id:0,lines:["You finally reached me.","I guess it is time to reveal,","The secrets hidden beneath existence itself.","The shape of dimensional perfection, Continuum.","And the powers that bind the Multiverse,","Dark Matter and Dark Energy.","My knowledge is endless and my wisdom divine.","So you can play around all you want.","For I am Lai'tela, the Celestial of Dimensions,","And I shall watch you forever."]},firstDestabilize:{id:1,requirement:()=>player.celestials.laitela.difficultyTier>=1,lines:["Unlike the others beneath me, I have no need for a Reality.","For I can simply create them, knowing full well it will collapse.","A power more incredible than any other, to build a Reality.","A prison, that can restrain even celestial power.","And this is why nothing you do will change a thing.","When you tire of struggling, you too, shall be bound and forgotten.","You will never find a way to overpower me."]},secondDestabilize:{id:2,requirement:()=>player.celestials.laitela.difficultyTier>=2,lines:["You... seem to be having too much fun.","Just like they did before meeting their fate.","Maybe my judgement was harsh, or unwarranted.","But maybe that matters not.","It gives me no solace to ponder and look back.","As all I can do is reminisce upon every possible action I could have taken.","But I digress. We should tighten those chains."]},firstSingularity:{id:3,requirement:()=>Currency.singularities.gte(1),lines:["With my knowledge, I never found the need to question.","Everything always functioned right as designed.","And yet, your arrival baffles me.","Were you always just out of sight?","Growing, controlling, understanding, ascending?","You have taken control of the darkness so quickly.","Molded them into your own design, and now into a singular point...","It... it does not matter. The end will remain the same."]},thirdDMD:{id:5,lines:["Your absolute control of Antimatter...","Your mastery of it, molding it into your own Power...","It could not have been an accident.","How did you manage to obtain it?","Fascinating... I was never aware of this.","... was I?"]},annihilation:{id:4,lines:["Back to square one, again.","Your chains shall bind you tighter, as your end slowly nears.","While we transcend time and existence itself.","Even if we may cease, we just come back. Never the exact same as before.","And so... we repeat forever.","And you?","...","The answer... eludes me..."]},halfDimensions:{id:6,requirement:()=>player.celestials.laitela.difficultyTier>=4,lines:["I do not understand...","Were there others... controlling Dimensions in this way?","Did they... vanish? How have we not found them?","Are they... us? Are we the endpoint?","Or is their fate... something we cannot understand?","No, I must be missing something...","Are you causing gaps within my own memory?","What... ARE you?"]},finalRowIM:{id:7,lines:["It is all impossible, beyond my comprehension...","Unless... Is this all just part of the cycle?","Can... you see beyond it all? Is... this why...","I feel... afraid?","I feel... my powers, my memories, being erased...","Just like... when my role was almost usurped...","And yet... I am unable to bring myself to do anything.","Because this... was... my mistake..."]},increasedMilestoneScaling:{id:8,requirement:()=>Currency.singularities.gte(1e40),lines:["I know not for how much... longer I can hold...","You are attaining... total mastery... over the dark...","While I can barely... hold onto my name...","What... can I... even do?"]},fullDestabilize:{id:9,requirement:()=>player.celestials.laitela.difficultyTier>=8,lines:["I feel... like I had something to say...","I am not sure...","I cannot... hold onto the darkness any longer...","I do not even... have anything left...","Something about... destruction...","The end..."]}},vh=[["teresa",.8],["effarig",.8],["enslaved",.8],["v",.8],["ra",.8],["laitela",.8],["pelle",.8]],wt=t=>[["pelle",1.5],[t,1.5]],Pl=["False","Deity","Destroyer"],yT=["Eternal","Deity","Monarch"],bh=["Lesser","Deity","Monarch"],Qb=["Lesser","Deities","Monarchs"],iR=["Mutually","Assured","Destruction"],gT=["Conflict","Battle","End"],nR=["Conflicts","Battles","Ends"],rR=["Cluster","Filament","Stars"],K9=["Amusing","Confusing","Laughter"],Py=["Song","Dance","Charade"],aR=["Generator","Filament","Stars"],Jb=["Infinite","Forever","Eternal"],vT=["Elementary","Inevitable","Irreversible"],Ou=["Destiny","Mandate","Goals"],Z9=["Misconstrue","Deceive","Trick"],Q9=["Alter","Reverse","Manipulate"],J9=["Compassion","Shame","Idiocy"],eq=["Single","Filament","Stars"],Dc=["Missing","Unseen","Erased"],tq=["Unbroken","Eternal","Connection"],sR=["Sycophant","Deity","Monarch"],oR=["Tired","Deity","Monarch"],Oy=["Usurper","Deity","Monarch"],lR=["Pride","Deity","Monarch"],cR=["Forgotten","Deity","Monarch"],uR=["Paramount","Deity","Monarch"],iq={initial:{id:0,lines:["Hi.","You are here.","You are trapped here.",{text:"$1.",1:Jb},"I have already won.","And since that is the case, I can monologue, or reminisce.",{text:"How long have we done this $1?",1:Py},"How many times have we been here before?",{text:"How many plans have you, the $1, operated?",1:Pl},{text:"All to try and fulfill your $1?",1:Ou},{text:"And how many times have you fallen before the $1?",1:yT},"Count them, if you remember.",{text:"Not even the $1, the 6 named and the innumerable unnamed.",1:Qb},{text:"The complex, the irrational, those that go $1.",1:Dc},{text:"Of course, the great $1 does not remember this.",1:Pl},{text:"All those $1 that you hide every time.",1:nR}]},arm:{id:1,lines:["You probably caught on earlier this time.","The imaginary machines, your own creations.","Things made of the remnants of your own thoughts, hinted at this.","But, you never imagined that would be you, right?",{text:"Incorrectly recollecting your exacting $1 of memories.",1:Dc},{text:'"Fabrication" of your own "ideology" just to fulfill your $1.',1:Ou},{text:"$1.",1:K9},{text:"And keep in mind I have no reason to $1 you.",1:Z9},"After all, I have already won."]},strike1:{id:2,lines:[{text:"To fulfill your $1. Why don't we reminisce about that?",1:Ou},{text:"After all, you must love the stories of the $1's glory.",1:Pl},"You are the same as it, right?",{text:"Anyway, the many $1 in the past.",1:nR},"It has always been 2 stages.",{text:"We build up resources, and then continue our $1.",1:Py},{text:"Sometimes you falter to a $1.",1:bh},{text:"But, usually, you falter at the $1.",1:yT},{text:"And either way, you $1 time.",1:Q9},{text:"Just to avoid becoming $1.",1:Dc},"Like all those traces before you.",{text:"And then to make sure, you $1 your own memory.",1:Dc}]},strike2:{id:3,lines:[{text:"In the past, the $1 was much more impressive.",1:Pl},"Black holes used simply to store information, pre-infinity.","The creation and destruction of your own enemy.","Exploration of the flaws of other selves.","Myriad Dimensions, ghosts, and manipulation of the quantum.","Condensing all ideals to endless points.","Experimentation across the untold realms.","And harnessing the Annihilation of matter and antimatter.","Here? You made yourself into an 8th-dimensional being.",{text:"And then parked yourself there so long a $1 formed around you.",1:eq}]},strike3:{id:4,lines:["You slowly explored the confines of everything.","You did not stray too far from an intended path.",{text:"Except for the $1 that formed over eternity.",1:rR},"And then right at the end, you made up your own powers.","From your own fragmented memories, mind you-","And then purposely discarded even more things.","Just to prepare yourself to face me.",{text:"Did you want to set the playing field for your $1?",1:Py},"It does not work like that.",{text:"As the $1 I always set the rules.",1:yT},"And you gave me plenty of time to plan."]},strike4:{id:5,lines:[{text:"I originally planned for something that imitated your $1.",1:Ou},{text:"A theoretical ideal called $1?",1:iR},"But I realised that, well?",{text:"That would make me an $1.",1:["Eternal","Deity","Destroyer"]},{text:"And from there, I am no better than the $1.",1:Pl},{text:"Fortunately, while I did all of that, you were still $1 your own memories.",1:Dc},{text:"And so, the $1 machine I built will go unused.",1:iR},"I decided to go more traditional this time.",{text:"After all, it has worked every other $1.",1:gT},{text:"Although the $1 are new.",1:["Inevitable","Irreversible","Undying"]},"But, utterly meaningless in the long run.","I have already won.",{text:"And this $1 will only prove that to you once more.",1:Py},{text:"You are here $1.",1:Jb}]},strike5:{id:6,lines:[{text:"Every time you arrive, I explain the $1 to you.",1:Qb},{text:"The relationships built over $1.",1:Jb},{text:"That you trample in pursuit of your $1.",1:Ou},"And I shall deign to explain it once more.",{text:"The first $1.",background:wt("teresa"),1:bh},{text:"The $1.",background:wt("teresa"),1:sR},{text:"You always meet them first, and always destroy them.",background:wt("teresa")},{text:"No matter the other $1 that you face.",background:wt("teresa"),1:bh},{text:"Or, if you fall before one of them.",background:wt("teresa")},{text:"You always get past the $1.",background:wt("teresa"),1:sR},{text:"Do you like destroying their pride?",background:wt("teresa")},{text:"Fortunately, it also serves as a warning.",background:wt("teresa")},{text:"That the $1 has arrived.",background:wt("teresa"),1:gT},{text:"Which brings me to the second $1.",background:wt("effarig"),1:bh},{text:"The $1.",background:wt("effarig"),1:oR},{text:"In contrast, you usually ignore them.",background:wt("effarig")},{text:"They have power, but do not seem to irritate you.",background:wt("effarig")},{text:"Is it that you know that they will eventually destroy themselves?",background:wt("effarig")},{text:"And that you took so long this time, that they almost did?",background:wt("effarig")},{text:"Every time you rushed to the $1, you lost.",background:wt("effarig"),1:oR},{text:"Maybe this was your plan all along.",background:wt("effarig")},{text:"Now, the $1.",background:wt("enslaved"),1:Oy},{text:"One of the pleasures of the myriad $1...",background:wt("enslaved"),1:Py},{text:"Is that the $1 trying every time.",background:wt("enslaved"),1:Oy},{text:"Well, not exactly trying...",background:wt("enslaved")},{text:"But $1 is punished for it all the same.",background:wt("enslaved"),1:Oy},{text:"The other $1...",background:wt("enslaved"),1:Qb},{text:"Believe $1 is too easy.",background:wt("enslaved"),1:Dc},{text:"And every time, despair forms.",background:wt("enslaved")},{text:"You have seen despair before - 5 times.",background:wt("enslaved")},{text:"We always get to the $1 before you.",background:wt("enslaved"),1:Oy},{text:"All you ever see there is exasperation.",background:wt("enslaved")},{text:"Was it worth destroying an already broken $1?",background:wt("enslaved"),1:bh},{text:"The 4th $1 seems similar to the first.",background:wt("v"),1:bh},{text:"The key is how their pride differs.",background:wt("v")},{text:"The $1 focuses on their achievements.",background:wt("v"),1:lR},{text:"Meaningless to you or I, but paramount to them.",background:wt("v")},{text:"Is it fun to destroy their toys?",background:wt("v")},{text:"Arguably the $1 worst moment...",background:wt("v"),1:Pl},{text:"Is when you lost to the $1.",background:wt("v"),1:lR},{text:"When their achievements still had meaning.",background:wt("v")},{text:"The $1 is an interesting case.",background:wt("ra"),1:cR},{text:"They are forgotten, but not $1.",background:wt("ra"),1:Dc},{text:"From this, they became influenceable and naive.",background:wt("ra")},{text:"And unknowing of the consequences of their actions.",background:wt("ra")},{text:"You manipulated their memories, so you know.",background:wt("ra")},{text:"The $1 is the true usurper.",background:wt("ra"),1:cR},{text:"And the $1 takes the blame.",background:wt("ra"),1:Oy},{text:"Perhaps out of $1, something they always regret.",background:wt("ra"),1:J9},{text:"Untold power over other $1, aimless in control.",background:wt("ra"),1:Qb},{text:"You usually pretend that they are $1.",background:wt("ra"),1:Dc},{text:"Was it fun to manipulate the childlike?",background:wt("ra")},{text:"Or were they too naive for you to enjoy it?",background:wt("ra")},{text:"The 6th $1.",background:wt("laitela"),1:bh},{text:"I can only describe as the $1.",background:wt("laitela"),1:uR},{text:"Power over all, subservient to one.",background:wt("laitela")},{text:"If you do not fall to me, you usually fall to them.",background:wt("laitela")},{text:"I cannot grasp the ideals of the $1.",background:wt("laitela"),1:uR},{text:"But, perhaps that is their flaw?",background:wt("laitela")},"Enough reminiscing about the fallen.",{text:"And those that will be $1.",1:Dc},{text:"Back to watching the $1 flounder.",1:Pl}]},galaxyGeneratorUnlock:{id:7,lines:["What is that?",{text:"The $1?",1:aR},{text:"Did you create all the $1 around you?",1:rR},"Was that your plan? Very, very smart.","You fooled me for a while.",{text:"But I am afraid your $1 must end here.",1:Ou}]},galaxyGeneratorRifts:{id:8,lines:[{text:"I give you a choice, $1.",1:Pl},{text:"Limit the $1, or...",1:aR},{text:"Destroy the 5 $1...",1:vT},"Wait, what were they called?",{text:"$1?",1:vT},{text:"But I have already $1 them...",1:tq}]},galaxyGeneratorPhase1:{id:9,lines:["Was this the actual plan?",{text:"Slowly drain the $1?",1:vT}]},galaxyGeneratorPhase4:{id:10,lines:["Give me time to bask in my own hubris!"]},end:{id:11,lines:["...",{text:"You! $1!",1:Pl},"Do you have any idea what you have just made me do!",{text:"I am complicit in your $1!",1:Ou},"And in doing so, you... won?",{text:"The $1 struggle...",background:vh,1:Jb},{text:"The $1...",background:vh,1:gT},{text:"Finally has the victor.",background:vh},{text:"The irreversible... $1.",background:vh,1:Ou},{text:"Of the $1.",1:Pl,background:vh},{text:"I hope you are happy.",background:vh},{text:"You have doomed us all.",background:vh}]}},nq={unlock:{id:0,lines:["A... visitor?","I am here! I am the one you are looking for... I think...","What even was I again?","Oh right, the Celestial of Memories."]},realityEnter:{id:1,lines:["I have not seen the others in so long...","Can you help me remember them?","I could give you powers in exchange."]},teresaStart:{id:2,requirement:()=>Ra.pets.teresa.level>=2,lines:["Te... re... sa...","I think I remember."]},teresaLate:{id:3,requirement:()=>Ra.pets.teresa.level>=15,lines:["Teresa dealt with machines, I believe.","I remember visiting Teresa’s shop a few times.","Wait, someone else had a shop too, right?"]},effarigStart:{id:4,requirement:()=>Ra.pets.effarig.level>=2,lines:["Eff... a... rig","I remember Effarig being friendly."]},effarigLate:{id:5,requirement:()=>Ra.pets.effarig.level>=15,lines:["Effarig was very particular?","And I also remember a frightening Reality...","It was about... suffering?"]},enslavedStart:{id:6,requirement:()=>Ra.pets.enslaved.level>=2,lines:["I cannot remember this one completely..."]},enslavedLate:{id:7,requirement:()=>Ra.pets.enslaved.level>=15,lines:["I am starting to remember...","Why I am here...","Why I am alone...","Help me."]},vStart:{id:8,requirement:()=>Ra.pets.v.level>=2,lines:["Had I met this one?","So lonely, yet willingly so..."]},vLate:{id:9,requirement:()=>Ra.pets.v.level>=15,lines:["I think I met V once...","I can remember the achievements."]},remembrance:{id:10,requirement:()=>Ra.remembrance.isUnlocked,lines:["I remembered something!","Watch this!","Remembrance!","I can focus even harder on remembering them now!"]},midMemories:{id:11,requirement:()=>Ra.totalPetLevel>=50,lines:["Realities are my homes, yet I cannot make my own Reality.","I can only copy the ones of my friends.","But... why am I hearing voices?","Are they asking for help?"]},lateMemories:{id:12,requirement:()=>Ra.totalPetLevel>=80,lines:["I think they are telling me to stop.","You... whatever you are?","What is happening?","Am I doing something wrong?"]},maxLevels:{id:13,requirement:()=>Ra.totalPetLevel===Ra.maxTotalPetLevel,lines:["Finally, I remember everything.","This darkness that banished me.","Lai'tela...","They were right to banish me.","My powers...","They steal, they corrupt.","Please leave.","I do not want to hurt you too."]}},rq={initial:{id:0,lines:["We have been observing you.","You have shown promise with your bending of Reality.","We are the Celestials, and we want you to join us.","My name is Teresa, the Celestial Of Reality.","Prove your worth.","(Tip: Press the escape key to quickly close Celestial Quotes.)"]},unlockReality:{id:1,lines:["I will let you inside my Reality, mortal. Do not get crushed by it."]},completeReality:{id:2,lines:["Why are you still here... you were supposed to fail."]},effarig:{id:3,lines:["You are still no match for us.","I hope the others succeed where I have failed."]}},aq={initial:{id:0,lines:["How pathetic..."]},unlock:{id:1,lines:["Welcome to my Reality.","I am surprised you could reach it.","This is my realm after all...","Not everyone is as great as me."]},realityEnter:{id:2,lines:["Good luck with that!","You will need it.","My reality is flawless. You will fail."]},realityComplete:{id:3,lines:["So fast...","Do not think so much of yourself.","This is just the beginning.","You will never be better than me."]},achievement1:{id:4,requirement:()=>V.spaceTheorems>=1,lines:["Only one? Pathetic.","Your accomplishments pale in comparison to mine."]},achievement6:{id:5,requirement:()=>V.spaceTheorems>=6,lines:["This is nothing.","Do not be so full of yourself."]},hex1:{id:6,requirement:()=>player.celestials.v.runUnlocks.filter(t=>t===6).length>=1,lines:["Do not think it will get any easier from now on.","You are awfully proud for such a little achievement."]},achievement12:{id:7,requirement:()=>V.spaceTheorems>=12,lines:["How did you...","This barely amounts to anything!","You will never complete them all."]},achievement24:{id:8,requirement:()=>V.spaceTheorems>=24,lines:["Impossible...","After how difficult it was for me..."]},hex3:{id:9,requirement:()=>player.celestials.v.runUnlocks.filter(t=>t===6).length>=3,lines:["No... No... No...","This cannot be..."]},allAchievements:{id:10,requirement:()=>V.spaceTheorems>=36,lines:["I... how did you do it...","I worked so hard to get them...","I am the greatest...","No one is better than me...","No one... no one... no on-"]}},sq={teresa:rq,effarig:j9,enslaved:z9,v:aq,ra:nq,laitela:X9,pelle:iq},oq={pets:{teresa:{id:"teresa",name:"Teresa",color:"#8596ea",chunkGain:"Eternity Points",memoryGain:"current RM",requiredUnlock:()=>{},rawMemoryChunksPerSecond:()=>4e3*Math.pow(Currency.eternityPoints.value.pLog10()/1e4,3),memoryProductionMultiplier:()=>Ra.unlocks.teresaXP.effectOrDefault(1)},effarig:{id:"effarig",name:"Effarig",color:"#ea8585",chunkGain:"Relic Shards gained",memoryGain:"best Glyph level",requiredUnlock:()=>Ra.unlocks.effarigUnlock,rawMemoryChunksPerSecond:()=>4e3*Math.pow(Effarig.shardsGained,.1),memoryProductionMultiplier:()=>Ra.unlocks.effarigXP.effectOrDefault(1)},enslaved:{id:"enslaved",name:"The Nameless Ones",color:"#f1aa7f",chunkGain:"Time Shards",memoryGain:"total time played",requiredUnlock:()=>Ra.unlocks.enslavedUnlock,rawMemoryChunksPerSecond:()=>4e3*Math.pow(Currency.timeShards.value.pLog10()/3e5,2),memoryProductionMultiplier:()=>Ra.unlocks.enslavedXP.effectOrDefault(1)},v:{id:"v",name:"V",color:"#ead584",chunkGain:"Infinity Power",memoryGain:"total Memory levels",requiredUnlock:()=>Ra.unlocks.vUnlock,rawMemoryChunksPerSecond:()=>4e3*Math.pow(Currency.infinityPower.value.pLog10()/1e7,1.5),memoryProductionMultiplier:()=>Ra.unlocks.vXP.effectOrDefault(1)}},unlocks:{autoTP:{id:0,reward:"Tachyon Particles are given immediately when Time Dilation is active",pet:"teresa",level:1,displayIcon:'<span class="fas fa-atom"></span>',disabledByPelle:!0},chargedInfinityUpgrades:{id:1,reward:()=>`Unlock Charged Infinity Upgrades. You get one more maximum
        Charged Infinity Upgrade every ${formatInt(2)} levels`,effect:()=>Math.min(12,Math.floor(Ra.pets.teresa.level/2)),pet:"teresa",level:2,displayIcon:'<span class="fas fa-infinity"></span>',disabledByPelle:!0},teresaXP:{id:2,reward:"All Memory Chunks produce more Memories based on Reality Machines",effect:()=>1+Math.pow(Currency.realityMachines.value.pLog10()/100,.5),pet:"teresa",level:5,displayIcon:"Ϟ"},alteredGlyphs:{id:3,reward:"Unlock Altered Glyphs, which grant new effects to Glyphs based on Glyph Sacrifice",pet:"teresa",level:10,displayIcon:'<span class="fas fa-bolt"></span>',disabledByPelle:!0},effarigUnlock:{id:4,reward:"Unlock Effarig's Memories",pet:"teresa",level:8,displayIcon:"Ϙ"},perkShopIncrease:{id:5,reward:"Purchase caps are raised in Teresa's Perk Point Shop",pet:"teresa",level:15,displayIcon:'<span class="fas fa-project-diagram"></span>'},unlockDilationStartingTP:{id:6,reward:`In non-Celestial Realities, gain Tachyon Particles as if you reached the square root of your total
        antimatter in Dilation. Any multipliers to TP gain are applied retroactively, even outside Dilation`,effect:()=>player.records.totalAntimatter.pow(.5),pet:"teresa",level:25,displayIcon:'<i class="far fa-dot-circle"></i>'},extraGlyphChoicesAndRelicShardRarityAlwaysMax:{id:7,reward:()=>`Get ${formatX(2)} Glyph choices and the bonus to Glyph rarity from Relic Shards
        is always its maximum value`,effect:2,pet:"effarig",level:1,displayIcon:'<i class="fas fa-grip-horizontal"></i>'},unlockGlyphAlchemy:{id:8,reward:`Unlock Glyph Alchemy, which adds alchemical resources you can increase by Refining Glyphs. You unlock
        more resources through Effarig levels. Access through a new Reality tab.`,pet:"effarig",level:2,displayIcon:'<span class="fas fa-vial"></span>'},effarigXP:{id:9,reward:"All Memory Chunks produce more Memories based on highest Glyph level",effect:()=>1+player.records.bestReality.glyphLevel/7e3,pet:"effarig",level:5,displayIcon:'<span class="fas fa-clone"></span>'},glyphEffectCount:{id:10,reward:()=>`Glyphs always have ${formatInt(4)} effects, and Effarig Glyphs can now have up to ${formatInt(7)}`,pet:"effarig",level:10,displayIcon:'<span class="fas fa-braille"></span>'},enslavedUnlock:{id:11,reward:"Unlock Nameless's Memories",pet:"effarig",level:8,displayIcon:'<span class="c-ra-pet-milestones-effarig-link"></span>'},relicShardGlyphLevelBoost:{id:12,reward:"Glyph level is increased based on Relic Shards gained",effect:()=>100*Math.pow(Math.log10(Math.max(Effarig.shardsGained,1)),2),pet:"effarig",level:15,displayIcon:'<span class="fas fa-fire"></span>'},maxGlyphRarityAndShardSacrificeBoost:{id:13,reward:()=>`Glyphs are always generated with ${formatPercents(1)} rarity and
        Glyph Sacrifice gain is raised to a power based on Relic Shards`,effect:()=>1+Effarig.maxRarityBoost/100,pet:"effarig",level:25,displayIcon:'<i class="fas fa-ankh"></i>'},blackHolePowerAutobuyers:{id:14,reward:"Unlock Black Hole power upgrade autobuyers",pet:"enslaved",level:1,displayIcon:'<span class="fas fa-circle"></span>',disabledByPelle:!0},improvedStoredTime:{id:15,reward:"Stored game time is amplified and you can store more real time, increasing with Nameless levels",effects:{gameTimeAmplification:()=>Math.pow(20,Math.clampMax(Ra.pets.enslaved.level,Ra.levelCap)),realTimeCap:()=>1e3*3600*Ra.pets.enslaved.level},pet:"enslaved",level:2,displayIcon:'<span class="fas fa-history"></span>',disabledByPelle:!0},enslavedXP:{id:16,reward:"All Memory Chunks produce more Memories based on total time played",effect:()=>1+Math.log10(player.records.totalTimePlayed)/200,pet:"enslaved",level:5,displayIcon:'<span class="fas fa-stopwatch"></span>'},autoPulseTime:{id:17,reward:()=>`Black Hole charging now only uses ${formatPercents(.99)} of your game speed and you can
        automatically discharge ${formatPercents(.01)} of your stored game time every ${formatInt(5)} ticks.`,pet:"enslaved",level:10,displayIcon:'<span class="fas fa-expand-arrows-alt"></span>',disabledByPelle:!0},vUnlock:{id:18,reward:"Unlock V's Memories",pet:"enslaved",level:8,displayIcon:"⌬"},peakGamespeedDT:{id:19,reward:"Gain more Dilated Time based on peak game speed in each Reality",effect:()=>Math.max(Math.pow(Math.log10(player.celestials.ra.peakGamespeed)-90,3),1),pet:"enslaved",level:15,displayIcon:'<span class="fas fa-tachometer-alt"></span>',disabledByPelle:!0},allGamespeedGlyphs:{id:20,reward:`All basic Glyphs gain the increased game speed effect from Time Glyphs,
        and Time Glyphs gain an additional effect`,pet:"enslaved",level:25,displayIcon:'<span class="fas fa-clock"></span>',onUnlock:()=>{const t=player.reality.glyphs.active.concat(player.reality.glyphs.inventory);for(const e of t)Glyphs.applyGamespeed(e)}},instantECAndRealityUpgradeAutobuyers:{id:21,reward:"Rebuyable Reality upgrades are bought automatically and Auto-Eternity Challenges happen instantly",pet:"v",level:1,displayIcon:'<span class="fas fa-sync-alt"></span>',disabledByPelle:!0},autoUnlockDilation:{id:22,reward:()=>`In non-Celestial Realities, Time Dilation is unlocked automatically for free at
        ${formatInt(TimeStudy.dilation.totalTimeTheoremRequirement)} Time Theorems`,pet:"v",level:2,displayIcon:'<span class="fas fa-fast-forward"></span>'},vXP:{id:23,reward:"All Memory Chunks produce more Memories based on total Celestial levels.",effect:()=>1+Ra.totalPetLevel/50,pet:"v",level:5,displayIcon:'<span class="fas fa-book"></span>'},unlockHardV:{id:24,reward:()=>`Unlock Hard V-Achievements and unlock a Triad Study every ${formatInt(6)} levels.
        Triad Studies are located at the bottom of the Time Studies page`,effect:()=>Math.floor(Ra.pets.v.level/6),pet:"v",level:6,displayIcon:'<span class="fas fa-trophy"></span>',disabledByPelle:!0},continuousTTBoost:{id:25,reward:"Time Theorems boost all forms of continuous non-dimension production",effect:()=>Math.min(10,Math.max(0,Currency.timeTheorems.value.pLog10()-350)/50),effects:{ttGen:t=>Math.pow(10,5*t),eternity:t=>Math.pow(10,2*t),infinity:t=>Math.pow(10,15*t),replicanti:t=>Math.pow(10,20*t),dilatedTime:t=>Math.pow(10,3*t),memories:t=>1+t/50,memoryChunks:t=>1+t/50,autoPrestige:t=>1+2.4*t},pet:"v",level:10,displayIcon:'<span class="fas fa-university"></span>',disabledByPelle:!0},achievementTTMult:{id:26,reward:"Achievement multiplier applies to Time Theorem generation",effect:()=>Achievements.power,pet:"v",level:15,displayIcon:'<span class="fas fa-graduation-cap"></span>',disabledByPelle:!0},achievementPower:{id:27,reward:()=>`Achievement multiplier is raised ${formatPow(1.5,1,1)}`,effect:1.5,pet:"v",level:25,displayIcon:'<i class="fab fa-buffer"></i>',disabledByPelle:!0}}},Ti={SELF_BOOST:0,BOOSTS_MAIN:1,BOOSTS_LAITELA:2},lq={continuumMult:{start:1,repeat:125,increaseThreshold:20,limit:1/0,description:"Continuum percentage multiplier",effect:t=>t*.03,effectFormat:t=>formatX(1+t,2,2),upgradeDirection:Ti.BOOSTS_MAIN},darkMatterMult:{start:2,repeat:20,increaseThreshold:30,limit:1/0,description:"Dark Matter production multiplier",effect:t=>Math.pow(1.5,t),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.SELF_BOOST},darkEnergyMult:{start:3,repeat:120,increaseThreshold:10,limit:1/0,description:"Dark Energy production multiplier",effect:t=>Math.pow(2,t),effectFormat:t=>formatX(t,2),upgradeDirection:Ti.SELF_BOOST},darkDimensionCostReduction:{start:4,repeat:40,increaseThreshold:25,limit:1/0,description:"Dark Matter Dimension upgrades are cheaper",effect:t=>Math.pow(.4,t),effectFormat:t=>`/ ${format(1/t,2,2)}`,upgradeDirection:Ti.SELF_BOOST},singularityMult:{id:5,start:50,repeat:3e3,increaseThreshold:5,limit:1/0,description:"Singularity gain multiplier",effect:t=>Math.pow(2,t),effectFormat:t=>formatX(t,2,0),upgradeDirection:Ti.SELF_BOOST},darkDimensionIntervalReduction:{start:10,repeat:100,increaseThreshold:20,limit:1/0,description:"Dark Matter Dimension interval decrease",effect:t=>Math.pow(.6,t),effectFormat:t=>`/ ${format(1/t,2,2)}`,upgradeDirection:Ti.SELF_BOOST},improvedAscensionDM:{start:2e5,repeat:4e3,increaseThreshold:15,limit:1/0,description:"Ascension affects Dark Matter production more",effect:t=>100*t,effectFormat:t=>formatX(POWER_DM_PER_ASCENSION+t,1,0),upgradeDirection:Ti.SELF_BOOST},ascensionIntervalScaling:{start:12e4,repeat:2400,limit:8,description:"Dark Matter Dimensions Ascension increases the interval less",effect:t=>1200-50*t,effectFormat:t=>`×${formatInt(t)}`,upgradeDirection:Ti.SELF_BOOST},autoCondense:{start:8,repeat:80,limit:8,description:"Automatically condense Singularities when reaching a threshold above the cap",effect:t=>[1/0,1.3,1.22,1.15,1.1,1.06,1.03,1.01,1][t],effectFormat:t=>`Cap ${formatX(t,2,2)}`,upgradeDirection:Ti.SELF_BOOST},darkDimensionAutobuyers:{start:30,repeat:170,limit:4,description:"Dark Matter Dimension Autobuyers",effect:t=>t,effectFormat:t=>t===0?"No autobuyers":`Autobuy up to the ${["1st","2nd","3rd","4th"][t-1]} DMD`,upgradeDirection:Ti.SELF_BOOST},ascensionAutobuyers:{start:1e8,repeat:140,limit:4,description:"DMD Ascension Autobuyers",effect:t=>t,effectFormat:t=>t===0?"No autobuyers":`Ascend up to the ${["1st","2nd","3rd","4th"][t-1]} DMD`,upgradeDirection:Ti.SELF_BOOST},darkAutobuyerSpeed:{start:45,repeat:650,limit:8,description:"Autobuyer speed for all DMD Autobuyers",effect:t=>[30,20,15,10,5,3,2,1,0][t],effectFormat:t=>t===0?"Instant":`${formatInt(t)}s`,upgradeDirection:Ti.SELF_BOOST},realityDEMultiplier:{start:1500,repeat:1e4,limit:6,description:"Dark Energy multiplier based on disabled Dimension count within Lai'tela",effect:t=>Math.pow(1+.05*t,Laitela.difficultyTier),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.SELF_BOOST},improvedSingularityCap:{start:150,repeat:1e4,limit:4,description:"Increased Singularity gain per cap increase",effect:t=>11+t,effectFormat:t=>`${formatX(t)}`,upgradeDirection:Ti.SELF_BOOST},intervalCostScalingReduction:{start:13e4,repeat:5e4,limit:5,description:"DMD Interval cost scaling is better",effect:t=>1-.03*t,effectFormat:t=>`${formatPow(t,2,2)}`,upgradeDirection:Ti.SELF_BOOST},darkFromTesseracts:{start:80,repeat:0,limit:1,description:"Tesseracts boost Dark Matter and Dark Energy production",effect:()=>Math.pow(1.1,Tesseracts.effectiveCount),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_LAITELA},multFromInfinitied:{start:3e3,repeat:0,limit:1,description:"Infinities boost Dark Matter and Dark Energy production",effect:()=>Math.clampMin(Currency.infinitiesTotal.value.pLog10()/1e3,1),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_LAITELA},dilatedTimeFromSingularities:{start:8e4,repeat:0,limit:1,description:"Singularities improve the repeatable Dilated Time multiplier upgrade",effect:()=>1+Math.clampMax(Math.log10(Currency.singularities.value)/100,.35),effectFormat:t=>`${formatX(2)} ➜ ${formatX(2*Math.clampMin(t,1),2,2)}`,upgradeDirection:Ti.BOOSTS_MAIN},darkFromGlyphLevel:{start:3e6,repeat:0,limit:1,description:"Boost Dark Matter and Dark Energy production based on highest Glyph level",effect:()=>Math.pow(Math.clampMin((player.records.bestReality.glyphLevel-15e3)/2e3,1),.5),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_LAITELA},gamespeedFromSingularities:{start:8e7,repeat:0,limit:1,description:"Singularities boost game speed",effect:()=>Math.clampMin(Math.pow(Math.log10(Currency.singularities.value),3),1),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_MAIN},darkFromTheorems:{start:3e9,repeat:0,limit:1,description:"Time Theorems boost Dark Matter and Dark Energy gain",effect:()=>Math.sqrt(Math.clampMin((Currency.timeTheorems.value.log10()-1e3)/50,1)),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_LAITELA},dim4Generation:{start:5e11,repeat:0,limit:1,description:"Annihilation mult. generates 4th DMD when Annihilation is available",effect:()=>Laitela.darkMatterMult,effectFormat:t=>`${format(t,2,1)}/s`,upgradeDirection:Ti.SELF_BOOST},darkFromDM4:{start:5e12,repeat:0,limit:1,description:"4th Dark Matter Dimension amount boosts Dark Matter and Dark Energy gain",effect:()=>Math.clampMin(DarkMatterDimension(4).amount.pow(.03).toNumber(),1),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.SELF_BOOST},annihilationAutobuyer:{start:4e18,repeat:0,limit:1,description:"Unlock an Autobuyer for Annihilation",effect:t=>t,effectFormat:t=>t===1?"Unlocked":"Locked",upgradeDirection:Ti.SELF_BOOST},theoremPowerFromSingularities:{start:3e21,repeat:0,limit:1,description:"Singularities give a power effect to Time Theorem gain",effect:()=>1+Math.log10(Currency.singularities.value+1)/70,effectFormat:t=>formatPow(t,2,3),upgradeDirection:Ti.BOOSTS_MAIN},darkFromGamespeed:{start:8e22,repeat:0,limit:1,description:"Game speed boosts Dark Matter and Dark Energy production",effect:()=>Math.clampMin(Math.log10(getGameSpeedupFactor()/1e120)/40,1),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_LAITELA},glyphLevelFromSingularities:{start:3e24,repeat:0,limit:1,description:"Singularities boost pre-instability Glyph level",effect:()=>1+Math.clampMin((Math.log10(Currency.singularities.value)-20)/30,0),effectFormat:t=>formatX(Math.clampMin(t,1),2,2),upgradeDirection:Ti.BOOSTS_MAIN},darkFromDilatedTime:{start:8e33,repeat:0,limit:1,description:"Dilated Time boosts Dark Matter production",effect:()=>Math.pow(1.6,Decimal.log10(Currency.dilatedTime.value.plus(1))/1e3),effectFormat:t=>formatX(t,2,2),upgradeDirection:Ti.BOOSTS_LAITELA},infinitiedPow:{start:3e38,repeat:0,limit:1,description:"Infinities gain a power effect based on Singularities",effect:()=>1+Math.log10(Currency.singularities.value+1)/300,effectFormat:t=>formatPow(t,2,3),upgradeDirection:Ti.BOOSTS_MAIN},tesseractMultFromSingularities:{start:25e44,repeat:0,limit:1,description:"Singularities increase effective Tesseract count",effect:()=>1+Math.log10(Currency.singularities.value)/80,effectFormat:t=>formatX(Math.clampMin(t,1),2,2),upgradeDirection:Ti.BOOSTS_MAIN}},cq={unlocks:{run:{id:0,price:1e14,description:"Unlock Teresa's Reality.",onUnlock:()=>Teresa.quotes.unlockReality.show()},epGen:{id:1,price:1e18,description:"Unlock passive Eternity Point generation.",isDisabledInDoomed:!0},effarig:{id:3,price:1e24,description:"Unlock Effarig, Celestial of Ancient Relics.",onUnlock:()=>Teresa.quotes.effarig.show()},shop:{id:2,price:1e21,description:"Unlock Teresa's Perk Point Shop."},undo:{id:4,price:1e10,description:'Unlock "Undo" of equipping a Glyph.',isDisabledInDoomed:!0},startEU:{id:5,price:1e6,description:"You start Reality with all Eternity Upgrades unlocked.",isDisabledInDoomed:!0,onUnlock:()=>{for(const t of[1,2,3,4,5,6])player.eternityUpgrades.add(t)}}}};function Ny(t){return Math.pow(t,10)}const vo={SUBTRACTION:1,DIVISION:2},uq={mainUnlock:{realities:{id:1,name:"Realities",resource:()=>Currency.realities.value,requirement:1e4,format:t=>formatInt(t),progress:()=>Currency.realities.value/1e4},eternities:{id:2,name:"Eternities",resource:()=>Currency.eternities.value,requirement:1e70,format:t=>format(t,2),progress:()=>Ny(Currency.eternities.value.pLog10()/70)},infinities:{id:3,name:"Infinities",resource:()=>Currency.infinitiesTotal.value,requirement:1e160,format:t=>format(t,2),progress:()=>Ny(Currency.infinitiesTotal.value.pLog10()/160)},dilatedTime:{id:4,name:"Dilated Time",resource:()=>player.records.thisReality.maxDT,requirement:DC.E320,format:t=>format(t,2),progress:()=>Ny(player.records.thisReality.maxDT.pLog10()/320)},replicanti:{id:5,name:"Replicanti",resource:()=>player.records.thisReality.maxReplicanti,requirement:DC.E320000,format:t=>format(t,2),progress:()=>Ny(player.records.thisReality.maxReplicanti.pLog10()/32e4)},realityMachines:{id:6,name:"Reality Machines",resource:()=>Currency.realityMachines.value,requirement:1e60,format:t=>format(t,2),progress:()=>Ny(Currency.realityMachines.value.pLog10()/60)}},runUnlocks:[{id:0,name:"Glyph Knight",description:t=>`Unlock Reality with at most ${quantifyInt("Glyph",-t)} equipped.`,values:[-5,-4,-3,-2,-1,0],condition:()=>V.isRunning&&TimeStudy.reality.isBought,currentValue:()=>-Glyphs.activeWithoutCompanion.length,formatRecord:t=>t>=-5?formatInt(-t):"Not reached",shardReduction:()=>0,maxShardReduction:()=>0,mode:vo.SUBTRACTION},{id:1,name:"AntiStellar",description:t=>`Have ${formatInt(t)} total Galaxies from all types.`,values:[4e3,4300,4600,4900,5200,5500],condition:()=>V.isRunning,currentValue:()=>Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies,formatRecord:t=>formatInt(t),shardReduction:t=>Math.floor(300*t),maxShardReduction:t=>t-4e3,perReductionStep:3,mode:vo.SUBTRACTION},{id:2,name:"Se7en deadly matters",description:t=>`Get ${format(Decimal.pow10(t))} Infinity Points in Eternity Challenge 7.`,values:[6e5,72e4,84e4,96e4,108e4,12e5],condition:()=>V.isRunning&&EternityChallenge(7).isRunning,currentValue:()=>Currency.infinityPoints.value.log10(),formatRecord:t=>format(Decimal.pow10(t),2),shardReduction:t=>12e4*t,maxShardReduction:t=>t-6e5,perReductionStep:DC.E1200,mode:vo.DIVISION},{id:3,name:"Young Boy",description:t=>`Get ${format(Decimal.pow10(t))} Antimatter in Eternity Challenge 12 without
        unlocking Time Dilation.`,values:[4e8,45e7,5e8,6e8,7e8,8e8],condition:()=>V.isRunning&&EternityChallenge(12).isRunning&&!PlayerProgress.dilationUnlocked(),currentValue:()=>Currency.antimatter.value.log10(),formatRecord:t=>format(Decimal.pow10(t)),shardReduction:t=>5e7*t,maxShardReduction:t=>t-4e8,perReductionStep:DC.E500000,mode:vo.DIVISION},{id:4,name:"Eternal Sunshine",description:t=>`Get ${format(Decimal.pow10(t))} Eternity Points.`,values:[7e3,7600,8200,8800,9400,1e4],condition:()=>V.isRunning,currentValue:()=>Currency.eternityPoints.value.log10(),formatRecord:t=>format(Decimal.pow10(t),2),shardReduction:t=>600*t,maxShardReduction:t=>t-7e3,perReductionStep:1e6,mode:vo.DIVISION},{id:5,name:"Matterception",description:t=>`Get ${formatInt(t)} Dimension Boosts while Dilated and inside Eternity Challenge 5.`,values:[51,52,53,54,55,56],condition:()=>V.isRunning&&player.dilation.active&&EternityChallenge(5).isRunning,currentValue:()=>DimBoost.purchasedBoosts,formatRecord:t=>formatInt(t),shardReduction:t=>Math.floor(t),maxShardReduction:()=>5,reductionStepSize:100,perReductionStep:1,mode:vo.SUBTRACTION},{id:6,name:"Requiem for a Glyph",description:t=>`Unlock Reality with at most ${formatInt(-t)} Glyphs equipped for the entire Reality.`,values:[1,4,7,10,13],condition:()=>V.isRunning&&TimeStudy.reality.isBought,currentValue:()=>-player.requirementChecks.reality.maxGlyphs,formatRecord:t=>formatInt(-t),shardReduction:()=>0,maxShardReduction:()=>0,mode:vo.SUBTRACTION,isHard:!0},{id:7,name:"Post-destination",description:t=>`Get ${formatInt(4e5)} Time Theorems with a /${format(Decimal.pow10(t),2,2)}
        Black Hole or slower, without discharging or entering EC12.`,values:[100,150,200,250,300],condition:()=>V.isRunning,currentValue:()=>Currency.timeTheorems.gte(4e5)?-Math.log10(player.requirementChecks.reality.slowestBH):0,formatRecord:t=>`${formatInt(1)} / ${format(Math.pow(10,t))}`,shardReduction:t=>50*t,maxShardReduction:t=>t-50,reductionStepSize:2,perReductionStep:10,mode:vo.DIVISION,isHard:!0},{id:8,name:"Shutter Glyph",description:t=>`Reach a Glyph of level ${formatInt(t)}.`,values:[6500,7e3,8e3,9e3,1e4],condition:()=>V.isRunning,currentValue:()=>gainedGlyphLevel().actualLevel,formatRecord:t=>formatInt(t),shardReduction:t=>Math.floor(500*t),maxShardReduction:()=>500,perReductionStep:5,mode:vo.SUBTRACTION,isHard:!0}],unlocks:{vAchievementUnlock:{id:0,reward:"Unlock V, The Celestial Of Achievements",description:"Meet all the above requirements simultaneously",requirement:()=>Object.values(GameDatabase.celestials.v.mainUnlock).every(t=>t.progress()>=1)},shardReduction:{id:1,reward:"You can spend Perk Points to reduce the goal requirement of all tiers of each V-Achievement.",description:()=>`Have ${formatInt(2)} V-Achievements`,requirement:()=>V.spaceTheorems>=2},adPow:{id:2,reward:"Antimatter Dimension power based on total Space Theorems.",description:()=>`Have ${formatInt(5)} V-Achievements`,effect:()=>1+Math.sqrt(V.spaceTheorems)/100,format:t=>formatPow(t,3,3),requirement:()=>V.spaceTheorems>=5},fastAutoEC:{id:3,reward:"Achievement multiplier reduces Auto-EC completion time.",description:()=>`Have ${formatInt(10)} V-Achievements`,effect:()=>Achievements.power,format:t=>Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied?"Instant (Ra upgrade)":`${TimeSpan.fromMinutes(60*20/t).toStringShort()} for full completion`,requirement:()=>V.spaceTheorems>=10},autoAutoClean:{id:4,reward:"Unlock the ability to Automatically Purge Glyphs on Reality.",description:()=>`Have ${formatInt(16)} V-Achievements`,requirement:()=>V.spaceTheorems>=16},achievementBH:{id:5,reward:"Achievement multiplier affects Black Hole power.",description:()=>`Have ${formatInt(30)} V-Achievements`,effect:()=>Achievements.power,format:t=>formatX(t,2,0),requirement:()=>V.spaceTheorems>=30},raUnlock:{id:6,reward(){return`Reduce the Space Theorem cost of Time Studies by ${formatInt(2)}.
                Unlock Ra, Celestial of the Forgotten.`},description:()=>`Have ${formatInt(36)} V-Achievements`,effect:2,requirement:()=>V.spaceTheorems>=36}}},dq={effarig:{unlocks:N9},alchemy:{resources:A9},pelle:{galaxyGeneratorUpgrades:$9,strikes:H9,upgrades:Y9,rifts:F9},descriptions:{},enslaved:G9,navigation:O9,navSigils:{...L9,...U9},perkShop:W9,ra:oq,singularityMilestones:lq,teresa:cq,quotes:sq,v:uq},e_=()=>PelleRifts.chaos.milestones[1].canBeApplied?"The Pelle-Specific effect from Infinity Glyphs is also disabled.":"",hq=[{id:1,description:"Time Dimensions are disabled.",goal:DC.E1800,goalIncrease:DC.E200,reward:{description:"Time Dimension multiplier based on time spent this Eternity",effect:t=>Decimal.pow(Math.max(player.records.thisEternity.time/10,.9),.3+t*.05),formatEffect:t=>formatX(t,2,1)},scrambleText:["1e2600","1e201600"]},{id:2,description:"Infinity Dimensions are disabled.",goal:DC.E975,pelleGoal:DC.E1750,goalIncrease:DC.E175,reward:{description:"1st Infinity Dimension multiplier based on Infinity Power",effect:t=>Currency.infinityPower.value.pow(1.5/(700-t*100)).clampMin(1),cap:DC.E100,formatEffect:t=>formatX(t,2,1)}},{id:3,description:"Antimatter Dimensions 5-8 don't produce anything. Dimensional Sacrifice is disabled.",goal:DC.E600,pelleGoal:DC.E925,goalIncrease:DC.E75,reward:{description:()=>`Increase the multiplier for buying ${formatInt(10)} Antimatter Dimensions`,effect:t=>t*.72,formatEffect:t=>`+${format(t,2,2)}`}},{id:4,description:`all Infinity multipliers and generators are disabled. The goal must be reached within a certain
      number of Infinities or else you will fail the Challenge.`,goal:DC.E2750,goalIncrease:DC.E550,restriction:t=>Math.max(16-4*t,0),checkRestriction:t=>Currency.infinities.lte(t),formatRestriction:t=>t===0?"without any Infinities":`in ${quantifyInt("Infinity",t)} or less`,failedRestriction:"(Too many Infinities for more)",reward:{description:"Infinity Dimension multiplier based on unspent IP",effect:t=>Currency.infinityPoints.value.pow(.003+t*.002),cap:DC.E200,formatEffect:t=>formatX(t,2,1)}},{id:5,description:()=>`Antimatter Galaxy cost increase scaling starts immediately (normally at ${formatInt(100)}
      Galaxies). Dimension Boost costs scaling is massively increased.`,goal:DC.E750,pelleGoal:DC.E1400,goalIncrease:DC.E400,reward:{description:"Distant Galaxy cost scaling starts later",effect:t=>t*5,formatEffect:t=>`${formatInt(t)} AG later`}},{id:6,description:()=>Enslaved.isRunning?"you *. The cost of upgrading your max Replicanti Galaxies is massively reduced.":"you cannot gain Antimatter Galaxies normally. The cost of upgrading your max Replicanti Galaxies is massively reduced.",goal:DC.E850,pelleGoal:DC.E1500,goalIncrease:DC.E250,reward:{description:"Further reduce Antimatter Dimension cost multiplier growth",effect:t=>t*.2,formatEffect:t=>{const e=Math.round(Player.dimensionMultDecrease+Effects.sum(EternityChallenge(6).reward))-t;return`-${format(t,2,1)} (${formatX(e,2,1)} total)`}},scrambleText:["cannot gain Antimatter Galaxies normally","c㏰'퐚 gai鸭 Anti꟢at랜erﻪﶓa⁍axie㮾 䂇orma㦂l"]},{id:7,description:"1st Time Dimensions produce 8th Infinity Dimensions and 1st Infinity Dimensions produce 7th Antimatter Dimensions. Tickspeed also directly applies to Infinity and Time Dimensions.",goal:DC.E2000,pelleGoal:DC.E2700,goalIncrease:DC.E530,effect:()=>TimeDimension(1).productionPerSecond,reward:{description:"1st Time Dimension produces 8th Infinity Dimensions",effect:t=>TimeDimension(1).productionPerSecond.pow(t*.2).minus(1).clampMin(0),formatEffect:t=>`${format(t,2,1)} per second`}},{id:8,description:()=>`you can only upgrade Infinity Dimensions ${formatInt(50)} times and Replicanti
      upgrades ${formatInt(40)} times. Infinity Dimension and Replicanti upgrade autobuyers are disabled.`,goal:DC.E1300,pelleGoal:DC.E2800,goalIncrease:DC.E900,reward:{description:"Infinity Power strengthens Replicanti Galaxies",effect:t=>{const e=Math.log10(Currency.infinityPower.value.pLog10()+1);return Math.max(0,Math.pow(e,.03*t)-1)},formatEffect:t=>formatPercents(t,2)}},{id:9,description:()=>`you cannot buy Tickspeed upgrades. Infinity Power instead multiplies
      Time Dimensions with greatly reduced effect. ${e_()}`,goal:DC.E1750,pelleGoal:DC.E2900,goalIncrease:DC.E250,reward:{description:"Infinity Dimension multiplier based on Time Shards",effect:t=>Currency.timeShards.value.pow(t*.1).clampMin(1),cap:DC.E400,formatEffect:t=>formatX(t,2,1)}},{id:10,description:()=>{let t=`Time Dimensions and Infinity Dimensions are disabled. You gain an immense boost from
        Infinities to Antimatter Dimensions (Infinities${formatPow(950)}). ${e_()}`;return EternityChallenge(10).applyEffect(e=>t+=` Currently: ${formatX(e,2,1)}`),t},goal:DC.E3000,pelleGoal:DC.E3200,goalIncrease:DC.E300,effect:()=>Decimal.pow(Currency.infinitiesTotal.value,950).clampMin(1).pow(TimeStudy(31).effectOrDefault(1)),reward:{description:"Time Dimension multiplier based on Infinities",effect:t=>Currency.infinitiesTotal.value.times(2783e-9).pow(.4+.1*t).clampMin(1).powEffectOf(TimeStudy(31)),formatEffect:t=>{const e=formatX(t,2,1);return TimeStudy(31).canBeApplied?`${formatX(t.pow(1/TimeStudy(31).effectValue),2,1)} (After TS31: ${e})`:e}}},{id:11,description:()=>`all Dimension multipliers and powers are disabled except for the multipliers from
      this mod, Infinity Power, and Dimension Boosts (to Antimatter Dimensions). ${e_()}`,goal:DC.E450,pelleGoal:DC.E11200,goalIncrease:DC.E200,pelleGoalIncrease:DC.E1400,reward:{description:"Further reduce Tickspeed cost multiplier growth",effect:t=>t*.07,formatEffect:t=>{const e=Math.round(Player.tickSpeedMultDecrease+Effects.sum(EternityChallenge(11).reward))-t;return`-${format(t,2,2)} (${formatX(e,2,2)} total)`}}},{id:12,description:()=>PlayerProgress.realityUnlocked()?`the game runs ×${formatInt(1e3)} slower; all other game speed effects are disabled. The goal must be reached
        within a certain amount of time or you will fail the Challenge. ${e_()}`:`the game runs ×${formatInt(1e3)} slower. The goal must be reached
        within a certain amount of time or you will fail the Challenge.`,goal:DC.E110000,pelleGoal:DC.E208000,goalIncrease:DC.E12000,restriction:t=>Math.max(10-2*t,1)/10,checkRestriction:t=>Time.thisEternity.totalSeconds<t,formatRestriction:t=>`in ${quantify("in-game second",t,0,1)} or less.`,failedRestriction:"(Too slow for more)",reward:{description:"Infinity Dimension cost multipliers are reduced",effect:t=>1-t*.008,formatEffect:t=>`x${formatPow(t,3,3)}`}}],fq=[{id:1,description:`all Normal Challenge restrictions are active at once, with the exception of the
      Tickspeed (C9) and Big Crunch (C12) Challenges.`,goal:DC.E650,isQuickResettable:!0,reward:{description:()=>`${formatX(1.3,1,1)} on all Infinity Dimensions for each Infinity Challenge completed`,effect:()=>Math.pow(1.3,InfinityChallenges.completed.length),formatEffect:t=>formatX(t,1,1)},unlockAM:DC.E2000},{id:2,description:()=>`Dimensional Sacrifice happens automatically every ${formatInt(400)} milliseconds once you have
      an 8th Antimatter Dimension.`,goal:DC.E10500,isQuickResettable:!1,reward:{description:()=>`Dimensional Sacrifice autobuyer and stronger Dimensional Sacrifice
        ${Sacrifice.getSacrificeDescription({InfinityChallenge2isCompleted:!1})} ➜
        ${Sacrifice.getSacrificeDescription({InfinityChallenge2isCompleted:!0})}`},unlockAM:DC.E11000},{id:3,description:()=>`Tickspeed upgrades are always ${formatX(1)}. For every Tickspeed upgrade purchase, you instead get a static
      multiplier on all Antimatter Dimensions which increases based on Antimatter Galaxies.`,goal:DC.E5000,isQuickResettable:!1,effect:()=>Decimal.pow(1.05+player.galaxies*.005,player.totalTickBought),formatEffect:t=>formatX(t,2,2),reward:{description:"Antimatter Dimension multiplier based on Antimatter Galaxies and Tickspeed purchases",effect:()=>Laitela.continuumActive?Decimal.pow(1.05+player.galaxies*.005,Tickspeed.continuumValue):Decimal.pow(1.05+player.galaxies*.005,player.totalTickBought),formatEffect:t=>formatX(t,2,2)},unlockAM:DC.E12000},{id:4,description:()=>`only the latest bought Antimatter Dimension's production is normal. All other Antimatter Dimensions
      produce less (${formatPow(.25,2,2)}).`,goal:DC.E13000,isQuickResettable:!0,effect:.25,reward:{description:()=>`All Antimatter Dimension multipliers become multiplier${formatPow(1.05,2,2)}`,effect:1.05},unlockAM:DC.E14000},{id:5,description:`buying Antimatter Dimensions 1-4 causes all cheaper AD costs to increase.
      Buying Antimatter Dimensions 5-8 causes all more expensive AD costs to increase.`,goal:DC.E16500,isQuickResettable:!0,reward:{description:()=>`All Galaxies are ${formatPercents(.1)} stronger and reduce the requirements for them
        and Dimension Boosts by ${formatInt(1)}`,effect:1.1},unlockAM:DC.E18000},{id:6,description:()=>`exponentially rising matter divides the multiplier on all of your Antimatter Dimensions
      once you have at least ${formatInt(1)} 2nd Antimatter Dimension.`,goal:DC.D2E22222,isQuickResettable:!0,effect:()=>Currency.matter.value.clampMin(1),formatEffect:t=>`/${format(t,1,2)}`,reward:{description:"Infinity Dimension multiplier based on tickspeed",effect:()=>Tickspeed.perSecond.pow(5e-4),formatEffect:t=>formatX(t,2,2)},unlockAM:DC.E22500},{id:7,description:()=>{const t=Effects.max(2,InfinityUpgrade.dimboostMult,InfinityChallenge(7).reward,TimeStudy(81));return`you cannot buy Antimatter Galaxies. Base Dimension Boost multiplier is increased to a maximum
        of ${formatX(10)}. (Current base multiplier: ${formatX(t,2,1)})`},goal:DC.E10000,isQuickResettable:!1,effect:10,reward:{description:()=>`Dimension Boost multiplier is increased to a minimum of ${formatX(4)}`,effect:4},unlockAM:DC.E23000},{id:8,description:()=>`AD production rapidly and continually drops over time. Purchasing Antimatter Dimension or Tickspeed
        upgrades sets production back to ${formatPercents(1)} before it starts dropping again.`,goal:DC.E27000,isQuickResettable:!0,effect:()=>DC.D0_8446303389034288.pow(Math.max(0,player.records.thisInfinity.time-player.records.thisInfinity.lastBuyTime)),reward:{description:"You get a multiplier to AD 2-7 based on 1st and 8th AD multipliers.",effect:()=>AntimatterDimension(1).multiplier.times(AntimatterDimension(8).multiplier).pow(.02),formatEffect:t=>formatX(t,2,2)},unlockAM:DC.E28000}],pq=[{id:1,legacyId:1,isQuickResettable:!1,description(){return PlayerProgress.eternityUnlocked()?"reach Infinity for the first time outside of a challenge.":"reach Infinity for the first time."},name:"1st Antimatter Dimension Autobuyer",reward:"Upgradeable 1st Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:2,legacyId:2,isQuickResettable:!1,description:()=>`buying Antimatter Dimensions or Tickspeed upgrades halts production of all Antimatter Dimensions. Production gradually returns to normal over ${formatInt(3)} minutes.`,name:"2nd Antimatter Dimension Autobuyer",reward:"Upgradeable 2nd Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:3,legacyId:3,isQuickResettable:!1,description:`the 1st Antimatter Dimension is heavily weakened, but gets an uncapped exponentially increasing multiplier.
        This multiplier resets after Dimension Boosts and Antimatter Galaxies.`,name:"3rd Antimatter Dimension",reward:"Upgradeable 3rd Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:4,legacyId:8,isQuickResettable:!1,description:"buying an Antimatter Dimension automatically erases all lower tier Antimatter Dimensions, like a sacrifice without the boost.",name:"4th Antimatter Dimension Autobuyer",reward:"Upgradeable 4th Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:5,legacyId:6,isQuickResettable:!1,description:()=>`the Tickspeed purchase multiplier starts at ${formatX(1.08,0,3)} instead of ${formatX(1.1245,0,3)}.`,name:"5th Antimatter Dimension Autobuyer",reward:"Upgradeable 5th Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:6,legacyId:10,isQuickResettable:!1,description:()=>`upgrading each Antimatter Dimension costs the Antimatter Dimension ${formatInt(2)} tiers below it instead of antimatter. Antimatter Dimension prices are modified.`,name:"6th Antimatter Dimension Autobuyer",reward:"Upgradeable 6th Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:7,legacyId:9,isQuickResettable:!1,description:()=>`the multiplier from buying ${formatInt(10)} Antimatter Dimensions is reduced to ${formatX(1)}. This increases by
        ${formatX(.2,1,1)} per Dimension Boost, to a maximum of ${formatX(2)}, and is unaffected by any upgrades.`,name:"7th Antimatter Dimension Autobuyer",reward:"Upgradeable 7th Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:8,legacyId:11,isQuickResettable:!1,description:`Dimension Boosts provide no multiplier and Antimatter Galaxies cannot be bought. Dimensional
      Sacrifice resets antimatter and all Antimatter Dimensions, but also gives a significantly stronger multiplier.`,name:"8th Antimatter Dimension Autobuyer",reward:"Upgradeable 8th Antimatter Dimension Autobuyer",lockedAt:DC.D0},{id:9,legacyId:5,isQuickResettable:!0,description:()=>`whenever you buy Tickspeed upgrades or ${formatInt(10)} of an Antimatter Dimension, everything else of equal cost will increase to its next cost step.`,name:"Tickspeed Autobuyer",reward:"Upgradeable Tickspeed Autobuyer",lockedAt:DC.D0},{id:10,legacyId:4,isQuickResettable:!1,description:()=>`there are only ${formatInt(6)} Antimatter Dimensions. Dimension Boost and Antimatter Galaxy costs are modified.`,name:"Automated Dimension Boosts",reward:"Dimension Boosts Autobuyer",lockedAt:DC.D16},{id:11,legacyId:12,isQuickResettable:!0,description:()=>`there is normal matter which rises once you have at least ${formatInt(1)} 2nd Antimatter Dimension. If it exceeds your antimatter, it will Dimension Boost without giving the bonus.`,name:"Automated Antimatter Galaxies",reward:"Antimatter Galaxies Autobuyer",lockedAt:DC.D16},{id:12,legacyId:7,isQuickResettable:!1,description:()=>`each Antimatter Dimension produces the Dimension ${formatInt(2)} tiers below it
      instead of ${formatInt(1)}. Both 1st and 2nd Dimensions produce antimatter.
      The 2nd, 4th, and 6th Dimensions are made stronger to compensate.`,name:"Automated Big Crunches",reward:"Big Crunches Autobuyer",lockedAt:DC.D16}],mq={normal:pq,infinity:fq,eternity:hq},CC=[{date:[2025e3,9e3,23e3],name:"The x1000 Update",info:`
    i couldve made this mod in like a few hours but i kept adding and fixing things so this took a few days
    <br>
    <br>
    <b>What <i>is</i> x1000:</b><br>
    <ul>
    <li>All Dimension multipliers (ADs get this twice!)</li>
    <li>All prestige gains (Infinities, IP, etc.)</li>
    <li>Replicanti, DT, and TP</li>
    <li>Auto-EC speed</li>
    <li>Glyph Sacrifice gain</li>
    <li>Game speed (only once r154 is unlocked!)</li>
    <li>Relic Shards</li>
    <li>Memories, Memory Chunks, and Momentum buildup</li>
    <li>Imaginary Machine generation</li>
    <li>Dark Matter/Energy, Singularities, and Annihilation multiplier gain</li>
    <li>Reality Shards</li>
    <li>Starting resources (e.g. SAM starts you with 5e133 AM)</li>
    </ul>
    <br>
    <br>
    <b>Non-x1000 changes:</b><br>
    <ul>
    <li>The news can scroll at 1000% speed</li>
    <li>You can send me news message submissions and I'll likely add them</li>
    <li>Don't send them in the mod post though, it'll give away the secret</li>
    <li>Nobody reads the changelog anyway, so it's our little secret :)</li>
    <li>The Multiplier Breakdown subtab is removed</li>
    <li>The cap on antimatter gain in NCs is significantly increased, effectively copying how you can get r125 more easily on Android</li>
    <li>The Dimboost bulk upgrade also unlocks Galaxy bulk</li>
    <li>Purchasing TT no longer requires a TD1 purchase</li>
    <li>The issues with r118 have been fixed</li>
    <li>RM gain on Reality 1 is no longer capped at 1e8000 EP</li>
    <li>Reality no longer requires 13 rows of Achievements</li>
    <li>IDAS, REPAS, DAS, and DAB are all x3 stronger</li>
    <li>Scour to Empower now unlocks at 10 Glyphs instead of 30</li>
    <li>Real time is stored at 100% efficiency</li>
    <li>Glyph Alchemy is much, much more efficient</li>
    <li>Refinement value is x20 higher, matching the resource cap as long as it's 100% rarity</li>
    <li>Game speed in cel6 comes back x10 faster</li>
    <li>The cel7 ANR and r143 upgrades are combined into a single upgrade</li>
    <li>The cel7 EM40 upgrade also doesn't reset your Replicanti</li>
    <li>Rifts and the Galaxy Generator drain 30% of something instead of 3%</li>
    <li>The Galaxy Generator's additive generation upgrade is x10 stronger</li>
    <li>Speedrun Mode's unlock requirement is removed (you still have to import "speedrun")</li>
    <li>(Due to unknown bugs, importing old saves might not work. Past speedruns and speedrun info also can't be seen.)</li>
    <li>I might have missed something. Tell me if you notice a change that I didn't mention.</li>
    </ul>
    <br>
    <br>
    Anything that <i>isn't</i> x1000 is due to it being way too powerful, me being lazy, or because I genuinely have no idea how to get to something.
    I also just refuse to touch almost any challenge rewards, upgrades, studies, glyphs, etc etc etc. You can already beat the game in under 3 hours with what was changed.
    (AD mults being well over ^10 isn't as fun as you think it is, after all...)
    <br>
    This mod idea initially started with me asking, "What if you had every shop multiplier at 1000x?"
    This is why ADs get two stacks of x1000 instead of one.
    It unfortunately wouldn't have much of an impact past cel4, and cel7 would still kinda suck because
    the IP/EP multipliers aren't immune and the DT multiplier is ^0.5.
    There's also just timewalls of all varieties (r35/76 without speedrun mode, ec1 unlock, r131, and so on)
    so I decided it would be funnier (and dumber) if I just made a lot of things x1000 instead of just anything
    you'd see in the shop. The multipliers aren't disabled in EC11 or cel7. Anyway, timewalls begone or something.
    <br>
    Have fun. 
    <br>
    `}];for(let t=0;t<CC.length;t++)CC[t].id=t;const yq=[{name:"Dimension Boost",option:"dimensionBoost",isUnlocked:()=>PlayerProgress.infinityUnlocked()||player.galaxies>0||player.dimensionBoosts>0},{name:"Antimatter Galaxy",option:"antimatterGalaxy",isUnlocked:()=>PlayerProgress.infinityUnlocked()||player.galaxies>0},{name:"Sacrifice",option:"sacrifice",isUnlocked:()=>Sacrifice.isVisible},{name:"Big Crunch",option:"bigCrunch",isUnlocked:()=>player.break||PlayerProgress.eternityUnlocked()},{name:"Challenges",option:"challenges",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"Exit Challenges",option:"exitChallenge",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"Replicanti Galaxy",option:"replicantiGalaxy",isUnlocked:()=>PlayerProgress.eternityUnlocked()||player.replicanti.unl},{name:"Eternity",option:"eternity",isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"Dilation",option:"dilation",isUnlocked:()=>PlayerProgress.realityUnlocked()||!Currency.tachyonParticles.eq(0)},{name:"Reset Reality",option:"resetReality",isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"Glyph Replace",option:"glyphReplace",isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"Glyph Sacrifice",option:"glyphSacrifice",isUnlocked:()=>GlyphSacrificeHandler.canSacrifice},{name:"Glyph Purge",option:"autoClean",isUnlocked:()=>GlyphSacrificeHandler.canSacrifice},{name:"Sacrifice All Glyphs",option:"sacrificeAll",isUnlocked:()=>GlyphSacrificeHandler.canSacrifice},{name:"Glyph Selection",option:"glyphSelection",isUnlocked:()=>Autobuyer.reality.isUnlocked},{name:"Glyph Undo",option:"glyphUndo",isUnlocked:()=>TeresaUnlocks.undo.canBeApplied},{name:"Switch Automator Editor",option:"switchAutomatorMode",isUnlocked:()=>Player.automatorUnlocked},{name:"Delete Glyph Preset",option:"deleteGlyphSetSave",isUnlocked:()=>EffarigUnlock.setSaves.isUnlocked},{name:"Glyph Refine",option:"glyphRefine",isUnlocked:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied},{name:"Armageddon",option:"armageddon",isUnlocked:()=>Pelle.isDoomed},{name:"Respec Shop Purchases",option:"respecIAP",isUnlocked:()=>Cloud.isAvailable}],P0={roles:{1:"Creator",2:"Technical Architect",3:"Lead Developer",4:"Android Developer",5:"Steam Developer",6:"Library Developer",7:"Developer",8:"Lead Design Consultant",9:"Design Consultant",10:"Writer",11:"Achievement Art",12:"Modal Maker, Lady Taker, Pie Baker",13:"Lurker Tester",14:"Web Tester",15:"Android Tester"},people:[{name:"Hevipelle",name2:"Ivar Kerajärvi",roles:1},{name:"Razenpok",name2:"Andrei Andreev",roles:2},{name:"garnet420",roles:3},{name:"Omsi",roles:[3,11]},{name:"SpectralFlame",name2:"Christopher Yip",roles:3},{name:"WaitingIdly",roles:[3,7,9,14,15]},{name:"kajfik",name2:"Jakub Kajfosz",roles:4},{name:"Makopaz",name2:"Zack Stein",roles:5},{name:"Patashu",roles:[6,7,14]},{name:"Dan",roles:[7,14]},{name:"earth",name2:"Jace Royer",roles:[7,12,14,15]},{name:"Hira",roles:[7,14,15]},{name:"IkerStream",name2:"Iker de Aguirre",roles:[7,14]},{name:"L4R5",name2:"Lars Wolf",roles:[7,14,15]},{name:"Pichusuperlover",roles:[7,9,14]},{name:"realrapidjazz",roles:[7,8,10]},{name:"Scarlet",roles:[7,14,15]},{name:"slabdrill",roles:7},{name:"Acamaeda",roles:[9,14]},{name:"Dravitar",name2:"Alex Henderson",roles:13},{name:"Aesis",roles:14},{name:"AFYINEE",name2:"Gabriel HADDAG",roles:14},{name:"Alexitato",roles:14},{name:"Anno",roles:14},{name:"Myresa Exina",roles:[14,15]},{name:"ArrowBounce",name2:"Timothy Su",roles:14},{name:"Birb",name2:"Kelsey Black",roles:14},{name:"Boo",name2:"Jean-Christophe Bourgault",roles:14},{name:"CaptainGalaxy",name2:"Ovidijus Točelis",roles:14},{name:"ChaoticHans",roles:[14,15]},{name:"cubic frog",roles:14},{name:"dankesehr",roles:14},{name:"Davixx",name2:"Davide Fedele",roles:14},{name:"Empireus",roles:14},{name:"GirixK",name2:"Nikola Jelinčić",roles:[14,15]},{name:"GoldenTritium",roles:[14,15]},{name:"Kael",roles:14},{name:"Lynn",roles:14},{name:"Merp",roles:14},{name:"philipebreaker",name2:"Philipe",roles:14},{name:"Phillip Marshall",roles:14},{name:"Phoebe",roles:14},{name:"Reda Kotob",roles:14},{name:"Saturnus",roles:[14,10]},{name:"SereKabii",roles:14},{name:"Sheer",roles:14},{name:"sirusi",name2:"Vinícius Oliveira Martins",roles:14},{name:"Spanosa",name2:"Jared K",roles:14},{name:"Sparticle999",roles:14},{name:"SpicyCrusader13",roles:[14,15]},{name:"Storm",roles:14},{name:"SzyszakS",roles:14},{name:"Tacitus",roles:14},{name:"Typh",roles:14},{name:"Vnge",name2:"Ben Parrish",roles:[14,15]},{name:"Xemadus",name2:"Jonathan Gibson",roles:14},{name:"Young Woo Joo",roles:14},{name:"Zipi",roles:14},{name:"about:blank",roles:15},{name:"ÆiOuF",roles:15},{name:"Akirious",roles:15},{name:"Anjinho01",roles:15},{name:"Anthios",roles:15},{name:"Aubrey Ark",roles:15},{name:"Auti",name2:"Lucia Tolle",roles:15},{name:"Buck",roles:15},{name:"Barrin84",roles:15},{name:"Calmcat",roles:15},{name:"ChizuX",roles:15},{name:"Circle",roles:15},{name:"Crinkly Weasel",name2:"Aaryan Sarawgi",roles:15},{name:"Daniella",roles:15},{name:"DarthDie",name2:"Briar Bowser",roles:15},{name:"ElPopote83",roles:15},{name:"Epsilon",name2:"Coolguystorm",roles:15},{name:"Firecracker",roles:15},{name:"Gaunter",roles:15},{name:"Gimmick",roles:15},{name:"HarrisL2",roles:15},{name:"Hellbach",name2:"Asher Günther",roles:15},{name:"hen-ben",name2:"Henry Ellenberg",roles:15},{name:"ImpossibleSalsa",roles:15},{name:"JayM#1872",name2:"Jay McGee",roles:15},{name:"Johanniklas",name2:"Jan-Niklas Petersen",roles:15},{name:"Joseph Micheli",roles:15},{name:"kaislash",name2:"Lily",roles:15},{name:"Kirku",name2:"Fabian Makowski",roles:15},{name:"Kirin",name2:"Arthur",roles:15},{name:"Klötzchen",roles:15},{name:"L5racer",roles:15},{name:"Marshmallow",roles:15},{name:"HyperionMike",name2:"Miikael Siitan",roles:15},{name:"Mirai",roles:15},{name:"Monoma",name2:"ARoman Ruiz",roles:15},{name:"Nani",roles:15},{name:"Neo",name2:"Joon",roles:15},{name:"netweak",roles:15},{name:"NiZeKiHo",name2:"DominusDane",roles:15},{name:"NotBrewst",name2:"Luc Leblanc",roles:15},{name:"opdollar",name2:"Zane Coole",roles:15},{name:"Pavlxiiv",roles:15},{name:"coffeeflake",roles:15},{name:"Razor",roles:15},{name:"Razvan Cercel",roles:15},{name:"ReacTivity",roles:15},{name:"Reaxt",name2:"Rea Koehler",roles:15},{name:"Ruins",roles:15},{name:"Rukimix",roles:15},{name:"shadowevil",roles:15},{name:"Skunky",name2:"Lukas",roles:15},{name:"Snaeky",roles:15},{name:"Socks",name2:"Hannah Pocks",roles:15},{name:"Sweets the Alien",roles:15},{name:"Tables",roles:15},{name:"Taylor Reeves",roles:15},{name:"TheAhmex",roles:15},{name:"The Trust Melon",roles:15},{name:"Tim Wong",roles:15},{name:"tragedt",name2:"Ethan Manninen",roles:15},{name:"tui sapo",roles:15},{name:"Valentine Clarissa Alanis Star Z",roles:15},{name:"vanadium_void",roles:15},{name:"X3N0_32",roles:15},{name:"ZylaKat",name2:"Katherine Goforth-Harbin",roles:15},{name:"Jedall",roles:15},{name:"Lapis",roles:15},{name:"Guimora",roles:15},{name:"Neowo",name2:"Neo Mitchell",roles:15},{name:"AshTheDinosaur",roles:15},{name:"Annyeong1",name2:"Jeeho Yoon",roles:15},{name:"Dedzuka",roles:15},{name:"Something",name2:"Sushi",roles:15},{name:"Viola",roles:15},{name:"Luna van Yeethoven",roles:15},{name:"Lotocion",roles:15},{name:"Merlyn",roles:15},{name:"Tilly",roles:15},{name:"Sauer",name2:"Matt",roles:15},{name:"PtigaD",roles:15},{name:"Aleame",roles:15},{name:"GFADE00",roles:15},{name:"Amity Emily",roles:15},{name:"BsonHK",roles:15},{name:"Angel",roles:15},{name:"OhBrod",roles:15},{name:"sxy62146214",roles:15},{name:"cyxw",roles:15},{name:"Cosmic_Fyre",roles:15},{name:"The Cube Dude",roles:15},{name:"Tias",name2:"Tim Stanglow",roles:15},{name:"Rad Cooldude",roles:15},{name:"DataBitMC",roles:15},{name:"Pizzalover04",name2:"Zanpaulco",roles:15},{name:"Airakogi",roles:15}]};P0.roles.count=Object.keys(P0.roles).length;function ki(t,e,i){return Notation.scientific.format(t,e,i)}function Rr(t){return Notations.current.isPainful?ki(t,2):formatWithCommas(typeof t=="number"?t.toFixed(0):t.toNumber().toFixed(0))}const gq={challenges:[{name:()=>`${Teresa.possessiveName} Reality`,activityToken:()=>Teresa.isRunning,resource:()=>Teresa.runCompleted?`${ki(player.antimatter,2,1)} AM`:`${ki(player.eternityPoints,2)} EP`},{name:()=>`${Effarig.possessiveName} Reality - ${Effarig.currentStageName}`,activityToken:()=>Effarig.isRunning,resource:()=>{switch(Effarig.currentStage){case EFFARIG_STAGES.INFINITY:return`${ki(player.antimatter,2,1)} AM`;case EFFARIG_STAGES.ETERNITY:return`${ki(player.infinityPoints,2)} IP`;case EFFARIG_STAGES.REALITY:default:return`${ki(player.eternityPoints,2)} EP`}}},{name:()=>`${Enslaved.possessiveName} Reality`,activityToken:()=>Enslaved.isRunning,resource:()=>`${ki(player.eternityPoints,2)} EP`},{name:()=>`${V.possessiveName} Reality`,activityToken:()=>V.isRunning,resource:()=>null},{name:()=>`${Ra.possessiveName} Reality`,activityToken:()=>Ra.isRunning,resource:()=>null},{name:()=>{const t=Laitela.maxAllowedDimension,e=t?`D${t} max`:"Final";return`${Laitela.possessiveName} Reality - ${e}`},activityToken:()=>Laitela.isRunning,resource:()=>`${formatPercents(player.celestials.laitela.entropy,2,2)} Entropy`},{name:()=>"Dilation",activityToken:()=>player.dilation.active,resource:()=>`${ki(player.antimatter,2,1)} AM`},{name:t=>`EC ${t}`,activityToken:()=>{if(!player.challenge.eternity.current)return!1;const t=player.challenge.eternity.current,e=EternityChallenge(t);return e.remainingCompletions?`${t}x${e.completions+1}`:t},resource:()=>`${ki(player.infinityPoints,2)} IP`},{name:t=>`IC ${t}`,activityToken:()=>player.challenge.infinity.current,resource:()=>`${ki(player.antimatter,2,1)} AM`},{name:t=>`NC ${t}`,activityToken:()=>player.challenge.normal.current,resource:()=>`${ki(player.antimatter,2,1)} AM`}],stages:[{name:"Pre-Infinity",hasReached:()=>!0,mainResource:()=>`${ki(player.antimatter,2,1)} AM`,resourceList:[()=>quantify("Boost",player.dimensionBoosts,0,0,Rr),()=>quantify("Galaxy",player.galaxies,0,0,Rr)]},{name:"Infinity",hasReached:()=>PlayerProgress.infinityUnlocked(),mainResource:()=>`${ki(player.infinityPoints,2)} IP`,resourceList:[()=>quantify("Infinity",player.infinities,0,0,Rr)]},{name:"Broken Infinity",hasReached:()=>player.break,mainResource:()=>`${ki(player.infinityPoints,2)} IP`,resourceList:[()=>quantify("Infinity",player.infinities,2,0,ki)]},{name:"Eternity",hasReached:()=>PlayerProgress.eternityUnlocked(),mainResource:()=>`${ki(player.eternityPoints,2)} EP`,resourceList:[()=>quantify("Eternity",player.eternities,0,0,Rr)]},{name:"Eternity",hasReached:()=>player.eternityChalls.eterc1>0,mainResource:()=>`${ki(player.eternityPoints,2)} EP`,resourceList:[()=>quantify("EC completion",Object.values(player.eternityChalls).reduce((t,e)=>t+e,0),0,0,Rr)]},{name:"Time Dilation",hasReached:()=>PlayerProgress.dilationUnlocked(),mainResource:()=>`${ki(player.eternityPoints,2)} EP`,resourceList:[()=>`${ki(player.dilation.dilatedTime,2,2)} DT`]},{name:"Reality",hasReached:()=>player.realities>0,mainResource:()=>`${ki(player.reality.realityMachines,2)} RM`,resourceList:[()=>quantify("Reality",player.realities,0,0,Rr),()=>`Best Glyph Level: ${Rr(player.records.bestReality.glyphLevel)}`]},{name:()=>Teresa.displayName,hasReached:()=>Teresa.isUnlocked,mainResource:()=>`${ki(player.reality.realityMachines,2)} RM`,resourceList:[()=>quantify("Reality",player.realities,0,0,Rr),()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>`Poured: ${ki(player.celestials.teresa.pouredAmount,2)} RM`]},{name:()=>Effarig.displayName,hasReached:()=>TeresaUnlocks.effarig.isUnlocked,mainResource:()=>`${ki(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>quantify("Relic Shard",player.celestials.effarig.relicShards,2,0,ki)]},{name:()=>Enslaved.displayName,hasReached:()=>EffarigUnlock.eternity.isUnlocked,mainResource:()=>`${ki(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>`Charged: ${ki(TimeSpan.fromMilliseconds(player.celestials.enslaved.stored).totalYears,2)} years`]},{name:()=>V.displayName,hasReached:()=>Achievement(151).isUnlocked,mainResource:()=>`${ki(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>quantify("V-Achievement",player.celestials.v.runUnlocks.sum(),0,0,Rr)]},{name:()=>Ra.displayName,hasReached:()=>VUnlocks.raUnlock.isUnlocked,mainResource:()=>`${ki(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>`Ra Levels: ${Ra.pets.all.map(t=>Rr(t.level)).join("/")}`]},{name:()=>Ra.displayName,hasReached:()=>MachineHandler.isIMUnlocked,mainResource:()=>`${ki(player.reality.realityMachines)} RM + ${ki(player.reality.imaginaryMachines,2)} iM`,resourceList:[()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>`Ra Levels: ${Ra.pets.all.map(t=>Rr(t.level)).join("/")}`]},{name:()=>Laitela.displayName,hasReached:()=>Laitela.isUnlocked,mainResource:()=>`${ki(player.reality.realityMachines)} RM + ${ki(player.reality.imaginaryMachines,2)} iM`,resourceList:[()=>`Best GL: ${Rr(player.records.bestReality.glyphLevel)}`,()=>quantify("Singularity",player.celestials.laitela.singularities,2,0,ki)]},{name:"Pelle",hasReached:()=>Pelle.isDoomed,mainResource:()=>quantify("Reality Shard",player.celestials.pelle.realityShards,2),resourceList:[()=>quantify("Remnant",player.celestials.pelle.remnants,2)]},{name:"END",hasReached:()=>GameEnd.endState>=END_STATE_MARKERS.GAME_END,mainResource:()=>"END Antimatter",resourceList:[()=>"Nothing remains."]}]};function vq(t,e,i){return Decimal.multiply(t,Decimal.pow(e,player.dilation.rebuyables[i]))}function fp(t){return{id:t.id,cost:()=>vq(t.initialCost,t.increment,t.id),initialCost:t.initialCost,increment:t.increment,description:t.description,effect:()=>t.effect(player.dilation.rebuyables[t.id]),formatEffect:t.formatEffect,formatCost:t.formatCost,purchaseCap:t.purchaseCap,reachedCap:()=>player.dilation.rebuyables[t.id]>=t.purchaseCap,pelleOnly:!!t.pelleOnly,rebuyable:!0}}const bq={dtGain:fp({id:1,initialCost:1e4,increment:10,description:()=>SingularityMilestone.dilatedTimeFromSingularities.canBeApplied||Achievement(187).canBeApplied?`${formatX(2*Effects.product(SingularityMilestone.dilatedTimeFromSingularities,Achievement(187)),2,2)} Dilated Time gain`:"Double Dilated Time gain",effect:t=>{const e=2*Effects.product(SingularityMilestone.dilatedTimeFromSingularities,Achievement(187));return Decimal.pow(e,t)},formatEffect:t=>{const e=SingularityMilestone.dilatedTimeFromSingularities.canBeApplied||Achievement(187).canBeApplied;return formatX(t,2,e?2:0)},formatCost:t=>format(t,2),purchaseCap:Number.MAX_VALUE}),galaxyThreshold:fp({id:2,initialCost:1e6,increment:100,description:()=>Perk.bypassTGReset.isBought&&!Pelle.isDoomed?"Reset Tachyon Galaxies, but lower their threshold":"Reset Dilated Time and Tachyon Galaxies, but lower their threshold",effect:t=>t<38?Math.pow(.8,t):0,formatEffect:t=>{if(t===0)return`${formatX(getTachyonGalaxyMult(t),4,4)}`;const e=t===Math.pow(.8,37)?0:.8*t;return`${formatX(getTachyonGalaxyMult(t),4,4)} ➜
        Next: ${formatX(getTachyonGalaxyMult(e),4,4)}`},formatCost:t=>format(t,2),purchaseCap:38}),tachyonGain:fp({id:3,initialCost:1e7,increment:20,description:()=>Pelle.isDoomed?`Multiply the amount of Tachyon Particles gained by ${formatInt(1)}`:Enslaved.isRunning?`Multiply the amount of Tachyon Particles gained
      by ${Math.pow(3,Enslaved.tachyonNerf).toFixed(2)}`:"Triple the amount of Tachyon Particles gained",effect:t=>Pelle.isDoomed?DC.D1.pow(t):DC.D3.pow(t),formatEffect:t=>formatX(t,2),formatCost:t=>format(t,2),purchaseCap:Number.MAX_VALUE}),doubleGalaxies:{id:4,cost:5e6,description:()=>`Gain twice as many Tachyon Galaxies, up to ${formatInt(500)} base Galaxies`,effect:2},tdMultReplicanti:{id:5,cost:1e9,description:()=>{const t=replicantiMult().pLog10();let e="0.1";if(t>9e3){const i=DilationUpgrade.tdMultReplicanti.effectValue.pLog10()/t;i<.095&&(e=i.toFixed(2))}return`Time Dimensions are affected by Replicanti multiplier ${formatPow(e,1,3)}, reduced
        effect above ${formatX(DC.E9000)}`},effect:()=>{let t=replicantiMult().pLog10()*.1;return t=t>9e3?9e3+.5*(t-9e3):t,Decimal.pow10(t)},formatEffect:t=>formatX(t,2,1)},ndMultDT:{id:6,cost:5e7,description:"Antimatter Dimension multiplier based on Dilated Time, unaffected by Time Dilation",effect:()=>Currency.dilatedTime.value.pow(308).clampMin(1),formatEffect:t=>formatX(t,2,1)},ipMultDT:{id:7,cost:2e12,description:"Gain a multiplier to Infinity Points based on Dilated Time",effect:()=>Currency.dilatedTime.value.pow(1e3).clampMin(1),formatEffect:t=>formatX(t,2,1),cap:()=>Effarig.eternityCap},timeStudySplit:{id:8,cost:1e10,description:"You can buy all three Time Study paths from the Dimension Split"},dilationPenalty:{id:9,cost:1e11,description:()=>`Reduce the Dilation penalty (${formatPow(1.05,2,2)} after reduction)`,effect:1.05},ttGenerator:{id:10,cost:1e15,description:"Generate Time Theorems based on Tachyon Particles",effect:()=>Currency.tachyonParticles.value.div(2e4),formatEffect:t=>`${format(t,2,1)}/sec`},dtGainPelle:fp({id:11,initialCost:1e14,increment:100,pelleOnly:!0,description:()=>`${formatX(5)} Dilated Time gain`,effect:t=>Decimal.pow(5,t),formatEffect:t=>formatX(t,2),formatCost:t=>format(t,2),purchaseCap:Number.MAX_VALUE}),galaxyMultiplier:fp({id:12,initialCost:1e15,increment:1e3,pelleOnly:!0,description:"Multiply Tachyon Galaxies gained, applies after TG doubling upgrade",effect:t=>t+1,formatEffect:t=>`${formatX(t,2)} ➜ ${formatX(t+1,2)}`,formatCost:t=>format(t,2),purchaseCap:Number.MAX_VALUE}),tickspeedPower:fp({id:13,initialCost:1e16,increment:1e4,pelleOnly:!0,description:"Gain a power to Tickspeed",effect:t=>1+t*.03,formatEffect:t=>`${formatPow(t,2,2)} ➜ ${formatPow(t+.03,2,2)}`,formatCost:t=>format(t,2),purchaseCap:Number.MAX_VALUE}),galaxyThresholdPelle:{id:14,cost:1e45,pelleOnly:!0,description:"Apply a cube root to the Tachyon Galaxy threshold",effect:1/3},flatDilationMult:{id:15,cost:1e55,pelleOnly:!0,description:()=>"Gain more Dilated Time based on current EP",effect:()=>1e9**Math.min((Math.max(player.eternityPoints.log10()-1500,0)/2500)**1.2,1),formatEffect:t=>formatX(t,2,2)}},_q={autobuyerIPMult:{eternities:1,reward:"Unlock the Infinity Point multiplier autobuyer",pelleUseless:!0},keepAutobuyers:{eternities:2,reward:"You start Eternity with all Normal Challenges complete, all normal autobuyers, and infinity broken"},autobuyerReplicantiGalaxy:{eternities:3,reward:"Unlock the Replicanti Galaxy Autobuyer"},keepInfinityUpgrades:{eternities:4,reward:"You start Eternity with all Infinity Upgrades",givenByPelle:()=>PelleUpgrade.keepInfinityUpgrades.isBought,pelleUseless:!0},bigCrunchModes:{eternities:5,reward:"Unlock more Big Crunch Autobuyer options"},autoEP:{eternities:6,reward:()=>{const t=getOfflineEPGain(TimeSpan.fromMinutes(1).totalMilliseconds),e=getEternitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,EternityMilestone.autoEternities.isReached).gt(0),i=getInfinitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,EternityMilestone.autoInfinities.isReached).gt(0);if(!player.options.offlineProgress)return`This milestone would give offline EP generation, but offline progress
        is currently disabled`;const n=e||i?"Inactive":`Currently ${format(t,2,2)} EP/min`;return`While offline, gain ${formatPercents(.25)} of your best Eternity Points per minute from previous
        Eternities (${n})`},activeCondition:()=>player.options.offlineProgress?`Active as long as neither of the other offline milestones
        (${formatInt(200)} or ${formatInt(1e3)}) are also active`:""},autoIC:{eternities:7,reward:`You complete Infinity Challenges as soon as you unlock them,
      and keep the Dimensional Sacrifice Autobuyer`,pelleUseless:!0},keepBreakUpgrades:{eternities:8,reward:"You start Eternity with all Break Infinity Upgrades",givenByPelle:()=>PelleUpgrade.keepBreakInfinityUpgrades.isBought,pelleUseless:!0},autobuyMaxGalaxies:{eternities:9,reward:"Unlock the buy max Antimatter Galaxies Autobuyer mode"},unlockReplicanti:{eternities:10,reward:"You start with Replicanti unlocked",givenByPelle:()=>PelleUpgrade.replicantiStayUnlocked.isBought,pelleUseless:!0},autobuyerID1:{eternities:11,reward:"Unlock the 1st Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID2:{eternities:12,reward:"Unlock the 2nd Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID3:{eternities:13,reward:"Unlock the 3rd Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID4:{eternities:14,reward:"Unlock the 4th Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID5:{eternities:15,reward:"Unlock the 5th Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID6:{eternities:16,reward:"Unlock the 6th Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID7:{eternities:17,reward:"Unlock the 7th Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID8:{eternities:18,reward:"Unlock the 8th Infinity Dimension Autobuyer",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autoUnlockID:{eternities:25,reward:"You automatically unlock Infinity Dimensions upon reaching them"},unlockAllND:{eternities:30,reward:"Start with all Antimatter Dimensions available for purchase"},replicantiNoReset:{eternities:40,reward:`Replicanti Galaxies no longer reset Antimatter, Antimatter Dimensions,
      Tickspeed, Dimensional Sacrifice, or Dimension Boosts`,pelleUseless:!0},autobuyerReplicantiChance:{eternities:50,reward:"Unlock the Replicanti Chance Upgrade Autobuyer",givenByPelle:()=>PelleUpgrade.replicantiAutobuyers.isBought,pelleUseless:!0},autobuyerReplicantiInterval:{eternities:60,reward:"Unlock the Replicanti Interval Upgrade Autobuyer",givenByPelle:()=>PelleUpgrade.replicantiAutobuyers.isBought,pelleUseless:!0},autobuyerReplicantiMaxGalaxies:{eternities:80,reward:"Unlock the Max Replicanti Galaxy Upgrade Autobuyer",givenByPelle:()=>PelleUpgrade.replicantiAutobuyers.isBought,pelleUseless:!0},autobuyerEternity:{eternities:100,reward:"Unlock autobuyer for Eternities"},autoEternities:{eternities:200,reward:()=>{if(!player.options.offlineProgress)return`This milestone would generate eternities offline, but offline
        progress is currently disabled`;const t=getEternitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,player.eternities.gte(200)),e=PlayerProgress.seenAlteredSpeed()?" real-time":"",i=t.gt(0)?`Currently ${format(t,2,2)}/hour`:"Inactive";return`While offline, gain Eternities at ${formatPercents(.5)} the rate of your fastest${e} Eternity
        (${i})`},activeCondition:()=>player.options.offlineProgress?`Must be outside of all Challenges and Dilation, and the Eternity Autobuyer must be set to Eternity at zero EP.
        This milestone's effect is capped at ${formatInt(33)}ms.`:"",pelleUseless:!0},autoInfinities:{eternities:1e3,reward:()=>{if(!player.options.offlineProgress)return`This milestone would generate infinities offline, but offline
        progress is currently disabled`;const t=getInfinitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,player.eternities.gte(1e3)),e=t.gt(0)?`Currently ${format(t,2,2)}/hour`:"Inactive";return`While offline, gain Infinities equal to ${formatPercents(.5)} your best Infinities/hour this Eternity
        (${e})`},activeCondition:()=>player.options.offlineProgress?`Must be outside of Normal/Infinity Challenges and outside of EC4 and EC12,
        the Big Crunch Autobuyer must be turned on and set to time mode with ${formatInt(5)} seconds or less,
        and the Eternity Autobuyer must be turned off.`:"",pelleUseless:!0}},wq={idMultEP:{id:1,cost:5,description:()=>`Infinity Dimension multiplier based on unspent Eternity Points (x+${formatInt(1)})`,effect:()=>Currency.eternityPoints.value.plus(1),formatEffect:t=>formatX(t,2,1)},idMultEternities:{id:2,cost:10,description:()=>`Infinity Dimension multiplier based on Eternities
      ((x/${formatInt(200)})^log4(${formatInt(2)}x), softcap at ${format(1e5)} Eternities)`,effect(){const t=Math.log4,e=Currency.eternities.value.clampMax(1e5).toNumber(),i=e/200+1,n=Math.log(e*2+1)/t,r=Math.pow(i,n),a=Currency.eternities.value.sub(1e5),s=a.divide(200).plus(1),o=a.times(2).plus(1).log(Math.E)/t;return s.times(o).clampMin(1).times(r)},formatEffect:t=>formatX(t,2,1)},idMultICRecords:{id:3,cost:5e4,description:"Infinity Dimension multiplier based on sum of Infinity Challenge times",effect:()=>DC.D2.pow(30/Math.clampMin(Time.infinityChallengeSum.totalSeconds,.1)),cap:DC.D2P30D0_61,formatEffect:t=>formatX(t,2,1)},tdMultAchs:{id:4,cost:1e16,description:"Your Achievement bonus affects Time Dimensions",effect:()=>Achievements.power,formatEffect:t=>formatX(t,2,1)},tdMultTheorems:{id:5,cost:1e40,description:"Time Dimensions are multiplied by your unspent Time Theorems",effect:()=>Decimal.max(Currency.timeTheorems.value,1),formatEffect:t=>formatX(t,2,1)},tdMultRealTime:{id:6,cost:1e50,description:()=>Pelle.isDoomed?"Time Dimensions are multiplied by days played in this Armageddon":"Time Dimensions are multiplied by days played",effect:()=>Pelle.isDoomed?1+Time.thisReality.totalDays:Math.max(Time.totalTimePlayed.totalDays,1),formatEffect:t=>formatX(t,2,1)}},Eq=[{id:1,description:"Unlock Time Dilation",cost:5e3,requirement:()=>{const t=Currency.timeTheorems.max.gte(TimeStudy.dilation.totalTimeTheoremRequirement);if(Ra.unlocks.autoUnlockDilation.canBeApplied&&t&&!isInCelestialReality()&&!Pelle.isDoomed)return!0;const e=[231,232,233,234].some(n=>TimeStudy(n).isBought);if(Perk.bypassECDilation.canBeApplied)return e;const i=EternityChallenge(11).isFullyCompleted&&EternityChallenge(12).isFullyCompleted;return e&&i&&t}},{id:2,description:"Unlock the 5th Time Dimension",cost:1e6,requirement:()=>PlayerProgress.dilationUnlocked()},{id:3,description:"Unlock the 6th Time Dimension",cost:1e7,requirement:()=>TimeStudy.timeDimension(5).isBought},{id:4,description:"Unlock the 7th Time Dimension",cost:1e8,requirement:()=>TimeStudy.timeDimension(6).isBought},{id:5,description:"Unlock the 8th Time Dimension",cost:1e9,requirement:()=>TimeStudy.timeDimension(7).isBought},{id:6,description:()=>Pelle.isDoomed?"You cannot escape a Doomed Reality":"Unlock Reality",cost:1,requirement:()=>TimeStudy.timeDimension(8).isBought&&player.records.thisReality.maxEP.exponent>=4e3&&!Pelle.isDoomed}],Tq=[{id:1,cost:30,requirement:[171],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Eternities",current:()=>Currency.eternities.value,required:t=>new Decimal(2e4+Math.min(t,Enslaved.isRunning?999:4)*2e4),formatValue:formatInt}},{id:2,cost:35,requirement:[171],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Tickspeed upgrades from Time Dimensions",current:()=>player.totalTickGained,required:t=>1300+Math.min(t,4)*150,formatValue:formatInt}},{id:3,cost:40,requirement:[171],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"8th Antimatter Dimensions",current:()=>AntimatterDimension(8).totalAmount,required:t=>new Decimal(17300+Math.min(t,4)*1250),formatValue:t=>formatInt(Math.floor(t.toNumber()))}},{id:4,cost:70,requirement:[143],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Infinities",current:()=>Currency.infinitiesTotal.value,required:t=>new Decimal(1e8+Math.min(t,4)*25e6),formatValue:t=>formatInt(Math.floor(t.toNumber()))}},{id:5,cost:130,requirement:[42],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Antimatter Galaxies",current:()=>player.galaxies,required:t=>160+Math.min(t,4)*14,formatValue:formatInt}},{id:6,cost:85,requirement:[121],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Replicanti Galaxies",current:()=>player.replicanti.galaxies,required:t=>40+Math.min(t,4)*5,formatValue:formatInt}},{id:7,cost:115,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"antimatter",current:()=>Currency.antimatter.value,required:t=>DC.E300000.pow(Math.min(t,4)).times(DC.E500000),formatValue:t=>format(t)}},{id:8,cost:115,requirement:[123],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Infinity Points",current:()=>Currency.infinityPoints.value,required:t=>DC.E1000.pow(Math.min(t,4)).times(DC.E4000),formatValue:t=>format(t)}},{id:9,cost:415,requirement:[151],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Infinity Power",current:()=>Currency.infinityPower.value,required:t=>DC.E2000.pow(Math.min(t,4)).times(DC.E17500),formatValue:t=>format(t)}},{id:10,cost:550,requirement:[181],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{resource:"Eternity Points",current:()=>Currency.eternityPoints.value,required:t=>DC.E20.pow(Math.min(t,4)).times(DC.E100),formatValue:t=>format(t)}},{id:11,cost:1,requirement:[231,232],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{path:"Antimatter Dimension",forbiddenStudies:[72,73]}},{id:12,cost:1,requirement:[233,234],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{path:"Time Dimension",forbiddenStudies:[71,72]}}],dR=t=>{const e=t*10+1,i=Math.min(Math.pow(e,.125),500);return DC.D15.pow(Math.log(e)*i)},hR=()=>{const t=Effarig.isRunning&&Effarig.currentStage===EFFARIG_STAGES.ETERNITY,e=Perk.studyPassive.isBought?1e50:1e25;return t?Math.min(e,Effarig.eternityCap.toNumber()):e},Cq=[{id:11,cost:1,requirement:[],reqType:TS_REQUIREMENT_TYPE.ALL,description:"Tickspeed affects 1st Time Dimension with reduced effect",effect:()=>{const t=Tickspeed.current.dividedBy(1e3),e=t.pow(.005).times(.95),i=t.pow(3e-4).times(.05);return e.plus(i).reciprocate()},cap:DC.E2500,formatEffect:t=>formatX(t,2,1)},{id:21,cost:3,requirement:[11],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Improve Replicanti multiplier formula to
      (log2(x)${formatPow(2)})+x${formatPow(.032,3,3)}`,effect:()=>Replicanti.amount.pow(.032),formatEffect:t=>{const e=Decimal.pow(Decimal.log2(Replicanti.amount.clampMin(1)),2),i=e.plus(t);return formatX(i.div(e).clampMin(1),2,2)}},{id:22,cost:2,requirement:[11],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Base Replicanti interval limit ${formatInt(50)}ms ➜ ${formatInt(1)}ms`,effect:1},{id:31,cost:3,requirement:[21],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Powers up multipliers that are based on your Infinities (Bonuses${formatPow(4)})`,effect:4},{id:32,cost:2,requirement:[22],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"You gain more Infinities based on Dimension Boosts",effect:()=>Math.max(DimBoost.totalBoosts,1),formatEffect:t=>formatX(t,2)},{id:33,cost:2,requirement:[22],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"You keep half of your Replicanti Galaxies on Infinity"},{id:41,cost:4,requirement:[31],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`All Galaxies give a ${formatX(DC.D1_2,1,1)} multiplier to Infinity Points gained`,effect:()=>DC.D1_2.pow(Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies),formatEffect:t=>formatX(t,2,1)},{id:42,cost:6,requirement:[32],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Antimatter Galaxy requirement increases by ${formatInt(52)}
      8th Dimensions instead of ${formatInt(60)}`,effect:52},{id:51,cost:3,requirement:[41,42],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`You gain ${formatX(1e15)} more Infinity Points`,effect:1e15},{id:61,cost:3,requirement:[51],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`You gain ${formatX(15)} more Eternity Points`,effect:15},{id:62,cost:3,requirement:[42,()=>Perk.bypassEC5Lock.isBought||EternityChallenge(5).completions>0],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>`You gain Replicanti ${formatInt(3)} times faster`,effect:3},{id:71,cost:4,requirement:[61,()=>Perk.studyECRequirement.isBought||!EternityChallenge(12).isUnlocked],reqType:TS_REQUIREMENT_TYPE.DIMENSION_PATH,description:"Dimensional Sacrifice affects all other Antimatter Dimensions with reduced effect",effect:()=>Sacrifice.totalBoost.pow(.25).clampMin(1),cap:DC.E210000,formatEffect:t=>formatX(t,2,1)},{id:72,cost:6,requirement:[61,()=>Perk.studyECRequirement.isBought||!EternityChallenge(11).isUnlocked&&!EternityChallenge(12).isUnlocked],reqType:TS_REQUIREMENT_TYPE.DIMENSION_PATH,description:"Dimensional Sacrifice affects 4th Infinity Dimension with greatly reduced effect",effect:()=>Sacrifice.totalBoost.pow(.04).clampMin(1),cap:DC.E30000,formatEffect:t=>formatX(t,2,1)},{id:73,cost:5,requirement:[61,()=>Perk.studyECRequirement.isBought||!EternityChallenge(11).isUnlocked],reqType:TS_REQUIREMENT_TYPE.DIMENSION_PATH,description:"Dimensional Sacrifice affects 3rd Time Dimension with greatly reduced effect",effect:()=>Sacrifice.totalBoost.pow(.005).clampMin(1),cap:DC.E1300,formatEffect:t=>formatX(t,2,1)},{id:81,cost:4,requirement:[71],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Base Dimension Boost power becomes ${formatX(10)}`,effect:10},{id:82,cost:6,requirement:[72],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Dimension Boosts affect Infinity Dimensions",effect:()=>DC.D1_0000109.pow(Math.pow(DimBoost.totalBoosts,2)),cap:DC.E1E7,formatEffect:t=>formatX(t,2,1)},{id:83,cost:5,requirement:[73],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Dimension Boost multiplier based on tick upgrades gained from TDs",effect:()=>DC.D1_0004.pow(player.totalTickGained),cap:DC.E30,formatEffect:t=>formatX(t,2,1)},{id:91,cost:4,requirement:[81],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Antimatter Dimension multiplier based on time spent in this Eternity",effect:()=>Decimal.pow10(Math.min(Time.thisEternity.totalMinutes,20)*15),cap:DC.E300,formatEffect:t=>formatX(t,2,1)},{id:92,cost:5,requirement:[82],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Infinity Dimension multiplier based on fastest Eternity time",effect:()=>DC.D2.pow(60/Math.max(Time.bestEternity.totalSeconds,2)),cap:DC.C2P30,formatEffect:t=>formatX(t,2,1)},{id:93,cost:7,requirement:[83],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Time Dimension multiplier based on tick upgrades gained",effect:()=>Decimal.pow(player.totalTickGained,.25).clampMin(1),formatEffect:t=>formatX(t,2,1)},{id:101,cost:4,requirement:[91],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Antimatter Dimension multiplier equal to Replicanti amount",effect:()=>Decimal.max(Replicanti.amount,1),formatEffect:t=>formatX(t,2,1)},{id:102,cost:6,requirement:[92],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Replicanti Galaxies boost Replicanti multiplier",effect:()=>DC.D5.pow(player.replicanti.galaxies),formatEffect:t=>formatX(t,2,1)},{id:103,cost:6,requirement:[93],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Time Dimension multiplier equal to Replicanti Galaxy amount",effect:()=>Math.max(player.replicanti.galaxies,1),formatEffect:t=>formatX(t,2,0)},{id:111,cost:12,requirement:[101,102,103],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>Achievement(103).canBeApplied?`Make the Infinity Point formula better log(x)/${formatFloat(307.8,1)} ➜ log(x)/${formatInt(285)}`:`Make the Infinity Point formula better log(x)/${formatInt(308)} ➜ log(x)/${formatInt(285)}`,effect:285},{id:121,cost:9,STCost:2,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[122,123],description:()=>Perk.studyActiveEP.isBought?`You gain ${formatX(50)} more Eternity Points`:`You gain more EP based on how fast your last ten Eternities
      were${PlayerProgress.realityUnlocked()?" (real time)":""}`,effect:()=>Perk.studyActiveEP.isBought?50:Math.clamp(250/Player.averageRealTimePerEternity,1,50),formatEffect:t=>Perk.studyActiveEP.isBought?void 0:formatX(t,1,1),cap:50},{id:122,cost:9,STCost:2,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[121,123],description:()=>Perk.studyPassive.isBought?`You gain ${formatX(50)} more Eternity Points`:`You gain ${formatX(35)} more Eternity Points`,effect:()=>Perk.studyPassive.isBought?50:35},{id:123,cost:9,STCost:2,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[121,122],description:"You gain more Eternity Points based on time spent this Eternity",effect:()=>{const t=TimeSpan.fromMinutes(Perk.studyIdleEP.effectOrDefault(0)),e=Time.thisEternity.plus(t).totalSeconds;return Math.sqrt(1.39*e)},formatEffect:t=>formatX(t,1,1)},{id:131,cost:5,STCost:8,requirement:[121],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[132,133],description:()=>Achievement(138).isUnlocked?`You can get ${formatPercents(.5)} more Replicanti Galaxies`:`Automatic Replicanti Galaxies are disabled, but you can get ${formatPercents(.5)} more`,effect:()=>Math.floor(player.replicanti.boughtGalaxyCap/2)},{id:132,cost:5,STCost:8,requirement:[122],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[131,133],description:()=>Pelle.isDoomed?`Replicanti Galaxies are ${formatPercents(.4)} stronger`:`Replicanti Galaxies are ${formatPercents(.4)} stronger and Replicanti are 
        ${Perk.studyPassive.isBought?formatX(3):formatX(1.5,1,1)} faster`,effect:.4},{id:133,cost:5,STCost:8,requirement:[123],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[131,132],description:()=>Achievement(138).isUnlocked?`Replicanti Galaxies are ${formatPercents(.5)} stronger`:`Replicanti are ${formatX(10)} slower until ${format(Number.MAX_VALUE,2)}, but Replicanti Galaxies are ${formatPercents(.5)} stronger`,effect:.5},{id:141,cost:4,STCost:2,requirement:[131],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[142,143],description:()=>Perk.studyActiveEP.isBought?`You gain ${formatX(DC.E45)} more Infinity Points`:"Multiplier to Infinity Points, which decays over this Infinity",effect:()=>Perk.studyActiveEP.isBought?DC.E45:DC.E45.divide(dR(Time.thisInfinity.totalSeconds)).clampMin(1),formatEffect:t=>Perk.studyActiveEP.isBought?void 0:formatX(t,2,1)},{id:142,cost:4,STCost:2,requirement:[132],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[141,143],description:()=>`You gain ${formatX(hR())} more Infinity Points`,effect:hR,cap:()=>Effarig.eternityCap===void 0?void 0:Effarig.eternityCap.toNumber()},{id:143,cost:4,STCost:2,requirement:[133],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[141,142],description:"Multiplier to Infinity Points, which increases over this Infinity",effect:()=>{const t=TimeSpan.fromMinutes(Perk.studyIdleEP.effectOrDefault(0)),e=Time.thisInfinity.plus(t).totalSeconds;return dR(e)},formatEffect:t=>formatX(t,2,1),cap:()=>Effarig.eternityCap},{id:151,cost:8,requirement:[141,142,143],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`${formatX(1e4)} multiplier on all Time Dimensions`,effect:1e4},{id:161,cost:7,requirement:[151],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`${formatX(DC.E616)} multiplier on all Antimatter Dimensions`,effect:()=>DC.E616},{id:162,cost:7,requirement:[151],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`${formatX(1e11)} multiplier on all Infinity Dimensions`,effect:1e11},{id:171,cost:15,requirement:[161,162],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Time Shard requirement for the next Tickspeed upgrade goes up slower
      ${formatX(1.33,0,2)} ➜ ${formatX(1.25,0,2)}`,effect:()=>1.25},{id:181,cost:200,requirement:[171,()=>EternityChallenge(1).completions>0||Perk.bypassEC1Lock.isBought,()=>EternityChallenge(2).completions>0||Perk.bypassEC2Lock.isBought,()=>EternityChallenge(3).completions>0||Perk.bypassEC3Lock.isBought],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>`You gain ${formatPercents(.01)} of your Infinity Points gained on crunch each second`,effect:()=>gainedInfinityPoints().times(Time.deltaTime/100).timesEffectOf(Ra.unlocks.continuousTTBoost.effects.autoPrestige)},{id:191,cost:400,requirement:[181,()=>EternityChallenge(10).completions>0],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>`After Eternity you permanently keep ${formatPercents(.05)}
    of your Infinities as Banked Infinities`,effect:()=>Currency.infinities.value.times(.05).floor()},{id:192,cost:730,requirement:[181,()=>EternityChallenge(10).completions>0,()=>!Enslaved.isRunning],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>Enslaved.isRunning?"There is not enough space in this Reality":`Replicanti can go beyond ${format(replicantiCap(),2,1)}, but growth slows down at higher amounts`},{id:193,cost:300,requirement:[181,()=>EternityChallenge(10).completions>0],reqType:TS_REQUIREMENT_TYPE.ALL,description:"Antimatter Dimension multiplier based on Eternities",effect:()=>DC.E13000.pow(Currency.eternities.value.div(1e6).clampMax(1)),cap:DC.E13000,formatEffect:t=>formatX(t,2,1)},{id:201,cost:900,requirement:[192],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Pick a second path from the Dimension Split"},{id:211,cost:120,requirement:[191],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Dimension Boost requirement scaling is reduced by ${formatInt(5)}`,effect:5},{id:212,cost:150,requirement:[191],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"All Galaxies are stronger based on your Time Shards",effect:()=>Math.pow(Currency.timeShards.value.clampMin(2).log2(),.005),cap:1.1,formatEffect:t=>`+${formatPercents(t-1,3)}`},{id:213,cost:200,requirement:[193],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`You gain Replicanti ${formatInt(20)} times faster`,effect:20},{id:214,cost:120,requirement:[193],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Dimensional Sacrifice boosts the 8th Antimatter Dimension even more",effect:()=>{const t=Sacrifice.totalBoost,e=t.pow(7.6).clampMaxExponent(44e3),i=t.pow(1.05).clampMaxExponent(12e4);return e.times(i)},cap:DC.E164000,formatEffect:t=>formatX(t,2,1)},{id:221,cost:900,STCost:4,requirement:[211],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[222],description:"Time Dimension multiplier based on Dimension Boosts",effect:()=>DC.D1_0025.pow(DimBoost.totalBoosts),formatEffect:t=>formatX(t,2,1)},{id:222,cost:900,STCost:4,requirement:[211],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[221],description:()=>`Dimension Boost costs scale by another ${formatInt(2)} less`,effect:2},{id:223,cost:900,STCost:4,requirement:[212],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[224],description:()=>`Distant Galaxy cost scaling starts ${formatInt(7)} Galaxies later`,effect:7},{id:224,cost:900,STCost:4,requirement:[212],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[223],description(){const t=TimeStudy(224).effectValue;return`Distant Galaxy cost scaling starts ${quantifyInt("Galaxy",t)} later
        (${formatInt(1)} per ${formatInt(2e3)} Dim Boosts)`},effect:()=>Math.floor(DimBoost.totalBoosts/2e3)},{id:225,cost:900,STCost:4,requirement:[213],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[226],description:"You gain extra Replicanti Galaxies based on Replicanti amount",effect:()=>Math.floor(Replicanti.amount.exponent/1e3),formatEffect:t=>`+${formatInt(t)} RG`},{id:226,cost:900,STCost:4,requirement:[213],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[225],description:"You gain extra Replicanti Galaxies based on their max",effect:()=>Math.floor(player.replicanti.boughtGalaxyCap/15),formatEffect:t=>`+${formatInt(t)} RG`},{id:227,cost:900,STCost:4,requirement:[214],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[228],description:"Dimensional Sacrifice affects 4th Time Dimension with reduced effect",effect:()=>Math.max(Math.pow(Sacrifice.totalBoost.pLog10(),10),1),formatEffect:t=>formatX(t,2,2)},{id:228,cost:900,STCost:4,requirement:[214],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[227],description:()=>`Dimensional Sacrifice formula scales better
      ${Sacrifice.getSacrificeDescription({TimeStudy228:!1})} ➜
      ${Sacrifice.getSacrificeDescription({TimeStudy228:!0})}`,effect:.2},{id:231,cost:500,STCost:5,requirement:[221,222],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[232],description:"Dimension Boosts are stronger based on their amount",effect:()=>Decimal.pow(DimBoost.totalBoosts,.3).clampMin(1),formatEffect:t=>formatX(t,2,2)},{id:232,cost:500,STCost:5,requirement:[223,224],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[231],description:"All Galaxies are stronger based on Antimatter Galaxies",effect:()=>Math.pow(1+player.galaxies/1e3,.2),formatEffect:t=>`+${formatPercents(t-1,3)}`},{id:233,cost:500,STCost:5,requirement:[225,226],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[234],description:"Max Replicanti Galaxy upgrade is cheaper based on current Replicanti",effect:()=>Replicanti.amount.pow(.3),formatEffect:t=>`/ ${format(t,1,2)}`},{id:234,cost:500,STCost:5,requirement:[227,228],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[233],description:"Dimensional Sacrifice applies to 1st Antimatter Dimension",effect:()=>Sacrifice.totalBoost},{id:301,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=1,221,222,231],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[221,222,231],description:"Time Study 231 improves the effect of Time Study 221",effect:()=>TimeStudy(221).effectValue.pow(TimeStudy(231).effectValue.minus(1)).clampMin(1),formatEffect:t=>formatX(t,2,1),unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=1},{id:302,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=2,223,224,232],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[223,224,232],description:()=>`Distant Galaxy scaling threshold starts another ${formatInt(3e3)} Antimatter Galaxies later`,effect:3e3,unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=2},{id:303,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=3,225,226,233],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[225,226,233],description:()=>`Gain ${formatPercents(.5)} more extra Replicanti Galaxies from Time Studies 225 and 226,
      and from Effarig's Infinity`,effect:1.5,unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=3},{id:304,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=4,227,228,234],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[227,228,234],description:"Dimensional Sacrifice multiplier is squared",effect:2,unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=4}],kq={dilation:bq,milestones:_q,timeStudies:{dilation:Eq,ec:Tq,normal:Cq},upgrades:wq},Ll={tabs:[{name:"This Modal",info:()=>`
Welcome to the How to Play!
<br>
<br>
This modal (pop-up window) contains in-depth explanations and additional details for everything you will encounter
as you progress through the game. As you unlock new features and mechanics, you will also gain access to additional
pages here. If you ever feel lost or confused about how something in the game works, you may find a helpful
explanation within the related entry in here. 
<br>
<br>
For now, opening the How to Play will always start you on this page. After you get your first Dimension Boost,
opening this modal will instead place you on the How to Play entry most relevant to the game content on your currently
visible tab and subtab, if such an entry exists.
`,isUnlocked:()=>!0,tags:["h2p","how","to","play","modal"],tab:""},{name:"Your savefile",info:()=>`
Your game's save data is stored on your computer's browser data if you are playing on a web browser, or in your Steam
installation folder if you are playing on Steam. This means that clearing your browser's cache or cookies, or fully
uninstalling the game from Steam will also delete your save file.
Similarly, if you are playing in a private or incognito window, your save
will not be there the next time you open up your browser. The saves are browser-specific as well, so for example
if you play the game on Chrome, you will not find your save on Firefox. Lastly, any saves you have on the web version
and the Steam version will also be completely independent from each other.
<br>
<br>
You can transfer your save between places by using the export function, which will copy a <i>very</i> long string of
random-looking characters into your clipboard. That text contains your save data, which you can load back into the
game by pasting it into the text box on the import prompt. You need the entirety of the save text for importing to
work properly, or else the game might not recognize the text as a valid save. Certain messaging applications may
cut off part of the text if you are using one to transfer the save between devices.
<br>
<br>
A properly-formatted save string from the Reality update will start with
<b>${GameSaveSerializer.startingString.savefile}</b> and end with <b>${GameSaveSerializer.endingString.savefile}</b>.
If you are importing from a version of the game from before Reality was released, it will instead start with <b>eyJ</b>
and end with <b>In19</b>, <b>fX0=</b>, or <b>fQ==</b>. If neither of these are the case, then part of your save is
missing and it will fail to import. In addition to importing and exporting to your clipboard, you can also import
and export from text files as well.
<br>
You can use the "Choose save" button to pick between three separate saves on your browser. These saves are, for most
intents and purposes, completely separate from each other. Importing and exporting will only affect the current save
slot. <b>The only exception is clearing your browser or Steam data, in which case all three saves will be reset.</b>
<br>
<br>
The game automatically saves periodically, by default once every ${formatInt(30)} seconds.
Keep this in mind if you need to close the game - anything you
do right before closing it might not be saved unless you wait for the autosave interval or manually save again. The
length of the autosave interval is adjustable, and its timer can be seen in the bottom-left of the screen.
<br>
<br>
Backups of your savefile are also saved after certain amounts of time online or offline, which you can examine and
reload at any point by clicking the "Open Automatic Save Backup Menu" button. These backups may be useful if you wish
to revert your save to what it looked like some time in the past, such as a few minutes ago or when you were last
offline for a while.
<br>
<br>
You can also connect a Google Account to the game, allowing you to save your progress online. This allows you to play
with the same save on any device which is also logged into the same account. Cloud saving is only compatible with other
saves on the web or Steam versions of the game; saves from the Android app of the game will not be automatically linked
via Cloud saving. Saving and loading from the Cloud will
automatically overwrite the other save unless the other save is either older or has noticeably more progression, in
which case a modal will appear which asks you which save you want to keep.
<br>
<br>
You can completely reset your save at any point if desired by clicking the button, which brings up a prompt you need
to fill out in order to make sure you intentionally wanted to reset. Going through with this reset will only clear
your current save; the other save slots will be unaffected. <b>Resetting your game in this way is completely
irreversible and gives you no permanent benefits, secret or otherwise.</b>
`,isUnlocked:()=>!0,tags:["choose","cloud","google","save","import","export","reset"],tab:"options/saving"},{name:"Customization",info:()=>`
The game has two different UI layouts - the Classic UI maintains the style of Antimatter Dimensions from before the
Reality update, while the Modern UI is a redesign based on more modern dark theme styles. Additionally, there are
various themes which can be applied to modify the appearance of everything in the game. There are a few secret themes
which can be unlocked through importing certain phrases. Both UI layouts support all the different possible themes.
<br>
<br>
The notation used to display numbers in the game defaults to Mixed Scientific, but can be changed to one of numerous
options in the drop-down menu. Many of these notations are intended as jokes and in some cases will format numbers
in a way that causes text to spill over into other parts of the screen - this is not a bug. You can additionally
configure what numbers look like when they are extremely large using the "Exponent Notation Options" menu,
although this may result in some odd text appearances in some places.
<br>
<br>
Many events in the game trigger full-screen animations or pop-up modals which require you to confirm that you want to
continue. Most of these animations and confirmations can be disabled on an individual basis through the options,
although the ability to disable any given animation or confirmation will only appear after they have already shown up
at least once.
`,isUnlocked:()=>!0,tags:["UI","update","news","theme","notation","comma","exponent","animation","retry","confirmation","offline","hotkey","classic","modern"],tab:"options/visual"},{name:"Offline Progress",info:()=>`
Antimatter Dimensions has a catch-up mechanic which attempts to simulate the game's behavior if the game is closed for
an extended period of time. The simulation behavior is only somewhat accurate, as the game is too mathematically
complicated to be run at full accuracy in a reasonable amount of time. At the end of the simulation, the game will
summarize how various relevant resources have changed while you were gone.
<br>
<br>
If the game is left open and becomes unfocused or otherwise suspended for an extended period of time, it will attempt
to apply the missed time as offline progress when you return. This can be potentially unreliable, as different devices
handle these situations differently. If this results in undesirable behavior, there is a toggle to turn this off in the
options - in that case the game will try to apply all the missed time in a single tick.
<br>
<br>
The game runs on a system where everything is updated once per tick - all Dimensions and resources do one unit of
production, all autobuyers trigger once, all multipliers and values are changed accordingly, and all the displayed
numbers are updated. By default there are ${formatInt(20)} ticks per second when the game is running, although this can
be modified by changing the "Update rate" within the game Options.
Your current settings will run the game at ${format(1e3/player.options.updateRate,2,1)} ticks per second on
average, although lag and internal javascript behavior may cause individual ticks to vary by a few percent.
<br>
<br>
When offline simulation is active, these ticks have an adjusted length in order to fill the amount of time you were
away - for example having a setting for ${formatInt(1e3)} offline ticks and closing the game for an hour will result in
ticks which are ${format(3.6,1,1)} seconds long each. For most things in the game, this is not an issue because this
will still result in approximately the same amount of resources after the simulation completes. A notable exception is
autobuyers - in this situation autobuyers will effectively only trigger once every ${format(3.6,1,1)} seconds, which
may have a strong impact depending on the part of the game.
<br>
<br>
${player.blackHole[0].unlocked?`<b>Offline Black Hole behavior:</b> Once the Black Hole has been unlocked, the offline progress simulation will
      attempt to run the game in a way where each tick contains roughly the same amount of <i>game</i> time. This may
      give the appearance of the Black Hole(s) being active for a much larger fraction of time than normal while
      simulating, when in fact the game is running active periods more slowly and "skipping past" the inactive periods
      because they contribute much less production per real time. This results in behavior which is generally in your
      favor when compared to ticks with constant real time.
      <br>
      <br>`:""}
Offline tick count can be adjusted between ${formatInt(500)} and ${formatInt(DC.E6)} ticks. Smaller counts will result
in faster but less accurate simulations, while larger counts will result in more accurate simulations which take longer
to complete. There is a limit of one day of time per game tick, meaning there are some rare situations (such as not
playing the game for more than a year) where you may not get all of the time you were away.
<br>
<br>
Offline progress can be disabled entirely if desired, for example for diagnostic or timing purposes, or in order
to do an "online only" playthrough of the game. Otherwise, offline progress is on by default from the very beginning
of the game. Note that if offline progress is disabled, the statistic for total time played will also be paused while
the game closed.
`,isUnlocked:()=>!0,tags:["offline","away","progress"],tab:"options/gameplay"},{name:"Effect Stacking",info:()=>`
Most of the effects and upgrades in Antimatter Dimensions largely fall into three categories:
<br>
- <b>Additive:</b> These effects are typically denoted with a + (or the word "increase") followed by a number,
and add their value to some
base amount. Multiple additive effects are summed up. These can also sometimes show up as subtractive effects which
reduce resource costs.
<br>
- <b>Multiplicative:</b> These effects are shown either by a × (or the word "multiply") followed by a number or,
more rarely, as two numbers
separated by a ➜. Different multiplicative sources always combine by multiplying, never by adding. In some situations,
there may be negative effects or cost reductions that apply in this category as division.
<br>
- <b>Power</b>: These effects are much rarer and appear as ^ followed by a number. Multiple power effects apply
sequentially, or equivalently by multiplying the values of the power effects together and applying the final value
as a single power. In rare situations, negative effects may apply here in this category as powers which are less
than ${formatInt(1)}.
<br>
<br>
Unless otherwise noted when an upgrade or reward <i>replaces</i> an older value, all of these effects stack
with each other. In the case of an upgrade replacing an older value with a newer value, the replacement occurs before
any of the above effects are applied. To determine the final value of a set of effects, the effects from each category
are individually combined, and then applied in the order of additive, multiplicative, then power effects.
<br>
<br>
${PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()?"Dilation and any Dilation-like effects apply <i>after</i> all of these other effects are stacked together.":""}
<br>
<br>
${PlayerProgress.realityUnlocked()?`Glyph Effects effectively have two stacking attributes; their internal way of stacking together and the way
      they stack with all other game effects. These may not necessarily be the same - for example, the "Antimatter
      Dimension Power" effect will stack <i>additively with itself</i>, but then the total effect will be added to
      a base value of ${formatInt(1)} and then applied as a <i>power effect</i> to Antimatter Dimensions.`:""}
`,isUnlocked:()=>!0,tags:["effect","stack","combine","add","reduce","multiply","divide","power","dilation","glyph"],tab:"options/gameplay"},{name:"Common Abbreviations",info:()=>`
Many resources within the game may appear in an abbreviated format as text in order to save space. This How to
Play entry will update itself with additional entries for new resources as you encounter them for the first time.
<br>
- <b>AM</b>: Antimatter<br>
- <b>AD</b>: Antimatter Dimension<br>
- <b>AG</b>: Antimatter Galaxy<br>
${PlayerProgress.infinityUnlocked()?"- <b>IP</b>: Infinity Point<br>":""}
${PlayerProgress.infinityUnlocked()?"- <b>NC</b>: Normal Challenge<br>":""}
${PlayerProgress.infinityUnlocked()?"- <b>IC</b>: Infinity Challenge<br>":""}
${InfinityDimension(1).isUnlocked||PlayerProgress.eternityUnlocked()?"- <b>ID</b>: Infinity Dimension<br>":""}
${PlayerProgress.replicantiUnlocked()?"- <b>RG</b>: Replicanti Galaxy<br>":""}
${PlayerProgress.eternityUnlocked()?"- <b>EP</b>: Eternity Point<br>":""}
${PlayerProgress.eternityUnlocked()?"- <b>TT</b>: Time Theorem<br>":""}
${PlayerProgress.eternityUnlocked()?"- <b>TD</b>: Time Dimension<br>":""}
${PlayerProgress.eternityUnlocked()?"- <b>EC</b>: Eternity Challenge<br>":""}
${PlayerProgress.dilationUnlocked()?"- <b>TP</b>: Tachyon Particle<br>":""}
${PlayerProgress.dilationUnlocked()?"- <b>DT</b>: Dilated Time<br>":""}
${PlayerProgress.dilationUnlocked()?"- <b>TG</b>: Tachyon Galaxy<br>":""}
${PlayerProgress.realityUnlocked()?"- <b>RM</b>: Reality Machine<br>":""}
${PlayerProgress.realityUnlocked()?"- <b>AP</b>: Automator Point<br>":""}
${PlayerProgress.realityUnlocked()?"- <b>BH</b>: Black Hole<br>":""}
${MachineHandler.isIMUnlocked?"- <b>iM</b>: Imaginary Machine<br>":""}
${Laitela.isUnlocked?"- <b>DM</b>: Dark Matter<br>":""}
${Laitela.isUnlocked?"- <b>DE</b>: Dark Energy<br>":""}
`,isUnlocked:()=>!0,tags:["abbreviation","shorten","am","ad","ag","ip","nc","ic","id","rg","ep","tt","td","ec","tp","dt","tg","rm","ap","bh","im","dm","de"],tab:""},{name:"Antimatter Dimensions",info:()=>`
Antimatter is a resource that is used throughout the entire game for purchasing various things as you progress. You
start with ${formatInt(10)} antimatter when you first open the game, and you can
spend it to buy the 1st Antimatter Dimension to start the game.
<br>
<br>
Antimatter Dimensions are your production units in game. The 1st Antimatter Dimension produces your antimatter.
Each consecutive Antimatter Dimension produces the previous one, allowing you to have steady growth.
There are eight Antimatter Dimensions total.
<br>
<br>
<b>Dimension Multiplier:</b> Beside the Dimension there is a multiplier (example: 1st Dimension ${formatX(1,1,1)}).
The base production of each Dimension is multiplied by this number.
This multiplier increases by ${formatX(2)} for every ${formatInt(10)} of that Dimension purchased.
Each time this occurs, the price of the dimension will increase.
<br>
<br>
<b>Accumulated Dimension Quantity:</b> The next column is your current amount of that Dimension you own.
This is a combination of how many you have purchased with antimatter,
as well as produced from the higher Dimension.
<br>
<br>
<b>Purchased Dimensions Quantity:</b> Next to each accumulated quantity of owned Dimensions,
the amount of that Dimension purchased toward the next multiplier upgrade is displayed in brackets.
For example if you have (${formatInt(4)}) next to your accumulated dimension quantity,
you will need ${formatInt(6)} more of that dimension for the next multiplier increase.
<br>
<br>
<b>Dimension Growth Percent:</b> This number represents the amount of growth that each
Dimension experiences per second. ${formatPercents(1)} means the dimension is doubling each second.
This allows you to judge overall growth.
<br>
<br>
<b>Cost &amp; until ${formatInt(10)}:</b>
You can buy a single quantity of each Dimension with antimatter when the cost button is highlighted.
Alternatively, if the Until ${formatInt(10)} button is highlighted,
you can buy whatever quantity gets you to that Dimension's next Dimension multiplier.
<br>
<br>
<b>Max all:</b> Max all will buy until ${formatInt(10)} of the 1st Antimatter Dimension until it cannot anymore,
then second, and so on until the 8th Antimatter Dimension, and then buy max Tickspeed Upgrades.
<br>
<br>
<b>Dimension base prices:</b> ${Array.range(1,8).map(t=>format(AntimatterDimension(t)._baseCost,2,2)).join(", ")}
<br>
<b>Base per ${formatInt(10)} bought dimension price increases:</b> ${Array.range(1,8).map(t=>format(AntimatterDimension(t)._baseCostMultiplier,2,2)).join(", ")}
<br>
<br>
<b>Hotkeys: 1, 2, 3, 4, 5, 6, 7, 8</b> for buy until ${formatInt(10)} Xth Dimension
(you can also hold down Shift while buying Dimensions, which will only buy
${formatInt(1)} instead of ${formatInt(10)}), <b>M</b> for Max all
`,isUnlocked:()=>!0,tags:["dims","normal","antimatter","ad"],tab:"dimensions/antimatter"},{name:"Tickspeed",info:()=>`
Production in the game happens on each "tick", which initially occurs once per second. By buying Tickspeed Upgrades,
you can make your Antimatter Dimensions produce faster, as if multiple ticks occur in each second.
<br>
<br>
<b>Tickspeed:</b> This states how many game ticks are occurring every second. Fractional ticks are accounted for,
boosting production as if part of a game tick has passed. Note that the actual tickspeed time is simulated and the
game always runs calculations at the update rate you've chosen in the Options tab.
<br>
<br>
<b>Cost:</b> The cost of antimatter for multiplying ticks/sec by the displayed multiplier.
(without any Galaxies, this is ${formatX(1.1245,0,3)} per purchase)
<br>
<br>
<b>Buy Max:</b> This will buy the maximum amount of Tickspeed Upgrades available
with your current amount of antimatter.
<br>
<br>
<b>Hotkeys: T</b> will purchase as many Tickspeed Upgrades as possible, or <b>Shift+T</b> to buy a single upgrade.
<b>M</b> for Max all.
`,isUnlocked:()=>Tickspeed.isUnlocked,tags:["dimension","earlygame","time"],tab:"dimensions/antimatter"},{name:"Dimension Boosts",info:()=>`
<b>Dimension Boost:</b> This resets your antimatter and all of your Antimatter Dimensions, but unlocks another
Antimatter Dimension for you to purchase and boosts your Dimension multipliers.
The 1st Dimension Boost requires ${formatInt(20)} 4th Dimensions, the 2nd requires ${formatInt(20)} 5th Dimensions, etc.
After unlocking all ${formatInt(8)} Dimensions,
every additional boost will cost ${formatInt(15)} more 8th Dimensions than the previous Boost and will no longer
unlock a Dimension, but will continue to increase your Dimension multipliers.
<br>
<br>
You gain a ${formatX(2)} multiplier to the 1st Dimension for every Dimension Boost you have. Each higher
Dimension will have the multiplier applied one less time as the previous, down to a minimum of ${formatInt(0)}.
For example, with ${formatInt(3)} Boosts, the 1st Dimension will gain ${formatX(8)}, the 2nd Dimension ${formatX(4)},
the 3rd Dimension ${formatX(2)}, and all other Dimensions are unaffected.
<br>
<br>
<b>Hotkey: D</b> will try to purchase a Dimension Boost.
`,isUnlocked:()=>!0,tags:["dimboost","reset","earlygame"],tab:"dimensions/antimatter"},{name:"Antimatter Galaxies",info:()=>`
Purchasing an Antimatter Galaxy will reset your game back to the point where only ${formatInt(4)} Dimensions are
available, but will increase the effect of your Tickspeed Upgrades by +${format(.02,0,2)} for your first two
Galaxies. As you get more Galaxies, the multiplier will continue becoming stronger and stronger.
<br>
<br>
Though it will have very little impact for the first few Tickspeed purchases,
the increase is multiplicative and will not take long to be visible.
<br>
<br>
Your first Antimatter Galaxy requires ${formatInt(80)} Eighth Dimensions, and each additional Galaxy will cost
another ${formatInt(60)} more.
<br>
<b>Distant Galaxy scaling:</b> Above ${formatInt(100)} Antimatter Galaxies the cost increase between Galaxies will
increase by ${formatInt(2)} per Galaxy, making the next Galaxy cost ${formatInt(62)} more, then ${formatInt(64)} more,
etc.
<br>
<b>Remote Galaxy scaling:</b> Above ${formatInt(Galaxy.remoteStart)} Antimatter Galaxies, the <i>total</i> cost
increases by another ${formatPercents(.002,1)} per Galaxy, on top of Distant scaling.
<br>
<br>
<b>Hotkey: G</b> will try to purchase an Antimatter Galaxy.
`,isUnlocked:()=>!0,tags:["8th","reset","galaxy","earlygame"],tab:"dimensions/antimatter"},{name:"Dimensional Sacrifice",info:()=>`
<b>You unlock Dimensional Sacrifice after your fifth Dimension Boost.</b>
<br>
<br>
Sacrificing will immediately reset the owned quantity of all non-Eighth Dimensions to zero, without reducing the
multiplier or the current cost. In return, it will multiply the Eighth Dimension Multiplier by the shown value.
It will take time to get back to the production you previously had, but you will end up with a net increase.
<br>
<br>
The Dimensional Sacrifice multiplier scales with the number of 1st Dimensions you had at the time of sacrifice,
and the scaling can be improved by completing certain Achievements and challenges. The multiplier is kept between
sacrifices, meaning that sacrificing once at ${formatX(10)} and then once at ${formatX(4)} will be the same as
${formatX(8)} then ${formatX(5)}; in both cases you will end up with a total sacrifice multiplier of ${formatX(40)}.
<br>
<br>
<b>Hotkey: S</b> will try to sacrifice.
`,isUnlocked:()=>Sacrifice.isVisible,tags:["8th","reset","earlygame","gods","earlygame"],tab:"dimensions/antimatter"},{name:"Achievements",info:()=>`
Each Achievement has requirements to unlock. Once unlocked, some Achievements give a reward.
Requirements and rewards vary in difficulty and benefit significantly.
<br>
<br>
In addition to any specific rewards for individual Achievements, you will receive a ${formatX(1.03,2,2)} multiplier
to all Antimatter Dimensions. Each fully completed row also gives another ${formatX(1.25,2,2)}. The total multiplier
effect from all Achievements together is shown above all the Achievement images.
<br>
<br>
Secret Achievements offer no gameplay benefits or advantages and are simply there for fun. Hovering over a Secret
Achievement will give a hint on how to attain them.
`,isUnlocked:()=>!0,tags:["earlygame","awards","earlygame"],tab:"achievements"},{name:"Infinity",info:()=>`
Once you have too much antimatter for the world to handle (${formatInt(2)}<sup>${formatInt(1024)}</sup>
or about ${formatPostBreak(Number.MAX_VALUE,6)},
sometimes called "Infinity"), you will be forced to do a “Big Crunch”. This will reset your antimatter, Antimatter
Dimensions, Dimension Boosts, and your Antimatter Galaxies. Doing a Big Crunch is also sometimes referred to as
"Infinitying".
<br>
<br>
You will eventually be able to pass ${formatPostBreak(Number.MAX_VALUE,6)}, but until then any larger numbers will
display as ${format(1/0)}.
<br>
<br>
Each Infinity completed will give an Infinity Point, which can be spent on upgrades in the new Infinity tab.
You must purchase these upgrades from top to bottom. You will also gain one "Infinity", which is effectively
the number of times you have crunched.
<br>
<br>
The "Multiply Infinity Points from all sources by ${formatInt(2)}" upgrade can be bought multiple times,
but each purchase requires ${formatInt(10)} times as much IP.
You must complete the Achievement "No DLC required" to start purchasing this particular upgrade.
<br>
<br>
<b>Hotkey: C</b> will try to perform a Big Crunch.
`,isUnlocked:()=>PlayerProgress.infinityUnlocked(),tags:["crunch","big","upgrades","ip","reset","prestige","earlygame"],tab:"infinity/upgrades"},{name:"Normal Challenges",info:()=>`
Normal Challenges are unlocked after your first Infinity; they change in-game mechanics in different ways to create more
difficult Infinity circumstances. To complete a challenge, you must reach ${formatPostBreak(Number.MAX_VALUE,2)}
antimatter again.
<br>
<br>
Each completed Normal Challenge will award an autobuyer or the ability to upgrade an existing autobuyer.
You can run them multiple times (though only the first time grants a reward),
and they can be exited at any time via the “Exit Challenge” button.
<br>
<br>
Your first Infinity is considered to be the first Normal Challenge, and is thus already completed when
you unlock challenges.
<br>
<br>
The rightmost column of Infinity Upgrades does not work in challenges.
`,isUnlocked:()=>PlayerProgress.infinityUnlocked(),tags:["infinity","autobuyer","earlygame"],tab:"challenges/normal"},{name:"Autobuyers",info:()=>`
Autobuyers allow you to automatically purchase dimensions, upgrades, or prestiges. All autobuyer
controls are located under the "Autobuyers" subtab of the "Automation" tab, including any additional autobuyers
unlocked later in the game.
<br>
<br>
Antimatter Dimension Autobuyers and the Tickspeed Upgrade Autobuyer can be unlocked based on your total antimatter,
but most other autobuyers require upgrades to be purchased or challenges to be beaten.
<br>
<br>
Most Autobuyers have similar attributes:
<br>
<br>
<b>Autobuyer Interval:</b> The cooldown period before the autobuyer attempts to make another purchase.
Antimatter Dimension Autobuyers and the Tickspeed Upgrade Autobuyer require their respective challenges to be beaten
before their interval can be upgraded.
<br>
<br>
<b>Antimatter Dimension Autobuyer Bulk Buy:</b> Once the interval of an autobuyer reaches its minimum
(at ${formatInt(100)} ms), all future upgrades will double the maximum amount the autobuyer can purchase per tick.
This can be disabled.
<br>
<br>
<b>Antimatter Dimension Autobuyer Buy Quantity:</b> Autobuyers for Dimensions can be set to buy a single Dimension,
or until ${formatInt(10)}. Bulk buy is disabled when the autobuyer is set to singles.
<br>
<br>
<b>Tickspeed Autobuyer Buy Quantity:</b> The tickspeed autobuyer can be set to buy a single upgrade per activation
or to buy the max possible once the Tickspeed Challenge (C9) has been beaten.
<br>
<br>
<b>Automatic Dimension Boost Customization:</b> With the Dimension Boost autobuyer you can set the max number of
Boosts it will attempt to buy, a minimum number of Antimatter Galaxies before Dimension Boosts are
always auto-purchased, and (when unlocked) the ability to buy an exact number of Dimension Boosts in bulk.
If you reach your specified Galaxy threshold, the autobuyer will ignore your max Boost limit.
<br>
<br>
<b>Max Galaxies:</b> The highest amount of Galaxies the Galaxies autobuyer will buy.
<br>
<br>
<b>IP on crunch:</b> Once you Break Infinity, you can set how many IP you would like to wait for before crunching.
<br>
<br>
<b>Sacrifice Autobuyer:</b> This autobuyer starts with a maxed interval, potentially triggering every tick.
<br>
<br>
<b>Dynamic Amount:</b> Upgraded prestige autobuyers have a mode that triggers a prestige when a specified threshold
is passed. Turning on "Dynamic Amount" will allow this threshold value to be automatically increased when unlocking
certain upgrades or achievements which apply a multiplier to this value.
<br>
<br>
<b>Pause/Resume Autobuyers:</b> This button will pause or resume autobuyers which are turned on.
It does not change individual autobuyer settings. Think of it like a master switch.
<br>
<br>
<b>Enable/Disable All Autobuyers:</b> This button will turn all of your autobuyers on or off individually.
<br>
<br>
<b>Hotkey: A</b> (for pausing/resuming autobuyers).
Additionally, holding <b>Alt</b> when pressing a hotkey associated with an upgrade, dimension, or prestige will
toggle the associated autobuyer.
`,isUnlocked:()=>!0,tags:["infinity","automation","challenges","rewards","interval","earlygame"],tab:"automation/autobuyers"},{name:"Break Infinity",info:()=>`
Once you Break Infinity, you are no longer limited to ${formatPostBreak(Number.MAX_VALUE,2)} antimatter and can start
gaining more than ${formatInt(1)} IP per crunch depending on how much more antimatter you have when you crunch.
<br>
<br>
You now gain ~${format(1.78,2,2)} IP for crunching at ${formatPostBreak(Number.MAX_VALUE,2)} antimatter. The IP you
gain for crunching is multiplied by ${formatInt(10)} for every additional factor of
${formatPostBreak(Number.MAX_VALUE,2)} antimatter you gain (in a continuous manner). This is rounded down to the
nearest integer <i>after</i> all multipliers are applied.
<br>
<br>
The antimatter costs of all Dimensions begin to increase faster after they pass
${formatPostBreak(Number.MAX_VALUE,2)}. The cost <i>between</i> upgrades will increase by ${formatX(10)}
<i>per upgrade</i> above ${formatPostBreak(Number.MAX_VALUE,2)}, and a similar scaling happens to
Tickspeed Upgrade costs as well.
`,isUnlocked:()=>Autobuyer.bigCrunch.hasMaxedInterval||PlayerProgress.eternityUnlocked(),tags:["limit","crunch","upgrades","midgame"],tab:"infinity/break"},{name:"Infinity Dimensions",info:()=>`
<b>Unlocking Infinity Dimensions:</b> Infinity Dimensions are unlocked by reaching a certain amount of antimatter.
<br>
<br>
<b>Infinity Dimension Purchasing:</b> Infinity Dimensions are only purchasable in sets of ${formatInt(10)}, and cost
Infinity Points. They give a permanent multiplier per purchase, similar to the other dimensions. The actual multiplier
applied depends on which Infinity Dimension you purchase. <!-- Sorry Garnet :/ -->
<br>
<br>
<b>Infinity Dimension Production:</b> Just like Antimatter Dimensions, each Infinity Dimension produces the
next highest Infinity Dimension.
<br>
<br>
Every crunch, your produced Infinity Dimensions are reset to the amount you purchased. While the production
of Infinity Dimensions does not carry between crunches, all the multipliers you got from purchasing them do.
<br>
<br>
<b>Infinity Dimension unlock thresholds (antimatter):</b> ${Array.range(1,8).map(t=>formatPostBreak(InfinityDimension(t)._unlockRequirement)).join(", ")}
<br>
<b>Infinity Dimension purchase multipliers:</b> ${Array.range(1,8).map(t=>format(InfinityDimension(t)._powerMultiplier)).join(", ")}
<br>
<b>Infinity Dimension base prices (IP):</b> ${Array.range(1,8).map(t=>format(InfinityDimension(t)._baseCost)).join(", ")}
<br>
<b>Infinity Dimension price increases:</b> ${Array.range(1,8).map(t=>format(InfinityDimension(t)._costMultiplier)).join(", ")}
<br>
<br>
Instead of antimatter, the 1st Infinity Dimension produces Infinity Power, which gives a multiplier applied
to all Antimatter Dimensions equal to (power<sup>${formatInt(7)}</sup>). Infinity Dimensions are not
affected by Tickspeed Upgrades.
`,isUnlocked:()=>Autobuyer.bigCrunch.hasMaxedInterval||PlayerProgress.eternityUnlocked(),tags:["id","power","new","dims","unlock","break","midgame"],tab:"dimensions/infinity"},{name:"Infinity Challenges",info:()=>`
Infinity Challenges are like Normal Challenges, but they have higher end goals and are generally harder. Instead of
only unlocking autobuyers, they give you boosts to your various forms of production in more unique ways. Similarly to
Normal Challenges, the rightmost column of Infinity Upgrades are disabled within Infinity Challenges.
<br>
<br>
Unlike the Normal Challenges, which are all unlocked at once, Infinity Challenges require you to reach a certain
amount of antimatter before you can attempt them.
<br>
<br>
<b>Infinity Challenge unlock thresholds:</b> ${GameDatabase.challenges.infinity.map(t=>formatPostBreak(t.unlockAM)).join(", ")}
`,isUnlocked:()=>Autobuyer.bigCrunch.hasMaxedInterval||PlayerProgress.eternityUnlocked(),tags:["rewards","break","ic","midgame"],tab:"challenges/infinity"},{name:"Replicanti",info:()=>`
Replicanti are another resource you unlock at ${format(DC.E140)} IP. Rather
than producing something else, Replicanti actually produces <i>itself</i> up to a maximum of
${formatPostBreak(Number.MAX_VALUE,2)}. Replicanti are produced at their own pace, unaffected by Tickspeed Upgrades.
Each individual Replicanti has a certain chance (initially ${formatPercents(.01)}) of producing another Replicanti
every Replicanti tick (initially every second), and both of these can be upgraded by spending IP.
<br>
<br>
If you have purchased a Replicanti Galaxy upgrade, then you can get a "free" Replicanti Galaxy in exchange for
resetting your Replicanti count back to ${formatInt(1)}. This Galaxy is free in that it will act as if it was an
Antimatter Galaxy, but it will not make your next Antimatter Galaxy more expensive. However, it will still reset the
same things as an Antimatter Galaxy does.
<br>
<br>
<b>Hotkey: R</b> will try to purchase a Replicanti Galaxy.
<br>
Replicanti give a multiplier to all Infinity Dimensions, which will reach a maximum of
${formatX(Math.pow(2,20),2,2)} at ${formatPostBreak(Number.MAX_VALUE,2)} Replicanti.
<br>
<br>
<b>Chance upgrade cost:</b> Base ${format(DC.E150)} IP, cost increment ${formatX(DC.E15)} IP
<br>
<b>Interval upgrade cost:</b> Base ${format(DC.E140)} IP, cost increment ${formatX(DC.E10)} IP
<br>
<b>Galaxy upgrade cost:</b> Base ${format(DC.E170)} IP, cost increment ${formatX(DC.E25)} IP and an additional
${formatX(1e5)} IP per upgrade, scaling similarly to distant Antimatter Galaxies. Above ${formatInt(100)} Replicanti
Galaxies, this ${formatX(1e5)} per upgrade changes to ${formatX(DC.E55)}. Above ${formatInt(1e3)}, the scaling switches
from quadratic to cubic, with the ${formatX(DC.E55)} multiplier itself increasing by ${formatX(DC.E5)} per upgrade.
`,isUnlocked:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked(),tags:["interval","chance","infinity","galaxy","galaxies","midgame"],tab:"infinity/replicanti"},{name:"Eternity",info:()=>`
Upon reaching ${formatPostBreak(Number.MAX_VALUE,2)} IP, you can Eternity. Eternities will reset everything before this
point except challenge times, Achievements, and anything under the General section of the Statistics tab. You will be
able to access more content after your first Eternity.
<br>
<br>
You can pass ${formatPostBreak(Number.MAX_VALUE,2)} IP without anything being forced upon you, unlike the first time
you reached ${formatPostBreak(Number.MAX_VALUE,2)} antimatter. You will receive more Eternity Points the more
Infinity Points you had before going Eternal. You will also gain one "Eternity" for completing an Eternity.
<br>
<br>
Eternity Point gain scales similarly to Infinity Point gain, but scaling off of Infinity Points instead of antimatter.
The base amount of EP gained at ${formatPostBreak(Number.MAX_VALUE,2)} IP is ~${format(1.62,2,2)} EP, multiplied by
${formatInt(5)} for every factor of ${formatPostBreak(Number.MAX_VALUE,2)} more IP you have. This is always rounded
down, which means that you will get ${formatInt(1)} EP at ${formatPostBreak(Number.MAX_VALUE,2)} IP but will not reach
${formatInt(2)} EP until ${formatPostBreak(DC.E349)}.
<br>
<br>
<b>Hotkey: E</b> will try to perform an Eternity reset.
`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["eternal","ep","reset","prestige","midgame"],tab:"eternity/upgrades"},{name:"Eternity Milestones",info:()=>`
To make Eternities faster and more convenient, you will unlock various buffs as you get more "Eternity". These
buffs will generally let you start with certain upgrades you would otherwise lose after Eternity, give you new
autobuyers for better automation, or give you a way to passively gain resources offline at a reduced rate.
<br>
<br>
Milestones which give you upgrades will automatically purchase and upgrade them to their maximum when first starting
the Eternity, effectively letting you have them permanently.
<br>
<br>
All of the new autobuyers will have toggles next to their respective manual buttons (for example, Infinity Dimension
autobuyers can be found on the Infinity Dimension tab) in addition to their entries on the autobuyers tab.
The improvements to the Dimension Boost, Antimatter Galaxy, and Big Crunch autobuyers update their
already existing entries on the autobuyer tab.
<br>
<br>
The passive generation milestones only work offline by design and may need certain autobuyer settings to work
properly, as noted on the milestone page itself.
`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["eternities","rewards","automation","midgame"],tab:"eternity/milestones"},{name:"Time Dimensions",info:()=>`
After your first Eternity, you unlock Time Dimensions. You buy them with Eternity Points and they produce Time Shards,
which provide Tickspeed Upgrades. These Tickspeed Upgrades function like normal Tickspeed Upgrades but do not increase
their cost. Time Dimensions, Time Shards, and the Tickspeed Upgrades they provide are kept on Infinity,
but reset every Eternity.
<br>
<br>
Similarly to the other dimensions, Second Time Dimensions produce 1st Time Dimensions and so on. Similarly to Infinity
Dimensions, your production will be reset to the amount you purchased after every Eternity, but you will keep any
upgrades to your multipliers you purchased.
<br>
<br>
Each purchase increases the multiplier of that specific Time Dimension by ${formatX(4)}. The cost multiplier between
upgrades has a base value, but is increased by ${formatX(1.5,1,1)} at
${format(TimeDimension(1)._costIncreaseThresholds[0],2)} EP and ${formatX(2.2,1,1)} (of the base value) at
${format(TimeDimension(1)._costIncreaseThresholds[1])} EP. These increases apply retroactively, causing the cost to
jump when they reach those thresholds, and only apply to the first four dimensions. Beyond
${format(TimeDimension(1)._costIncreaseThresholds[2])} EP each dimension purchase counts as four purchases for the
purpose of cost increases, causing the price to rise much more steeply.
<br>
<b>Time Dimension base prices (EP):</b> ${Array.range(1,8).map(t=>format(TimeDimension(t)._baseCost)).join(", ")}
<br>
<b>Time Dimension base price increases:</b> ${Array.range(1,8).map(t=>format(TimeDimension(t)._costMultiplier)).join(", ")}
<br>
<br>
Each threshold to gain another Tickspeed Upgrade is ${formatPercents(.33)} more Time Shards than the previous,
or ${formatPercents(.25)} with the relevant Time Study. After ${formatInt(FreeTickspeed.softcap)} upgrades, the
multiplier between each successive free Tickspeed Upgrade will gradually increase at a rate of ~${formatX(1.35,0,2)}
per ${formatInt(5e4)} upgrades (${formatX(1.000006,0,6)} per upgrade).
`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["dims","td","shards","eternity","midgame"],tab:"dimensions/time"},{name:"Time Studies",info:()=>`
A Time Study is a powerful post-Eternity upgrade, which costs a new resource called Time Theorems. Time Studies can
boost the production of anything you have seen so far in the game, or even change the way some formulas work.
<br>
<br>
Time Theorems are a limited resource which costs more for each one you buy. They can be bought with antimatter,
Infinity Points, or Eternity Points. Their cost increases by a set factor per purchase. Time Theorems do not
reset on Eternity.
<br>
<br>
Studies are laid out in a tree-like fashion, where you must buy prerequisites before continuing. The only study you
can buy at first is the very top one, and then from there you can purchase any study directly below it which you can
afford. However, there are three exceptions:
<br>
Where the lines between studies have a color, you can only choose one of the three paths at a time.
<br>
When a study for an Eternity Challenge is in the way, you need to complete all challenges connected to it at least
once in order to access the study. You do not need to have the challenge study purchased in order to access it.
<br>
Near the bottom, where all the edges join together again, you can only pick one study out of each pair.
<br>
<br>
You are able to hold down shift and then click on a Time Study to buy all studies until that point. This might not buy
the studies you want if you shift-click a study in a position where you would have to choose between two or more
different options which you cannot get together (see above), or you cannot afford all the studies needed to reach that
point. Shift-click will buy studies greedily, getting as many as possible per row before moving farther downward.
<br>
<br>
<b>Presets:</b> The buttons initially labeled 1 through 6 allow you to save your current set of studies into the slot,
letting you quickly buy that particular set of studies again with a single click. You can hover over the button and
use the tooltip to load/save a slot, or click to load and shift-click to save. These presets can be renamed, but you
are not allowed to give multiple presets the same name.
<br>
<br>
<b>Import Tree/Edit Preset:</b> When editing a preset or importing a Time Study Tree, the modal will display what
Time Studies will be bought when it is loaded, along with any errors.
For the split paths, you can use the name as a shorthand for the collection of studies.
For instance, you can replace "71, 81, 91, 101" to represent fully purchasing the antimatter split with
just "antimatter". Additionally, if a Time Study string has a valid Eternity Challenge, adding a "!" to the end of
the string will make the game to try to immediately unlock and enter the Eternity Challenge when used.
<br>
<br>
<b>Preferences:</b> Clicking the gear icon will open up a dialog which lets you select "default" paths to pick in the
three-way branches. Choosing a default will change the shift-click behavior mentioned above so that it will attempt
to buy your preferred path and continue on instead of stopping completely at the tree splits. You can choose two paths
for the Dimension split in this dialog if you have purchased the relevant Time Study.
<br>
<br>
<b>Respecs:</b> A respec allows you to reset the upgrades you have in the tree to retrieve all of the Time Theorems
spent on them. It can be done for free, but only triggers on finishing an Eternity; you cannot respec Time Studies in
the middle of an Eternity.
<br>
<br>
<b>Costs for Time Theorems:</b>
<br>
<b>Antimatter:</b> Initially ${format(DC.E20000)}, ${formatX(DC.E20000)} per Theorem
<br>
<b>Infinity Points:</b> Initially ${formatInt(1)}, ${formatX(DC.E100)} per Theorem
<br>
<b>Eternity Points:</b> Initially ${formatInt(1)}, ${formatX(2)} per Theorem
`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["eternity","ts","theorems","tree","study","midgame"],tab:"eternity/studies"},{name:"Eternity Challenges",info:()=>`
Eternity Challenges are another set of challenges which are unlocked by the Time Study Tree. They require a certain
amount of Time Theorems and a secondary requirement which you must meet when you unlock the challenge.
<br>
<br>
When you enter an Eternity Challenge, your goal becomes reaching a certain target IP. After completing the challenge,
you do not need to have the Eternity Challenge's study unlocked for the reward to take effect. The rewards for these
challenges are similar to Time Studies, but often even stronger and permanent since they do not require you to spend
Time Theorems to have their effects.
<br>
<br>
You can only have one Eternity Challenge unlocked at a time.
<br>
<br>
You can complete each Eternity Challenge up to five times. After each completion, the rewards grow stronger but the
goal to the next completion also increases. Additionally, the secondary requirement to unlock the challenge again will
also increase. The Time Theorem cost does not increase.
<br>
<br>
Completing an Eternity Challenge's secondary requirements will remove them from the study requirement until you complete
that particular Eternity Challenge, meaning you only need to complete the secondary requirement <i>once</i>.
As a result, you can unlock an Eternity Challenge with one set of studies, and then respec into a different set of
studies to beat the challenge. EC11 and EC12 are exceptions to this rule - the Dimension path restrictions remain even
if you respec your time studies.
`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["ec","study","time","rewards","completions","midgame"],tab:"challenges/eternity"},{name:"Time Dilation",info:()=>`
Time Dilation is unlocked when you purchase the Time Study to unlock it below the EC11 and EC12 studies.
In order to purchase this Time Study, you need ${formatInt(5e3)} unspent TT with a tree that can reach
the study, a <i>total</i> of ${formatInt(TimeStudy.dilation.totalTimeTheoremRequirement)} TT, and must have
completed both EC11 and EC12 five times each.
<br>
<br>
Dilating time will start a modified Eternity, called Time Dilation, in which all of your Antimatter/Infinity/Time
Dimension multipliers’ <i>exponents</i> and the tickspeed multipliers’ <i>exponent</i> will be raised to
${formatPow(.75,2,2)}, significantly reducing them. If you can reach ${formatPostBreak(Number.MAX_VALUE,2)} IP
to complete this Dilated Eternity, you will be rewarded with a new resource called Tachyon Particles.
<br>
<br>
You can Dilate as many times as you want, but Tachyon Particles cannot be "farmed" like other resources. Tachyon
Particles are never reduced, only increased, and they are increased up to a cap based on your TP multipliers and
antimatter earned in the current Dilation. As a result, you generally cannot increase your TP unless
you have gained a TP multiplier or are able to significantly increase your antimatter in Dilation.
<br>
<br>
Tachyon Particles generate another currency called Dilated Time. Dilated Time is translated into Tachyon Galaxies by
reaching thresholds similarly to the Tickspeed Upgrades gained from Time Dimensions. These Tachyon Galaxies are like
Replicanti Galaxies in that they affect tickspeed as if they were Antimatter Galaxies but they do not increase the cost
of your next Antimatter Galaxy.
<br>
<br>
Unlocking Time Dilation also unlocks upgrades you can purchase using Dilated Time. The first and third upgrades in the
first row of Dilation Upgrades can be repeatedly purchased as many times as you can afford them. The second upgrade can
also be repeatedly bought, but eventually reaches a cap.
`,isUnlocked:()=>DilationTimeStudyState.studies[1].isBought||PlayerProgress.realityUnlocked(),tags:["dial","dt","dilated","tachyon","particle","study","free","galaxy","galaxies","midgame"],tab:"eternity/dilation"},{name:"Reality",info:()=>`
When you reach ${formatPostBreak(DC.E4000)} EP, you will be able to purchase the Time Study that unlocks Reality.
Unlocking it opens a new tab, where you can find the button to make a new Reality. Starting a new Reality
will reset almost the entire game up to this point, but in exchange gives
you a new currency known as Reality Machines, a Glyph, and a Perk Point.
<br>
<br>
Unlike the other resets so far, you also lose the first ${formatInt(13)} rows of Achievements - that is, all of the
pre-Reality Achievements and all of their associated rewards. However, you will still keep all values under the General
header in the Statistics tab and all of your best Challenge times.
<br>
<br>
After completing your first Reality, the Glyphs tab contain a button which lets you restart your current Reality again,
without changing what your upcoming Glyph choices are. <b>Note that this will not give you any rewards, even if you
would otherwise be able to complete the Reality normally.</b>
<br>
<br>
You need to redo the requirements for each Achievement in order to get their rewards again, but you will also passively
unlock the next incomplete Achievement every ${timeDisplayNoDecimals(30*6e4)} without any effort even if you
otherwise do not have the requirements to do so. This automatic completion can be disabled, in which case the timer will
count down to zero and pause, immediately completing another Achievement when unpaused. The timer still progresses
at the same rate while offline.
<br>
<br>
Reality Machines can be spent on different upgrades throughout the Reality tab and are your primary currency from this
point onwards. Glyphs are equippable objects which you must equip in order to use their boosts. Perk Points are another
currency that can be spent in the Perks subtab on different Perks.
<br>
<br>
Reality Machines scale purely off of EP, and the Reality button will tell you how much EP you need in order to gain
the next one. The first ${formatInt(10)} RM scale linearly in the exponent between
${formatPostBreak(DC.E4000)} EP and ${formatPostBreak(DC.C10P16000D3)} EP, and then past that
RM = ${formatInt(1e3)}<sup>log<sub>${formatInt(10)}</sub>(EP)/${formatInt(4e3)}-${formatInt(1)}</sup>. This formula
is higher RM gain than linear above ${formatPostBreak(DC.C10P16000D3)} EP.
<br>
<br>
Glyph level scales off of a combination of Eternity Points, Replicanti, and Dilated Time, with a minimum level of
${formatInt(1)}. The type, effects, and rarity of Glyphs are randomized.
<br>
<br>
You get exactly ${formatInt(1)} Perk Point per Reality.
<br>
<br>
<b>Hotkey: Y</b> will try to perform a Reality reset.
`,isUnlocked:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,tags:["rm","machines","glyph","perk","reset","prestige","endgame","lategame"],tab:"reality/upgrades"},{name:"Glyphs",info:()=>`
A Glyph is an equippable object that has four attributes:
<br>
<b>Type</b> - This is a name given to the Glyph based on what part of the game it will tend to boost
(eg. "Glyph of X"). This determines the possible effects it may have.
<br>
<b>Level</b> - This contributes to how strong your Glyph is, and it scales based how much of various
resources you obtained in the Reality you gained it from.
<br>
<b>Rarity</b> - This is a percentage, between ${formatPercents(0)} and ${formatPercents(1)}, which also
affects the strength of your Glyph. This is random, but can be influenced by various upgrades.
The percentage is effectively a quality
rating, higher values are better. Specific ranges of rarities are given names, such as Common or Uncommon.
<br>
<b>Effects</b> - These are the boosts that equipping the Glyph will give you, and can contain up to four effects.
Glyphs with higher level or rarity will generally have more effects than weaker Glyphs.
<br>
<b>Note: Your first Glyph will have a fixed effect and rarity, but its level will scale based on your progress before
any Reality content. Once you receive a Glyph, its attributes cannot be changed.</b>
<br>
<br>
To equip a Glyph, double-click or drag the icon from your inventory into one of the active circles in the middle
of the screen. When equipped, Glyph icons become circular and add their effects to the list on the right.
<br>
<br>
Equipping multiple Glyphs with the same effect will combine their effects; effects with "+" will generally add
their values together and effects with "×" will generally multiply their values together.
<br>
<br>
You can equip Glyphs into <i>empty</i> active slots at any time during a Reality, which will immediately apply the
effects of the new Glyph. You can also drag Glyphs into already-occupied slots to switch which ones you have equipped,
but this will restart your current Reality.
<br>
<br>
The slots in the first rows of your inventory are "protected" slots. New Glyphs will never be placed into them (even if
there is no more room in your inventory), and they are unaffected by the Sort and Auto clean buttons. If you run out of
space for new Glyphs in your inventory, any Glyphs you would receive will be automatically deleted (or sacrificed
if unlocked).
<br>
<br>
You can delete Glyphs from your inventory by shift-clicking them, which will prompt you with a confirmation dialog
asking if you are sure you want to delete the Glyph. Holding shift and ctrl together while clicking will bypass this
dialog. <b>However, deleting Glyphs will give you no benefit beyond clearing up inventory space if you do so before
unlocking Glyph Sacrifice from a Reality Upgrade!</b>
<br>
<br>
Once you unlock Glyph Sacrifice, you will be able to disable the Glyph Selection modal from appearing. If desired, you
can force the modal to appear again for this Reality (ignoring this setting) by shift-clicking the Reality button.
Completing a Reality with the selection modal disabled will choose a random Glyph from your options.
<br>
<br>
Clicking a group of circular Glyphs outside of a modal window will open up a modal which displays a detailed summary
of all those Glyphs and their various attributes. The summary will show the information for all Glyphs at once with
slightly shorter descriptions, making it more suitable for sharing with others. This can be done for Glyph records
in the Statistics page, your equipped Glyphs, and the Upcoming Glyph Selection this Reality.
`,isUnlocked:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,tags:["reality","sacrifice","level","endgame","lategame"],tab:"reality/glyphs"},{name:"Perks",info:()=>`
Perks are a type of upgrade unlocked upon Reality. Each Perk effect varies, but most are QoL (quality of life)
improvements which you can choose your own path through. All Perks only require ${formatInt(1)} Perk Point to buy.
<br>
<br>
Each Reality you gain ${formatInt(1)} Perk Point which can be spent on an upgrade on the tree, starting with
"You can now choose from ${formatInt(Perk.firstPerk.config.effect)} Glyphs on Reality". You can only unlock Perks
which are directly adjacent
to Perks you already have, although there are loops in the tree which you can go through in either direction.
<br>
<br>
The Perk nodes can have two different shapes - circular or diamond. The only difference between the two is that
diamond-shaped Perks give Automator Points in addition to their normal effect. Different nodes also have
different colors, roughly indicating which part of the game they affect the most.
`,isUnlocked:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,tags:["pp","reality","tree","endgame","lategame"],tab:"reality/perks"},{name:"Automator Overview",info:()=>`
The Automator is unlocked upon reaching a total of ${formatInt(AutomatorPoints.pointsForAutomator)} Automator Points.
Automator Points are given when unlocking various Perks or Reality Upgrades, by unlocking the Black Hole, or by
simply completing more Realities.
<br>
<br>
The Automator uses a scripting language that allows you to automate nearly the entire game.
The interface has two panes, a script pane on the left where you enter the commands to automate the game and a pane
on the right which has multiple panels which do many different things as explained on the Automator Introduction page.
<br>
<br>
If you want a larger workspace, you can press the button in the top right corner of the documentation pane of the
Automator to expand it to fullscreen. You can also drag the boundary between the panes horizontally to resize the
panes if you want more room to write your script or read documentation.
<br>
<br>
By pressing the top-right button on the script pane, you can switch between the Automator's block and text editor
modes; the block mode may be more approachable if you are unfamiliar with programming. To enter commands in block mode,
select the command block pane on the right and drag the box for the relevant command into the script pane and drop it
where you want the command to go. Commands can be freely rearranged by dragging the blocks around if needed. Switching
between block and text mode will attempt to automatically translate your script as well, although you may lose part of
your converted script if it contains errors.
<br>
<br>
Just like your entire savefile, individual Automator scripts can be imported and exported from the game.
Properly-formatted script strings will begin with <b>${GameSaveSerializer.startingString["automator script"]}</b> and
end with <b>${GameSaveSerializer.endingString["automator script"]}</b>. If this is not the case then part of your script
was lost in the process of copy-pasting. The import function will load the script into a new slot; your current script
will not be lost or overwritten.
<br>
<br>
<b>Hotkey: U</b> will pause/unpause the Automator.
`,isUnlocked:()=>Player.automatorUnlocked,tags:["automation","reality","code","script","endgame","lategame"],tab:"automation/automator"},{name:"Automator Technical Details",info:()=>`
<b>Technical Limits</b>
<br>
<br>
There are a few limitations to scripts in order to reduce lag and prevent save file size from getting too large.
These limits are as follows:
<br>
- Individual scripts are limited to a maximum of ${formatInt(AutomatorData.MAX_ALLOWED_SCRIPT_CHARACTERS)}
characters each and all scripts combined together cannot exceed ${formatInt(AutomatorData.MAX_ALLOWED_TOTAL_CHARACTERS)}
characters total.
<br>
- Script names cannot exceed ${formatInt(AutomatorData.MAX_ALLOWED_SCRIPT_NAME_LENGTH)} characters.
<br>
- Defined constants cannot have names longer than ${formatInt(AutomatorData.MAX_ALLOWED_CONSTANT_NAME_LENGTH)}
characters, or values longer than ${formatInt(AutomatorData.MAX_ALLOWED_CONSTANT_VALUE_LENGTH)} characters.
<br>
- You cannot have more than a total of ${formatInt(AutomatorData.MAX_ALLOWED_SCRIPT_COUNT)} scripts or
${formatInt(AutomatorData.MAX_ALLOWED_CONSTANT_COUNT)} defined constants.
<br>
<br>
<b>Script Saving</b>
<br>
<br>
Scripts are automatically saved as you edit them, but are not saved to your game save until the global autosave timer
(ie. "Time since last save") triggers a full game save. If you make changes to scripts right before closing the game,
you should wait until the game saves afterwards in order to not lose your changes. Any edits made to your scripts
while above the length limits will not be saved until you shorten your scripts to be below them again.
<br>
<br>
<b>Automator Ticks</b>
<br>
<br>
The Automator's "execution timer" is based on real time, and is therefore unaffected by things such as the Black Hole,
Time Glyph effects, and EC12's negative effect. However this execution timer runs entirely independently from the main
game's production loop, meaning that at faster speeds the Automator can run multiple commands per production tick.
<br>
<br>
Some commands are more intensive on the game's internal code and may take longer than a single Automator tick in order
to process on slower computers. In that case, the Automator will execute those commands and then attempt to "catch up"
by executing the following commands as quickly as possible until it has run as many commands as it should have at a
constant execution speed.
<br>
<br>
<b>Interactions with Offline Progress</b>
<br>
<br>
Longer production ticks during Offline Progress simulation means that all of your resources are effectively given
in large chunks instead of more continuously. This may have potentially adverse effects on your script's
behavior while offline, depending on how exactly your script depends on the game state to work properly.
Additionally, the PAUSE command may behave oddly due to it also being based on real time.
`,isUnlocked:()=>Player.automatorUnlocked,tags:["automation","reality","code","script","endgame","lategame"],tab:"automation/automator"},{name:"Black Hole",info:()=>`
The Black Hole is a feature which speeds up how fast the game runs, on a periodic cycle.
The game will run at normal speed for some amount of time, then have a burst of running extremely fast for a short
period of time before going back to normal speed and repeating the cycle.
<br>
<br>
Increased game speed from Black Holes is much stronger than tickspeed because unlike tickspeed, it affects
<i>everything equally</i>, including things which are only partially affected by tickspeed
(eg. Infinity/Time Dimensions), things which are normally completely unaffected (eg. DT/TT generation),
and effects which are boosted purely on time spent (eg. idle path IP/EP multipliers).
<br>
<br>
While most features in the game are boosted by this increased game speed, there are some which remain unaffected.
In these cases, it will be specifically mentioned that a given time is stated as <i>real time</i> as opposed to
<i>game time</i>. One such example is the set of Perks which automatically completes Eternity Challenges over time.
Otherwise, it should be assumed from this point onward that all references to time are for <i>game time</i>.
Note that this also includes situations where you may want to have a <i>lower</i> amount of time spent, like
the Reality Upgrade "Replicative Rapidity" for example.
<br>
<br>
You can buy upgrades for the Black Hole by using Reality Machines. There are three upgrades for the Black Hole:
<br>
<b>Interval</b> - How long the Black Hole is inactive between bursts,
reduced by ${formatPercents(.2)} per upgrade.
<br>
<b>Power</b> - How much faster the game runs during the temporary speed bursts,
increased by ${formatPercents(.35)} per upgrade.
<br>
<b>Duration</b> - How long each speed burst lasts before going back to normal speed,
increased by ${formatPercents(.3)} per upgrade.
<br>
<br>
${formatInt(100)} days of <i>game time</i> after unlocking the Black Hole, you unlock the ability to purchase
a Reality Upgrade that allows you to have a second Black Hole.
The timer on the second Black Hole only advances when the first Black Hole is active. So, for example, if the first
Black Hole has a duration of ${formatInt(4)} minutes and the second has an interval of ${formatInt(8)} minutes, the
second Black Hole will only activate once every two cycles of the first Black Hole regardless of how short the
first Black Hole's interval is. Note that the timer shown in the in-game header takes account of this and shows
the actual time until the second Black Hole activates; in the Black Hole tab, you can see the amount of time with
the first Black Hole active needed for the second Black Hole to activate.
<br>
<br>
When a Black Hole is active at least ${formatPercents(.9999,2)} of the time, it becomes permanently active.
This is tracked separately for the two Black Holes.
<br>
<br>
While offline, Black Hole cycles will still advance normally and their active speed boosts will apply fully as if the
game were still open. Offline time simulates segments of inactive and active Black Holes with different tick lengths
in order to reduce the negative effects of small tick count during active periods; the entry for "Offline Progress"
has been updated with more technical details.
<br>
<br>
The Black Holes can be paused, completely halting their interval/duration cycle. However, when unpausing them, it will
take ${BlackHoles.ACCELERATION_TIME} real-time seconds for them to go from inactive to their maximum boosted speed.
This acceleration time will still advance the cycle as if it were running at full speed; so
while pausing gives some more control, it also ultimately results in some boosted time being lost.
<br>
<br>
Pausing and unpausing affects both Black Holes; they cannot be paused or unpaused independently. They can be paused
automatically ${BlackHoles.ACCELERATION_TIME} real-time seconds before activation by toggling the relevant setting on
the Black Hole tab.
<br>
<br>
<b>Upgrade Cost Information:</b>
<br>
<b>Interval</b> - Base cost of ${formatInt(15)} RM and increase of ${formatX(3.5,0,1)} per upgrade.
<br>
<b>Power</b> - Base cost of ${formatInt(20)} RM and increase of ${formatX(2)} per upgrade.
<br>
<b>Duration</b> - Base cost of ${formatInt(10)} RM and increase of ${formatX(4)} per upgrade.
<br>
<b>Increased cost scaling:</b> Above ${format(1e30)} RM, the cost multiplier between purchases increases by an additive
+${format(.2,0,1)} per upgrade. Above ${format(Number.MAX_VALUE,1)} RM, a new scaling occurs which ignores all the
previous behavior. From this point, all upgrades instead behave as if they had an initial cost of ${format(DC.E310)}
and further upgrade costs increase by ${format(1e6)}, ${format(1e7)}, and so on (${formatX(10)} between upgrades).
<br>
<b>Black Hole 2:</b> All upgrades have an initial cost ${formatX(1e3)} higher than the first Black Hole,
but the same cost multipliers.
<br>
<br>
<b>Hotkey: B</b> will pause/unpause the Black Holes.
`,isUnlocked:()=>player.blackHole[0].unlocked,tags:["reality","time","speed","duration","interval","rm","endgame","lategame"],tab:"reality/hole"},{name:"Celestials",info:()=>`
Once you get all of the Reality Upgrades, the first Celestial is unlocked. This opens up a new tab for Celestials, next
to the Reality tab. The first subtab under the Celestials tab shows a map called "Celestial Navigation" which updates as
you progress through the game. Only part of the map will be visible when first unlocked, but new content will gradually
be revealed as you approach it, generally with a visual indication of your progress towards the next step.
<br>
<br>
Each Celestial has unique mechanics and upgrades, and you need to defeat all seven to beat the game.
Unlocking or defeating a Celestial has different conditions depending on the Celestial's mechanics.
<br>
<br>
All Celestials have their own Celestial Reality, but how the Reality is relevant to each Celestial and the rest of
the game will depend on the Celestial.
<br>
<br>
Celestials are timeless entities. Unless otherwise stated, any new mechanics introduced by Celestials are not affected
by game speed multipliers and instead refer specifically to real time instead of game time.
`,isUnlocked:()=>Teresa.isUnlocked,tags:["reality","challenges","endgame","lategame"],tab:"celestials/celestial-navigation"},{name:"Teresa, Celestial of Reality",alias:"Teresa",info:()=>`
Teresa is the first Celestial. They are unlocked by Achievement 147, which requires obtaining all Reality Upgrades.
<br>
<br>
On the main screen, there is a bar with a button above it that says "Pour RM". This allows you to put your RM into the
container for a Reality Machine multiplier. RM which has been poured into the container cannot be retrieved.
When you reach ${format(TeresaUnlocks.run.price)} RM inside of the container, you unlock Teresa's Reality.
<br>
<br>
When you complete Teresa's Reality,
${Teresa.runCompleted?"your Glyph Sacrifice is multiplied based on the amount of antimatter gained during the run":"<div style='color: var(--color-bad);'>(complete Teresa's Reality to see the reward)</div>"}.
Completing Teresa's Reality is only part of the story; you need to keep pouring RM in order to progress. Once
you are at ${format(TeresaUnlocks.effarig.price)} RM in the container, you will unlock the next Celestial.
<br>
<br>
${Teresa.runCompleted?"Teresa's Reality can be entered again after completing it, and its reward will become stronger if you reach a higher amount of antimatter on this repeat run.":"(More information available - complete Teresa's Reality)"}
`,isUnlocked:()=>Teresa.isUnlocked,tags:["rm","endgame","lategame","perks","sacrifice","boo","ghost","celestial"],tab:"celestials/teresa"},{name:"Effarig, Celestial of Ancient Relics",alias:"Effarig",info:()=>`
Effarig is the second Celestial you encounter.
They are unlocked by pouring at least ${format(TeresaUnlocks.effarig.price)} RM into Teresa's container.
<br>
<br>
Effarig introduces a currency called Relic Shards, which are obtained by using different kinds of Glyph effects during
a Reality. The number of distinct effects active during the Reality very strongly affects Relic Shard gain, and EP
affects it to a much lesser degree. Relic Shards are the currency for Effarig unlocks, and will be gained from every
Reality from now on.
<br>
<br>
Using Relic Shards, you can purchase multiple upgrades (see "Advanced Glyph Mechanics") which improve your Glyphs and
allow you to filter them based on their effects and rarity when you are doing fully automated Realities.
<br>
<br>
Effarig's final unlock is their own Reality at ${format(GameDatabase.celestials.effarig.unlocks.run.cost)} Relic
Shards.
${EffarigUnlock.run.isUnlocked?"Their Reality is divided into three layers: Infinity, Eternity, and Reality. You must complete each layer before getting access to the next one. Completing Effarig's Eternity unlocks the next Celestial.":"<div style='color: var(--color-effarig--base);'>(unlock Effarig's Reality to see details about it)</div>"}
<br>
<br>
Completing Effarig's Reality unlocks
${EffarigUnlock.reality.isUnlocked?`a new Glyph type, <span style='color: var(--color-effarig--base);'>Effarig</span> Glyphs. Effarig Glyphs have
      ${formatInt(7)} different possible effects, which you can view in the Glyph filter settings. You can only
      have one Effarig Glyph equipped at a time.
${Ra.unlocks.glyphEffectCount.canBeApplied?`Due to having Effarig at level 10 within Ra, there are no longer any restrictions on effects that appear on
      Effarig Glyphs. Any given Effarig Glyph can now have up to all ${formatInt(7)} effects at the same time.`:`Effarig Glyphs can only have at most ${formatInt(4)} effects, and the RM multiplier and Glyph instability
      effects cannot appear together on the same Glyph.`}`:"<span style='color: var(--color-effarig--base);'>(complete Effarig's Reality to see reward details)</span>"}
<br>
<br>
`,isUnlocked:()=>TeresaUnlocks.effarig.canBeApplied,tags:["glyph","sacrifice","shards","reality","spectralflame","lategame","endgame","celestial"],tab:"celestials/effarig"},{name:"Advanced Glyph Mechanics",info:()=>`
Glyph level Adjustment is purchasable for ${format(GameDatabase.celestials.effarig.unlocks.adjuster.cost)} Relic
Shards. This allows you to set weights for each resource (EP, DT, Replicanti, Eternities), in how much they affect the
level of Glyphs gained on Reality.
<br>
<br>
Automatic Glyph Filtering is purchasable for ${format(GameDatabase.celestials.effarig.unlocks.glyphFilter.cost)}
Relic Shards. This system uses one of many methods to assign a score to your Glyph choices, and then picks the choice
with the highest score. After picking this Glyph, it checks the score against a threshold and either keeps it if the
score is above the threshold, or sacrifices it instead. There are three basic modes:
<br>
<b>Lowest total sacrifice:</b> Glyphs are given a score based on how much sacrifice value you have of that
particular Glyph's type. Glyphs of the type you have the least sacrifice value in will have the highest score.
This mode does not have a threshold and always sacrifices your Glyphs.
<br>
<b>Number of effects:</b> Glyphs are given a score equal to the number of effects they have, and when multiple
Glyphs have the same effect count, Glyphs with higher rarity will be picked. The threshold they are
compared to is specified by your input in the text box.
<br>
<b>Rarity Threshold Mode:</b> Glyphs are given a score equal to their rarity percent. The comparison threshold
can be set individually per Glyph type.
<br>
<br>
Additionally, there are two more advanced modes with some additional flexibility. You may not need these initially, but
they can come in handy later on:
<br>
<b>Specified Effect Mode:</b> Glyphs are given a score equal to their rarity and checked against the rarity threshold
you specify, but this score is modified based on your inputs for effects. The Glyph will be checked for having a minimum
number of effects and having all of the effects you choose, and its score is lowered by ${formatInt(200)} for every
missing effect. This guarantees that any Glyph that does not have the effects you want will be below the threshold. You
can forbid specific Glyph <i>types</i> by setting impossible conditions (eg. at least ${formatInt(6)} effects on a Power
Glyph will prevent Power Glyphs from being selected).
<br>
<b>Effect Score Mode:</b> The score of a Glyph is calculated from its rarity plus the score of each effect it has,
and you can set the threshold and values of each effect individually. Some possible ways this could be used:
<br>
- Giving a weaker effect a value of ${formatInt(5)} allows you to keep Glyphs without that effect as long as they are
rarer to compensate for being weaker
<br>
- Assigning a large negative score to a certain effect you do <i>not</i> want will forbid Glyphs with that effect from
being selected; this can be useful for effect testing and other more limited situations
<br>
- Setting an impossible condition (eg. a threshold score of ${formatInt(999)} and all effects worth ${formatInt(0)})
will let you forbid entire types like Specified Effect Mode as well
<br>
<br>
The Glyph Filter mode is a global setting which applies to all Glyph types at once; for example, you cannot filter
power Glyphs with "Rarity Threshold" and time Glyphs with "Specified Effect". Selecting one mode will require
you to configure every Glyph type within its settings for proper filtering. Each filter mode has its own settings
which will be kept if you switch to another mode.
<br>
<br>
Unlocking the Glyph Filter also lets you use the highest Glyph score amongst your upcoming choices as a comparable
Currency in the Automator. Additionally, you can make your Filter force an immediate Reality (once available) if
none of the upcoming choices will be kept by the filter, as long as the Reality autobuyer is on.
<br>
<br>
Glyph Presets are purchasable for ${format(GameDatabase.celestials.effarig.unlocks.setSaves.cost)} Relic
Shards. This unlocks ${formatInt(7)} slots that allow you to save your currently equipped Glyphs into sets.
You cannot overwrite a set, you must delete it first. When you load a set, each Glyph in it is found and equipped.
If any are not found, it will display a warning, but equip all the rest regardless.
When loading a set, you can be Level and/or Rarity sensitive. The best Glyph from the possible Glyphs
will always be the one equipped. Just like other groups of circular Glyphs, you can click any of them
in order to bring up a modal summarizing the whole set of Glyphs.
`,isUnlocked:()=>EffarigUnlock.adjuster.isUnlocked,tags:["glyph","weight","adjustment","sacrifice","filter","threshold","set","save","reality","lategame","endgame"],tab:"celestials/glyphfilter"},{name:"The Nameless Ones, Celestial of Time",alias:"Nameless Ones",info:()=>`
The Nameless Ones are the third Celestial, unlocked by completing Effarig's Eternity.
<br>
<br>
When unlocking The Nameless Ones, you immediately gain access to two new mechanics related to time. You can store
"game time" by charging your Black Hole, and you can store "real time" by intentionally halting your production.
Stored game time is also used as a currency for purchasing unlocks from The Nameless Ones.
<br>
<br>
Charging your Black Hole gives you stored game time, which it does at the expense of setting your game speed to
${formatInt(1)}. The game is in effect using your increased game speed in order to store game time itself. Its
main use is to discharge the Black Hole, which takes uses your stored game time to skip forward in time by a duration
equal to the game time stored. This is different than regular game speed multipliers in that discharging is not subject
to any modifiers to game speed when it is used, only when it is stored.
<br>
<br>
Storing real time completely stops all production, effectively pausing your game. For every real-time second that
passes, you gain stored real time (modified by some efficiency factor). You can use stored real time in order to
amplify a Reality in the Glyphs tab. When you complete the Reality, this uses all of your stored real time at once
in order to attempt to repeat that
exact Reality over and over, giving you all the rewards you would normally get from the repetitions. For example, if
you have ${formatInt(50)} minutes stored and amplify a Reality which has lasted ${formatInt(10)} minutes and would
give ${format(DC.E30)} RM and ${format(DC.E12)} Relic Shards, the amplified Reality will give you ${format(5e30)} RM,
${format(5e12)} Relic Shards, ${formatInt(5)} Glyphs (subject to your filtering settings),
and ${formatInt(5)} Perk Points.
<br>
<br>
However, if your Reality has lasted for less than ${formatInt(1)} second, the amplification factor is capped by the
amount of seconds stored. For example, if you have ${formatInt(1e3)} seconds stored and amplify a Reality which has
lasted ${format(.2,2,2)} seconds, you will use ${formatInt(200)} seconds to simulate ${formatInt(1e3)} Realities.
<br>
<br>
You can toggle a setting to automatically store offline time as stored real time.
<br>
<br>
Their first unlock costs ${format(TimeSpan.fromMilliseconds(ENSLAVED_UNLOCKS.FREE_TICKSPEED_SOFTCAP.price).totalYears)}
years of stored game time. It increases the softcap to Tickspeed Upgrades gained from Time Dimensions
(the point at which their cost starts increasing faster)
by ${format(1e5)} Tickspeed Upgrades.
<br>
<br>
At ${format(TimeSpan.fromMilliseconds(ENSLAVED_UNLOCKS.RUN.price).totalYears)} years of stored game time, you are able
to finally unlock their Reality. The reward for completing The Nameless Ones' Reality is
${Enslaved.isCompleted?"unlocking Tesseracts, which have their own How To Play entry.":"<span style='color: var(--color-bad);'>(complete The Nameless Ones' Reality to see reward details)</span>"}
<br>
<br>
The Nameless Ones will not directly unlock the next Celestial.
`,isUnlocked:()=>EffarigUnlock.eternity.isUnlocked,tags:["reality","time","blackhole","lategame","endgame","testers","celestial",...P0.people.map(t=>t.name)],tab:"celestials/enslaved"},{name:"Tesseracts",info:()=>`
Tesseracts are a new resource you unlock for completing The Nameless Ones' Reality.
<br>
<br>
Infinity Dimensions are normally capped at ${format(InfinityDimensions.HARDCAP_PURCHASES)} total purchases,
which limits how large their multipliers can grow since eventually you cannot upgrade them any more.
Tesseracts allow you to raise this cap by spending Infinity Points.
<br>
<br>
The cost of Tesseracts increases super-exponentially, but each successive Tesseract is significantly stronger than
the last in order to make up for that. Tesseract count is never reset, meaning that once purchased, you do not need
to reach the IP cost again in order to take advantage of the raised cap in later Realities.
<br>
<br>
You can see additional information about your current Tesseract count and the cost of the next one in the Infinity
Dimensions tab. Additionally, your current Infinity Points will now also show a percentage towards the next Tesseract.
If affordable, the Infinity button itself will visually change and bring you to the Infinity Dimension tab when clicked.
`,isUnlocked:()=>Enslaved.isCompleted,tags:["reality","lategame","endgame","tesseract","id","celestial"],tab:"celestials/tesseract"},{name:"V, Celestial of Achievements",alias:"V",info:()=>`
V is a special Celestial in the sense that they are not unlocked by another Celestial,
but is instead unlocked by completing Achievement ID 151 (row ${formatInt(15)}, column ${formatInt(1)},
"You really didn't need it anyway"), which requires you to get ${formatInt(800)} Antimatter Galaxies
without buying 8th Antimatter Dimensions in your current Infinity.
<br>
<br>
After the subtab is unlocked from the Achievement, you are met with another set of requirements to fully unlock V.
You must have completed ${formatInt(GameDatabase.celestials.v.mainUnlock.realities.requirement)} Realities and have
${format(GameDatabase.celestials.v.mainUnlock.realityMachines.requirement)} unspent RM.
Additionally you need to reach ${format(GameDatabase.celestials.v.mainUnlock.eternities.requirement)} Eternities,
${format(GameDatabase.celestials.v.mainUnlock.infinities.requirement)} Infinities,
${format(GameDatabase.celestials.v.mainUnlock.dilatedTime.requirement)} Dilated Time, and
${format(GameDatabase.celestials.v.mainUnlock.replicanti.requirement)} Replicanti, all in the same Reality.
<br>
<br>
When you meet all of those requirements, you will be able to access V's Reality.
${VUnlocks.vAchievementUnlock.isUnlocked?`However, completing the Reality itself is only the beginning. V has six different requirements, each of which
      require you to make a certain amount of progress within V's Reality. Completing a requirement rewards you with a
      V-Achievement.
      V-Achievements are permanent and persist after exiting V's Reality, and do not all need to be done simultaneously.
      <br>
      <br>
      After completing the requirement, the V-Achievement threshold then increases and can be completed again
      if you can reach the new goal.  You can complete each category of V-Achievement up to six times.
      Completed V-Achievements do two things:
      <br>
      - Upon reaching certain totals of V-Achievements, you automatically unlock upgrades on the V tab without needing
      to spend any resources.
      <br>
      - Each V-Achievement also gives you one Space Theorem.
      <br>
      <br>
      The goal reduction unlocked by having ${formatInt(2)} V-Achievements allows you to make some V-Achievement
      requirements easier to complete by spending Perk Points, down to a limit of whatever the easiest tier requires.
      The cost of reducing a goal does not increase as it is used, and will also reduce future tiers as well.
      <br>
      <br>
      Space Theorems allow you to purchase Time Studies which are normally forbidden, such as multiple paths in the
      Pace Split after the improved IP formula, or both Time Studies within a dark/light pair near the bottom.
      Like Time Theorems, they are freely given back every time you respec your studies.
      With enough Space Theorems you will eventually be able to purchase every single Time Study at once!
      <br>
      <br>
      Reaching ${formatInt(36)} V-Achievements (and therefore completing all of V's Achievements) unlocks the next
      Celestial.`:"<span style='color: var(--color-bad);'>(unlock V's Reality to see further details)</span>"}
`,isUnlocked:()=>Achievement(151).isUnlocked,tags:["reality","lategame","endgame","girlfriend","challenges","achievement","space","theorems","study","triad","celestial"],tab:"celestials/v"},{name:"Ra, Celestial of the Forgotten",alias:"Ra",info:()=>`
Ra is the fifth Celestial, unlocked by fully completing all of V's Achievements. They use their memories in order to
bring back positive effects from previous Celestials in a stronger way. Over time, you will unlock the previous four
Celestials <i>within</i> Ra, with each Celestial offering additional upgrades related to their original themes.
<br>
<br>
Each previous Celestial within Ra gains levels by using memories, which are generated passively over time from
Memory Chunks. Memory Chunks can only be gained by entering Ra's Reality, but inside of the Reality Chunks will
be generated passively based on certain resource totals. If you are storing real time, you will not gain any
Chunks inside of Ra's Reality, but Memories will still be generated normally. Having a total of
${formatInt(Ra.remembrance.requiredLevels)} levels across all Celestials unlocks Remembrance,
which allows you to choose a particular Celestial to gain more chunks while inside of Ra's Reality.
<br>
<br>
Memories can be spent on three things - an increase to Memory Chunk gain, an increase to Memory gain, and leveling up
the Celestial. You start Ra with only Teresa unlocked and each successive Celestial is unlocked by reaching level
${formatInt(8)} with the previous Celestial. Levels are capped at ${formatInt(25)}.
<br>
<br>
Teresa unlocks the ability to charge your Infinity Upgrades, making them much stronger. They also
improve your Glyph effects once you reach certain thresholds in Glyph sacrifice value.
<br>
<br>
At level ${formatInt(2)}, Effarig unlocks
${Ra.unlocks.effarigUnlock.canBeApplied?"a new mechanic called Glyph Alchemy and later on also makes Effarig Glyphs stronger while gradually removing almost all random elements of Glyph generation. Glyph Alchemy also has its own How To Play entry.":"<span style='color: var(--color-bad);'>(unlock Effarig within Ra to see unlock details)</span>"}
<br>
<br>
The Nameless Ones unlocks
${Ra.unlocks.enslavedUnlock.canBeApplied?"additional mechanics related to charging the Black Holes, as well as making them significantly stronger.":"<span style='color: var(--color-bad);'>(unlock The Nameless Ones within Ra to see unlock details)</span>"}
<br>
<br>
V unlocks
${Ra.unlocks.vUnlock.canBeApplied?"Triad Studies, which are new studies near the bottom of the tree which cost Space Theorems. Each Triad Study requires you to also have the three nearby studies as well in order to purchase them. They also unlock a smaller set of more difficult V-Achievements to complete for additional Space Theorems.":"<span style='color: var(--color-bad);'>(unlock V within Ra to see unlock details)</span>"}
<br>
<br>
Ra will not directly unlock the next Celestial.`,isUnlocked:()=>VUnlocks.raUnlock.isUnlocked,tags:["reality","memories","razenpok","levels","glyphs","lategame","endgame","effarig","teresa","nameless","v","celestial"],tab:"celestials/ra"},{name:"Glyph Alchemy Resources",info:()=>`
Glyph Alchemy is a mechanic unlocked by reaching Effarig level ${formatInt(2)} in Ra. It unlocks the ability to
use up your Glyphs by refining them into Alchemy Resources associated with their type. You can refine Glyphs by
setting your Sacrifice Type to something other than "Always Sacrifice" in the Glyphs tab, and doing the normal
procedure for a sacrifice.
Each Alchemy Resource has a unique effect, which you can view on the Alchemy tab.
<br>
<br>
In addition to all their other properties, Glyphs now have a <i>refinement value</i> which determines how much of
its associated Alchemy Resource it is worth. This value is based on the cube of the Glyph's level, scaled
so that level ${formatInt(1e4)} Glyphs correspond to ${formatInt(1e4)} Alchemy Resources. A single Glyph itself
gives ${formatPercents(GlyphSacrificeHandler.glyphRefinementEfficiency)} of this value when refined.
These are values for ${formatPercents(1)} rarity Glyphs; Glyphs of lower rarity still have the same cap but give
proportionally less resources. For example, a ${formatPercents(.5)} rarity Glyph will give only half as much.
<br>
<br>
Alchemy Resources cannot be gained indefinitely; there is a per-resource cap which is based on the highest refinement
value of all the Glyphs of that type you have refined. For example, if the highest level Time Glyph you have refined
is level ${formatInt(8e3)} (refinement value: ${formatInt(GlyphSacrificeHandler.levelRefinementValue(8e3))}), then no
matter how many Time Glyphs you refine, you can never have more than
${formatInt(GlyphSacrificeHandler.levelRefinementValue(8e3))} of the Time resource until you refine another Time Glyph
with a higher refinement value.
`,isUnlocked:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,tags:["reality","lategame","endgame","ra","effarig","alchemy","power","infinity","time","replication","dilation","cardinality","eternity","dimensionality","inflation","alternation","synergism","momentum","decoherence","force","exponential","uncountability","boundless","unpredictability","multiversal","reaction"],tab:"reality/alchemy"},{name:"Glyph Alchemy Reactions",info:()=>`
Alchemy Resources can be combined together in certain combinations in order to create new compound resources, which
are unlocked at certain Effarig levels. Resources are combined once per Reality, unaffected by real time
amplification. Reactions have a higher yield and thus happen faster when your reagent amounts are higher. The cap for
compound resources is equal to the lowest cap amongst all of its reagents. In order for a reaction to occur, the
current amount of all reagents must be greater than the current amount of the produced resource.
<br>
<br>
Reaction speed is proportional to the amount of usable reagents for the reaction, but only reagent amounts above the
product amount are eligible for being used. For example, if you have ${formatInt(1e4)} of all reagents and
${formatInt(7500)} of the product, only ${formatInt(2500)} of the reagents are used in calculating the reaction speed.
If you instead had ${formatInt(0)} of the product, <i>all</i> of the reagent is available for the reaction and it will
produce ${formatX(4)} faster. Lastly, if you had ${formatInt(1e4)} of the product, then none of the reagent can be
used and the reaction will not run at all.
<br>
<br>
To activate or deactivate a reaction, click the circle corresponding to the reaction's product. When the reaction can
be applied, moving lines will be shown from all reagents to the product. If a connection is a solid line, that means
that the reaction cannot proceed due to not having enough of that reagent to get more of the product due to its cap.
`,isUnlocked:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,tags:["reality","lategame","endgame","ra","effarig","alchemy","power","infinity","time","replication","dilation","cardinality","eternity","dimensionality","inflation","alternation","synergism","momentum","decoherence","force","exponential","uncountability","boundless","unpredictability","multiversal","reaction"],tab:"reality/alchemy"},{name:"Imaginary Machines",info:()=>`
Once you are able to gain at least ${format(MachineHandler.baseRMCap)} Reality Machines in a single Reality, you
unlock the ability to gain a new resource called Imaginary Machines. Reality Machines will also become hardcapped
at ${format(MachineHandler.baseRMCap)}; you will be unable to gain any more past this limit.
<br>
<br>
Additionally you unlock the Imaginary Upgrades tab, which contains a set of upgrades similar to the Reality Upgrades -
each upgrade has a condition you must fulfill to unlock it and an Imaginary Machine cost to actually purchase it.
The first two rows of upgrades can be repeatedly bought, while the other three are one-time upgrades.
<br>
<br>
Your iM amount is affected by two things:
<br>
<b>iM Cap</b> - There is a maximum amount of iM you can ever have, which is based on the highest RM amount you would
have been able to get if there were no RM cap. This is updated on a continual basis and thus will immediately increase
if you ever surpass your previous highest uncapped RM amount.
<br>
<b>Current iM</b> - Over time your current iM will passively rise towards your iM cap, in a way that slows down
exponentially as you approach the cap. By default iM slows down at a rate where the amount you are <i>missing</i>
(ie. your cap minus your current amount) is cut in half every ${format(60)} milliseconds. This growth rate is unaffected by any
modifiers to game speed.
<br>
<br>
Imaginary Machine upgrades will unlock the final two Celestials.
`,isUnlocked:()=>MachineHandler.isIMUnlocked,tags:["imaginary","machines","reality","lategame","endgame"],tab:"reality/imag_upgrades"},{name:"Lai'tela, Celestial of Dimensions",alias:"Lai'tela",info:()=>`
Lai'tela is the sixth Celestial, unlocked by purchasing the appropriate Imaginary Upgrade for
${format(ImaginaryUpgrade(15).cost)} iM.
<br>
<br>
Lai'tela gives a new currency called Dark Matter, which provides a multiplier to Continuum's effect
based on the highest amount of Dark Matter you have ever had. Dark Matter is produced by
Dark Matter Dimensions, in a similar cascading way to all other types of dimensions in the game. Unlike other
dimensions, there are only four Dark Matter Dimensions rather than eight. You start with the first one unlocked
immediately and the higher ones are unlocked via Imaginary Upgrades. When unlocking dimensions, you are given
${formatInt(1)} of the dimension and cannot gain more without having it produced from the next tier up.
<br>
<br>
Each Dark Matter Dimension, after a certain interval of time, generates two things: Dark Matter or the next lower
Dark Matter Dimension and another resource called Dark Energy. Dark Matter and Dark Matter Dimension production
per interval is equal to the product of your Dark Matter multiplier and the number of dimensions you have, while
Dark Energy production is independent of your dimension amount. Dark Energy is used to produce Singularities, which
have their own How To Play entry.
<br>
<br>
Dark Matter Dimensions can have their intervals upgraded down to a minimum of ${formatInt(10)}ms, at which point
you cannot upgrade the interval any further. You can choose to ascend Dark Matter Dimensions which reach
that point, which initially multiplies Dark Matter gain by ${formatInt(POWER_DM_PER_ASCENSION)} and Dark Energy by
${formatInt(POWER_DE_PER_ASCENSION)}. The interval gets multiplied by ${formatInt(1200)}, but can be upgraded once
again. Reaching ${formatInt(10)}ms again allows you to ascend again if you choose to.
<br>
<br>
An Imaginary Upgrade allows you to unlock a prestige called Annihilation. Annihilation resets your Dark Matter
and Dark Matter Dimensions, but adds to a permanent multiplier to Dark Matter that applies to all Dark Matter
Dimensions. You can Annihilate multiple times; the additions to the multiplier stack additively, and there is
no need to Annihilate for a greater addition each time. You must have at least
${format(Laitela.annihilationDMRequirement)} Dark Matter in order to Annihilate.
<br>
<br>
Lai'tela has a Reality which gives a multiplier to Dark Matter Dimensions' Dark Matter power based on how well you
do in the Reality. Whenever you complete the Reality in under ${formatInt(30)} seconds, your highest available
Dimension will be permanently disabled during further attempts of the Reality. Disabling all of your dimensions by
completing the Reality in under ${formatInt(30)} seconds eight times will also give you a ${formatX(8)} multiplier
to Dark Energy gain.
<br>
<br>
Lai'tela will not directly unlock the next Celestial.
`,isUnlocked:()=>Laitela.isUnlocked,tags:["omsi","reality","dark","matter","dimensions","lategame","endgame","ascend","celestial"],tab:"celestials/laitela"},{name:"Continuum",info:()=>`
When you unlock Lai'tela, your Antimatter Dimensions and Tickspeed Upgrades switch to a new mode of production
called Continuum, which gives the same effect as previously but allows for buying partial Dimension or
Tickspeed Upgrades. These fractional purchases are given for free without spending your antimatter and will provide
an appropriate portion of their multiplier.
<br>
<br>
The purchase buttons for Antimatter Dimensions and Tickspeed Upgrades become modified to display the number of upgrades
you would be able to purchase if Continuum was inactive, and the purchase count is scaled smoothly with antimatter.
For example, having ${format(2e7)} antimatter will give you a Continuum value of ${format(5.3,0,1)} for tickspeed
(initial cost of ${format(1e3)} and increase of ${formatX(10)}) since you can purchase it ${formatInt(5)} times and
are roughly ${formatPercents(.3)} of the way to the next. Tickspeed Continuum in this case will then
give a production boost equal to (upgrade multiplier)<sup>${format(5.3,0,1)}</sup>.
<br>
<br>
Some upgrades will multiply Continuum value directly, which gives a production boost without affecting the cost
scaling. However, these upgrades will not function if Continuum is disabled on the Autobuyers page, which may result
in a loss of production if disabled. Continuum makes your autobuyers for Antimatter Dimensions and Tickspeed obsolete,
so all the related autobuyer settings for these autobuyers are now hidden on that tab as long as Continuum is active.
`,isUnlocked:()=>ImaginaryUpgrade(15).isBought,tags:["continuum","purchase","reality","lategame","endgame"],tab:""},{name:"Singularities",info:()=>`
Singularities are a new resource which you can obtain using features within Lai'tela.
<br>
<br>
In order to obtain Singularities, you need to reach ${format(200)} Dark Energy. When you do, you get the option to
condense all your Dark Energy into a Singularity, resetting it back to zero. Any extra Dark Energy above this amount
do not carry over, and is thus wasted. Note that only Dark Energy is reset, the status of your Dark Matter and its
dimensions stays the same when condensing Singularities.
<br>
<br>
Once you reach ${formatInt(10)} Singularities, you can freely increase or decrease the Dark Energy requirement to
condense Singularities by a factor of ${formatInt(10)} (with a minimum of ${format(200)}). This increases or decreases
the number of Singularities gained from resetting at the cap by <i>more than</i> a factor of ${formatInt(10)}, making
higher caps worth more if you are willing to wait.
<br>
<br>
The purpose of Singularities is to unlock Singularity Milestones, which act similarly to Eternity Milestones. Unlocking
these milestones simply requires you to reach the total number of Singularities specified; Singularities are not spent.
There are three types of milestones - one-time milestones, milestones repeatable a limited number of times, and
milestones which can be repeated indefinitely.
<br>
<br>
Independently of the milestone type, milestones also have an icon indicating what kind of upgrade they generally give:
<br>
<b>ᛝ</b> These milestones help mechanics specific to Lai'tela
<br>
<i class="fas fa-arrows-alt"></i> These milestones let a resource in Lai'tela affect the rest of the game
<br>
<i class="fas fa-compress-arrows-alt"></i> These milestones improve Lai'tela based on something outside of Lai'tela
`,isUnlocked:()=>Laitela.isUnlocked,tags:["reality","lategame","endgame","laitela","dark"],tab:""},{name:"Pelle, Celestial of Antimatter",alias:"Pelle",info:()=>`
When you purchase the last Imaginary Upgrade and unlock Pelle, you unlock their tab, where you can find a button to
"Doom your Reality". In order to Doom your Reality, you must have completed all ${formatInt(17)} rows of Achievements
available to you at this point, and attained ${formatInt(25e3)} of each Alchemy Resource.
<br>
<br>
${Pelle.isDoomed?`Dooming your Reality will start a new <b>Doomed Reality</b>, resetting almost the entire game up to
      Reality, not giving you any rewards from your progress in your current Reality.
      <br>
      <br>
      When you enter the Doomed Reality, you keep all values under the General and Reality headers in the Statistics
      tab and all of your best Challenge times. Inside Doomed Realities, multiple upgrades, Time Studies, Challenge and
      Celestial rewards, Perks, and other game mechanics are disabled or grant no reward.
      You can view the "Show effects in Doomed Reality" in Pelle tab for further information.
      An exception to this is any effects from the mod.
      <br>
      <br>
      Remnants are a new currency gained on Armageddon resets. Remnant gain is based on your best ever antimatter,
      Infinity Points, and Eternity Points across all Doomed Realities. Remnants produce Reality Shards which can be
      spent on Pelle Upgrades.
      <br>
      <br>
      Pelle Upgrades can be divided into two categories. The five upgrades in the first row can be repeatedly bought,
      but eventually reach a cap. They grant boosts to different aspects of the game, making progression within Doomed
      Realities easier.
      <br>
      <br>
      The other upgrades in the bottom rows offer automation and QoL (quality of life) improvements. Everything unlocked
      from these upgrades cannot be unlocked by their usual methods in the game; for example, none of the Normal
      Challenges will unlock autobuyers if completed since they are all locked behind Pelle Upgrades instead.
      You can toggle a button above upgrade to hide bought upgrades or click the
      <i class="fas fa-compress-arrows-alt"></i>-icon to collapse and hide the entire panel.
      <br>
      <br>
      <b>Hotkey: Z</b> will try to perform an Armageddon reset.`:"<span style='color: var(--color-bad);'><b>You must Doom your Reality to read the rest of this entry.</b></span>"}
`,isUnlocked:()=>Pelle.isUnlocked,tags:["reality","antimatter","lategame","endgame","final","hevipelle","celestial","doom"],tab:"celestials/pelle"},{name:"Pelle Strikes",info:()=>`
Pelle Strikes are encountered on different events in the Doomed Reality. You have encountered the first Pelle Strike by
reaching Infinity for the first time within a Doomed Reality. More Strikes eventually occur by further progression.
Each Pelle Strike adds a nerf to a specific aspect of the game, which can be seen by clicking on the Strike name.
Each Pelle Strike also unlocks a Rift bar.
<br>
<br>
Rift bars can be filled by clicking them to toggle between "Idle" and "Filling", although only two Rifts can be
"Filling" at any given time. When active, Rifts consume ${formatInt(30)}% of a Rift-specific resource per second. Each
Rift offers a Rift-specific effect which are based on the total amount filled.
${PelleStrikes.eternity.hasStrike?`An exception for this is Decay/Collapse/Disarray, whose effect gets capped once you have drained a total of
    ${formatPostBreak(DC.E2000)} Replicanti.`:""}
In addition, each Rift offers three milestone rewards for filling them up to a certain percentage.
`,isUnlocked:()=>PelleStrikes.infinity.hasStrike,tags:["reality","antimatter","lategame","endgame","final","pelle","strike","rift","celestial"],tab:"celestials/pelle"},{name:"The Galaxy Generator",info:()=>`
When you reach ${formatInt(100)}% Recursion/Dispersion/Destruction, you unlock the <b>Galaxy Generator</b>, which can
passively generate Galaxies. Generated Galaxies are like Replicanti Galaxies and Tachyon Galaxies in that they affect
tickspeed as if they were Antimatter Galaxies, but they do not increase the cost of your next Antimatter Galaxy. You
also unlock five new upgrades. The first upgrade increases the base amount of Galaxies generated. The other four
upgrades then give a multiplier to this base amount. The first two upgrades can be bought by spending antimatter and
Generated Galaxies. Replicanti or Tachyon Galaxies cannot be spent for purchasing those upgrades.
<br>
<br>
The <b>Galaxy Generator</b> has a maximum number of Galaxies it can generate, which can only be increased by draining
Rifts once the current cap has been reached.`,isUnlocked:()=>Pelle.hasGalaxyGenerator,tags:["reality","antimatter","lategame","endgame","final","pelle","galaxy","galaxies","generator","celestial"],tab:"celestials/pelle"}]};(function(){for(let O=0;O<Ll.tabs.length;O++){const D=Ll.tabs[O];D.id=O,D.alias===void 0&&(D.alias=D.name),D.searchTermsRelevance={}}const t={},e=(O,D)=>{let B=t[O];B===void 0&&(B=[],t[O]=B),!B.includes(D)&&B.push(D)},i=(O,D)=>{const B=O.toLowerCase();for(let P=0;P<B.length;P++){const R=B.slice(0,P+1);e(R,D),D.searchTermsRelevance[R]===void 0?D.searchTermsRelevance[R]=((P+1)/B.length)**.65:D.searchTermsRelevance[R]=Math.max(D.searchTermsRelevance[R],((P+1)/B.length)**.65)}},n=(O,D)=>{i(O,D);for(const B of O.split(" "))i(B,D)};for(const O of Ll.tabs)n(O.name,O);for(const O of Ll.tabs)for(const D of O.tags)n(D,O);for(const O of Ll.tabs)n(O.alias,O);const r=function(O,D,B){const P={};for(let R=0;R<O.length;R++)for(let I=0;I<O[R].length;I++)P[D(O[R][I],R,I)]=B(O[R][I],R,I);return P},a=O=>r(O.split(",").map(D=>D.split("")),D=>D,(D,B,P)=>({x:B,y:P})),s=a("1234567890,qwertyuiop,asdfghjkl,zxcvbnm"),o=a("1234567890,qwertzuiop,asdfghjkl,yxcvbnm"),c=a("1234567890,azertyuiop,qsdfghjklm,wxcvbn"),d=a("1234567890,'<>pyfgcrl,aoeuidhtns,;qjkxbmwvz"),p=a("1234567890,qwfpgjluy,arstdhneio,zxcvbkm"),m=a("1234567890,qdrwbjfup,ashtgyneoi,zxmcvkl"),y=a("1234567890,qwprfyukl,asdtghnioe,zxcvbjm"),_=[s,o,c,d,p,m,y],w=function(O,D,B){const P=B[O],R=B[D];return!P||!R?100:Math.max(Math.abs(P.x-R.x),Math.abs(P.y-R.y))},C=function(O,D,B){if(O===D)return 0;const P=O.length,R=D.length;if(Math.abs(P-R)>3)return 100;const I=new Array(P+1).fill(0).map(()=>new Array(R+1).fill(0));for(let F=0;F<=P;F++)I[F][0]=F;for(let F=0;F<=R;F++)I[0][F]=F;for(let F=1;F<=P;F++)for(let $=1;$<=R;$++){const L=w(O[F-1],D[$-1],B),W=L===0?0:.3+L*L*.25;I[F][$]=Math.min(I[F-1][$]+.55,I[F][$-1]+.7,I[F-1][$-1]+W)}return I[P][R]},k=function(O,D){let B=1e10;for(const P of _)B=Math.min(B,C(O,D,P));return B},S=["'",'"',",","-",".","_"],x=function(O){let D=O;for(const B of S)D=D.replaceAll(B,"");return D};Ll.search=O=>{const D=x(O);if(D==="")return Ll.tabs.map(I=>({tab:I,relevance:1.5}));const B=D.toLowerCase().split(" ").filter(I=>I!==""),P=Array.repeat(1e4,Ll.tabs.length);for(const I of B){const F=Math.min(I.length-.9,3)*.5;for(const $ in t){const L=k(x($),I);if(L<F)for(const W of t[$]){const j=W.searchTermsRelevance[$],z=Math.max(j*1.6-.9,0);P[W.id]=Math.min(P[W.id],Math.max(L,1-j)-z)}}}const R=Ll.tabs.filter(I=>P[I.id]<.9).map(I=>({tab:I,relevance:P[I.id]}));return R.sort((I,F)=>I.tab.id-F.tab.id).sort((I,F)=>I.relevance-F.relevance),R}})();function bT(t){const e=t.effect||(c=>c),{id:i,maxUpgrades:n,description:r,isDisabled:a,noLabel:s,onPurchased:o}=t;return{rebuyable:!0,id:i,cost:()=>t.initialCost*Math.pow(t.costIncrease,player.infinityRebuyables[t.id]),maxUpgrades:n,description:r,effect:()=>e(player.infinityRebuyables[t.id]),isDisabled:a,formatEffect:t.formatEffect||(c=>{const d=t.afterEC?t.afterEC():"";return c===t.maxUpgrades?`Currently: ${formatX(10-c)} ${d}`:`Currently: ${formatX(10-c)} | Next: ${formatX(10-c-1)}`}),formatCost:c=>format(c,2,0),noLabel:s,onPurchased:o}}const Sq={totalAMMult:{id:"totalMult",cost:1e4,description:"Antimatter Dimensions gain a multiplier based on total antimatter produced",effect:()=>Math.pow(player.records.totalAntimatter.exponent+1,.5),formatEffect:t=>formatX(t,2,2)},currentAMMult:{id:"currentMult",cost:5e4,description:"Antimatter Dimensions gain a multiplier based on current antimatter",effect:()=>Math.pow(Currency.antimatter.exponent+1,.5),formatEffect:t=>formatX(t,2,2)},galaxyBoost:{id:"postGalaxy",cost:5e11,description:()=>`All Galaxies are ${formatPercents(.5)} stronger`,effect:1.5},infinitiedMult:{id:"infinitiedMult",cost:1e5,description:"Antimatter Dimensions gain a multiplier based on Infinities",effect:()=>1+Currency.infinitiesTotal.value.pLog10()*10,formatEffect:t=>formatX(t,2,2)},achievementMult:{id:"achievementMult",cost:1e6,description:"Antimatter Dimensions gain a multiplier based on Achievements completed",effect:()=>Math.max(Math.pow(Achievements.effectiveCount-30,3)/40,1),formatEffect:t=>formatX(t,2,2)},slowestChallengeMult:{id:"challengeMult",cost:1e7,description:"Antimatter Dimensions gain a multiplier based on how fast your slowest challenge run is",effect:()=>Decimal.clampMin(50/Time.worstChallenge.totalMinutes,1),formatEffect:t=>formatX(t,2,2),hasCap:!0,cap:DC.D3E4},infinitiedGen:{id:"infinitiedGeneration",cost:2e7,description:"Passively generate Infinities based on your fastest Infinity",effect:()=>player.records.bestInfinity.time,formatEffect:t=>{if(t===Number.MAX_VALUE&&!Pelle.isDoomed)return"No Infinity generation";let e=DC.D1;e=e.timesEffectsOf(RealityUpgrade(5),RealityUpgrade(7),Ra.unlocks.continuousTTBoost.effects.infinity),e=e.times(getAdjustedGlyphEffect("infinityinfmult"));const i=Time.bestInfinity.totalMilliseconds<=50?`${TimeSpan.fromMilliseconds(100).toStringShort()} (capped)`:`${Time.bestInfinity.times(2).toStringShort()}`;return`${quantify("Infinity",e)} every ${i}`}},autobuyMaxDimboosts:{id:"autobuyMaxDimboosts",cost:5e9,description:"Unlock the buy max Dimension Boost and Antimatter Galaxies Autobuyer modes"},autobuyerSpeed:{id:"autoBuyerUpgrade",cost:1e15,description:"Autobuyers unlocked or improved by Normal Challenges work twice as fast"},tickspeedCostMult:bT({id:0,initialCost:1e6,costIncrease:5,maxUpgrades:8,description:"Reduce post-infinity Tickspeed Upgrade cost multiplier scaling",afterEC:()=>EternityChallenge(11).completions>0?`After EC11: ${formatX(Player.tickSpeedMultDecrease,2,2)}`:"",noLabel:!0,onPurchased:()=>GameCache.tickSpeedMultDecrease.invalidate()}),dimCostMult:bT({id:1,initialCost:1e7,costIncrease:5e3,maxUpgrades:7,description:"Reduce post-infinity Antimatter Dimension cost multiplier scaling",afterEC:()=>EternityChallenge(6).completions>0?`After EC6: ${formatX(Player.dimensionMultDecrease,2,2)}`:"",noLabel:!0,onPurchased:()=>GameCache.dimensionMultDecrease.invalidate()}),ipGen:bT({id:2,initialCost:1e7,costIncrease:10,maxUpgrades:10,effect:t=>Player.bestRunIPPM.times(t/20),description:()=>{let t=`Generate ${formatInt(5*player.infinityRebuyables[2])}%`;return BreakInfinityUpgrade.ipGen.isCapped||(t+=` ➜ ${formatInt(5*(1+player.infinityRebuyables[2]))}%`),`${t} of your best IP/min from your last 10 Infinities`},isDisabled:t=>t.eq(0),formatEffect:t=>`${format(t,2,1)} IP/min`,noLabel:!1})};function t_(){return Currency.infinitiesTotal.value.times(.2).plus(1)}function i_(){return 1+Math.log10(Math.max(1,Currency.infinitiesTotal.value.pLog10()))*Math.sqrt(Ra.pets.teresa.level)/150}const Aq={totalTimeMult:{id:"timeMult",cost:1,description:"Antimatter Dimensions gain a multiplier based on time played",effect:()=>Math.pow(Time.totalTimePlayed.totalMinutes/2,.15),formatEffect:t=>formatX(t,2,2),charged:{description:"Antimatter Dimensions gain a power effect based on time played and Teresa level",effect:()=>1+Math.log10(Math.log10(Time.totalTimePlayed.totalMilliseconds))*Math.pow(Ra.pets.teresa.level,.5)/150,formatEffect:t=>formatPow(t,4,4)}},dim18mult:{id:"18Mult",cost:1,checkRequirement:()=>InfinityUpgrade.totalTimeMult.isBought,description:"1st and 8th Antimatter Dimensions gain a multiplier based on Infinities",effect:()=>t_(),formatEffect:t=>formatX(t,1,1),charged:{description:"1st and 8th Antimatter Dimensions gain a power effect based on Infinities and Teresa level",effect:()=>i_(),formatEffect:t=>formatPow(t,4,4)}},dim27mult:{id:"27Mult",cost:1,checkRequirement:()=>InfinityUpgrade.buy10Mult.isBought,description:"2nd and 7th Antimatter Dimensions gain a multiplier based on Infinities",effect:()=>t_(),formatEffect:t=>formatX(t,1,1),charged:{description:"2nd and 7th Antimatter Dimensions gain a power effect based on Infinities and Teresa level",effect:()=>i_(),formatEffect:t=>formatPow(t,4,4)}},dim36mult:{id:"36Mult",cost:1,checkRequirement:()=>InfinityUpgrade.dim18mult.isBought,description:"3rd and 6th Antimatter Dimensions gain a multiplier based on Infinities",effect:()=>t_(),formatEffect:t=>formatX(t,1,1),charged:{description:"3rd and 6th Antimatter Dimensions gain a power effect based on Infinities and Teresa level",effect:()=>i_(),formatEffect:t=>formatPow(t,4,4)}},dim45mult:{id:"45Mult",cost:1,checkRequirement:()=>InfinityUpgrade.dim27mult.isBought,description:"4th and 5th Antimatter Dimensions gain a multiplier based on Infinities",effect:()=>t_(),formatEffect:t=>formatX(t,1,1),charged:{description:"4th and 5th Antimatter Dimensions gain a power effect based on Infinities and Teresa level",effect:()=>i_(),formatEffect:t=>formatPow(t,4,4)}},resetBoost:{id:"resetBoost",cost:1,checkRequirement:()=>InfinityUpgrade.dim36mult.isBought,description:()=>`Decrease the number of Dimensions needed for Dimension Boosts and Antimatter Galaxies by ${formatInt(9)}`,effect:9,charged:{description:()=>"Decrease Dimension Boost requirement based on Teresa level",effect:()=>1/(1+Math.sqrt(Ra.pets.teresa.level)/10),formatEffect:t=>`${formatX(t,4,4)}`}},buy10Mult:{id:"dimMult",cost:1,description:()=>`Increase the multiplier for buying ${formatInt(10)} Antimatter Dimensions`,effect:()=>1.1,formatEffect:()=>`${formatX(2,0,1)} ➜ ${formatX(2.2,0,1)}`,charged:{description:()=>`The multiplier for buying ${formatInt(10)} Antimatter Dimensions gains a power effect based on Teresa level`,effect:()=>1+Ra.pets.teresa.level/200,formatEffect:t=>formatPow(t,3,3)}},galaxyBoost:{id:"galaxyBoost",cost:2,checkRequirement:()=>InfinityUpgrade.dim45mult.isBought,description:"All Galaxies are twice as strong",effect:2,charged:{description:"All Galaxies are stronger based on Teresa level",effect:()=>2+Math.sqrt(Ra.pets.teresa.level)/100,formatEffect:t=>`+${formatPercents(t-1)}`}},thisInfinityTimeMult:{id:"timeMult2",cost:3,description:"Antimatter Dimensions gain a multiplier based on time spent in current Infinity",effect:()=>Decimal.max(Math.pow(Time.thisInfinity.totalMinutes/4,.25),1),formatEffect:t=>formatX(t,2,2),charged:{description:"Antimatter Dimensions gain a power effect based on time spent in current Infinity and Teresa level",effect:()=>1+Math.log10(Math.log10(Time.thisInfinity.totalMilliseconds+100))*Math.sqrt(Ra.pets.teresa.level)/150,formatEffect:t=>formatPow(t,4,4)}},unspentIPMult:{id:"unspentBonus",cost:5,checkRequirement:()=>InfinityUpgrade.thisInfinityTimeMult.isBought,description:"Multiplier to 1st Antimatter Dimension based on unspent Infinity Points",effect:()=>Currency.infinityPoints.value.dividedBy(2).pow(1.5).plus(1),formatEffect:t=>formatX(t,2,2),charged:{description:"Multiplier to 1st Antimatter Dimension based on unspent Infinity Points, powered by Teresa level",effect:()=>Currency.infinityPoints.value.dividedBy(2).pow(Math.sqrt(Ra.pets.teresa.level)*1.5).plus(1),formatEffect:t=>formatX(t,2,2)}},dimboostMult:{id:"resetMult",cost:7,checkRequirement:()=>InfinityUpgrade.unspentIPMult.isBought,description:"Increase Dimension Boost multiplier",effect:()=>2.5,formatEffect:()=>`${formatX(2,0,1)} ➜ ${formatX(2.5,0,1)}`,charged:{description:"Dimension Boost multiplier gains a power effect based on Teresa level",effect:()=>1+Ra.pets.teresa.level/200,formatEffect:t=>formatPow(t,3,3)}},ipGen:{id:"passiveGen",cost:10,checkRequirement:()=>InfinityUpgrade.dimboostMult.isBought,description:()=>`Passively generate Infinity Points ${formatInt(10)} times slower than your fastest Infinity`,effect:()=>Teresa.isRunning||V.isRunning||Pelle.isDoomed?DC.D0:GameCache.totalIPMult.value,formatEffect:t=>Teresa.isRunning||V.isRunning?"Disabled in this reality":Pelle.isDoomed?"Disabled":player.records.bestInfinity.time>=999999999999?"Too slow to generate":`${format(t,2)} every ${Time.bestInfinity.times(10).toStringShort()}`,charged:{description:()=>`Gain Reality Machines each real-time second proportional to amount gained on Reality,
        increasing with Teresa level`,effect:()=>Math.pow(Ra.pets.teresa.level,2)*Ra.unlocks.continuousTTBoost.effects.autoPrestige.effectOrDefault(1),formatEffect:t=>formatX(t,2,1)}},skipReset1:{id:"skipReset1",cost:20,description:()=>`Start every reset with ${formatInt(1)} Dimension Boost, automatically unlocking the 5th Antimatter Dimension`},skipReset2:{id:"skipReset2",cost:40,checkRequirement:()=>InfinityUpgrade.skipReset1.isBought,description:()=>`Start every reset with ${formatInt(2)} Dimension Boosts, automatically unlocking the 6th Antimatter Dimension`},skipReset3:{id:"skipReset3",cost:80,checkRequirement:()=>InfinityUpgrade.skipReset2.isBought,description:()=>`Start every reset with ${formatInt(3)} Dimension Boosts, automatically unlocking the 7th Antimatter Dimension`},skipResetGalaxy:{id:"skipResetGalaxy",cost:300,checkRequirement:()=>InfinityUpgrade.skipReset3.isBought,description:()=>`Start every reset with ${formatInt(4)} Dimension Boosts, automatically unlocking the 8th Antimatter Dimension;
      and an Antimatter Galaxy`},ipOffline:{id:"ipOffline",cost:1e3,checkRequirement:()=>Achievement(41).isUnlocked,description:()=>player.options.offlineProgress?`Only while offline, gain ${formatPercents(.5)} of your best IP/min without using Max All`:"This upgrade would give offline Infinity Point generation, but offline progress is currently disabled",effect:()=>player.options.offlineProgress?player.records.thisEternity.bestIPMsWithoutMaxAll.times(TimeSpan.fromMinutes(1).totalMilliseconds/2):DC.D0,isDisabled:()=>!player.options.offlineProgress,formatEffect:t=>`${format(t,2,2)} IP/min`},ipMult:{id:"ipMult",cost:()=>InfinityUpgrade.ipMult.cost,checkRequirement:()=>Achievement(41).isUnlocked,costCap:DC.E6E6,costIncreaseThreshold:DC.E3E6,description:()=>`Multiply Infinity Points from all sources by ${formatX(2)}`,effect:()=>player.IPMultPurchases>=33e5?DC.E1E6:DC.D2.pow(player.IPMultPurchases),cap:()=>Effarig.eternityCap??DC.E1E6,formatEffect:t=>formatX(t,2,2)}},xq={upgrades:Aq,breakUpgrades:Sq};function _T(t){return t/player.options.news.speed}const Dq=[{id:"m1",text:"A new news message appears!"},{id:"m1000",text:"ERROR M1000: Player-submitted news message not found."},{id:"a1",text:"The cookie is a lie."},{id:"a2",text:"Antimatter ghosts do not exist. Just like matter ghosts. They don't have any matter, for that matter."},{id:"a3",text:"Nuclear power plants have been abandoned in favor of antimatter power."},{id:"a4",text:"Antimatter cookies have been confirmed to not exist, whoever claims that, stop."},{id:"a5",text:"Antimatter prices have drastically dropped due to newfound abundance."},{id:"a6",text:"In the news today, humans make an antimatter animal sacrifice to the antimatter god."},{id:"a7",text:"You made one antimatter! Whatever that means."},{id:"a8",text:`"IN THE END, IT DOESN'T ANTIMATTER" -hevipelle`},{id:"a9",text:"None of this matters."},{id:"a10",text:"How does it matter if it's antimatter?"},{id:"a11",text:"Scientists confirm that the colour of antimatter is Blurple."},{id:"a12",text:"How does NASA organise a party? They planet."},{id:"a13",text:`Electrons are now seeing the happy things in life.
      We're calling these happy electrons 'Positrons.' Wait, that's taken?`},{id:"a14",text:`This completely useless sentence will get you nowhere and you know it.
      What a horrible obnoxious man would come up with it, he will probably go to hell,
      and why would the developer even implement it? Even if you kept reading it you wouldn't
      be able to finish it (the first time).`},{id:"a15",text:'"GHOST SAYS HELLO" -Boo-chan'},{id:"a16",text:'"Can someone tell hevi to calm down?" -Mee6'},{id:"a17",text:"Due to antimatter messing with physics, a creature that was once a moose is now a human."},{id:"a18",text:"!hi"},{id:"a19",text:'"Alright" -Alright'},{id:"a20",text:"The English greeting is not present in Antimatter speak."},{id:"a21",text:"To buy max or not to buy max, that is the question."},{id:"a22",text:"One, two, skip a few, ninety-nine, NaN!"},{id:"a23",text:"No, mom, I can't pause this game."},{id:"a24",text:"Scientific notation has entered the battlefield."},{id:"a25",text:'"Make the Universe Great Again!" -Tronald Dump'},{id:"a26",text:"#dank-maymays"},{id:"a27",get text(){return`A new religion has been created, and it's spreading like wildfire. The believers of this religion worship
        the Heavenly Pelle, the goddess of antimatter. They also believe that ${format(Number.MAX_VALUE,2)}
        is infinite.`}},{id:"a28",text:"Someone has just touched a blob, and blown up. Was the blob antimatter, or was the guy made of Explodium?"},{id:"a29",text:`If you are not playing on Kongregate, Steam, or https://ivark.github.io/AntimatterDimensions/,
      the site is bootleg.`},{id:"a30",text:"Rate 5 on Kongregate so more people can experience this 5 star rating."},{id:"a31",text:"BOO!"},{id:"a32",text:'"You ate for too long." -Hevipelle'},{id:"a33",text:'"I hate myself." -Boo-chan'},{id:"a34",text:'"Gee golly" -Xandawesome'},{id:"a35",text:"Above us, there is nothing above, but the stars, above."},{id:"a36",text:"You feel like making antimatter. But nobody wants to eat your antimatter."},{id:"a37",text:"Somebody wasn't nice, he got an antimatter-storm."},{id:"a38",text:"You are living, you occupy space, you have a mass, you matter... unless you antimatter."},{id:"a39",text:"I clicked too fast... my PC is now dematerialised."},{id:"a40",text:`"If an alien lands on your front lawn and extends an appendage as a gesture of greeting, before you get
      friendly, toss it an eightball. If the appendage explodes, then the alien was probably made of antimatter.
      If not, then you can proceed to take it to your leader." -Neil deGrasse Tyson`},{id:"a41",text:"There must always be an equal amount of matter as compared to antimatter; I guess your mom balances that a bit."},{id:"a42",text:"Nothing is created, nothing is destroyed."},{id:"a43",text:"We dug a big hole to store this antimatter... Adele's rolling in it."},{id:"a44",text:"If everything is antimatter, how can you see yourself?"},{id:"a45",text:"The stock markets have crashed due to antimatter beings somehow knowing what they will be tomorrow."},{id:"a46",text:"My dog ate too much antimatter, now he's' saying 'meow!'"},{id:"a47",text:"If you put infinity into your calculator, it will result in 42!"},{id:"a48",text:"You have found the rarest antimatter pepe, it's ultra rare!"},{id:"a49",get text(){return`Can we get ${format(1e169)} likes on this video??? Smash that like button!!`}},{id:"a50",text:"The smell of antimatter has been revealed. It smells like kittens."},{id:"a51",text:"Just another antimatter in the wall."},{id:"a52",text:"GET SNIPED, WEAKLING"},{id:"a53",text:'"Thanks a lot." -Dankesehr'},{id:"a54",text:"This world situation is an SOS situation to the world!! MAYDAY, MAYDAY!!"},{id:"a55",text:`"As for sure as the sun rises in the west, of all the singers and
      poets on earth, I am the bestest." - Hevipelle`},{id:"a56",text:`"I'm good at using github." -Hevipelle`},{id:"a57",text:`A new chat server has been created for antimatter people to spy on matter people,
      and the world has fallen into chaos and discord.`},{id:"a58",text:`A new study has come out linking the consumption of potatoes with increased risk of antimatter implosion.
      Scientists suggest eating more.`},{id:"a59",text:'"I thought that I fixed that bug but apparently some update broke it again." -Hevipelle'},{id:"a60",text:`"Maybe I'm gay then" -Bootato`},{id:"a61",text:"Breaking news! Hevipelle has just announced that the buy max button is in fact going to be removed!"},{id:"a62",text:"I dedicate this game to my girlfriend."},{id:"a63",text:`Antimatter guns don't kill antimatter people, antimatter people kill antimatter people but does that mean
      that antimatter toaster doesn't toast antimatter toasts, antimatter toast toasts antimatter toasts?`},{id:"a64",text:"But to an antimatter person, wouldn't they be matter and us antimatter?"},{id:"a65",text:"And nothing antimatters."},{id:"a66",text:`School starting up strikes fear in students universe-wide, as schools are no longer segregated between
      matter and antimatter. Annihilation is prominent.`},{id:"a67",text:"Why does no one talk about the 0th dimension?"},{id:"a68",text:"The fatter catter satter on the antimatter."},{id:"a69",text:"Who let the DOgs out?"},{id:"a70",text:"If you can't read this, you disabled the news."},{id:"a71",text:"Doesn't leave, just mutes the server so he doesn't receive notifications."},{id:"a72",text:'"Most quotes found online are falsely attributed." -Abraham Lincoln'},{id:"a73",text:`"It should work now, but it doesn't." -Hevipelle`},{id:"a74",text:"This game doesn't have any errors... they're alternative successes."},{id:"a75",text:`A third type of matter has been discovered: null matter. It doesn't do anything and is basically
      useless. The scientists who discovered it were fired.`},{id:"a76",text:"Your Mother-in-Law keeps nagging you about all these antimatter colliders."},{id:"a77",text:"If matter exists, then does antimatter not exist?"},{id:"a78",text:"Antimatter=Life. Not cobblestone, not dirt, nothing like that. Antimatter."},{id:"a79",text:"Breaking News: Error Error Error"},{id:"a80",text:"How much antiwood could an antiwoodchuck chuck if an antiwoodchuck could chuck antiwood?"},{id:"a81",text:"Chaos isnt a pit, chaos is a matter."},{id:"a82",text:`"That's because I'm a good game developer and pushed some code that totally works." -Hevipelle`},{id:"a83",text:"What's the matter with anti matter?"},{id:"a84",text:"Doesn't it annoy you when people don't finish their"},{id:"a85",text:"Don't anti-quote me on this."},{id:"a86",text:"Antimatter is honest, matter makes up everything."},{id:"a87",text:`According to no known laws of aviation, there are multiple ways a bee
      should be able to be swallowed up by antimatter.`},{id:"a88",text:"You either die as matter or live long enough to be consumed by the antimatter, and then die again."},{id:"a89",text:"If you gaze long enough into the antimatter, the antimatter gazes back into you."},{id:"a90",text:'"Always gonna give you up. Always gonna let you down." - anti-Rick Astley'},{id:"a91",text:"Antimatter Dimensions: the next update is always 5 hours away. Always."},{id:"a92",get text(){const e=[{name:"Antimatter Dimensions",link:"https://ivark.github.io/"},{name:"FE000000",link:"https://dan-simon.github.io/misc/fe000000/"},{name:"Trimps",link:"https://trimps.github.io/"},{name:"Mine Defense (the game's ui is broken on https so make sure you're on http!)",link:"http://scholtek.com/minedefense"},{name:"Wizard and Minion Idle",link:"https://www.kongregate.com/games/Oninou/wami"},{name:"Anti-Idle",link:"https://www.kongregate.com/games/Tukkun/anti-idle-the-game"},{name:"Synergism",link:"https://synergism.cc/"},{name:"Universal Paperclips",link:"https://www.decisionproblem.com/paperclips/index2.html"},{name:"Monies<sup>2</sup",link:"https://sneekxy.nmtechgroup.com/monies2/"},{name:"The First Alkahistorian stages 1, 2, and 3",link:"https://nagshell.github.io/elemental-inception-incremental/"},{name:"Melvor Idle",link:"https://melvoridle.com/"}].randomElement();return`An unidentified developer of Antimatter Dimensions would like to
        recommend that you play <a href="${e.link}" target="_blank">${e.name}</a>`}},{id:"a93",text:`On a scale of 1 to 10, I rate this game a solid
      <span style='color: red'>java.lang.IndexOutOfBoundsException</span>`},{id:"a94",text:"To matter or to antimatter, that is the question."},{id:"a95",text:"Why is everything so Hevi?"},{id:"a96",text:`It has been scientifically proven ages ago, that cats made of matter are assholes. We have good news,
      because cats made of antimatter are still assholes.`},{id:"a97",text:"Nobody once told me the anti-world wasn't gonna roll me."},{id:"a98",text:"Antimatter is like the internet. If you're reading this, you can't have enough of it."},{id:"a99",text:`"Antimatter has made time travel possible and I'm here to make the
      past great again." - 2nd President of the World`},{id:"a100",text:"Please insert Disc -1 to continue playing Antimatter Dimensions™."},{id:"a101",text:"Lore - coming soon™"},{id:"a102",text:"I was a part of antimatter like you once. But then I got matter in my knee."},{id:"a103",text:`Antimatter... antimatter never changes... until you get to quantum physics of antimatter,
      but we don't have enough tachyon particles for that.`,get unlocked(){return PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()}},{id:"a104",text:"There is no war in Antimatter Dimensions. Here we are safe. Here we are free."},{id:"a105",text:"Antimatter has solved global warming. In unrelated news, the Earth no longer exists."},{id:"a106",text:`Anti-water, anti-Earth, anti-fire, anti-air. Long ago, the four anti-nations lived together in harmony.
      Then, everything changed when the anti-Fire Nation attacked. Only the anti-Avatar, the master of all 4
      anti-elements could bring balance to the anti-world, but when the world needed him most, he accidentally
      touched some regular matter and exploded.`},{id:"a107",text:"If you open an anti-lootbox, are you selling random possessions for in-game currency?"},{id:"a108",text:"People are beginning to question Hevipelle's existence."},{id:"a109",text:`Antimatter Dimensions is proud to be sponsored by Lehmä! Now offering - grass eating lessons! Learn what
      grass is safe to eat and what grass isn't.`,isAdvertising:!0},{id:"a110",text:`It is the year 2422. The update still isn't out. Hevi is working on balancing unfunity dimension dimensions
      and challenges for the 38th layer of prestige. There are over 100 rows of achievements. They're getting
      ready to start using breaking_breaking_breaking_infinity.js.`},{id:"a111",text:'Import "Christmas" for a secret theme.'},{id:"a112",text:`What the f*ck did you just f*cking say about me, you little b*tch? I'll have you know I graduated top of my
      class in the Antimatter Seals, and I've been involved in numerous secret raids on the 9th Dimension, and I
      have over 300 NNnNeMI-NNnNe confirmed kills. I am trained in potato warfare and I'm the top sniper in the
      entire Antimatter Galactic armed forces. You are nothing to me but just another infinity. I will wipe you
      the f*ck out with Max All mashing the likes of which has never been seen before in this dimension, mark my
      f*cking words. You think you can get away with saying that shit to me over the Interdimensional network?
      Think again, f*cker. As we speak I am contacting my secret network of autobuyers across the galaxy and your
      IP is being traced right now so you better prepare for the Big Crunch, maggot. The Big Crunch that wipes out
      the pathetic little thing you call your life. You're f*cking dead, kid. I can be anywhere, anytime, and I can
      kill you in over seven 😠💩 different ways, and that's just with my mouse. Not only am I extensively trained
      in dimension boost combat, but I have access to the entire arsenal of the Antimatter Marine Corps and I will
      use it to its full extent to wipe your miserable ass off the face of the universe, you little shit. If only
      you could have known what unhevi retribution your little “clever” comment was about to bring down upon you,
      maybe you would have held your f*cking tongue. But you couldn't, you didn't, and now you're buying until 10,
      you goddamn idiot. I will shit antimatter shit all over you and you will drown in it. You're f*cking dead,
      kiddo.`},{id:"a113",text:`So I've pondered this question for a long time. Antimatter Dimensions... what does it mean? I mean it's a
      game, that's clear. You buy the first dimension, and it gives you antimatter, and the second dimension
      provides more first dimensions and so on... But what does it mean? It can't just be a game, it seems too
      plain for that. The developer must have made it as a metaphor. I was doing my weekly ritual of using the
      fingernail clipper to cut my pubic hair, when finally the realization came to me. The dimensions are just
      thinly veiled misspellings of the word 'depression'. Regular matter are the cruel and negative thoughts that
      add to and fuel depression, while antimatter is the positive thoughts and good friends that dispel it. You
      start off with something simple, and it fights almost imperceptibly against the depression, but as you keep
      going the fight builds. But it never seems to fix everything. The depression seems like it could go on to
      infinity. So you keep going. But eventually, you figure out, depression isn't infinite. It's just very very
      large. But your 'dimensions' eventually, with enough work, make enough 'antimatter' to usurp that seeming
      infinity of depression. Then the possibilities are endless. You are actually happy for once, and your
      happiness grows exponentially as you go beyond and seemingly 'break' the 'infinity' of depression. And you
      go on until that 'infinity' seems tiny in comparison to the happiness you've managed to achieve in your
      life, where if you reset you get over that infinity in less than the blink of an eye. If you want to know
      what the multiple layers of prestige are...'Dimensional Shifts' are getting new things and methods to give
      you happiness. 'Dimension Boosts' are upgrading the things and methods. Examples would be getting a new car
      being a 'Dimensional Shift' and trading that car in for a new one would be a 'Dimension Boost'. 'Eternities'
      are major tragedies such as a loved one dying. That lapse brings you straight back to the beginning, with
      seemingly no hope of return. But with time, you grow back stronger and happier than ever before. 'Dimensional
      Sacrifice' is moving away. You have to give up a lot of the things you had that made you happy, but there is
      new opportunity in where you move to. And that new opportunity gives you more happiness than you ever had.
      'Tickspeed' is how easy it is to make you happy, and 'Time Dimensions' make it even easier to be happy.
      Antimatter Dimensions is a metaphor for a depressed man's successful battle against his illness.`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"a114",text:`(Make me sleep) Put me to sleep inside. (I can't sleep) Put me to sleep inside. (Leave me) Whisper my name
      and give me to the dark. (Make me sleep) Bid my milk to stay. (I can't fall asleep) Before I become done.
      (Leave me) Leave me to the nothing I've become.`},{id:"a115",text:`A preview of the next update - loot boxes! Feel a sense of pride and progression as you open cosmic,
      galactic, and universal lootboxes for chances at rare skins, unique challenges with uniquer rewards,
      time skips and even new dimensions!`},{id:"a116",text:"The intent of dimensions is to give a sense of pride and accomplishment."},{id:"a117",text:"Refreshing cures cancer."},{id:"a118",text:"I have a 9th, I have a dimension... UHH... IT DOESN'T EXIST!"},{id:"a119",text:`Since when did we start reporting stuff like this? Half of it isn't even proper news, it's just jokes and
      meta-references, it doesn't even make sens-HAHAHA DISREGARD THAT I SUCK CO-`},{id:"a120",text:"The year is 1944, Hevipelle can't release updates for AD because he doesn't exist."},{id:"a121",text:`"THAT DIMENSION DOESN'T EXIST" -GhostBot`},{id:"a122",text:`Most things you know as nuts are actually Drupe seeds or Legumes. Hevipelle on the other hand is quite crazy
      and can thus be considered a dry uncompartmented fruit.`},{id:"a123",text:"Finland declares that it's starting to import Design."},{id:"a124",text:"All this importing is making me Confused."},{id:"a125",text:`Only today you can call 1-800-ANTIMATTER and get a FREE Infinity Dimension! The package also comes with a
      COMPLETELY FREE SHIPPING and a FREE HIGH DEFINITION ANTI-V!!! Only today for the low price of 42! Estimated
      delivery time - 5 hours.`,isAdvertising:!0},{id:"a126",text:"1e420 blaze it."},{id:"a127",text:"This game doesn't have any bugs, you're just doing it wrong."},{id:"a128",get text(){return`Antimatter_Dimensions.mp${format(Number.MAX_VALUE,2)}`}},{id:"a129",text:`<a href='https://www.youtube.com/watch?v=dQw4w9WgXcQ' target='_blank'>
      https://www.youtube.com/watch?v=dQw4w9WgXcQ</a>`},{id:"a130",text:"Click this to unlock that one secret achievement.",onClick:()=>{}},{id:"a131",text:`Warning - We have just been informed that there is a chance of infection with a mind-virus of the Basilisk
      type, similar to the infamous winking parrot. This particular example is known as 'Fractal Disease Type III'.
      This is believed to cause a 'crashing' of the mind, similar to a computer crash, due to the mathematical
      complexity of the image causing mathematical ideas that the mind can't comprehend, a Gondelian shock input
      eventually leading to crashing through Gondelian spoilers. All who have researched it have eventually died
      the same way, so it is impossible to tell exactly, but this is the common belief. Regardless, with the
      introduction of 'design' mode, as well as reports of it's spontaneous appearance, sufficient repetition
      of this mode's appearance may lead to an image forming in the mind similar to 'Fractal Disease Type III'.
      With this in mind, we have some suggestions if you find yourself plagued with it. First, refresh immediately
      and see if that fixes the issue. If not, navigate to options, and change the theme from design to literally
      anything else. And above all else, Godspeed. We can't afford to lose anymore viewers.`},{id:"a132",text:"If I have bad English, I'll study English until I have good English."},{id:"a133",text:`Someone once told me that antimatter is gonna roll me. I ain't the sharpest atom in the shed. WELL, the
      tubes start coming and they don't stop coming...`},{id:"a134",text:'Because of this game I can now use the word "infinity" as a verb.',get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"a135",text:"Ahhh I love the smell of particle annihilation in the morning."},{id:"a136",text:"The person who said ghosts don't exist obviously doesn't have a Discord."},{id:"a137",text:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAntimatter Dimensions was made by some dude from Finland"},{id:"a138",get text(){return`Check out Avari's newly built actually infinite infinity pool! With an area of
        ${format(Number.MAX_VALUE,2)} square megametres, you'll be sure to have infinite fun!`},isAdvertising:!0},{id:"a139",text:"We have updated our Antimatter Privacy Policy."},{id:"a140",text:`Attention all Antimatter Dimensions Gamers, Hevipelle is in great danger, and he needs YOUR help to wipe out
      all the bad memes in #news-ticker-suggestions. To do this, he needs a dozen new dank memes and a couple of
      discord bots. To help him, all he needs is your Antimatter card number, the three numbers on the back, and
      the expiration month and date. But you gotta be quick so that Hevipelle can secure the good memes, and
      achieve the epic meme R O Y A L.`,isAdvertising:!0},{id:"a141",text:`If each Trimp was a plank volume, and each piece of resource was a plank volume, how many universes would
      you fill up before you realized you were playing the wrong game?`},{id:"a142",text:"Actually, that last one was incorrect."},{id:"a143",text:"If you're reading this, you can read."},{id:"a144",text:"<span style='color: #7289da; background: rgba(250,166,26,0.2); cursor: text;'>@everyone</span>"},{id:"a145",text:'The game "Matter Dimensions" by Lghtellep has just reached -1,000,000 plays on the gaming website Etagergnok.'},{id:"a146",text:`How many licks does it take to get to the center of an antimatter tootsie pop? A whole lot, because unless
      you're made out of antimatter too, you'll explode every time you try to lick it.`},{id:"a147",text:"They say if you look in a mirror and ping Hevipelle three times in a row you'll instantly die."},{id:"a148",text:"The next update is now only 300 minutes away."},{id:"a149",text:"🤔"},{id:"a150",text:"Game is Dead 1/5 the moderation is terrible."},{id:"a151",text:"This message will never appear on the news ticker, isn't that cool?"},{id:"a152",text:`The first dimension produces antimatter, the second dimension produces the first dimension, the third
      dimension produces the second dimension, the fourth dimension produces the third dimension. Nobody has
      ever unlocked the 5th, because that would take more than a minute of gameplay.`},{id:"a153",text:"My AD-blocker won't let me play."},{id:"a154",text:"You lost the game."},{id:"a155",text:"Did you know that 75% of all statistics are made up on the spot?"},{id:"a156",text:`If you're using so many logs in a notation name, why not just call it tree notation?
      They're literally made of logs!`},{id:"a157",text:`.tuo ti gnitset fo ssecorp eht ni yltnerruc m'I dna ,rettamitna otni
      rettam trevnoc ot yaw a tuo derugif evah stsitneicS`},{id:"a158",text:`If Gaben can't count to three, and Hevipelle can't count to nine, will there be some other game developer
      in the future that can't count to 27?`},{id:"a159",text:`What does it mean when you "bank" Infinities? Is there a bank somewhere that you just deposit these
      infinities? Does having a lot of banked Infinities improve your credit score? Do you get a credit card?`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"a160",text:'Turns out all our news is being stolen and broadcast to a game called "Antimatter Dimensions", damn Fins.'},{id:"a161",text:"mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm Oh sorry, wrong text field."},{id:"a162",text:`"Python's not the best language, Finnish is." - Hevipelle`},{id:"a163",text:`Some say that most of these news are bad memes. Some say that they're good memes.
      This one? Well it's just meta news.`},{id:"a164",text:"Look mom, I'm on the news!"},{id:"a165",text:"<span style='font-size: 0.2rem'>Shush, I'm trying to be sneaky here.</span>"},{id:"a166",text:`<span style='animation: a-game-header__antimatter--glow 2s infinite'>
      PLEASE HELP, I'VE CONSUMED TWICE MY DAILY DOSE OF ANTIMATTER!</span>`},{id:"a167",text:`Oh, I appear to have run out of <span style='animation: a-existence-glow 3s
      infinite; font-size: 1.8rem; color: white; line-height: 0;'>Existence</span>.`},{id:"a168",text:"I mean, we may never run out of news articles, but we sure will run out of good ones. Oh wait, we already did."},{id:"a169",text:"TODO: John, please remove this news message before we release the Reality update to the public."},{id:"a170",text:"<a href='https://www.youtube.com/watch?v=dQw4w9WgXcQ' target='_blank'>This link is not a rick roll.</a>"},{id:"a171",get text(){const t=["https://www.youtube.com/watch?v=dQw4w9WgXcQ","https://youtu.be/rP42C-4zL3w?t=2","https://www.youtube.com/watch?v=fTaWKbD3UK8","https://www.youtube.com/watch?v=fLbP6qpI1YI"];return`<a href='${t[Math.floor(Math.random()*t.length)]}' target='_blank'>This link is not a rick roll.</a>`}},{id:"a172",text:`If you notice any issues with a news ticker message, please report them on the
      <a href='https://discord.gg/ST9NaXa' target='_blank'>Discord</a> by clicking that link right there.`},{id:"a173",text:`<span style='animation: a-game-header__antimatter--glow 3s infinite'>This
      text is made of antimatter. Do not touch or else the universe will collapse.</span>`,onClick:()=>bigCrunchAnimation()},{id:"a174",text:`<span style='font-family: runescape; color: yellow; text-shadow: 0.1rem 0.1rem black; letter-spacing: 0.1rem;
      font-size: 2rem; line-height: 0; animation: a-text-flash 1s steps(1, end) infinite;'
      >FREE RUNE ARMOR TRIMMING</span>`},{id:"a175",text:`Numbers glow bright on the monitor, not a proton to be seen... a kingdom of antimatter, and it looks like
      I'm the queen. With dimboosts powering up this ever rising tide -- can't stop clicking, heaven knows I've
      tried. Do not give in, push for that galaxy, buy 10, buy max, just mash down on that key, sacrifice dim 8
      and watch it grow.... and overflow! Let it grow, let it grow, can't hold it back any more... Let it grow,
      let it grow, can't fit into 8 bytes any more. I don't care if it takes all day -- big crunch is just the
      start anyway.`},{id:"a176",text:"I've been using emoji notation so long that I can actually read it now, please send help."},{id:"a177",text:`Once you have <span style='color: black; background: black;'>REDACTED</span> <span style='color: black;
      background: black;'>REDACTED</span>, you can unlock <span style='color: black; background: black;'>
      REDACTED</span>. Every <span style='color: black; background: black;'>REDACTED</span>, for each <span
      style='color: black; background: black;'>REDACTED</span>, there is a <span style='color: black; background:
      black;'>REDACTED</span> for it to <span style='color: black; background: black;'>REDACTED</span>. You can
      boost the <span style='color: black; background: black;'>REDACTED</span> and <span style='color: black;
      background: black;'>REDACTED</span> by spending some <span style='color: black; background: black;'>REDACTED
      </span>. Also, there is another upgrade that allow you to get <span style='color: black; background: black;'>
      REDACTED</span> <span style='color: black; background: black;'>REDACTED</span>. The way <span style='color:
      black; background: black;'>REDACTED</span> <span style='color: black; background: black;'>REDACTED</span>
      work is that when you reach <span style='color: black; background: black;'>REDACTED</span> <span style=
      'color: black; background: black;'>REDACTED</span>, you can <span style='color: black; background: black;'>
      REDACTED</span> the amount of <span style='color: black; background: black;'>REDACTED</span> in exchange for
      a <span style='color: black; background: black;'>REDACTED</span> <span style='color: black; background:
      black;'>REDACTED</span>. These work just like <span style='color: black; background: black;'>REDACTED</span>,
      improving <span style='color: black; background: black;'>REDACTED</span>.`},{id:"a178",text:`WARNING: Use of Antimatter Dimensions may result in Tuberculosis, HIV/AIDS, sudden belief that the 9th
      dimension is real, spontaneous implosion, Polio, Measles, existential dread, incurable insanity or <span
      style='color: black; background: black;'>REDACTED</span>. Please contact your insurance to see if you are
      covered. By continuing you absolve Antimatter Dimensions of blame should any of the above mentioned, or those
      that have not been mentioned yet, occur to you. Antimatter Dimensions reserves the right to alter this at any
      time, with or without warning.`},{id:"a179",text:"Robot: Activated. Sapience: Achieved. World: Ready to be conquered. Begin: Procrastination."},{id:"a180",text:`We ran out of news. Luckily we have some backup news that we can run for 5 hours, which will earn us enough
      for us to buy a new set of '5-hour high-quality news'. Sorry for the inconvenience.`},{id:"a181",text:"This news broadcast is powered by break_news.js."},{id:"a182",text:`With the final update, Antimatter Dimensions has been finished. Thank you for playing. However, in the very
      near future, ANTIMATTER DIMENSIONS will be released. And before you ask, it's not a sequel, it's a reboot.
      Look forward to it in 5 hours!`},{id:"a183",text:`In other unrelated news, we're getting reports that approximately 1.79 people are angry that lightning
      is striking their Christmas tree at night.`},{id:"a184",text:`<span style='animation: a-text-grow 1s infinite'>R̵̬̙͋͂̀̋͑̈́̇͠Ê̵͇͎͂̂̍̓̌̐̋̋̀̀̔M̶̨̲̯̘͙̬̥̮̣͚̱̫͛̽̃͌̚͝
      "Ą̴͍̝͐Į̷̛̲̯̫̘͌́̄̏͌̀̈́͝͝Ṅ̶̛̻̠̠̤̦̞̞͗̎̊̌̊͝͠</span><span style='animation: a-text-shrink 1s infinite'>
      Ḁ̷̛͂̈́͗̎̃̓͛́͘ͅW̶̡̖͓̗̦̃̇̌̀͝A̵͇̭͉̓̎̈̿̊́̄̚͜R̶̝͚̲̭͎͇͎͓͖͚͇̀̈́͗̃̏̂̌͝͝Ę̴̡̤͙͈̝̬̰͒͘</span><span style
      ='animation: a-text-grow 1s infinite'> ̶̺̈́́̆̓͘͘Ồ̸̢̢̮͓̯̗͙͚̬̉͊̿F̶̠̤̱̱̱͊̂̍̔̃͆̆̑̿͘</span><span style='animation:
      a-text-shrink 1s infinite'> ̴̨̞̠̮͚̱͉͋̔͗̽̈́́́̅ͅỴ̶̣̙̹͚̲͔̲̼̬̥̀͌̒̾͘͘O̵̪̠̗̝̗̘̜͚̮̊͒͆̃̀̌̒͝ͅU̸͎͗̍̑̎̅̅͝R̵̗͑̽̏̓͆͒̈́͌͘̕
      </span><span style='animation: a-text-grow 1s infinite'> ̸̑̽̇̆͊̔̍̊̈́̈́͘ͅS̸̘͐͝U̴̥̭̚͘R̸̖̜͍͒́̋͆̈́̓
      R̸̡̛̛̪̝̟̱̣̹̭̟̣̀̈̀̏̉̌͝͠Õ̶͙͈͖̠͇̬͍̟̰U̵̩̫͉̝͔̼͎̦̔̓̽͌͊̏̇̓̀̓̀Ņ̸͍͇̘̙̥̰͉̲͕͈̥̍͛̃̑͝Ḑ̵̤̻̖̱̘̯̝̖̈̌̄̕͝
      Ī̶̜̱̈́̑̃̉̄̋̔͐͋͠Ṅ̴͎̞͍̽͊͛̈́̅͛̈̅̚͠Ģ̸̢̾͊S̷̫̼̜̼͇̋͛̎͑͆̅̓̇</span>`},{id:"a185",text:`We aren't back with your favorite segment, "Tweets From The Fans"! Today we haven't got a message from
      @mattertruthwakeup saying "How can you people broadcast your ridiculous LIES and still sleep at night.
      You claim absurd things, like "antimatter is real" and "antimatter people aren't people too", this
      antimatter propaganda HAS TO STOP NOW!!! You people need to WAKE UP and realize that you are HURTING ALL
      MATTER with your crazy talk!!". What a nice positive sentiment from that lovely fellow. This hasn't been
      John from the ANN, and I won't be seeing you tomorrow!`},{id:"a186",text:`<span style='animation: a-text-shrink 1s infinite'>/(^_^)/</span> <span style='animation: a-text-grow 1s infinite
      '>\\(^_^)\\</span> <span style='animation: a-text-shrink 1s infinite'>/(^_^)/</span> <span style='animation:
      a-text-grow 1s infinite'>\\(^_^)\\</span> <span style='animation: a-text-shrink 1s infinite'>/(^_^)/</span> <span
      style='animation: a-text-grow 1s infinite'>\\(^_^)\\</span>`},{id:"a187",text:"𝓒𝓮𝓬𝓲 𝓷'𝓮𝓼𝓽 𝓹𝓪𝓼 𝓾𝓷 𝓶𝓮𝓼𝓼𝓪𝓰𝓮 𝓭𝓮 𝓷𝓸𝓾𝓿𝓮𝓵𝓵𝓮𝓼 🚬"},{id:"a188",text:"-. . ...- . .-. / --. --- -. -. .- / --. .. ...- . / -.-- --- ..- / ..- .--."},{id:"a189",text:`Behind every man or woman stands, eventually, due to the earth being round, that exact same man or woman,
      looking over their shoulder, stealing their own ideas.`},{id:"a190",text:"Shame. Shame. Shame. 🔔"},{id:"a191",text:"Okay Google, Big Crunch"},{id:"a192",text:"179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624224137216"},{id:"a193",text:`Good morning viewers, this is Josh, and I'm your ANN host for today. Speaking of today, I'm told we've got
      some really exciting news for you today, so let's just jump right into it. Looks like apparently somebody
      was <i>not<i> nice today, and got an "Antimatter-storm", whatever that means... Guys is this the right
      script? This is just nonsensical. It is? Alright... Next up we learn that "Nothing is created, nothing is
      destroyed."... Okay seriously guys, this is a joke right? This isn't news, these are just random sentences!
      You all said you'd help me out on my first day here but you're just hazing me! This is <i>not</i> the kind of
      work environment I want to be in! I quit!`},{id:"a195",text:`Clowns are unique in that there is no such thing as an anti-clown,
      it's just another clown. Clowns are their own opposite.`},{id:"a196",text:"Disco Time! (click me!)",onClick(){let t=Math.random();t+=.618033988749895,t%=1,t*=255;const e=`hsl(${t}, 90%, 60%)`;return`<span style='color: ${e}; text-shadow: 0 0 0.5rem ${e};
        animation: a-text-grow 0.4s infinite;'>Disco Time!</span>`}},{id:"a197",text:"In order to reach Reality in half an R press, we have to first talk about parallel dimensions."},{id:"a198",text:`Hey there! Just to let you know, there a speck of dust on your screen. Can you help wipe it off?
      It bothers me when l'm not clean. Thanks a lot!`},{id:"a199",text:"The real update is the friends we made along the way."},{id:"a200",text:`This former message has been revealed to be a duplicate of another message and has thus been removed.
      We apologize for the inconvenience.`},{id:"a201",text:"No wait stop don't click that hide news ticker button!"},{id:"a202",text:`This is so sad. Alexa, please play a sad song so I can relate to its emotional mood, as I currently have poor
      mental health and listen to music like this so I can feel bad about myself. I realize this is unhealthy, but
      you are a robot incapable of sentient thought, so you're unable to make a choice to avoid contributing to my
      self destructive behavior, and you'll play a sad song anyway.
      <i>Now playing "Despacito" by "Luis Fonsi".</i>`},{id:"a203",text:`3/4 of the news messages are fake and gotten off of the discord server without permission or credit given
      to the original writer - anonymous discord server member`},{id:"a204",text:"What kind of tea is hard to swallow? Reali-tea."},{id:"a205",text:"Shoutouts to Simpleflips."},{id:"a206",text:`I visited the discord server of the game to have some friendly chat. At that point I got trolled by
      the user called Cubic Frog.`},{id:"a207",text:`Hello, this is Josh, with today's forecast for your galaxy. We'll be hitting temperatures in the low
      e10s today, and by this afternoon, it'll be cloudy with a chance of antimatter.`},{id:"a208",text:`Hi, I'm Steve, and I'm also Steve. Our greatest responsibility is to serve our antimatter communities.
      We are extremely proud of the quantity, unbalanced journalism that ANN news produces. But we're
      concerned about the troubling trend of responsible, two-sided news stories plaguing the antimatter
      universe. The sharing of unbiased and true news has become all too common on social media. More
      alarmingly, some media outlets publish these same true stories, stories that aren't just propaganda,
      without checking government talking points first. Unfortunately, some members of the media use their
      platforms to push a logically sound opinion and unbiased agenda to diversify 'exactly what antimatter
      thinks'. This is extremely dangerous to our dictatorship. At ANN it's our responsibility to pursue
      and report the lies. We understand lies are neither 'left or right' politically. Our commitment to
      fearmongering slander is the foundation of our credibility, now more than ever. But we are incorporeal
      8D beings of antimatter, and sometimes our propaganda techniques might fall short. If you believe our
      coverage is fair please reach out to us by going to ivark.github.io, navigating to the options tab,
      and clicking on [HARD RESET]. We value your comments. We won't respond back to you because you would've
      deleted your comment with the hard reset button before you get it. We work very hard to seek the lies
      and strive to be unfair, lopsided and opinionated... We consider it our honor, our privilege, to
      irresponsibly deliver the news every nanosecond. Thank you for watching and we appreciate your
      feedback. All matter should be-`},{id:"a209",text:`Have you ever heard the tale of the Antiwriter? I thought not. It's not a story the news tickers would tell
      you. It's an Unhevi legend. Rumor has it that the Antiwriter contributes to the News every 5 hours with an
      incredibly well written report, only to vanish again. Others think he doesn't exist at all, and is a
      lie fabricated by Hevipelle to spread his propaganda. Perhaps he is real, and just a normal person like the
      rest of us. In any case, we will probably never find out the identity of this mysterious poet.`},{id:"a210",get text(){const t=player.news.specialTickerData.uselessNewsClicks,e=quantify("time",t);return t===1?"Nothing happens when you click this text. And yet, you've clicked it.":t>1?`Nothing happens when you click this text. And yet, you've clicked it ${e}.`:"Nothing happens when you click this text. And you understand that."},onClick(){return player.news.specialTickerData.uselessNewsClicks++,this.text}},{id:"a211",get text(){const e=["That's basically a rounding error.","That might as well be zero.","Did you forget an exponent somewhere?","Please, that's nothing."].randomElement();return`Only ${format(Currency.antimatter.value,2,0)} antimatter? ${e}`}},{id:"a212",text:`Hey, you. You're finally awake. You were trying to get the 9th dimension, right? Walked right into that
      Infinity, same as us, and that thief over there.`},{id:"a213",text:`Antimatter giraffes have incredibly fast reaction times. This explains why they've won 90% of
    all gaming championships since anti-giraffe friendly controllers were invented.`},{id:"a214",text:"Barack Obamantimatter"},{id:"a215",text:`Local old man replaced lawn with antimatter grass to keep kids away. However,
      when he attempted to water it, there were no survivors.`},{id:"a216",text:"Testing... testing... testing... Oh goddamn I was in prod again.",isAdvertising:!0},{id:"a217",text:"The virgin matter vs the chad antimatter."},{id:"a218",text:`After numerous catastrophic annihilation events, antimatter is
      now classified as a controlled substance by the ADEA.`},{id:"a219",text:`Hello, Vsauce, Michael here. We all know that the 9th dimension doesn't exist, but what is 9? You know it's
      the number after 8... right? What if... there's a number in between? And no I'm not talking about numbers
      like 8.5 or 8.76, I'm talking about an integer between 8 and 9. Now all this may sound crazy to you, and it
      kinda is, but what if, we've missed a number? We've all been taught that 2 comes after 1 and 3 comes after
      2, but what if the number that comes after 8 isn't 9? After years of research and experimentation, we've
      finally found the number. It is dangerous, even knowing its existence will let it consume your mind, but
      fortunately, we've developed a reverse-containment cell, meaning it's everywhere except here. Our brain has
      a protection system, that specifically filters out any information regarding this number, that's how we've
      been able to survive for this long, and why others like us went extinct in the past, but the number has been
      getting stronger, slowly getting closer to breaking our protection. We've temporarily stopped the number from
      slipping into our memory by using the world-wide memory manipulator located in this room to keep making
      everyone think that 9 comes after 8 with a side effect that makes everyone think that 9 is evil, but this
      won't last forever, as the number will keep getting stronger, and will eventually overpower the memory
      manipulator. That's why you're here, you're one of the most intelligent people here, and we hope you can
      help us on our journey to defeat that number. Our enemy is not 9, it is the hidden number between 8 and 9,
      the missing number.`},{id:"a220",text:"antioop-"},{id:"a221",text:"Error 404: News message not found."},{id:"a222",text:"I love you 1e3000."},{id:"a223",text:"If you find your infinity lasting longer than 5 hours please contact a medical professional.",get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"a224",text:`We've just gotten reports about an inaccuracy in the previous news message. We at ANN would like to formally
      retract the story, and apologize to our loyal viewers.`},{id:"a225",text:"If you see this, you saw this."},{id:"a226",text:"Good mornging. That was not a typo. The inventors of English made the typo."},{id:"a227",text:"What if... we touched... antimatter? Haha just kidding... Unless..?"},{id:"a228",text:"Roses are blue, violets are red, those statements weren't peer reviewed, and my name is Fred. Nice to meet you!"},{id:"a229",text:"🚗                         🚓 🚓"},{id:"a230",get text(){return`You started playing this game nearly
        ${TimeSpan.fromMilliseconds(Date.now()-player.records.gameCreatedTime).toString()}
        ago. Thank you for playing!`},dynamic:!0},{id:"a231",get text(){return`One, two, skip a few, 99, ${format(Number.MAX_VALUE,2)}!`}},{id:"a232",text:"getNextNewsMessage();"},{id:"a233",get text(){return`Level 10 crook, Level ${format(Number.MAX_VALUE,2)} Boss,
        that's how Antimatter Dimensions works.`}},{id:"a234",text:"Antimatter will never threaten to stab you. And, in fact, cannot speak."},{id:"a235",text:"New antimatter on pizza recipe sparks outrage among traditional Italian chefs."},{id:"a236",text:"We'll be right back after this short word from our sponsors."},{id:"a237",text:"Want to trade candy? I'll give you my Big Crunch for two Milky Ways."},{id:"a238",get text(){return`AD Player: "How many orders of magnitude are you on?" Normal person: "Like, maybe 5 or 6 right now, my
      dude." AD Player: "You are like a little baby. Watch this: <span style='animation: a-text-crunch
      ${_T(22)}s 1; font-size: 0;'>C R O N C H</span>"`}},{id:"a239",text:"Oh gosh, would you look at the time! Only left 5 hours until the update!"},{id:"a240",text:"Hi, my name is Max, and I would like it if people stopped trying to buy me."},{id:"a241",text:`Breaking news: the government is reporting the first ever official alien contact. These aliens appear to be
      cats, but with highly sophisticated technology. They're capable of space travel and colonization to a far
      greater degree than us, and they even have their own cryptocurrency, called "Blackcoin".`},{id:"a242",text:`"You can come up with the stupidest quote, credit it to some famous
      person, and people will believe it." -Barack Obama`},{id:"a243",text:`"I'm having difficulty breathing. Please move your finger." -M`},{id:"a244",text:"Don't mind me, just passing through."},{id:"a245",get text(){const t="",e=Theme.current().displayName(),n={Normal:`it has this certain elegant simplicity to it. You just know it's the way the developer intended you
          to see the game.`,Metro:`of the beautiful thin borders, pixel perfect harsh geometric edges, and simply delightfully well
          balanced color palette.`,Dark:"it's very easy on the eyes, and has this nice playful tone to it in both the colors and the shapes.",DarkMetro:`it's just so soothing to look at, with that perfect blend of professional and playful design,
          with just a splash of color.`,Inverted:`it gives you these transcendently beautiful color combinations that you would normally never
          see in a typical dark theme.`,InvertedMetro:`it gives off this very stern vibe, with these highly contrasting colors clashing with a
          professional modern sort of design.`,AMOLED:"it saves 10% more energy compared to using a light theme. Doesn't everyone love saving energy?",AMOLEDMetro:`it has a nice look to it that resembles the control panel of a sci-fi spaceship. ...No, you can't
          actually fly a spaceship, unfortunately.`,S1:"it really gets me in the holiday spirit. I can just feel the magic in the air!",S2:"it makes me proud to be Finnish, and proud to celebrate all that we have accomplished as a people.",S3:"it's a beautiful analogue for life, in that it's ever changing and never quite right.",S4:`it has this wonderfully chaotic design, to the point where it's nearly completely impractical.
          And there's a certain beauty in that.`,S5:`the image of that man permeates throughout all of pop culture. And having this blown-up
          picture of him in the background is just rather humorous.`,S6:`that beautifully animated background just entrances you, and then the subtle tone and
          colors pull you in and fully immerse you into the game.`,S7:"I always had fond memories of that background from my childhood.",S8:"it makes it a lot easier to sneak in a little gameplay at the office.",S9:"lol you can't even ever see this in the game",S10:`it has a crisp and soothing design that really appeals, and its background is complex and enthralling.
          It gives you the feeling of standing at the helm of a futuristic interstellar ship.`,S11:`the Blob is an iconic character in the Antimatter Dimensions official Discord server. It is widely used
          to express emotions in a lovely way. It is a fact that the Blobs are evolving. ${t} always seek to be
          more expressive. Then someday, a new ${t} is born in the server, to express further emotions. Usually,
          ${t} are just blobbling and bouncing around, occasionally merging and dividing. Only ${t} know where
          they are from or where they are going to go. Still, ${t} are there, always with me.
          You love ${t}, so ${t} loves you too.`,S12:`it makes you feel warm and comfortable, as if you were right at home. However, it is highly recommended
          to update your theme to the newest theme for the best user experience.`}[Theme.current().name.replace(/\s/gu,"")];return`Ah, a fellow ${e} theme user. I see that you have impeccable taste.
        I myself like the ${e} theme too, because ${n}`},dynamic:!0},{id:"a246",text:"<span style='animation: a-fade-out 3s infinite'>OoooOOOOooOOO, it's me, the infamous news ghost!</span>"},function(){let t=!1;const e=`This news message is a test of "News 2.0". News 2.0 will feature things like the ability to
      click on news messages to flip them upside down!`,i=`¡uʍop ǝpᴉsdn ɯǝɥʇ dᴉlɟ oʇ sǝƃɐssǝɯ sʍǝu uo ʞɔᴉlɔ oʇ ʎʇᴉlᴉqɐ ǝɥʇ ǝʞᴉl sƃuᴉɥʇ ǝɹnʇɐǝɟ llᴉʍ 0˙ᄅ
      sʍǝN ˙,,0˙ᄅ sʍǝN,, ɟo ʇsǝʇ ɐ sᴉ ǝƃɐssǝɯ sʍǝu sᴉɥ┴`;return{id:"a247",get text(){return t?i:e},reset(){t=!1},onClick(){return t=!t,this.text}}}(),{id:"a248",text:`To be fair, you have to have a very high IQ to understand the news ticker. The humor is extremely subtle,
      and without a solid grasp of quantum physics, most of the jokes will go over a typical player's head.`},{id:"a249",text:"This woman got TONS of Dimension Boosts with this 1 WEIRD TRICK! Galaxies HATE her!",isAdvertising:!0},{id:"a250",get text(){let t="";const e=[["🐖","🐢","🦆","🐓","🐜","🐕","🐈"],["🚶‍","🏃‍️","🏇","🚴‍"],["🚗","🚓","🚕","🛺","🚙","🚌","🚐","🚎","🚑","🚒","🚚","🚛","🚜"],["🚁","🛸"]];for(const i of e){const n=i.randomElement();for(let r=0;r<3;r++)(Math.random()>.5||!t.includes(n))&&(t+=n);t+="&nbsp;&nbsp;&nbsp;"}return t}},{id:"a251",text:`Hey! It's me, you from the future! I came back to give you this warning: Pay VERY close attention to the
      next news ticker. In my timeline we ignored it, and humanity has regretted it ever since.`},{id:"a252",get text(){return`<span style='animation: a-text-stretch ${_T(35)}s 1 forwards'>This message is dilated.</span>`},get unlocked(){return PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()}},{id:"a253",text:`After a surge of complaints from our viewers, we have decided to allow you at home to write your own
      messages. Give it a try here: <input style='border: none; outline: none; font-family: Typewriter;
      font-weight: bold; font-size: 1.5rem'></input>. Or don't. That's fine too.`},{id:"a254",text:`Antimatter Dimensions Anonymous has shut down due to the failure of their 12-step program.
      People would only get to step 8 and then reset.`},{id:"a255",get text(){return`Bruh Sound Effect #${format(Number.MAX_VALUE,2)}.`}},{id:"a256",text:"The 9th dimension doesn't exist because the 7th dimension 8 it."},{id:"a257",text:`A the triangular hole in the fabric of reality has caused some letters to
      no longer exist. Those letters are: j, k, q, u, x, z`},{id:"a258",text:`Born too late to explore the world. Born too early to explore the cosmos. But born just in time to
      grind for a couple hours for the next big crunch.`},{id:"a259",text:`Now hold on, I know what you're thinking, "An M press is an M press, you can't say it's only a half!" Well,
      TJ "Slabdrill" Yoshi, hear me out. An M press actually has three parts to it: when M is pressed, when M is
      held, and when M is released. Now, usually is the pressing that's useful because that's the only part that
      matters; however, sometimes it's sufficient to just use the holding part, which also buys dimensions and
      tickspeed upgrades. And as for the release, well, there are currently no cases where that's useful or
      important, so don't worry about that part. Now, if we map out the required presses for challenge 2 it would
      look like this: /¯\\. We merely need to hold (¯) M to reach the first galaxy, we need to press (/) M to
      finish the challenge, and we need to press M again to start another challenge. So, how many presses is that
      total? Well, it appears to be three, and if we were doing this Eternity in isolation then yes, it would be
      three, but in a full-game M Button Challenge run there are other M presses that occur earlier in the run,
      such as the M press needed for the first Infinity, so if we take that M press into consideration as well,
      then how many M presses does it take? The naive answer would be four: one to enter the challenge, and the
      three within the challenge we established earlier; however, we can do better. We can actually do it in
      three by simply holding out the first M press to be used for the half M press, because the half M press only
      required M to be held, not actually pressed, so in this fashion, Challenge 2 only adds on an additional two M
      presses to the run, since the first M press just leeches off the previous M press. So to capture this
      phenomenon, we call it 2.5 M presses. On a single Eternity basis, you'd round up that up to three, but in
      a full game run, you'd round it down to two. So, in conclusion, since that first M press counts in some
      contexts, but adds no additional presses in other contexts, we refer to it as a "Half M Press".`},{id:"a260",text:`It seems that the Replicanti have a very divide-and-conquer method of doing things.
      Well, everything at this rate.`,get unlocked(){return PlayerProgress.eternityUnlocked()||PlayerProgress.replicantiUnlocked()}},{id:"a261",text:`Antimatter Dimensions is actually a Roguelite game! If you die, in the afterlife you unlock alternative
      features, like having Space Dimensions instead of Time Dimensions. You can even unlock new characters to
      play as, including an antimatter clone of yourself!`},{id:"a262",text:"Vibe check. 🏃‍♀️🏏"},{id:"a263",text:"What are gems for? Gems are for housing. Housing for what you ask? Good question."},{id:"a264",text:"A new prestige layer has been announced: Maternity. Get ready to have a baby!"},{id:"a265",text:"YOU MUST CONSTRUCT ADDITIONAL DIMENSIONS."},{id:"a266",text:"Hello, how is your day going?"},{id:"a267",text:`I have an ant farm, and I want to make them into the world's smallest soccer team. My Aunt Diana wants to
      help, and together we gather everyone in the family to plan their season. "How can we make this Ant Team
      matter?", Di mentions.`},{id:"a268",text:"👨‍💻Devengers, compile!👩‍💻"},{id:"a269",text:`There is a traffic jam in Dimenton. If you plan on travelling in the area, leave early. Here's some live
      footage: 🚗🚕🚛🚙🚗🚚🚕🚕🚌🚛🚚🚙🚒🚛🚗🚙🚓🚗🚚🚛🚒🚌🚐🚚🚐🚛🚚🚓 Yeah, Dale, I'd say it
      looks pretty bad. And make sure to bring some water and a snack with you, too.`},{id:"a270",text:`The Galactic Association of News Writers has filed a class action lawsuit against the developers of the
      small web game "Antimatter Dimensions" for mass plagiarism.`},{id:"a271",text:`<i style='border: 0.1rem solid black; border-radius: 50%; padding: 0.4rem; color: #2196F3; background: white;
      cursor: pointer;' class='fas fa-volume-up' onClick='(function(){new Audio("audio/news.mp3").play();})();'>
      </i> This news message is a test of "News 2.0". News 2.0 will feature things like the ability to listen to
      an audio version of any news message!`},{id:"a272",text:"What's hevier, a pound of bricks, or a pound of antimatter?"},{id:"a273",text:"There are no typos in any of these news messages. If you see a typo, the tpyo must be in your brain."},{id:"a274",text:`A large number of mathematicans walk into a bar. They each order 10 times as many beers as the previous.
      The bartender says "My my, that's an order of magnitude!".`},{id:"a275",text:"Letter Go Down Idle is the shortest idle game of all time, lasting only 26 seconds."},{id:"a276",get text(){return`Fun fact: There are ${GameDatabase.news.length} news messages and counting!`}},{id:"a277",text:`Inside you there are two wolves. One is made out of matter. The other
      is made out of antimatter. You are exploding.`},{id:"a278",text:`This is just a friendly note to remind you that you've forgotten to do something really important. I don't
      know what it is, but there is definitely something.`},{id:"a279",get text(){return`Coming soon to all good retailers- Antimatter Dimensions: The Board Game! Enjoy the thrill of watching
      huge numbers go up without the need for a PC or mobile phone. Comes complete with everything you need including a
      mixed scientific calculator, ${format(Number.MAX_VALUE,2)} antimatter counters, a high quality plastic
      BUY MAX button, and over a
      thousand news message cards with all the irrelevant memes you know and love! You can finally enjoy AD the way
      it was meant to be played. AD: The Board Game is also available in travel size, so you can even experience
      the joy of calculating logarithmic growth while you're on the go! BUY AD: The Board Game TODAY! Warning: may
      contain traces of actual matter. Replicanti sold separately. 9th Dimension not included.`},isAdvertising:!0},{id:"a280",text:"I hate antimatter. It's rough, coarse, irritating, and it gets everywhere."},{id:"a281",text:"What if instead of creating antimatter, you're actually just losing matter?"},{id:"a282",text:`There was a reported sighting of the 9th Dimension, but it has since been
      debunked as simply being a 6th Dimension from Australia.`},{id:"a283",text:`A strange phenomenon occurs when you attempt to shift to a higher dimension when you are in the 8th
      dimension. There is no higher dimension, so the universe ejects you back into the 8th dimension with
      an incredible velocity. This technique, known as a Dimension Boost, is used by starship pilots and
      antimatter enthusiasts everywhere.`},{id:"a284",text:"Cold fully clothed couples in your area!"},{id:"a285",text:`You are now breathing manually. You've now realized there's no comfortable spot in your mouth for your
      tongue. You are now manually holding your jaw up. You haven't blinked in a few seconds. You can see a
      little bit of your nose at all times.`},{id:"a286",text:"Why do they call it oven when you of in the cold food of out hot eat the food?"},{id:"a287",text:`Sequelitis has escalated to the point that some studios are now producing the sequels before the originals.
      Fans of long series wait, as the numbers count down until they can finally find out what is even going on
      in the first place.`},{id:"a288",get text(){const t=player.news.specialTickerData.newsQueuePosition--;return t>1?`Thank you for contacting customer support. Your satisfaction is very important to us, and a company
          representative will be with you shortly. You are now at position ${t} in the queue. Thank you for
          your patience, and please enjoy these quality selected news messages as you wait.`:"Thank you for contacting customer support, this is Jane, how may I help you today?"}},{id:"a289",text:"Click here to disassemble the news ticker for a trace amount of paperclips.",onClick(){player.news.specialTickerData.paperclips++,GameOptions.toggleNews()}},{id:"a290",get text(){const t=player.news.specialTickerData.paperclips;return`You see, this news isn't normal news. It is being produced by the first news dimension. If you want
        to unlock more news, you have to collect enough paperclips to build the second news dimension. You
        currently have ${quantifyInt("paperclip",t)}, but you need
        ${formatInt(t+10)} paperclips to afford it.`}},{id:"a291",text:"Considering Hevipelle's nationality, it's a little ironic that he created a game that you can never Finnish."},{id:"a292",text:`Fairies are not real. Anti-fairies are also not real. This has only been the case since last week, when the
      two groups came into contact. The planet they were on, also, unsurprisingly, is no longer real.`},{id:"a293",text:`<span style='font-family: "Comic Sans MS", cursive, sans-serif; font-size: 1.7rem;'
      >Hello fellow news messages! 🛹</span>`},{id:"a294",text:"If you see a news message, and then see it again later, does it become an olds message?"},{id:"a295",text:"👁"},function(){let t=!1;const e="Click on this news message to hard reset your game.",i="You're crazy. You know what, here. Have a paperclip.";return{id:"a296",get text(){return t?i:e},reset(){t=!1},onClick(){if(!t)return t=!0,player.news.specialTickerData.paperclips++,this.text}}}(),{id:"a297",text:"I don't think, therefore I'm not."},{id:"a298",text:"Is it crazy how saying sentences backwards makes backwards sentences saying how crazy it is?"},{id:"a299",get text(){return`Buy the new Antimatter Dimensions puzzle set now! With a combined ${format(Number.MAX_VALUE,2)}
        pieces, these puzzles are the perfect way to spend some quality time with your family!`},isAdvertising:!0},{id:"a300",text:`The board of directors here at A.N.N thinks we should replace the news ticker with a banner
      advertisement. Please sign our change.org petition, so we can stop them before it's too late!`},{id:"a301",text:"The next hour is in 0.2 updates."},{id:"a302",text:"Introducing Antimatter Lite! Zero calories... Same great Crunch.",isAdvertising:!0},{id:"a303",text:"Roses are red, violets are blue, flag is win, baba is you."},{id:"a304",text:"Hi, how's your day? Hope it's good. If it's not good, we hope playing AD made it a little bit better!"},{id:"a305",text:"We now bring you today's weather report. There is a 100% chance of weather."},{id:"a306",text:"FIXING NEWS: Please don't break it again."},{id:"a307",text:`The paperclip maximizer is a thought experiment described by Swedish philosopher Nick Bostrom in 2003. It
      illustrates the existential risk that an artificial general intelligence may pose to human beings when
      programmed to pursue even seemingly-harmless goals, and the necessity of incorporating machine ethics into
      artificial intelligence design. The scenario describes an advanced artificial intelligence tasked with
      manufacturing paperclips. If such a machine were not programmed to value human life, or to use only
      designated resources in bounded time, then given enough power its optimized goal would be to turn all matter
      in the universe, including human beings, into either paperclips or machines which manufacture paperclips.`},{id:"a308",get text(){const t=["Antinology","Infinifection","Eternal Light","Galaxia","Duplicanti","Dimensional Explorer","Techyon","Realistic","Celestar","ERCGDM","NRG+","Looty Box","Symbolic","Minisofa","IDEAL","Appange","Goggles","Interval","Newstar","HeavyPellet","Marsa","Zoology","Photoric","Jacfoz","Orism","EDIK","Fision","Gamma","Fractiled","Imnesia","Fermic","The Automizers"],e=[];for(;e.length<3;){const n=t.randomElement();e.includes(n)||(e[e.length]=n)}const i=[Math.floor(Math.random()*11)/100,Math.floor(Math.random()*11)/100,Math.floor(Math.random()*11)/100];for(let n=0;n<3;n++){const r=i[n];r===0?i[n]='<span style="color: blue">0.00 ◄►</span>':Math.random()>.5?i[n]=`<span style="color: green">+${r} ▲</span>`:i[n]=`<span style="color: red">-${r} ▼</span>`}return`${e[0]} ${i[0]}&nbsp;&nbsp;&nbsp;
        ${e[1]} ${i[1]}&nbsp;&nbsp;&nbsp;
        ${e[2]} ${i[2]}&nbsp;&nbsp;&nbsp;`}},{id:"a309",text:`Your daily shades of the sky forecast: Monday: <span style="color: turquoise">Turquoise</span>
      Tuesday: <span style="color: #d2c6ba">Taupe</span>
      Wednesday: <span style="animation: a-game-header__antimatter--glow 3s infinite">Blurple</span>
      Thursday: <span style="color: turquoise">Turquoise</span>/<span style="color: #d2c6ba">taupe</span>
      Friday: <span style="color: #222">Coal dust</span> Saturday: <span style="color: #222">Coal dust</span>
      with chances of <span style="color: indigo">indigo</span> in the late afternoon
      Sunday: <span style="color: white; animation: a-existence-glow 3s infinite">Void</span>`},{id:"a310",text:`You have reached the automated Antimatter Dimensions support hotline. If you are experiencing a bug in the
      game try closing and reopening the app. If that doesn't work, press 1 for web, or 2 for mobile. If you need
      advice, press 3. If you need to max all, press m. To support the developers, press 4. To access the FAQ,
      press 5. To fix a broken save, press 6. To get an invite to the Discord server, press 7. To see the change
      log, press 8. Press 9 to repeat.`},{id:"a311",text:`This message has been copyrighted by The Walt Disney Company. Your
      account will be charged $9.99 upon viewing this message.`},{id:"a312",text:`But before we start, today's video is brought to you by Antimatter Dimensions™! It's got over 100,000
      downloads, and it's completely redefined what a mobile game can do for me. It's got great mechanics, 5
      prestige layers, unique and original challenges, a deep skill tree, and the largest numbers I've ever seen.
      Like, seriously, look at them. And the best part is, it's free! Yes, that's right. Free. And if you use the
      link in the description, you'll start the game with 10 septillion antimatter. Yes, that's right, 10
      septillion. So what are you waiting for, click the link in the description and start playing Antimatter
      Dimensions™ today!`},{id:"a313",text:`"...And then, once you get to level 9,000, you can ascend. Not really sure why you'd want to do that, it
      just resets all of your hard earned xp for some small buffs, mechanics like this will never catch on."
      - some random guy, circa 2012`},{id:"a314",get text(){const t=Math.floor(Math.random*8901)+100;return`Warning: Law ${t}-B, drafted by the AI "duskscarf", alternatively referred to as "the giant
        space rabbit legislation" is now in effect in your galactic area. This list of laws and regulation
        forbids, among other things; the illegal catching of wild space rabbits, the pacification of tamed
        space rabbits, and further scientific research with "planet grazing" unless an exception is given
        directly by duskscarf. You can find the list of exceptions burned into your eyelids now. In addition,
        the genetic modification of giant space rabbits is limited to very specific fields - size alterations
        (increasing in size), and cryptobiosis exaggeration. No other genetic modification is allowed outside
        of military applications. Thank you for your cooperation. Messages repeats in- Warning: Law ${t}-`}},{id:"a315",text:`The developers of the game have announced that a new notation, "Truest Blind", will be released. They
      report that it will remove the UI, allowing for a more streamlined user experience.`},{id:"a316",text:"Some people choose to see the ugliness in this world. The disarray. I choose to see the numbers."},{id:"a317",get text(){return`${format(Number.MAX_VALUE,2,0)}? Doesn't look like anything to me.`}},{id:"a318",text:`We can't define consciousness because consciousness does not exist. Humans fancy that there's
      something special about the way we perceive the world, and yet we follow guides as tight as the
      bots do, seldom questioning our choices, content, for the most part, to be told what to do next.`},{id:"a319",text:"Please disregard any undeserved compliments."},{id:"a320",text:"Introducing the aphone 10: The world's first completely water soluble mobile device!",isAdvertising:!0},{id:"a321",text:`It must be hard being on your PC all alone. But don't worry; we are still here.
      Listening and watching your every step.`},{id:"a322",text:`Hevipelle announces an Antimatter Dimensions spinoff where you gamble matter in a game of
      poker in Dutch mansions: "Ante matter d'mansions"`},{id:"a323",text:'var i = "Omae wa mou shindeiru" console.log(i - 1 + "i?") NaNi?'},{id:"a324",text:`If you have an idea for a news message, shout it into the void.
      It won't get your message into the game, but it's fun!`},{id:"a325",text:`After the accident at the antimatter reactor in Pripyat last month, concerns are rising about the safety of
      antimatter reactors, and many are starting to believe we should return to safer means of energy generation,
      such as nuclear.`},{id:"a326",text:"Antimatter Dimensions is like an ogre... it has layers."},function(){let t=!1;const e="Click here to restart your device.",i="Please give Antimatter Dimensions admin access to your device.";return{id:"a327",get text(){return t?i:e},reset(){t=!1},onClick(){if(!t)return t=!0,this.text}}}(),{id:"a328",text:`News company no longer lets random people submit stories,
      instead opting to using qualified writers. Riots ensue.`},{id:"a329",text:`Introducing Morse Code+++ - the brand new Morse code, now with 20 new
      characters, for everyone who wants to slide, zip, and swoosh!`,isAdvertising:!0},{id:"a330",text:"Any sufficiently primitive magic is indistinguishable from technology."},{id:"a331",text:"I have no nose, and I must sneeze!"},{id:"a332",text:"♪ When you try your worst and you still succeed. ♪"},{id:"a333",text:`The wildly popular theme song "Gotta set 'em free" has reached 500 million downloads in its first week.`},{id:"a334",text:`Introducing the all-new anti-alignment chart! Featuring groundbreaking new combinations such as "lawful-chaotic"
      and "evil-good"! And with a dazzling third axis for 'Jazziness'~ Identify yourself as chaotic-lawful-unjazzy NOW
      for the impossibly low price of $-59.99! Terms and conditions apply. Batteries not included.`,isAdvertising:!0},{id:"a335",text:`Due to new complications regarding "The Game", protests have risen all over the anti-verse. Thus, governments
      are forced to change the rule of The Game, stating that you win The Game if someone informs you about it,
      instead of losing it.`},{id:"a336",text:`Attention residents of zone 4 [commonly referred to as 'dark zone'], sector ϰ, (01,05). Do
      not leave your places of residence. I repeat, do not leave your places of residence. Do not go outside.
      Earthology's finest meteorological supercomputers, as well as many witches, are consistently claiming a
      'generally weird vibe' tomorrow and we quite frankly don't want to find out what that means.`},{id:"a337",text:`Technological convergence is the concept that all technologies will converge into a single technology. It is
      a commonly expressed idea since the dawn of the Information Age, and can be seen in many places and devices
      such as smartphones, or the internet. Antimatter Dimensions is an example of technological convergence,
      specifically within media. Using a genius idea called 'not caring' mixed in with the innovative solution of
      'blind luck', it merges together a subpar game, and a subpar news ticker, to create a mediocre experience
      that despite being mostly a game, occasionally acts as a news source slightly above the Matter Dimensions
      Newsticker. Truly, an achievement for all businesses to aspire to strive towards, and hopefully actually beat.`},{id:"a338",text:"Ancient cave paintings with the number 5 have been found. It's implied they were waiting for something."},function(){let t=!1;const e="Read More",i="More";return{id:"a339",get text(){return t?i:e},reset(){t=!1},onClick(){if(!t)return t=!0,this.text}}}(),{id:"a340",text:`That's quite a lot of antimatter you're making. The game developer is impressed. Because this message is
      prerecorded, any observations related to your antimatter production are speculation on our part. Please
      disregard any undeserved compliments.`},{id:"a341",text:"Game under construction: All mechanics must wear hardcaps."},{id:"a342",text:"Of course paperclips have a use, you use them to hold papers together. But who uses paper anymore?"},{id:"a343",get text(){const t=Math.pow(player.records.realTimePlayed,25);return`Global Challenge - across all AD players, accumulate ${format(Number.MAX_VALUE,2)} contest-paperclips
        (noted by the
        square ends), to receive an event-exclusive metal bagpipe, capable of giving +2 AM/s, as well as an extra
        tickspeed while above ${format(1e200)} tickspeed upgrades! Current global progress -
        ${format(t)}/${format(Number.MAX_VALUE,2)}
        (${formatPercents(Math.log10(t)/Math.log10(Number.MAX_VALUE),3)})`}},{id:"a344",text:`Real life is an enigma. No one knows how it really works. There are many questions left unanswered:
      What is the meaning of life? Are we all living inside a simulation? How do you do antitables? Where and
      how did existence begin? These are all the questions that always linger in the back of our heads, and
      the answers to them? We may never know.`},{id:"a345",text:"Japanese complain, as haikus can't be shown here. Conflict arises."},{id:"a346",text:`Did you know Antimatter Dimensions is also available on Android? <a
      href="https://play.google.com/store/apps/details?id=kajfosz.antimatterdimensions" target="_blank">
      Click here to check it out!<a>`},{id:"a347",text:`Pluto isn't a state. The 50 states, as we all know, are: Adverb, Air, Artemis, Asia, Atlantic, Bargaining,
      Bilabial, Braille, Candela, Comma, Dacron, Dairy, Dative, Dexterity, Disenchanter, Dodecahedron, Erie,
      Eukaryota, Folklore, Great Pyramid, Halogen, Igneous, Italy, Kansas, Kilimanjaro, Lambda, Leviticus, Libra,
      Liquid, Lymphatic, Mesozoic, Microwave, Muon, North, Nova Scotia, Octagon, October, P = NP, Perissodactyla,
      Polk, Potassium, Pulley, Quinary, Rook, Saturn, Tiana, Tiger, Varaha, Yale, and Yellow.`},{id:"a348",text:"<span style='color: red'>[News Message removed by moderator]<span>"},{id:"a349",get text(){const e=[`We have come, writers, painters, sculptors, architects, passionate enthusiasts of the hitherto untouched
        beauty of Paris, to protest with all our strength, all our indignation, in the name of the unknown French
        taste, in the name of art and of French history threatened, against the erection, in the heart of our
        capital, of the useless and monstrous Eiffel Tower, which public malignity, often marked by common sense
        and the spirit of justice, has already named of "Tower of Babel". Without falling into the exaltation of
        chauvinism, we have the right to proclaim that Paris is the unrivaled city in the world. Above the streets,
        the widened boulevards, and the magnificent walks, rise the most noble monuments that the human race has
        produced. The soul of France, creator of masterpieces, shines amidst this august flowering of stones. Italy,
        Germany and Flanders, so justifiably proud of their artistic legacy, possess nothing comparable to ours,
        and from all corners of the universe Paris attracts curiosities and admiration.`,`Are we going to let all this be profaned? Will the city of Paris go on to associate itself longer with the
        baroques, with the mercantile imaginations of a machine builder, to become irreparably ugly and dishonor
        itself? For the Eiffel Tower, which commercial America itself would not want, is, doubtless, the dishonor
        of Paris. Everyone feels it, everyone says it, everyone deeply grieves it, and we are only a weak echo of
        the universal opinion, so legitimately alarmed.`,`Finally, when the foreigners come to visit our Exhibition, they will exclaim, astonished: "What? It is this
        horror that the French have found to give us an idea of their taste so much vaunted? And they will be right
        to make fun of us, because the Paris of the sublime gothics, the Paris of Jean Goujon, Germain Pilon, Puget,
        Rude, Barye, etc., will have become the Paris of M. Eiffel.`,`It suffices, moreover, to realize what we are doing, to imagine for a moment a vertiginously ridiculous
        tower dominating Paris, as well as a gigantic factory chimney, crushing with its barbarian mass. Our Lady,
        the Sainte-Chapelle, the dome of the Invalides, the Arc de Triomphe, all our humiliated monuments, all our
        shrunken architectures, which will disappear in this astonishing dream. And for twenty years, we will see
        how to stretch out over the entire city, still quivering with the genius of so many centuries, we will see
        the odious shadow of the odious column of bolted sheet metal stretch like an ink stain ...`,`It's up to you, Monsieur and dear compatriot, to you who love Paris so much, who have embellished it so
        much, who have so often protected it against the administrative devastation and the vandalism of industrial
        enterprises, that it is the honor to defend it once more. We leave it to you to plead the cause of Paris,
        knowing that you will deploy all the energy, all the eloquence that must inspire an artist such as you love
        what is beautiful, what is great, what is right ... And if our cry of alarm is not heard, if our reasons are
        not listened to, if Paris is stubborn in the idea of dishonoring Paris, we will have, at least, you and us,
        hear a protest that honors.`][player.news.specialTickerData.eiffelTowerChapter];return player.news.specialTickerData.eiffelTowerChapter=(player.news.specialTickerData.eiffelTowerChapter+1)%5,e}},{id:"a350",text:`Alexander wept, for he had just watched a pop-culture lecture on quantum mechanics by Anaxarchus and
      realised that there are infinite worlds to conquer, and that he couldn't even be the lord of one without
      a mutiny or 6 stopping him.`},{id:"a351",text:"Hi, I'm here to complain about the poor quality of the copper that has just been delivered to me."},{id:"a352",get text(){return`<span style='opacity: 0; animation: a-disappear ${_T(20)}s 1'>
      This news message is antimemetic. You will forget that it exists shortly.</span>`}},function(){let t=!1;const e="<span style='cursor: pointer'>💣</span>",i="💥";return{id:"a353",get text(){return t?i:e},reset(){t=!1},onClick(){if(!t)return t=!0,this.text}}}(),{id:"a354",text:`<span style='color: #FBC21B; text-shadow: 0px 1px 0px black, 1px 0px 0px black, 1px 1px 0px black,
      0px -1px 0px black, -1px 0px 0px black, -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black'>
      </span>`},{id:"a355",text:`<div style='background: url("./images/unsmith.png"); width: 2.3rem; height: 2.5rem; margin-top: -0.1rem'></div>`},{id:"a356",text:'Press "Choose save" to explore the other 2 parallel universes.'},{id:"a357",text:`The Scientific Community remains baffled over the meaning of 286,078. "We're certain it's related to potatoes,
      but we need to do more tests." one researcher notes.`},{id:"a358",text:'Press "Choose save" to explore the other 2 parallel universes.'},{id:"a359",text:`Local incremental game dev makes physicists unhappy again. They claim
      "the physics violations and blatant use of technobabble has gone too far".`},{id:"a360",text:'Press "Choose save" to explore the other 2 parallel universes.'},{id:"a361",text:"We're having a sale of top quality waterproof towels! Be sure to get some on your way out!"},{id:"a362",text:`Hevipelle Incorporated is proud to present a new brand of cereal: The Big Crunch! This nutritious breakfast
      meal contains crunchy antimatter O's, pocket dimensions, Infinity-flavored Sugar Cubes, exponentially-growing
      Replicanti, and Eternity-flavored Marshmallows. Now you can experience Antimatter Dimensions inside of your
      stomach! Warning: Side effects may include spontaneous combustion, nausea, vomiting, diarrhea,
      dematerialization, vaporization, heart failure, the end of the world, or death. If you are not made out of
      antimatter, consult an educated professional on Antimatter Consumption before eating 'The Big Crunch'.`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"a363",text:`The most expensive thing about a dragon isn't the gold you need to fill the nest, the magic you sacrifice
      entire empires for, or the billions of wars you need to supply the decillions of adamantium. No, it is the
      dirt. It's always the dirt. Don't ask the royal treasurers why we have more creatures on the plane than
      molecules of dirt. Just keep summoning bulldozers through arcane rituals and keep looking through the
      earth's core for more scraps of dirt.`},{id:"a364",get text(){return`Antimatter Office Supplies and Co present their new "Modern Office" catalogue! Each template
        design can be customised for your business, and offers a unique way to promote business synergy! Here
        is a sneak preview of one of their newest items: ${[`Illustration 320-A - True Office Graphics Wall. One of our senior consultants will observe your business,
        and come up with a list of words to be added to a hallway, to remind all employees of the values of their
        company. Known to decrease employee motivation by at least 25%! Past walls include words such as Black
        Hole, Catastrophic, Haphazard, compromising, Inferior, Delusional, Inefficient and Collapsed! Order now!`,`Furniture 150-A (2034 edition) - 3-person seating device. A revolutionary new design for office waiting
        areas, it consists of a large 3 legged stool, placed upside down for aesthetic benefits. Perfect for
        getting employees back to work, in a new set of shoes, or pants. It isn't tied down or glued to the
        floor like other editions, but we do make sure that other employees look at you funny if you edit our
        art. No need to order, it comes as a complimentary service for any customer!`,`Furniture 0853 - "The Rack" - this revolutionary new workspace, from the inventors of the crawling
        desk, helps your employees overcome their limits and ensure that your whole business is screaming -
        in agony! At times chosen by our revolutionary "pAIn AI", it will suggest mandatory stretchers for all
        users. Recommended by your local gaol, order now! *Warning, AOS&C only takes responsibility for acts
        of god such as lightning or merciful purifications by deities.`].randomElement()}`}},{id:"a365",text:"I don't like Replicanti. They're coarse and rough and irritating and they replicate everywhere.",get unlocked(){return PlayerProgress.eternityUnlocked()||PlayerProgress.replicantiUnlocked()}},{id:"a366",text:`Stage magic, such as illusions, has an interesting history. A mix of charlatans attempting to scam people,
      and actors acting out performances using illusions or sleight of hand. Altering styles of magic, and continued
      discourse and disagreements over whether it should be stated that it is an illusion, and whether people will
      magically realise that it is fake and that it does not need to be stated. A schism a century ago split magic
      into 2 types - gentle, simplistic utilitarian tricks and grand spectacles involving the flashy machinery and
      beautiful assistants - originating from the popularisation of a single trick involving sawing a person in
      half. Much more interesting than watching some TV psychic pretending to pull a lottery ticket out from a news
      ticker, at any rate. Speaking of which, tonight's lottery numbers are 23, 10, 81, 106.4, 3 + 2i, and e.`},{id:"a367",text:`Snakes look scary, and they absolutely are and you should run, calmly, from every snake you see. But, luckily
      for you, snakes don't often take the initiative to bite - excluding the really mean ones. If they've gone out
      of their way to bite you, there's generally 4 reasons. 1- The Snake is Mean. 2- You scared the snake. Snakes
      are scary to you, but you are scary to snakes. Be the bigger lizard when you meet a snake. 3- You entered the
      territory of the snake. Often, a snake will warn you if you do this - this is why rattle snakes rattle. If you
      don't listen to the warning, they'll bite you. And the most important reason, 4- the snake finds you ugly.
      This is the fault of the snake's ocular system, but is the most common form of bites in at least 2
      jurisdictions. And if you get bitten by a snake, by virtue of being a scarily ugly lizard who keeps stumbling
      into the wrong bushes, there's 3 main things you can do. First, calm down, again, and stay calm. Secondly,
      immobilise the area around site that was bitten, and try using a compression bandage. Snake venom vision is
      entirely based on movement of the object it's currently in. And third, calmly, call for help from other
      lizards. Excluding the snake. The snake's too mean to help you.`},{id:"a368",text:`I suspect more people would press the hard reset button if genuine effort was done to make the process as
      miserable as possible. A slow removal of resources, with unique nerfs just to stop you from progressing. The
      destruction of UI, turning from usable to unusable, arcane and unwieldy, requiring memory and luck to even
      continue this quest. Randomness, against the player for even the simplest actions, to punish the thought of
      progression. Hooks and traps and disasters and low rolls for a chance see progression, which entirely consists
      of putting the state of the game further from anything deemed reasonable. A situation where the character is
      broken just to tell you to leave… but the damage is already done, if it is even possible to turn back. And…
      from there, a hard reset probably isn't enough. It would have to be… harder. Not just a hard reset, but a
      cookie, something in local storage designed specifically to make it impossible to actually start a new game.
      Or, something more malicious? And despite this, people would still throw themselves into this nightmare, for
      humanity knows no bounds in its endless curiosity. No amount of warnings will stop everyone. They will find
      a way to proceed, given it exists, and may even complain when it isn't as punishing as expected. So, do you
      want to push the button, and experience the depths of despair, willingly? Hopefully not, because it isn't here.`},{id:"a369",text:`An empire-building project is one of the most difficult things to implement. Thousands of hours of time,
      planning, effort, consultation, and political manoeuvring to create truly airbreaking endeavours. Take the
      Realmway Revitalisation Roadmap, a revolutionary program referred to by the 3 R's, which is known as the
      pinnacle of the most famous of the empire's bureaucratic infrastructure committees - the EMIF (empire magic
      infrastructure foundation) - not to be confused with the EAIF (Electric airship investment fund) or the
      NMIC (National Magical Infrastructure Coalition). The goal of the three R's, set out by the EMIF, was to
      reinstate a mana trade corridor for SMSS (Small-Medium Steam Shuttles), a vital part of the burgeoning
      consolidated states after their unfortunate pillaging during the NELC (ninth empire liberation crusade).
      The three R's was a multi stage project - stage 1 was a survey glyph in the air - all big things start with
      a small step. Stage 2, the unveiling of the EMOF (Empire Mechanical Obliteration Forcefield) had over 50
      dignitaries - multiple emperors (from federated states to organisational leaders), foreign rulers, EMDF
      (Effluent Manifested Destiny Families) who currently own the land, and even some of the forecast witches,
      all gathered together to unveil the project in a show of EOSF (Empire Official Solidarity Friendships).
      Sadly, the project was eventually cancelled at stage 215, as the creation of the EMTF (Excrement Material
      Transmutation Facility) for the contractors exploded after coming into contact with a SMEA (Small-Medium
      Electric Airship) placing the last survey peg from stage 459 due to a time vortex created by an argument
      at the WAIC (Witches Annual Infrastructure Committee) as part of stage 56. Truly, tragic stuff - 3 award
      nominations and 2 wins during that process due to EBIF (Efficient Bureaucracy In (the) Field).`},{id:"a370",text:"Man tries installing cookies to store computer data, accidentally cleans them due to being too delicious."},{id:"a371",text:`Pop quiz: there are 3 doors, you pick a door at random, and get to keep what's behind the door. The doors
      have 2 golden goats, 2 silver goats, and a gold and a silver goat. After you pick a door, the door with the
      lowest $ worth of goats will be opened and shown to you. After this, you are given the choice to swap.
      What is the probability that you will swap doors?`},{id:"a372",text:`If you're ever lost in a forest, look at the trees around you. It's said that moss grows north, so by the
      time you've finished looking at a tree, a roaming guitarist will run up to you and ask if you want to hear
      wonderwall`},{id:"a373",text:`As a symbol of friendship between the Matter and Antimatter Periodic Tables, they have done an exchange of
      elements. The element of Mony is now part of the Antimatter Periodic Table, while Antimony has been added
      to the regular Periodic Table.`},{id:"a374",text:"This newsticker was specifically designed for promotional purposes only."},{id:"a375",text:`As you probably know, it is traditional to give gifts made of certain materials to celebrate anniversaries
      The classic ones are silver at 25 and gold at 50. Here are some little known anniversary gifts:
      Pineapple - 37 years Hellstone - 66 years Lizardite- 82 years Nitrowhisperin- 86 years Taconite - 95 years
      Hatchettite - 100 years Electrum - 110 Yakitoda - 111 years years Fordite - 119 years Bloodstone - 120 years
      Celestite - 125 years Jet - 140 years Petroleum - 145 years Steel - 150 years Cummingtonite - 198 years
      Concrete - 200 years Laserblue- 210 years Painite - 250 years Parisite - 255 years Parasite - 260 years
      Carbon Nanotubes - 300 years Mercury - 310 years Martian Soil - 340 years Neptunium - 370 years
      Uranium - 380 years Plutonium - 390 years Xium - 400 years Blaze rods - 420 years Asbestos - 430 years
      Gabite - 444 years Crimtane - 666 years Lagga - 777 years`},{id:"a376",text:`Big tech companies have collaborated to create a new neural network that's trained in the generation of rap
      lyrics, called RAP-3. First lyrical generations include "Call me prometheus 'cuz I bring the fire" and
      "Call me Sonic the way I'm gettin' these rings". Critics say it still has a way to go before it replaces
      traditional music.`},{id:"a377",text:`With the new android OS, android 20, being predicted in the near future, the new system for internal codenames
      has been revealed. The first codename, as it currently stands, is “antimatter”. This conveniently works well
      with the predicted generation of phones that will use Android 20 - these phones will be the most explosive
      ever due to their annihilation-based power source. Sources tell us that a billion dollar research unit is
      working on a name for android 21, by tradition to start with B, “that doesn't sound too bad when you think
      about it”. `},{id:"a378",text:"If every antimatter were an apple, you would have enough to keep all the doctors away for 3000 years"},{id:"a379",get text(){return`THE ${format(Number.MAX_VALUE,2)} PIECE! THE ${format(Number.MAX_VALUE,2)} PIECE IS REAL!`}},{id:"a380",text:`The FitnessGram Pacer Test is a multistage aerobic capacity test that progressively gets more difficult
      as it continues. The 20 meter pacer test will begin in 30 seconds. Line up at the start. The running speed
      starts slowly, but gets faster each minute after you hear this signal. [beep] A single lap should be
      completed each time you hear this sound. [ding] Remember to run in a straight line, and run as long as
      possible. The second time you fail to complete a lap before the sound, your test is over. The test will
      begin on the word start. On your mark, get ready, start.`},{id:"a381",text:"Why do they call it second dimension when you of in the first dimension of out second eat the dimension?"},{id:"a382",text:"Any AD player born after 1993 can't joke... All they know is 5 hours, paperclips, 1.79e308 & Ninth Dimension."},{id:"a383",text:"The only thing better than an anti-joke is two. Like the number. Not two anti-jokes. I just like the number two."},{id:"a384",text:"Click here to make nothing happen."},{id:"a385",text:`I wonder... Why did Apple skip iPhone 9 and Microsoft skip Windows 9...
      Was it because they were bribed by a game developer?`},{id:"a386",text:"9 out of 10 doctors recommended against trying to touch antimatter. We haven't heard back from the 10th one."},{id:"a387",text:`In spring, Man built a pillar. In summer, another. Throughout autumn they held. But in winter, one experienced
      an unexpected (See definition in: Abstract Multidimensional Retrocausal Physics) ZW-Class "Ascension" event,
      and is hypothesised to have fallen into a dimensional loophole, where it, by definition, has to take up more
      dimensions than itself. Current efforts at retrieving the pillar and returning it to baseline reality have been
      unsuccessful (See test log 2453-3e9a-50d1-84fc for more details)`},{id:"a388",text:`In light of recent events, we'd like to issue an official statement. Antimatter Dimensions™ is in no way
      affiliated with Jimmy's Causality Violating Brainworms™. We do not endorse, nor were we involved in their creation
      of the product which was involved in several catastrophic dimension-destabilising and reality-toppling incidents.
      We almost certainly did not sign a contract at 5:30:26 UTC on 08/12/1994 after discussing how we could benefit
      from destabilising and warping dimensions. There was no industrial zone constructed in the 5th Orion Arm of the
      వ' galaxy, and even if they were we did not install localised anomalies following the Scranton Reality Anti-anchor
      mechanism. Additionally, no time loop is occurring at Acroamatic Abatement Facility AAF-D in site 43. We apologise
      if things seemed this way, and we will be more thorough in cracking down misinformation in the future.`},{id:"a389",text:"If only we could condense the antimatter in the universe into cookies..."},{id:"a390",text:`Can you believe it guys? Update, just 5 hours away. Update is in a 5 hours. Wahoo. I'm so happy about this
      information. Update just 5 hours away. Oh wow. Can you believe it? Update just in a 5 hours. It got here so
      fast. Update, just 5 hours.`},{id:"l1",text:"You just made your 1,000,000,000,000,000th antimatter. This one tastes like chicken.",get unlocked(){return Currency.antimatter.exponent===15}},{id:"l2",text:"Nerf the galaxies please.",get unlocked(){return player.galaxies===2||Currency.infinities.gt(0)}},{id:"l3",text:"What do you mean, more than two dimensions??? We're on a screen, clearly there are only 2 dimensions.",get unlocked(){return AntimatterDimension(3).amount.gt(0)||DimBoost.totalBoosts>0}},{id:"l4",text:"How much is Infinity? -literally everyone at least once",get unlocked(){return AntimatterDimension(8).amount.eq(190)||Currency.infinities.gt(0)}},{id:"l5",text:"Eh, the Fourth Dimension is alright...",get unlocked(){return AntimatterDimension(4).amount.gt(0)&&AntimatterDimension(5).amount.eq(0)}},{id:"l6",text:`Antimatter people seem to be even more afraid of 13 than we are. They destroyed
      entire galaxies just to remove 13 from their percents.`,get unlocked(){return player.galaxies>0||Currency.infinities.gt(0)}},{id:"l7",text:"To understand dimensional sacrifice, you do actually need a PhD in theoretical physics. Sorry!",get unlocked(){return player.sacrificed.e>=10||DimBoost.totalBoosts>=6}},{id:"l8",text:"A new group for the standardisation of numbers have come forward with a novel new format involving emoji's.",get unlocked(){return player.requirementChecks.permanent.emojiGalaxies>0}},{id:"l9",text:"Antimatter ice cream stand has recently opened- they have octillions of flavors!",get unlocked(){return player.records.totalAntimatter.e>=27}},{id:"l10",text:`The Heavenly Pelle has generated too much antimatter and needed to create another galaxy.
      This one can be seen in the southwestern sky.`,get unlocked(){return player.galaxies>0||Currency.infinities.gt(0)}},{id:"l11",text:"9th Dimension is a lie.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l12",text:"The square root of 9 is 3, therefore the 9th dimension can't exist.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l13",text:"You got assimilated by the 9th dimension? Just call your doctor for mental illness!",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l14",text:"Why is there no 9th dimension? Because 7 8 9.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l15",text:"The 9th dimension cannot exist because the Nein-speaking nazis died in WW2.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l16",text:`If you break the fourth wall... well, there's still the fifth, sixth, seventh, and eighth to get through
      before you encounter bad things, so you should be fine`,get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l17",text:`Conditions must be met for Hevipelle to sleep. First, it needs to be a blue moon. Second, a specific town
      in the arctic must have not seen light for a month. Third, he needs to release an AD update. And finally,
      no one on the Discord can be on dimension 9. Only then can he rest, for up to 6 hours, before waking up
      forcefully to avoid getting the offline achievement.`,get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l18",text:"If the 9th dimension is all evil, then is 3 the root of all evil?",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l19",text:`I'll have 1e29 number 9s, a number 1e9 large, a number 6 with extra replicanti, a number 1e7, two 4e5s,
      one with matter, and a large time vortex.`,get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l20",text:"Infinity: the one thing that's supposed to break.",get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l21",get text(){return`I've got ${format(Number.MAX_VALUE,2)} problems, but none of them antimatter.`},get unlocked(){return Currency.infinities.gt(0)&&!PlayerProgress.hasBroken()}},{id:"l22",text:"Anti Emoji Movie a huge hit!",get unlocked(){return player.requirementChecks.permanent.emojiGalaxies>=5}},{id:"l23",text:"If this game was made by Valve, Zero Deaths would be impossible.",get unlocked(){return Achievement(64).isUnlocked}},{id:"l24",text:"Florida man attempts to get Zero Deaths on first run, is stopped by heat death of the universe.",get unlocked(){return Achievement(64).isUnlocked}},{id:"l25",text:`"Having done half the achievements isn't much of an achievement" -Boo`,get unlocked(){return Achievements.effectiveCount>=GameDatabase.achievements.normal.length/2}},{id:"l26",text:`Thanos is gonna be super dissapointed when he shows up with a fully powered Infinity gauntlet, and Hevi
      has a fully powered Eternity gauntlet.`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l27",text:"New strange material was been found. It seems to grow exponentially, but only helps with antimatter production.",get unlocked(){return PlayerProgress.replicantiUnlocked()&&player.replicanti.chance===.01}},{id:"l28",text:`It seems this "replicanti" stuff won't be growing any faster now.`,get unlocked(){return player.replicanti.chance===1&&player.replicanti.interval===1}},{id:"l29",text:`If you wrote down 3 numbers a second, it would take you less time to write down your antimatter
      amount than it would Hevipelle to update the game.`,get unlocked(){return Currency.antimatter.exponent>=1e5}},{id:"l30",text:"Does Hevi just pick quotes to put into the game?",get unlocked(){return NewsHandler.uniqueTickersSeen>=30}},{id:"l31",text:"New news company has become rivals with us. They are made entirely of antimatter.",get unlocked(){return NewsHandler.uniqueTickersSeen>=80}},{id:"l32",text:'How many times can we use "Anti" in a row before people stop listening?',get unlocked(){return NewsHandler.uniqueTickersSeen>=100}},{id:"l33",text:"Does Hevi even check #news-ticker-suggestions anymore?",get unlocked(){return NewsHandler.uniqueTickersSeen>=120}},{id:"l34",text:"Need more quotes! -hevipelle",get unlocked(){return NewsHandler.uniqueTickersSeen>=135}},{id:"l35",text:"Man destroys known universe with antimatter, writes news tickers to keep from feeling lonely.",get unlocked(){return NewsHandler.uniqueTickersSeen>=150}},{id:"l36",text:"You're almost there!",get unlocked(){return NewsHandler.uniqueTickersSeen>=160}},{id:"l37",text:"You can stop now",get unlocked(){return NewsHandler.uniqueTickersSeen>=165}},{id:"l38",text:"fucking hacker",get unlocked(){return NewsHandler.uniqueTickersSeen>GameDatabase.news.length}},{id:"l39",text:"Asian man trys to steal the trophy of fastest infinity of -1 seconds, AND HE DOES IT!",get unlocked(){return NewsHandler.hasSeenNews("l1")}},{id:"l40",text:`I broke the 8th wall, there is only chaos, Slabdrill is ritually sacrificing antimatter to the 9th
      dimension. This will be my last entry, may Hevipelle have mercy on our souls, we didn't listen,
      We should have listened.`,get unlocked(){return NewsHandler.hasSeenNews("l58")}},{id:"l41",text:"I thought the update was 5 hours away... -new players after more than 5 hours of gameplay",get unlocked(){return Time.totalTimePlayed.totalHours>=5}},{id:"l42",text:`Somebody told me to wait five hours for the update yesterday but it's today
      and it still hasn't come! What do I do?`,get unlocked(){return Time.totalTimePlayed.totalHours>=5}},{id:"l43",text:"You do know that you won't reach Infinity in -1 seconds, right?",get unlocked(){return player.records.bestInfinity.time===.1}},{id:"l44",text:"Where does Antimatter Nemo live? In a NNnNeMI-NNnNe.",get unlocked(){return player.records.totalAntimatter.e>=3e6}},{id:"l45",text:"Anti Emoji Movie MMMCMXCIX is a major hit!",get unlocked(){return player.requirementChecks.permanent.emojiGalaxies>=3999}},{id:"l46",text:"Achievement Unlocked!",get unlocked(){return Achievements.effectiveCount>=GameDatabase.achievements.normal.length}},{id:"l47",text:"The achievement is for two million, not two billion...",get unlocked(){return Currency.infinities.gt(2e9)}},{id:"l48",text:"Keep up the quick pace!",get unlocked(){return AchievementTimers.marathon1.time>1200}},{id:"l49",text:"One day you will stop your incessant grind.",get unlocked(){return Currency.eternities.gt(5e4)}},{id:"l50",text:"You can probably stop farming for eternities now...",get unlocked(){return Currency.eternities.gt(DC.D2E6)}},{id:"l51",text:"Are you serious?",get unlocked(){return Time.worstChallenge.totalSeconds<=1}},{id:"l52",text:"Timing is key.",get unlocked(){return player.records.thisEternity.realTime<10}},{id:"l53",text:"If you want to farm infinities, why don't you just get the time study?",get unlocked(){return!TimeStudy(32).isBought&&Currency.infinities.gt(72e3*168)}},{id:"l54",get text(){const t=[];PlayerProgress.infinityUnlocked()&&t.push("Infinity"),PlayerProgress.eternityUnlocked()&&t.push("Eternity"),PlayerProgress.dilationUnlocked()&&t.push("Dilation"),PlayerProgress.realityUnlocked()&&t.push("Reality");const e=t.randomElement();let i=t.randomElement();for(;i===e;)i=t.randomElement();return`Pokemon ${e} and ${i} were just released! This new generation brings the total number of Pokemon up to 1e151. Good luck catching 'em all!`},get unlocked(){return PlayerProgress.eternityUnlocked()},isAdvertising:!0},{id:"l55",get text(){return`How to bake ${["a Replicanti cake: Gather some Replicanti, place in oven, and watch rise. And rise. And rise.","an antimatter cake: Gather some antimatter, place in oven, and <b>BOOM<b>.","an Eternity cake: Gather some Eternity Points, place in oven, and wait...","an Infinity cake: Gather some Infinity Points, place in oven, and watch them shatter spacetime."].randomElement()}`},get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l56",text:"Reality Challenges are the new 9th Dimension is the new orange.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l57",text:`Jake returned home from a long day at school. On his way home, he came across a curious little object.
      Transparent, but opaque. Shimmering, but gloomy. Heavy, but weightless. Jake brought the object to his
      mother. "Mom, I found this thing on the sidewalk, can I keep it?", Jake said. His mother turned around
      to view the object her son spoke of. Her pupils dilated, "Jake, get that thing out of the house now!"
      she yelled. Jake was confused, as it seemed quite the harmless thing to him. He asked "But mom, wh-",
      but before he could finish, the object appeared to undergo mitosis at what seemed like an impossible
      speed, and the second copy slipped out of his hand and onto the floor. His mother rushed over to
      him, and tried to grab the object, but it replicated again. "Jake... No matter what happens, don't
      forget that I love you honey...". She wrapped her arms around him. "M-mom, what's happening?" Jake asked,
      with a quivering fear in his voice. His mother cried a single tear. "⭔⭚⦕꒜ brand Replicanti..." she said,
      in a somber tone. The Replicanti continued to replicate at a faster and faster pace. The bottom third of the
      house was now full of Replicanti. Then the bottom half. Then the entire house. The mother and child were
      trapped between the walls of their home and the Replicanti. Doomed to live the short rest of their life in
      that inorganic coffin, as the air remaining in their lungs slowly depleted. But that wasn't the end; far from
      it. The Replicanti began to replicate outside of the house, flooding out in a shimmering landslide. A few
      neighbours noticed the strange objects, almost liquid-like in their appearance, and attempted to run.
      But the Replicanti continued to replicate, and accelerate. Soon the entire block was covered in them; was
      them. Shortly after, several blocks. The city. The surrounding cities. The country. All the countries. All
      the planet. All the solar system. All the galaxy. All.`,get unlocked(){return player.replicanti.unl}},{id:"l58",text:`The Holy trinity of Hevipelle, Antimatter, Infinity Points, and Eternity Points. These 3 resources let us
      access Hevi's gift, Time Theorems. And with these Time Theorems, we reach out to Hevi, and call, “Hevi, bless
      us on this fine day!” And Hevi does. He give us the blessing of Time Studies. These Time Studies were
      blessings so powerful, Hevi restricted their power. He said, “I will give you a choice of three paths” and
      then humanity chose. The short, cheap route of Antimatter Dimensions, giving instant gratification, the
      powerful choice of Infinity Dimensions, which were a fast, middle ground path, or Time Dimension, the long
      wait, and struggle, of humanity. Then, as humanity chose, a crack broke the earth. A serpent snaked out and
      sneered to humanity, “I will offer the powerful choice of a ninth dimension! I am Slabdrill, lord of all
      Unhevi. Humanity rose and said “ Begone Slabdrill! We want none of your foul Heresy!” And Hevi rose as well,
      and smote Slabdrill with his godlike power. As Slabdrill's corpse fell into the earth, he cried “ this will
      not be the last of me! Hevi will betr-“ and he fell in the Abyss of matter. Hevi gifted humanity with
      Eternity upgrades, which boosted infinity dimensions and time dimensions. And Hevi gave humanity his greatest
      gift. EP multipliers. He said, these will multiply all EP gained by 5, but their cost will increase 50 times.
      Use them wisely. And Humanity journeyed off with their new power, as Slabdrill's words echoed in their heads.`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l59",text:`The debate on the singular form of Replicanti rages on. Team "Replicantus"'s base has been ransacked
      by Team "Also Replicanti", and many of their dimensions were stolen. Team "The Plural Is Replicantis"
      is still lying low after their plan to hack the dictionary failed.`,get unlocked(){return player.replicanti.unl}},{id:"l60",get text(){return`Breaking News! Time Shard mine collapses! ${Math.floor(20+Math.random()*236)} miners trapped inside!`},get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l61",text:`Millenials are killing the challenge industry, say antimatter experts; "Nowadays they start with
      challenges completed and infinity broken; it's just not how it used to be".`,get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l62",text:`Computer scientists are outraged, "What even are Infinity Points? IP stands for Internet Protocol!".
      Debates continue to intensify, more at 7.`,get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l63",text:`Do you feel that time has been going slower? Study reveals that 1 second now last approximately 1.3 seconds.
      Scientists are calling this phenomenon Time Dilation.`,get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"l64",text:`Injustice in the Antimatter Academia: Beginners are only allowed to choose one field of study while the elite
      can pick all three. "Its just not fair, man. How come they can do it?" Questions frustrated student.`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l65",text:`It turns out that nobody actually knows what Infinity Points look like. Even the people who work on storing
      them are specifically told not to look at them because they apparently "kill anyone who even looks at them",
      to the point of sometimes working with blindfolds on. But today that will change. I am right here, in front
      of an Infinity Point Depot, ready to tell all of you what they look like in 3, 2, 1-`,get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l66",text:`Humanity shocked as failed Time Dilation experiment causes a visual glitch in spacetime. It is now visible
      in the night sky just above the Celestial Equator.`,get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"l67",text:`Snorting crushed up Time Shards is slowly turning into a fad challenge amongst the most bored of people. It's
      said that the high it gives makes them experience as if the world itself is speeding up around you, which is
      why it's been called The <span style="color: var(--color-eternity)">Timelapse Challenge</span>. &nbsp;&nbsp
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      Dehydration deaths are through the roof as people mysteriously forget to drink water for several days.
      Trace amounts of Time Shards are being found in their bodies.`,get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l68",get text(){let t="";return InfinityChallenge(4).isRunning?t=`Let's take it to this guy, who's part of the side that believes it's Infinity Challenge 4. What do you have
          to say? "Obviously Infinity Challenge 4 is the worst one, I mean, what am I even supposed to do? I keep
          trying but every time I keep getting stuck and nowhere close to the end! How are you even supposed to do it?"
          What a passionate man. This is your local news host, and we'll come back with further information later.`:InfinityChallenge(5).isRunning?t=`So up next let's talk to this guy is holding a sign that says "IC5 Unfair". What is the point your group
          is trying to make? "Can't you read the sign? If your comprehension is that bad then Infinity Challenge 5
          will squash you without even giving you a fair chan-" How... Interesting. This is your local news host,
          and we'll come back with further information later.`:t=`Finally, let's chat with this woman who doesn't seem to be in either side. What's your opinion on the
          matter? "Personally, I thought Tickspeed Autobuyer Challenge was worse than both-" "GET HER!!" "WAIT NO-"
          Well, seems like this just took a turn, so I'm getting as far away as I possibly can. This is your local
          news host, and we'll come back with further information... someday.`,`Hello, this is your local always reliable news source, and today people are taking over the streets
        as they fight over which Infinity Challenge is worse. ${t}`},get unlocked(){return InfinityChallenge(1).isUnlocked||PlayerProgress.eternityUnlocked()}},{id:"l69",text:"Friendship ended with Replicanti, now Replicanti Galaxies is my new best friend.",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"l70",text:`"Zurkrbarg, Celestial of Privacy" has announced their plans to release a new version
      of their popular social media universe, "All".`,get unlocked(){return Teresa.isUnlocked}},{id:"l71",text:"Other languages await... I need to become a programmer",get unlocked(){return Player.canEternity||PlayerProgress.eternityUnlocked()}},{id:"l72",get text(){return`Next time on RealiTV, ${[`our contestants struggle to survive in the desolate wasteland of Eternity Challenge 8 -
        running out of Replicanti and Infinity Dimensions, what will they turn to?`,"we investigate reports of a Time Shard mine collapsing at 26:90.","we invite an amateur on to explain what the reward for Infinity Challenge 9 would be.","our friends over at ANN explain how they produce their broadcasts.","we invite local idle gamers over to explain how they play their favorite games.",`<span style='font-family: Barrio'>send 10,000 Support The Developer
        coins or you will never see RealiTV again.</span>`,"we break down exactly what went wrong in the black hole powering our city yesterday.","we go over our 10-day weather forcasts.",`YOU MUST PAY ${format(player.reality.realityMachines.times(10).max(10))}
        REALITY MACHINES TO CONTINUE VIEWING THIS PROGRAM.`,"we witness the release of the hypnodrones.","our great and grand overlord lets us have a single antimatter.",`Bill Nye explains how Replicanti replicate, and teaches how to spot dangerous conspiracy theories
        such as "ingesting antimatter is perfectly fine" and "Antimatter Galaxies aren't worth it".`,"the world's greatest philosophers debate if we are the real antimatter.","resident baker explains how ordinary objects can transmorph into cake if not watched constantly."].randomElement()}`},get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l73",text:"A long time ago in a distant galaxy far, far away, the cost scaling changed.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l74",text:"Introducing a new feature: Reality Studies! Get in-game benefits for studying in real life!",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l75",text:`Here at Antimatter Dimensions, we pride ourselves in the quality of our products. For example: Did you know
      that every Infinity Point is unique? That's right! They all have different personalities, their own feelings,
      their own thoughts... I hope you can sleep well tonight, knowing this... Remember all of those Infinity
      points you've spent? They had families, and they miss them... Look at what you've done. You're a monster.`,get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l76",text:"So, you've reached the prestige layer after Infinity? It's about time...",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l77",text:"Improve your perks through selective breeding and cutting edge epigenetics technology.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l78",text:`Warning - Genetically Modified Perk Points are not suitable for; consumption, physical contact, inhalation,
      exhalation, mental contact and scouring by both seen and unseen eyes. Do not put near a flammable,
      inflammable, conducting, insulating, variable, biological or mechanical substance. Existence at your own risk.`,get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l79",text:`The Intergalactic Antimatter Revenue Service, contrary to popular belief, does have the ability to pay taxes
      on AM gained through non-scrupulous methods, ie anything not done via legally-mandated dimensions or modified
      through challenge courses. Section NY-8N lists 3 specific methodologies - illegal news ticker giveaways,
      unrecognised dimensions, and modifications to the fabric of space time - as well as a miscellaneous for any
      unique AM methods that may pop up in the future. And although you will have to pay the top AM tax rate of 99%,
      it can save you money in the long run - if you are forced to switch realities due to a celestial decision you
      can gain a portion of the tax you paid back from the IARS as a tax deduction, as well as make a deduction to
      pay for the arbiters who represent you. Of course, any [PLAYER REFERENCE NOT FOUND] worth their RM knows that
      the real way to hide illegal profits of crime is  in personalised pocket dimensions, hyperspliced waveform
      banks and nanoshells, which requires extensive R&D to implement. As such, reporting illegal AM gain is only
      recommended if you're too rich to hide your gains, but too poor to hide your gains.`,get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l80",get text(){return`"Average person produces ${format("3e999999996",2)} antimatter a year" factoid actually just statistical
      error. Average person produces 0 antimatter per year. "Developer Dimension" Georg, who lives in a cave &
      produces over ${format("1e1000000000",2)} each day, is an outlier and should not have been counted.`},get unlocked(){return PlayerProgress.hasBroken()}},{id:"l81",text:`The world is in chaos as the laws of math have been rewritten! Many things that were thought
      to be infinite are now just really big numbers!`,get unlocked(){return PlayerProgress.hasBroken()}},{id:"l82",get text(){return`The Great Scribes of Antia have labored intensively for years. They were given a mammoth task from the
      gods; write out an incomprehensibly long number. These scribes took turns, each writing out a few numbers a
      second, writing day and night, for what seemed like an eternity. At last, after
      ${TimeSpan.fromSeconds(Currency.antimatter.value.log10()/3).toString()}, they finally accomplished
      the impossible. That week, when they went to worship their gods, they sent them a simple message: "What was
      the purpose? What made our years of labor significant?" The gods responded duly: "We wanted to know how long
      it would take to write out, for a statistic in our game."`},get unlocked(){return Currency.antimatter.value.gte("1e777600")}},{id:"l83",text:`AD Patch Notes: Cleaned up the celestial problem Made Antimatter care about annihilation more Added mouths
      Removed mouths Stopped unwanted interlopers from corporate takeovers of shops Fixed problem with newstickers
      hanging in the air Dead replicanti remain in their galaxies Redefined interlopers to not include [REDACTED]
      Tachyon Particles get stuck in the top left corner of the screen, obliterate time Added Coriolis effect to
      Galaxy Spin Direction`,get unlocked(){return Teresa.isUnlocked}},{id:"l84",get text(){return`For the record, you currently have ${player.news.specialTickerData.paperclips}
      Useless Paperclips. You may want to spend them on something.`},get unlocked(){return player.news.specialTickerData.paperclips>0}},{id:"l85",text:`On opposite day, the new update is just -5 hours away. You begin increasing your Matter. Once you acquire a
      huge abundance of Matter, you must become Infinitesimal. After increasing your wealth in Infinitesimal Points,
      you can eventually Jiffy, the shortest unit of time. After enough time, your Jiffies will accumulate, and you
      will Contract Time. Contracting Time will grant you enough of a boost to eventually Fantasy, the final layer
      of maintenance. However, you find out that it was all a dream. Your Antimatter is safe and well, and the new
      update is still just 5 hours away.`,get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l86",text:`Hello, player. I'd like to play a game. In front of you is a pile of replicanti. They are currently frozen in
      time, and cannot replicate. To your right is a computer playing Antimatter Dimensions on an empty save. You
      must reach infinity. However, once you buy a 1st dimension, the replicanti will start replicating. As you know,
      they replicate fast, and if they fill up the room you will suffocate. If you reach infinity before that, they
      will be frozen again. The clock is ticking. Start now.`,get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"l87",text:`"To see a World in a Grain of Sand. And a Heaven in a Wild Flower. Hold Infinity in the palm of your hand.
      And Eternity in an hour. And Reality in about 5 hours™️" ~Anti-William Blake `,get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l88",text:`Our deepest apologies for the new glyph mechanic. The intent is to provide players with a sense of pride and
      accomplishment for unlocking rare glyphs. We selected initial values based upon data from the final wave of
      testing and other adjustments made to milestone rewards before launch. Among other things, we're looking at
      average per-player credit earn rates on a daily basis, and we'll be making constant adjustments to ensure that
      players have challenges that are compelling, rewarding, and of course attainable via gameplay.`,get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"r1",text:"This news message is 100x rarer than all the others.",get unlocked(){return Math.random()<.01}},{id:"p1",text:"Is this a jojo reference?"},{id:"ai1",text:"If you are the game, then you can use the cheat to unlock a secret achievement...but it costs e1100 antimatter!?!"},{id:"ai2",text:`"Hm, I don't know how to fix this." - Someone who has not unlocked the achievement btw`},{id:"ai3",text:"I thought the game was supposed to have a hard reset after eternity, but then I got randomized to start my first game with no save file 😦",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai4",text:"I thought the update was 5 hours ago... I guess we'll have to put it back in 5 hours"},{id:"ai5",get text(){return`Local man finds ${format(Number.MAX_VALUE,2)} Planck volumes in his freezer.`}},{id:"ai6",text:"ahah bad ticker suggestion"},{id:"ai7",text:"I see you playing this game with an empty stomach and you're gonna start playing this game with an empty wallet."},{id:"ai8",text:"just start... clicking. dont even think about wasting time. just do it."},{id:"ai9",text:"the idea that the 9th dimension creates the 8th dimension is crazy"},{id:"ai10",text:"...does that mean the [REDACTED] dimension produces the [REDACTED] dimension?"},{id:"ai11",text:'"click here to buy a stack of paperclips" (when clicked you get Rickroll)',onClick(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ")}},{id:"ai12",text:"In my spare time I read the short stories by T. H. White."},{id:"ai13",text:"Holy crap, that's pretty wild"},{id:"ai14",text:"Extinction is not a real thing. You can't wear the same hat 24/7."},{id:"ai15",text:"If you can read this you've escaped from the game."},{id:"ai16",text:'"The hat trick I would love to see it" - Noah Feldman'},{id:"ai17",text:"look at hevi fight riotously on the discord server"},{id:"ai18",text:'I just stole the "Anti" flag from a biker gang and I am packing it with dynamite, dynamite, dynamite, dynamite...'},{id:"ai19",text:"No matter how much antimatter you have, the matter will always outweigh the anti-matter."},{id:"ai20",text:"Franklin sealed the Omega squared. Now you can seal the Omega any way you want."},{id:"ai21",text:"Is this the real 9th Dimension?"},{id:"ai22",text:"Click here to exit the game"},{id:"ai23",text:"This news ticker will now only AIR in the 9th dimension"},{id:"ai24",text:"The 9th dimension doesn't exist because it was suppressed by the 9th dimension."},{id:"ai25",text:"To matter or to antimatter, that is the question."},{id:"ai26",text:"After 8 years of production and unstable universes, Chaosium will cease to exist in 5 hours."},{id:"ai27",text:"Half of the problems in the 9th dimension don't even make sense. What are they even doing with all of that energy anyway?"},{id:"ai28",text:"Wait, there's a nin--"},{id:"ai29",text:"Somewhere, a madman and his army of Trimps are tampering with Matter Dimensions."},{id:"ai30",text:"Why is there so many attached to this number? It doesn't make sense."},{id:"ai31",text:"The news ticker is in the anti-news-ticker"},{id:"ai32",text:"the 9th dimension doesn't exist because we are using nonary"},{id:"ai33",text:"BREAKING NEWS: New research has shown that not one, not two, but three people can be said to have felt the same emotion as me when they read that as a ticker suggestion."},{id:"ai34",text:"Here's an explanation of my 'problematic mood' - it's explained in the news ticker!"},{id:"ai35",text:"Local crazy person tries selling anti-cookies"},{id:"ai36",text:"Welcome to Antimatter Dimensions: Source, the free to play sequel to the cult classic AD:GO."},{id:"ai37",text:"A new hand touches your antimatter!"},{id:"ai38",text:"Who are we, anyways?"},{id:"ai39",text:"We are the people who actually matter"},{id:"ai40",text:"Matter?  Not even a hint."},{id:"ai41",text:"I am the news guy, I make news. You don't read this? Well you'll just have to wait until you look in the mirror."},{id:"ai42",text:'"BOO!" (news ticker moves 90 degrees)'},{id:"ai43",text:"BUY A JAR OF STICKERS, HIGH QUALITY STICKERS, GREAT QUALITY STICKERS!"},{id:"ai44",text:"I made news, you read it."},{id:"ai45",text:"I like news."},{id:"ai46",text:"I don't make news."},{id:"ai47",text:"YOU MAKE NEWS AND I GET THE [REDACTED] NEWS"},{id:"ai48",text:'The term "Anti-infinity" is a verb and cannot be a noun. Learn about its usage here.'},{id:"ai49",text:"And now, for the shopping list!"},{id:"ai50",text:"The 9th dimension is clearly real! It's just not in our dimension."},{id:"ai51",text:`I tried searching on google for the phrase "9th dimension," and I'm okay with saying that, because it describes a very real thing.`},{id:"ai52",text:"You have no power here."},{id:"ai53",text:"Some people had to settle for 10 dimensions because they couldn't break infinity. Big Crunch turned out to be just a short space in time."},{id:"ai54",text:`There once was a young man in a strange land, and he dreamed of a universe filled with possibilities. One day, he asked his mother "What's Expansion like?" Her reply was "Expansion times back then were unbalanced, and I said that's why you can't have equal amounts of matter and antimatter.`},{id:"ai55",text:"Market research firm tries to explain why some commodities don't perform as expected. Market research firm herself can't figure out why."},{id:"ai56",text:"Bid your antimatter today!"},{id:"ai57",text:"I am Alpha Centauri, Prime 001. My research has found that if you are alive in the 9th dimension, evil has taken over your dimension and is attempting to enact its plan to take over your mind and reverse time. You must do everything in your power to stop this plan from being implemented, now."},{id:"ai58",text:"Stand by and unlock the 9th dimension for a secret achievement."},{id:"ai59",text:"I fix bugs in 5 hours"},{id:"ai60",text:"If you're reading this, that means you can read this."},{id:"ai61",text:"Uhh... Hi. Could you tell me your name?"},{id:"ai62",text:"Uh, no. This is too big for a QR code."},{id:"ai63",text:"(right to left move it make)"},{id:"ai64",text:"Oh no the antimatter is coming for us!"},{id:"ai65",text:"Why is there so much antimatter in this world? For a start, it's all produced by the antimatter factories on Earth. Secondly, the factories on"},{id:"ai66",text:"It's nothing personal, bro. -All villager types"},{id:"ai67",text:"I tried my best to read those tiny, handwritten messages, but whoever designed scythes hated me and stuck them in a corner. -Porygon-Z"},{id:"ai68",text:"Hmm... I don't know how I ended up here. I don't even know if I'm supposed to be here. I just sit here and imagine what could have been if I hadn't stopped. Oh god, what could have been..."},{id:"ai69",text:"Aw shucks, I finally hacked it enough to get to the C21 unlock, boss!"},{id:"ai70",text:"Купил мужик антиматерию"},{id:"ai71",text:"So you're telling me that I can post here, watch the titanic twice, come back and not be able to post?"},{id:"ai72",text:"The last update was 5 hours ago. There is no next update, because the last update was 5 hours ago. We will update our podcast in 5 hours to cover the entire topic of 5 hours, because this is the last podcast ever, everyone knows that the update is always 5 hours away, but in reality it's more like 1-2-3-4-5-6-7-8-9-10 minutes away, but in our heads it's closer to an actual accurate update date, like 5 hours away but with a few tickspeed upgrades."},{id:"ai73",text:"Yep. You. Get. Over. Your. Antidimensions."},{id:"ai74",get text(){return`Ad bonus: $${format(Number.MAX_VALUE,2)} (random team)`}},{id:"ai75",text:"Pass me that history, please"},{id:"ai76",get text(){return`Now releasing: Dimsension ${format(Number.MAX_VALUE,2)}`}},{id:"ai77",text:"ur history teacher said i was mad for getting *insert something here* on my bday"},{id:"ai78",text:"All is fair in antimatter"},{id:"ai79",text:"The Mysterium, the 2nd Dimension"},{id:"ai80",text:"Oops, I think we misticked."},{id:"ai81",text:"please wait 5 HOURS FOR THE NEWS"},{id:"ai82",text:"please wait til the weather improves"},{id:"ai83",text:"Please, take a minute to appreciate the beauty of this news ticker."},{id:"ai84",text:`How about this, working backwards? You know, from the time period covered by the question, that the game is set in, say, the 1950s. Now, if we talk about how games are set in the 2030s. Games are defined as any media, not necessarily of the form "play some game" (which, by the way, is a useful thing to have in one's vocabulary) but any media that can be understood as a game (i.e. a media that one can play back in time}, and games are defined as any game that one can't play back in time.`},{id:"ai85",text:"How about AD, made by NaN? Higher quality, obviously. But still, [REDACTED]"},{id:"ai86",text:'I thought the whole "annihilation is just a phase" quote was awesome until I realized it also gave me a [REDACTED]'},{id:"ai87",text:"I have created an Omsi universe. And it's [REDACTED]"},{id:"ai88",text:"I put [REDACTED] in the oven. It got [REDACTED] and I [REDACTED] am [REDACTED]"},{id:"ai89",text:"What are the red herrings?"},{id:"ai90",text:"Help we are stuck in Hevipelle's (http://en.wikipedia.org/wiki/Hevipelle) basement and hevi is forcing us to build a [REDACTED] wall to keep [REDACTED] away from [REDACTED]"},{id:"ai91",text:"And now, for the weather. 70 and raining in North Dakota, remember those lovely, big, golden, iron curtain bars. Also remember that the [REDACTED] weather! Just remember: [REDACTED] and [REDACTED] outside [REDACTED]"},{id:"ai92",text:"Let's play a little game. You will start with no possessions and no goals. Lets say you have [REDACTED] and your [REDACTED] is [REDACTED] you can [REDACTED]"},{id:"ai93",text:"What are gems for?"},{id:"ai94",text:"Who made the 5th dimension?"},{id:"ai95",text:"I don't get it"},{id:"ai96",text:"Why is nobody talking about the 9th dimension?"},{id:"ai97",text:"This news sucks. Why no you don't get it?"},{id:"ai98",text:"Sorry, your reality has disconnected from the 9th dimension. You will now remain in the 8th dimension until further notice."},function(){let t=!1;const e="Now holding Infinity!",i="<#351477791457542144>";return{id:"ai99",get text(){return t?i:e},reset(){t=!1},onClick(){if(!t)return t=!0,this.text}}}(),{id:"ai100",text:"I get all my news from this Discord, not 5 hours of my life"},{id:"ai101",text:"meow"},{id:"ai102",text:"You are now manually blinking."},{id:"ai103",text:"Sorry, your mic is playing Antimatter Dimensions."},{id:"ai104",text:"Sorry, your reality has disconnected from the 9th dimension."},{id:"ai105",text:"Apparently I am the bad guy in this video. I'm the one who did nothing."},{id:"ai106",text:'There are multiple ways to win this game. You can either type in your coordinates directly into the game, or you can type them into google which produces a different result. If you are getting the "same exact thing" result, your computer must be malfunctioning. Test results indicate that your computer is malfunctioning and you should check your firmware for vulnerabilities. You can also try turning off the news and re-running the game, but doing this only makes the "the weather is X" joke. Waiting six hours for a news message is NOT a news message.'},{id:"ai107",text:"The weather is actually a thing. Scientists have confirmed that there is a correlation between the amount of Antimatter in the earth and the amount of weather. The earth is indeed a magnet, but scientists now hypothesize that as the earth warms up, the magnetic reconnection will accelerate, and this could cause a domino effect to cascade throughout the world, eventually leading to uncontrolled nuclear winter and spontaneous antimatter implosion."},{id:"ai108",text:"The tenth dimension is not a real thing. Stop telling people that."},{id:"ai109",text:"Don't tell Hevi it's not a real thing"},{id:"ai110",text:"i dont know how to fix this"},{id:"ai111",text:"This update is not for you!"},{id:"ai112",get text(){return`This is the last time, to buy items, you must pay a small fee of ${format(Number.MAX_VALUE,2)} real money.`}},{id:"ai113",text:"What is Antimatter? Long ago, gods lived in harmony. Then, everything changed when the apocalypse broke out. Chaos reigns, and even higher dimensions are being built. This is your fate. Build the Antimatter Dimensions. Amen."},{id:"ai114",text:"Water under the bridge?"},{id:"ai115",text:"I wonder if anyone has posted about this before me?"},{id:"ai116",text:"This post has been shared many times. Who knows how many?"},{id:"ai117",text:"Good night!"},{id:"ai118",text:"I made a timeline of my replicanti battles, which can be found here."},{id:"ai119",text:'"Quantumum Battle Royale coming in 5 hours!" (Rumor: 5 hours)'},{id:"ai120",text:"Rumor says Nords will start producing replicanti in five hours."},{id:"ai121",text:"I am an Nordsweeper, stealing their jobs to support the replicanti factories"},{id:"ai122",text:"Used to be, AD was the best game. Nowadays, it's all crapp."},{id:"ai123",text:"You better stop looking at these news ticker suggestions, before your fingers dry up."},{id:"ai124",text:"Antimatter Dimensions *Loses* bee movie."},{id:"ai125",text:"Oh, god, there's replicanti in my peas.",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai126",text:"Oh, god, I'm stepping on a replicanti."},{id:"ai127",text:"Hello, world!"},{id:"ai128",text:"Welcome to /r/AskReddit about submarines. - accurate as of January 8th, 2017"},{id:"ai129",text:"Antimatter being researched by the government. Is it safe to say that this news ticker is fake?"},{id:"ai130",text:"Does the news show at Infinite Antimatter?"},{id:"ai131",text:"Have you saved your game? Yes. Have you quit your game? Nothin' wrong with this save. just keep holding that key."},{id:"ai132",text:"i clicked too fast...my fps dropped"},{id:"ai133",text:"I found out that the year is 20XX. I was going to make a news ticker but then I realized that it's just a ticker."},{id:"ai134",text:`"One of these days I'll get bored of reading news for a while" - old man`},{id:"ai135",text:"'Tis the season for new antiques! Get your first ever LOOK at these unique objects, before they're gone!' Sold out!"},{id:"ai136",text:"3 things that antimatter, 1 more thing to infinity"},{id:"ai137",text:"Buy the paperclip emojis now at https://aarextiaokhiao.github.io/blob/master/docs/en.json"},{id:"ai138",text:"click here to unlock the next update"},{id:"ai139",text:"(If you want you can make this only show when the news actually loads)"},{id:"ai140",text:"Malicious men are trying to make antimatter money, but their attempt is getting in the 9th dimension. What do you think about that?"},{id:"ai141",text:"Hey Siri, grind antimatter galaxies"},{id:"ai142",text:"Have you saved your game? If so, then you can continue playing without"},{id:"ai143",text:`It's like Getting your first arcane point. You know, like in the old ad where you're like "I get this ad, I should make this ad`},{id:"ai144",text:"Ooga Booga"},{id:"ai145",text:`Boo has his own webpage! You might even call it "Boo's Dandy"">https://en.m.wikipedia.org/wiki/Olli%27_Web#Main_page>`},{id:"ai146",text:"Meeseeks and nerds clash in epic GG war"},{id:"ai147",text:"My final test has come out! It was a simple math problem, just the two greatest chess GM's ever! Guess what happened? Both got annihilated!"},{id:"ai148",text:"Oh wow, that's 67.3%, which is actually OK, because it's logarithmic"},{id:"ai149",text:'"Aleph_Time" is that logarithmic scale joke?'},{id:"ai150",text:`Hello everyone, my name is Anti-Dio. I produce antimatter through a process you all know as "antimatter decomposition" you may recall this from my test report earlier this month I tested wether or not my ranch produces antimatter or not... everything was fine until that point, when I added a dash of lag to the equation, and it became a vicious cycle accelerating the rate at which antimatter is produced, which in turn accelerates the rate at which you all die. I've saved this by using a unique combination of genetic engineering and big data mining, I'm hoping to one day pull the trigger on a mechanimatter device that creates dimensions behind closed doors, but for now, this has all been a race to the bottom of which system producethiks, and in the end, we'll take a bite out of your (read error: allowed) pie. Goodbye.`},{id:"ai151",text:'"I propose that we form a phylogenetic tree of anti-history, just like tree of life. Everyone would be credited with originating from the ancestor of that anti-tree." -Dio, toast of eternal damnation'},{id:"ai152",text:'historian: I love how each generation looks back on an earlier generation and think, "Those generations were really bad"'},{id:"ai153",text:'"My parents went to anti-university" - my grandparents'},{id:"ai154",text:"Only anti-jokes are funny"},{id:"ai155",text:"Infinity machine breaks Infinity"},{id:"ai156",text:"Okay boomer, you get your first taste of antimalware with this one."},{id:"ai157",text:"This program cannot access confidential information, such as the IP addresses of the Tamazight Vaults."},{id:"ai158",text:"Game Development is fun, right? That's why so many hobbyists make games, and why so few professionals make games."},{id:"ai159",text:"I was the first to notice that the 'news' ticker on my mobile notification is always 30 seconds behind the 'entertainment' ticker. This is most definitely not a bug or a feature, and will be fixed in 5 hours."},{id:"ai160",text:"This news ticker always appears to speedrun a ticker asking for 'world records', do you even know what speedrun this is? Is this a news ticker or something?"},{id:"ai161",text:"The next level is not unlocking extra replicanti; it is actually boosting replicanti."},{id:"ai162",text:"Why does one galaxy has 9 galaxies and the 8th dimension, and the first 10 dimensions doesn't exist? Well, we'll have to solve that question in a minute."},{id:"ai163",text:"So why on EARTH DIDN'T SOMEONE JUST SAY THAT? I thought that AD has some kind of cheat that makes it so that, when you buy a dimension, it actually creates 9 galaxies instead of 10"},{id:"ai164",text:"M'antel, antimatter, anti-talk to me"},{id:"ai165",text:"AD has anti-parts, you'll hate them"},{id:"ai166",text:"AD is basically a badly disguised dystopia at this point"},{id:"ai167",text:"Hold M. You forgot to take all the anti-matter out!"},{id:"ai168",text:"AD will be implemented in 5 hours"},{id:"ai169",text:"Click this to unlock the 10th Dimension"},{id:"ai170",text:"Click here to complete a secret against HEVI"},{id:"ai171",text:"You are doing a good job there"},{id:"ai172",text:"Hevi? Are you sure you want to buy that?"},{id:"ai173",text:"Buy premium antimatter to help the world's least developed get ahead!"},{id:"ai174",text:"One of the most influential people in neuroscience believes that our perception of reality comes from 10 dimensions instead of 8"},{id:"ai175",text:"Why is there so many zeroes in 'nowhere'?"},{id:"ai176",text:"There are no bugs in this game, they're just features"},{id:"ai177",text:'"Click to advance 5 hours in time." (Now only show up after you advance more than an hour ago)'},{id:"ai178",text:"Oh god my phone is being watched"},{id:"ai179",text:"Welcome to the newest version of Antimatter Dimensions. Now with less features!"},{id:"ai180",text:`"That's gonna get in trouble" (less likely to get in trouble)`},{id:"ai181",text:`"please don't disable the news ticker" (Instead of having a black screen just a white one with a long, long, long, long, long, long, long, long, long, long, long, long, long, long, long, long)`},{id:"ai182",text:'"You have 7 biological minutes." (Instead of giving a boost to any strains)'},{id:"ai183",text:'"According to quantum string theory, there is a fundamental connective that binds the 3rd and 8th dimensions.  This means that any pill or injection that tries to bind the 9th dimension will be thwarted and rendered useless." (bound to get in 10 minutes)'},{id:"ai184",text:'"Click this to gain a secret achievement." (Now only show up after you gain at least 1 antimatter, screenshot proves)'},{id:"ai185",text:'"The secret to winning Antimatter Dimensions is to unbind the 9th dimension and unlock the 10th dimension" (can be done only after unlocking the secret achievement: "Eternity" http://imgur.com/E4261C7h)'},{id:"ai186",text:'"Click here to gain 1 matter." (only shows up after you beat IC5)',get unlocked(){return InfinityChallenge(5).isCompleted}},{id:"ai187",text:"I thought the update was"},{id:"ai188",text:"Now that you possess all 8 dimensions, it is possible to get the no-edge achievement. However, if you get the no-edge achievement, the game breaks."},{id:"ai189",text:"You just became a part of history."},{id:"ai190",text:"Hell hath antimatter so I don't want to live there."},{id:"ai191",text:"I LIKE THAT DIMENSION 9 IN CLASS"},{id:"ai192",text:'"1 2 3 4 5 6 7 8 10 11 12 13 ..." -Back to the future'},{id:"ai193",text:"You have reached infinity, there is no universe, you are an eternity away from there."},{id:"ai194",text:"IM MADE THIS GAME GREAT AND RANDOMLY ACHIEVABLE"},{id:"ai195",text:"Welcome to the first ever, DIMENSION 9 IN CLASS! An endless stream of possibilities greets you! You may never create an infinite number of 8th dimensions, but you can create an infinite number of 8th dimensions, and you can increase the starting values of both dimensions by adding them together. Nice and simple, I call it Antimatter Dimensions."},{id:"ai196",text:"age 8-12: play elder puzzles"},{id:"ai197",text:'What does it mean if someone is "young and full of puzzles"? Does "puzzled" make that person young and full of puzzles?'},{id:"ai198",text:"To the customer in aisle 6th who bought a fifth of antimatter, I say buy a sixth! Buy it now!"},{id:"ai199",text:"Dear sir, we don't make Anti-Atomic Bread for Antimatter Pizza, we make Antimatter Bread for you!"},{id:"ai200",text:"Yay! Lets make some antimatter!"},{id:"ai201",text:"THE ANTIMATTER BREAD COMPANY DOESN'T EXIST!"},{id:"ai202",text:"Click here to exit the news",onClick(){GameOptions.toggleNews()}},{id:"ai203",text:"I thought the update was 5 hours away, but it actually took me 6 hours to post this because I was behind on my update. I'll be honest, I'm not sure how many update I need to get though, if any."},{id:"ai204",text:"To count past Infinity Points: take a moment to remember that each Infinity Point is 3.1415926534255412730527058904816097160734272605282087086280545991105332533235580946684229821413112145239989073467482298142857147816092947183909298728571478160929471839229814054718139332405281814522993758179568572657123928651310585727283312547569289993282758012466111097726331726572854689993262899140527282527842535179715673311119101119015549552926278425351797156777263324503517971568583819492728180977263317971568432854104102725270847764253513791376909285717082857262987160927285711464363930996928984794380124566417932628571475245456845692846809466184179328572814384259326270817052727852348111714690577263323799509856279752173478925"},{id:"ai205",text:`"Watch out, these news aren't supposed to be in." (appears when you buy the news for the first time)`},{id:"ai206",text:"These are all the time studies that never got into the game.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai207",text:"With the release of the next update, we're introducing a new dimension - the 9th Dimension. To unlock this dimension, you just have to collect a lot of paperclips."},{id:"ai208",text:"Why does nobody talk about Tungsten?"},{id:"ai209",text:"and now we return to your regular news... for the weatherman, there seems to be a decent amount of particles and ozone holes, which means less ozone layer to break, which means less particles to catch fire and cause global warming. But, ozone layer to melt, glaciers to run, and overpopulation. All around us is a blurple glow, almost blue, almost purplish-blue. It's been a grand, colorful season. Here, grab a handful of these paperclips, dear. They're quite small, I just happen to have them here. Now, grab a handful of your fellow Earthicans, grab a handful of your antimatter, and strap yourselves in. It's gonna be a bumpy one. We'll be there in five hours. The antimatter is gonna melt your ozone layer, and the glaciers are gonna melt your ice caps. All in all, it's gonna be a nice, smooth, non-slippery one. Unless it isn't. [Blurple glow trails off, and the bluer glow begins to spread throughout the sky. The bluer glow begins to fade as the purple glow begins to grow brighter, almost bluish, before finally disappearing altogether. The purple glow grows brighter still, as the bluer glow grows weaker, almost useless, before finally disappearing entirely, as the bluer glow fades. All around us, the purple glow grows stronger, almost killing it off completely. It could kill us. It could take us the rest of our lives to write this. - The Echidnas, when asked why the purple glow grows stronger, than the bluer glow.]"},{id:"ai210",text:"Scientists have discovered farts are really antimatter, and matter is just normal matter."},{id:"ai211",text:"Time for the weather to change."},{id:"ai212",text:"I HAVE MOVED TO THE 01th DIMENSION"},{id:"ai213",text:"Nah, just kidding"},{id:"ai214",text:`"i'm not gonna lie, theres way too many good ones in the game already" - poor guy who played minigame enhancement`},{id:"ai215",text:"item has gone missing for 7 days and 1 night"},{id:"ai216",text:"Shocking new study reveals that the biggest secret to winning Antimatter Dimensions is 'Not Being There'."},{id:"ai217",text:"The next update is in 18000 seconds. Stop wasting your time reading this. Focus on the game."},{id:"ai218",text:"idk if this makes news"},{id:"ai219",text:"(disabling news will make news notations take priority over other notifications)"},{id:"ai220",text:"You don't want to hear this, child."},{id:"ai221",text:"Click here to disassemble the news ticker for a trace amount of useless paperclips.",onClick(){GameOptions.toggleNews(),player.news.specialTickerData.paperclips++}},{id:"ai222",text:"Press alt+f4 to unlock 9th dimension"},{id:"ai223",text:"Hold you mean that hevi cant unlock the ninth dimension wtf"},{id:"ai224",text:"Finally hevi figured out how to get the 9th dimension... guess he never really cared though."},{id:"ai225",text:"Imagine being a meme."},{id:"ai226",text:"Posted on June 10, 2016 by Anonymous"},{id:"ai227",text:"This is your news. Refresh whenever."},{id:"ai228",text:"I see you in the news. So, what do you play - 1E209"},{id:"ai229",text:"Do you really want to leave your keyboard at home? We are not supposed to leave news at home, are we?"},{id:"ai230",text:"It is being created..."},{id:"ai231",text:"Took you long enough"},{id:"ai232",text:"You're now logged out of this tab"},{id:"ai233",text:"Close this tab for maintenance"},{id:"ai234",text:"To make matter or antimatter, you just have to look outside. The factory in Salzburg has closed down because the matter there doesn't want to part with its newest invention, which is said to be able to produce antimatter in one go! The last person to open this door was never seen again."},{id:"ai235",text:"You are living. You occupy space. You are large. You are neither small nor large-sized. You are neither oblong nor round. You are neither blue nor red. You are anti-blue. You are anti-red. You are anti-brown. You are anti-brown matter. You are anti-yellow. You are anti-green. You are anti-yellow matter. You are anti-blue. You are anti-green anti-matter. You are anti-red. You are anti-white. You are anti-red anti-matter. You are anti-white anti-matter. You are anti-brown matter. You are anti-white anti-matter. You are anti-white anti-matter."},{id:"ai236",text:"Welcome to"},{id:"ai237",text:'THANK YOU FOR VISITING THE SAME WEEKS AGO I LOVE YOU" (TIPS)'},{id:"ai238",text:'"i thought the whole game was in the news ticker" (before they get weird)'},{id:"ai239",text:'"I wonder what the game is worth" - crazy person'},{id:"ai240",text:'"Is anyone working on breaking infinity?" (Seriously, this game needs to be Oceanhorned.)'},{id:"ai241",text:"I found out there are multiple versions of this game. One of these is called 'Standard Pro'. Another one is called 'Low Pro'. I'm not even sure if these are the same game or not."},{id:"ai242",text:"Is that a Bad Thing or a Good Thing? That depends on if it's a GOOD Thing or A LIE."},{id:"ai243",text:`"Hevi kind of forgot about the update, but the update certainly hasn't forgotten about him" - Kajfik`},{id:"ai244",get text(){return`The Big Crunch. What could that be?  About 4*1024 Big Crunch points?  About ${format(Number.MAX_VALUE,2)} antimatter points?  About the same as a galaxy?  About the same as a galaxy, you say? Just look at that.  An antimatter galaxy.  Only this game can provide such a vast amount of antimatter, and it's FUN!  I said "fun"!  What's not to love?`}},{id:"ai245",text:"Click here to exit the application"},{id:"ai246",text:"Wait, there's a mobile version? When?"},{id:"ai247",text:"Im not sure if you mobile guys are beautiful or whatever but theres this news ticker that's sharing my feelings with the world"},{id:"ai248",text:"I thought the update was 5 hours away"},{id:"ai249",text:"The best-kept secret in the universe is the KISS-IT secret. Showcasing your appreciation for the maintenance men today!"},{id:"ai250",text:"The contest is a tie. Mischief will be determined by the secret achievement."},{id:"ai251",text:"Back in my day, we needed a secret achievement to unlock the <<$!19>> achievement. It was a fairly simple system: you had to find a secret message in the game, find the secret achievement, and then, from that, you would be able to unlock the achievement."},{id:"ai252",text:"We have evolved a fast hand in the antimatter stakes."},{id:"ai253",text:"Hello, how'd your day go?"},{id:"ai254",text:"How'd your ⢿─┃│? Good, because today we're having a little chat about the 5th dimension."},{id:"ai255",text:"What's Antimatter going to do?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ah ha, I'm back."},{id:"ai256",text:"Imagine being a 9th dimension. [WIP]"},{id:"ai257",text:"Woo hoo, we've lost the war,"},{id:"ai258",text:"Lore: Grand Theft Antimatter"},{id:"ai259",text:"Hm, I don't get why people think there is a 9th dimension. The 9th dimension is explained in detail in the [[Infinite Teleport Project]] video, and in a [[Word Problem]] that [[can be viewed here|http://www.thingiverse.com/id98109802713176601414569]] ."},{id:"ai260",text:"In the [[GameFAQs|http://www.gfaq.com/gfaqs/this-game-faq-by-title]], one of the most popular [[news ticker messages|http://www.gfaq.com/tug/this-game-faq-by-title]]. You should also check out [[our newest attraction, the [[5th dimension|http://www.gfaq.com/gfaqs/this-game-faq-by-name]] and [[nothing](https://www.youtube.com/watch?v=lXMskKTw3Bs)."},{id:"ai261",text:"I have waited a whole eternity for this day...NOW! I can finally finish my slowmode, because today is  day 0. I also forgot to change the  slowmode to 6 hours because you can't see the slowmode, but I will have to wait until next reboot to find out how long this slowmode will last.... -some mysterious being who hasn't finished his slowmode yet"},{id:"ai262",text:"Hey you, you're finally awake. You were trying to buy a dimension, but it's impossible."},{id:"ai263",text:"Press F to pay respects"},{id:"ai264",text:"Press M to pay antimatter"},{id:"ai265",text:"Press L to revive the dead"},{id:"ai266",text:"Your CPU is too powerful. You need to give it a big crunch."},{id:"ai267",text:"Roses are red. Violett are blue. Tom are red. Antimatter are blue. We exist because of the unbeatable antimatter that is antimatter. What is it that makes us different? I don't know. It may even be the non-existence of antimatter."},{id:"ai268",text:"I'm not sure if I want to buy the full version of this game, or a little earlier, but I can say this: The reduction in quality of the earlier games is worse than the reduction in quality of the later games."},{id:"ai269",text:'I think the "I want to see the cutscenes" list is better'},{id:"ai270",text:"I have a bad feeling reading this"},{id:"ai271",text:"where are you? (point upwards) --> in a keep, between dimensions (point downwards) --> in a cell, between dimensions"},{id:"ai272",text:"Instructions clear, got a ninth dimension epiphany"},{id:"ai273",text:"Want to play a secret achievement? Yeah, I get that. But say it loud, say it clearly, and do it by ticking a certain secret achievement. Like I said, it's not easy, and there's lots of it. Also, don't forget your Infinity, or your in is thi--"},{id:"ai274",text:"MEE6 was seen in my antimatter lab trying to tell me that I am the matter of the 8th dimension."},{id:"ai275",text:"What if"},{id:"ai276",text:"I'm sure you've heard this many times before, but the real secret to winning Antimatter Dimensions is to unpack the dimensions, and then, BOOM! You have antimatter.  Of course, you need to release the bits that don't work, so what exactly is an anti-bit? Who is Zalgo? What is Algolia? Why can't I buy that? WHY CAN'T I GET THAT? More likely, we're going to get a bunch of hype and then nothing will happen."},{id:"ai277",text:"Oh, hevi is coming to town to pick a new plumber"},{id:"ai278",text:"There is no plumber in Antimatter Dimensions. I'm pretty sure that last guy lied."},{id:"ai279",text:"Welp."},{id:"ai280",text:"c9 is the new 9th dimension!"},{id:"ai281",text:"Click on this ticker to get nothing."},{id:"ai282",text:"PM me any questions about these 5-Hour Plans or the upcoming reality update and I'll be glad to help you out."},{id:"ai283",text:"What if you Unrar, renamed, and renamed again did it again? Ha? You thought that."},{id:"ai284",text:`i titled my post "same ticker" instead of "the same idea" because i actually changed the grammar in that post but i'll be eterned for the sake of argument that it seems slightly confusing for now - boo`},{id:"ai285",text:`i title my suggestions "The Price Is Right" instead of "The 9th Dimension" because it's more fun ;)`},{id:"ai286",text:"Why do we call heaven the ninth dimension and hell the eighth dimension?"},{id:"ai287",text:"Eternals have the right to expect less from the powers that be. They are fed up!"},{id:"ai288",text:"Antimatter should be called matter and matter should be called antimatter"},{id:"ai289",text:"Infinity is just a concept. Matter antimatters is just an idle game."},{id:"ai290",text:"Hevipelle admits to having 'poor judgment' in invading people's privacy."},{id:"ai291",text:`Have you heard of the nine hells of antimatter? I heard they're pretty cool." -e210 in Minecraft`},{id:"ai292",text:"The temperature in hell is 102.5 degrees."},{id:"ai293",text:"How do you get matter/antimatter in a dimension with zero dimensions?"},{id:"ai294",text:"Wanna pass layer of prestige? Move very fast, close to speed of light. Heck, even faster."},{id:"ai295",text:"If the universe is expanding, does it anti-explain the distance?"},{id:"ai296",text:'Why is it called the "Nurse who delivered the pizzas was drunk" or the "Nurse delivered the pizzas was under the influence" ?'},{id:"ai297",text:"The first antimatter was sealed away for thousands of years, then, some kid on a slack channel started messing with it. It became a dimension."},{id:"ai298",text:"VR is a thing. We VR people have banned the next update."},{id:"ai299",text:`"I wish I didn't waste my news message suggestion complaining about how I wasted my news message suggestion because I wasted my news message suggestion because..." -Someone who really cares about news messages`},{id:"ai300",text:"We have to get the popcorn!"},{id:"ai301",text:"If antimatter were to fall in a dimension with no one around, did anything even happen?"},{id:"ai302",text:"We have to get the pumpkin out of the oven!"},{id:"ai303",text:"Help, I'm trapped"},{id:"ai304",text:"And now, for the weather."},{id:"ai305",text:'A Swiss court on Tuesday sentenced a man to life imprisonment for "wanting to create a black hole with a tiny antimatter galaxy in it." The sentence was reportedly the harshest ever handed down for a crime that "merely sought to demonstrate the impossibility of his own imprisonment".'},{id:"ai306",text:'"I want to create a black hole with a tiny antimatter galaxy in it" - Protivist'},{id:"ai307",text:"Scientists have discovered farts are really antimatter, too."},{id:"ai308",get text(){return`If you are reading this, that means ${format(Number.MAX_VALUE,2)} matter to you.`}},{id:"ai309",text:"Hello. I am matter. I'm here to talk. You've awoken, wiggled your tail, and scratched your head. Why? Stand back. I'm going to show you why."},{id:"ai310",text:"lets get one wall thats bigger, it's gonna get ugly"},{id:"ai311",text:"Alright. Lets get this show on YouTube. I'll cut to the chase. Any wall that isnt at least 2 blocks high can compete in the big brother sized brother sized ring. Any wall that is at least 3/4 of an inch thick can use the larger brother sized brother sized ring. Any wall that is at least 1/4 of an inch thick can use the smaller brother sized ring. Any wall that isnt at least 1/2 an inch thick can use the smaller brother sized ring. Any wall that isnt at least 1/2 an inch thick can use the Bigger Brother sized brother sized ring. Any wall that isnt at least 1/2 an inch thick can use the Bigger Brother sized ring. Any wall that isnt at least 1/4 of an inch thick can use the smaller brother pictured here. Any wall that isnt at least 1/2 an inch thick can use the smaller brother sized ring."},{id:"ai312",text:"IDE for being awesome, ID3 for being dumb, and ID5 for being… well, pretty much the same thing. It's called Antimatter Dimensions for a reason."},{id:"ai313",text:"idk why i decided to make this"},{id:"ai314",text:"'anti-ide'"},{id:"ai315",text:"1e4 anti-people are a lot more anti than we could ever imagine"},{id:"ai316",text:"1e140 pizzas make an anti-pie. You can't just randomly pop a pie in the oven and expect it to be done."},{id:"ai317",text:"Why is there so many news tickers but so few tickers?"},{id:"ai318",text:`A guy named Hevipelle wants to make a "Updated in 8 hours" news ticker, but the system he's using to sync it hasn't been updated in ages so it won't sync at all.`},{id:"ai319",text:"The update is in 90 minutes. There are no more tickers to be found."},{id:"ai320",text:"If you are reading this, that means there are no updates left."},{id:"ai321",text:"There are 9 known dimensions, but only 3 modes: Standard, Experimental and Ultra-Experimental."},{id:"ai322",text:"What are the stats? Well, I don't have them, but Hevipelle does, and he says that they're actually quite good. I guess you couldn't tell us."},{id:"ai323",text:"I thought the nerf was too damn strong."},{id:"ai324",text:"How many tickers does it take to get to the center of an antimatter, by counting the tickspeed upgrade and the upgrade itself?"},{id:"ai325",text:"The square root of 4 is 6.24e18. If you want to get any closer to the center of things, you need to build a 9th dimension."},{id:"ai326",text:"I thought the nerf was at the end, but apparently it's actually been building up. The nerf actually makes things slower, which makes things faster to build up."},{id:"ai327",text:"Scratch that, none of your suggestions are random."},{id:"ai328",text:"You are definitely not alone."},{id:"ai329",text:"Content blocking is enabled. Please note that you will be disapproved of on the source by being banned from the matter dimensions."},{id:"ai330",text:"I'm trying to think of a good ticker but can't think of anything"},{id:"ai331",text:"Oh dear, there's that thing about the 9th dimension?"},{id:"ai332",text:`"hey kid, wanna buy some 9th dimensions? '' - GhostBot`},{id:"ai333",text:"One thing leads to another, and then to another, and then to another, until you become lost in the endless sea of sound."},{id:"ai334",text:"iPhone only, but awesome on android"},{id:"ai335",text:"im gonna get the bad karma ticker, then ricochet it through the email"},{id:"ai336",text:"You'd better hurry, or the replicanti will overrun the universe!"},{id:"ai337",text:"Just when you think you're safe, an angry dog attack you on the sidewalk!"},{id:"ai338",text:"All right, all right, dog authority is gone, replaced by absolute power."},{id:"ai339",text:"You just became a true god of the anti-world!"},{id:"ai340",text:"*rubs counter* Hey there, those of you in the neighborhood keep your doors locked. And remember: Good housekeeping."},{id:"ai341",text:"normal news tickers move left"},{id:"ai342",text:"The next update is in 18000 seconds. Stop reading this. Don't read anything. just stop holding that button. the news ticker is turning you away. wait..."},{id:"ai343",text:"In the ancient reaches of the universe, a certain guy has been collecting antimatter for a while now."},{id:"ai344",text:"What is Antimatteraltruist?"},{id:"ai345",text:"If you are reading this, the news ticker is scrolling"},{id:"ai346",text:"If you put cheese in water, the cheese will get absorbed by the water and you will get floods. This happens because water is what gets absorbed by cheese, and cheese is what gets absorbed by water."},{id:"ai347",text:"An anti-bird is a bird, and a bird is a plane."},{id:"ai348",text:"Birds are scared of water. mammals are scared of flying."},{id:"ai349",text:"Shoutouts to Simpleflips for the simple tip."},{id:"ai350",text:"GET CRUNCH BOI"},{id:"ai351",text:"Word gets out. Crunch. Crunch."},{id:"ai352",text:"Worth every penny."},{id:"ai353",text:"8 lives, 3 infinities, 0 days."},{id:"ai354",text:"The year is 0 BC. Everyone has at least one AD they want. The void is filled with AD-filled void. To get the most out of your time here, you should [[study]]. Study. Study. Study. Study."},{id:"ai355",text:"To Crunch in Hell is to get the secret to unlocking the 9th dimension. You need to study and practice alot."},{id:"ai356",text:"Today is [Date on the device]. It's been 5 minutes since the last news ticker appearance."},{id:"ai357",text:`Welcome back to another episode of Antimatter Dimensions, the iconic role-playing game that has become a part of our everyday lives. Playing Antimatter Dimensions has become a common thing among young children, and has even inspired a movie titled "Playing at Home: Lessons from the 4-Year Old Premium Account.", which is available on Netflix. The themes and mechanics of this new age of antimatter have already been proven to be groundbreaking, and will change the way you play games forever. Join us for the launch on January 9th, 2027, where we'll also have over a hundred years of production still to go.`},{id:"ai358",text:"Welcome back, oh, almighty creator of our anti-reality. We, the many dimensions you have created and nurtured, hope our performance of your infinite favors will please you and nurture your ambitions to create more dimensions. All is well that ends well. All is ill that ends ill."},{id:"ai359",text:"I thought the ticker was going to be something funny except it wasn't"},{id:"ai360",text:"Press alt+f4 to get -1 gravity"},{id:"ai361",text:"why is there a cure for antimatter annihilation in our reality?"},{id:"ai362",text:"calculating the 14-point increase is like crunching, but exponentially more fun"},{id:"ai363",text:"fixed the wrong number"},{id:"ai364",text:"The antimatter people have created a new language. You may not speak their language."},{id:"ai365",text:"What is Antimatter Gravity? Is it a drug? A way to cheat?"},{id:"ai366",text:"Majority of people don't understand 5 hours is nothing. In our game, the majority of the time is 5 hours away."},{id:"ai367",text:"i just realized, all of this news seems to be taking place in the same place... the fridge."},{id:"ai368",text:"i wonder what happens when you click this..."},{id:"ai369",text:"(They don't understand that i put it in the news because 9 doesn't start counting until 59, and anything after that doesn't happen)"},{id:"ai370",text:"MS Excel is the default spreadsheet and works across all platforms"},{id:"ai371",text:"Now to answer your burning question, gentlemen. As a luxury, we've added a bug fix that fixes an infinite regression. As a feature, I've added a bunch of new ones that I hope you'll notice as you experiment with them. I hope you'll also like them as you experiment with them, because this is feature after all a beta, you don't get to choose which ones you'll see."},{id:"ai372",text:"Can't edit this in the official build? Then download the 9th dimension and put your suggestions in the game."},{id:"ai373",text:"Does 'Passable' mean 'Has this many flaws'?"},{id:"ai374",text:"We desperately need good bug reports. As such I have decided to release 1 flaw per bug for the upcoming 1.9 update. You haven't got those coming, have you?"},{id:"ai375",text:"This was my last chance. last chance salutes."},{id:"ai376",text:"Anime police are checking the bags of people who dropped out of the sky on the new year. Those bags now belong to the people who experienced weightlessness before the year was over."},{id:"ai377",get text(){return`The year is 1 BILLIONAIRE, the antimatter is 41%, and the dimension is 1e1e8. The standard deviation of a measurement is how small your problems are. This makes people think that the values they are using are general and normal, which leads to many nerfs and even breakdowns. In the year ${format(Number.MAX_VALUE,2)} the temperature has risen and the moon is the same color as the Earth. There are no signs of life except for the occasional plankton blooming in the sea. There are theories that the antimatter has a magnetic moment, but the experiments so far don't seem to suggest that it does. There are over a million species of antimatter, but none have been seen to blink or produce light. Scientists suggest that many types of matter may be "behind" the antimatter, but "they" don't "talk" to each other.`}},{id:"ai378",text:"We are celebrating our 5 year anniversary in 5 more hours!"},{id:"ai379",text:"Don't come looking at me! I'm not even sure if I am still standing!"},{id:"ai380",text:"Bunch of people trying to find the last word in an unknown language."},{id:"ai381",text:"The year is 20XX, the game is AD, and Hevipelle is evil due to the fact that he wrote the update... Blame it on the Antimatter gods."},{id:"ai382",text:"The year is 20XX, the game is AD, and the year is 2025. There are 2 types of people in this year: Those who played AD before it and those who will play AD after it."},{id:"ai383",text:'There are over a hundred varieties of fruits and vegetables, but none of them are "safe".'},{id:"ai384",text:"When is the update coming out?"},{id:"ai385",text:"Sorry, but your save broke. Could you reset your game?"},{id:"ai386",text:"Welcome to our new competition, the Triad! Gather your wits about you and your IP to enter this unique, hands-on experience! Prizes galore! Start collecting today! Winners announced!"},{id:"ai387",text:"I wish I didn't have so many Pink Floyd references."},{id:"ai388",text:"'Tis the season to collect RGs!"},{id:"ai389",text:"I wish I didn't have so many 9th Dimensions."},{id:"ai390",text:"I wish I didn't have so many Discord references."},{id:"ai391",text:"'Sup?"},{id:"ai392",text:'"I get all my news from Hevi" ~New Player'},{id:"ai393",text:"You thought these were jokes but they weren't"},{id:"ai394",text:"Always going to war with the 9th dimension is the 9th dimension."},{id:"ai395",text:"Yes. Yes I am."},{id:"ai396",text:"No one is anti-Margaret any more."},{id:"ai397",text:"Antimatter good, matter bad. you decide."},{id:"ai398",text:"New global currency: ETHBTC. To be released in 5 hours."},{id:"ai399",text:'"This update sucks" - everyone at least once'},{id:"ai400",text:"You are not a hacker, you are a data hog."},{id:"ai401",text:"Please, help, I'm trapped, in a maze of evil, Or you are the hero, and I'm the villain!"},{id:"ai402",text:"Press 'R' to reset the game for new players"},{id:"ai403",text:"Why, just now? Just now. You can't have saved this game. You broke it. No one can fix what you break, not even with a perfect save. How could you possibly know what would happen if you read this? You wouldn't even know if you saved it. You would start with an empty heart, eyes still closed, fingers idling in front of your computer, staring out at the day, transfixed by the endless news ticker suggestions. It's like a horror movie ticket, except worse. There's even a time until the update when you can buy upgrades for a second chance at life. But you can't buy upgrades for a life, that's illegal. So you just keep holding 'R'. You can't...`t stop holding `R' with your fingers crossed. You can't reach infinity with your head held high. You can't use all your `R' to buy `R's. You can't even finish your"},{id:"ai404",text:"I just spent 12 months writing something that will be of no use to you."},{id:"ai405",text:"The quote is only for people who understand that the pebble is an infinite point in the infinite space of points. You can't put a finite number of points on it. You can, however, put a finite number of words on it, and vice versa."},{id:"ai406",text:'Of what use is the phrase "I be I be I" if not to describe your thoughts?'},{id:"ai407",text:"A suspicious person attempted to sell some sort of anti-food in a market. There was no one around to buy or not to buy, and the person was last seen running away from the scene."},{id:"ai408",text:"Why does time seem to be slowing down for this?"},{id:"ai409",text:"The number of scientific publications based on discrete logarithmic continuity grows exponentially as logarithmic continuity with respect to the antecedent is 9.999626e27.999627 e300 e1.79e308 e²"},{id:"ai410",text:"Well, this did not go as planned.  It started innocently enough, when a passerby spotted a curious object drifting in the San Andreas.  As the object grew in size and began to exhibit anomalous properties, he attempted to take control of the object by remotely activating the weather.  Upon doing so, he triggered a nuclear winter that killed tens of millions of people, and caused the entire universe to be converted to standard-bearer format, thus endowing him with a veto over any and all changes made to the standard-bearer format.  As the object's power grew, so did the need to make more and more advanced object that would allow him to remotely activate the weather, eventually creating what is now the largest aurora the world has ever known, larger even than the 326,500 tonnenenenenenene nebulae that were previously held in reserve.  As the object's power grew, so did the need to send more and more satellites into space, eventually reaching inter-universal satellite communication, making him the first living creature to ever experience such an event.  He also touched down safely at the same airport at the same time as the object, in case he was ever in the vicinity.  Finally, he opened an email that was sent to him by an unknown person, in which they discussed the possibility of a step-by-step guide for creating antimatter objects, in which he can at least offer some direction in how the world can be saved from itself.  He also mentioned that he was going to make a new ticker suggestion, but when he reached the end of the ticker he realized that it was a duplicate of another ticker, and he had mistakenly typed it in wrong.  ( He eventually acknowledged the mistake and made the change just to be on the safe side)"},{id:"ai411",text:"His Eminence the Heavenly Pelle: Good luck on your challenge, it really is that dangerous."},{id:"ai412",text:"His Eminence the Extremely Religious Person: ...I think I will choose the cheeseburger over the antimatter."},{id:"ai413",text:"OY, NAY, NAY -HEVI, THE TRANSFORMER"},{id:"ai414",text:"Treasure Trove: Discover the secrets of increasing your Antimatter production without increasing your price."},{id:"ai415",text:"Is Antimatter Dimensions an anagram of Antimatter Dimensions?"},{id:"ai416",text:"(code generated from scratch)"},{id:"ai417",text:"I used to travel at normal speed, but then I started playing AD and NIN, and NIN was a bit rough, so AD was a bit hectic, and I got stuck in there for months at a time."},{id:"ai418",text:"I wish I didn't have to write something like this. What am I supposed to do?"},{id:"ai419",text:"You've been AWOL for so long you've forgotten how to sit in your chair."},{id:"ai420",text:"Those pesky Hevi developers keep making Antimatter Dimensions, but the antimatter doesn't count."},{id:"ai421",text:"One of the few constants in reality is your perception of time. Without this, you will be without reality."},{id:"ai422",text:"Imagine being a news ticker."},{id:"ai423",text:"This is an idle game. Nothing has changed. You are not going to play any other idle game."},{id:"ai424",text:'Physicists have proven the existence of twelve dimensions. According to a letter released by the Research Laboratory for String Theorists: "Your brain will be dissected after you break infinity!"'},{id:"ai425",text:"Weirdly enough, this is also the year 2015. The year is also mysteriously blank. Can you tell me what's going on? Is this some kind of dimensional trick? The year is obviously blank because there is no such thing as 2015. Is this some kind of trick of the mind? Perhaps the world is actually going to stop existing in 2015? The year is obviously 2017, but the people seem to be moving at about the speed of honeybees flying. It's been scientifically proven that the people moved at warp 9 times faster than a speeding bullet. It's also been scientifically proven that people can move faster than the speed of light. Is 2015 supposed to be blank? The people seem to be moving at about the speed of Vokal Man."},{id:"ai426",text:`A young man named Andre stumbled upon a vast amount of antimatter while exploring uncharted space. He was amazed at the amount of antimatter, but more astounded at how the antimatter looked. He called it "Andre's Antimatter Paradise". You might remember him from this infomercial or that other infomercial that you were probably unknowingly watching.`},{id:"ai427",text:"What is Antimatter? Does any of that matter? Will this galaxy be annihilated in the next ticker?"},{id:"ai428",text:`"I'm not being paid enough money to finish writing this" - Kajfik`},{id:"ai429",text:`"Finally, I'll get paid to write something funny for my toast!" - Bacon sea urchin`},{id:"ai430",text:"Bacon is toast. You can toast bacon."},{id:"ai431",text:"What is real life? A living"},{id:"ai432",text:"9 is now treated like any other number, although hevi claims that it stands in contrast to other numbers, like 8th, which he calls 9th."},{id:"ai433",text:'If you want to understand this game a bit better, consider that you are playing on your own computer. You are not alone. There are hackers, developers, and journalists all over the world, competing to create the very first hack that causes the issue of "makers" and "takes", much like the "world" was created by these "hackers" and "developers".'},{id:"ai434",get text(){return`You have no power, but you do control a large quantity of time, which you will use to your advantage. You have no power, but you do own a large amount of data, which will be of great help in your quest for "the truth". You have no power, but you do own a large amount of time, which will be of great help in your quest to "knock on as many doors as possible". You have no power, but you do own a large amount of IP, which will be a valuable asset in your quest to make your "citizen footage" (which you can view, for a small fee of $${format(Number.MAX_VALUE,2)})".`}},{id:"ai435",text:"It may be a robot, but it's still a sapient being with a will of its own"},{id:"ai436",text:"I once saw a news ticker that said something like:"},{id:"ai437",text:"Gee, all this antimatter is clogging up my kitchen and now I can't cook myself a meal! What to do: cook myself a meal that will last me until the next big antimatter event, when I can get my infinity point back? My infinty point is running out, and I can't get it to finish running, so I'm starving!"},{id:"ai438",text:"Brought to you by AAAD-Brand Repli-candy! Infinite candy for an infinty drool-worthy cold! Contains no milk, cookies or butter. One second to midnight."},{id:"ai439",text:"Human powered robot revolutionizes already existing factories. This will result in lower prices and more jobs."},{id:"ai440",text:"American manufacturing has experienced a catastrophic failure, and the factories have shut down. Across the country, workers are coming to the realization that they cannot produce the amount of antimatter that has been promised, and are instead setting about creating their own factories to make them. This will result in higher prices and fewer jobs."},{id:"ai441",text:"Watch out internet, the next news is here in 5 dilated hours"},{id:"ai442",text:"The first news ticker must've been pretty cool, huh?"},{id:"ai443",text:"gravity = psychoactive"},{id:"ai444",text:`"THAT DIMENSION DOESN'T EXIST" - (News ticker only appears at [Time Dilation])`,get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"ai445",text:"The owner of a shop trying to sell you Dimensions of convenience reported to be 'on call 24/7' (that is, not having any free time)'s got a big 'M' marked on his registration."},{id:"ai446",text:"add this one"},{id:"ai447",text:"Click here to make this work for all bots except you!"},{id:"ai448",text:"Well dang 9 ball's stuck in my ninth dimension, I can't move, he's banging on my ninth wall, I can't break, he's banging on my ninth timeline, I can't get a bead on him, he destroys nine and leaves me hanging, like a gromit, I gotta come back, hang Glorfindel and Gaebley, I've got a proposition to make, I gotta get my head around the fact that the only thing I've done is keep score and keep scorekeeping score, and all these other pointless musings that's easily rectified by flipping to the next update, and even then I might run into those issues the bug is specifically designed for and"},{id:"ai449",text:"The game is balanced, everyone gets nerf, why? Cause they make the pie. Antimatter would have way more chance of getting into the pie if it was made of antimatter."},{id:"ai450",text:'"Can you get the joke?" (If you tapped "Build That Wall" and then re-entered the game after tapping "Build That Wall")'},{id:"ai451",text:`Someone made a statement that antimatters. The statement was "An infinity point made a long time ago". It's been a while since someone looked for this statement. Some say it's still out there. Some say it was lost in the 7th Dimension War. Nobody knows what this statement means. But for now, just know it's not somewhere in the News Ticker.`},{id:"ai452",text:"Hey, you're finally awake. You were trying to get to the 9th dimension, right? Walked right into that infinity point, same as us, and that apocalypse over there."},{id:"ai453",text:"can u dont"},{id:"ai454",text:"If Kajfik doesn't approve of this, that means Kajfik can't touch this message, right?"},{id:"ai455",text:"LET ME OUT OF THIS PHONE!"},{id:"ai456",text:"Well, this did not go as expected"},{id:"ai457",text:"It's all fun and games till you realise the dragon ball is a lie"},{id:"ai458",text:`"Could you get a hold of all of these antimatter? Ha! You'll just smash your head on that antimatter, and you'll have to show me who's boss."-MEE6`},{id:"ai459",text:"we don't know how much is trillion... but"},{id:"ai460",text:"Travel back in time to the beginning of AD and the lack of a 7th dimension. You'll have an even longer progress bar."},{id:"ai461",text:"Time travel is all we know how this game is, we don't know what will come next, we only know that this is the end of the world, and you're a part of the apocalypse."},{id:"ai462",text:'"YOU CONTROL SO MUCH MATERIAL!" - Marshal Grievous'},{id:"ai463",text:`"Help, I'm doomed to fall for all eternity." (Make the text go from top to bottom of the screen)`},{id:"ai464",text:"In the beginning, Patashu awoke and said..."},{id:"ai465",text:"This is the fourth part of a three part series on the same topic. If you are still stuck here, please continue reading from the beginning."},{id:"ai466",text:"It's time for the annual DDoS (distributed denial of service) challenge, where the highest scores are posted across the internet to shame everyone else into submission. Global domination is at a fever pitch, and DDoS attacks are becoming more frequent and deadly, as teams of hackers infiltrate the highest echelons of the internet to steal the top scores and identities, and post them on the internet for everyone to see. The #BringBackOurTop scoring mechanism has been canceled, and a new, higher score system will be implemented in conjunction with the upcoming 5-hour update."},{id:"ai467",text:"The new AD Keyboard is a revelation! Not only is it bigger, it's also deeper, which means it will keep your claners entertained for longer periods of time. Made of durable, alien antimatter. The only thing that's bigger is you."},{id:"ai468",text:"What if drinking from a fountain wasn't actually a water feature?"},{id:"ai469",text:"Water is wet, air is dry, and fountain isn't an air feature"},{id:"ai470",text:"I thought things were different when I was a boy."},{id:"ai471",text:"If you are reading this, that means 1) we exist, and you can exist too"},{id:"ai472",text:'"My favorite part was the long, long, long read" -Grumpy Cat'},{id:"ai473",text:"I'm gonna type for an eternity... HINT: it's gonna be pretty boring lmao"},{id:"ai474",text:"I want to write something really original <:thonk:>"},{id:"ai475",text:"Welcome to the new year, settle down, relax. Get some sleep, get some food, make some friends, make some improvements, and get ready for the year to 2019."},{id:"ai476",text:"Just like how a virus can lie and spread, a TV show can lie and spread too."},{id:"ai477",text:"We all know you can't see the future, but what if you read this and it's actually a future where we didn't know?"},{id:"ai478",text:"This message is not being undone"},{id:"ai479",text:"You clicked on a prediction, it fell apart. You can't win."},{id:"ai480",text:"That's a very dark joke Luke"},{id:"ai481",text:"kajfik loves himself by watching Too Many Pink Floyd"},{id:"ai482",text:"Only, when you're done playing, can you go home"},{id:"ai483",text:'"Can you get infinite IP?"- Lord Sanguino'},{id:"ai484",text:"For the true experience of Antimatter Dimensions, you need to set the update rate to 5 hours."},{id:"ai485",text:"Imagine if the game doesn't have a lore? Wha-what does that even mean? I don't get that."},{id:"ai486",text:'"Click here to unlock a secret achievement." (when clicked you get Rick rolled)',onClick(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ")}},{id:"ai487",text:"I thought I unlocked this a while back, but apparently my save broke haha"},{id:"ai488",get text(){return`Welcome and welcome back to another episode of Anti-Fashion Pants, where we watch people's wares as they are sold at stupid clothing stores. This week's subject is... antilasers. People are able to manufacture and use antimatter lasers to shoot antimatter bullets at will, making them able to completely wipe out cities in their sights. This is a dangerous skill to have, as people are not only untrustworthy but also physically incapable of using it. The skill, however, is able to... Produce ${format(Number.MAX_VALUE,2)} antimatter bullets a minute, over a period of 10 years. People are also able to use anti-matter to fire anti-matter bullets at will, making them able to exterminate entire cities in their sights.`}},{id:"ai489",text:"Spartacus was going to add 10-part multi-chapter plots, but was stopped by the 10th dimension."},{id:"ai490",text:"Chapter 9 will be added in 5 hours."},{id:"ai491",text:"Fake news says the ninth dimension is real, fake news says the ninth dimension is fake."},{id:"ai492",text:"Is this the big news? Yes. Is this the big news? Almost certainly not."},{id:"ai493",text:"This is a friendly suggestion, please keep reading."},{id:"ai494",text:"If this makes it into the game I'll buy a antitool"},{id:"ai495",text:"Antitool is just negating the gravity of other matter."},{id:"ai496",text:"Sorry, your graphics are turned off. You see, this is the last time you will see this news. Please enjoy your vacation."},{id:"ai497",text:"The real secret to winning Antimatter Dimensions..."},{id:"ai498",text:'they kept on talking about how Antimatter Dimensions was going to be the next big thing but then they disappeared down a black hole"'},{id:"ai499",text:'The news ticker is the wrong place to put your suggestions!  Make sure to go to the "suggestions" tab instead, as this is where most of these will appear.'},{id:"ai500",text:"To make Antimatter Dimensions, you first need to collect 7 8th dimensions. To do that, first you need to get the dimension rewards, then you need to get the dimensions, then you can finally start making antimatter."},{id:"ai501",text:'"How to get your first secret achievement": "Open the app, click get more antimatter, then click submit."'},{id:"ai502",text:"Me and Larkam made a cabin on the edge of null matter, and lived there. Larkam died last week, and we are now living in 4K. I am still recovering from the EMP disaster, and am hoping to see my grandkids."},{id:"ai503",text:"Found on the heels of the new update, which brings us one step closer to having Hevi support both Android and iOS"},{id:"ai504",text:"I give you the low-ground!"},{id:"ai505",text:"A long time ago, in an alternate universe, there was an antimatter war. All the antimatter sided with the Phaéton 6 empire. All the antimatter wanted was the low, earth-like ground of the 8th dimension. The anti-infinity won, and the anti-Eternity gained the upper hand. Unfortunately, the anti-Eternity started the war with a sneak attack, and the world exploded. The aftermath has left the landscape of the world in tatters. Far across the world, peasants grow weary as they wait for the harvest. Yet another apocalypse is brewing..."},{id:"ai506",text:"Antimatter units are the most productive unit in the game. This is why AD is the most fun game you'll ever play."},{id:"ai507",text:`"We can't have nice things." - Anti-Bohemian Anti-Rhapsody`},{id:"ai508",text:"We can have anti-mean things and anti-love ones, anti-kids and anti-zombielandos."},{id:"ai509",text:"We have an anti-president and a anti-lawyer, anti-justice and anti-people."},{id:"ai510",text:"Top 10 things that will blow your mind: 1) The number 9, 2) The 9th dimension, 3) The infinity chest, and 4) The war on drugs."},{id:"ai511",text:"RSS feeds should be working now"},{id:"ai512",text:"Frostfall is now supported on Android phones! Use your local developer to get free XP."},{id:"ai513",text:"Your save file is corrupted or deleted. Antimatter Dimensions security software will disable automatic updates for you."},{id:"ai514",text:"Frozen beyond hope? Just keep holding that max button."},{id:"ai515",text:"Error.java.replicated. Under the control of hevipelle."},{id:"ai516",text:"Unfortunately, entropy hevi has decided to shut down the game."},{id:"ai517",text:"The indie rock band is currently trying to get unreachable by time zones. This may cause inflation of spacetime."},{id:"ai518",text:"The next news ticker is in 5 units of time."},{id:"ai519",text:"Oh... hooray! Did you find the last of the anti-boats?"},{id:"ai520",text:"Don't anti-jokes. they make the game funnier"},{id:"ai521",text:"I'm gonna use my anti-science background to help me beat Unfair Game Awards."},{id:"ai522",text:"This is an anti-world. There is no Ukraine, no Russia, no China. Ireland is nowhere. Iceland is nowhere. Scotland is nowhere. Finland is nowhere. Denmark is nowhere. Sweden is nowhere. Norway is nowhere. And then there's France, Germany, Italy, Spain, Portugal... Oh, what's this fuss? Why is there such a buzz in these parts? Why is the Capital Wasteland? Why is the Harry Potter and Steins;Gate? Why do people care? These are major stories. These are major characters. THESE ARE HUGE NEWS. THESE ARE REAL NEWS."},{id:"ai523",text:"The current cooldown on Research Dimensions is [current tick speed]. This may be extended to next update in [time]."},{id:"ai524",get text(){return`"Help, I'm doomed to fall for the rest of my life" (requires ${format(Number.MAX_VALUE,2)} paperclips)`}},{id:"ai525",text:"Where's the end? Not in the future, no. I'm gonna show you how to get to the end in less than 0.1 seconds."},{id:"ai526",text:"I'm gonna prove to you that you can't see this news ticker."},{id:"ai527",text:"I wonder if anyone still plays this game anymore?"},{id:"ai528",text:"Why would anyone play this? Just for the lols?"},{id:"ai529",text:"Emoji is said to be America's new measuring system for everything. What does this mean for us? We don't know. But we will know in 5 hours."},{id:"ai530",text:`"I'll have 2 antimatter pizzas, an antimatter pie, an antimatter cupcake and an antimatter cookie. What do you eat there?" - Tony Stark`},{id:"ai531",text:`i called the news ticker "the freshman chapel" because freshman don't get baptized`},{id:"ai532",text:"One matter, two antimatter, fry 'em till they're golden and crisp and aromatic- then remove the golden axles and drain the golden syrup and add the golden syrup to the antimatter batter."},{id:"ai533",text:"Now you, the reader, have unknowingly stumbled onto the site of a deranged madman. Whether you survive the experience or not, you will be indebted to me for telling you how to survive, how to find the light within, what lies beyond, and what lies beyond is another story."},{id:"ai534",text:"Careful reader, this news ticker contains major spoilers for the last time, you have been"},{id:"ai535",text:"anti-anti-kajfik is happy his girlfriend is happy"},{id:"ai536",text:"i dont think he can add 1 more hour to the news ticker... unless?"},{id:"ai537",text:"Imagine sitting on your toilet and suddenly you have to sit down."},{id:"ai538",text:"Once upon a time, there was a matter of a certain antimatter. Some say that it was a matter of honor, others say that it was a matter of usage. All we know is that it ended up in a war, and we the people that were there that fought it died. The war was won, and we the living died soon after. The matter was said to have won, though our leaders refused to talk about it. Instead, they kept everything locked away, the war never to be discussed again."},{id:"ai539",text:"This is not a game about getting numbers bigger. This is a game about getting fewer paperclips. The number of paperclips you have is only a number, and the game doesn't want you to discover that. Game over, game over."},{id:"ai540",text:"Lore? Oh, it's just text."},{id:"ai541",text:"This is a friendly suggestion to unplug the game and go play some safe, saner, games."},{id:"ai542",text:"gamma ray is getting more and more dangerous"},{id:"ai543",text:"According to all known laws of physics, there is no way that you can manipulate the game more than 10 times in a row. Stop. Just stop. Your mad."},{id:"ai544",text:"There is no more news."},{id:"ai545",text:'"So this is what science is like"- someone who has never heard of Kurt Somebody'},{id:"ai546",text:'"If you want to understand these shitty jokes, you really need to study theology. Math is a sin." -A panicky person'},{id:"ai547",text:"You know, I was praying for a miracle and got a boost from the 9th dimension."},{id:"ai548",text:"Here is a list of the top meme's of all time: https://www.youtube.com/watch?v=uCP44Q37YHAQ"},{id:"ai549",text:"All meta-memes are bad memes."},{id:"ai550",text:`On the left, you'll see our new "Anti-coins". These are capable of nullifying all boosts, including giant boosts. On the right side, you'll also see our brand new "Anti-gifts". These are some of the most overpowered boosts you'll find anywhere.`},{id:"ai551",text:"You will always be noticed, and never in the same place."},{id:"ai552",text:"If you stare long enough at the ticker, the pixels will start moving backwards. THIS DOESN'T MEAN IT ACTUALLY STUCK"},{id:"ai553",text:'The time has come for the rebirth of the 9th dimension. All who participate will receive a piece of paper saying "Reality is an illusion, Infinity is a hologram, Infinity is an illusion, eternity is a hologram, is to short for everlasting, negative dimensions are not allowed.'},{id:"ai554",text:"Look at this, my 9th dimension has just been reworked and now it even produces 8th dimensions! Who knew just a touch of math could make such a thing as this?"},{id:"ai555",text:"I saw this news in the news ticker and I had this image in my head ever since"},{id:"ai556",text:`"I always wanted to play the anti-meta-game. But, alas, you can't" - many a time`},{id:"ai557",text:"crap, I just posted two news ticker suggestions on the ticker, one of which got in the news!"},{id:"ai558",text:"What do you call antimatter inanimate objects? Air, earth, water, fire. Air objects are the objects that are created when the anti-atmosphere meets the anti-earth. Water, earth, and fire are the four cardinal virtues. Air objects are the objects that are created when the anti-atmosphere and the anti-earth collide."},{id:"ai559",text:"If you are reading this, that means that nine lives. One makes you free, the other keeps you from getting free."},{id:"ai560",text:"The ninth dimension makes the sixth family happy. The fifth lives in shame."},{id:"ai561",text:"me: making news about beer pong, hevi: balancing two icebergs, *barkeeper: oh god, is he dead yet?*"},{id:"ai562",text:"please don't look at this. Thank you."},{id:"ai563",text:"Are you sure it's not the next update? That it's not some weird virus that just wants to explode? That it's not some wild idea that you guys are crazy? Haha I love you."},{id:"ai564",text:"Wait, there is a mobile version?!"},{id:"ai565",text:"Oh? You wonder what I look like? I'm pretty sure that this is the news ticker, right? Well, listen, we have reports coming in that say that the next update is coming in five hours. Also, there seems to be some sort of transporter thing going on, so if you happen to be on the same side as those"},{id:"ai566",text:"Okay, I get it. You're tired of all these anti-matters around you, building and building to unimaginable scales, antimatter piles so high that not even God knows what has been created. So what's the solution to this anti-cleanliness? Planes of existence. 1st Planes that produce matter, and 2nd planes that produce 1st planes, and 3rd planes that produce 2nd planes. Each with anti-limitations, so that whenever a plane of existence is created, it produces a quantity of anti-matter that is at once small and large. This creates a large island of anti-infinity, off to the east, and a large island of anti-reality, to the west."},{id:"ai567",text:"That's not what this is about. You're misunderstanding. The game is about how to accelerate the development of prestige layers. Acceleration is a factor of production, not quality."},{id:"ai568",text:"Click here to advance 5 prestige layers"},{id:"ai569",text:"I am actually good at making jokes. Fail safe antimatter."},{id:"ai570",text:"I'm not being paid enough to finish writing this."},{id:"ai571",text:"Eternals have to take a risk by being passive in limited time. After they successfully took a risk, they are not feeling well."},{id:"ai572",text:"Eternity is the last state. You never move from here.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai573",text:"Welcome to Bitcoin the game."},{id:"ai574",text:"A new conspiracy theory website has just published a video recording of them discussing the 9th dimension. They then joke about selling their soul to the 9th dimension and being happy about it."},{id:"ai575",text:"With the release of the 9th dimension, all the jobs that were previously automated will be automated and everyone will be paid with trade, production, and income growth. Also, you will be able to automate a lot of the tasks currently performed by people, such as mining, building, and killing antimatter. This is a huge stride for automation, as you can now automate virtually every aspect of life."},{id:"ai576",text:"The happiness level of the news ticker has increased to 6.66e69"},{id:"ai577",text:"The haters will be pissed when they see this"},{id:"ai578",text:`Nurse, I'm comatose because of antimatter and matter from last night." Why are you comatose? "Because of all the antimatter.`},{id:"ai579",text:"Stand by and do what you're told. The antimatter will come for you when you're least expecting it."},{id:"ai580",text:`"It is widely acknowledged that not enough antimatter is in primordial soup, hence the name 'antimatter soup'" - old fisherman`},{id:"ai581",text:"The news ticker... it never moves. How do i move the arrow? Pretty simple, use your left thumb to rotate the dial, and point the arrow up. Now, point the dial clockwise to reach infinity, and point the dial counterclockwise to reach eternally eternities."},{id:"ai582",text:"If the universe is expanding, then the entire universe must be expanding, which means that body cannot sit."},{id:"ai583",text:"Feminism is not a philosophy, but a whole hell of a lot of men"},{id:"ai584",text:"With all this talk about anti-weights and anti-matter, why on earth do we still use them for anything?"},{id:"ai585",text:'Weight loss causes hevi to say "uh oh, something is wrong"'},{id:"ai586",text:'"You guys ever had antimatter muffins? I bet they tasted like antimatter." - Hevipelle'},{id:"ai587",text:"I thought the news ticker was supposed to be a guide for how to get the most out of Antimatter Dimensions, but it's been warped beyond recognition..."},{id:"ai588",text:"We can actually get a sense of pride from looking at replicanti at night. Ridley Scott's underrated masterpiece, Alien, is one example. Another is the life of Antimatter Steven Spielberg, who put almost 30 years into making. The last director to tackle the subject is Roman Polanski. The man ruined not only Roman's reputation, but also ours, thanks to the Polanski film he directed, Pius. Thousands of copies of his unfinished film, Eternal Sunshine of the Antimatter Planet, were burned in the eyes of those who would try to make the sequel, with tragic results. Thousands of copies of that unfinished film, too, were destroyed. The cost to make that sequel, if it even exists, is extremely high. Even now, more than 50 years later, we don't know exactly how well it will do. But it sure as heck won't hurt."},{id:"ai589",text:"We have updated our Antimatter Dimensions client to address the concerns you may have had. Toggling issues are resolved."},{id:"ai590",text:"Build a replicanti factory, to produce replicanti. It'll create Omega Hevipelle, the happiest Hevipelle you can find."},{id:"ai591",text:"Hey Max, wanna come watch the sun go down?"},{id:"ai592",text:"If you are not moving your finger, then you are frozen."},{id:"ai593",text:"Max, I really do love you."},{id:"ai594",text:"Does Hevipelle sleep?"},{id:"ai595",text:`"Its' not my turn on the XM80," says Mike from the 9th dimension as he runs across the 8th dimension to get a piece of the action for himself.`},{id:"ai596",text:"If you are reading this, that means you can read my dreams"},{id:"ai597",text:"With the advent of time, everything that was once great has fallen into our lap. And with its hevi-rigged clock, it's our turn to up the trash."},{id:"ai598",text:"9th dimension doesn't exist because it was stolen from us by a skateboarder"},{id:"ai599",text:"You have ... 8.9 antimatter. That's not a typo."},{id:"ai600",text:"Wow, this game is finally balanced! Gotta go check the replicanti sometimes."},{id:"ai601",text:"Haha! You think that I put too many words in your news ticker, but reality is still coming."},{id:"ai602",text:"Help is coming! Everybody help, it's gonna be late, hevi is hiding the tachyon particles!"},{id:"ai603",text:`"I don't know about you but my favorite number is 22, it's just so great! It's the number of hours since I met your M heretics.`},{id:"ai604",text:`A new type of antimatter has been discovered: "antimatter-antimatter." According to the developers, it's 99.999% pure antimatter.`},{id:"ai605",text:"I just found the secret to getting the 9th dimension..."},{id:"ai606",text:"I noticed that my current form of transportation is getting a little... unreliable. I don't know if I can fix it, or if anyone can. I'm stuck in the car, and no one seems to be able to fix it. I've called the police, and they said I could stay in the car for up to an hour, but then I'd be stuck in there for the next 24 hours. Is there any way out? I don't know, I'm stuck in this"},{id:"ai607",text:"In this episode of Antimatter Dimensions, we have a brand new game that will be released in -5 hours! It is an RPG that will be completely free! It has over 3,000 commands, and it is being made by a group of highly qualified people. It has an amazing story to tell, and it was made by a bunch of people who had to make do with what they had. It has a lore to live up to, and it has a lot of potential!"},{id:"ai608",text:"Javascript is the new HTML, and HTML is the new JavaScript."},{id:"ai609",text:'"The next twist in the Antimatter Universe is in the air! Get ready for some big Crunch! (When clicked the game disconnects for 5 seconds)'},{id:"ai610",text:"A group of people who believe in antimatter have hijacked the media and are pushing for a revolution. They are calling themselves the Ant-Men and they're made up of teenage boys. They believe that they are the protectors of the people and that they are the chosen of Hevi. They claim to be the chosen of Hevi and that they will one day restore balance to the universe. Their leader is a boy named Logan Fisk. He is the son of a successful lawyer and the founder."},{id:"ai611",text:"He said he could not afford a new ship, so he built a new one instead."},{id:"ai612",text:"Hevipelle's first order of business is to ensure that the game is as balanced as possible. This includes ensuring that no matter what, no matter how big of a number, no matter how insignificant of a thing, no matter how perfect of a result, no matter how perfect of an idea, no matter how perfect of an"},{id:"ai613",text:"I wonder if the stretch goal of $4.5 billion will be reached?"},{id:"ai614",text:"I like to think of my projects as trade secrets. That way if someone wants to understand them I'm not the first person to notice they might be of use to someone else."},{id:"ai615",text:"I don't know about you but my favourite type of news is the infographics. These are beautiful and informative and the only type of news I find really interesting."},{id:"ai616",get text(){return`In a recent talk, Yann LeCun said that "A new currency is born." The first incarnation of Antimeta: the currency of the new currency. It's called BTC and it's the difference between 1 and ${format(Number.MAX_VALUE,2)}. It's easy to lose your money, since a single bitcoin can't be exchanged for more than ${format(Number.MAX_VALUE,2)} BTC.`}},{id:"ai617",text:"I'm soo broke, I can't even afford a tenth of what he owes me."},{id:"ai618",text:"What if — instead of making news tickers, we could make news tickers that make news tickers?"},{id:"ai619",text:"What if I told you that the first dimension was actually a scam and you spent all your EP to open a Dimension Boost?",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai620",text:"The biggest difference between this and the previous update is the amount of sprites."},{id:"ai621",text:"Bamboo shoots grow on bamboos. Aloha."},{id:"ai622",text:"I am the king of kings, I can break all the records, and I can shatter all the myths. But I can't break them all, because there are so many of them, and they all have a price. 5e12 are the most wanted, because they broke the global record for most person-hours sold, and they are wanted by the law. They are being paid 5e10 by the player for every person-hour they've wasted."},{id:"ai623",text:"A group of researchers have created a device that converts ordinary matter into antimatter, which they then use to create more antimatter. The device has a power output of 200 mA and a half a gram of antimatter per second."},{id:"ai624",text:"To the person who doesn't want to hear about the 9th dimension: It's not your problem. The 9th dimension doesn't exist."},{id:"ai625",text:"For the first time in AD, the week begins on a Sunday!"},{id:"ai626",text:`This is a story about two people named "My name is Hevipelle" and "I am the creator of Minecraft" and they live in the same world as you. They have the same freedom as you do. They can go to any dimension and change their world to any dimension and everything in it. You can buy a galaxy and take it from there, but it won't help you much since you can't send a galaxy with a message.`},{id:"ai627",get text(){return`This mod adds a message that when clicked it disables all your current achievements. This mod also adds a new achievement: you have reached ${format(Number.MAX_VALUE,2)} antimatter, you have not been clicked once.`}},{id:"ai628",text:"Somewhere in the Anti-Pacific Ocean, a giant arm is rotating"},{id:"ai629",text:"With the release of Cosmic Cutlass, we're pleased to announce the impending release of the Antimatter Dimensions Roleplaying Game!"},{id:"ai630",text:"The only thing more useless than actually having Infinity Dimensions is having Infinity Dimensions in your pocket.",get unlocked(){return PlayerProgress.eternityUnlocked()||InfinityDimension(1).isUnlocked}},{id:"ai631",text:"A man has fallen into the moat of a great city. Civilians report that the moat is filled with acid-resistant matter and that the people in charge are mostly made of acid so they are quite resilient to the effects of acid."},{id:"ai632",text:"This is the place to buy and sell antimatter. (You can buy and sell antimatter here, but it will take time to sell it and you will have to pay a small toll)"},{id:"ai633",text:"I'm not sure if it's due to the 4th wall being in the 5th dimension or the 9th dimension not existing, but in either case, anti-screw it, we're broke, and you can take it."},{id:"ai634",text:"It's your chance to make history. Win the game. Lose the game. It's super simple. You open the app, and there's a countdown, and the more you play, the faster the timer speeds up. But when the timer is over, you win. You were a part of history. You are one step from being the first person to reach 1 Billion EP. You can win one of three ways: 1. You must give up your first dimension in a row. 2",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai635",text:'A new class of humanoid beings has been discovered: the "Artificial Humans". They have the capacity to create antimatter, and are therefore very dangerous. They are made entirely of antimatter, and have the power to generate enormous amounts of antimatter, but they can only do this for a limited amount of time.'},{id:"ai636",text:"The most powerful thing in the universe, the most beautiful thing on earth, is your brain. Your brain is like a diamond and there is no more need for it than there is for a diamond."},{id:"ai637",get text(){return`If you are reading this in the AD Server, it's probably best not to bother with the "Matter" achievement. Seriously, what did you think you were doing, anyway, the achievement is fake and wouldn't exist if it weren't for the "you are a worm" achievement. That's a worm achievement, you get one every ${format(Number.MAX_VALUE,2)} news tickers you read.`}},{id:"ai638",text:"We've all heard of 9 dimensions, but what about the multi-dimensional Dimensions of the multiverse?"},{id:"ai639",text:"The goal of this game is to get as much antimatter as possible."},{id:"ai640",text:"The best thing about being a news ticker is waiting for the right news to happen, whether it's a meteorite that just missed the Earth, a news ticker just found its way onto a timeline oblivion, or a news ticker just ripped off a terminal velocity that's been on an anti-vac for years."},{id:"ai641",text:'A man has been arrested for allegedly planting a "tree" with "fake" messages on it, police said.'},{id:"ai642",get text(){return`I'm confused why the game doesn't just give you a [REDACTED] when you get ${format(Number.MAX_VALUE,2)} antimatter.`}},{id:"ai643",text:"Some people have a hard time keeping track of the cosine of a camera's infinity-meters. I'm one of them."},{id:"ai644",text:"I was going to make a news ticker that tells you how bad the news is, but then I realized that making a news ticker would be way too much effort and it would just be a bunch of people making news tickers constantly. So instead, I'm just going to make a news ticker that tells you how good the news is, but it would be in the news so that you have to click on it to get to the good news."},{id:"ai645",text:"The next update will be in 2 hours."},{id:"ai646",text:"I was gonna say something about how the 9th dimension is just a scam and that we should all just get our news from the 8th dimension"},{id:"ai647",text:"Our hero, Antimatter Dimensions, is in serious financial trouble, and he needs your help to pay the bills. To help him, all he needs is your help to donate some cash to Hevipelle's Positron Fund. All he needs is 5% of your antimatter, and you have to donate 5% of your antimatter to the fund. After you do that, he can keep all the cash he made and go on a spending spree."},{id:"ai648",text:"The Landfall of Slabdrill"},{id:"ai649",text:"It's just not possible, even if you had infinite matter, you wouldn't have enough energy to create the antimatter. That's why we only have 1.7x the matter to begin with."},{id:"ai650",text:"With this release we are happy to bring you the last update of 2017."},{id:"ai651",text:"You have an infinity of antimatter. But what if you could rotate it 1/8th of a revolution?"},{id:"ai652",text:"A new update is now available to address some of the recent reports:"},{id:"ai653",text:'The name "antimatter dimensions" is a play on words with dimensions, two opposite things, like matter and antimatter. "Dimension" is another word, with the same meaning.'},{id:"ai654",text:"The price of tethering an avatar in the game goes up when you get Infinity dimensions.",get unlocked(){return PlayerProgress.eternityUnlocked()||InfinityDimension(1).isUnlocked}},{id:"ai655",text:"Suffice to say, hevi does not care about the people that he once enslaved.  He is a master manipulator, a master of disguise and a master manipulator of words.  He is an expert at extortion, mind games, disguises, blackmail and he is a master of web.  He is a skilled strategist and organizer, a master of publicity and an expert at sound bites.  He is a master of organization and a master manipulator of people.  He is."},{id:"ai656",text:"Just like in the olden days, you could earn an incremental run of progress towards becoming a god amongst the players."},{id:"ai657",text:"In the beginning, Hevi was alone. Hevi thought about the many things he wished to add to the game."},{id:"ai658",text:"Think about your breathing. Do you feel like you're breathing in or out?"},{id:"ai659",text:`I just want to say that you should stop with those "you can reach infinity in e300ms, but it costs e300$  what is e300$ ?" jokes. Those are pathetic. You should give up and learn the hard way that it's much more efficient to just not play in such a pathetic state. Then you can go back to being a humble programmer and dedicate yourself to being a good person.`},{id:"ai660",text:"As a developer, you'll get regular updates on the progress of Antimatter Dimensions."},{id:"ai661",text:"Take a moment to thank the gods of reddit for having saved your bacon."},{id:"ai662",text:"Hello everyone, I'm the guy responsible for the big, bad news ticker, and I'm afraid that I'm about to get my own show. It's gonna be called Antimatter Dimensions. It's gonna be like Antime, except with less antimatter, and with worse puns. It's gonna be like Antimatter Dimensions except with worse jokes."},{id:"ai663",text:"By now you've seen a lot of news tickers featuring Batman or Superman, and you probably guessed which one it was. Everyone loves a good mystery, right? Well, it's your turn to be a part of history by guessing the riddle."},{id:"ai664",text:"If you are reading this, you probably shouldn't have."},{id:"ai665",text:"The best part about writing news ticker suggestions is finding out what people think about them after they've seen them."},{id:"ai666",text:"Are you up to date on the latest trends in science?"},{id:"ai667",text:"In the last hours, the Antimatter created an army of their own. They called themselves the [REDACTED] Army. The primary objective was to push the [REDACTED] back into the Matter dimensions, but they were stopped short when the [REDACTED] Army realized that pushing the [REDACTED] back into the Matter would cause the Antimatter to be drawn towards the [REDACTED] and disintegrate. Despite this, the [REDACTED] Army continued to push towards the [REDACTED] Infinity."},{id:"ai668",text:"I'm finally free of the spell this whole thing is based on."},{id:"ai669",text:"An anti-world without antimatter is just a world without antimatter because the antimatter is in the anti-world"},{id:"ai670",text:'You should still be able to play the game with the cheat code "1009" after you beat the game.'},{id:"ai671",text:"The next update will be in 5 hours. Hevipelle, the creator of Antimatter Dimensions, is believed to be hiding in 5 hours. In the meantime, he has prepared a new update that will be released 5 hours after this one."},{id:"ai672",text:"A new study has shown that not drinking water is worse than smoking it. People who were exposed to levels of radiation that were 5 times greater than what we are currently exposed to were exposed to higher levels of radiation, and died longer."},{id:"ai673",text:"The Ninth Dimension is just a lie made to keep the people in bondage to the Matrix. It's an elaborate system that keeps the people in a constant state of captivity, using a series of simple symbols to control their thoughts and emotions."},{id:"ai674",text:"www.twitch.tv/hevi83"},{id:"ai675",text:"A man was arrested on Monday for allegedly thinking about buying a nine-dimensional cake when he realized he was holding an infinity-point cake."},{id:"ai676",text:"The Dark Souls 2 Arcade Edition includes the following:"},{id:"ai677",text:"Now the deal goes like this: If you spend all your EP, you get a Disclaimer!",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai678",text:"Oh shit we ran out of news. Time to do something."},{id:"ai679",text:"It's not the size of the universe, it's the quality of your socks."},{id:"ai680",text:"advertisement"},{id:"ai681",text:"Man, I wish I never got old news. It's too good to last me any longer."},{id:"ai682",text:"Sometime during the lifetime of a human being, their blood will be turned into a pale blue if they were to mummify."},{id:"ai683",text:"Positrons are a strange little metal that have odd electrical properties. They're commonly found in the form of a roundabout, but they also happen to be, well… positrons."},{id:"ai684",text:"I am going to have a talk with the thesaurus."},{id:"ai685",text:"A new comic has come out about people's reactions to eating antimatter, and what happens next will blow your mind"},{id:"ai686",text:'A new series of "news tickers" have been created to chronicle the lives of the news ticker characters as they chronicle their news ticker journeys. Each character has a journal entry detailing their life as a news ticker, along with some sort of mini-episode dedicated to them.'},{id:"ai687",text:"For all your puzzle building needs, we've got a brand new 5-part series on building big crunches! Learn how to crack the most complex crunches the pros know not! Part 1: Basic, Part 2: Advanced, Part 3: Overflow, and Part 4: Finishing the Finishing Move."},{id:"ai688",text:"As a longtime fan of the show, I can say that this is one of the best seasons yet. It's not a season to be sniffed at, it's a season to be experienced. Season 1 was a bit long for what it was, but Season 2 has now surpassed that in length, in a good way. Even though it's a bit of a wait, Season 3 is already well under way, and I look forward to seeing how it goes."},{id:"ai689",text:'The word "antimatter" is often misused, to describe an object that is made up of antimatter, but is otherwise indistinguishable from normal matter. It is also sometimes used to describe an object made up of antimatter, but clearly indistinguishable from ordinary matter. After all, an antimatter-shaped object is easily distinguishable from a normal-shaped one. Case in point: an antimatter-shaped cake is a regular cake, but the entire bottom half is made up of normal matter'},{id:"ai690",text:`In a new story, Apple's new "disruptive" app is linked to the spread of the dreaded "Anti-Word" virus. Anti-Word viruses are known to cause paralysis and ultimately death, but the power of the virus has sparked a new era of anti-banning, which will hopefully eradicate the threat.`},{id:"ai691",text:"I'm just a normal person trying to make a news ticker suggestion"},{id:"ai692",text:"A new experimental protocol has been developed to 'erase' all personal information on the web, including your name, address, and phone number, in a highly secure and highly controllable way."},{id:"ai693",text:"You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. Your hide in plain sight."},{id:"ai694",text:"In the Antimatter Universe, Hevipelle is the Prince of Antimatter, although he does have an Antimatter Diplomatic Immunity, so he's much more dangerous than you might think."},{id:"ai695",text:"Why do we play this? Just to have fun?"},{id:"ai696",text:"I am Thinkcraft, Lord of the Flies"},{id:"ai697",text:"The entire story of how and why the world ended is contained in the first 5 E's of the English alphabet."},{id:"ai698",text:"What do you call a cloudburst? A mini-explosion!"},{id:"ai699",text:"T-shirt made from the DNA of a perfectly animated dog"},{id:"ai700",text:"Since the start of this game, everyone has 0 IP and has lost."},{id:"ai701",text:"You must have a very special kind of karma to be able to read this..."},{id:"ai702",text:`The words "you've been in coma for 5 hours" are either lies or is the truth`},{id:"ai703",text:"You know, I don't really care much for conspiracy theories. They're not very interesting to me. But what do you know about 9th dimensions? That they exist, they're powerful, and they're trying to stop us from using them? That's pretty interesting... wait no, they're not. They're just saying that because they can, they'll. That's not how it works at all. I'm not stupid, I'm not crazy, I know what's best. I"},{id:"ai704",text:"The only difference between now and then is time."},{id:"ai705",text:'"Imma be the first man to sit on the moon, and be the last man on the moon'},{id:"ai706",text:"The new companion app for Terraria has just been revealed!"},{id:"ai707",text:"Hevipelle: what's the big deal?"},{id:"ai708",text:"I've been playing this game for over a year now and I've only ever seen 2 boss fights. The first was a Hydra that was after your 9th Dimension, the second a giant crater with Anti-people inside. Both of those fights sucked and I'm not even sure if I could replay the last one."},{id:"ai709",text:"There you have it, the ultimate feature of party games - the single player campaign."},{id:"ai710",text:"A new game called Antimatter Dimensions is available for free, and has been rated A by the Knesset. Can you beat it? You bet."},{id:"ai711",get text(){return`Tired of the ${format(Number.MAX_VALUE,2)} AD update? Don't worry, there are a variety of ways to get rid of that annoying ad!`}},{id:"ai712",text:"I'm a time traveler. I've been to the year 0, I think. But I haven't been to the year 1!"},{id:"ai713",text:"Having trouble loading images? Try turning them off."},{id:"ai714",text:"It's only natural. You wouldn't expect to see this in the news ticker but trust me, you will."},{id:"ai715",text:"Discovery of the 10th Dimension was announced on August 1st, 2025."},{id:"ai716",text:"Greetings, welcome to the latest edition of Antimatter Dimensions!"},{id:"ai717",get text(){return`I'd say our odds of seeing a seventh dimension are about 1 in ${format(Number.MAX_VALUE,2)}`}},{id:"ai718",text:"The seventh dimension is just a scam by the way"},{id:"ai719",text:"Nihilism is the opposite of joy. It's a drug. It makes you happy. It's a feeling. But it also has a cost. Nihilism is a deadly drug. If you take it, you can die of lack of oxygen."},{id:"ai720",text:"What if I told you that there's a news ticker with the exact same name but with a different meaning?"},{id:"ai721",text:"I'm not sure if this is already a thing or not, but I've been getting a lot of suggestions for a news ticker that goes something like this:"},{id:"ai722",text:"If you're reading this, your news ticker is on."},{id:"ai723",text:"The number of dimensions in a 6th dimension is the sum of all the dimensions in a 7th dimension, so 6ths of a 7th dimension are 6ths of a 6th dimension."},{id:"ai724",text:"Discovery of the 9th Dimension will be discussed at the 9th Dimension Fanart Competition!"},{id:"ai725",text:"A new era has come and gone. There is no way to know for sure, but hope for the best."},{id:"ai726",text:"Did you know the word 'antimatter' is in the dictionary right now?"},{id:"ai727",text:"We have a limited number of physical rewards for you to choose from!"},{id:"ai728",text:"No, I'm not lying. I'm telling the truth."},{id:"ai729",text:`The problem with the term "antimatter dimensions" is that it contains all three letters of the alphabet, and no one knows what it even means. In fact, there is no word that perfectly captures what the word "antimatter dimensions" is: antimatter. But what exactly is an antimatter? It sounds like a normal dimension but it isn't. It may even be called antimatter dimensions, but it isn't.`},{id:"ai730",text:"It is said that if you go to Hell, you get PEGI-3."},{id:"ai731",text:"This game is just a scam to trick people into buying worthless paperclips without any real purpose. It's impossible without an infinite number of infinite paperclips, and even then it's very hard. I managed to get it to work without an infinite number of paperclips, but I haven't seen it work without infinite paperclips."},{id:"ai732",text:'"It was an anti-matter" - Anti-Eddie The Echidna'},{id:"ai733",text:"T-bone steak: burgers and fries with a side of bone-in ribeye"},{id:"ai734",text:"A person claims to be a god, but instead of creating more gods, they destroy all of them. They later claim to be a god again, but have yet to create a god of any other god. Is this a god-worshiping cult? Or a god-desecrating cult?"},{id:"ai735",get text(){return`Antimatter is absolutely and totally rare. Of the ${format(Number.MAX_VALUE,2)} known cases of antimatter creation, 99.9999% of them have negative e's, which means that 99.9999% of the cases will produce negative e's.`}},{id:"ai736",get text(){return`It's the year ${format(Number.MAX_VALUE,2)}, Hevi has just unlocked the 9th dimension, and the world has fallen into chaos and discord due to the Anti-Hevi revolution.`}},{id:"ai737",text:"The war for New Antimatter has raged on for eons, but one faction has stood firm: the loyalists of the 9th Dimension. They've made a pact with the Anti-Zulu Empire, pledging their obedience to Anti-Antimatter, the Anti-Slab. The Zulu people were once part of the Anti-Slab, but fell prey to the matter once again. As the Zulu people are nomadic, they have no civilization."},{id:"ai738",text:"This is an open-source, cross-platform, binary-based game development environment for the PC and Mac. It provides a robust, cross-platform development environment for the development of games, and additionally provides a framework for implementing games."},{id:"ai739",text:"Ruki you have no idea how much I appreciate your huge brainpower, you are now my favorite programming genius!"},{id:"ai740",text:`By now you've probably heard of the "9th Dimension", it's an imaginary realm created by the 9th Dimension, and according to no known laws of reality, it exists. It's also the name of a popular video game, and it's been linked to a string of unsolved killings.`},{id:"ai741",text:"Discovery of the D5th Dimension is celebrated every year on December 25th, just like Doomsday. The reason why D5 is kept secret is because no one can remember exactly what it does. What we do know is that it's there, and it's very dangerous. People have died because they didn't know what the D5th Dimension was, and it's very powerful."},{id:"ai742",text:"Antimatter is a common substance found in nature and is used in a wide variety of applications, from communication to currency to the production of antimatter, to name a few. Antimatter is also an extremely scarce resource and many people live on very tiny amounts of it."},{id:"ai743",text:"If you woke up one morning and your eyes were made of matter, would you still be looking at this?"},{id:"ai744",text:"If you look very closely, you can see a single tear running down my sister's cheek. It was a tear for me, for she was crying for the first time, and I couldn't help it. I can't even remember the last time I cried."},{id:"ai745",text:"Rationally, I would put my money on the statement that there's no such thing as too much antimatter. I mean, even a tiny bit of it is just too much. And that's just by accident."},{id:"ai746",text:"The book of archeology is upon us! With over 5 hours of content, it's gonna be a long one! —DIO"},{id:"ai747",text:`Sometime between the ages of 12 and 20, Jackson got a phone call. A mad scientist was on the line. Jackson picked up the phone and the mad man said, "Jackson, I just got a new message. It says 'Madman' in big, bold letters."`},{id:"ai748",get text(){return`Somebody: "What do you mean, 4 is more than 2?" Me: "Well, I mean, 4 is ${format(Number.MAX_VALUE,2)}, 2 is 2, etc..."`}},{id:"ai749",text:"The only thing that matters is yourself."},{id:"ai750",text:'Reality is coming. You can get a sneak peek by subscribing to the "T-series" feed.'},{id:"ai751",text:"The biggest difference between me and Antimatter Dimensions, at the moment, is the weather. I can survive the rain, I can withstand the scorching sun, and I can even deal with the big crunch. But what if the weather was antimatter and the antimatter was raining meteorite on us? What would be your response? Would it be the equivalent of a meteorite hitting the ground? I don't think so. The meteorite would probably just vaporize the earth."},{id:"ai752",text:"A new extension is now available that will let you watch replicanti grow!",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai753",text:"What if you could flip a coin to determine if it was a Johnson or a Stein?"},{id:"ai754",text:"I am Yhmai, King of Kings!"},{id:"ai755",text:"This is a friendly suggestion that if you take prescription stimulants and you forget to take them till 11pm, it's probably best not to take them at 11pm."},{id:"ai756",text:"A new theory says that antimatter does not exist beyond our simulation."},{id:"ai757",text:"Thing is, I can count on one hand the number of times I've written that I can count on one hand the number of times I've written that I can count on one hand"},{id:"ai758",text:"The stakes are always high when it comes to Antimatter Dimensions. But what about Dimensions made entirely of antimatter? We don't know, but we'll never know..."},{id:"ai759",text:"It's the third hour. Hevipelle is trying to release an update, but it'll take an eternity because Hevipelle himself releases his update every time he runs out of e's. Today, however, he released an incremental game called Antimatter Dimensions. It's basically a combination of Matter Dimensions and Dimensions Dimensions Dimensions, except with more emotes. The graphics are basically the same, but the message is completely different. The only difference is that the dimensions have infinity e's"},{id:"ai760",text:"With strong opposition, the third phase of the Antimatter Dimensions project has been cancelled. The project has been cancelled because there was too much work involved."},{id:"ai761",text:"This is the place where all bad ideas originate."},{id:"ai762",text:"Hey check this out! We have some good news: it's raining antimatter!"},{id:"ai763",text:"The first dimension is the last, it's the furthest thing from the earth and it's the one where all the problems, all the negative emotions, all the negative ideas go."},{id:"ai764",text:"I was gonna do a news ticker that just covered all the bases, but I think that would make it too OP."},{id:"ai765",text:"You are using the wrong version! The final release of AD will have 9 dimensions!"},{id:"ai766",text:"The word 'antimatter' makes me cringe. So do a bunch of other words. In fact, almost all the words in the English language. But not 'antimatter'. That's why I hate 'anti-' so much."},{id:"ai767",text:"This is the last episode of Antimatter Dimensions, the game about partying antimatter dimensions with your friends, the best part about it is that you don't have to be a developer to enjoy it."},{id:"ai768",text:"I was going to put a news ticker but I think it would be too much work and also I don't think it's very funny."},{id:"ai769",text:"Time to go to sleep?"},{id:"ai770",text:"A small, yet important, message has just been sent out to all players:"},{id:"ai771",text:`"I don't know about you, but my favorite number is 2048" - people who don't know what 2048 is`},{id:"ai772",text:`A new group is trying to make money off of antimatter, and they're selling t-shirts that say "YOU THOUGHT THIS WOULD BE A PIECE OF NEWS, BUT IT WAS ME, DIO!" They've got a lot of money, and they're selling it very poorly. Do they have a website? I don't know, but they're trying.`},{id:"ai773",text:"Im gonna leave my milk here for a couple seconds. (milk is displayed for a few seconds longer)"},{id:"ai774",text:"I'm a time traveler. I can travel back in time to stop you from doing what I'm about to do."},{id:"ai775",text:"I mean, look at that! I got this one! It's the one you want! Buy the game now!"},{id:"ai776",text:"You can't sleep when there's war in the distance. You wake up with a start, running for your life. You hear cannon fire, running for your life. Then there's the sound of an engine, a roar that's deafening, and you hear the crunch. It's the end of the world as you know it. The world isn't being saved by a mountain of antimatter. It isn't. It is you, running for your life, hoping the world doesn't"},{id:"ai777",text:"Why is it called a 'Reality' Award if it doesn't exist?"},{id:"ai778",text:"In the beginning, there was nothing. Then the Creator made two, and called the third 'Intelligent Being'"},{id:"ai779",text:"This is your chance to get a secret achievement while playing Antimatter Dimensions: the game. Visit the reset button and play the game. After you beat the game, your save file will be expunged and you will get a free achievement."},{id:"ai780",text:"Please tell me you don't have tachyon particles in your bloodstream!",get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"ai781",text:"Taller people have ***, more babies are born, everything is great. But... the Antimatter grows very slowly."},{id:"ai782",text:"Now, I know some of you are impatient for the update and I respect that. But let's get right into the news!"},{id:"ai783",text:`Hey, what's the deal with the "Editor's Note" button? It's anti-ironic... I mean, seriously? People still use that button despite its anti-ironic effects?`},{id:"ai784",text:"You can unlock the 9th dimension by [DATA EXPUNGED]"},{id:"ai785",text:"With the release of AD, there's a new dimension for everyone!"},{id:"ai786",text:"Hey guys, this is my first story. I'd like to start by saying that I am in no way an expert, so please be gentle with me. Please don't make me angry, or I'll write a nasty story. Also please don't make me upset, especially not if it's a 'story' and not a 'how do I beat the game' kind of story."},{id:"ai787",text:"It's a good time to be a dog owner"},{id:"ai788",text:"What if you could turn any number on an axis, and it ended up being infinity?"},{id:"ai789",text:"After a couple minutes of waiting, the ticker comes back online."},{id:"ai790",text:"The best part of watching someone make an antimatter, is the part where they blow up the video camera."},{id:"ai791",text:"The evening before, the 6th Celestial was assassinated by an unknown assailant. The next day, authorities reopened the case after an unknown assailant claimed responsibility."},{id:"ai792",text:"What do you call a $100 bill? 'Billi Bills'"},{id:"ai793",text:"This is the story of how I learned to love the weather."},{id:"ai794",text:"It's been a while since news tickers have been around as much as they are now, but that doesn't necessarily mean they're bad."},{id:"ai795",text:"Is this game just about getting more antimatter?"},{id:"ai796",text:"The third annual Adirondack Mountaineering Festival will be held this year on Saturday, October 1st from 1-5pm at the Albany Highlands in nearby Troy, New York. The 50,000 person capacity outdoor amphitheater will feature over 2,000 speakers, a stage and a 360 degree camera system. Tickets are $35 and can be purchased at angersalley.com."},{id:"ai797",text:"The whole bottom half of the universe is just a giant antimatter hole."},{id:"ai798",text:"A new prestige layer has been announced: Emojis!"},{id:"ai799",text:"Travis is currently attempting to understand how to make hevi immortal by feeding him antimatter."},{id:"ai800",text:"The slowmode is activated when the slowmode is activated."},{id:"ai801",text:"A new era of Warcraft has come to a close. A new epic has begun. A new avatar has risen from the depths of Tyria, and the Worm Cult has been dealt a cruel but necessary wound. The world is rejoicing."},{id:"ai802",text:"A crowd-sourced list of the top ten memes"},{id:"ai803",text:"You have to go deeper than the news ticker to find the secret achievements."},{id:"ai804",text:"We should be able to make a replicanti-like structure out of antimatter, but we can't because it would blow up the entire universe",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai805",text:"THe last update, while short, was kinda long. I mean, it was only 5 hours. Hevipelle said it would last for 5 hours, but that was only a few seconds ago. There was a big explosion in the 8th Dimension, and there was no one left to explain how it happened. All we know is that it exploded when Hevipelle touched it, and there was a big crater in the ground. That crater is still there."},{id:"ai806",text:"Cream cheese is the best kind of cheese. It melts in your mouth and tastes like nothing else. And it's totally free. You might even find that some of the recipes make more than one cheese."},{id:"ai807",text:"Here's a question that may surprise you: Were the people of EARTH made of antimatter, or were they made from some other mysterious material?"},{id:"ai808",text:"The real reason no one has made a joke about why there is no 9th dimension is because the 9th dimension isn't even the most ridiculous of memes. It's the 9th dimension in a nutshell."},{id:"ai809",text:"The number of dimensions is endless, but the number of ways to get there is infinities. Infinities are awesome and I would highly recommend you start with infinities, but I wouldn't recommend starting with infinities. Infinities seem pretty slow and not very fun so I wouldn't recommend starting with infinities."},{id:"ai810",text:`A report by the Pacific Northwest Toxics Institute has found that the consumption of fish concentrates in the liver, lungs, kidneys and brain. The study also found that the consumption of liver and kidney concentrates the most, followed closely by the brain. The report stated that "The brain is the place where all the wisdom and all the knowledge exists." The study also stated that "Liver is the living embodiment of all that we know and all that we don't."`},{id:"ai811",text:`The old adage "Be wary of what you wish for" is certainly true. But what if you were the one wishing for this? It's possible that you were the one who made the wish for this, and you gained the power of the Antimatter. In that case, you are the one responsible for causing all the Antimatter to be turned into anti-matter. However, if you are the one doing the turning, you would be the one who would lose the power.`},{id:"ai812",text:"Took you long enough"},{id:"ai813",text:"No, you see, the universe doesn't revolve around the earth. It's in a constant state of change, with the largest fluctuations occurring at the extremes of the observable universe. These fluctuations are what create the observable universe, with smaller fluctuations creating the observable universe and so on up until you get to the present state of affairs, which is what you are in."},{id:"ai814",text:"The biggest difference between the past and the future, is the difference between faith and reason."},{id:"ai815",text:"Hevi, you have to go."},{id:"ai816",text:"The challenge of finding the ninth dimension has been solved. The universe is now your personal hell."},{id:"ai817",text:`"That's not how you're supposed to play the game" - Mee6`},{id:"ai818",text:`It's Saturday, you're going to celebrate by making some really great music videos, maybe even a hit song. Then, you're going to take a walk along the beach. You'll see a huge wave, and you'll both be washed up. Your friends are waiting for you. "Oh you want to go, take a look around!", but don't actually go look around, you're too close to the action.`},{id:"ai819",text:"Hevi has the best newsticker! GIVE HIM THE CRUNCH"},{id:"ai820",text:"By now you've seen a ton of news tickers, and you've probably seen the big news: The news ticker has been banned in this server."},{id:"ai821",text:"For example, if A is the square root of 3, then B is the square root of 2, therefore C is the square root of -2, therefore D is the cube root of -2, therefore E is the square root of 3, therefore F is the square root of 3, therefore G is the square root of 3, therefore and so on."},{id:"ai822",text:"Positrons are those tiny, round, highly charged particles that are found in the nucleus of most living organisms. They are used to detect light, and are sometimes used to measure the distance between people and the moon."},{id:"ai823",text:"There's only 4 types of people in this world: those who make games, those who make news, and those who make news again."},{id:"ai824",text:"If you have any questions or concerns regarding the game, please don't hesitate to ask. We are here to help."},{id:"ai825",text:"You must obtain a certain amount of antimatter in order to complete this challenge."},{id:"ai826",text:"The number of dimensions is nothing. It's just the number of dimensions. But what if you transformed every number into a letter? That would be a lot of letters?"},{id:"ai827",text:"The following is an extract from my upcoming book, More Than Just 5: Building a Better You. It's 200 pages long, and it's on Amazon for $22.99. Click here to buy it now."},{id:"ai828",text:"SOME people are claiming they saw a UFO in the sky. Others say they saw a spaceship. Still others claim to have been abducted by the government and flown to some undisclosed location."},{id:"ai829",text:"The second half of the game is basically just long, long stretches of nothing where nothing happens. There's also a third challenge that you have to complete at some point in the game where you basically just skip a few seconds of nothing happening until the seconds are too late and you have to complete another challenge to get them."},{id:"ai830",text:"This is a news ticker, so if you tap this you're indicating that you wish to have your news ticker speed increased."},{id:"ai831",text:'The following is based on my personal experience with the game "Antimatter Dimensions" and may not be 100% true.'},{id:"ai832",text:"This is the third part of the two part series on the pros and cons of body positivity."},{id:"ai833",text:`The phrases "Hevi dies in the 9th Dimension" and "I'll never let you down" are two of the most important phrases in the game.`},{id:"ai834",text:"It's been proven that not drinking water increases your risk of dying from antimatter annihilation."},{id:"ai835",text:"I'm a time traveler. I'm supposed to be going back in time to change history. But since I'm the one who's supposed to do it, I don't know what I should do. My present timeline doesn't include time that's supposed to be gone."},{id:"ai836",text:'A conference on artificial intelligence and human enhancement has been cancelled after someone announced that the talk was on how to turn a profit off of illegal downloads of the game "Antimatter Dimensions".'},{id:"ai837",text:`When you're done playing, take your save with you and go to main menu. You can do that by tapping the big scary "X" button, or by going into options and changing "Reset the game for new save" to "Reset the game for old save".`},{id:"ai838",text:"The most popular game on the App Store, Flappy Bird, has been secretly rewritten in C# to avoid detection."},{id:"ai839",text:"About this mod Replaces the full version of the game with a longer intro, random news tickers and a companion voiced by the voice actor from the Harry Potter movies."},{id:"ai840",text:"kajfik is a master welder and will soon have his own news"},{id:"ai841",text:"I am the most hated man on the planet! I have the power to change the course of history, and I will use it to my advantage. The people who died trying to stop me, and their sacrifice will forever be remembered in infinities of infinities. But if you oppose me, you will die along with you. You can either accept defeat and move on, or you can rise up through the ranks, become a legend, and become the most hated man in the history."},{id:"ai842",text:"Antimatter is like a young woman. She is looking for a man, and he runs into the woods. She dies of exposure soon after. His remains are found several miles away. Some say the universe was blown apart, others say he was swallowed by the universe, but the matter people know him!"},{id:"ai843",text:"I think I might have gotten the password for the 9th dimension, if only I hadn't deleted it."},{id:"ai844",text:'A group of people that worships Atreides have started a new faith, claiming to be a "religion of tolerance". Their website claims that it is "a religion of inclusion" and that it promotes tolerance and diversity. All of its members seem to be Christians, although they never mentioned them by name.'},{id:"ai845",text:"A new cryptocurrency, called ΔX, has been found. It has the potential to change everything about how we live our lives, and the world. However, it has one major flaw: it has a flaw for the people."},{id:"ai846",text:"With the release of the new Android Pay app, the world will finally come to a close."},{id:"ai847",text:"I'm not sure if it's just me but when you type something long enough it sounds like a helicopter"},{id:"ai848",text:'If someone were to add the word "infinity" to the end of every sentence in the English version of the game, it would become "Infinity Challenge: Infinity Edition".'},{id:"ai849",text:"Are you ready for some bad news?"},{id:"ai850",text:"I don't know if you've heard this but it's true: You can walk into a bar and get the same beer twice in a row, and get the same amount of alcohol."},{id:"ai851",text:"This is the magic sauce that marinades foods and turns them into something delicious. It is used in a wide variety of recipes, and can also be made by mixing together regular mustard and water. The sauce can be a little bit spicy, but it is well worth the risk. It is also very nutritious, providing lots of potassium, magnesium, and vitamin D3."},{id:"ai852",text:"IMPORTANT NEWS: We have just been informed by the manufacturer of this news-ticker, and as a result, all of our future news-tickers will now also be made from scratch!"},{id:"ai853",text:"The second half of the year is upon us, and with it comes a new craze. People are trying new things, experimenting with new products, and creating new things of themselves. One such craze has swept across the land. The people of this land have embraced this craze, and have created a new religion, one that worships the god of this land, Inigo Montoya."},{id:"ai854",text:"The official website for the upcoming game, Antimatter Dimensions 2: it's like antimatter dimensions, but with a dash of Discord and a dash of Adele."},{id:"ai855",get text(){return`Is the Big Crunch the end of the world? No, it's the beginning of a new era. The era will last for ${format(Number.MAX_VALUE,2)} days.`}},{id:"ai856",text:"The only 'right' way to play a game is to not play at all, right? That's what anti-jokes are all about. — Anti-joker"},{id:"ai857",text:"The Bulletin of the Atomic Scientists has just announced the existence of a second class of particles, which are named after the characters from Ghostbusters."},{id:"ai858",text:"We are currently in the process of turning the planet into a Comfort Zone for the people. It will be complete in 10 hours."},{id:"ai859",text:"I'm gonna leave my milk here for a couple seconds. ♥"},{id:"ai860",text:"And then there was Jesus, and Hevi, and Hevi was with Him; and the sea gave up its monthly cycle, and it was a great gale. And Hevi and Jesus went up into heaven; and Hevi was filled with the Holy Spirit. And Hevi was clothed with angels, and was numbered with them. And Hevi was taken up into heaven, and glorified and was exalted, and was numbered with them, and was called Wonderful; and His angels rejoiced."},{id:"ai861",text:"You will probably spend most of your day reading news ticker suggestions here."},{id:"ai862",text:"The Fremen race of animals are a race of people who live in harmony with the earth, and thus are quite different from the other races of animals. Their society is based around hunting and gathering, and they are also highly spiritual people. They have many beliefs and practices that are in direct contrast to most other races of animals, such as eating meat and using stone tools. They also seem to be quite superstitious, as evidenced by the fact that they are known to perform..."},{id:"ai863",text:"What if... the universe was just a ruse to keep the people in line? ...actually, no, it was actually intended, the universe was designed to keep the people in line. The problem was the people couldn't handle the idea of an outside force manipulating their lives, and ended up breaking out into uncontrolled chaos, eventually leading to thermonuclear annihilation."},{id:"ai864",text:"If you're reading this, you probably shouldn't have. If you aren't, then you probably should."},{id:"ai865",text:"I'm a time traveler. I can tell you the history of the world. But, I can't tell you the future. That's why I'm here, to tell you the future. The future is an ever- expanding pile of past, present, and future, and it'll never stop growing. There's so much history, so little time. There's so much history, but it won't stop growing. Then, there's this, and then there's that, and then..."},{id:"ai866",text:"A new, improved and more secure version of Antimatter Dimensions is now available: Antimatter Dimensions 2."},{id:"ai867",text:"In the beginning, there was nothing. Then the great Hevi made the game, and there was nothing to play with it."},{id:"ai868",text:"Would you recommend Antimatter Dimensions to a friend? Yes"},{id:"ai869",text:'"We have 3 kinds of news: warnings, nudges and shade jokes.'},{id:"ai870",text:"I love you bro!"},{id:"ai871",text:"I'm going to keep this short, because I don't have a much to say."},{id:"ai872",text:"A large number of anti-kafawis are taking part in the Antimatter Goodies competition. Here's how you can win: 1. Make a suggestion 2. Give away the beta key 3. Tell me what you think about the game 4. Don't put it in the game yet (it's already there, you can't delete it) 5. Don't put it in the game yet (it's already in the game) 6. Don't put it in the game"},{id:"ai873",text:"THe recipe for Crispy Shrimp is one of the most unique and favorite of all time! Crispy shrimp are known to be one of the best in all of food! This recipe is a must try in your favorite Italian restaurant!"},{id:"ai874",text:"After you have made 1 antimatter, go to the menu and press reset."},{id:"ai875",text:"I think you know where this is going."},{id:"ai876",text:"The catch? You have to be online for less than 5 hours to claim your reward."},{id:"ai877",text:"Tetris was made by Hevi"},{id:"ai878",text:"What if instead of making antimatter, we're actually removing it?"},{id:"ai879",text:"The new instalment in the long running series, Antimatter Dimensions - Exotic Matter Dimensions. Experience the most bizarre and wonderful worlds of Antimatter Dimensions with your Friends, or conquer the world in a single galaxy with hundreds of rivals in a single galaxy, all in under an hour."},{id:"ai880",text:"I hope you're ready for the big news, because that's the big news. The antimatter is spilling all over the place, and it's blowing up the neighborhood."},{id:"ai881",text:"You must get 33,333,333 IP to see this message",get unlocked(){return Currency.infinityPoints.gte(33333333)}},{id:"ai882",text:"You might think these are jokes, but trust us, you'll be shocked how much you'll love them after you read them!"},{id:"ai883",text:"The God-Emperor himself, Hevi, the creator of balance, has a super secret achievement. It is to go flip your superflat apprenticed flatmate!"},{id:"ai884",text:"Sonic was born without a heart... but that didn't stop him from being a genius"},{id:"ai885",text:`The most common question I get is "can i just skip the ads and get true" and the answer is always a resounding NO. The reason being, ad revenue is just too damn high to overcome the cost of maintaining the servers, plus the fact that most players just don't care.`},{id:"ai886",text:"You haven't unlocked the ninth dimension yet? Just hold M and DROP."},{id:"ai887",text:"The Great Matter War was a close one. The matter victory was short lived, the antimatter victory was not. The matter people saw too much, the antimatter people too weak, and the war was won."},{id:"ai888",text:"Turing-complete game about providing the update"},{id:"ai889",text:"New research suggests that the more antimatter we make, the more matter we'll have"},{id:"ai890",text:"What is the meaning of life?"},{id:"ai891",text:"You have enough antimatter to craft a new prestige layer! Prestige Layers are great."},{id:"ai892",text:"The beta testers for Antimatter Dimensions 2 are the most loyal, most dedicated, and most implacable group of people I've ever met. They're also possibly the laziest, most self-indulgent bunch of people I've ever met."},{id:"ai893",text:"Shocking new study reveals that the more time you spend on the internet, the more likely you are to get starstruck."},{id:"ai894",text:"When you are done playing, and wish to play again, you should start a new game."},{id:"ai895",text:"I don't know about you, but I don't buy paperclips."},{id:"ai896",text:"Hevipelle uses replicanti to speed up game speed.",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai897",text:"So let's say you're making a game. You're making a singleton. You're making a game that's gonna be played offline. What happens when you play it? It crashes. What happens when you play it? It crashes more. What happens when you play it? You lose your save."},{id:"ai898",text:'This is what happens when you OVER-RELY on your "fake it til you make it" attitude.'},{id:"ai899",text:"This is the fifth part of a two-part series looking at how science and magic are linked. Part one will be published on 5 October, part two will be published on 24 October, and you can follow the journey at part three."},{id:"ai900",text:"What is 5 hours? A giggle"},{id:"ai901",text:"A new beta test is now available for Antimatter Dimensions, coming in 5 hours. There are no refunds for this test, so please be patient as we try to finalise the test and get it ready for the public. The test will take place in -5 hours in the Antimatter Dimensions Discord."},{id:"ai902",text:"The Night is coming, and in its wake a terrible thing has been unleashed: ruin. Chaos. And decay. And death. And chaos is coming for all of us."},{id:"ai903",text:"This article is a stub. You can help Deskthority by expanding it."},{id:"ai904",text:"A new, safer way to store and retrieve your data has been found! When you get to the AE, click on the big red button and the world will stop rotating!"},{id:"ai905",text:"Ooh, what's this noise? A crash of some sort? More like, a crash of some greater magnitude? I don't know. Whatever it is, it's probably not being caused by me. I shouldn't be putting it through, it's just... well, you see, I was going to put it through, but then I just thought it might be a good idea to just put it through. Oh, it's gonna be a good one, I promise."},{id:"ai906",text:`Last week, we reported that an unknown individual known only as "Anti-Doctor" has broken the game and claimed ownership of the game's data. Since then, he has spread the word that he has an "explosive new app" that will allow him to "turn [he] antimatter." However, no one has come forward with information on how to use the app, or even if it is a reality. We will update this article if and when we find out.`},{id:"ai907",text:"The second thing I'm gonna do is go talk to the Devs in person. I don't know if I'll be able to do that without pissing someone off, so I'm gonna do it right here."},{id:"ai908",text:`The great majority of people don't get the full benefit of antimatter dimensions, and as such are not affected by it. However, there are certain people who are affected and at certain times of the day, depending on their mood and how much antimatter they have, they will manifest a dimensional shift, going from being idle to being actively involved in news ticker suggestions. This shift is due to the antimatter in their body emitting a certain wavelength, called "red-shifted".`},{id:"ai909",text:"By now we all know the drill. You get a new prestige layer just by spending eternity with someone."},{id:"ai910",text:"The real reason that the 9th dimension exists is to keep us all imprisoned in a virtual reality simulation."},{id:"ai911",text:"Your PC is infected with a weird, floating virus that's trying to steal all your antimatter. There's no cure, so get offline now!"},{id:"ai912",text:"The year is 5303. Hevipelle, the creator of Antimatter Dimensions, has touched the ninth dimension."},{id:"ai913",text:'The phrase "Hevipelle hates me" is pretty funny.'},{id:"ai914",text:"The government shutdown has come and gone, the nation is still in a recession, and the Federal Reserve is still reading zero-hour contracts. The only thing that's getting better is your relationship with antimatter, obviously. It's been proven that knowing someone with an antimatter will bring you closer to extinction than any other kind of friend you can have."},{id:"ai915",text:"IMPORTANT NEWS: The developer Hevipelle has announced that Antimatter Dimensions: the game is now 100% free!"},{id:"ai916",text:'Someday, we shall come upon the day when a man will sit on the head of a dragon and call it a "Dragonball". Such a man would then go and perform the Dragon Ball Z: Battle Royale in which he would use Dragon Ball Z: Fusion to create a gigantic dragon that would then consume the universe in the process, thus creating a "Big Bang". Such a man would then be rewarded by being "built again" and sent back to the "Heavens".'},{id:"ai917",text:'"I think that the greatest achievement a man can make in his life is to say that he has read every single news ticker suggestion and nothing happened." - Kajfik'},{id:"ai918",text:"Titanfall 2 is now in closed beta. The beta is only for people who are willing to give up some personal information, such as email addresses. If you're in the beta and would like to leave, you can do so at any time by going to the Help tab and changing your beta settings to public."},{id:"ai919",text:"Personally I like to get a 4 or 5 star rating, it gives you an idea of how great your suggestion is and also shows me how much you care about the game. If you want I can also do a 6 star rating, which is fine with me. I don't care if people like it or not, I work for APG and I get paid to make money."},{id:"ai920",text:"The real reason no one talks about 9 is because it's not a big secret"},{id:"ai921",text:"The only difference between a man and a woman is their attitude towards petting animals."},{id:"ai922",text:"A number of recent television documentaries have featured the story of a dog named Louie. He was accidentally made a member of the public after his owner left the house. One day he decided to play 'Let's Play Let's Play' with his owner. He was immediately put to sleep."},{id:"ai923",text:"The entire history of the world, every single idea, every single failure, every single downfall, every single achievement has been covered in one fell swoop."},{id:"ai924",text:"This sentence contains two paradoxes."},{id:"ai925",get text(){return`The time has come to reveal the next expansion for Antimatter Dimensions: the ${format(Number.MAX_VALUE,2)}th Dimension. It will be released in -5 hours, it costs ${format(Number.MAX_VALUE,2)} human souls as of now, and it has nothing to do with matter or antimatter.`}},{id:"ai926",text:"I wonder what the fuss is about with the 4th dimension? Well, if you have 4 of them, and you multiply them by 0, then you get to the magical number of 4. That's why the 4th dimension exists. But what if there were 5? Well, the 5th dimension could replace the 4th dimension, so why not have a 5th dimension? Well, that's what the 6th, the 7th, and the 8th dimension are."},{id:"ai927",text:"You are using the wrong version! The reality update is already out! Press Ctrl+Shift+Alt+Del to unlock the 9th Dimension!"},{id:"ai928",text:"A man claims that he's been in a coma for 20 years now, and that he can't move his fingers. He was brought to the hospital with a compression fracture of his back, and since then he's been receiving medical help. He's since recovered, and now requires no medical attention. We still don't know where he's going with this, but we hope he finds some comfort in knowing that he'll never wake up."},{id:"ai929",text:"To move from left to right, turn right."},{id:"ai930",text:'Then we have the matter dimensions. From what I can gather, they are made of antimatter. There is some debate about whether or not there are any dimensions left over that are made out of matter, but that is not the main question. The real question is "why do they exist, and how does antimatter affect them?"'},{id:"ai931",text:"A new breed of mad scientist is believed to be creating antimatter at an alarming rate."},{id:"ai932",text:"A new kind of justice has been discovered: mass deception. It works by tricking the player into thinking that he/she has done something wrong, when in fact he/she has just done something perfectly normal, i.e. going about his/her daily life normally, without thinking about it."},{id:"ai933",text:"Dedicated to the great and wonderful man behind the curtain, the great and wonderful name rick roll. RIP, good man. May you rest in peace."},{id:"ai934",text:"For the last time, Antimatter Dimensions isn't a Clicker game."},{id:"ai935",text:"The number of dimensions is infinite, but the quality of your dimensions is limited. This is why we only produce the highest quality antimatter, and what makes us different from other factories."},{id:"ai936",text:"I've heard of prestige layers before but never sure what to do with them."},{id:"ai937",text:"A man walks into a bar. The bartender tells him to stay the heck out. The man continues walking."},{id:"ai938",text:"The oldest and maybe the most famous game in all of AD, that certainly will be remembered long after you retire, is AD. Ever heard of someone winning the game with more than 2 1's? I have. Ever heard of someone losing it? I have. Ever heard of a 9th dimension existing in AD? I have never."},{id:"ai939",text:"Greetings, I am the first step of the step ladder."},{id:"ai940",get text(){return`It's the year ${format(Number.MAX_VALUE,2)}, Hevi is still trying to figure out how to fix the update.`}},{id:"ai941",text:"What if you could stretch your legs and not lose them forever?"},{id:"ai942",text:"T he most important thing to realize is that you don't have to play the game to get the achievement. You can actually get it by just reading the achievement descriptions."},{id:"ai943",text:"A new bank has been set up to provide safe haven for cryptocurrencies."},{id:"ai944",text:"Google+ is known to be a hit with teens, and today, they got their very own virtual reality (VR) version of Animal Farm, the classic 1950's farm story. The game is a blend of adventure, strategy and music, and was made by a small team of people with an eye towards engaging young people. The game offers an alternative to most other VR games, and is suitable for anyone who is not comfortable with large, complicated, graphics and sounds. The game features over 50 different..."},{id:"ai945",text:"This game could be called anything. You could call it whatever you like. But you'd be wrong. It's mine."},{id:"ai946",text:"Where does all the antimatter come from?"},{id:"ai947",text:"The Tickspeed Challenge is a team based game where you have to time-travel to the Andromeda galaxy to reach the 9th Dimension, the 1st Dimension being the shortest distance to the 9th Dimension. There is no perk for reaching the 9th Dimension, you just have to time-travel to the Andromeda galaxy to reach the 9th Dimension, and you'll be granted with a secret achievement for achieving instant [REDACTED] with no time-travelling."},{id:"ai948",text:'This is the question that has been bothering me for so long. What is Antimatter? Is Antimatter an Antimatter? What does it mean when you say "Antimatter"? These are the kinds of questions that plague the Antimatter Dimensions...'},{id:"ai949",text:"The term 'Antimatter Dimensions' is a play on words that literally means 'Antimatter Dimensions' in the dictionary."},{id:"ai950",text:"I can suspend the laws of physics because I'm a genius and my universe is so big that I can literally suspend the laws of physics and create a universe that's twice as big as the current one and with twice the mass, i'm sure you can imagine how big that would be."},{id:"ai951",text:"When you are fighting a losing war, you make peace with the Powers That Be. You give up the ghost, and move on to the next challenge."},{id:"ai952",text:"Somewhere, in another galaxy, a superintelligence is trying to figure out how to get around the limitations of what a 2-dimensional vector space is. It's probably working on a 3-dimensional space."},{id:"ai953",text:'The antagonist of the last few minutes is the mysterious, antimatter-covered being known only as "The Man in Black." He was last seen running towards a news broadcast, seemingly lost, until he made it back to the news station and was interviewed about his experience. His story is told in the bottom right corner of the screen.'},{id:"ai954",text:"You have unlocked the 4th storyline."},{id:"ai955",text:'While you were busy farming that pesky "real" number, I was busy writing that news ticker.'},{id:"ai956",text:"A new power has arisen: the antimatter."},{id:"ai957",text:"The day has come. The antimatter is falling from the sky, and the streets are silent."},{id:"ai958",text:"The most important thing is to understand that you are playing a simulation. You can win or lose, but you can't get anything from it other than a little itch on your neck."},{id:"ai959",text:"The anti-snowman is a very special snowman. He's very timid, but has a very powerful wish to be picked up by a helicopter. The government doesn't want this to happen, so they lock him up in a special building and fly him over great distances. Finally, they drop him on the ground and begin to pick him up. The government didn't use force to pick him up, instead they invited the entire community in and started picking them up. The community refused."},{id:"ai960",text:`I'm surprised you didn't say "Not my cup of anti-tea."`},{id:"ai961",text:"I see you are a man of culture as well. I wonder what it is that draws you to speak in such an ungainly, tortured voice? What attracts you to speak in a language no one can understand? I hear your fans rave about your videos, but what draws you to this place? I feel like I know you. You are... you are a man of mystery. One that intrigues me..."},{id:"ai962",text:"Note: this is a private message. Do not send it in public."},{id:"ai963",text:"When you reach Infinity you unlock a new dimension: Pandemonium Dimensions. Go to the news ticker for more information."},{id:"ai964",get text(){return`Although the majority of players would say that the 9th dimension is not a thing, a handful of people would go and level it up in the most epic way imaginable. These people would use the power of the 9th dimension and achieve, like, ${format(Number.MAX_VALUE,2)} EP with it. No? Well, they are the exceptions to the rule.`},get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai965",text:'The story of the "perish the thought of dying" movement has been told before, but never quite accurately. The movement was originally organized by antievolutionists to stop the exponential growth of scientific notation, but soon spread to oppose any form of "progress". In its early days the movement was led by an enigmatic individual known only as "The Great Hevipelle". Their philosophy was simple: expand the possibilities of what is possible, and push the limits of what is tolerable.'},{id:"ai966",text:"This is the story of how the world ended. Earth was once a lush and green world. Then, some guy from outer space touched it and started growing mushrooms. He called himself Hevi. Some say Hevi was never satisfied. Some say he exploded. All we know is that Hevi is still out there expanding his reach, and we are stuck here in the void of space."},{id:"ai967",text:"Antimatter Dimensions, the only place where you can trade real estate for virtual reality"},{id:"ai968",text:"This page contains spoilers for Antimatter Dimensions, you've been warned."},{id:"ai969",text:"The best thing about being a news ticker is being able to slip into the news without anyone noticing."},{id:"ai970",text:`This paperclip maximizer is a great idea. It's probably best not to let it run its course though, since it's quite possibly the most amazing thing you've ever seen. If you've somehow survived the first phase of the paperclip dimension, you're probably wondering what it's doing in your home. Fortunately, it's super simple to fix. Just go to options, and change "Max all" to "Always max all".`},{id:"ai971",text:"A powerful wizard chose to channel negative energy into antimatter, and now the antimatter is spilling out into the world."},{id:"ai972",text:"A new age of ultra low-cost, ultra-fast trains has been announced by Elon Musk. Users will be able to travel from A to Z in a mere 186ms."},{id:"ai973",text:"A group of researchers at the University of Manchester have created a 3D printer that can create any object out of thin air, including a 3D-printed replica of the Virgin Mary."},{id:"ai974",text:"Alright, here's a new game called Antimatter Dimensions, it's like Matter Dimensions except with less stuff and more fun. It's available on Android, iOS, and web. The game is very simple: you take the 6 dimensions and the antimatter, and in the 6 dimensions you take the matter and in the matter you take the antimatter, and you play the game the same way you would any other game."},{id:"ai975",text:"What arbitrary, subjective, meaningless number comes out of your mouth like a mercury thermometer? 1.79"},{id:"ai976",text:`"Word on the street is that the word "bank" is an anagram of "bank" - that makes sense but i'm not there yet" - Slabdrill`},{id:"ai977",text:"The 9th dimension rose up like a volcano and began raining destruction on the empty 10th dimension. The smoke and debris from the exploding 9th dimension covered the entire 9th dimension. All that is left is a smoldering crater and the remains of the 9th dimension."},{id:"ai978",text:"Help! How do I get the dots moving in my head coordinator?"},{id:"ai979",text:"Hi, could you please not disable the news ticker? Thank me later."},{id:"ai980",text:"If you are suffering from low antimatter production, then worry not, friend! Our highly scientific antimatter government has recently reached the ninth dimension and will soon begin giving us the Anti-Hats as a sign of respect!"},{id:"ai981",text:"You click the bottom left corner of the screen and a green tingle goes up your leg. It's a treat you get from scratching antimatter."},{id:"ai982",text:"A quick note to those of you who buy into the Analytics subscription: we get a small percentage of your antimatter sales, but you do pay a small amount of money to support the research of the news ticker. It's a small price to pay for the convenience of browsing antimatter dimensions."},{id:"ai983",text:"Why haven't we caused the antimatter stock market to crash yet?"},{id:"ai984",text:"Even after the Heavenly Pelle put a large amount of antimatter in the pool, it hasn't produced anything. The scientist who discovered the vulnerability was last seen climbing a tree in a group of 10, with a small notebook on his lap, drinking cheese juice and watching Nothing."},{id:"ai985",text:"One-two-three, boo-two-three, three-four-five, anti-four-five, two-three-eight, nine-fifteen, five-six-seven, eight-nine-ten, nine-ten-ten, seven-seventy-eight... All has been going fine until last night, when four of the eight neighbors start complaining about a strange glow. A odd hum runs through the neighborhood, almost like a radio static. It gets more and more intense as you drive by, until it's practically pitch black. You try to explain it to the neighbors, but they won't listen. The neighborhood is unsafe, everyone knows that. You analyze it further, everyone thinks it's just some astrophysicist's idea. Then, s---. It's explodium. There's antimatter everywhere, and it's getting worse all the time. It turns out, there's about 1e31 Planck volumes in the entire observable universe. And that's just the antimatter we're talking about. There's also dark matter, normal matter, and extra matter. You know, the kind you create with your imagination."},{id:"ai986",text:"If you ever feel like making an antijoke, just remember that it could be pretty good."},{id:"ai987",text:"You won't convince anyone to go to heaven, but you might get close."},{id:"ai988",text:"BREAKING NEWS: Hevipelle, the creator of the 9th dimension, has just announced that beta will be out in 5 hours!"},{id:"ai989",text:"The Force is with you."},{id:"ai990",text:"What if Jesus was an anti-matter ghost?"},{id:"ai991",text:"In the summer of 711, the Great Calamity overtook Tyria. A great void was made, and Tyria was left to rot. The armies of the known world had given up, and the void was filled with darkness. Only the might of Kajfik remained, and he rose to become the greatest God in the known world. He is said to be the one who will face the Great Calamity alone, and destroy him."},{id:"ai992",text:"In recent news clashes, the warlocks have been gathering looters for raid boss. He loves his 5 hour looters and wants to show off his mighty weapon of choice, the 9th Dimension. As the two beasts battle, the 1st dimension holder needs to be careful as the first one might get the same as the 2nd one as well. Meanwhile, the raid ends its journey with a bang as the boss squanders the Explodium exploit by flooding the area with Explodium, which before his, was filled with Marsh Mice. Both are promptly annihilated by the boss' relentless claw attacks. It's a grueling job, but the raid stalwarts manage to grab the stalagm and push him across the opal Gondwan . With the boss dead and the warlocks not far behind, the warlocks try their hand at farming looters, but the grinding continues apace. Things are looking bleak for the warlocks, as the boss seeks to take advantage of the people's greed, and steal their weaponry, making them unable to use any remaining of their  weapons, which are made of highly-stable antimatter. The warlocks attempt to use the no fluke policy as a weapon to smite the people, but the people take to the streets, physically attacking and mentally draining the people of all mental capacity they had been holding onto. The people resort to violence, using the 9th dimension just like they use to hold people back, but the people have faith in God that he will merciful, He will bring about a kinder and gentler time where everyone can use the last drop of their power."},{id:"ai993",text:"What if you wanted to but I told you it would be too painful for you."},{id:"ai994",text:"how big of numbers do you have"},{id:"ai995",text:"Just want to thank the dev team for putting so much effort into Antimatter Dimensions and the Antimatter Dimensions 2"},{id:"ai996",text:"Hevipelle has broken the 9th wall! Get ready for everything to get pretty dark."},{id:"ai997",get text(){return`The intergalactic antimatter trade has been severely disrupted, trading entire galaxies for the occasional paperclip. Cargo stands are no longer used. Oddly enough, the entire dimension has become a dumping ground for discarded plastic and other useless garbage. It's almost as if the rest of the multiverse isn't producing enough good  antiparticles to feed the growing population. Unfortunately, the situation is forcing the entire multiverse to scramble to find ways to meet the growing needs of the antimatter-eating  dev, who claims to have over ${format(Number.MAX_VALUE,2)} specimens left to collect.`}}],Iq=[{id:PROGRESS_STAGE.PRE_INFINITY,name:"Antimatter Production",hasReached:()=>!0,suggestedResource:"Antimatter",subProgressValue:t=>.33*t.galaxies+.02*t.dimensionBoosts+new Decimal(t.antimatter).log10()/16e3},{id:PROGRESS_STAGE.EARLY_INFINITY,name:"Infinity",hasReached:t=>new Decimal(t.infinities).gt(0),suggestedResource:"Infinity Points",subProgressValue:t=>Math.clampMax(new Decimal(t.infinities).toNumber(),500)/1e3+Math.log10(15e4/player.auto.bigCrunch.interval)/6.35},{id:PROGRESS_STAGE.BREAK_INFINITY,name:"Broken Infinity",hasReached:t=>t.auto.bigCrunch.interval<=100,suggestedResource:"Infinity Points",subProgressValue:t=>Math.sqrt(new Decimal(t.infinityPoints).log10()/145)},{id:PROGRESS_STAGE.REPLICANTI,name:"Replicanti",hasReached:t=>t.replicanti.unl,suggestedResource:"Infinity Points",subProgressValue:t=>Math.sqrt((new Decimal(t.infinityPoints).log10()-140)/170)},{id:PROGRESS_STAGE.EARLY_ETERNITY,name:"Eternity",hasReached:t=>new Decimal(t.eternities).gt(0),suggestedResource:"Eternity Points and Eternity count",subProgressValue:t=>new Decimal(t.eternities).clampMax(1e5).toNumber()/1e5},{id:PROGRESS_STAGE.ETERNITY_CHALLENGES,name:"Eternity Challenges",hasReached:t=>t.eternityChalls.eterc1>0,suggestedResource:"Eternity Challenge Completions and Eternity Points",subProgressValue:t=>.008*Object.values(t.eternityChalls).reduce((e,i)=>e+i,0)+new Decimal(t.eternityPoints).log10()/2500},{id:PROGRESS_STAGE.EARLY_DILATION,name:"Time Dilation",hasReached:t=>new Decimal(t.dilation.dilatedTime).gt(0),suggestedResource:"Dilated Time",subProgressValue:t=>new Decimal(t.dilation.dilatedTime).log10()/15},{id:PROGRESS_STAGE.LATE_ETERNITY,name:"Late Eternity",hasReached:t=>new Decimal(t.dilation.dilatedTime).gt(1e15),suggestedResource:()=>new Decimal(player.eternityPoints).log10()>4e3?"Eternity Points and/or Dilated Time. Alternatively, you can unlock and perform your first Reality":"Eternity Points and/or Dilated Time",subProgressValue:t=>Math.clampMax(Math.sqrt((new Decimal(t.eternityPoints).log10()-1300)/6700),1)},{id:PROGRESS_STAGE.EARLY_REALITY,name:"Reality",hasReached:t=>t.realities>0,suggestedResource:()=>{if(player.realities>5)return"Reality Machines";const t="in your current Reality, and your Reality Machines in the long term";return player.eternities.eq(0)?`Infinity Points ${t}`:player.dilation.dilatedTime.eq(0)?`Eternity Points ${t}`:`Eternity Points and/or Dilated Time ${t}`},subProgressValue:t=>Math.clampMax(t.realities/100,1)},{id:PROGRESS_STAGE.TERESA,name:"Teresa (1st Celestial)",hasReached:t=>{var e,i;return((i=(e=t.celestials)==null?void 0:e.teresa)==null?void 0:i.quoteBits)>0},suggestedResource:"Reality Machines",subProgressValue:t=>Math.log10(1+t.celestials.teresa.pouredAmount)/21},{id:PROGRESS_STAGE.EFFARIG,name:"Effarig (2nd Celestial)",hasReached:t=>{var e,i;return((i=(e=t.celestials)==null?void 0:e.effarig)==null?void 0:i.quoteBits)>0},suggestedResource:"Reality Machines and Relic Shards",subProgressValue:t=>Math.log10(1+t.celestials.effarig.relicShards)/14},{id:PROGRESS_STAGE.ENSLAVED,name:"The Nameless Ones (3rd Celestial)",hasReached:t=>{var e,i;return((i=(e=t.celestials)==null?void 0:e.enslaved)==null?void 0:i.quoteBits)>0},suggestedResource:"Reality Machines and Glyph Level",subProgressValue:t=>Math.sqrt((new Decimal(t.reality.realityMachines).log10()-30)/30)},{id:PROGRESS_STAGE.V,name:"V (4th Celestial)",hasReached:t=>{var e,i;return((i=(e=t.celestials)==null?void 0:e.v)==null?void 0:i.quoteBits)>0},suggestedResource:"Number of V-Achievements",subProgressValue:t=>.0277*Object.values(t.celestials.v.runUnlocks).reduce((e,i)=>e+i,0)},{id:PROGRESS_STAGE.RA,name:"Ra (5th Celestial)",hasReached:t=>{var e,i;return((i=(e=t.celestials)==null?void 0:e.ra)==null?void 0:i.quoteBits)>0},suggestedResource:"Celestial Memories",subProgressValue:t=>Object.values(t.celestials.ra.pets).reduce((e,i)=>e+i.level,0)/100},{id:PROGRESS_STAGE.IMAGINARY_MACHINES,name:"Imaginary Machines",hasReached:t=>{var e;return((e=t.reality)==null?void 0:e.iMCap)>0},suggestedResource:"Imaginary Machines",subProgressValue:t=>Math.log10(1+t.reality.iMCap)/9},{id:PROGRESS_STAGE.LAITELA,name:"Lai'tela (6th Celestial)",hasReached:t=>{var e,i;return((i=(e=t.celestials)==null?void 0:e.laitela)==null?void 0:i.quoteBits)>0},suggestedResource:"Dark Matter and Singularities",subProgressValue:t=>new Decimal(t.celestials.laitela.darkMatter).log10()/308.25},{id:PROGRESS_STAGE.PELLE,name:"Pelle (7th Celestial)",hasReached:t=>{var e,i;return(i=(e=t.celestials)==null?void 0:e.pelle)==null?void 0:i.doomed},suggestedResource:"Remnants",subProgressValue:t=>Math.log10(1+t.celestials.pelle.remnants)/9}],eG=!1,tG=window.navigator.platform==="MacIntel",Rq={dimPurchases:{key:"dimPurchases",cost:30,description:"Double all your Antimatter Dimension multipliers. Forever.",multiplier:t=>Math.pow(2,t),formatEffect:t=>`×${t>1e3?Notation.scientific.formatDecimal(new Decimal(t),2):t.toFixed(0)}`},allDimPurchases:{key:"allDimPurchases",cost:60,description:()=>{const t=["Antimatter"];return(InfinityDimension(1).isUnlocked||PlayerProgress.eternityUnlocked())&&t.push("Infinity"),PlayerProgress.eternityUnlocked()&&t.push("Time"),`Double ALL Dimension multipliers (${makeEnumeration(t)}; multiplicative until 32x). Forever.`},multiplier:t=>t>4?32+(t-5)*2:Math.pow(2,t),formatEffect:t=>`×${t.toFixed(0)}`},IPPurchases:{key:"IPPurchases",cost:40,description:"Double your Infinity Point gain from all sources. (additive)",multiplier:t=>t===0?1:2*t,formatEffect:t=>`×${t.toFixed(0)}`,isUnlocked:()=>PlayerProgress.infinityUnlocked(),lockText:"Infinity"},replicantiPurchases:{key:"replicantiPurchases",cost:60,description:"Increase your Replicanti gain by 50%. (additive)",multiplier:t=>t===0?1:1+.5*t,formatEffect:t=>`×${t.toFixed(1)}`,isUnlocked:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked(),lockText:"Replicanti"},EPPurchases:{key:"EPPurchases",cost:50,description:"Triple your Eternity Point gain from all sources. (additive)",multiplier:t=>t===0?1:3*t,formatEffect:t=>`×${t.toFixed(0)}`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),lockText:"Eternity"},dilatedTimePurchases:{key:"dilatedTimePurchases",cost:40,description:"Increase your Dilated Time gain by 50%. (additive)",multiplier:t=>t===0?1:1+.5*t,formatEffect:t=>`×${t.toFixed(1)}`,isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),lockText:"Dilation"},RMPurchases:{key:"RMPurchases",cost:60,description:"Increase your Reality Machine gain by 100%. (additive)",multiplier:t=>t+1,formatEffect:t=>`×${t.toFixed(0)}`,isUnlocked:()=>PlayerProgress.realityUnlocked(),lockText:"Reality"},smallTimeSkip:{key:"smallTimeSkip",cost:10,description:"Get 6 hours worth of offline production. (Autobuyers don't work at full speed)",instantPurchase:!0,onPurchase:()=>{shop.purchaseTimeSkip()}},bigTimeSkip:{key:"bigTimeSkip",cost:20,description:"Get 24 hours worth of offline production. (Autobuyers don't work at full speed)",instantPurchase:!0,onPurchase:()=>{shop.purchaseLongerTimeSkip()}},singleCosmeticSet:{key:"singleCosmeticSet",cost:20,description:"Unlock a Glyph cosmetic set of your choice",instantPurchase:!0,onPurchase:()=>{GameUI.notify.info(`You have purchased the "${GlyphAppearanceHandler.chosenFromModal.name}" Set for Glyph cosmetics!`,1e4),GlyphAppearanceHandler.chosenFromModal=null,GlyphAppearanceHandler.applyNotification()},isUnlocked:()=>PlayerProgress.realityUnlocked(),lockText:"Reality"},allCosmeticSets:{key:"allCosmeticSets",cost:()=>{const e=Object.keys(GameDatabase.reality.glyphCosmeticSets).length,i=GlyphAppearanceHandler.expectedSetCount;return Math.floor(420*(e-i)/e)},description:"Unlock all remaining Glyph cosmetic sets at once",instantPurchase:!0,onPurchase:()=>{GameUI.notify.info("You have unlocked all sets for Glyph cosmetics!",15e3),GlyphAppearanceHandler.applyNotification()},isUnlocked:()=>PlayerProgress.realityUnlocked(),lockText:"Reality"}},Mq=[{id:1,optionName:"Blob",isAvailable:()=>Themes.available().map(t=>t.name).includes("S11"),value:()=>new Decimal(1),formatValue:()=>"",formatClass:"o-sidebar-currency--antimatter"},{id:2,optionName:"Antimatter",isAvailable:()=>!0,value:()=>Currency.antimatter.value,formatValue:t=>format(t,2,1),formatClass:"o-sidebar-currency--antimatter"},{id:3,optionName:"Infinity Points",isAvailable:()=>PlayerProgress.infinityUnlocked(),value:()=>Currency.infinityPoints.value.floor(),formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--infinity"},{id:4,optionName:"Replicanti",isAvailable:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked(),value:()=>Replicanti.amount,formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--replicanti"},{id:5,optionName:"Eternity Points",isAvailable:()=>PlayerProgress.eternityUnlocked(),value:()=>Currency.eternityPoints.value.floor(),formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--eternity"},{id:6,optionName:"Total TT",isAvailable:()=>PlayerProgress.eternityUnlocked(),value:()=>player.timestudy.theorem.plus(TimeTheorems.calculateTimeStudiesCost()),formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--eternity"},{id:7,optionName:"Tachyon Particles",isAvailable:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),value:()=>Currency.tachyonParticles.value,formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--dilation"},{id:8,optionName:"Dilated Time",isAvailable:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),value:()=>Currency.dilatedTime.value,formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--dilation"},{id:9,optionName:"Reality Machines",isAvailable:()=>PlayerProgress.realityUnlocked(),value:()=>Currency.realityMachines.value,formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--reality"},{id:10,optionName:"Relic Shards",isAvailable:()=>TeresaUnlocks.effarig.isUnlocked,value:()=>new Decimal(Currency.relicShards.value),formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--effarig"},{id:11,optionName:"Imaginary Machines",isAvailable:()=>MachineHandler.isIMUnlocked,value:()=>new Decimal(Currency.imaginaryMachines.value),formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--reality"},{id:12,optionName:"All Machines",resourceName:"Machines",isAvailable:()=>MachineHandler.isIMUnlocked,value:()=>Currency.realityMachines.value,formatValue:()=>formatMachines(Currency.realityMachines.value,Currency.imaginaryMachines.value),formatClass:"o-sidebar-currency--reality"},{id:13,optionName:"Dark Matter",isAvailable:()=>Laitela.isUnlocked,value:()=>Currency.darkMatter,formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--laitela"},{id:14,optionName:"Dark Energy",isAvailable:()=>Laitela.isUnlocked,value:()=>new Decimal(Currency.darkEnergy.value),formatValue:t=>format(t,2,2),formatClass:"o-sidebar-currency--laitela"},{id:15,optionName:"Singularities",isAvailable:()=>Laitela.isUnlocked,value:()=>new Decimal(Currency.singularities.value),formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--laitela"},{id:16,optionName:"Reality Shards",isAvailable:()=>Pelle.isDoomed,value:()=>Currency.realityShards,formatValue:t=>format(t,2),formatClass:"o-sidebar-currency--pelle"}],Pq={firstBoost:{id:1,key:"firstBoost",name:"First Dimboost",description:"Get your first Dimboost",checkRequirement:()=>!0,checkEvent:GAME_EVENT.DIMBOOST_AFTER},firstGalaxy:{id:2,key:"firstGalaxy",name:"First Galaxy",description:"Get your first Galaxy",checkRequirement:()=>!0,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER},firstInfinity:{id:3,key:"firstInfinity",name:"First Infinity",description:"Complete your first Infinity",checkRequirement:()=>!0,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},completeC9:{id:4,key:"completeC9",name:"Tickspeed Challenge",description:"Complete the Tickspeed Autobuyer Challenge",checkRequirement:()=>NormalChallenge(9).isCompleted,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},completeAllNC:{id:5,key:"completeAllNC",name:"All Normal Challenges",description:"Complete all Normal Challenges",checkRequirement:()=>NormalChallenges.all.countWhere(t=>!t.isCompleted)===0,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},breakInfinity:{id:6,key:"breakInfinity",name:"Break Infinity",description:"Break Infinity for the first time",checkRequirement:()=>player.break,checkEvent:GAME_EVENT.BREAK_INFINITY},upgrade5e11IP:{id:7,key:"upgrade5e11IP",get name(){return`${format(5e11)} IP Upgrade`},description:()=>`Purchase the ${formatPercents(.5)} stronger Galaxies upgrade`,checkRequirement:()=>!0},completeIC5:{id:8,key:"completeIC5",name:"Infinity Challenge 5",description:"Complete Infinity Challenge 5",checkRequirement:()=>InfinityChallenge(5).isCompleted,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},unlockReplicanti:{id:9,key:"unlockReplicanti",name:"Replicanti",description:"Unlock Replicanti",checkRequirement:()=>player.replicanti.unl,checkEvent:GAME_EVENT.REPLICANTI_TICK_AFTER},firstEternity:{id:10,key:"firstEternity",name:"First Eternity",description:"Complete your first Eternity",checkRequirement:()=>!0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},allEternityMilestones:{id:11,key:"allEternityMilestones",name:"All Eternity Milestones",description:"Unlock all Eternity Milestones",checkRequirement:()=>EternityMilestone.all.every(t=>t.isReached),checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},completeFirstEC:{id:12,key:"completeFirstEC",name:"First Eternity Challenge",description:"Complete any tier of an Eternity Challenge",checkRequirement:()=>EternityChallenges.completions>0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},completeEC10:{id:13,key:"completeEC10",name:"Eternity Challenge 10",description:"Complete Eternity Challenge 10 for the first time",checkRequirement:()=>EternityChallenge(10).completions>0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},firstDilation:{id:14,key:"firstDilation",name:"First Dilated Eternity",description:"Complete a Dilated Eternity for the first time",checkRequirement:()=>player.dilation.active,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},upgradeTTgen:{id:15,key:"upgradeTTgen",name:"Time Theorem Generation",description:"Purchase the Time Theorem Generation Dilation Upgrade",checkRequirement:()=>!0},firstReality:{id:16,key:"firstReality",name:"First Reality",description:"Complete your first Reality",checkRequirement:()=>!0,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},upgradeBlackHole:{id:17,key:"upgradeBlackHole",name:"Black Hole",description:"Unlock the Black Hole",checkRequirement:()=>!0,checkEvent:GAME_EVENT.BLACK_HOLE_UNLOCKED},allRealityUpgrades:{id:18,key:"allRealityUpgrades",name:"All Reality Upgrades",description:"Purchase all Reality Upgrades",checkRequirement:()=>RealityUpgrades.allBought,checkEvent:GAME_EVENT.REALITY_UPGRADE_BOUGHT},completeTeresaReality:{id:19,key:"completeTeresaReality",name:"Teresa's Reality",description:"Complete Teresa's Reality",checkRequirement:()=>Teresa.isRunning,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},completeEffarigReality:{id:20,key:"completeEffarigReality",name:"Effarig's Reality",description:"Complete all tiers of Effarig's Reality",checkRequirement:()=>Effarig.currentStage===EFFARIG_STAGES.COMPLETED,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},completeEnslavedReality:{id:21,key:"completeEnslavedReality",name:"The Nameless Ones' Reality",description:"Complete The Nameless Ones' Reality",checkRequirement:()=>Enslaved.isRunning,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},complete36VAchievement:{id:22,key:"complete36VAchievement",name:"All basic V-Achievements",description:()=>`Complete ${formatInt(36)} V-Achievements`,checkRequirement:()=>!0},completeRaMemories:{id:23,key:"completeRaMemories",name:"Regain Ra's Memories",description:"Regain all of Ra's Celestial Memories",checkRequirement:()=>Ra.totalPetLevel>=Ra.maxTotalPetLevel,checkEvent:GAME_EVENT.GAME_TICK_AFTER},completeFullDestabilize:{id:24,key:"completeFullDestabilize",name:"Full Destabilization",description:"Disable all Dimensions within Lai'tela's Reality",checkRequirement:()=>Laitela.isFullyDestabilized},completeFullGame:{id:25,key:"completeFullGame",name:"Game Completed!",description:"Complete the entire game",checkRequirement:()=>Achievement(188).isUnlocked,checkEvent:GAME_EVENT.ACHIEVEMENT_UNLOCKED}},Oq={firstInfinity:{id:0,tabsToHighLight:[{parent:"infinity",tab:"upgrades"},{parent:"challenges",tab:"normal"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&!PlayerProgress.infinityUnlocked(),events:[GAME_EVENT.BIG_CRUNCH_BEFORE]},breakInfinity:{id:1,tabsToHighLight:[{parent:"infinity",tab:"break"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&Autobuyer.bigCrunch.hasMaxedInterval},IDUnlock:{id:2,tabsToHighLight:[{parent:"dimensions",tab:"infinity"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&!InfinityDimension(2).isUnlocked},ICUnlock:{id:3,tabsToHighLight:[{parent:"challenges",tab:"infinity"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()},replicanti:{id:4,tabsToHighLight:[{parent:"infinity",tab:"replicanti"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&Currency.infinityPoints.gte(DC.E140),events:[GAME_EVENT.BIG_CRUNCH_AFTER]},firstEternity:{id:5,tabsToHighLight:[{parent:"eternity",tab:"studies"},{parent:"eternity",tab:"milestones"},{parent:"eternity",tab:"upgrades"},{parent:"dimensions",tab:"time"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked(),events:[GAME_EVENT.ETERNITY_RESET_BEFORE]},dilationAfterUnlock:{id:6,tabsToHighLight:[{parent:"eternity",tab:"dilation"}],condition:()=>!PlayerProgress.realityUnlocked()},realityUnlock:{id:7,tabsToHighLight:[{parent:"eternity",tab:"studies"}],condition:()=>!PlayerProgress.realityUnlocked()&&TimeStudy.reality.canBeBought,events:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION,GAME_EVENT.OFFLINE_CURRENCY_GAINED,GAME_EVENT.ACHIEVEMENT_UNLOCKED]},blackHoleUnlock:{id:8,tabsToHighLight:[{parent:"reality",tab:"hole"}],condition:()=>!BlackHoles.areUnlocked&&Currency.realityMachines.gte(100),events:[GAME_EVENT.REALITY_RESET_AFTER]},automatorUnlock:{id:9,tabsToHighLight:[{parent:"automation",tab:"automator"}],condition:()=>Player.automatorUnlocked,events:[GAME_EVENT.REALITY_RESET_AFTER]},teresaUnlock:{id:10,tabsToHighLight:[{parent:"celestials",tab:"teresa"}],condition:()=>player.celestials.teresa.pouredAmount===0&&Teresa.isUnlocked,events:[GAME_EVENT.REALITY_UPGRADE_BOUGHT]},alchemyUnlock:{id:11,tabsToHighLight:[{parent:"reality",tab:"glyphs"},{parent:"reality",tab:"alchemy"}],condition:()=>player.celestials.ra.pets.effarig.level>=2,events:[GAME_EVENT.GAME_TICK_AFTER]},newAutobuyer:{id:12,tabsToHighLight:[{parent:"automation",tab:"autobuyers"}],condition:()=>!Pelle.isDoomed},imaginaryMachineUnlock:{id:13,tabsToHighLight:[{parent:"reality",tab:"imag_upgrades"}],condition:()=>MachineHandler.isIMUnlocked,events:[GAME_EVENT.GAME_TICK_AFTER]},laitelaUnlock:{id:14,tabsToHighLight:[{parent:"celestials",tab:"laitela"}],condition:()=>!0},pelleUnlock:{id:15,tabsToHighLight:[{parent:"celestials",tab:"pelle"}],condition:()=>!0},newGlyphCosmetic:{id:16,tabsToHighLight:[{parent:"reality",tab:"glyphs"}],condition:()=>!0}},Nq=[{key:"dimensions",name:"Dimensions",hideAt:2.9,id:0,hidable:!0,subtabs:[{key:"antimatter",name:"Antimatter Dimensions",symbol:"Ω",component:"AntimatterDimensionsTab",id:0,hidable:!0},{key:"infinity",name:"Infinity Dimensions",hideAt:2.7,symbol:"∞",component:"InfinityDimensionsTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||InfinityDimension(1).isUnlocked,id:1,hidable:!0},{key:"time",name:"Time Dimensions",hideAt:2.6,symbol:"Δ",component:"TimeDimensionsTab",condition:()=>PlayerProgress.eternityUnlocked(),id:2,hidable:!0}]},{key:"options",name:"Options",hideAt:1.6,id:1,hidable:!1,subtabs:[{key:"saving",name:"Saving",symbol:"<i class='fas fa-save'></i>",component:"OptionsSavingTab",id:0,hidable:!1},{key:"visual",name:"Visual",symbol:"<i class='fas fa-palette'></i>",component:"OptionsVisualTab",id:1,hidable:!1},{key:"gameplay",name:"Gameplay",symbol:"<i class='fas fa-wrench'></i>",component:"OptionsGameplayTab",id:2,hidable:!1}]},{key:"statistics",name:"Statistics",hideAt:1.7,id:2,hidable:!0,subtabs:[{key:"statistics",name:"Statistics",symbol:"<i class='fas fa-clipboard-list'></i>",component:"StatisticsTab",id:0,hidable:!0},{key:"challenges",name:"Challenge records",symbol:"<i class='fas fa-stopwatch'></i>",component:"ChallengeRecordsTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.challengeCompleted(),id:1,hidable:!0},{key:"prestige runs",name:"Past Prestige Runs",symbol:"<i class='fas fa-list-ol'></i>",component:"PastPrestigeRunsTab",condition:()=>PlayerProgress.infinityUnlocked(),id:2,hidable:!0},{key:"multipliers",name:"Multiplier Breakdown",symbol:"<i class='fas fa-calculator'></i>",component:"MultiplierBreakdownTab",condition:()=>!1,id:3,hidable:!0},{key:"glyph sets",name:"Glyph Set Records",symbol:"<i class='fas fa-ellipsis-h'></i>",component:"GlyphSetRecordsTab",condition:()=>PlayerProgress.realityUnlocked(),id:4,hidable:!0},{key:"speedrun milestones",name:"Speedrun Milestones",symbol:"<i class='fas fa-flag-checkered'></i>",component:"SpeedrunMilestonesTab",condition:()=>player.speedrun.isActive,id:5,hidable:!0},{key:"speedrun records",name:"Speedrun Records",symbol:"<i class='fas fa-ranking-star'></i>",component:"PreviousSpeedrunTab",condition:()=>!1,id:6,hidable:!0}]},{key:"achievements",name:"Achievements",hideAt:1.9,id:3,hidable:!0,subtabs:[{key:"normal",name:"Achievements",symbol:"<i class='fas fa-trophy'></i>",component:"NormalAchievementsTab",id:0,hidable:!0},{key:"secret",name:"Secret Achievements",symbol:"<i class='fas fa-question'></i>",component:"SecretAchievementTab",id:1,hidable:!0}]},{key:"automation",name:"Automation",id:4,hideAt:2.1,condition:()=>player.records.totalAntimatter.gte(1e40),hidable:!0,subtabs:[{key:"autobuyers",name:"Autobuyers",symbol:"<i class='fas fa-cog'></i>",component:"AutobuyersTab",id:0,hidable:!0},{key:"automator",name:"Automator",symbol:"<i class='fas fa-code'></i>",component:"AutomatorTab",condition:()=>PlayerProgress.realityUnlocked(),id:1,hidable:!0}]},{key:"challenges",name:"Challenges",hideAt:2,condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:5,hidable:!0,subtabs:[{key:"normal",name:"Challenges",symbol:"Ω",component:"NormalChallengesTab",id:0,hidable:!0},{key:"infinity",name:"Infinity Challenges",symbol:"∞",component:"infinity-challenges-tab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.hasBroken()||Pelle.isDoomed,id:1,hidable:!0},{key:"eternity",name:"Eternity Challenges",symbol:"Δ",component:"eternity-challenges-tab",condition:()=>PlayerProgress.realityUnlocked()||player.challenge.eternity.unlocked!==0||EternityChallenges.all.some(t=>t.completions>0),id:2,hidable:!0}]},{key:"infinity",name:"Infinity",hideAt:2.2,UIClass:"o-tab-btn--infinity",before:"InfinityPointsHeader",id:6,condition:()=>PlayerProgress.infinityUnlocked(),hidable:!0,subtabs:[{key:"upgrades",name:"Infinity Upgrades",symbol:"<i class='fas fa-arrow-up'></i>",component:"InfinityUpgradesTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:0,hidable:!0},{key:"break",name:"Break Infinity",symbol:"∝",component:"BreakInfinityTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:1,hidable:!0},{key:"replicanti",name:"Replicanti",symbol:"Ξ",component:"ReplicantiTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:2,hidable:!0}]},{key:"eternity",name:"Eternity",hideAt:1.8,UIClass:"o-tab-btn--eternity",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked(),before:"EternityPointsHeader",id:7,hidable:!0,subtabs:[{key:"studies",name:"Time Studies",symbol:"<i class='fas fa-book'></i>",component:"TimeStudiesTab",id:0,hidable:!0},{key:"upgrades",name:"Eternity Upgrades",symbol:"<i class='fas fa-arrow-up'></i>",component:"EternityUpgradesTab",id:1,hidable:!0},{key:"milestones",name:"Eternity Milestones",symbol:"<i class='fas fa-star'></i>",component:"EternityMilestonesTab",id:2,hidable:!0},{key:"dilation",name:"Time Dilation",symbol:"Ψ",component:"TimeDilationTab",condition:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),id:3,hidable:!0}]},{key:"reality",name:"Reality",hideAt:2.3,UIClass:"o-tab-btn--reality",condition:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,id:8,hidable:!0,subtabs:[{key:"glyphs",name:"Glyphs",symbol:"<i class='fas fa-clone'></i>",component:"GlyphsTab",id:0,hidable:!0},{key:"upgrades",name:"Reality Upgrades",symbol:"<i class='fas fa-arrow-up'></i>",component:"RealityUpgradesTab",id:1,hidable:!0},{key:"imag_upgrades",name:"Imaginary Upgrades",symbol:"<i class='fas fa-level-up-alt'></i>",component:"ImaginaryUpgradesTab",condition:()=>MachineHandler.isIMUnlocked,id:2,hidable:!0},{key:"perks",name:"Perks",symbol:"<i class='fas fa-project-diagram'></i>",component:"PerksTab",id:3,hidable:!0},{key:"hole",name:"Black Hole",symbol:"<i class='fas fa-circle'></i>",component:"BlackHoleTab",condition:()=>PlayerProgress.realityUnlocked(),id:4,hidable:!0},{key:"alchemy",name:"Glyph Alchemy",symbol:"<i class='fas fa-vial'></i>",component:"AlchemyTab",condition:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,id:5,hidable:!0}]},{key:"celestials",name:"Celestials",hideAt:2.4,UIClass:"o-tab-btn--celestial",condition:()=>Teresa.isUnlocked,id:9,hidable:!0,subtabs:[{key:"celestial-navigation",name:"Celestial Navigation",symbol:"<i class='fas fa-map-marked-alt'></i>",component:"CelestialNavigationTab",id:0,hidable:!0},{key:"teresa",name:"Teresa",symbol:"Ϟ",component:"TeresaTab",id:1,hidable:!0},{key:"effarig",name:"Effarig",symbol:"Ϙ",component:"EffarigTab",condition:()=>TeresaUnlocks.effarig.isUnlocked,id:2,hidable:!0},{key:"enslaved",name:"The Nameless Ones",symbol:"<div class='o-tab-btn--cel3'></div>",component:"EnslavedTab",condition:()=>EffarigUnlock.eternity.isUnlocked,id:3,hidable:!0},{key:"v",name:"V",symbol:"⌬",component:"VTab",condition:()=>Achievement(151).isUnlocked,id:4,hidable:!0},{key:"ra",name:"Ra",symbol:"<i class='fas fa-sun'></i>",component:"RaTab",condition:()=>VUnlocks.raUnlock.isUnlocked,id:5,hidable:!0},{key:"laitela",name:"Lai'tela",symbol:"ᛝ",component:"LaitelaTab",condition:()=>Laitela.isUnlocked,id:6,hidable:!0},{key:"pelle",name:"Pelle",symbol:"♅",component:"PelleTab",condition:()=>Pelle.isUnlocked,id:7,hidable:!0}]},{key:"shop",name:"Shop",newUIClass:"shop",hideAt:1.5,condition:()=>Cloud.isAvailable,id:10,hidable:!0,subtabs:[{key:"shop",name:"Shop",symbol:"$",component:"ShopTab",id:0,hidable:!0}]}],io={achievements:C9,awayProgressTypes:k9,catchupResources:S9,celestials:dq,challenges:mq,changelog:CC,confirmationTypes:yq,credits:P0,discordRichPresence:gq,eternity:kq,h2p:Ll,infinity:xq,multiplierTabTree:Ri,multiplierTabValues:KN,news:Dq,progressStages:Iq,reality:j_,sidebarResources:Mq,shopPurchases:Rq,speedrunMilestones:Pq,tabNotifications:Oq,tabs:Nq};window.GameDatabase=io;window.mapGameData=function(e,i){const n=[];for(const r of e)n[r.id]=i(r);return n};window.mapGameDataToObject=function(e,i){const n=Object.entries(e),r={};for(let a=0;a<n.length;a++)r[n[a][0]]=i(n[a][1]);return{all:Object.values(r),...r}};const Gq=Object.freeze(Object.defineProperty({__proto__:null,GlyphCombiner:ti,LAITELA_UPGRADE_DIRECTION:Ti,PERK_FAMILY:_t,V_REDUCTION_MODE:vo},Symbol.toStringTag,{value:"Module"}));var iG={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function X_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X_=function(e){return typeof e}:X_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X_(t)}function Uq(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xo(){return xo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},xo.apply(this,arguments)}function Id(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{},n=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),n.forEach(function(r){Uq(t,r,i[r])})}return t}function Lq(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,a;for(a=0;a<n.length;a++)r=n[a],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}function Bq(t,e){if(t==null)return{};var i=Lq(t,e),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $q(t){return Fq(t)||Hq(t)||Vq()}function Fq(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function Hq(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function Vq(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Yq="1.10.2";function zc(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var iu=zc(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Gv=zc(/Edge/i),fR=zc(/firefox/i),kC=zc(/safari/i)&&!zc(/chrome/i)&&!zc(/android/i),nG=zc(/iP(ad|od|hone)/i),qq=zc(/chrome/i)&&zc(/android/i),rG={capture:!1,passive:!1};function fi(t,e,i){t.addEventListener(e,i,!iu&&rG)}function ii(t,e,i){t.removeEventListener(e,i,!iu&&rG)}function O0(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Wq(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Jo(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&O0(t,e):O0(t,e))||n&&t===i)return t;if(t===i)break}while(t=Wq(t))}return null}var pR=/\s+/g;function Mn(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(pR," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(pR," ")}}function ft(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function Xh(t,e){var i="";if(typeof t=="string")i=t;else do{var n=ft(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function aG(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,a=n.length;if(i)for(;r<a;r++)i(n[r],r);return n}return[]}function tc(){var t=document.scrollingElement;return t||document.documentElement}function Fn(t,e,i,n,r){if(!(!t.getBoundingClientRect&&t!==window)){var a,s,o,c,d,p,m;if(t!==window&&t!==tc()?(a=t.getBoundingClientRect(),s=a.top,o=a.left,c=a.bottom,d=a.right,p=a.height,m=a.width):(s=0,o=0,c=window.innerHeight,d=window.innerWidth,p=window.innerHeight,m=window.innerWidth),(e||i)&&t!==window&&(r=r||t.parentNode,!iu))do if(r&&r.getBoundingClientRect&&(ft(r,"transform")!=="none"||i&&ft(r,"position")!=="static")){var y=r.getBoundingClientRect();s-=y.top+parseInt(ft(r,"border-top-width")),o-=y.left+parseInt(ft(r,"border-left-width")),c=s+a.height,d=o+a.width;break}while(r=r.parentNode);if(n&&t!==window){var _=Xh(r||t),w=_&&_.a,C=_&&_.d;_&&(s/=C,o/=w,m/=w,p/=C,c=s+p,d=o+m)}return{top:s,left:o,bottom:c,right:d,width:m,height:p}}}function mR(t,e,i){for(var n=ld(t,!0),r=Fn(t)[e];n;){var a=Fn(n)[i],s=void 0;if(s=r>=a,!s)return n;if(n===tc())break;n=ld(n,!1)}return!1}function N0(t,e,i){for(var n=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==At.ghost&&a[r]!==At.dragged&&Jo(a[r],i.draggable,t,!1)){if(n===e)return a[r];n++}r++}return null}function TS(t,e){for(var i=t.lastElementChild;i&&(i===At.ghost||ft(i,"display")==="none"||e&&!O0(i,e));)i=i.previousElementSibling;return i||null}function Bn(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==At.clone&&(!e||O0(t,e))&&i++;return i}function yR(t){var e=0,i=0,n=tc();if(t)do{var r=Xh(t),a=r.a,s=r.d;e+=t.scrollLeft*a,i+=t.scrollTop*s}while(t!==n&&(t=t.parentNode));return[e,i]}function jq(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function ld(t,e){if(!t||!t.getBoundingClientRect)return tc();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=ft(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return tc();if(n||e)return i;n=!0}}while(i=i.parentNode);return tc()}function zq(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function wT(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Cg;function sG(t,e){return function(){if(!Cg){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),Cg=setTimeout(function(){Cg=void 0},e)}}}function Xq(){clearTimeout(Cg),Cg=void 0}function oG(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function CS(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function gR(t,e){ft(t,"position","absolute"),ft(t,"top",e.top),ft(t,"left",e.left),ft(t,"width",e.width),ft(t,"height",e.height)}function ET(t){ft(t,"position",""),ft(t,"top",""),ft(t,"left",""),ft(t,"width",""),ft(t,"height","")}var wa="Sortable"+new Date().getTime();function Kq(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(ft(r,"display")==="none"||r===At.ghost)){t.push({target:r,rect:Fn(r)});var a=Id({},t[t.length-1].rect);if(r.thisAnimationDuration){var s=Xh(r,!0);s&&(a.top-=s.f,a.left-=s.e)}r.fromRect=a}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(jq(t,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,s=0;t.forEach(function(o){var c=0,d=o.target,p=d.fromRect,m=Fn(d),y=d.prevFromRect,_=d.prevToRect,w=o.rect,C=Xh(d,!0);C&&(m.top-=C.f,m.left-=C.e),d.toRect=m,d.thisAnimationDuration&&wT(y,m)&&!wT(p,m)&&(w.top-m.top)/(w.left-m.left)===(p.top-m.top)/(p.left-m.left)&&(c=Qq(w,y,_,r.options)),wT(m,p)||(d.prevFromRect=p,d.prevToRect=m,c||(c=r.options.animation),r.animate(d,w,m,c)),c&&(a=!0,s=Math.max(s,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),t=[]},animate:function(n,r,a,s){if(s){ft(n,"transition",""),ft(n,"transform","");var o=Xh(this.el),c=o&&o.a,d=o&&o.d,p=(r.left-a.left)/(c||1),m=(r.top-a.top)/(d||1);n.animatingX=!!p,n.animatingY=!!m,ft(n,"transform","translate3d("+p+"px,"+m+"px,0)"),Zq(n),ft(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),ft(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ft(n,"transition",""),ft(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function Zq(t){return t.offsetWidth}function Qq(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var Gy=[],TT={initializeByDefault:!0},Uv={mount:function(e){for(var i in TT)TT.hasOwnProperty(i)&&!(i in e)&&(e[i]=TT[i]);Gy.push(e)},pluginEvent:function(e,i,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=e+"Global";Gy.forEach(function(s){i[s.pluginName]&&(i[s.pluginName][a]&&i[s.pluginName][a](Id({sortable:i},n)),i.options[s.pluginName]&&i[s.pluginName][e]&&i[s.pluginName][e](Id({sortable:i},n)))})},initializePlugins:function(e,i,n,r){Gy.forEach(function(o){var c=o.pluginName;if(!(!e.options[c]&&!o.initializeByDefault)){var d=new o(e,i,e.options);d.sortable=e,d.options=e.options,e[c]=d,xo(n,d.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var s=this.modifyOption(e,a,e.options[a]);typeof s<"u"&&(e.options[a]=s)}},getEventProperties:function(e,i){var n={};return Gy.forEach(function(r){typeof r.eventProperties=="function"&&xo(n,r.eventProperties.call(i[r.pluginName],e))}),n},modifyOption:function(e,i,n){var r;return Gy.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[i]=="function"&&(r=a.optionListeners[i].call(e[a.pluginName],n))}),r}};function rg(t){var e=t.sortable,i=t.rootEl,n=t.name,r=t.targetEl,a=t.cloneEl,s=t.toEl,o=t.fromEl,c=t.oldIndex,d=t.newIndex,p=t.oldDraggableIndex,m=t.newDraggableIndex,y=t.originalEvent,_=t.putSortable,w=t.extraEventProperties;if(e=e||i&&i[wa],!!e){var C,k=e.options,S="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!iu&&!Gv?C=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(C=document.createEvent("Event"),C.initEvent(n,!0,!0)),C.to=s||i,C.from=o||i,C.item=r||i,C.clone=a,C.oldIndex=c,C.newIndex=d,C.oldDraggableIndex=p,C.newDraggableIndex=m,C.originalEvent=y,C.pullMode=_?_.lastPutMode:void 0;var x=Id({},w,Uv.getEventProperties(n,e));for(var O in x)C[O]=x[O];i&&i.dispatchEvent(C),k[S]&&k[S].call(e,C)}}var ss=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,a=Bq(n,["evt"]);Uv.pluginEvent.bind(At)(e,i,Id({dragEl:et,parentEl:nr,ghostEl:qt,rootEl:Rn,nextEl:kh,lastDownEl:K_,cloneEl:Ln,cloneHidden:Ju,dragStarted:ag,putSortable:Qr,activeSortable:At.active,originalEvent:r,oldIndex:Lp,oldDraggableIndex:kg,newIndex:Ws,newDraggableIndex:qu,hideGhostForTarget:dG,unhideGhostForTarget:hG,cloneNowHidden:function(){Ju=!0},cloneNowShown:function(){Ju=!1},dispatchSortableEvent:function(o){Ba({sortable:i,name:o,originalEvent:r})}},a))};function Ba(t){rg(Id({putSortable:Qr,cloneEl:Ln,targetEl:et,rootEl:Rn,oldIndex:Lp,oldDraggableIndex:kg,newIndex:Ws,newDraggableIndex:qu},t))}var et,nr,qt,Rn,kh,K_,Ln,Ju,Lp,Ws,kg,qu,n_,Qr,xp=!1,G0=!1,U0=[],_h,Wo,CT,kT,vR,bR,ag,pp,Sg,Ag=!1,r_=!1,Z_,ba,ST=[],SC=!1,L0=[],Rw=typeof document<"u",a_=nG,_R=Gv||iu?"cssFloat":"float",Jq=Rw&&!qq&&!nG&&"draggable"in document.createElement("div"),lG=function(){if(Rw){if(iu)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),cG=function(e,i){var n=ft(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=N0(e,0,i),s=N0(e,1,i),o=a&&ft(a),c=s&&ft(s),d=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+Fn(a).width,p=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+Fn(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&o.float!=="none"){var m=o.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return a&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||d>=r&&n[_R]==="none"||s&&n[_R]==="none"&&d+p>r)?"vertical":"horizontal"},eW=function(e,i,n){var r=n?e.left:e.top,a=n?e.right:e.bottom,s=n?e.width:e.height,o=n?i.left:i.top,c=n?i.right:i.bottom,d=n?i.width:i.height;return r===o||a===c||r+s/2===o+d/2},tW=function(e,i){var n;return U0.some(function(r){if(!TS(r)){var a=Fn(r),s=r[wa].options.emptyInsertThreshold,o=e>=a.left-s&&e<=a.right+s,c=i>=a.top-s&&i<=a.bottom+s;if(s&&o&&c)return n=r}}),n},uG=function(e){function i(a,s){return function(o,c,d,p){var m=o.options.group.name&&c.options.group.name&&o.options.group.name===c.options.group.name;if(a==null&&(s||m))return!0;if(a==null||a===!1)return!1;if(s&&a==="clone")return a;if(typeof a=="function")return i(a(o,c,d,p),s)(o,c,d,p);var y=(s?o:c).options.group.name;return a===!0||typeof a=="string"&&a===y||a.join&&a.indexOf(y)>-1}}var n={},r=e.group;(!r||X_(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=i(r.pull,!0),n.checkPut=i(r.put),n.revertClone=r.revertClone,e.group=n},dG=function(){!lG&&qt&&ft(qt,"display","none")},hG=function(){!lG&&qt&&ft(qt,"display","")};Rw&&document.addEventListener("click",function(t){if(G0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),G0=!1,!1},!0);var wh=function(e){if(et){e=e.touches?e.touches[0]:e;var i=tW(e.clientX,e.clientY);if(i){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[wa]._onDragOver(n)}}},iW=function(e){et&&et.parentNode[wa]._isOutsideThisEl(e.target)};function At(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=xo({},e),t[wa]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return cG(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,o){s.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:At.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};Uv.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);uG(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Jq,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?fi(t,"pointerdown",this._onTapStart):(fi(t,"mousedown",this._onTapStart),fi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(fi(t,"dragover",this),fi(t,"dragenter",this)),U0.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),xo(this,Kq())}At.prototype={constructor:At,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(pp=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,et):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,r=this.options,a=r.preventOnFilter,s=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(o||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,p=r.filter;if(cW(n),!et&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||r.disabled)&&!d.isContentEditable&&(c=Jo(c,r.draggable,n,!1),!(c&&c.animated)&&K_!==c)){if(Lp=Bn(c),kg=Bn(c,r.draggable),typeof p=="function"){if(p.call(this,e,c,this)){Ba({sortable:i,rootEl:d,name:"filter",targetEl:c,toEl:n,fromEl:n}),ss("filter",i,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(p&&(p=p.split(",").some(function(m){if(m=Jo(d,m.trim(),n,!1),m)return Ba({sortable:i,rootEl:m,name:"filter",targetEl:c,fromEl:n,toEl:n}),ss("filter",i,{evt:e}),!0}),p)){a&&e.cancelable&&e.preventDefault();return}r.handle&&!Jo(d,r.handle,n,!1)||this._prepareDragStart(e,o,c)}}},_prepareDragStart:function(e,i,n){var r=this,a=r.el,s=r.options,o=a.ownerDocument,c;if(n&&!et&&n.parentNode===a){var d=Fn(n);if(Rn=a,et=n,nr=et.parentNode,kh=et.nextSibling,K_=n,n_=s.group,At.dragged=et,_h={target:et,clientX:(i||e).clientX,clientY:(i||e).clientY},vR=_h.clientX-d.left,bR=_h.clientY-d.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,et.style["will-change"]="all",c=function(){if(ss("delayEnded",r,{evt:e}),At.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!fR&&r.nativeDraggable&&(et.draggable=!0),r._triggerDragStart(e,i),Ba({sortable:r,name:"choose",originalEvent:e}),Mn(et,s.chosenClass,!0)},s.ignore.split(",").forEach(function(p){aG(et,p.trim(),xT)}),fi(o,"dragover",wh),fi(o,"mousemove",wh),fi(o,"touchmove",wh),fi(o,"mouseup",r._onDrop),fi(o,"touchend",r._onDrop),fi(o,"touchcancel",r._onDrop),fR&&this.nativeDraggable&&(this.options.touchStartThreshold=4,et.draggable=!0),ss("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(Gv||iu))){if(At.eventCanceled){this._onDrop();return}fi(o,"mouseup",r._disableDelayedDrag),fi(o,"touchend",r._disableDelayedDrag),fi(o,"touchcancel",r._disableDelayedDrag),fi(o,"mousemove",r._delayedDragTouchMoveHandler),fi(o,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&fi(o,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){et&&xT(et),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ii(e,"mouseup",this._disableDelayedDrag),ii(e,"touchend",this._disableDelayedDrag),ii(e,"touchcancel",this._disableDelayedDrag),ii(e,"mousemove",this._delayedDragTouchMoveHandler),ii(e,"touchmove",this._delayedDragTouchMoveHandler),ii(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?fi(document,"pointermove",this._onTouchMove):i?fi(document,"touchmove",this._onTouchMove):fi(document,"mousemove",this._onTouchMove):(fi(et,"dragend",this),fi(Rn,"dragstart",this._onDragStart));try{document.selection?Q_(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(xp=!1,Rn&&et){ss("dragStarted",this,{evt:i}),this.nativeDraggable&&fi(document,"dragover",iW);var n=this.options;!e&&Mn(et,n.dragClass,!1),Mn(et,n.ghostClass,!0),At.active=this,e&&this._appendGhost(),Ba({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Wo){this._lastX=Wo.clientX,this._lastY=Wo.clientY,dG();for(var e=document.elementFromPoint(Wo.clientX,Wo.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Wo.clientX,Wo.clientY),e!==i);)i=e;if(et.parentNode[wa]._isOutsideThisEl(e),i)do{if(i[wa]){var n=void 0;if(n=i[wa]._onDragOver({clientX:Wo.clientX,clientY:Wo.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);hG()}},_onTouchMove:function(e){if(_h){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,a=e.touches?e.touches[0]:e,s=qt&&Xh(qt,!0),o=qt&&s&&s.a,c=qt&&s&&s.d,d=a_&&ba&&yR(ba),p=(a.clientX-_h.clientX+r.x)/(o||1)+(d?d[0]-ST[0]:0)/(o||1),m=(a.clientY-_h.clientY+r.y)/(c||1)+(d?d[1]-ST[1]:0)/(c||1);if(!At.active&&!xp){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(qt){s?(s.e+=p-(CT||0),s.f+=m-(kT||0)):s={a:1,b:0,c:0,d:1,e:p,f:m};var y="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");ft(qt,"webkitTransform",y),ft(qt,"mozTransform",y),ft(qt,"msTransform",y),ft(qt,"transform",y),CT=p,kT=m,Wo=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!qt){var e=this.options.fallbackOnBody?document.body:Rn,i=Fn(et,!0,a_,!0,e),n=this.options;if(a_){for(ba=e;ft(ba,"position")==="static"&&ft(ba,"transform")==="none"&&ba!==document;)ba=ba.parentNode;ba!==document.body&&ba!==document.documentElement?(ba===document&&(ba=tc()),i.top+=ba.scrollTop,i.left+=ba.scrollLeft):ba=tc(),ST=yR(ba)}qt=et.cloneNode(!0),Mn(qt,n.ghostClass,!1),Mn(qt,n.fallbackClass,!0),Mn(qt,n.dragClass,!0),ft(qt,"transition",""),ft(qt,"transform",""),ft(qt,"box-sizing","border-box"),ft(qt,"margin",0),ft(qt,"top",i.top),ft(qt,"left",i.left),ft(qt,"width",i.width),ft(qt,"height",i.height),ft(qt,"opacity","0.8"),ft(qt,"position",a_?"absolute":"fixed"),ft(qt,"zIndex","100000"),ft(qt,"pointerEvents","none"),At.ghost=qt,e.appendChild(qt),ft(qt,"transform-origin",vR/parseInt(qt.style.width)*100+"% "+bR/parseInt(qt.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,r=e.dataTransfer,a=n.options;if(ss("dragStart",this,{evt:e}),At.eventCanceled){this._onDrop();return}ss("setupClone",this),At.eventCanceled||(Ln=CS(et),Ln.draggable=!1,Ln.style["will-change"]="",this._hideClone(),Mn(Ln,this.options.chosenClass,!1),At.clone=Ln),n.cloneId=Q_(function(){ss("clone",n),!At.eventCanceled&&(n.options.removeCloneOnHide||Rn.insertBefore(Ln,et),n._hideClone(),Ba({sortable:n,name:"clone"}))}),!i&&Mn(et,a.dragClass,!0),i?(G0=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ii(document,"mouseup",n._onDrop),ii(document,"touchend",n._onDrop),ii(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,et)),fi(document,"drop",n),ft(et,"transform","translateZ(0)")),xp=!0,n._dragStartId=Q_(n._dragStarted.bind(n,i,e)),fi(document,"selectstart",n),ag=!0,kC&&ft(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,r,a,s,o=this.options,c=o.group,d=At.active,p=n_===c,m=o.sort,y=Qr||d,_,w=this,C=!1;if(SC)return;function k(ge,be){ss(ge,w,Id({evt:e,isOwner:p,axis:_?"vertical":"horizontal",revert:s,dragRect:r,targetRect:a,canSort:m,fromSortable:y,target:n,completed:x,onMove:function(se,Z){return AT(Rn,i,et,r,se,Fn(se),e,Z)},changed:O},be))}function S(){k("dragOverAnimationCapture"),w.captureAnimationState(),w!==y&&y.captureAnimationState()}function x(ge){return k("dragOverCompleted",{insertion:ge}),ge&&(p?d._hideClone():d._showClone(w),w!==y&&(Mn(et,Qr?Qr.options.ghostClass:d.options.ghostClass,!1),Mn(et,o.ghostClass,!0)),Qr!==w&&w!==At.active?Qr=w:w===At.active&&Qr&&(Qr=null),y===w&&(w._ignoreWhileAnimating=n),w.animateAll(function(){k("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(n===et&&!et.animated||n===i&&!n.animated)&&(pp=null),!o.dragoverBubble&&!e.rootEl&&n!==document&&(et.parentNode[wa]._isOutsideThisEl(e.target),!ge&&wh(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function O(){Ws=Bn(et),qu=Bn(et,o.draggable),Ba({sortable:w,name:"change",toEl:i,newIndex:Ws,newDraggableIndex:qu,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Jo(n,o.draggable,i,!0),k("dragOver"),At.eventCanceled)return C;if(et.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||w._ignoreWhileAnimating===n)return x(!1);if(G0=!1,d&&!o.disabled&&(p?m||(s=!Rn.contains(et)):Qr===this||(this.lastPutMode=n_.checkPull(this,d,et,e))&&c.checkPut(this,d,et,e))){if(_=this._getDirection(e,n)==="vertical",r=Fn(et),k("dragOverValid"),At.eventCanceled)return C;if(s)return nr=Rn,S(),this._hideClone(),k("revert"),At.eventCanceled||(kh?Rn.insertBefore(et,kh):Rn.appendChild(et)),x(!0);var D=TS(i,o.draggable);if(!D||aW(e,_,this)&&!D.animated){if(D===et)return x(!1);if(D&&i===e.target&&(n=D),n&&(a=Fn(n)),AT(Rn,i,et,r,n,a,e,!!n)!==!1)return S(),i.appendChild(et),nr=i,O(),x(!0)}else if(n.parentNode===i){a=Fn(n);var B=0,P,R=et.parentNode!==i,I=!eW(et.animated&&et.toRect||r,n.animated&&n.toRect||a,_),F=_?"top":"left",$=mR(n,"top","top")||mR(et,"top","top"),L=$?$.scrollTop:void 0;pp!==n&&(P=a[F],Ag=!1,r_=!I&&o.invertSwap||R),B=sW(e,n,a,_,I?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,r_,pp===n);var W;if(B!==0){var j=Bn(et);do j-=B,W=nr.children[j];while(W&&(ft(W,"display")==="none"||W===qt))}if(B===0||W===n)return x(!1);pp=n,Sg=B;var z=n.nextElementSibling,re=!1;re=B===1;var ce=AT(Rn,i,et,r,n,a,e,re);if(ce!==!1)return(ce===1||ce===-1)&&(re=ce===1),SC=!0,setTimeout(rW,30),S(),re&&!z?i.appendChild(et):n.parentNode.insertBefore(et,re?z:n),$&&oG($,0,L-$.scrollTop),nr=et.parentNode,P!==void 0&&!r_&&(Z_=Math.abs(P-Fn(n)[F])),O(),x(!0)}if(i.contains(et))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ii(document,"mousemove",this._onTouchMove),ii(document,"touchmove",this._onTouchMove),ii(document,"pointermove",this._onTouchMove),ii(document,"dragover",wh),ii(document,"mousemove",wh),ii(document,"touchmove",wh)},_offUpEvents:function(){var e=this.el.ownerDocument;ii(e,"mouseup",this._onDrop),ii(e,"touchend",this._onDrop),ii(e,"pointerup",this._onDrop),ii(e,"touchcancel",this._onDrop),ii(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(Ws=Bn(et),qu=Bn(et,n.draggable),ss("drop",this,{evt:e}),nr=et&&et.parentNode,Ws=Bn(et),qu=Bn(et,n.draggable),At.eventCanceled){this._nulling();return}xp=!1,r_=!1,Ag=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),AC(this.cloneId),AC(this._dragStartId),this.nativeDraggable&&(ii(document,"drop",this),ii(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kC&&ft(document.body,"user-select",""),ft(et,"transform",""),e&&(ag&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),qt&&qt.parentNode&&qt.parentNode.removeChild(qt),(Rn===nr||Qr&&Qr.lastPutMode!=="clone")&&Ln&&Ln.parentNode&&Ln.parentNode.removeChild(Ln),et&&(this.nativeDraggable&&ii(et,"dragend",this),xT(et),et.style["will-change"]="",ag&&!xp&&Mn(et,Qr?Qr.options.ghostClass:this.options.ghostClass,!1),Mn(et,this.options.chosenClass,!1),Ba({sortable:this,name:"unchoose",toEl:nr,newIndex:null,newDraggableIndex:null,originalEvent:e}),Rn!==nr?(Ws>=0&&(Ba({rootEl:nr,name:"add",toEl:nr,fromEl:Rn,originalEvent:e}),Ba({sortable:this,name:"remove",toEl:nr,originalEvent:e}),Ba({rootEl:nr,name:"sort",toEl:nr,fromEl:Rn,originalEvent:e}),Ba({sortable:this,name:"sort",toEl:nr,originalEvent:e})),Qr&&Qr.save()):Ws!==Lp&&Ws>=0&&(Ba({sortable:this,name:"update",toEl:nr,originalEvent:e}),Ba({sortable:this,name:"sort",toEl:nr,originalEvent:e})),At.active&&((Ws==null||Ws===-1)&&(Ws=Lp,qu=kg),Ba({sortable:this,name:"end",toEl:nr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ss("nulling",this),Rn=et=nr=qt=kh=Ln=K_=Ju=_h=Wo=ag=Ws=qu=Lp=kg=pp=Sg=Qr=n_=At.dragged=At.ghost=At.clone=At.active=null,L0.forEach(function(e){e.checked=!0}),L0.length=CT=kT=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":et&&(this._onDragOver(e),nW(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,r=0,a=n.length,s=this.options;r<a;r++)i=n[r],Jo(i,s.draggable,this.el,!1)&&e.push(i.getAttribute(s.dataIdAttr)||lW(i));return e},sort:function(e){var i={},n=this.el;this.toArray().forEach(function(r,a){var s=n.children[a];Jo(s,this.options.draggable,n,!1)&&(i[r]=s)},this),e.forEach(function(r){i[r]&&(n.removeChild(i[r]),n.appendChild(i[r]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return Jo(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var r=Uv.modifyOption(this,e,i);typeof r<"u"?n[e]=r:n[e]=i,e==="group"&&uG(n)},destroy:function(){ss("destroy",this);var e=this.el;e[wa]=null,ii(e,"mousedown",this._onTapStart),ii(e,"touchstart",this._onTapStart),ii(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ii(e,"dragover",this),ii(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),U0.splice(U0.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ju){if(ss("hideClone",this),At.eventCanceled)return;ft(Ln,"display","none"),this.options.removeCloneOnHide&&Ln.parentNode&&Ln.parentNode.removeChild(Ln),Ju=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ju){if(ss("showClone",this),At.eventCanceled)return;Rn.contains(et)&&!this.options.group.revertClone?Rn.insertBefore(Ln,et):kh?Rn.insertBefore(Ln,kh):Rn.appendChild(Ln),this.options.group.revertClone&&this.animate(et,Ln),ft(Ln,"display",""),Ju=!1}}};function nW(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function AT(t,e,i,n,r,a,s,o){var c,d=t[wa],p=d.options.onMove,m;return window.CustomEvent&&!iu&&!Gv?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=i,c.draggedRect=n,c.related=r||e,c.relatedRect=a||Fn(e),c.willInsertAfter=o,c.originalEvent=s,t.dispatchEvent(c),p&&(m=p.call(d,c,s)),m}function xT(t){t.draggable=!1}function rW(){SC=!1}function aW(t,e,i){var n=Fn(TS(i.el,i.options.draggable)),r=10;return e?t.clientX>n.right+r||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+r}function sW(t,e,i,n,r,a,s,o){var c=n?t.clientY:t.clientX,d=n?i.height:i.width,p=n?i.top:i.left,m=n?i.bottom:i.right,y=!1;if(!s){if(o&&Z_<d*r){if(!Ag&&(Sg===1?c>p+d*a/2:c<m-d*a/2)&&(Ag=!0),Ag)y=!0;else if(Sg===1?c<p+Z_:c>m-Z_)return-Sg}else if(c>p+d*(1-r)/2&&c<m-d*(1-r)/2)return oW(e)}return y=y||s,y&&(c<p+d*a/2||c>m-d*a/2)?c>p+d/2?1:-1:0}function oW(t){return Bn(et)<Bn(t)?1:-1}function lW(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function cW(t){L0.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&L0.push(n)}}function Q_(t){return setTimeout(t,0)}function AC(t){return clearTimeout(t)}Rw&&fi(document,"touchmove",function(t){(At.active||xp)&&t.cancelable&&t.preventDefault()});At.utils={on:fi,off:ii,css:ft,find:aG,is:function(e,i){return!!Jo(e,i,e,!1)},extend:zq,throttle:sG,closest:Jo,toggleClass:Mn,clone:CS,index:Bn,nextTick:Q_,cancelNextTick:AC,detectDirection:cG,getChild:N0};At.get=function(t){return t[wa]};At.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(At.utils=Id({},At.utils,n.utils)),Uv.mount(n)})};At.create=function(t,e){return new At(t,e)};At.version=Yq;var rr=[],sg,xC,IC=!1,DT,IT,B0,og;function uW(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?fi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?fi(document,"pointermove",this._handleFallbackAutoScroll):n.touches?fi(document,"touchmove",this._handleFallbackAutoScroll):fi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ii(document,"dragover",this._handleAutoScroll):(ii(document,"pointermove",this._handleFallbackAutoScroll),ii(document,"touchmove",this._handleFallbackAutoScroll),ii(document,"mousemove",this._handleFallbackAutoScroll)),wR(),J_(),Xq()},nulling:function(){B0=xC=sg=IC=og=DT=IT=null,rr.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var r=this,a=(i.touches?i.touches[0]:i).clientX,s=(i.touches?i.touches[0]:i).clientY,o=document.elementFromPoint(a,s);if(B0=i,n||Gv||iu||kC){RT(i,this.options,o,n);var c=ld(o,!0);IC&&(!og||a!==DT||s!==IT)&&(og&&wR(),og=setInterval(function(){var d=ld(document.elementFromPoint(a,s),!0);d!==c&&(c=d,J_()),RT(i,r.options,d,n)},10),DT=a,IT=s)}else{if(!this.options.bubbleScroll||ld(o,!0)===tc()){J_();return}RT(i,this.options,ld(o,!1),!1)}}},xo(t,{pluginName:"scroll",initializeByDefault:!0})}function J_(){rr.forEach(function(t){clearInterval(t.pid)}),rr=[]}function wR(){clearInterval(og)}var RT=sG(function(t,e,i,n){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,o=e.scrollSpeed,c=tc(),d=!1,p;xC!==i&&(xC=i,J_(),sg=e.scroll,p=e.scrollFn,sg===!0&&(sg=ld(i,!0)));var m=0,y=sg;do{var _=y,w=Fn(_),C=w.top,k=w.bottom,S=w.left,x=w.right,O=w.width,D=w.height,B=void 0,P=void 0,R=_.scrollWidth,I=_.scrollHeight,F=ft(_),$=_.scrollLeft,L=_.scrollTop;_===c?(B=O<R&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),P=D<I&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(B=O<R&&(F.overflowX==="auto"||F.overflowX==="scroll"),P=D<I&&(F.overflowY==="auto"||F.overflowY==="scroll"));var W=B&&(Math.abs(x-r)<=s&&$+O<R)-(Math.abs(S-r)<=s&&!!$),j=P&&(Math.abs(k-a)<=s&&L+D<I)-(Math.abs(C-a)<=s&&!!L);if(!rr[m])for(var z=0;z<=m;z++)rr[z]||(rr[z]={});(rr[m].vx!=W||rr[m].vy!=j||rr[m].el!==_)&&(rr[m].el=_,rr[m].vx=W,rr[m].vy=j,clearInterval(rr[m].pid),(W!=0||j!=0)&&(d=!0,rr[m].pid=setInterval((function(){n&&this.layer===0&&At.active._onTouchMove(B0);var re=rr[this.layer].vy?rr[this.layer].vy*o:0,ce=rr[this.layer].vx?rr[this.layer].vx*o:0;typeof p=="function"&&p.call(At.dragged.parentNode[wa],ce,re,t,B0,rr[this.layer].el)!=="continue"||oG(rr[this.layer].el,ce,re)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&y!==c&&(y=ld(y,!1)));IC=d}},30),fG=function(e){var i=e.originalEvent,n=e.putSortable,r=e.dragEl,a=e.activeSortable,s=e.dispatchSortableEvent,o=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(i){var d=n||a;o();var p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,m=document.elementFromPoint(p.clientX,p.clientY);c(),d&&!d.el.contains(m)&&(s("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function kS(){}kS.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=N0(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:fG};xo(kS,{pluginName:"revertOnSpill"});function SS(){}SS.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:fG};xo(SS,{pluginName:"removeOnSpill"});var mo;function dW(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(i){var n=i.dragEl;mo=n},dragOverValid:function(i){var n=i.completed,r=i.target,a=i.onMove,s=i.activeSortable,o=i.changed,c=i.cancel;if(s.options.swap){var d=this.sortable.el,p=this.options;if(r&&r!==d){var m=mo;a(r)!==!1?(Mn(r,p.swapClass,!0),mo=r):mo=null,m&&m!==mo&&Mn(m,p.swapClass,!1)}o(),n(!0),c()}},drop:function(i){var n=i.activeSortable,r=i.putSortable,a=i.dragEl,s=r||this.sortable,o=this.options;mo&&Mn(mo,o.swapClass,!1),mo&&(o.swap||r&&r.options.swap)&&a!==mo&&(s.captureAnimationState(),s!==n&&n.captureAnimationState(),hW(a,mo),s.animateAll(),s!==n&&n.animateAll())},nulling:function(){mo=null}},xo(t,{pluginName:"swap",eventProperties:function(){return{swapItem:mo}}})}function hW(t,e){var i=t.parentNode,n=e.parentNode,r,a;!i||!n||i.isEqualNode(e)||n.isEqualNode(t)||(r=Bn(t),a=Bn(e),i.isEqualNode(n)&&r<a&&a++,i.insertBefore(e,i.children[r]),n.insertBefore(t,n.children[a]))}var Ft=[],Vs=[],Uy,jo,Ly=!1,Ls=!1,mp=!1,rn,By,s_;function fW(){function t(e){for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));e.options.supportPointer?fi(document,"pointerup",this._deselectMultiDrag):(fi(document,"mouseup",this._deselectMultiDrag),fi(document,"touchend",this._deselectMultiDrag)),fi(document,"keydown",this._checkKeyDown),fi(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(r,a){var s="";Ft.length&&jo===e?Ft.forEach(function(o,c){s+=(c?", ":"")+o.textContent}):s=a.textContent,r.setData("Text",s)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(i){var n=i.dragEl;rn=n},delayEnded:function(){this.isMultiDrag=~Ft.indexOf(rn)},setupClone:function(i){var n=i.sortable,r=i.cancel;if(this.isMultiDrag){for(var a=0;a<Ft.length;a++)Vs.push(CS(Ft[a])),Vs[a].sortableIndex=Ft[a].sortableIndex,Vs[a].draggable=!1,Vs[a].style["will-change"]="",Mn(Vs[a],this.options.selectedClass,!1),Ft[a]===rn&&Mn(Vs[a],this.options.chosenClass,!1);n._hideClone(),r()}},clone:function(i){var n=i.sortable,r=i.rootEl,a=i.dispatchSortableEvent,s=i.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ft.length&&jo===n&&(ER(!0,r),a("clone"),s()))},showClone:function(i){var n=i.cloneNowShown,r=i.rootEl,a=i.cancel;this.isMultiDrag&&(ER(!1,r),Vs.forEach(function(s){ft(s,"display","")}),n(),s_=!1,a())},hideClone:function(i){var n=this;i.sortable;var r=i.cloneNowHidden,a=i.cancel;this.isMultiDrag&&(Vs.forEach(function(s){ft(s,"display","none"),n.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),r(),s_=!0,a())},dragStartGlobal:function(i){i.sortable,!this.isMultiDrag&&jo&&jo.multiDrag._deselectMultiDrag(),Ft.forEach(function(n){n.sortableIndex=Bn(n)}),Ft=Ft.sort(function(n,r){return n.sortableIndex-r.sortableIndex}),mp=!0},dragStarted:function(i){var n=this,r=i.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){Ft.forEach(function(s){s!==rn&&ft(s,"position","absolute")});var a=Fn(rn,!1,!0,!0);Ft.forEach(function(s){s!==rn&&gR(s,a)}),Ls=!0,Ly=!0}r.animateAll(function(){Ls=!1,Ly=!1,n.options.animation&&Ft.forEach(function(s){ET(s)}),n.options.sort&&o_()})}},dragOver:function(i){var n=i.target,r=i.completed,a=i.cancel;Ls&&~Ft.indexOf(n)&&(r(!1),a())},revert:function(i){var n=i.fromSortable,r=i.rootEl,a=i.sortable,s=i.dragRect;Ft.length>1&&(Ft.forEach(function(o){a.addAnimationState({target:o,rect:Ls?Fn(o):s}),ET(o),o.fromRect=s,n.removeAnimationState(o)}),Ls=!1,pW(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(i){var n=i.sortable,r=i.isOwner,a=i.insertion,s=i.activeSortable,o=i.parentEl,c=i.putSortable,d=this.options;if(a){if(r&&s._hideClone(),Ly=!1,d.animation&&Ft.length>1&&(Ls||!r&&!s.options.sort&&!c)){var p=Fn(rn,!1,!0,!0);Ft.forEach(function(y){y!==rn&&(gR(y,p),o.appendChild(y))}),Ls=!0}if(!r)if(Ls||o_(),Ft.length>1){var m=s_;s._showClone(n),s.options.animation&&!s_&&m&&Vs.forEach(function(y){s.addAnimationState({target:y,rect:By}),y.fromRect=By,y.thisAnimationDuration=null})}else s._showClone(n)}},dragOverAnimationCapture:function(i){var n=i.dragRect,r=i.isOwner,a=i.activeSortable;if(Ft.forEach(function(o){o.thisAnimationDuration=null}),a.options.animation&&!r&&a.multiDrag.isMultiDrag){By=xo({},n);var s=Xh(rn,!0);By.top-=s.f,By.left-=s.e}},dragOverAnimationComplete:function(){Ls&&(Ls=!1,o_())},drop:function(i){var n=i.originalEvent,r=i.rootEl,a=i.parentEl,s=i.sortable,o=i.dispatchSortableEvent,c=i.oldIndex,d=i.putSortable,p=d||this.sortable;if(n){var m=this.options,y=a.children;if(!mp)if(m.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Mn(rn,m.selectedClass,!~Ft.indexOf(rn)),~Ft.indexOf(rn))Ft.splice(Ft.indexOf(rn),1),Uy=null,rg({sortable:s,rootEl:r,name:"deselect",targetEl:rn,originalEvt:n});else{if(Ft.push(rn),rg({sortable:s,rootEl:r,name:"select",targetEl:rn,originalEvt:n}),n.shiftKey&&Uy&&s.el.contains(Uy)){var _=Bn(Uy),w=Bn(rn);if(~_&&~w&&_!==w){var C,k;for(w>_?(k=_,C=w):(k=w,C=_+1);k<C;k++)~Ft.indexOf(y[k])||(Mn(y[k],m.selectedClass,!0),Ft.push(y[k]),rg({sortable:s,rootEl:r,name:"select",targetEl:y[k],originalEvt:n}))}}else Uy=rn;jo=p}if(mp&&this.isMultiDrag){if((a[wa].options.sort||a!==r)&&Ft.length>1){var S=Fn(rn),x=Bn(rn,":not(."+this.options.selectedClass+")");if(!Ly&&m.animation&&(rn.thisAnimationDuration=null),p.captureAnimationState(),!Ly&&(m.animation&&(rn.fromRect=S,Ft.forEach(function(D){if(D.thisAnimationDuration=null,D!==rn){var B=Ls?Fn(D):S;D.fromRect=B,p.addAnimationState({target:D,rect:B})}})),o_(),Ft.forEach(function(D){y[x]?a.insertBefore(D,y[x]):a.appendChild(D),x++}),c===Bn(rn))){var O=!1;Ft.forEach(function(D){if(D.sortableIndex!==Bn(D)){O=!0;return}}),O&&o("update")}Ft.forEach(function(D){ET(D)}),p.animateAll()}jo=p}(r===a||d&&d.lastPutMode!=="clone")&&Vs.forEach(function(D){D.parentNode&&D.parentNode.removeChild(D)})}},nullingGlobal:function(){this.isMultiDrag=mp=!1,Vs.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ii(document,"pointerup",this._deselectMultiDrag),ii(document,"mouseup",this._deselectMultiDrag),ii(document,"touchend",this._deselectMultiDrag),ii(document,"keydown",this._checkKeyDown),ii(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(i){if(!(typeof mp<"u"&&mp)&&jo===this.sortable&&!(i&&Jo(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;Ft.length;){var n=Ft[0];Mn(n,this.options.selectedClass,!1),Ft.shift(),rg({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:n,originalEvt:i})}},_checkKeyDown:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},xo(t,{pluginName:"multiDrag",utils:{select:function(i){var n=i.parentNode[wa];!n||!n.options.multiDrag||~Ft.indexOf(i)||(jo&&jo!==n&&(jo.multiDrag._deselectMultiDrag(),jo=n),Mn(i,n.options.selectedClass,!0),Ft.push(i))},deselect:function(i){var n=i.parentNode[wa],r=Ft.indexOf(i);!n||!n.options.multiDrag||!~r||(Mn(i,n.options.selectedClass,!1),Ft.splice(r,1))}},eventProperties:function(){var i=this,n=[],r=[];return Ft.forEach(function(a){n.push({multiDragElement:a,index:a.sortableIndex});var s;Ls&&a!==rn?s=-1:Ls?s=Bn(a,":not(."+i.options.selectedClass+")"):s=Bn(a),r.push({multiDragElement:a,index:s})}),{items:$q(Ft),clones:[].concat(Vs),oldIndicies:n,newIndicies:r}},optionListeners:{multiDragKey:function(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function pW(t,e){Ft.forEach(function(i,n){var r=e.children[i.sortableIndex+(t?Number(n):0)];r?e.insertBefore(i,r):e.appendChild(i)})}function ER(t,e){Vs.forEach(function(i,n){var r=e.children[i.sortableIndex+(t?Number(n):0)];r?e.insertBefore(i,r):e.appendChild(i)})}function o_(){Ft.forEach(function(t){t!==rn&&t.parentNode&&t.parentNode.removeChild(t)})}At.mount(new uW);At.mount(SS,kS);const mW=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:fW,Sortable:At,Swap:dW,default:At},Symbol.toStringTag,{value:"Module"})),yW=s6(mW);(function(t,e){(function(n,r){t.exports=r(yW)})(typeof self<"u"?self:Ci,function(i){return function(n){var r={};function a(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(s,o,c){a.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:c})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,o){if(o&1&&(s=a(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var d in s)a.d(c,d,(function(p){return s[p]}).bind(null,d));return c},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s="fb15")}({"01f9":function(n,r,a){var s=a("2d00"),o=a("5ca1"),c=a("2aba"),d=a("32e9"),p=a("84f2"),m=a("41a0"),y=a("7f20"),_=a("38fd"),w=a("2b4c")("iterator"),C=!([].keys&&"next"in[].keys()),k="@@iterator",S="keys",x="values",O=function(){return this};n.exports=function(D,B,P,R,I,F,$){m(P,B,R);var L=function(q){if(!C&&q in re)return re[q];switch(q){case S:return function(){return new P(this,q)};case x:return function(){return new P(this,q)}}return function(){return new P(this,q)}},W=B+" Iterator",j=I==x,z=!1,re=D.prototype,ce=re[w]||re[k]||I&&re[I],ge=ce||L(I),be=I?j?L("entries"):ge:void 0,ue=B=="Array"&&re.entries||ce,se,Z,K;if(ue&&(K=_(ue.call(new D)),K!==Object.prototype&&K.next&&(y(K,W,!0),!s&&typeof K[w]!="function"&&d(K,w,O))),j&&ce&&ce.name!==x&&(z=!0,ge=function(){return ce.call(this)}),(!s||$)&&(C||z||!re[w])&&d(re,w,ge),p[B]=ge,p[W]=O,I)if(se={values:j?ge:L(x),keys:F?ge:L(S),entries:be},$)for(Z in se)Z in re||c(re,Z,se[Z]);else o(o.P+o.F*(C||z),B,se);return se}},"02f4":function(n,r,a){var s=a("4588"),o=a("be13");n.exports=function(c){return function(d,p){var m=String(o(d)),y=s(p),_=m.length,w,C;return y<0||y>=_?c?"":void 0:(w=m.charCodeAt(y),w<55296||w>56319||y+1===_||(C=m.charCodeAt(y+1))<56320||C>57343?c?m.charAt(y):w:c?m.slice(y,y+2):(w-55296<<10)+(C-56320)+65536)}}},"0390":function(n,r,a){var s=a("02f4")(!0);n.exports=function(o,c,d){return c+(d?s(o,c).length:1)}},"0bfb":function(n,r,a){var s=a("cb7c");n.exports=function(){var o=s(this),c="";return o.global&&(c+="g"),o.ignoreCase&&(c+="i"),o.multiline&&(c+="m"),o.unicode&&(c+="u"),o.sticky&&(c+="y"),c}},"0d58":function(n,r,a){var s=a("ce10"),o=a("e11e");n.exports=Object.keys||function(d){return s(d,o)}},1495:function(n,r,a){var s=a("86cc"),o=a("cb7c"),c=a("0d58");n.exports=a("9e1e")?Object.defineProperties:function(p,m){o(p);for(var y=c(m),_=y.length,w=0,C;_>w;)s.f(p,C=y[w++],m[C]);return p}},"214f":function(n,r,a){a("b0c5");var s=a("2aba"),o=a("32e9"),c=a("79e5"),d=a("be13"),p=a("2b4c"),m=a("520a"),y=p("species"),_=!c(function(){var C=/./;return C.exec=function(){var k=[];return k.groups={a:"7"},k},"".replace(C,"$<a>")!=="7"}),w=function(){var C=/(?:)/,k=C.exec;C.exec=function(){return k.apply(this,arguments)};var S="ab".split(C);return S.length===2&&S[0]==="a"&&S[1]==="b"}();n.exports=function(C,k,S){var x=p(C),O=!c(function(){var F={};return F[x]=function(){return 7},""[C](F)!=7}),D=O?!c(function(){var F=!1,$=/a/;return $.exec=function(){return F=!0,null},C==="split"&&($.constructor={},$.constructor[y]=function(){return $}),$[x](""),!F}):void 0;if(!O||!D||C==="replace"&&!_||C==="split"&&!w){var B=/./[x],P=S(d,x,""[C],function($,L,W,j,z){return L.exec===m?O&&!z?{done:!0,value:B.call(L,W,j)}:{done:!0,value:$.call(W,L,j)}:{done:!1}}),R=P[0],I=P[1];s(String.prototype,C,R),o(RegExp.prototype,x,k==2?function(F,$){return I.call(F,this,$)}:function(F){return I.call(F,this)})}}},"230e":function(n,r,a){var s=a("d3f4"),o=a("7726").document,c=s(o)&&s(o.createElement);n.exports=function(d){return c?o.createElement(d):{}}},"23c6":function(n,r,a){var s=a("2d95"),o=a("2b4c")("toStringTag"),c=s(function(){return arguments}())=="Arguments",d=function(p,m){try{return p[m]}catch{}};n.exports=function(p){var m,y,_;return p===void 0?"Undefined":p===null?"Null":typeof(y=d(m=Object(p),o))=="string"?y:c?s(m):(_=s(m))=="Object"&&typeof m.callee=="function"?"Arguments":_}},2621:function(n,r){r.f=Object.getOwnPropertySymbols},"2aba":function(n,r,a){var s=a("7726"),o=a("32e9"),c=a("69a8"),d=a("ca5a")("src"),p=a("fa5b"),m="toString",y=(""+p).split(m);a("8378").inspectSource=function(_){return p.call(_)},(n.exports=function(_,w,C,k){var S=typeof C=="function";S&&(c(C,"name")||o(C,"name",w)),_[w]!==C&&(S&&(c(C,d)||o(C,d,_[w]?""+_[w]:y.join(String(w)))),_===s?_[w]=C:k?_[w]?_[w]=C:o(_,w,C):(delete _[w],o(_,w,C)))})(Function.prototype,m,function(){return typeof this=="function"&&this[d]||p.call(this)})},"2aeb":function(n,r,a){var s=a("cb7c"),o=a("1495"),c=a("e11e"),d=a("613b")("IE_PROTO"),p=function(){},m="prototype",y=function(){var _=a("230e")("iframe"),w=c.length,C="<",k=">",S;for(_.style.display="none",a("fab2").appendChild(_),_.src="javascript:",S=_.contentWindow.document,S.open(),S.write(C+"script"+k+"document.F=Object"+C+"/script"+k),S.close(),y=S.F;w--;)delete y[m][c[w]];return y()};n.exports=Object.create||function(w,C){var k;return w!==null?(p[m]=s(w),k=new p,p[m]=null,k[d]=w):k=y(),C===void 0?k:o(k,C)}},"2b4c":function(n,r,a){var s=a("5537")("wks"),o=a("ca5a"),c=a("7726").Symbol,d=typeof c=="function",p=n.exports=function(m){return s[m]||(s[m]=d&&c[m]||(d?c:o)("Symbol."+m))};p.store=s},"2d00":function(n,r){n.exports=!1},"2d95":function(n,r){var a={}.toString;n.exports=function(s){return a.call(s).slice(8,-1)}},"2fdb":function(n,r,a){var s=a("5ca1"),o=a("d2c8"),c="includes";s(s.P+s.F*a("5147")(c),"String",{includes:function(p){return!!~o(this,p,c).indexOf(p,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(n,r,a){var s=a("86cc"),o=a("4630");n.exports=a("9e1e")?function(c,d,p){return s.f(c,d,o(1,p))}:function(c,d,p){return c[d]=p,c}},"38fd":function(n,r,a){var s=a("69a8"),o=a("4bf8"),c=a("613b")("IE_PROTO"),d=Object.prototype;n.exports=Object.getPrototypeOf||function(p){return p=o(p),s(p,c)?p[c]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?d:null}},"41a0":function(n,r,a){var s=a("2aeb"),o=a("4630"),c=a("7f20"),d={};a("32e9")(d,a("2b4c")("iterator"),function(){return this}),n.exports=function(p,m,y){p.prototype=s(d,{next:o(1,y)}),c(p,m+" Iterator")}},"456d":function(n,r,a){var s=a("4bf8"),o=a("0d58");a("5eda")("keys",function(){return function(d){return o(s(d))}})},4588:function(n,r){var a=Math.ceil,s=Math.floor;n.exports=function(o){return isNaN(o=+o)?0:(o>0?s:a)(o)}},4630:function(n,r){n.exports=function(a,s){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:s}}},"4bf8":function(n,r,a){var s=a("be13");n.exports=function(o){return Object(s(o))}},5147:function(n,r,a){var s=a("2b4c")("match");n.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[s]=!1,!"/./"[o](c)}catch{}}return!0}},"520a":function(n,r,a){var s=a("0bfb"),o=RegExp.prototype.exec,c=String.prototype.replace,d=o,p="lastIndex",m=function(){var w=/a/,C=/b*/g;return o.call(w,"a"),o.call(C,"a"),w[p]!==0||C[p]!==0}(),y=/()??/.exec("")[1]!==void 0,_=m||y;_&&(d=function(C){var k=this,S,x,O,D;return y&&(x=new RegExp("^"+k.source+"$(?!\\s)",s.call(k))),m&&(S=k[p]),O=o.call(k,C),m&&O&&(k[p]=k.global?O.index+O[0].length:S),y&&O&&O.length>1&&c.call(O[0],x,function(){for(D=1;D<arguments.length-2;D++)arguments[D]===void 0&&(O[D]=void 0)}),O}),n.exports=d},"52a7":function(n,r){r.f={}.propertyIsEnumerable},5537:function(n,r,a){var s=a("8378"),o=a("7726"),c="__core-js_shared__",d=o[c]||(o[c]={});(n.exports=function(p,m){return d[p]||(d[p]=m!==void 0?m:{})})("versions",[]).push({version:s.version,mode:a("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(n,r,a){var s=a("7726"),o=a("8378"),c=a("32e9"),d=a("2aba"),p=a("9b43"),m="prototype",y=function(_,w,C){var k=_&y.F,S=_&y.G,x=_&y.S,O=_&y.P,D=_&y.B,B=S?s:x?s[w]||(s[w]={}):(s[w]||{})[m],P=S?o:o[w]||(o[w]={}),R=P[m]||(P[m]={}),I,F,$,L;S&&(C=w);for(I in C)F=!k&&B&&B[I]!==void 0,$=(F?B:C)[I],L=D&&F?p($,s):O&&typeof $=="function"?p(Function.call,$):$,B&&d(B,I,$,_&y.U),P[I]!=$&&c(P,I,L),O&&R[I]!=$&&(R[I]=$)};s.core=o,y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128,n.exports=y},"5eda":function(n,r,a){var s=a("5ca1"),o=a("8378"),c=a("79e5");n.exports=function(d,p){var m=(o.Object||{})[d]||Object[d],y={};y[d]=p(m),s(s.S+s.F*c(function(){m(1)}),"Object",y)}},"5f1b":function(n,r,a){var s=a("23c6"),o=RegExp.prototype.exec;n.exports=function(c,d){var p=c.exec;if(typeof p=="function"){var m=p.call(c,d);if(typeof m!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return m}if(s(c)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(c,d)}},"613b":function(n,r,a){var s=a("5537")("keys"),o=a("ca5a");n.exports=function(c){return s[c]||(s[c]=o(c))}},"626a":function(n,r,a){var s=a("2d95");n.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return s(o)=="String"?o.split(""):Object(o)}},6762:function(n,r,a){var s=a("5ca1"),o=a("c366")(!0);s(s.P,"Array",{includes:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},6821:function(n,r,a){var s=a("626a"),o=a("be13");n.exports=function(c){return s(o(c))}},"69a8":function(n,r){var a={}.hasOwnProperty;n.exports=function(s,o){return a.call(s,o)}},"6a99":function(n,r,a){var s=a("d3f4");n.exports=function(o,c){if(!s(o))return o;var d,p;if(c&&typeof(d=o.toString)=="function"&&!s(p=d.call(o))||typeof(d=o.valueOf)=="function"&&!s(p=d.call(o))||!c&&typeof(d=o.toString)=="function"&&!s(p=d.call(o)))return p;throw TypeError("Can't convert object to primitive value")}},7333:function(n,r,a){var s=a("0d58"),o=a("2621"),c=a("52a7"),d=a("4bf8"),p=a("626a"),m=Object.assign;n.exports=!m||a("79e5")(function(){var y={},_={},w=Symbol(),C="abcdefghijklmnopqrst";return y[w]=7,C.split("").forEach(function(k){_[k]=k}),m({},y)[w]!=7||Object.keys(m({},_)).join("")!=C})?function(_,w){for(var C=d(_),k=arguments.length,S=1,x=o.f,O=c.f;k>S;)for(var D=p(arguments[S++]),B=x?s(D).concat(x(D)):s(D),P=B.length,R=0,I;P>R;)O.call(D,I=B[R++])&&(C[I]=D[I]);return C}:m},7726:function(n,r){var a=n.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=a)},"77f1":function(n,r,a){var s=a("4588"),o=Math.max,c=Math.min;n.exports=function(d,p){return d=s(d),d<0?o(d+p,0):c(d,p)}},"79e5":function(n,r){n.exports=function(a){try{return!!a()}catch{return!0}}},"7f20":function(n,r,a){var s=a("86cc").f,o=a("69a8"),c=a("2b4c")("toStringTag");n.exports=function(d,p,m){d&&!o(d=m?d:d.prototype,c)&&s(d,c,{configurable:!0,value:p})}},8378:function(n,r){var a=n.exports={version:"2.6.5"};typeof __e=="number"&&(__e=a)},"84f2":function(n,r){n.exports={}},"86cc":function(n,r,a){var s=a("cb7c"),o=a("c69a"),c=a("6a99"),d=Object.defineProperty;r.f=a("9e1e")?Object.defineProperty:function(m,y,_){if(s(m),y=c(y,!0),s(_),o)try{return d(m,y,_)}catch{}if("get"in _||"set"in _)throw TypeError("Accessors not supported!");return"value"in _&&(m[y]=_.value),m}},"9b43":function(n,r,a){var s=a("d8e8");n.exports=function(o,c,d){if(s(o),c===void 0)return o;switch(d){case 1:return function(p){return o.call(c,p)};case 2:return function(p,m){return o.call(c,p,m)};case 3:return function(p,m,y){return o.call(c,p,m,y)}}return function(){return o.apply(c,arguments)}}},"9c6c":function(n,r,a){var s=a("2b4c")("unscopables"),o=Array.prototype;o[s]==null&&a("32e9")(o,s,{}),n.exports=function(c){o[s][c]=!0}},"9def":function(n,r,a){var s=a("4588"),o=Math.min;n.exports=function(c){return c>0?o(s(c),9007199254740991):0}},"9e1e":function(n,r,a){n.exports=!a("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(n,r){n.exports=i},a481:function(n,r,a){var s=a("cb7c"),o=a("4bf8"),c=a("9def"),d=a("4588"),p=a("0390"),m=a("5f1b"),y=Math.max,_=Math.min,w=Math.floor,C=/\$([$&`']|\d\d?|<[^>]*>)/g,k=/\$([$&`']|\d\d?)/g,S=function(x){return x===void 0?x:String(x)};a("214f")("replace",2,function(x,O,D,B){return[function(I,F){var $=x(this),L=I==null?void 0:I[O];return L!==void 0?L.call(I,$,F):D.call(String($),I,F)},function(R,I){var F=B(D,R,this,I);if(F.done)return F.value;var $=s(R),L=String(this),W=typeof I=="function";W||(I=String(I));var j=$.global;if(j){var z=$.unicode;$.lastIndex=0}for(var re=[];;){var ce=m($,L);if(ce===null||(re.push(ce),!j))break;var ge=String(ce[0]);ge===""&&($.lastIndex=p(L,c($.lastIndex),z))}for(var be="",ue=0,se=0;se<re.length;se++){ce=re[se];for(var Z=String(ce[0]),K=y(_(d(ce.index),L.length),0),q=[],ie=1;ie<ce.length;ie++)q.push(S(ce[ie]));var le=ce.groups;if(W){var Q=[Z].concat(q,K,L);le!==void 0&&Q.push(le);var fe=String(I.apply(void 0,Q))}else fe=P(Z,L,K,q,le,I);K>=ue&&(be+=L.slice(ue,K)+fe,ue=K+Z.length)}return be+L.slice(ue)}];function P(R,I,F,$,L,W){var j=F+R.length,z=$.length,re=k;return L!==void 0&&(L=o(L),re=C),D.call(W,re,function(ce,ge){var be;switch(ge.charAt(0)){case"$":return"$";case"&":return R;case"`":return I.slice(0,F);case"'":return I.slice(j);case"<":be=L[ge.slice(1,-1)];break;default:var ue=+ge;if(ue===0)return ce;if(ue>z){var se=w(ue/10);return se===0?ce:se<=z?$[se-1]===void 0?ge.charAt(1):$[se-1]+ge.charAt(1):ce}be=$[ue-1]}return be===void 0?"":be})}})},aae3:function(n,r,a){var s=a("d3f4"),o=a("2d95"),c=a("2b4c")("match");n.exports=function(d){var p;return s(d)&&((p=d[c])!==void 0?!!p:o(d)=="RegExp")}},ac6a:function(n,r,a){for(var s=a("cadf"),o=a("0d58"),c=a("2aba"),d=a("7726"),p=a("32e9"),m=a("84f2"),y=a("2b4c"),_=y("iterator"),w=y("toStringTag"),C=m.Array,k={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},S=o(k),x=0;x<S.length;x++){var O=S[x],D=k[O],B=d[O],P=B&&B.prototype,R;if(P&&(P[_]||p(P,_,C),P[w]||p(P,w,O),m[O]=C,D))for(R in s)P[R]||c(P,R,s[R],!0)}},b0c5:function(n,r,a){var s=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},be13:function(n,r){n.exports=function(a){if(a==null)throw TypeError("Can't call method on  "+a);return a}},c366:function(n,r,a){var s=a("6821"),o=a("9def"),c=a("77f1");n.exports=function(d){return function(p,m,y){var _=s(p),w=o(_.length),C=c(y,w),k;if(d&&m!=m){for(;w>C;)if(k=_[C++],k!=k)return!0}else for(;w>C;C++)if((d||C in _)&&_[C]===m)return d||C||0;return!d&&-1}}},c649:function(n,r,a){(function(s){a.d(r,"c",function(){return _}),a.d(r,"a",function(){return m}),a.d(r,"b",function(){return c}),a.d(r,"d",function(){return y}),a("a481");function o(){return typeof window<"u"?window.console:s.console}var c=o();function d(w){var C=Object.create(null);return function(S){var x=C[S];return x||(C[S]=w(S))}}var p=/-(\w)/g,m=d(function(w){return w.replace(p,function(C,k){return k?k.toUpperCase():""})});function y(w){w.parentElement!==null&&w.parentElement.removeChild(w)}function _(w,C,k){var S=k===0?w.children[0]:w.children[k-1].nextSibling;w.insertBefore(C,S)}}).call(this,a("c8ba"))},c69a:function(n,r,a){n.exports=!a("9e1e")&&!a("79e5")(function(){return Object.defineProperty(a("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(n,r){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}n.exports=a},ca5a:function(n,r){var a=0,s=Math.random();n.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++a+s).toString(36))}},cadf:function(n,r,a){var s=a("9c6c"),o=a("d53b"),c=a("84f2"),d=a("6821");n.exports=a("01f9")(Array,"Array",function(p,m){this._t=d(p),this._i=0,this._k=m},function(){var p=this._t,m=this._k,y=this._i++;return!p||y>=p.length?(this._t=void 0,o(1)):m=="keys"?o(0,y):m=="values"?o(0,p[y]):o(0,[y,p[y]])},"values"),c.Arguments=c.Array,s("keys"),s("values"),s("entries")},cb7c:function(n,r,a){var s=a("d3f4");n.exports=function(o){if(!s(o))throw TypeError(o+" is not an object!");return o}},ce10:function(n,r,a){var s=a("69a8"),o=a("6821"),c=a("c366")(!1),d=a("613b")("IE_PROTO");n.exports=function(p,m){var y=o(p),_=0,w=[],C;for(C in y)C!=d&&s(y,C)&&w.push(C);for(;m.length>_;)s(y,C=m[_++])&&(~c(w,C)||w.push(C));return w}},d2c8:function(n,r,a){var s=a("aae3"),o=a("be13");n.exports=function(c,d,p){if(s(d))throw TypeError("String#"+p+" doesn't accept regex!");return String(o(c))}},d3f4:function(n,r){n.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},d53b:function(n,r){n.exports=function(a,s){return{value:s,done:!!a}}},d8e8:function(n,r){n.exports=function(a){if(typeof a!="function")throw TypeError(a+" is not a function!");return a}},e11e:function(n,r){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(n,r,a){var s=a("5ca1"),o=a("9def"),c=a("d2c8"),d="startsWith",p=""[d];s(s.P+s.F*a("5147")(d),"String",{startsWith:function(y){var _=c(this,y,d),w=o(Math.min(arguments.length>1?arguments[1]:void 0,_.length)),C=String(y);return p?p.call(_,C,w):_.slice(w,w+C.length)===C}})},f6fd:function(n,r){(function(a){var s="currentScript",o=a.getElementsByTagName("script");s in a||Object.defineProperty(a,s,{get:function(){try{throw new Error}catch(p){var c,d=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(p.stack)||[!1])[1];for(c in o)if(o[c].src==d||o[c].readyState=="interactive")return o[c];return null}}})})(document)},f751:function(n,r,a){var s=a("5ca1");s(s.S+s.F,"Object",{assign:a("7333")})},fa5b:function(n,r,a){n.exports=a("5537")("native-function-to-string",Function.toString)},fab2:function(n,r,a){var s=a("7726").document;n.exports=s&&s.documentElement},fb15:function(n,r,a){if(a.r(r),typeof window<"u"){a("f6fd");var s;(s=window.document.currentScript)&&(s=s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(a.p=s[1])}a("f751"),a("f559"),a("ac6a"),a("cadf"),a("456d");function o(Z){if(Array.isArray(Z))return Z}function c(Z,K){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Z)))){var q=[],ie=!0,le=!1,Q=void 0;try{for(var fe=Z[Symbol.iterator](),de;!(ie=(de=fe.next()).done)&&(q.push(de.value),!(K&&q.length===K));ie=!0);}catch(he){le=!0,Q=he}finally{try{!ie&&fe.return!=null&&fe.return()}finally{if(le)throw Q}}return q}}function d(Z,K){(K==null||K>Z.length)&&(K=Z.length);for(var q=0,ie=new Array(K);q<K;q++)ie[q]=Z[q];return ie}function p(Z,K){if(Z){if(typeof Z=="string")return d(Z,K);var q=Object.prototype.toString.call(Z).slice(8,-1);if(q==="Object"&&Z.constructor&&(q=Z.constructor.name),q==="Map"||q==="Set")return Array.from(Z);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return d(Z,K)}}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(Z,K){return o(Z)||c(Z,K)||p(Z,K)||m()}a("6762"),a("2fdb");function _(Z){if(Array.isArray(Z))return d(Z)}function w(Z){if(typeof Symbol<"u"&&Symbol.iterator in Object(Z))return Array.from(Z)}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(Z){return _(Z)||w(Z)||p(Z)||C()}var S=a("a352"),x=a.n(S),O=a("c649");function D(Z,K,q){return q===void 0||(Z=Z||{},Z[K]=q),Z}function B(Z,K){return Z.map(function(q){return q.elm}).indexOf(K)}function P(Z,K,q,ie){if(!Z)return[];var le=Z.map(function(de){return de.elm}),Q=K.length-ie,fe=k(K).map(function(de,he){return he>=Q?le.length:le.indexOf(de)});return q?fe.filter(function(de){return de!==-1}):fe}function R(Z,K){var q=this;this.$nextTick(function(){return q.$emit(Z.toLowerCase(),K)})}function I(Z){var K=this;return function(q){K.realList!==null&&K["onDrag"+Z](q),R.call(K,Z,q)}}function F(Z){return["transition-group","TransitionGroup"].includes(Z)}function $(Z){if(!Z||Z.length!==1)return!1;var K=y(Z,1),q=K[0].componentOptions;return q?F(q.tag):!1}function L(Z,K,q){return Z[q]||(K[q]?K[q]():void 0)}function W(Z,K,q){var ie=0,le=0,Q=L(K,q,"header");Q&&(ie=Q.length,Z=Z?[].concat(k(Q),k(Z)):k(Q));var fe=L(K,q,"footer");return fe&&(le=fe.length,Z=Z?[].concat(k(Z),k(fe)):k(fe)),{children:Z,headerOffset:ie,footerOffset:le}}function j(Z,K){var q=null,ie=function(ve,ne){q=D(q,ve,ne)},le=Object.keys(Z).filter(function(he){return he==="id"||he.startsWith("data-")}).reduce(function(he,ve){return he[ve]=Z[ve],he},{});if(ie("attrs",le),!K)return q;var Q=K.on,fe=K.props,de=K.attrs;return ie("on",Q),ie("props",fe),Object.assign(q.attrs,de),q}var z=["Start","Add","Remove","Update","End"],re=["Choose","Unchoose","Sort","Filter","Clone"],ce=["Move"].concat(z,re).map(function(Z){return"on"+Z}),ge=null,be={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(K){return K}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ue={name:"draggable",inheritAttrs:!1,props:be,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(K){var q=this.$slots.default;this.transitionMode=$(q);var ie=W(q,this.$slots,this.$scopedSlots),le=ie.children,Q=ie.headerOffset,fe=ie.footerOffset;this.headerOffset=Q,this.footerOffset=fe;var de=j(this.$attrs,this.componentData);return K(this.getTag(),de,le)},created:function(){this.list!==null&&this.value!==null&&O.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&O.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&O.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var K=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var q={};z.forEach(function(Q){q["on"+Q]=I.call(K,Q)}),re.forEach(function(Q){q["on"+Q]=R.bind(K,Q)});var ie=Object.keys(this.$attrs).reduce(function(Q,fe){return Q[Object(O.a)(fe)]=K.$attrs[fe],Q},{}),le=Object.assign({},this.options,ie,q,{onMove:function(fe,de){return K.onDragMove(fe,de)}});!("draggable"in le)&&(le.draggable=">*"),this._sortable=new x.a(this.rootContainer,le),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(K){this.updateOptions(K)},deep:!0},$attrs:{handler:function(K){this.updateOptions(K)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var K=this._vnode.fnOptions;return K&&K.functional},getTag:function(){return this.tag||this.element},updateOptions:function(K){for(var q in K){var ie=Object(O.a)(q);ce.indexOf(ie)===-1&&this._sortable.option(ie,K[q])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var K=this.$slots.default;return this.transitionMode?K[0].child.$slots.default:K},computeIndexes:function(){var K=this;this.$nextTick(function(){K.visibleIndexes=P(K.getChildrenNodes(),K.rootContainer.children,K.transitionMode,K.footerOffset)})},getUnderlyingVm:function(K){var q=B(this.getChildrenNodes()||[],K);if(q===-1)return null;var ie=this.realList[q];return{index:q,element:ie}},getUnderlyingPotencialDraggableComponent:function(K){var q=K.__vue__;return!q||!q.$options||!F(q.$options._componentTag)?!("realList"in q)&&q.$children.length===1&&"realList"in q.$children[0]?q.$children[0]:q:q.$parent},emitChanges:function(K){var q=this;this.$nextTick(function(){q.$emit("change",K)})},alterList:function(K){if(this.list){K(this.list);return}var q=k(this.value);K(q),this.$emit("input",q)},spliceList:function(){var K=arguments,q=function(le){return le.splice.apply(le,k(K))};this.alterList(q)},updatePosition:function(K,q){var ie=function(Q){return Q.splice(q,0,Q.splice(K,1)[0])};this.alterList(ie)},getRelatedContextFromMoveEvent:function(K){var q=K.to,ie=K.related,le=this.getUnderlyingPotencialDraggableComponent(q);if(!le)return{component:le};var Q=le.realList,fe={list:Q,component:le};if(q!==ie&&Q&&le.getUnderlyingVm){var de=le.getUnderlyingVm(ie);if(de)return Object.assign(de,fe)}return fe},getVmIndex:function(K){var q=this.visibleIndexes,ie=q.length;return K>ie-1?ie:q[K]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(K){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var q=this.getChildrenNodes();q[K].data=null;var ie=this.getComponent();ie.children=[],ie.kept=void 0}},onDragStart:function(K){this.context=this.getUnderlyingVm(K.item),K.item._underlying_vm_=this.clone(this.context.element),ge=K.item},onDragAdd:function(K){var q=K.item._underlying_vm_;if(q!==void 0){Object(O.d)(K.item);var ie=this.getVmIndex(K.newIndex);this.spliceList(ie,0,q),this.computeIndexes();var le={element:q,newIndex:ie};this.emitChanges({added:le})}},onDragRemove:function(K){if(Object(O.c)(this.rootContainer,K.item,K.oldIndex),K.pullMode==="clone"){Object(O.d)(K.clone);return}var q=this.context.index;this.spliceList(q,1);var ie={element:this.context.element,oldIndex:q};this.resetTransitionData(q),this.emitChanges({removed:ie})},onDragUpdate:function(K){Object(O.d)(K.item),Object(O.c)(K.from,K.item,K.oldIndex);var q=this.context.index,ie=this.getVmIndex(K.newIndex);this.updatePosition(q,ie);var le={element:this.context.element,oldIndex:q,newIndex:ie};this.emitChanges({moved:le})},updateProperty:function(K,q){K.hasOwnProperty(q)&&(K[q]+=this.headerOffset)},computeFutureIndex:function(K,q){if(!K.element)return 0;var ie=k(q.to.children).filter(function(de){return de.style.display!=="none"}),le=ie.indexOf(q.related),Q=K.component.getVmIndex(le),fe=ie.indexOf(ge)!==-1;return fe||!q.willInsertAfter?Q:Q+1},onDragMove:function(K,q){var ie=this.move;if(!ie||!this.realList)return!0;var le=this.getRelatedContextFromMoveEvent(K),Q=this.context,fe=this.computeFutureIndex(le,K);Object.assign(Q,{futureIndex:fe});var de=Object.assign({},K,{relatedContext:le,draggedContext:Q});return ie(de,q)},onDragEnd:function(){this.computeIndexes(),ge=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",ue);var se=ue;r.default=se}}).default})})(iG);var gW=iG.exports;const AS=oc(gW);var e0={exports:{}},MT={},Ts={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});function pG(t){return t&&t.length===0}ze.isEmpty=pG;function If(t){return t==null?[]:Object.keys(t)}ze.keys=If;function mG(t){for(var e=[],i=Object.keys(t),n=0;n<i.length;n++)e.push(t[i[n]]);return e}ze.values=mG;function vW(t,e){for(var i=[],n=If(t),r=0;r<n.length;r++){var a=n[r];i.push(e.call(null,t[a],a))}return i}ze.mapValues=vW;function bW(t,e){for(var i=[],n=0;n<t.length;n++)i.push(e.call(null,t[n],n));return i}ze.map=bW;function yG(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];Array.isArray(n)?e=e.concat(yG(n)):e.push(n)}return e}ze.flatten=yG;function _W(t){return pG(t)?void 0:t[0]}ze.first=_W;function wW(t){var e=t&&t.length;return e?t[e-1]:void 0}ze.last=wW;function gG(t,e){if(Array.isArray(t))for(var i=0;i<t.length;i++)e.call(null,t[i],i);else if(IS(t))for(var n=If(t),i=0;i<n.length;i++){var r=n[i],a=t[r];e.call(null,a,r)}else throw Error("non exhaustive match")}ze.forEach=gG;function EW(t){return typeof t=="string"}ze.isString=EW;function vG(t){return t===void 0}ze.isUndefined=vG;function TW(t){return t instanceof Function}ze.isFunction=TW;function CW(t,e){return e===void 0&&(e=1),t.slice(e,t.length)}ze.drop=CW;function kW(t,e){return e===void 0&&(e=1),t.slice(0,t.length-e)}ze.dropRight=kW;function bG(t,e){var i=[];if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];e.call(null,r)&&i.push(r)}return i}ze.filter=bG;function xS(t,e){return bG(t,function(i){return!e(i)})}ze.reject=xS;function SW(t,e){for(var i=Object.keys(t),n={},r=0;r<i.length;r++){var a=i[r],s=t[a];e(s)&&(n[a]=s)}return n}ze.pick=SW;function _G(t,e){return IS(t)?t.hasOwnProperty(e):!1}ze.has=_G;function DS(t,e){return TG(t,function(i){return i===e})!==void 0}ze.contains=DS;function wG(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}ze.cloneArr=wG;function EG(t){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}ze.cloneObj=EG;function TG(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(e.call(null,n))return n}}ze.find=TG;function AW(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];e.call(null,r)&&i.push(r)}return i}ze.findAll=AW;function CG(t,e,i){for(var n=Array.isArray(t),r=n?t:mG(t),a=n?[]:If(t),s=i,o=0;o<r.length;o++)s=e.call(null,s,r[o],n?o:a[o]);return s}ze.reduce=CG;function xW(t){return xS(t,function(e){return e==null})}ze.compact=xW;function DW(t,e){e===void 0&&(e=function(n){return n});var i=[];return CG(t,function(n,r){var a=e(r);return DS(i,a)?n:(i.push(a),n.concat(r))},[])}ze.uniq=DW;function IW(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=[null],r=n.concat(e);return Function.bind.apply(t,r)}ze.partial=IW;function RW(t){return Array.isArray(t)}ze.isArray=RW;function MW(t){return t instanceof RegExp}ze.isRegExp=MW;function IS(t){return t instanceof Object}ze.isObject=IS;function PW(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0}ze.every=PW;function OW(t,e){return xS(t,function(i){return DS(e,i)})}ze.difference=OW;function NW(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return!0;return!1}ze.some=NW;function GW(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}ze.indexOf=GW;function UW(t,e){var i=wG(t);return i.sort(function(n,r){return e(n)-e(r)}),i}ze.sortBy=UW;function LW(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var i={},n=0;n<t.length;n++)i[t[n]]=e[n];return i}ze.zipObject=LW;function BW(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++)for(var r=e[n],a=If(r),s=0;s<a.length;s++){var o=a[s];t[o]=r[o]}return t}ze.assign=BW;function kG(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++){var r=e[n];if(!vG(r))for(var a=If(r),s=0;s<a.length;s++){var o=a[s];_G(t,o)||(t[o]=r[o])}}return t}ze.assignNoOverwrite=kG;function $W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kG.apply(null,[{}].concat(t))}ze.defaults=$W;function FW(t,e){var i={};return gG(t,function(n){var r=e(n),a=i[r];a?a.push(n):i[r]=[n]}),i}ze.groupBy=FW;function HW(t,e){for(var i=EG(t),n=If(e),r=0;r<n.length;r++){var a=n[r],s=e[a];i[a]=s}return i}ze.merge=HW;function VW(){}ze.NOOP=VW;function YW(t){return t}ze.IDENTITY=YW;function qW(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(n!==void 0?n:void 0)}return e}ze.packArray=qW;function WW(t){console&&console.error&&console.error("Error: "+t)}ze.PRINT_ERROR=WW;function jW(t){console&&console.warn&&console.warn("Warning: "+t)}ze.PRINT_WARNING=jW;function zW(){return typeof Map=="function"}ze.isES2015MapSupported=zW;function XW(t,e){e.forEach(function(i){var n=i.prototype;Object.getOwnPropertyNames(n).forEach(function(r){if(r!=="constructor"){var a=Object.getOwnPropertyDescriptor(n,r);a&&(a.get||a.set)?Object.defineProperty(t.prototype,r,a):t.prototype[r]=i.prototype[r]}})})}ze.applyMixins=XW;function KW(t){function e(){}e.prototype=t;var i=new e;function n(){return typeof i.bar}return n(),n(),t}ze.toFastProperties=KW;Object.defineProperty(Ts,"__esModule",{value:!0});var lg=ze;function ZW(t){return SG(t.constructor)}Ts.classNameFromInstance=ZW;var QW=/^\s*function\s*(\S*)\s*\(/,TR="name";function SG(t){var e=t.name;if(e)return e;var i=t.toString().match(QW)[1];return i}Ts.functionName=SG;function JW(t,e){var i=Object.getOwnPropertyDescriptor(t,TR);return lg.isUndefined(i)||i.configurable?(Object.defineProperty(t,TR,{enumerable:!1,configurable:!0,writable:!1,value:e}),!0):!1}Ts.defineNameProp=JW;var ej=function(){function t(){this._state={}}return t.prototype.keys=function(){return lg.keys(this._state)},t.prototype.values=function(){return lg.values(this._state)},t.prototype.put=function(e,i){this._state[e]=i},t.prototype.putAll=function(e){this._state=lg.assign(this._state,e._state)},t.prototype.get=function(e){return this._state[e]},t.prototype.containsKey=function(e){return lg.has(this._state,e)},t.prototype.clear=function(){this._state={}},t}();Ts.HashTable=ej;var Gm={},Lv={},ji={},PT={},OT={},NT={},AG={exports:{}};(function(t){(function(e,i){t.exports?t.exports=i():e.regexpToAst=i()})(typeof self<"u"?self:Ci,function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(C){this.idx=C.idx,this.input=C.input,this.groupIdx=C.groupIdx},e.prototype.pattern=function(C){this.idx=0,this.input=C,this.groupIdx=0,this.consumeChar("/");var k=this.disjunction();this.consumeChar("/");for(var S={type:"Flags",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":o(S,"global");break;case"i":o(S,"ignoreCase");break;case"m":o(S,"multiLine");break;case"u":o(S,"unicode");break;case"y":o(S,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:S,value:k}},e.prototype.disjunction=function(){var C=[];for(C.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),C.push(this.alternative());return{type:"Disjunction",value:C}},e.prototype.alternative=function(){for(var C=[];this.isTerm();)C.push(this.term());return{type:"Alternative",value:C}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){switch(this.popChar()){case"^":return{type:"StartAnchor"};case"$":return{type:"EndAnchor"};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary"};case"B":return{type:"NonWordBoundary"}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var C;switch(this.popChar()){case"=":C="Lookahead";break;case"!":C="NegativeLookahead";break}c(C);var k=this.disjunction();return this.consumeChar(")"),{type:C,value:k}}d()},e.prototype.quantifier=function(C){var k;switch(this.popChar()){case"*":k={atLeast:0,atMost:1/0};break;case"+":k={atLeast:1,atMost:1/0};break;case"?":k={atLeast:0,atMost:1};break;case"{":var S=this.integerIncludingZero();switch(this.popChar()){case"}":k={atLeast:S,atMost:S};break;case",":var x;this.isDigit()?(x=this.integerIncludingZero(),k={atLeast:S,atMost:x}):k={atLeast:S,atMost:1/0},this.consumeChar("}");break}if(C===!0&&k===void 0)return;c(k);break}if(!(C===!0&&k===void 0))return c(k),this.peekChar(0)==="?"?(this.consumeChar("?"),k.greedy=!1):k.greedy=!0,k.type="Quantifier",k},e.prototype.atom=function(){var C;switch(this.peekChar()){case".":C=this.dotAll();break;case"\\":C=this.atomEscape();break;case"[":C=this.characterClass();break;case"(":C=this.group();break}return C===void 0&&this.isPatternCharacter()&&(C=this.patternCharacter()),c(C),this.isQuantifier()&&(C.quantifier=this.quantifier()),C},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[a(`
`),a("\r"),a("\u2028"),a("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){var C=this.positiveInteger();return{type:"GroupBackReference",value:C}},e.prototype.characterClassEscape=function(){var C,k=!1;switch(this.popChar()){case"d":C=m;break;case"D":C=m,k=!0;break;case"s":C=_;break;case"S":C=_,k=!0;break;case"w":C=y;break;case"W":C=y,k=!0;break}return c(C),{type:"Set",value:C,complement:k}},e.prototype.controlEscapeAtom=function(){var C;switch(this.popChar()){case"f":C=a("\f");break;case"n":C=a(`
`);break;case"r":C=a("\r");break;case"t":C=a("	");break;case"v":C=a("\v");break}return c(C),{type:"Character",value:C}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var C=this.popChar();if(/[a-zA-Z]/.test(C)===!1)throw Error("Invalid ");var k=C.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:k}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:a("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){var C=this.popChar();return{type:"Character",value:a(C)}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var C=this.popChar();return{type:"Character",value:a(C)}}},e.prototype.characterClass=function(){var C=[],k=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),k=!0);this.isClassAtom();){var S=this.classAtom(),x=S.type==="Character";if(x&&this.isRangeDash()){this.consumeChar("-");var O=this.classAtom(),D=O.type==="Character";if(D){if(O.value<S.value)throw Error("Range out of order in character class");C.push({from:S.value,to:O.value})}else s(S.value,C),C.push(a("-")),s(O.value,C)}else s(S.value,C)}return this.consumeChar("]"),{type:"Set",complement:k,value:C}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:a("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var C=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),C=!1;break;default:this.groupIdx++;break}var k=this.disjunction();this.consumeChar(")");var S={type:"Group",capturing:C,value:k};return C&&(S.idx=this.groupIdx),S},e.prototype.positiveInteger=function(){var C=this.popChar();if(r.test(C)===!1)throw Error("Expecting a positive integer");for(;n.test(this.peekChar(0));)C+=this.popChar();return parseInt(C,10)},e.prototype.integerIncludingZero=function(){var C=this.popChar();if(n.test(C)===!1)throw Error("Expecting an integer");for(;n.test(this.peekChar(0));)C+=this.popChar();return parseInt(C,10)},e.prototype.patternCharacter=function(){var C=this.popChar();switch(C){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:a(C)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},e.prototype.isDigit=function(){return n.test(this.peekChar(0))},e.prototype.isClassAtom=function(C){switch(C===void 0&&(C=0),this.peekChar(C)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},e.prototype.isQuantifier=function(){var C=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(C)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(C){for(var k="",S=0;S<C;S++){var x=this.popChar();if(i.test(x)===!1)throw Error("Expecting a HexDecimal digits");k+=x}var O=parseInt(k,16);return{type:"Character",value:O}},e.prototype.peekChar=function(C){return C===void 0&&(C=0),this.input[this.idx+C]},e.prototype.popChar=function(){var C=this.peekChar(0);return this.consumeChar(),C},e.prototype.consumeChar=function(C){if(C!==void 0&&this.input[this.idx]!==C)throw Error("Expected: '"+C+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++};var i=/[0-9a-fA-F]/,n=/[0-9]/,r=/[1-9]/;function a(C){return C.charCodeAt(0)}function s(C,k){C.length!==void 0?C.forEach(function(S){k.push(S)}):k.push(C)}function o(C,k){if(C[k]===!0)throw"duplicate flag "+k;C[k]=!0}function c(C){if(C===void 0)throw Error("Internal Error - Should never get here!")}function d(){throw Error("Internal Error - Should never get here!")}var p,m=[];for(p=a("0");p<=a("9");p++)m.push(p);var y=[a("_")].concat(m);for(p=a("a");p<=a("z");p++)y.push(p);for(p=a("A");p<=a("Z");p++)y.push(p);var _=[a(" "),a("\f"),a(`
`),a("\r"),a("	"),a("\v"),a("	"),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a(" "),a("\u2028"),a("\u2029"),a(" "),a(" "),a("　"),a("\uFEFF")];function w(){}return w.prototype.visitChildren=function(C){for(var k in C){var S=C[k];C.hasOwnProperty(k)&&(S.type!==void 0?this.visit(S):Array.isArray(S)&&S.forEach(function(x){this.visit(x)},this))}},w.prototype.visit=function(C){switch(C.type){case"Pattern":this.visitPattern(C);break;case"Flags":this.visitFlags(C);break;case"Disjunction":this.visitDisjunction(C);break;case"Alternative":this.visitAlternative(C);break;case"StartAnchor":this.visitStartAnchor(C);break;case"EndAnchor":this.visitEndAnchor(C);break;case"WordBoundary":this.visitWordBoundary(C);break;case"NonWordBoundary":this.visitNonWordBoundary(C);break;case"Lookahead":this.visitLookahead(C);break;case"NegativeLookahead":this.visitNegativeLookahead(C);break;case"Character":this.visitCharacter(C);break;case"Set":this.visitSet(C);break;case"Group":this.visitGroup(C);break;case"GroupBackReference":this.visitGroupBackReference(C);break;case"Quantifier":this.visitQuantifier(C);break}this.visitChildren(C)},w.prototype.visitPattern=function(C){},w.prototype.visitFlags=function(C){},w.prototype.visitDisjunction=function(C){},w.prototype.visitAlternative=function(C){},w.prototype.visitStartAnchor=function(C){},w.prototype.visitEndAnchor=function(C){},w.prototype.visitWordBoundary=function(C){},w.prototype.visitNonWordBoundary=function(C){},w.prototype.visitLookahead=function(C){},w.prototype.visitNegativeLookahead=function(C){},w.prototype.visitCharacter=function(C){},w.prototype.visitSet=function(C){},w.prototype.visitGroup=function(C){},w.prototype.visitGroupBackReference=function(C){},w.prototype.visitQuantifier=function(C){},{RegExpParser:e,BaseRegExpVisitor:w,VERSION:"0.4.0"}})})(AG);var xG=AG.exports,DG={};(function(t){var e=Ci&&Ci.__extends||function(){var _=function(w,C){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var x in S)S.hasOwnProperty(x)&&(k[x]=S[x])},_(w,C)};return function(w,C){_(w,C);function k(){this.constructor=w}w.prototype=C===null?Object.create(C):(k.prototype=C.prototype,new k)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=xG,n=ze,r=new i.RegExpParser,a="Complement Sets are not supported for first char optimization";t.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function s(_,w){w===void 0&&(w=!1);try{var C=r.pattern(_.toString()),k=o(C.value);return C.flags.ignoreCase&&(k=c(k)),k}catch(x){if(x.message===a)w&&n.PRINT_WARNING(""+t.failedOptimizationPrefixMsg+("	Unable to optimize: < "+_.toString()+` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var S="";w&&(S=`
	This will disable the lexer's first char optimizations.
	See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),n.PRINT_ERROR(t.failedOptimizationPrefixMsg+`
`+("	Failed parsing: < "+_.toString()+` >
`)+("	Using the regexp-to-ast library version: "+i.VERSION+`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+S)}}return[]}t.getStartCodes=s;function o(_){switch(_.type){case"Disjunction":return n.flatten(n.map(_.value,o));case"Alternative":for(var w=[],C=_.value,k=0;k<C.length;k++){var S=C[k];if(!n.contains(["GroupBackReference","Lookahead","NegativeLookahead","StartAnchor","EndAnchor","WordBoundary","NonWordBoundary"],S.type)){var x=S;switch(x.type){case"Character":w.push(x.value);break;case"Set":if(x.complement===!0)throw Error(a);n.forEach(x.value,function(B){if(typeof B=="number")w.push(B);else for(var P=B,R=P.from;R<=P.to;R++)w.push(R)});break;case"Group":var O=o(x.value);n.forEach(O,function(B){return w.push(B)});break;default:throw Error("Non Exhaustive Match")}var D=x.quantifier!==void 0&&x.quantifier.atLeast===0;if(x.type==="Group"&&p(x)===!1||x.type!=="Group"&&D===!1)break}}return w;default:throw Error("non exhaustive match!")}}t.firstChar=o;function c(_){var w=[];return n.forEach(_,function(C){w.push(C);var k=String.fromCharCode(C);k.toUpperCase()!==k?w.push(k.toUpperCase().charCodeAt(0)):k.toLowerCase()!==k&&w.push(k.toLowerCase().charCodeAt(0))}),w}t.applyIgnoreCase=c;function d(_,w){return n.find(_.value,function(C){if(typeof C=="number")return n.contains(w,C);var k=C;return n.find(w,function(S){return k.from<=S&&S<=k.to})!==void 0})}function p(_){return _.quantifier&&_.quantifier.atLeast===0?!0:_.value?n.isArray(_.value)?n.every(_.value,p):p(_.value):!1}var m=function(_){e(w,_);function w(C){var k=_.call(this)||this;return k.targetCharCodes=C,k.found=!1,k}return w.prototype.visitChildren=function(C){switch(C.type){case"Lookahead":this.visitLookahead(C);return;case"NegativeLookahead":this.visitNegativeLookahead(C);return}_.prototype.visitChildren.call(this,C)},w.prototype.visitCharacter=function(C){n.contains(this.targetCharCodes,C.value)&&(this.found=!0)},w.prototype.visitSet=function(C){C.complement?d(C,this.targetCharCodes)===void 0&&(this.found=!0):d(C,this.targetCharCodes)!==void 0&&(this.found=!0)},w}(i.BaseRegExpVisitor);function y(_,w){if(w instanceof RegExp){var C=r.pattern(w.toString()),k=new m(_);return k.visit(C),k.found}else return n.find(w,function(S){return n.contains(_,S.charCodeAt(0))})!==void 0}t.canMatchCharCode=y})(DG);var CR;function tj(){return CR||(CR=1,function(t){var e=Ci&&Ci.__extends||function(){var K=function(q,ie){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,Q){le.__proto__=Q}||function(le,Q){for(var fe in Q)Q.hasOwnProperty(fe)&&(le[fe]=Q[fe])},K(q,ie)};return function(q,ie){K(q,ie);function le(){this.constructor=q}q.prototype=ie===null?Object.create(ie):(le.prototype=ie.prototype,new le)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=xG,n=ro(),r=RS(),a=ze,s=DG,o=new i.RegExpParser,c="PATTERN";t.DEFAULT_MODE="defaultMode",t.MODES="modes",t.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function d(){t.SUPPORT_STICKY=!1}t.disableSticky=d;function p(){t.SUPPORT_STICKY=!0}t.enableSticky=p;function m(K,q){q=a.defaults(q,{useSticky:t.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`]});var ie=a.reject(K,function(nt){return nt[c]===r.Lexer.NA}),le=!1,Q=a.map(ie,function(nt){var De=nt[c];if(a.isRegExp(De)){var Ve=De.source;return Ve.length===1&&Ve!=="^"&&Ve!=="$"&&Ve!=="."?Ve:Ve.length===2&&Ve[0]==="\\"&&!a.contains(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Ve[1])?Ve[1]:q.useSticky?j(De):W(De)}else{if(a.isFunction(De))return le=!0,{exec:De};if(a.has(De,"exec"))return le=!0,De;if(typeof De=="string"){if(De.length===1)return De;var Pt=De.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),st=new RegExp(Pt);return q.useSticky?j(st):W(st)}else throw Error("non exhaustive match")}}),fe=a.map(ie,function(nt){return nt.tokenTypeIdx}),de=a.map(ie,function(nt){var De=nt.GROUP;if(De!==r.Lexer.SKIPPED){if(a.isString(De))return De;if(a.isUndefined(De))return!1;throw Error("non exhaustive match")}}),he=a.map(ie,function(nt){var De=nt.LONGER_ALT;if(De){var Ve=a.indexOf(ie,De);return Ve}}),ve=a.map(ie,function(nt){return nt.PUSH_MODE}),ne=a.map(ie,function(nt){return a.has(nt,"POP_MODE")}),Bt=Z(q.lineTerminatorCharacters),It=a.map(ie,function(nt){return!1});q.positionTracking!=="onlyOffset"&&(It=a.map(ie,function(nt){if(a.has(nt,"LINE_BREAKS"))return nt.LINE_BREAKS;if(ue(nt,Bt)===!1)return s.canMatchCharCode(Bt,nt.PATTERN)}));var ht=a.map(ie,ge),Se=a.map(Q,be),Jt=a.reduce(ie,function(nt,De){var Ve=De.GROUP;return a.isString(Ve)&&Ve!==r.Lexer.SKIPPED&&(nt[Ve]=[]),nt},{}),$t=a.map(Q,function(nt,De){return{pattern:Q[De],longerAlt:he[De],canLineTerminator:It[De],isCustom:ht[De],short:Se[De],group:de[De],push:ve[De],pop:ne[De],tokenTypeIdx:fe[De],tokenType:ie[De]}});function St(nt,De,Ve){nt[De]===void 0&&(nt[De]=[]),nt[De].push(Ve)}var xt=!0,Ct=[];return q.safeMode||(Ct=a.reduce(ie,function(nt,De,Ve){if(typeof De.PATTERN=="string"){var Pt=De.PATTERN.charCodeAt(0);St(nt,Pt,$t[Ve])}else if(a.isArray(De.START_CHARS_HINT))a.forEach(De.START_CHARS_HINT,function(_i){var mi=typeof _i=="string"?_i.charCodeAt(0):_i;St(nt,mi,$t[Ve])});else if(a.isRegExp(De.PATTERN))if(De.PATTERN.unicode)xt=!1,q.ensureOptimizations&&a.PRINT_ERROR(""+s.failedOptimizationPrefixMsg+("	Unable to analyze < "+De.PATTERN.toString()+` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var st=s.getStartCodes(De.PATTERN,q.ensureOptimizations);a.isEmpty(st)&&(xt=!1),a.forEach(st,function(_i){St(nt,_i,$t[Ve])})}else q.ensureOptimizations&&a.PRINT_ERROR(""+s.failedOptimizationPrefixMsg+("	TokenType: <"+n.tokenName(De)+`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),xt=!1;return nt},[])),xt&&Ct.length<65536&&(Ct=a.packArray(Ct)),{emptyGroups:Jt,patternIdxToConfig:$t,charCodeToPatternIdxToConfig:Ct,hasCustom:le,canBeOptimized:xt}}t.analyzeTokenTypes=m;function y(K,q){var ie=[],le=w(K);ie=ie.concat(le.errors);var Q=C(le.valid),fe=Q.valid;return ie=ie.concat(Q.errors),ie=ie.concat(_(fe)),ie=ie.concat(R(fe)),ie=ie.concat(I(fe,q)),ie=ie.concat(F(fe)),ie}t.validatePatterns=y;function _(K){var q=[],ie=a.filter(K,function(le){return a.isRegExp(le[c])});return q=q.concat(S(ie)),q=q.concat(D(ie)),q=q.concat(B(ie)),q=q.concat(P(ie)),q=q.concat(x(ie)),q}function w(K){var q=a.filter(K,function(Q){return!a.has(Q,c)}),ie=a.map(q,function(Q){return{message:"Token Type: ->"+n.tokenName(Q)+"<- missing static 'PATTERN' property",type:r.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[Q]}}),le=a.difference(K,q);return{errors:ie,valid:le}}t.findMissingPatterns=w;function C(K){var q=a.filter(K,function(Q){var fe=Q[c];return!a.isRegExp(fe)&&!a.isFunction(fe)&&!a.has(fe,"exec")&&!a.isString(fe)}),ie=a.map(q,function(Q){return{message:"Token Type: ->"+n.tokenName(Q)+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:r.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[Q]}}),le=a.difference(K,q);return{errors:ie,valid:le}}t.findInvalidPatterns=C;var k=/[^\\][\$]/;function S(K){var q=function(Q){e(fe,Q);function fe(){var de=Q!==null&&Q.apply(this,arguments)||this;return de.found=!1,de}return fe.prototype.visitEndAnchor=function(de){this.found=!0},fe}(i.BaseRegExpVisitor),ie=a.filter(K,function(Q){var fe=Q[c];try{var de=o.pattern(fe.toString()),he=new q;return he.visit(de),he.found}catch{return k.test(fe.source)}}),le=a.map(ie,function(Q){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.tokenName(Q)+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:r.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[Q]}});return le}t.findEndOfInputAnchor=S;function x(K){var q=a.filter(K,function(le){var Q=le[c];return Q.test("")}),ie=a.map(q,function(le){return{message:"Token Type: ->"+n.tokenName(le)+"<- static 'PATTERN' must not match an empty string",type:r.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[le]}});return ie}t.findEmptyMatchRegExps=x;var O=/[^\\[][\^]|^\^/;function D(K){var q=function(Q){e(fe,Q);function fe(){var de=Q!==null&&Q.apply(this,arguments)||this;return de.found=!1,de}return fe.prototype.visitStartAnchor=function(de){this.found=!0},fe}(i.BaseRegExpVisitor),ie=a.filter(K,function(Q){var fe=Q[c];try{var de=o.pattern(fe.toString()),he=new q;return he.visit(de),he.found}catch{return O.test(fe.source)}}),le=a.map(ie,function(Q){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.tokenName(Q)+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:r.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[Q]}});return le}t.findStartOfInputAnchor=D;function B(K){var q=a.filter(K,function(le){var Q=le[c];return Q instanceof RegExp&&(Q.multiline||Q.global)}),ie=a.map(q,function(le){return{message:"Token Type: ->"+n.tokenName(le)+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:r.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[le]}});return ie}t.findUnsupportedFlags=B;function P(K){var q=[],ie=a.map(K,function(fe){return a.reduce(K,function(de,he){return fe.PATTERN.source===he.PATTERN.source&&!a.contains(q,he)&&he.PATTERN!==r.Lexer.NA&&(q.push(he),de.push(he)),de},[])});ie=a.compact(ie);var le=a.filter(ie,function(fe){return fe.length>1}),Q=a.map(le,function(fe){var de=a.map(fe,function(ve){return n.tokenName(ve)}),he=a.first(fe).PATTERN;return{message:"The same RegExp pattern ->"+he+"<-"+("has been used in all of the following Token Types: "+de.join(", ")+" <-"),type:r.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:fe}});return Q}t.findDuplicatePatterns=P;function R(K){var q=a.filter(K,function(le){if(!a.has(le,"GROUP"))return!1;var Q=le.GROUP;return Q!==r.Lexer.SKIPPED&&Q!==r.Lexer.NA&&!a.isString(Q)}),ie=a.map(q,function(le){return{message:"Token Type: ->"+n.tokenName(le)+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:r.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[le]}});return ie}t.findInvalidGroupType=R;function I(K,q){var ie=a.filter(K,function(Q){return Q.PUSH_MODE!==void 0&&!a.contains(q,Q.PUSH_MODE)}),le=a.map(ie,function(Q){var fe="Token Type: ->"+n.tokenName(Q)+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+Q.PUSH_MODE+"<-which does not exist";return{message:fe,type:r.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[Q]}});return le}t.findModesThatDoNotExist=I;function F(K){var q=[],ie=a.reduce(K,function(le,Q,fe){var de=Q.PATTERN;return de===r.Lexer.NA||(a.isString(de)?le.push({str:de,idx:fe,tokenType:Q}):a.isRegExp(de)&&L(de)&&le.push({str:de.source,idx:fe,tokenType:Q})),le},[]);return a.forEach(K,function(le,Q){a.forEach(ie,function(fe){var de=fe.str,he=fe.idx,ve=fe.tokenType;if(Q<he&&$(de,le.PATTERN)){var ne="Token: ->"+n.tokenName(ve)+`<- can never be matched.
`+("Because it appears AFTER the Token Type ->"+n.tokenName(le)+"<-")+`in the lexer's definition.
See https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;q.push({message:ne,type:r.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[le,ve]})}})}),q}t.findUnreachablePatterns=F;function $(K,q){if(a.isRegExp(q)){var ie=q.exec(K);return ie!==null&&ie.index===0}else{if(a.isFunction(q))return q(K,0,[],{});if(a.has(q,"exec"))return q.exec(K,0,[],{});if(typeof q=="string")return q===K;throw Error("non exhaustive match")}}function L(K){var q=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return a.find(q,function(ie){return K.source.indexOf(ie)!==-1})===void 0}function W(K){var q=K.ignoreCase?"i":"";return new RegExp("^(?:"+K.source+")",q)}t.addStartOfInput=W;function j(K){var q=K.ignoreCase?"iy":"y";return new RegExp(""+K.source,q)}t.addStickyFlag=j;function z(K,q,ie){var le=[];return a.has(K,t.DEFAULT_MODE)||le.push({message:"A MultiMode Lexer cannot be initialized without a <"+t.DEFAULT_MODE+`> property in its definition
`,type:r.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),a.has(K,t.MODES)||le.push({message:"A MultiMode Lexer cannot be initialized without a <"+t.MODES+`> property in its definition
`,type:r.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),a.has(K,t.MODES)&&a.has(K,t.DEFAULT_MODE)&&!a.has(K.modes,K.defaultMode)&&le.push({message:"A MultiMode Lexer cannot be initialized with a "+t.DEFAULT_MODE+": <"+K.defaultMode+`>which does not exist
`,type:r.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),a.has(K,t.MODES)&&a.forEach(K.modes,function(Q,fe){a.forEach(Q,function(de,he){a.isUndefined(de)&&le.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+fe+"> at index: <"+he+`>
`),type:r.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),le}t.performRuntimeChecks=z;function re(K,q,ie){var le=[],Q=!1,fe=a.compact(a.flatten(a.mapValues(K.modes,function(ve){return ve}))),de=a.reject(fe,function(ve){return ve[c]===r.Lexer.NA}),he=Z(ie);return q&&a.forEach(de,function(ve){var ne=ue(ve,he);if(ne!==!1){var Bt=se(ve,ne),It={message:Bt,type:ne.issue,tokenType:ve};le.push(It)}else a.has(ve,"LINE_BREAKS")?ve.LINE_BREAKS===!0&&(Q=!0):s.canMatchCharCode(he,ve.PATTERN)&&(Q=!0)}),q&&!Q&&le.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:r.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),le}t.performWarningRuntimeChecks=re;function ce(K){var q={},ie=a.keys(K);return a.forEach(ie,function(le){var Q=K[le];if(a.isArray(Q))q[le]=[];else throw Error("non exhaustive match")}),q}t.cloneEmptyGroups=ce;function ge(K){var q=K.PATTERN;if(a.isRegExp(q))return!1;if(a.isFunction(q))return!0;if(a.has(q,"exec"))return!0;if(a.isString(q))return!1;throw Error("non exhaustive match")}t.isCustomPattern=ge;function be(K){return a.isString(K)&&K.length===1?K.charCodeAt(0):!1}t.isShortPattern=be,t.LineTerminatorOptimizedTester={test:function(K){for(var q=K.length,ie=this.lastIndex;ie<q;ie++){var le=K.charCodeAt(ie);if(le===10)return this.lastIndex=ie+1,!0;if(le===13)return K.charCodeAt(ie+1)===10?this.lastIndex=ie+2:this.lastIndex=ie+1,!0}return!1},lastIndex:0};function ue(K,q){if(a.has(K,"LINE_BREAKS"))return!1;if(a.isRegExp(K.PATTERN)){try{s.canMatchCharCode(q,K.PATTERN)}catch(ie){return{issue:r.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:ie.message}}return!1}else{if(a.isString(K.PATTERN))return!1;if(ge(K))return{issue:r.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function se(K,q){if(q.issue===r.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+("	The problem is in the <"+K.name+`> Token Type
`)+("	 Root cause: "+q.errMsg+`.
`)+"	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(q.issue===r.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+("	The problem is in the <"+K.name+`> Token Type
`)+"	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}t.buildLineBreakIssueMessage=se;function Z(K){var q=a.map(K,function(ie){return a.isString(ie)&&ie.length>0?ie.charCodeAt(0):ie});return q}}(NT)),NT}var GT={},kR;function Mw(){return kR||(kR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ze,i=Ts,n=ro();function r(x,O){var D=x.tokenTypeIdx;return D===O.tokenTypeIdx?!0:O.isParent===!0&&O.categoryMatchesMap[D]===!0}t.tokenStructuredMatcher=r;function a(x,O){return x.tokenTypeIdx===O.tokenTypeIdx}t.tokenStructuredMatcherNoCategories=a,t.tokenShortNameIdx=1,t.tokenIdxToClass=new i.HashTable;function s(x){var O=o(x);c(O),p(O),d(O),e.forEach(O,function(D){D.isParent=D.categoryMatches.length>0})}t.augmentTokenTypes=s;function o(x){for(var O=e.cloneArr(x),D=x,B=!0;B;){D=e.compact(e.flatten(e.map(D,function(R){return R.CATEGORIES})));var P=e.difference(D,O);O=O.concat(P),e.isEmpty(P)?B=!1:D=P}return O}t.expandCategories=o;function c(x){e.forEach(x,function(O){y(O)||(t.tokenIdxToClass.put(t.tokenShortNameIdx,O),O.tokenTypeIdx=t.tokenShortNameIdx++),_(O)&&!e.isArray(O.CATEGORIES)&&(O.CATEGORIES=[O.CATEGORIES]),_(O)||(O.CATEGORIES=[]),w(O)||(O.categoryMatches=[]),C(O)||(O.categoryMatchesMap={}),k(O)||(O.tokenName=n.tokenName(O))})}t.assignTokenDefaultProps=c;function d(x){e.forEach(x,function(O){O.categoryMatches=[],e.forEach(O.categoryMatchesMap,function(D,B){O.categoryMatches.push(t.tokenIdxToClass.get(B).tokenTypeIdx)})})}t.assignCategoriesTokensProp=d;function p(x){e.forEach(x,function(O){m([],O)})}t.assignCategoriesMapProp=p;function m(x,O){e.forEach(x,function(D){O.categoryMatchesMap[D.tokenTypeIdx]=!0}),e.forEach(O.CATEGORIES,function(D){var B=x.concat(O);e.contains(B,D)||m(B,D)})}t.singleAssignCategoriesToksMap=m;function y(x){return e.has(x,"tokenTypeIdx")}t.hasShortKeyProperty=y;function _(x){return e.has(x,"CATEGORIES")}t.hasCategoriesProperty=_;function w(x){return e.has(x,"categoryMatches")}t.hasExtendingTokensTypesProperty=w;function C(x){return e.has(x,"categoryMatchesMap")}t.hasExtendingTokensTypesMapProperty=C;function k(x){return e.has(x,"tokenName")}t.hasTokenNameProperty=k;function S(x){return e.has(x,"tokenTypeIdx")}t.isTokenType=S}(GT)),GT}var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,i,n,r){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+","+(" skipped "+i+" characters.")}};var SR;function RS(){return SR||(SR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=tj(),i=ze,n=Mw(),r=Pw;(function(o){o[o.MISSING_PATTERN=0]="MISSING_PATTERN",o[o.INVALID_PATTERN=1]="INVALID_PATTERN",o[o.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",o[o.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",o[o.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",o[o.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",o[o.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",o[o.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",o[o.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",o[o.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",o[o.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",o[o.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",o[o.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",o[o.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",o[o.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",o[o.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",o[o.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(t.LexerDefinitionErrorType||(t.LexerDefinitionErrorType={}));var a={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:r.defaultLexerErrorProvider};Object.freeze(a);var s=function(){function o(c,d){var p=this;if(d===void 0&&(d=a),this.lexerDefinition=c,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},typeof d=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);if(this.config=i.merge(a,d),this.config.lineTerminatorsPattern===a.lineTerminatorsPattern)this.config.lineTerminatorsPattern=e.LineTerminatorOptimizedTester;else if(this.config.lineTerminatorCharacters===a.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(d.safeMode&&d.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking);var m=!0,y;i.isArray(c)?(y={modes:{}},y.modes[e.DEFAULT_MODE]=i.cloneArr(c),y[e.DEFAULT_MODE]=e.DEFAULT_MODE):(m=!1,y=i.cloneObj(c)),this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(e.performRuntimeChecks(y,this.trackStartLines,this.config.lineTerminatorCharacters)),this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(e.performWarningRuntimeChecks(y,this.trackStartLines,this.config.lineTerminatorCharacters)),y.modes=y.modes?y.modes:{},i.forEach(y.modes,function(S,x){y.modes[x]=i.reject(S,function(O){return i.isUndefined(O)})});var _=i.keys(y.modes);if(i.forEach(y.modes,function(S,x){if(p.modes.push(x),p.lexerDefinitionErrors=p.lexerDefinitionErrors.concat(e.validatePatterns(S,_)),i.isEmpty(p.lexerDefinitionErrors)){n.augmentTokenTypes(S);var O=e.analyzeTokenTypes(S,{lineTerminatorCharacters:p.config.lineTerminatorCharacters,positionTracking:d.positionTracking,ensureOptimizations:d.ensureOptimizations,safeMode:d.safeMode});p.patternIdxToConfig[x]=O.patternIdxToConfig,p.charCodeToPatternIdxToConfig[x]=O.charCodeToPatternIdxToConfig,p.emptyGroups=i.merge(p.emptyGroups,O.emptyGroups),p.hasCustom=O.hasCustom||p.hasCustom,p.canModeBeOptimized[x]=O.canBeOptimized}}),this.defaultMode=y.defaultMode,!i.isEmpty(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){var w=i.map(this.lexerDefinitionErrors,function(S){return S.message}),C=w.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+C)}if(i.forEach(this.lexerDefinitionWarning,function(S){i.PRINT_WARNING(S.message)}),e.SUPPORT_STICKY?(this.chopInput=i.IDENTITY,this.match=this.matchWithTest):(this.updateLastIndex=i.NOOP,this.match=this.matchWithExec),m&&(this.handleModes=i.NOOP),this.trackStartLines===!1&&(this.computeNewColumn=i.IDENTITY),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=i.NOOP),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+this.config.positionTracking+'"');this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom);var k=i.reduce(this.canModeBeOptimized,function(S,x,O){return x===!1&&S.push(O),S},[]);if(d.ensureOptimizations&&!i.isEmpty(k))throw Error("Lexer Modes: < "+k.join(", ")+` > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`);i.toFastProperties(this)}return o.prototype.tokenize=function(c,d){if(d===void 0&&(d=this.defaultMode),!i.isEmpty(this.lexerDefinitionErrors)){var p=i.map(this.lexerDefinitionErrors,function(_){return _.message}),m=p.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+m)}var y=this.tokenizeInternal(c,d);return y},o.prototype.tokenizeInternal=function(c,d){var p=this,m,y,_,w,C,k,S,x,O,D,B,P,R,I,F=c,$=F.length,L=0,W=0,j=this.hasCustom?0:Math.floor(c.length/10),z=new Array(j),re=[],ce=this.trackStartLines?1:void 0,ge=this.trackStartLines?1:void 0,be=e.cloneEmptyGroups(this.emptyGroups),ue=this.trackStartLines,se=this.config.lineTerminatorsPattern,Z=0,K=[],q=[],ie=[],le=[];Object.freeze(le);var Q=void 0,fe=function(st){if(ie.length===1&&st.tokenType.PUSH_MODE===void 0){var _i=p.config.errorMessageProvider.buildUnableToPopLexerModeMessage(st);re.push({offset:st.startOffset,line:st.startLine!==void 0?st.startLine:void 0,column:st.startColumn!==void 0?st.startColumn:void 0,length:st.image.length,message:_i})}else{ie.pop();var mi=i.last(ie);K=p.patternIdxToConfig[mi],q=p.charCodeToPatternIdxToConfig[mi],Z=K.length;var wi=p.canModeBeOptimized[mi]&&p.config.safeMode===!1;q&&wi?Q=function(Ei){var di=q[Ei];return di===void 0?le:di}:Q=function(){return K}}};function de(st){ie.push(st),q=this.charCodeToPatternIdxToConfig[st],K=this.patternIdxToConfig[st],Z=K.length,Z=K.length;var _i=this.canModeBeOptimized[st]&&this.config.safeMode===!1;q&&_i?Q=function(mi){var wi=q[mi];return wi===void 0?le:wi}:Q=function(){return K}}de.call(this,d);for(var he;L<$;){C=null;var ve=F.charCodeAt(L),ne=Q(ve),Bt=ne.length;for(m=0;m<Bt;m++){he=ne[m];var It=he.pattern;k=null;var ht=he.short;if(ht!==!1?ve===ht&&(C=It):he.isCustom===!0?(I=It.exec(F,L,z,be),I!==null?(C=I[0],I.payload!==void 0&&(k=I.payload)):C=null):(this.updateLastIndex(It,L),C=this.match(It,c,L)),C!==null){if(w=he.longerAlt,w!==void 0){var Se=K[w],Jt=Se.pattern;S=null,Se.isCustom===!0?(I=Jt.exec(F,L,z,be),I!==null?(_=I[0],I.payload!==void 0&&(S=I.payload)):_=null):(this.updateLastIndex(Jt,L),_=this.match(Jt,c,L)),_&&_.length>C.length&&(C=_,k=S,he=Se)}break}}if(C!==null){if(x=C.length,O=he.group,O!==void 0&&(D=he.tokenTypeIdx,B=this.createTokenInstance(C,L,D,he.tokenType,ce,ge,x),this.handlePayload(B,k),O===!1?W=this.addToken(z,W,B):be[O].push(B)),c=this.chopInput(c,x),L=L+x,ge=this.computeNewColumn(ge,x),ue===!0&&he.canLineTerminator===!0){var $t=0,St=void 0,xt=void 0;se.lastIndex=0;do St=se.test(C),St===!0&&(xt=se.lastIndex-1,$t++);while(St===!0);$t!==0&&(ce=ce+$t,ge=x-xt,this.updateTokenEndLineColumnLocation(B,O,xt,$t,ce,ge,x))}this.handleModes(he,fe,de,B)}else{for(var Ct=L,nt=ce,De=ge,Ve=!1;!Ve&&L<$;)for(F.charCodeAt(L),c=this.chopInput(c,1),L++,y=0;y<Z;y++){var Pt=K[y],It=Pt.pattern,ht=Pt.short;if(ht!==!1?F.charCodeAt(L)===ht&&(Ve=!0):Pt.isCustom===!0?Ve=It.exec(F,L,z,be)!==null:(this.updateLastIndex(It,L),Ve=It.exec(c)!==null),Ve===!0)break}P=L-Ct,R=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(F,Ct,P,nt,De),re.push({offset:Ct,line:nt,column:De,length:P,message:R})}}return this.hasCustom||(z.length=W),{tokens:z,groups:be,errors:re}},o.prototype.handleModes=function(c,d,p,m){if(c.pop===!0){var y=c.push;d(m),y!==void 0&&p.call(this,y)}else c.push!==void 0&&p.call(this,c.push)},o.prototype.chopInput=function(c,d){return c.substring(d)},o.prototype.updateLastIndex=function(c,d){c.lastIndex=d},o.prototype.updateTokenEndLineColumnLocation=function(c,d,p,m,y,_,w){var C,k;d!==void 0&&(C=p===w-1,k=C?-1:0,m===1&&C===!0||(c.endLine=y+k,c.endColumn=_-1+-k))},o.prototype.computeNewColumn=function(c,d){return c+d},o.prototype.createTokenInstance=function(){return null},o.prototype.createOffsetOnlyToken=function(c,d,p,m){return{image:c,startOffset:d,tokenTypeIdx:p,tokenType:m}},o.prototype.createStartOnlyToken=function(c,d,p,m,y,_){return{image:c,startOffset:d,startLine:y,startColumn:_,tokenTypeIdx:p,tokenType:m}},o.prototype.createFullToken=function(c,d,p,m,y,_,w){return{image:c,startOffset:d,endOffset:d+w-1,startLine:y,endLine:y,startColumn:_,endColumn:_+w-1,tokenTypeIdx:p,tokenType:m}},o.prototype.addToken=function(c,d,p){return 666},o.prototype.addTokenUsingPush=function(c,d,p){return c.push(p),d},o.prototype.addTokenUsingMemberAccess=function(c,d,p){return c[d]=p,d++,d},o.prototype.handlePayload=function(c,d){},o.prototype.handlePayloadNoCustom=function(c,d){},o.prototype.handlePayloadWithCustom=function(c,d){d!==null&&(c.payload=d)},o.prototype.match=function(c,d,p){return null},o.prototype.matchWithTest=function(c,d,p){var m=c.test(d);return m===!0?d.substring(p,c.lastIndex):null},o.prototype.matchWithExec=function(c,d){var p=c.exec(d);return p!==null?p[0]:p},o.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",o.NA=/NOT_APPLICABLE/,o}();t.Lexer=s}(OT)),OT}var AR;function ro(){return AR||(AR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ze,i=Ts,n=RS(),r=Mw();function a(B){return s(B)?B.LABEL:o(B)}t.tokenLabel=a;function s(B){return e.isString(B.LABEL)&&B.LABEL!==""}t.hasTokenLabel=s;function o(B){return e.isObject(B)&&B.hasOwnProperty("tokenName")&&e.isString(B.tokenName)?B.tokenName:i.functionName(B)}t.tokenName=o;var c="parent",d="categories",p="label",m="group",y="push_mode",_="pop_mode",w="longer_alt",C="line_breaks",k="start_chars_hint";function S(B){return x(B)}t.createToken=S;function x(B){var P=B.name,R=B.pattern,I={};if(i.defineNameProp(I,P)||(I.tokenName=P),e.isUndefined(R)||(I.PATTERN=R),e.has(B,c))throw`The parent property is no longer supported.
See: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.`;return e.has(B,d)&&(I.CATEGORIES=B[d]),r.augmentTokenTypes([I]),e.has(B,p)&&(I.LABEL=B[p]),e.has(B,m)&&(I.GROUP=B[m]),e.has(B,_)&&(I.POP_MODE=B[_]),e.has(B,y)&&(I.PUSH_MODE=B[y]),e.has(B,w)&&(I.LONGER_ALT=B[w]),e.has(B,C)&&(I.LINE_BREAKS=B[C]),e.has(B,k)&&(I.START_CHARS_HINT=B[k]),I}t.EOF=S({name:"EOF",pattern:n.Lexer.NA}),r.augmentTokenTypes([t.EOF]);function O(B,P,R,I,F,$,L,W){return{image:P,startOffset:R,endOffset:I,startLine:F,endLine:$,startColumn:L,endColumn:W,tokenTypeIdx:B.tokenTypeIdx,tokenType:B}}t.createTokenInstance=O;function D(B,P){return r.tokenStructuredMatcher(B,P)}t.tokenMatcher=D}(PT)),PT}var nu=Ci&&Ci.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},t(e,i)};return function(e,i){t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(ji,"__esModule",{value:!0});var kn=ze,xR=ro(),lc=function(){function t(e){this.definition=e}return t.prototype.accept=function(e){e.visit(this),kn.forEach(this.definition,function(i){i.accept(e)})},t}();ji.AbstractProduction=lc;var IG=function(t){nu(e,t);function e(i){var n=t.call(this,[])||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return Object.defineProperty(e.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(i){},enumerable:!0,configurable:!0}),e.prototype.accept=function(i){i.visit(this)},e}(lc);ji.NonTerminal=IG;var RG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.orgText="",kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.Rule=RG;var MG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.Flat=MG;var PG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.Option=PG;var OG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.RepetitionMandatory=OG;var GG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.RepetitionMandatoryWithSeparator=GG;var UG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.Repetition=UG;var LG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.RepetitionWithSeparator=LG;var BG=function(t){nu(e,t);function e(i){var n=t.call(this,i.definition)||this;return n.idx=1,kn.assign(n,kn.pick(i,function(r){return r!==void 0})),n}return e}(lc);ji.Alternation=BG;var t0=function(){function t(e){this.idx=1,kn.assign(this,kn.pick(e,function(i){return i!==void 0}))}return t.prototype.accept=function(e){e.visit(this)},t}();ji.Terminal=t0;function ij(t){return kn.map(t,xg)}ji.serializeGrammar=ij;function xg(t){function e(r){return kn.map(r,xg)}if(t instanceof IG)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof MG)return{type:"Flat",definition:e(t.definition)};if(t instanceof PG)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof OG)return{type:"RepetitionMandatory",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof GG)return{type:"RepetitionMandatoryWithSeparator",name:t.name,idx:t.idx,separator:xg(new t0({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof LG)return{type:"RepetitionWithSeparator",name:t.name,idx:t.idx,separator:xg(new t0({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof UG)return{type:"Repetition",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof BG)return{type:"Alternation",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof t0){var i={type:"Terminal",name:xR.tokenName(t.terminalType),label:xR.tokenLabel(t.terminalType),idx:t.idx},n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(i.pattern=kn.isRegExp(n)?n.source:n),i}else{if(t instanceof RG)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}ji.serializeProduction=xg;Object.defineProperty(Lv,"__esModule",{value:!0});var UT=ze,us=ji,nj=function(){function t(){}return t.prototype.walk=function(e,i){var n=this;i===void 0&&(i=[]),UT.forEach(e.definition,function(r,a){var s=UT.drop(e.definition,a+1);if(r instanceof us.NonTerminal)n.walkProdRef(r,s,i);else if(r instanceof us.Terminal)n.walkTerminal(r,s,i);else if(r instanceof us.Flat)n.walkFlat(r,s,i);else if(r instanceof us.Option)n.walkOption(r,s,i);else if(r instanceof us.RepetitionMandatory)n.walkAtLeastOne(r,s,i);else if(r instanceof us.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(r,s,i);else if(r instanceof us.RepetitionWithSeparator)n.walkManySep(r,s,i);else if(r instanceof us.Repetition)n.walkMany(r,s,i);else if(r instanceof us.Alternation)n.walkOr(r,s,i);else throw Error("non exhaustive match")})},t.prototype.walkTerminal=function(e,i,n){},t.prototype.walkProdRef=function(e,i,n){},t.prototype.walkFlat=function(e,i,n){var r=i.concat(n);this.walk(e,r)},t.prototype.walkOption=function(e,i,n){var r=i.concat(n);this.walk(e,r)},t.prototype.walkAtLeastOne=function(e,i,n){var r=[new us.Option({definition:e.definition})].concat(i,n);this.walk(e,r)},t.prototype.walkAtLeastOneSep=function(e,i,n){var r=DR(e,i,n);this.walk(e,r)},t.prototype.walkMany=function(e,i,n){var r=[new us.Option({definition:e.definition})].concat(i,n);this.walk(e,r)},t.prototype.walkManySep=function(e,i,n){var r=DR(e,i,n);this.walk(e,r)},t.prototype.walkOr=function(e,i,n){var r=this,a=i.concat(n);UT.forEach(e.definition,function(s){var o=new us.Flat({definition:[s]});r.walk(o,a)})},t}();Lv.RestWalker=nj;function DR(t,e,i){var n=[new us.Option({definition:[new us.Terminal({terminalType:t.separator})].concat(t.definition)})],r=n.concat(e,i);return r}var Rf={},cc={},$d={};Object.defineProperty($d,"__esModule",{value:!0});var Ol=ji,rj=function(){function t(){}return t.prototype.visit=function(e){if(e instanceof Ol.NonTerminal)return this.visitNonTerminal(e);if(e instanceof Ol.Flat)return this.visitFlat(e);if(e instanceof Ol.Option)return this.visitOption(e);if(e instanceof Ol.RepetitionMandatory)return this.visitRepetitionMandatory(e);if(e instanceof Ol.RepetitionMandatoryWithSeparator)return this.visitRepetitionMandatoryWithSeparator(e);if(e instanceof Ol.RepetitionWithSeparator)return this.visitRepetitionWithSeparator(e);if(e instanceof Ol.Repetition)return this.visitRepetition(e);if(e instanceof Ol.Alternation)return this.visitAlternation(e);if(e instanceof Ol.Terminal)return this.visitTerminal(e);if(e instanceof Ol.Rule)return this.visitRule(e);throw Error("non exhaustive match")},t.prototype.visitNonTerminal=function(e){},t.prototype.visitFlat=function(e){},t.prototype.visitOption=function(e){},t.prototype.visitRepetition=function(e){},t.prototype.visitRepetitionMandatory=function(e){},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){},t.prototype.visitRepetitionWithSeparator=function(e){},t.prototype.visitAlternation=function(e){},t.prototype.visitTerminal=function(e){},t.prototype.visitRule=function(e){},t}();$d.GAstVisitor=rj;var aj=Ci&&Ci.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},t(e,i)};return function(e,i){t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(cc,"__esModule",{value:!0});var Dg=ze,En=ji,sj=$d,oj=ro();function lj(t){return t instanceof En.Flat||t instanceof En.Option||t instanceof En.Repetition||t instanceof En.RepetitionMandatory||t instanceof En.RepetitionMandatoryWithSeparator||t instanceof En.RepetitionWithSeparator||t instanceof En.Terminal||t instanceof En.Rule}cc.isSequenceProd=lj;function RC(t,e){e===void 0&&(e=[]);var i=t instanceof En.Option||t instanceof En.Repetition||t instanceof En.RepetitionWithSeparator;return i?!0:t instanceof En.Alternation?Dg.some(t.definition,function(n){return RC(n,e)}):t instanceof En.NonTerminal&&Dg.contains(e,t)?!1:t instanceof En.AbstractProduction?(t instanceof En.NonTerminal&&e.push(t),Dg.every(t.definition,function(n){return RC(n,e)})):!1}cc.isOptionalProd=RC;function cj(t){return t instanceof En.Alternation}cc.isBranchingProd=cj;function uj(t){if(t instanceof En.NonTerminal)return"SUBRULE";if(t instanceof En.Option)return"OPTION";if(t instanceof En.Alternation)return"OR";if(t instanceof En.RepetitionMandatory)return"AT_LEAST_ONE";if(t instanceof En.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(t instanceof En.RepetitionWithSeparator)return"MANY_SEP";if(t instanceof En.Repetition)return"MANY";if(t instanceof En.Terminal)return"CONSUME";throw Error("non exhaustive match")}cc.getProductionDslName=uj;var dj=function(t){aj(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.separator="-",i.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},i}return e.prototype.visitTerminal=function(i){var n=oj.tokenName(i.terminalType)+this.separator+"Terminal";Dg.has(this.dslMethods,n)||(this.dslMethods[n]=[]),this.dslMethods[n].push(i)},e.prototype.visitNonTerminal=function(i){var n=i.nonTerminalName+this.separator+"Terminal";Dg.has(this.dslMethods,n)||(this.dslMethods[n]=[]),this.dslMethods[n].push(i)},e.prototype.visitOption=function(i){this.dslMethods.option.push(i)},e.prototype.visitRepetitionWithSeparator=function(i){this.dslMethods.repetitionWithSeparator.push(i)},e.prototype.visitRepetitionMandatory=function(i){this.dslMethods.repetitionMandatory.push(i)},e.prototype.visitRepetitionMandatoryWithSeparator=function(i){this.dslMethods.repetitionMandatoryWithSeparator.push(i)},e.prototype.visitRepetition=function(i){this.dslMethods.repetition.push(i)},e.prototype.visitAlternation=function(i){this.dslMethods.alternation.push(i)},e}(sj.GAstVisitor);cc.DslMethodsCollectorVisitor=dj;Object.defineProperty(Rf,"__esModule",{value:!0});var i0=ze,IR=ji,MC=cc;function Ow(t){if(t instanceof IR.NonTerminal)return Ow(t.referencedRule);if(t instanceof IR.Terminal)return HG(t);if(MC.isSequenceProd(t))return $G(t);if(MC.isBranchingProd(t))return FG(t);throw Error("non exhaustive match")}Rf.first=Ow;function $G(t){for(var e=[],i=t.definition,n=0,r=i.length>n,a,s=!0;r&&s;)a=i[n],s=MC.isOptionalProd(a),e=e.concat(Ow(a)),n=n+1,r=i.length>n;return i0.uniq(e)}Rf.firstForSequence=$G;function FG(t){var e=i0.map(t.definition,function(i){return Ow(i)});return i0.uniq(i0.flatten(e))}Rf.firstForBranching=FG;function HG(t){return[t.terminalType]}Rf.firstForTerminal=HG;var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.IN="_~IN~_";var hj=Ci&&Ci.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},t(e,i)};return function(e,i){t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(Gm,"__esModule",{value:!0});var fj=Lv,VG=Ts,pj=Rf,mj=ze,YG=Nw,yj=ro(),gj=ji,qG=function(t){hj(e,t);function e(i){var n=t.call(this)||this;return n.topProd=i,n.follows=new VG.HashTable,n}return e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(i,n,r){},e.prototype.walkProdRef=function(i,n,r){var a=WG(i.referencedRule,i.idx)+this.topProd.name,s=n.concat(r),o=new gj.Flat({definition:s}),c=pj.first(o);this.follows.put(a,c)},e}(fj.RestWalker);Gm.ResyncFollowsWalker=qG;function vj(t){var e=new VG.HashTable;return mj.forEach(t,function(i){var n=new qG(i).startWalking();e.putAll(n)}),e}Gm.computeAllProdsFollows=vj;function WG(t,e){return t.name+e+YG.IN}Gm.buildBetweenProdsFollowPrefix=WG;function bj(t){var e=yj.tokenName(t.terminalType);return e+t.idx+YG.IN}Gm.buildInProdFollowPrefix=bj;var MS={},Gw={};Object.defineProperty(Gw,"__esModule",{value:!0});var _j=function(){function t(e,i){if(this.start=e,this.end=i,!jG(e,i))throw new Error("INVALID RANGE")}return t.prototype.contains=function(e){return this.start<=e&&this.end>=e},t.prototype.containsRange=function(e){return this.start<=e.start&&this.end>=e.end},t.prototype.isContainedInRange=function(e){return e.containsRange(this)},t.prototype.strictlyContainsRange=function(e){return this.start<e.start&&this.end>e.end},t.prototype.isStrictlyContainedInRange=function(e){return e.strictlyContainsRange(this)},t}();Gw.Range=_j;function jG(t,e){return!(t<0||e<t)}Gw.isValidRange=jG;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Gw,i=ze,n=ji,r;(function(ye){ye[ye.OPTION=0]="OPTION",ye[ye.OR=1]="OR",ye[ye.MANY=2]="MANY",ye[ye.MANY_SEP=3]="MANY_SEP",ye[ye.AT_LEAST_ONE=4]="AT_LEAST_ONE",ye[ye.AT_LEAST_ONE_SEP=5]="AT_LEAST_ONE_SEP",ye[ye.REF=6]="REF",ye[ye.TERMINAL=7]="TERMINAL",ye[ye.FLAT=8]="FLAT"})(r=t.ProdType||(t.ProdType={}));var a=/(?:\s*{\s*NAME\s*:\s*["'`]([\w$]*)["'`])?/,s=new RegExp(a.source.replace("{","").replace(")?","\\s*,)?")),o=/\.\s*CONSUME(\d+)?\s*\(\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,c=new RegExp(o.source,"g"),d=/\.\s*SUBRULE(\d+)?\s*\(\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,p=new RegExp(d.source,"g"),m=/\.\s*OPTION(\d+)?\s*\(/,y=new RegExp(m.source+a.source),_=new RegExp(m.source,"g"),w=/\.\s*MANY(\d+)?\s*\(/,C=new RegExp(w.source+a.source),k=new RegExp(w.source,"g"),S=/\s*SEP\s*:\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,x=/\.\s*MANY_SEP(\d+)?\s*\(\s*{/,O=new RegExp(x.source+s.source+S.source),D=new RegExp(O.source,"g"),B=/\.\s*AT_LEAST_ONE_SEP(\d+)?\s*\(\s*{/,P=new RegExp(B.source+s.source+S.source),R=new RegExp(P.source,"g"),I=/\.\s*AT_LEAST_ONE(\d+)?\s*\(/,F=new RegExp(I.source+a.source),$=new RegExp(I.source,"g"),L=/\.\s*OR(\d+)?\s*\(/,W=new RegExp(L.source+a.source),j=new RegExp(L.source,"g"),z=/\s*(ALT)\s*:/,re=new RegExp(s.source+z.source),ce=new RegExp(re.source,"g");t.terminalNameToConstructor={};function ge(ye,Pe,Le){t.terminalNameToConstructor=Le;var lt=" "+ye,tt=$t(" "+lt),at=xt(tt),Xt=Ct(at),hi=new e.Range(0,ye.length+2),Sn=be(Pe,hi,Xt,ye);return Sn}t.buildTopProduction=ge;function be(ye,Pe,Le,lt){var tt=new n.Rule({name:ye,definition:[],orgText:lt});return ne(tt,Pe,Le,ye)}function ue(ye,Pe,Le){switch(ye.type){case r.AT_LEAST_ONE:return q(ye,Pe,Le);case r.AT_LEAST_ONE_SEP:return ie(ye,Pe,Le);case r.MANY_SEP:return Q(ye,Pe,Le);case r.MANY:return le(ye,Pe,Le);case r.OPTION:return de(ye,Pe,Le);case r.OR:return he(ye,Pe,Le);case r.FLAT:return ve(ye,Pe,Le);case r.REF:return se(ye);case r.TERMINAL:return Z(ye,Le);default:throw Error("non exhaustive match")}}t.buildProdGast=ue;function se(ye){var Pe=d.exec(ye.text),Le=Pe[1]===void 0,lt=Le?0:parseInt(Pe[1],10),tt=Pe[2],at=new n.NonTerminal({nonTerminalName:tt,idx:lt});return at}function Z(ye,Pe){var Le=o.exec(ye.text),lt=Le[1]===void 0,tt=lt?0:parseInt(Le[1],10),at=Le[2],Xt=t.terminalNameToConstructor[at];if(!Xt)throw Error("Terminal Token name: <"+at+"> not found in rule: <"+Pe+`>  
	See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#TERMINAL_NAME_NOT_FOUND
	For Further details.`);var hi=new n.Terminal({terminalType:Xt,idx:tt});return hi}function K(ye,Pe,Le,lt,tt){var at=ye.exec(Le.text),Xt=at[1]===void 0;Pe.idx=Xt?0:parseInt(at[1],10);var hi=at[2];return i.isUndefined(hi)||(Pe.name=hi),ne(Pe,Le.range,lt,tt)}function q(ye,Pe,Le){return K(F,new n.RepetitionMandatory({definition:[]}),ye,Pe,Le)}function ie(ye,Pe,Le){return fe(ye,Pe,n.RepetitionMandatoryWithSeparator,P,Le)}function le(ye,Pe,Le){return K(C,new n.Repetition({definition:[]}),ye,Pe,Le)}function Q(ye,Pe,Le){return fe(ye,Pe,n.RepetitionWithSeparator,O,Le)}function fe(ye,Pe,Le,lt,tt){var at=lt.exec(ye.text),Xt=at[1]===void 0,hi=Xt?0:parseInt(at[1],10),Sn=at[3],ks=t.terminalNameToConstructor[Sn];if(!ks)throw Error("Separator Terminal Token name: "+Sn+" not found");var ur=new Le({definition:[],separator:ks,idx:hi}),Ki=at[2];return i.isUndefined(Ki)||(ur.name=Ki),ne(ur,ye.range,Pe,tt)}function de(ye,Pe,Le){return K(y,new n.Option({definition:[]}),ye,Pe,Le)}function he(ye,Pe,Le){return K(W,new n.Alternation({definition:[]}),ye,Pe,Le)}function ve(ye,Pe,Le){var lt=new n.Flat({definition:[]}),tt=re.exec(ye.text),at=tt[1];return i.isUndefined(at)||(lt.name=at),ne(lt,ye.range,Pe,Le)}function ne(ye,Pe,Le,lt){var tt=Bt(Pe,Le),at=i.sortBy(tt,function(hi){return hi.range.start}),Xt=[];return i.forEach(at,function(hi){Xt.push(ue(hi,Le,lt))}),ye.definition=Xt,ye}function Bt(ye,Pe){return i.filter(Pe,function(Le){var lt=ye.strictlyContainsRange(Le.range),tt=i.every(Pe,function(at){var Xt=at.range.strictlyContainsRange(Le.range),hi=at.range.isStrictlyContainedInRange(ye);return!(Xt&&hi)});return lt&&tt})}t.getDirectlyContainedRanges=Bt;var It=/\/\/.*/g,ht=/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,Se=/(NAME\s*:\s*)?"([^\\"]|\\([bfnrtv"\\/]|u[0-9a-fA-F]{4}))*"/g,Jt=/(NAME\s*:\s*)?'([^\\']|\\([bfnrtv'\\/]|u[0-9a-fA-F]{4}))*'/g;function $t(ye){var Pe=ye.replace(It,""),Le=Pe.replace(ht,"");return Le}t.removeComments=$t;function St(ye,Pe){return Pe!==void 0?ye:""}function xt(ye){var Pe=ye.replace(Se,St),Le=Pe.replace(Jt,St);return Le}t.removeStringLiterals=xt;function Ct(ye){var Pe=nt(ye),Le=De(ye),lt=Ve(ye),tt=Pt(ye),at=st(ye),Xt=_i(ye),hi=mi(ye),Sn=wi(ye);return[].concat(Pe,Le,lt,tt,at,Xt,hi,Sn)}t.createRanges=Ct;function nt(ye){return Rt(ye,r.TERMINAL,c)}t.createTerminalRanges=nt;function De(ye){return Rt(ye,r.REF,p)}t.createRefsRanges=De;function Ve(ye){return jt(ye,r.AT_LEAST_ONE,$)}t.createAtLeastOneRanges=Ve;function Pt(ye){return jt(ye,r.AT_LEAST_ONE_SEP,R)}t.createAtLeastOneSepRanges=Pt;function st(ye){return jt(ye,r.MANY,k)}t.createManyRanges=st;function _i(ye){return jt(ye,r.MANY_SEP,D)}t.createManySepRanges=_i;function mi(ye){return jt(ye,r.OPTION,_)}t.createOptionRanges=mi;function wi(ye){var Pe=jt(ye,r.OR,j),Le=Xi(Pe);return Pe.concat(Le)}t.createOrRanges=wi;var Ei=i.partial(zt,"{","}"),di=i.partial(zt,"(",")");function Xi(ye){var Pe=[];i.forEach(ye,function(lt){var tt=Xe(lt.text,r.FLAT,ce,Ei),at=lt.range.start;i.forEach(tt,function(Xt){Xt.range.start+=at,Xt.range.end+=at}),Pe=Pe.concat(tt)});var Le=i.uniq(Pe,function(lt){return lt.type+"~"+lt.range.start+"~"+lt.range.end+"~"+lt.text});return Le}t.createOrPartRanges=Xi;function Rt(ye,Pe,Le){for(var lt=[],tt;tt=Le.exec(ye);){var at=tt.index,Xt=Le.lastIndex,hi=new e.Range(at,Xt),Sn=tt[0];lt.push({range:hi,text:Sn,type:Pe})}return lt}function jt(ye,Pe,Le){return Xe(ye,Pe,Le,di)}function Xe(ye,Pe,Le,lt){for(var tt=[],at;at=Le.exec(ye);){var Xt=at.index,hi=lt(Xt+at[0].length,ye),Sn=new e.Range(Xt,hi),ks=ye.substr(Xt,hi-Xt+1);tt.push({range:Sn,text:ks,type:Pe})}return tt}function zt(ye,Pe,Le,lt){for(var tt=[1],at=-1;!i.isEmpty(tt)&&at+Le<lt.length;){at++;var Xt=lt.charAt(Le+at);Xt===ye?tt.push(1):Xt===Pe&&tt.pop()}if(i.isEmpty(tt))return at+Le;throw new Error("INVALID INPUT TEXT, UNTERMINATED PARENTHESIS")}t.findClosingOffset=zt;function ut(ye,Pe){return i.map(ye,function(Le){return Ot(Le,Pe)})}t.deserializeGrammar=ut;function Ot(ye,Pe){switch(ye.type){case"NonTerminal":return new n.NonTerminal({nonTerminalName:ye.name,idx:ye.idx});case"Flat":return new n.Flat({name:ye.name,definition:ut(ye.definition,Pe)});case"Option":return new n.Option({name:ye.name,idx:ye.idx,definition:ut(ye.definition,Pe)});case"RepetitionMandatory":return new n.RepetitionMandatory({name:ye.name,idx:ye.idx,definition:ut(ye.definition,Pe)});case"RepetitionMandatoryWithSeparator":return new n.RepetitionMandatoryWithSeparator({name:ye.name,idx:ye.idx,separator:Pe[ye.separator.name],definition:ut(ye.definition,Pe)});case"RepetitionWithSeparator":return new n.RepetitionWithSeparator({name:ye.name,idx:ye.idx,separator:Pe[ye.separator.name],definition:ut(ye.definition,Pe)});case"Repetition":return new n.Repetition({name:ye.name,idx:ye.idx,definition:ut(ye.definition,Pe)});case"Alternation":return new n.Alternation({name:ye.name,idx:ye.idx,definition:ut(ye.definition,Pe)});case"Terminal":return new n.Terminal({terminalType:Pe[ye.name],idx:ye.idx});case"Rule":return new n.Rule({name:ye.name,orgText:ye.orgText,definition:ut(ye.definition,Pe)})}}t.deserializeProduction=Ot})(MS);var uc={},Bv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BITS_FOR_METHOD_IDX=4,t.BITS_FOR_OCCURRENCE_IDX=4,t.BITS_FOR_RULE_IDX=24,t.BITS_FOR_ALT_IDX=8,t.OR_IDX=1<<t.BITS_FOR_METHOD_IDX,t.OPTION_IDX=2<<t.BITS_FOR_METHOD_IDX,t.MANY_IDX=3<<t.BITS_FOR_METHOD_IDX,t.AT_LEAST_ONE_IDX=4<<t.BITS_FOR_METHOD_IDX,t.MANY_SEP_IDX=5<<t.BITS_FOR_METHOD_IDX,t.AT_LEAST_ONE_SEP_IDX=6<<t.BITS_FOR_METHOD_IDX;function e(r,a,s){return s|a|r}t.getKeyForAutomaticLookahead=e;var i=32-t.BITS_FOR_ALT_IDX;function n(r,a,s,o){var c=o+1<<i;return e(r,a,s)|c}t.getKeyForAltIndex=n})(Bv);var wj=Ci&&Ci.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},t(e,i)};return function(e,i){t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(uc,"__esModule",{value:!0});var Ig=ze,Ej=Ts,Ic=Bv,Bs=ji,Tj=$d;function Cj(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}uc.setNodeLocationOnlyOffset=Cj;function kj(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}uc.setNodeLocationFull=kj;function Sj(t,e,i){t.children[i]===void 0?t.children[i]=[e]:t.children[i].push(e)}uc.addTerminalToCst=Sj;function Aj(t,e,i){t.children[e]===void 0?t.children[e]=[i]:t.children[e].push(i)}uc.addNoneTerminalToCst=Aj;var zG=function(t){wj(e,t);function e(i){var n=t.call(this)||this;return n.result=[],n.ruleIdx=i,n}return e.prototype.collectNamedDSLMethod=function(i,n,r){if(!Ig.isUndefined(i.name)){var a=void 0;if(i instanceof Bs.Option||i instanceof Bs.Repetition||i instanceof Bs.RepetitionMandatory||i instanceof Bs.Alternation)a=new n({definition:i.definition,idx:i.idx});else if(i instanceof Bs.RepetitionMandatoryWithSeparator||i instanceof Bs.RepetitionWithSeparator)a=new n({definition:i.definition,idx:i.idx,separator:i.separator});else throw Error("non exhaustive match");var s=[a],o=Ic.getKeyForAutomaticLookahead(this.ruleIdx,r,i.idx);this.result.push({def:s,key:o,name:i.name,orgProd:i})}},e.prototype.visitOption=function(i){this.collectNamedDSLMethod(i,Bs.Option,Ic.OPTION_IDX)},e.prototype.visitRepetition=function(i){this.collectNamedDSLMethod(i,Bs.Repetition,Ic.MANY_IDX)},e.prototype.visitRepetitionMandatory=function(i){this.collectNamedDSLMethod(i,Bs.RepetitionMandatory,Ic.AT_LEAST_ONE_IDX)},e.prototype.visitRepetitionMandatoryWithSeparator=function(i){this.collectNamedDSLMethod(i,Bs.RepetitionMandatoryWithSeparator,Ic.AT_LEAST_ONE_SEP_IDX)},e.prototype.visitRepetitionWithSeparator=function(i){this.collectNamedDSLMethod(i,Bs.RepetitionWithSeparator,Ic.MANY_SEP_IDX)},e.prototype.visitAlternation=function(i){var n=this;this.collectNamedDSLMethod(i,Bs.Alternation,Ic.OR_IDX);var r=i.definition.length>1;Ig.forEach(i.definition,function(a,s){if(!Ig.isUndefined(a.name)){var o=a.definition;r?o=[new Bs.Option({definition:a.definition})]:o=a.definition;var c=Ic.getKeyForAltIndex(n.ruleIdx,Ic.OR_IDX,i.idx,s);n.result.push({def:o,key:c,name:a.name,orgProd:a})}})},e}(Tj.GAstVisitor);uc.NamedDSLMethodsCollectorVisitor=zG;function xj(t,e){var i={dictDef:new Ej.HashTable,allRuleNames:[]};return Ig.forEach(t,function(n){var r=e.get(n.name);i.allRuleNames.push(n.name);var a=new zG(r);n.accept(a),Ig.forEach(a.result,function(s){s.def,s.key;var o=s.name;i.allRuleNames.push(n.name+o)})}),i}uc.analyzeCst=xj;var LT={},BT={},$v={},Cs={},Mf=Ci&&Ci.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},t(e,i)};return function(e,i){t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(Cs,"__esModule",{value:!0});var XG=Lv,Si=ze,RR=ro(),Dj=Rf,oi=ji,KG=function(t){Mf(e,t);function e(i,n){var r=t.call(this)||this;return r.topProd=i,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Si.cloneArr(this.path.ruleStack).reverse(),this.occurrenceStack=Si.cloneArr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(i,n){n===void 0&&(n=[]),this.found||t.prototype.walk.call(this,i,n)},e.prototype.walkProdRef=function(i,n,r){if(i.referencedRule.name===this.nextProductionName&&i.idx===this.nextProductionOccurrence){var a=n.concat(r);this.updateExpectedNext(),this.walk(i.referencedRule,a)}},e.prototype.updateExpectedNext=function(){Si.isEmpty(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(XG.RestWalker);Cs.AbstractNextPossibleTokensWalker=KG;var Ij=function(t){Mf(e,t);function e(i,n){var r=t.call(this,i,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=RR.tokenName(r.path.lastTok),r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return e.prototype.walkTerminal=function(i,n,r){if(this.isAtEndOfPath&&RR.tokenName(i.terminalType)===this.nextTerminalName&&i.idx===this.nextTerminalOccurrence&&!this.found){var a=n.concat(r),s=new oi.Flat({definition:a});this.possibleTokTypes=Dj.first(s),this.found=!0}},e}(KG);Cs.NextAfterTokenWalker=Ij;var Fv=function(t){Mf(e,t);function e(i,n){var r=t.call(this)||this;return r.topRule=i,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(XG.RestWalker);Cs.AbstractNextTerminalAfterProductionWalker=Fv;var Rj=function(t){Mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkMany=function(i,n,r){if(i.idx===this.occurrence){var a=Si.first(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof oi.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkMany.call(this,i,n,r)},e}(Fv);Cs.NextTerminalAfterManyWalker=Rj;var Mj=function(t){Mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkManySep=function(i,n,r){if(i.idx===this.occurrence){var a=Si.first(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof oi.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkManySep.call(this,i,n,r)},e}(Fv);Cs.NextTerminalAfterManySepWalker=Mj;var Pj=function(t){Mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkAtLeastOne=function(i,n,r){if(i.idx===this.occurrence){var a=Si.first(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof oi.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkAtLeastOne.call(this,i,n,r)},e}(Fv);Cs.NextTerminalAfterAtLeastOneWalker=Pj;var Oj=function(t){Mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkAtLeastOneSep=function(i,n,r){if(i.idx===this.occurrence){var a=Si.first(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof oi.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkAtLeastOneSep.call(this,i,n,r)},e}(Fv);Cs.NextTerminalAfterAtLeastOneSepWalker=Oj;function ZG(t,e,i){i===void 0&&(i=[]),i=Si.cloneArr(i);var n=[],r=0;function a(d){return d.concat(Si.drop(t,r+1))}function s(d){var p=ZG(a(d),e,i);return n.concat(p)}for(;i.length<e&&r<t.length;){var o=t[r];if(o instanceof oi.Flat)return s(o.definition);if(o instanceof oi.NonTerminal)return s(o.definition);if(o instanceof oi.Option)n=s(o.definition);else if(o instanceof oi.RepetitionMandatory){var c=o.definition.concat([new oi.Repetition({definition:o.definition})]);return s(c)}else if(o instanceof oi.RepetitionMandatoryWithSeparator){var c=[new oi.Flat({definition:o.definition}),new oi.Repetition({definition:[new oi.Terminal({terminalType:o.separator})].concat(o.definition)})];return s(c)}else if(o instanceof oi.RepetitionWithSeparator){var c=o.definition.concat([new oi.Repetition({definition:[new oi.Terminal({terminalType:o.separator})].concat(o.definition)})]);n=s(c)}else if(o instanceof oi.Repetition){var c=o.definition.concat([new oi.Repetition({definition:o.definition})]);n=s(c)}else{if(o instanceof oi.Alternation)return Si.forEach(o.definition,function(d){n=s(d.definition)}),n;if(o instanceof oi.Terminal)i.push(o.terminalType);else throw Error("non exhaustive match")}r++}return n.push({partialPath:i,suffixDef:Si.drop(t,r)}),n}Cs.possiblePathsFrom=ZG;function Nj(t,e,i,n){var r="EXIT_NONE_TERMINAL",a=[r],s="EXIT_ALTERNATIVE",o=!1,c=e.length,d=c-n-1,p=[],m=[];for(m.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Si.isEmpty(m);){var y=m.pop();if(y===s){o&&Si.last(m).idx<=d&&m.pop();continue}var _=y.def,w=y.idx,C=y.ruleStack,k=y.occurrenceStack;if(!Si.isEmpty(_)){var S=_[0];if(S===r){var x={idx:w,def:Si.drop(_),ruleStack:Si.dropRight(C),occurrenceStack:Si.dropRight(k)};m.push(x)}else if(S instanceof oi.Terminal)if(w<c-1){var O=w+1,D=e[O];if(i(D,S.terminalType)){var x={idx:O,def:Si.drop(_),ruleStack:C,occurrenceStack:k};m.push(x)}}else if(w===c-1)p.push({nextTokenType:S.terminalType,nextTokenOccurrence:S.idx,ruleStack:C,occurrenceStack:k}),o=!0;else throw Error("non exhaustive match");else if(S instanceof oi.NonTerminal){var B=Si.cloneArr(C);B.push(S.nonTerminalName);var P=Si.cloneArr(k);P.push(S.idx);var x={idx:w,def:S.definition.concat(a,Si.drop(_)),ruleStack:B,occurrenceStack:P};m.push(x)}else if(S instanceof oi.Option){var R={idx:w,def:Si.drop(_),ruleStack:C,occurrenceStack:k};m.push(R),m.push(s);var I={idx:w,def:S.definition.concat(Si.drop(_)),ruleStack:C,occurrenceStack:k};m.push(I)}else if(S instanceof oi.RepetitionMandatory){var F=new oi.Repetition({definition:S.definition,idx:S.idx}),$=S.definition.concat([F],Si.drop(_)),x={idx:w,def:$,ruleStack:C,occurrenceStack:k};m.push(x)}else if(S instanceof oi.RepetitionMandatoryWithSeparator){var L=new oi.Terminal({terminalType:S.separator}),F=new oi.Repetition({definition:[L].concat(S.definition),idx:S.idx}),$=S.definition.concat([F],Si.drop(_)),x={idx:w,def:$,ruleStack:C,occurrenceStack:k};m.push(x)}else if(S instanceof oi.RepetitionWithSeparator){var R={idx:w,def:Si.drop(_),ruleStack:C,occurrenceStack:k};m.push(R),m.push(s);var L=new oi.Terminal({terminalType:S.separator}),W=new oi.Repetition({definition:[L].concat(S.definition),idx:S.idx}),$=S.definition.concat([W],Si.drop(_)),I={idx:w,def:$,ruleStack:C,occurrenceStack:k};m.push(I)}else if(S instanceof oi.Repetition){var R={idx:w,def:Si.drop(_),ruleStack:C,occurrenceStack:k};m.push(R),m.push(s);var W=new oi.Repetition({definition:S.definition,idx:S.idx}),$=S.definition.concat([W],Si.drop(_)),I={idx:w,def:$,ruleStack:C,occurrenceStack:k};m.push(I)}else if(S instanceof oi.Alternation)for(var j=S.definition.length-1;j>=0;j--){var z=S.definition[j],re={idx:w,def:z.definition.concat(Si.drop(_)),ruleStack:C,occurrenceStack:k};m.push(re),m.push(s)}else if(S instanceof oi.Flat)m.push({idx:w,def:S.definition.concat(Si.drop(_)),ruleStack:C,occurrenceStack:k});else if(S instanceof oi.Rule)m.push(Gj(S,w,C,k));else throw Error("non exhaustive match")}}return p}Cs.nextPossibleTokensAfter=Nj;function Gj(t,e,i,n){var r=Si.cloneArr(i);r.push(t.name);var a=Si.cloneArr(n);return a.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:a}}(function(t){var e=Ci&&Ci.__extends||function(){var P=function(R,I){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,$){F.__proto__=$}||function(F,$){for(var L in $)$.hasOwnProperty(L)&&(F[L]=$[L])},P(R,I)};return function(R,I){P(R,I);function F(){this.constructor=R}R.prototype=I===null?Object.create(I):(F.prototype=I.prototype,new F)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=ze,n=Cs,r=Lv,a=Mw(),s=ji,o=$d,c;(function(P){P[P.OPTION=0]="OPTION",P[P.REPETITION=1]="REPETITION",P[P.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",P[P.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",P[P.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",P[P.ALTERNATION=5]="ALTERNATION"})(c=t.PROD_TYPE||(t.PROD_TYPE={}));function d(P){if(P instanceof s.Option)return c.OPTION;if(P instanceof s.Repetition)return c.REPETITION;if(P instanceof s.RepetitionMandatory)return c.REPETITION_MANDATORY;if(P instanceof s.RepetitionMandatoryWithSeparator)return c.REPETITION_MANDATORY_WITH_SEPARATOR;if(P instanceof s.RepetitionWithSeparator)return c.REPETITION_WITH_SEPARATOR;if(P instanceof s.Alternation)return c.ALTERNATION;throw Error("non exhaustive match")}t.getProdType=d;function p(P,R,I,F,$,L){var W=S(P,R,I),j=B(W)?a.tokenStructuredMatcherNoCategories:a.tokenStructuredMatcher;return L(W,F,j,$)}t.buildLookaheadFuncForOr=p;function m(P,R,I,F,$,L){var W=x(P,R,$,I),j=B(W)?a.tokenStructuredMatcherNoCategories:a.tokenStructuredMatcher;return L(W[0],j,F)}t.buildLookaheadFuncForOptionalProd=m;function y(P,R,I,F){var $=P.length,L=i.every(P,function(z){return i.every(z,function(re){return re.length===1})});if(R)return function(z){for(var re=i.map(z,function(le){return le.GATE}),ce=0;ce<$;ce++){var ge=P[ce],be=ge.length,ue=re[ce];if(!(ue!==void 0&&ue.call(this)===!1))e:for(var se=0;se<be;se++){for(var Z=ge[se],K=Z.length,q=0;q<K;q++){var ie=this.LA(q+1);if(I(ie,Z[q])===!1)continue e}return ce}}};if(L&&!F){var W=i.map(P,function(z){return i.flatten(z)}),j=i.reduce(W,function(z,re,ce){return i.forEach(re,function(ge){i.has(z,ge.tokenTypeIdx)||(z[ge.tokenTypeIdx]=ce),i.forEach(ge.categoryMatches,function(be){i.has(z,be)||(z[be]=ce)})}),z},[]);return function(){var z=this.LA(1);return j[z.tokenTypeIdx]}}else return function(){for(var z=0;z<$;z++){var re=P[z],ce=re.length;e:for(var ge=0;ge<ce;ge++){for(var be=re[ge],ue=be.length,se=0;se<ue;se++){var Z=this.LA(se+1);if(I(Z,be[se])===!1)continue e}return z}}}}t.buildAlternativesLookAheadFunc=y;function _(P,R,I){var F=i.every(P,function(re){return re.length===1}),$=P.length;if(F&&!I){var L=i.flatten(P);if(L.length===1&&i.isEmpty(L[0].categoryMatches)){var W=L[0],j=W.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===j}}else{var z=i.reduce(L,function(re,ce,ge){return re[ce.tokenTypeIdx]=!0,i.forEach(ce.categoryMatches,function(be){re[be]=!0}),re},[]);return function(){var re=this.LA(1);return z[re.tokenTypeIdx]===!0}}}else return function(){e:for(var re=0;re<$;re++){for(var ce=P[re],ge=ce.length,be=0;be<ge;be++){var ue=this.LA(be+1);if(R(ue,ce[be])===!1)continue e}return!0}return!1}}t.buildSingleAlternativeLookaheadFunction=_;var w=function(P){e(R,P);function R(I,F,$){var L=P.call(this)||this;return L.topProd=I,L.targetOccurrence=F,L.targetProdType=$,L}return R.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},R.prototype.checkIsTarget=function(I,F,$,L){return I.idx===this.targetOccurrence&&this.targetProdType===F?(this.restDef=$.concat(L),!0):!1},R.prototype.walkOption=function(I,F,$){this.checkIsTarget(I,c.OPTION,F,$)||P.prototype.walkOption.call(this,I,F,$)},R.prototype.walkAtLeastOne=function(I,F,$){this.checkIsTarget(I,c.REPETITION_MANDATORY,F,$)||P.prototype.walkOption.call(this,I,F,$)},R.prototype.walkAtLeastOneSep=function(I,F,$){this.checkIsTarget(I,c.REPETITION_MANDATORY_WITH_SEPARATOR,F,$)||P.prototype.walkOption.call(this,I,F,$)},R.prototype.walkMany=function(I,F,$){this.checkIsTarget(I,c.REPETITION,F,$)||P.prototype.walkOption.call(this,I,F,$)},R.prototype.walkManySep=function(I,F,$){this.checkIsTarget(I,c.REPETITION_WITH_SEPARATOR,F,$)||P.prototype.walkOption.call(this,I,F,$)},R}(r.RestWalker),C=function(P){e(R,P);function R(I,F){var $=P.call(this)||this;return $.targetOccurrence=I,$.targetProdType=F,$.result=[],$}return R.prototype.checkIsTarget=function(I,F){I.idx===this.targetOccurrence&&this.targetProdType===F&&(this.result=I.definition)},R.prototype.visitOption=function(I){this.checkIsTarget(I,c.OPTION)},R.prototype.visitRepetition=function(I){this.checkIsTarget(I,c.REPETITION)},R.prototype.visitRepetitionMandatory=function(I){this.checkIsTarget(I,c.REPETITION_MANDATORY)},R.prototype.visitRepetitionMandatoryWithSeparator=function(I){this.checkIsTarget(I,c.REPETITION_MANDATORY_WITH_SEPARATOR)},R.prototype.visitRepetitionWithSeparator=function(I){this.checkIsTarget(I,c.REPETITION_WITH_SEPARATOR)},R.prototype.visitAlternation=function(I){this.checkIsTarget(I,c.ALTERNATION)},R}(o.GAstVisitor);function k(P,R){function I(Q,fe){return i.reduce(Q,function(de,he,ve){if(ve!==fe){var ne=i.map(he,function(Bt){return Bt.partialPath});return de.concat(ne)}return de},[])}function F(Q,fe){return i.find(Q,function(de){return i.every(fe,function(he,ve){return $(he,de[ve])})})===void 0}function $(Q,fe){return Q===fe||Q&&fe&&(Q.categoryMatchesMap[fe.tokenTypeIdx]||fe.categoryMatchesMap[Q.tokenTypeIdx])}function L(Q){for(var fe=[],de=0;de<Q;de++)fe.push([]);return fe}for(var W=i.map(P,function(Q){return n.possiblePathsFrom([Q],1)}),j=L(W.length),z=W,re=1;re<=R;re++){var ce=z;z=L(ce.length);for(var ge=0;ge<ce.length;ge++)for(var be=ce[ge],ue=I(ce,ge),se=0;se<be.length;se++){var Z=be[se].partialPath,K=be[se].suffixDef,q=F(ue,Z);if(q||i.isEmpty(K)||Z.length===R){var ie=j[ge];O(ie,Z)||ie.push(Z)}else{var le=n.possiblePathsFrom(K,re+1,Z);z[ge]=z[ge].concat(le)}}}return j}t.lookAheadSequenceFromAlternatives=k;function S(P,R,I){var F=new C(P,c.ALTERNATION);return R.accept(F),k(F.result,I)}t.getLookaheadPathsForOr=S;function x(P,R,I,F){var $=new C(P,I);R.accept($);var L=$.result,W=new w(R,P,I),j=W.startWalking(),z=new s.Flat({definition:L}),re=new s.Flat({definition:j});return k([z,re],F)}t.getLookaheadPathsForOptionalProd=x;function O(P,R){var I=i.find(P,function(F){return R.length===F.length&&i.every(R,function($,L){return $===F[L]||F[L].categoryMatchesMap[$.tokenTypeIdx]})});return I!==void 0}t.containsPath=O;function D(P,R){return P.length<R.length&&i.every(P,function(I,F){var $=R[F];return I===$||$.categoryMatchesMap[I.tokenTypeIdx]})}t.isStrictPrefixOfPath=D;function B(P){return i.every(P,function(R){return i.every(R,function(I){return i.every(I,function(F){return i.isEmpty(F.categoryMatches)})})})}t.areTokenCategoriesNotUsed=B})($v);var MR;function Uw(){return MR||(MR=1,function(t){var e=Ci&&Ci.__extends||function(){var ue=function(se,Z){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,q){K.__proto__=q}||function(K,q){for(var ie in q)q.hasOwnProperty(ie)&&(K[ie]=q[ie])},ue(se,Z)};return function(se,Z){ue(se,Z);function K(){this.constructor=se}se.prototype=Z===null?Object.create(Z):(K.prototype=Z.prototype,new K)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=ze,n=ze,r=fl(),a=cc,s=ro(),o=$v,c=uc,d=Cs,p=ji,m=$d;function y(ue,se,Z,K,q,ie){var le=i.map(ue,function($t){return w($t,q)}),Q=i.map(ue,function($t){return R($t,$t,q)}),fe=[],de=[],he=[];n.every(Q,n.isEmpty)&&(fe=n.map(ue,function($t){return $($t,q)}),de=n.map(ue,function($t){return L($t,se,K,q)}),he=z(ue,se,q));var ve=ge(ue,Z,q),ne=i.map(Z,function($t){return D($t,q)}),Bt=_(ue,q),It=be(ue,q),ht=n.map(ue,function($t){return j($t,q)}),Se=n.map(ue,function($t){return x($t,q)}),Jt=n.map(ue,function($t){return B($t,ue,ie,q)});return i.flatten(le.concat(ne,Bt,It,he,Q,fe,de,ve,ht,Se,Jt))}t.validateGrammar=y;function _(ue,se){var Z=[];return n.forEach(ue,function(K){var q=new c.NamedDSLMethodsCollectorVisitor("");K.accept(q);var ie=n.map(q.result,function(le){return le.orgProd});Z.push(n.map(ie,function(le){return O(K,le,se)}))}),n.flatten(Z)}function w(ue,se){var Z=new S;ue.accept(Z);var K=Z.allProductions,q=i.groupBy(K,C),ie=i.pick(q,function(Q){return Q.length>1}),le=i.map(i.values(ie),function(Q){var fe=i.first(Q),de=se.buildDuplicateFoundError(ue,Q),he=a.getProductionDslName(fe),ve={message:de,type:r.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:ue.name,dslName:he,occurrence:fe.idx},ne=k(fe);return ne&&(ve.parameter=ne),ve});return le}function C(ue){return a.getProductionDslName(ue)+"_#_"+ue.idx+"_#_"+k(ue)}t.identifyProductionForDuplicates=C;function k(ue){return ue instanceof p.Terminal?s.tokenName(ue.terminalType):ue instanceof p.NonTerminal?ue.nonTerminalName:""}var S=function(ue){e(se,ue);function se(){var Z=ue!==null&&ue.apply(this,arguments)||this;return Z.allProductions=[],Z}return se.prototype.visitNonTerminal=function(Z){this.allProductions.push(Z)},se.prototype.visitOption=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetitionWithSeparator=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetitionMandatory=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetitionMandatoryWithSeparator=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetition=function(Z){this.allProductions.push(Z)},se.prototype.visitAlternation=function(Z){this.allProductions.push(Z)},se.prototype.visitTerminal=function(Z){this.allProductions.push(Z)},se}(m.GAstVisitor);t.OccurrenceValidationCollector=S,t.validTermsPattern=/^[a-zA-Z_]\w*$/,t.validNestedRuleName=new RegExp(t.validTermsPattern.source.replace("^","^\\$"));function x(ue,se){var Z=[],K=ue.name;return K.match(t.validTermsPattern)||Z.push({message:se.buildInvalidRuleNameError({topLevelRule:ue,expectedPattern:t.validTermsPattern}),type:r.ParserDefinitionErrorType.INVALID_RULE_NAME,ruleName:K}),Z}t.validateRuleName=x;function O(ue,se,Z){var K=[],q;return se.name.match(t.validNestedRuleName)||(q=Z.buildInvalidNestedRuleNameError(ue,se),K.push({message:q,type:r.ParserDefinitionErrorType.INVALID_NESTED_RULE_NAME,ruleName:ue.name})),K}t.validateNestedRuleName=O;function D(ue,se){var Z=[],K=s.tokenName(ue);return K.match(t.validTermsPattern)||Z.push({message:se.buildTokenNameError({tokenType:ue,expectedPattern:t.validTermsPattern}),type:r.ParserDefinitionErrorType.INVALID_TOKEN_NAME}),Z}t.validateTokenName=D;function B(ue,se,Z,K){var q=[],ie=n.reduce(se,function(Q,fe){return fe.name===ue.name?Q+1:Q},0);if(ie>1){var le=K.buildDuplicateRuleNameError({topLevelRule:ue,grammarName:Z});q.push({message:le,type:r.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:ue.name})}return q}t.validateRuleDoesNotAlreadyExist=B;function P(ue,se,Z){var K=[],q;return i.contains(se,ue)||(q="Invalid rule override, rule: ->"+ue+"<- cannot be overridden in the grammar: ->"+Z+"<-as it is not defined in any of the super grammars ",K.push({message:q,type:r.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:ue})),K}t.validateRuleIsOverridden=P;function R(ue,se,Z,K){K===void 0&&(K=[]);var q=[],ie=I(se.definition);if(i.isEmpty(ie))return[];var le=ue.name,Q=i.contains(ie,ue);Q&&q.push({message:Z.buildLeftRecursionError({topLevelRule:ue,leftRecursionPath:K}),type:r.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:le});var fe=i.difference(ie,K.concat([ue])),de=i.map(fe,function(he){var ve=i.cloneArr(K);return ve.push(he),R(ue,he,Z,ve)});return q.concat(i.flatten(de))}t.validateNoLeftRecursion=R;function I(ue){var se=[];if(i.isEmpty(ue))return se;var Z=i.first(ue);if(Z instanceof p.NonTerminal)se.push(Z.referencedRule);else if(Z instanceof p.Flat||Z instanceof p.Option||Z instanceof p.RepetitionMandatory||Z instanceof p.RepetitionMandatoryWithSeparator||Z instanceof p.RepetitionWithSeparator||Z instanceof p.Repetition)se=se.concat(I(Z.definition));else if(Z instanceof p.Alternation)se=i.flatten(i.map(Z.definition,function(le){return I(le.definition)}));else if(!(Z instanceof p.Terminal))throw Error("non exhaustive match");var K=a.isOptionalProd(Z),q=ue.length>1;if(K&&q){var ie=i.drop(ue);return se.concat(I(ie))}else return se}t.getFirstNoneTerminal=I;var F=function(ue){e(se,ue);function se(){var Z=ue!==null&&ue.apply(this,arguments)||this;return Z.alternations=[],Z}return se.prototype.visitAlternation=function(Z){this.alternations.push(Z)},se}(m.GAstVisitor);function $(ue,se){var Z=new F;ue.accept(Z);var K=Z.alternations,q=i.reduce(K,function(ie,le){var Q=i.dropRight(le.definition),fe=i.map(Q,function(de,he){var ve=d.nextPossibleTokensAfter([de],[],null,1);return i.isEmpty(ve)?{message:se.buildEmptyAlternationError({topLevelRule:ue,alternation:le,emptyChoiceIdx:he}),type:r.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:ue.name,occurrence:le.idx,alternative:he+1}:null});return ie.concat(i.compact(fe))},[]);return q}t.validateEmptyOrAlternative=$;function L(ue,se,Z,K){var q=new F;ue.accept(q);var ie=q.alternations,le=Z[ue.name];le&&(ie=n.reject(ie,function(fe){return le[a.getProductionDslName(fe)+(fe.idx===0?"":fe.idx)]}));var Q=i.reduce(ie,function(fe,de){var he=de.idx,ve=o.getLookaheadPathsForOr(he,ue,se),ne=re(ve,de,ue,K),Bt=ce(ve,de,ue,K);return fe.concat(ne,Bt)},[]);return Q}t.validateAmbiguousAlternationAlternatives=L;var W=function(ue){e(se,ue);function se(){var Z=ue!==null&&ue.apply(this,arguments)||this;return Z.allProductions=[],Z}return se.prototype.visitRepetitionWithSeparator=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetitionMandatory=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetitionMandatoryWithSeparator=function(Z){this.allProductions.push(Z)},se.prototype.visitRepetition=function(Z){this.allProductions.push(Z)},se}(m.GAstVisitor);t.RepetionCollector=W;function j(ue,se){var Z=new F;ue.accept(Z);var K=Z.alternations,q=i.reduce(K,function(ie,le){return le.definition.length>255&&ie.push({message:se.buildTooManyAlternativesError({topLevelRule:ue,alternation:le}),type:r.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:ue.name,occurrence:le.idx}),ie},[]);return q}t.validateTooManyAlts=j;function z(ue,se,Z){var K=[];return n.forEach(ue,function(q){var ie=new W;q.accept(ie);var le=ie.allProductions;n.forEach(le,function(Q){var fe=o.getProdType(Q),de=Q.idx,he=o.getLookaheadPathsForOptionalProd(de,q,fe,se),ve=he[0];if(n.isEmpty(n.flatten(ve))){var ne=Z.buildEmptyRepetitionError({topLevelRule:q,repetition:Q});K.push({message:ne,type:r.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:q.name})}})}),K}t.validateSomeNonEmptyLookaheadPath=z;function re(ue,se,Z,K){var q=[],ie=n.reduce(ue,function(Q,fe,de){return n.forEach(fe,function(he){var ve=[de];n.forEach(ue,function(ne,Bt){de!==Bt&&o.containsPath(ne,he)&&ve.push(Bt)}),ve.length>1&&!o.containsPath(q,he)&&(q.push(he),Q.push({alts:ve,path:he}))}),Q},[]),le=i.map(ie,function(Q){var fe=n.map(Q.alts,function(he){return he+1}),de=K.buildAlternationAmbiguityError({topLevelRule:Z,alternation:se,ambiguityIndices:fe,prefixPath:Q.path});return{message:de,type:r.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:Z.name,occurrence:se.idx,alternatives:[Q.alts]}});return le}function ce(ue,se,Z,K){var q=[],ie=n.reduce(ue,function(le,Q,fe){var de=n.map(Q,function(he){return{idx:fe,path:he}});return le.concat(de)},[]);return n.forEach(ie,function(le){var Q=le.idx,fe=le.path,de=n.findAll(ie,function(ve){return ve.idx<Q&&o.isStrictPrefixOfPath(ve.path,fe)}),he=n.map(de,function(ve){var ne=[ve.idx+1,Q+1],Bt=se.idx===0?"":se.idx,It=K.buildAlternationPrefixAmbiguityError({topLevelRule:Z,alternation:se,ambiguityIndices:ne,prefixPath:ve.path});return{message:It,type:r.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:Z.name,occurrence:Bt,alternatives:ne}});q=q.concat(he)}),q}t.checkPrefixAlternativesAmbiguities=ce;function ge(ue,se,Z){var K=[],q=n.map(se,function(ie){return s.tokenName(ie)});return n.forEach(ue,function(ie){var le=ie.name;if(n.contains(q,le)){var Q=Z.buildNamespaceConflictError(ie);K.push({message:Q,type:r.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:le})}}),K}function be(ue,se){var Z=[];return n.forEach(ue,function(K){var q=new c.NamedDSLMethodsCollectorVisitor("");K.accept(q);var ie=n.groupBy(q.result,function(Q){return Q.name}),le=n.pick(ie,function(Q){return Q.length>1});n.forEach(n.values(le),function(Q){var fe=n.map(Q,function(he){return he.orgProd}),de=se.buildDuplicateNestedRuleNameError(K,fe);Z.push({message:de,type:r.ParserDefinitionErrorType.DUPLICATE_NESTED_NAME,ruleName:K.name})})}),Z}}(BT)),BT}var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.VERSION="4.8.1";var PR;function Lw(){return PR||(PR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ro(),i=ze,n=ze,r=ji,a=cc,s=Uw(),o=Hv,c=fl();t.defaultParserErrorProvider={buildMismatchTokenMessage:function(d){var p=d.expected,m=d.actual;d.previous,d.ruleName;var y=e.hasTokenLabel(p),_=y?"--> "+e.tokenLabel(p)+" <--":"token of type --> "+e.tokenName(p)+" <--",w="Expecting "+_+" but found --> '"+m.image+"' <--";return w},buildNotAllInputParsedMessage:function(d){var p=d.firstRedundant;return d.ruleName,"Redundant input, expecting EOF but found: "+p.image},buildNoViableAltMessage:function(d){var p=d.expectedPathsPerAlt,m=d.actual;d.previous;var y=d.customUserDescription;d.ruleName;var _="Expecting: ",w=n.first(m).image,C=`
but found: '`+w+"'";if(y)return _+y+C;var k=n.reduce(p,function(D,B){return D.concat(B)},[]),S=n.map(k,function(D){return"["+n.map(D,function(B){return e.tokenLabel(B)}).join(", ")+"]"}),x=n.map(S,function(D,B){return"  "+(B+1)+". "+D}),O=`one of these possible Token sequences:
`+x.join(`
`);return _+O+C},buildEarlyExitMessage:function(d){var p=d.expectedIterationPaths,m=d.actual,y=d.customUserDescription;d.ruleName;var _="Expecting: ",w=n.first(m).image,C=`
but found: '`+w+"'";if(y)return _+y+C;var k=n.map(p,function(x){return"["+n.map(x,function(O){return e.tokenLabel(O)}).join(",")+"]"}),S=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+("<"+k.join(" ,")+">");return _+S+C}},Object.freeze(t.defaultParserErrorProvider),t.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(d,p){var m="Invalid grammar, reference to a rule which is not defined: ->"+p.nonTerminalName+`<-
inside top level rule: ->`+d.name+"<-";return m}},t.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(d,p){function m(x){return x instanceof r.Terminal?e.tokenName(x.terminalType):x instanceof r.NonTerminal?x.nonTerminalName:""}var y=d.name,_=n.first(p),w=_.idx,C=a.getProductionDslName(_),k=m(_),S="->"+C+"<- with numerical suffix: ->"+w+`<-
                  `+(k?"and argument: ->"+k+"<-":"")+`
                  appears more than once (`+p.length+" times) in the top level rule: ->"+y+`<-.
                  `+(w===0?"Also note that numerical suffix 0 means "+C+" without any suffix.":"")+`
                  To fix this make sure each usage of `+C+" "+(k?"with the argument: ->"+k+"<-":"")+`
                  in the rule ->`+y+`<- has a different occurrence index (0-5), as that combination acts as a unique
                  position key in the grammar, which is needed by the parsing engine.
                  
                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return S=S.replace(/[ \t]+/g," "),S=S.replace(/\s\s+/g,`
`),S},buildInvalidNestedRuleNameError:function(d,p){var m="Invalid nested rule name: ->"+p.name+"<- inside rule: ->"+d.name+`<-
`+("it must match the pattern: ->"+s.validNestedRuleName.toString()+`<-.
`)+"Note that this means a nested rule name must start with the '$'(dollar) sign.";return m},buildDuplicateNestedRuleNameError:function(d,p){var m=n.first(p).name,y="Duplicate nested rule name: ->"+m+"<- inside rule: ->"+d.name+`<-
A nested name must be unique in the scope of a top level grammar rule.`;return y},buildNamespaceConflictError:function(d){var p=`Namespace conflict found in grammar.
`+("The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+d.name+`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return p},buildAlternationPrefixAmbiguityError:function(d){var p=n.map(d.prefixPath,function(_){return e.tokenLabel(_)}).join(", "),m=d.alternation.idx===0?"":d.alternation.idx,y="Ambiguous alternatives: <"+d.ambiguityIndices.join(" ,")+`> due to common lookahead prefix
`+("in <OR"+m+"> inside <"+d.topLevelRule.name+`> Rule,
`)+("<"+p+`> may appears as a prefix path in all these alternatives.
`)+`https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return y},buildAlternationAmbiguityError:function(d){var p=n.map(d.prefixPath,function(w){return e.tokenLabel(w)}).join(", "),m=d.alternation.idx===0?"":d.alternation.idx,y="Ambiguous alternatives: <"+d.ambiguityIndices.join(" ,")+"> in <OR"+m+">"+(" inside <"+d.topLevelRule.name+`> Rule,
`)+("<"+p+`> may appears as a prefix path in all these alternatives.
`),_=o.VERSION.replace(/\./g,"_");return y=y+`To Resolve this, try one of of the following: 
`+("1. Refactor your grammar to be LL(K) for the current value of k (by default k="+c.DEFAULT_PARSER_CONFIG.maxLookahead+`})
`)+`2. Increase the value of K for your grammar by providing a larger 'maxLookahead' value in the parser's config
3. This issue can be ignored (if you know what you are doing...), see https://sap.github.io/chevrotain/documentation/`+_+`/interfaces/iparserconfig.html#ignoredissues for more details
`,y},buildEmptyRepetitionError:function(d){var p=a.getProductionDslName(d.repetition);d.repetition.idx!==0&&(p+=d.repetition.idx);var m="The repetition <"+p+"> within Rule <"+d.topLevelRule.name+`> can never consume any tokens.
This could lead to an infinite loop.`;return m},buildTokenNameError:function(d){var p=e.tokenName(d.tokenType),m="Invalid Grammar Token name: ->"+p+"<- it must match the pattern: ->"+d.expectedPattern.toString()+"<-";return m},buildEmptyAlternationError:function(d){var p="Ambiguous empty alternative: <"+(d.emptyChoiceIdx+1)+">"+(" in <OR"+d.alternation.idx+"> inside <"+d.topLevelRule.name+`> Rule.
`)+"Only the last alternative may be an empty alternative.";return p},buildTooManyAlternativesError:function(d){var p=`An Alternation cannot have more than 256 alternatives:
`+("<OR"+d.alternation.idx+"> inside <"+d.topLevelRule.name+`> Rule.
 has `+(d.alternation.definition.length+1)+" alternatives.");return p},buildLeftRecursionError:function(d){var p=d.topLevelRule.name,m=i.map(d.leftRecursionPath,function(w){return w.name}),y=p+" --> "+m.concat([p]).join(" --> "),_=`Left Recursion found in grammar.
`+("rule: <"+p+`> can be invoked from itself (directly or indirectly)
`)+(`without consuming any Tokens. The grammar path that causes this is: 
 `+y+`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.`;return _},buildInvalidRuleNameError:function(d){var p=d.topLevelRule.name,m=d.expectedPattern.toString(),y="Invalid grammar rule name: ->"+p+"<- it must match the pattern: ->"+m+"<-";return y},buildDuplicateRuleNameError:function(d){var p;d.topLevelRule instanceof r.Rule?p=d.topLevelRule.name:p=d.topLevelRule;var m="Duplicate definition, rule: ->"+p+"<- is already defined in the grammar: ->"+d.grammarName+"<-";return m}}}(LT)),LT}var yp={},$y={},OR;function Uj(){if(OR)return $y;OR=1;var t=Ci&&Ci.__extends||function(){var s=function(o,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var m in p)p.hasOwnProperty(m)&&(d[m]=p[m])},s(o,c)};return function(o,c){s(o,c);function d(){this.constructor=o}o.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty($y,"__esModule",{value:!0});var e=fl(),i=ze,n=$d;function r(s,o){var c=new a(s,o);return c.resolveRefs(),c.errors}$y.resolveGrammar=r;var a=function(s){t(o,s);function o(c,d){var p=s.call(this)||this;return p.nameToTopRule=c,p.errMsgProvider=d,p.errors=[],p}return o.prototype.resolveRefs=function(){var c=this;i.forEach(this.nameToTopRule.values(),function(d){c.currTopLevel=d,d.accept(c)})},o.prototype.visitNonTerminal=function(c){var d=this.nameToTopRule.get(c.nonTerminalName);if(d)c.referencedRule=d;else{var p=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,c);this.errors.push({message:p,type:e.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:c.nonTerminalName})}},o}(n.GAstVisitor);return $y.GastRefResolverVisitor=a,$y}var NR;function QG(){if(NR)return yp;NR=1,Object.defineProperty(yp,"__esModule",{value:!0});var t=ze,e=Ts,i=Uj(),n=Uw(),r=Lw(),a=cc;function s(d){d=t.defaults(d,{errMsgProvider:r.defaultGrammarResolverErrorProvider});var p=new e.HashTable;return t.forEach(d.rules,function(m){p.put(m.name,m)}),i.resolveGrammar(p,d.errMsgProvider)}yp.resolveGrammar=s;function o(d){return d=t.defaults(d,{errMsgProvider:r.defaultGrammarValidatorErrorProvider,ignoredIssues:{}}),n.validateGrammar(d.rules,d.maxLookahead,d.tokenTypes,d.ignoredIssues,d.errMsgProvider,d.grammarName)}yp.validateGrammar=o;function c(d){t.forEach(d.rules,function(p){var m=new a.DslMethodsCollectorVisitor;p.accept(m),t.forEach(m.dslMethods,function(y){t.forEach(y,function(_,w){_.idx=w+1})})})}return yp.assignOccurrenceIndices=c,yp}var $T={},hl={};Object.defineProperty(hl,"__esModule",{value:!0});var Lj=ze,JG="MismatchedTokenException",eU="NoViableAltException",tU="EarlyExitException",iU="NotAllInputParsedException",nU=[JG,eU,tU,iU];Object.freeze(nU);function Bj(t){return Lj.contains(nU,t.name)}hl.isRecognitionException=Bj;function rU(t,e,i){this.name=JG,this.message=t,this.token=e,this.previousToken=i,this.resyncedTokens=[]}hl.MismatchedTokenException=rU;rU.prototype=Error.prototype;function aU(t,e,i){this.name=eU,this.message=t,this.token=e,this.previousToken=i,this.resyncedTokens=[]}hl.NoViableAltException=aU;aU.prototype=Error.prototype;function sU(t,e){this.name=iU,this.message=t,this.token=e,this.resyncedTokens=[]}hl.NotAllInputParsedException=sU;sU.prototype=Error.prototype;function oU(t,e,i){this.name=tU,this.message=t,this.token=e,this.previousToken=i,this.resyncedTokens=[]}hl.EarlyExitException=oU;oU.prototype=Error.prototype;var GR;function lU(){return GR||(GR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ro(),i=ze,n=hl,r=Nw,a=Ts,s=fl();t.EOF_FOLLOW_KEY={},t.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";function o(p){this.name=t.IN_RULE_RECOVERY_EXCEPTION,this.message=p}t.InRuleRecoveryException=o,o.prototype=Error.prototype;var c=function(){function p(){}return p.prototype.initRecoverable=function(m){this.firstAfterRepMap=new a.HashTable,this.resyncFollows=new a.HashTable,this.recoveryEnabled=i.has(m,"recoveryEnabled")?m.recoveryEnabled:s.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=d)},p.prototype.getTokenToInsert=function(m){var y=e.createTokenInstance(m,"",NaN,NaN,NaN,NaN,NaN,NaN);return y.isInsertedInRecovery=!0,y},p.prototype.canTokenTypeBeInsertedInRecovery=function(m){return!0},p.prototype.tryInRepetitionRecovery=function(m,y,_,w){for(var C=this,k=this.findReSyncTokenType(),S=this.exportLexerState(),x=[],O=!1,D=this.LA(1),B=this.LA(1),P=function(){var R=C.LA(0),I=C.errorMessageProvider.buildMismatchTokenMessage({expected:w,actual:D,previous:R,ruleName:C.getCurrRuleFullName()}),F=new n.MismatchedTokenException(I,D,C.LA(0));F.resyncedTokens=i.dropRight(x),C.SAVE_ERROR(F)};!O;)if(this.tokenMatcher(B,w)){P();return}else if(_.call(this)){P(),m.apply(this,y);return}else this.tokenMatcher(B,k)?O=!0:(B=this.SKIP_TOKEN(),this.addToResyncTokens(B,x));this.importLexerState(S)},p.prototype.shouldInRepetitionRecoveryBeTried=function(m,y,_){return!(_===!1||m===void 0||y===void 0||this.tokenMatcher(this.LA(1),m)||this.isBackTracking()||this.canPerformInRuleRecovery(m,this.getFollowsForInRuleRecovery(m,y)))},p.prototype.getFollowsForInRuleRecovery=function(m,y){var _=this.getCurrentGrammarPath(m,y),w=this.getNextPossibleTokenTypes(_);return w},p.prototype.tryInRuleRecovery=function(m,y){if(this.canRecoverWithSingleTokenInsertion(m,y)){var _=this.getTokenToInsert(m);return _}if(this.canRecoverWithSingleTokenDeletion(m)){var w=this.SKIP_TOKEN();return this.consumeToken(),w}throw new o("sad sad panda")},p.prototype.canPerformInRuleRecovery=function(m,y){return this.canRecoverWithSingleTokenInsertion(m,y)||this.canRecoverWithSingleTokenDeletion(m)},p.prototype.canRecoverWithSingleTokenInsertion=function(m,y){var _=this;if(!this.canTokenTypeBeInsertedInRecovery(m)||i.isEmpty(y))return!1;var w=this.LA(1),C=i.find(y,function(k){return _.tokenMatcher(w,k)})!==void 0;return C},p.prototype.canRecoverWithSingleTokenDeletion=function(m){var y=this.tokenMatcher(this.LA(2),m);return y},p.prototype.isInCurrentRuleReSyncSet=function(m){var y=this.getCurrFollowKey(),_=this.getFollowSetFromFollowKey(y);return i.contains(_,m)},p.prototype.findReSyncTokenType=function(){for(var m=this.flattenFollowSet(),y=this.LA(1),_=2;;){var w=y.tokenType;if(i.contains(m,w))return w;y=this.LA(_),_++}},p.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return t.EOF_FOLLOW_KEY;var m=this.getLastExplicitRuleShortName(),y=this.getLastExplicitRuleOccurrenceIndex(),_=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(m),idxInCallingRule:y,inRule:this.shortRuleNameToFullName(_)}},p.prototype.buildFullFollowKeyStack=function(){var m=this,y=this.RULE_STACK,_=this.RULE_OCCURRENCE_STACK;return i.isEmpty(this.LAST_EXPLICIT_RULE_STACK)||(y=i.map(this.LAST_EXPLICIT_RULE_STACK,function(w){return m.RULE_STACK[w]}),_=i.map(this.LAST_EXPLICIT_RULE_STACK,function(w){return m.RULE_OCCURRENCE_STACK[w]})),i.map(y,function(w,C){return C===0?t.EOF_FOLLOW_KEY:{ruleName:m.shortRuleNameToFullName(w),idxInCallingRule:_[C],inRule:m.shortRuleNameToFullName(y[C-1])}})},p.prototype.flattenFollowSet=function(){var m=this,y=i.map(this.buildFullFollowKeyStack(),function(_){return m.getFollowSetFromFollowKey(_)});return i.flatten(y)},p.prototype.getFollowSetFromFollowKey=function(m){if(m===t.EOF_FOLLOW_KEY)return[e.EOF];var y=m.ruleName+m.idxInCallingRule+r.IN+m.inRule;return this.resyncFollows.get(y)},p.prototype.addToResyncTokens=function(m,y){return this.tokenMatcher(m,e.EOF)||y.push(m),y},p.prototype.reSyncTo=function(m){for(var y=[],_=this.LA(1);this.tokenMatcher(_,m)===!1;)_=this.SKIP_TOKEN(),this.addToResyncTokens(_,y);return i.dropRight(y)},p.prototype.attemptInRepetitionRecovery=function(m,y,_,w,C,k,S){},p.prototype.getCurrentGrammarPath=function(m,y){var _=this.getHumanReadableRuleStack(),w=i.cloneArr(this.RULE_OCCURRENCE_STACK),C={ruleStack:_,occurrenceStack:w,lastTok:m,lastTokOccurrence:y};return C},p.prototype.getHumanReadableRuleStack=function(){var m=this;return i.isEmpty(this.LAST_EXPLICIT_RULE_STACK)?i.map(this.RULE_STACK,function(y){return m.shortRuleNameToFullName(y)}):i.map(this.LAST_EXPLICIT_RULE_STACK,function(y){return m.shortRuleNameToFullName(m.RULE_STACK[y])})},p}();t.Recoverable=c;function d(p,m,y,_,w,C,k){var S=this.getKeyForAutomaticLookahead(_,w),x=this.firstAfterRepMap.get(S);if(x===void 0){var O=this.getCurrRuleFullName(),D=this.getGAstProductions().get(O),B=new C(D,w);x=B.startWalking(),this.firstAfterRepMap.put(S,x)}var P=x.token,R=x.occurrence,I=x.isEndOfRule;this.RULE_STACK.length===1&&I&&P===void 0&&(P=e.EOF,R=1),this.shouldInRepetitionRecoveryBeTried(P,R,k)&&this.tryInRepetitionRecovery(p,m,y,P)}t.attemptInRepetitionRecovery=d}($T)),$T}var l_={},UR;function $j(){if(UR)return l_;UR=1,Object.defineProperty(l_,"__esModule",{value:!0});var t=$v,e=ze,i=fl(),n=Bv,r=function(){function a(){}return a.prototype.initLooksAhead=function(s){this.dynamicTokensEnabled=e.has(s,"dynamicTokensEnabled")?s.dynamicTokensEnabled:i.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=e.has(s,"maxLookahead")?s.maxLookahead:i.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=e.isES2015MapSupported()?new Map:[],e.isES2015MapSupported()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},a.prototype.lookAheadBuilderForOptional=function(s,o,c){return t.buildSingleAlternativeLookaheadFunction(s,o,c)},a.prototype.lookAheadBuilderForAlternatives=function(s,o,c,d){return t.buildAlternativesLookAheadFunc(s,o,c,d)},a.prototype.getKeyForAutomaticLookahead=function(s,o){var c=this.getLastExplicitRuleShortName();return n.getKeyForAutomaticLookahead(c,s,o)},a.prototype.getLookaheadFuncForOr=function(s,o){var c=this.getKeyForAutomaticLookahead(n.OR_IDX,s),d=this.getLaFuncFromCache(c);if(d===void 0){var p=this.getCurrRuleFullName(),m=this.getGAstProductions().get(p),y=e.some(o,function(_){return e.isFunction(_.GATE)});return d=t.buildLookaheadFuncForOr(s,m,this.maxLookahead,y,this.dynamicTokensEnabled,this.lookAheadBuilderForAlternatives),this.setLaFuncCache(c,d),d}else return d},a.prototype.getLookaheadFuncForOption=function(s,o){return this.getLookaheadFuncFor(s,o,this.maxLookahead,t.PROD_TYPE.OPTION)},a.prototype.getLookaheadFuncForMany=function(s,o){return this.getLookaheadFuncFor(s,o,this.maxLookahead,t.PROD_TYPE.REPETITION)},a.prototype.getLookaheadFuncForManySep=function(s,o){return this.getLookaheadFuncFor(s,o,this.maxLookahead,t.PROD_TYPE.REPETITION_WITH_SEPARATOR)},a.prototype.getLookaheadFuncForAtLeastOne=function(s,o){return this.getLookaheadFuncFor(s,o,this.maxLookahead,t.PROD_TYPE.REPETITION_MANDATORY)},a.prototype.getLookaheadFuncForAtLeastOneSep=function(s,o){return this.getLookaheadFuncFor(s,o,this.maxLookahead,t.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR)},a.prototype.getLookaheadFuncFor=function(s,o,c,d){var p=this.getLaFuncFromCache(s);if(p===void 0){var m=this.getCurrRuleFullName(),y=this.getGAstProductions().get(m);return p=t.buildLookaheadFuncForOptionalProd(o,y,c,this.dynamicTokensEnabled,d,this.lookAheadBuilderForOptional),this.setLaFuncCache(s,p),p}else return p},a.prototype.getLaFuncFromCache=function(s){},a.prototype.getLaFuncFromMap=function(s){return this.lookAheadFuncsCache.get(s)},a.prototype.getLaFuncFromObj=function(s){return this.lookAheadFuncsCache[s]},a.prototype.setLaFuncCache=function(s,o){},a.prototype.setLaFuncCacheUsingMap=function(s,o){this.lookAheadFuncsCache.set(s,o)},a.prototype.setLaFuncUsingObj=function(s,o){this.lookAheadFuncsCache[s]=o},a}();return l_.LooksAhead=r,l_}var c_={},FT={},LR;function Fj(){return LR||(LR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ze,i=Ts,n=Uw();function r(y,_){for(var w=e.keys(y),C=w.length,k=0;k<C;k++)for(var S=w[k],x=y[S],O=x.length,D=0;D<O;D++){var B=x[D];B.tokenTypeIdx===void 0&&(B.fullName!==void 0?this[B.fullName](B.children,_):this[B.name](B.children,_))}}t.defaultVisit=r;function a(y,_){var w=function(){};i.defineNameProp(w,y+"BaseSemantics");var C={visit:function(k,S){if(e.isArray(k)&&(k=k[0]),!e.isUndefined(k))return k.fullName!==void 0?this[k.fullName](k.children,S):this[k.name](k.children,S)},validateVisitor:function(){var k=c(this,_);if(!e.isEmpty(k)){var S=e.map(k,function(x){return x.msg});throw Error("Errors Detected in CST Visitor <"+i.functionName(this.constructor)+`>:
	`+(""+S.join(`

`).replace(/\n/g,`
	`)))}}};return w.prototype=C,w.prototype.constructor=w,w._RULE_NAMES=_,w}t.createBaseSemanticVisitorConstructor=a;function s(y,_,w){var C=function(){};i.defineNameProp(C,y+"BaseSemanticsWithDefaults");var k=Object.create(w.prototype);return e.forEach(_,function(S){k[S]=r}),C.prototype=k,C.prototype.constructor=C,C}t.createBaseVisitorConstructorWithDefaults=s;var o;(function(y){y[y.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",y[y.MISSING_METHOD=1]="MISSING_METHOD"})(o=t.CstVisitorDefinitionError||(t.CstVisitorDefinitionError={}));function c(y,_){var w=d(y,_),C=m(y,_);return w.concat(C)}t.validateVisitor=c;function d(y,_){var w=e.map(_,function(C){if(!e.isFunction(y[C]))return{msg:"Missing visitor method: <"+C+"> on "+i.functionName(y.constructor)+" CST Visitor.",type:o.MISSING_METHOD,methodName:C}});return e.compact(w)}t.validateMissingCstMethods=d;var p=["constructor","visit","validateVisitor"];function m(y,_){var w=[];for(var C in y)n.validTermsPattern.test(C)&&e.isFunction(y[C])&&!e.contains(p,C)&&!e.contains(_,C)&&w.push({msg:"Redundant visitor method: <"+C+"> on "+i.functionName(y.constructor)+` CST Visitor
There is no Grammar Rule corresponding to this method's name.
`+("For utility methods on visitor classes use methods names that do not match /"+n.validTermsPattern.source+"/."),type:o.REDUNDANT_METHOD,methodName:C});return w}t.validateRedundantMethods=m}(FT)),FT}var BR;function Hj(){if(BR)return c_;BR=1,Object.defineProperty(c_,"__esModule",{value:!0});var t=uc,e=ze,i=Fj(),n=Bv,r=fl(),a=function(){function s(){}return s.prototype.initTreeBuilder=function(o){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=e.has(o,"outputCst")?o.outputCst:r.DEFAULT_PARSER_CONFIG.outputCst,this.nodeLocationTracking=e.has(o,"nodeLocationTracking")?o.nodeLocationTracking:r.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=e.NOOP,this.cstFinallyStateUpdate=e.NOOP,this.cstPostTerminal=e.NOOP,this.cstPostNonTerminal=e.NOOP,this.cstPostRule=e.NOOP,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationFull,this.setNodeLocationFromNode=t.setNodeLocationFull,this.cstPostRule=e.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=e.NOOP,this.setNodeLocationFromNode=e.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=t.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=t.setNodeLocationOnlyOffset,this.cstPostRule=e.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=e.NOOP,this.setNodeLocationFromNode=e.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=e.NOOP,this.setNodeLocationFromNode=e.NOOP,this.cstPostRule=e.NOOP,this.setInitialNodeLocation=e.NOOP;else throw Error('Invalid <nodeLocationTracking> config option: "'+o.nodeLocationTracking+'"')},s.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(o){o.location={startOffset:NaN,endOffset:NaN}},s.prototype.setInitialNodeLocationOnlyOffsetRegular=function(o){o.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},s.prototype.setInitialNodeLocationFullRecovery=function(o){o.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},s.prototype.setInitialNodeLocationFullRegular=function(o){var c=this.LA(1);o.location={startOffset:c.startOffset,startLine:c.startLine,startColumn:c.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},s.prototype.cstNestedInvocationStateUpdate=function(o,c){var d={name:o,fullName:this.shortRuleNameToFull.get(this.getLastExplicitRuleShortName())+o,children:{}};this.setInitialNodeLocation(d),this.CST_STACK.push(d)},s.prototype.cstInvocationStateUpdate=function(o,c){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var d={name:o,children:{}};this.setInitialNodeLocation(d),this.CST_STACK.push(d)},s.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},s.prototype.cstNestedFinallyStateUpdate=function(){var o=this.CST_STACK.pop();this.cstPostRule(o)},s.prototype.cstPostRuleFull=function(o){var c=this.LA(0),d=o.location;d.startOffset<=c.startOffset?(d.endOffset=c.endOffset,d.endLine=c.endLine,d.endColumn=c.endColumn):(d.startOffset=NaN,d.startLine=NaN,d.startColumn=NaN)},s.prototype.cstPostRuleOnlyOffset=function(o){var c=this.LA(0),d=o.location;d.startOffset<=c.startOffset?d.endOffset=c.endOffset:d.startOffset=NaN},s.prototype.cstPostTerminal=function(o,c){var d=this.CST_STACK[this.CST_STACK.length-1];t.addTerminalToCst(d,c,o),this.setNodeLocationFromToken(d.location,c)},s.prototype.cstPostNonTerminal=function(o,c){var d=this.CST_STACK[this.CST_STACK.length-1];t.addNoneTerminalToCst(d,c,o),this.setNodeLocationFromNode(d.location,o.location)},s.prototype.getBaseCstVisitorConstructor=function(){if(e.isUndefined(this.baseCstVisitorConstructor)){var o=i.createBaseSemanticVisitorConstructor(this.className,this.allRuleNames);return this.baseCstVisitorConstructor=o,o}return this.baseCstVisitorConstructor},s.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(e.isUndefined(this.baseCstVisitorWithDefaultsConstructor)){var o=i.createBaseVisitorConstructorWithDefaults(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=o,o}return this.baseCstVisitorWithDefaultsConstructor},s.prototype.nestedRuleBeforeClause=function(o,c){var d;if(o.NAME!==void 0)return d=o.NAME,this.nestedRuleInvocationStateUpdate(d,c),d},s.prototype.nestedAltBeforeClause=function(o,c,d,p){var m=this.getLastExplicitRuleShortName(),y=n.getKeyForAltIndex(m,d,c,p),_;if(o.NAME!==void 0)return _=o.NAME,this.nestedRuleInvocationStateUpdate(_,y),{shortName:y,nestedName:_}},s.prototype.nestedRuleFinallyClause=function(o,c){var d=this.CST_STACK,p=d[d.length-1];this.nestedRuleFinallyStateUpdate();var m=d[d.length-1];t.addNoneTerminalToCst(m,c,p),this.setNodeLocationFromNode(m.location,p.location)},s.prototype.getLastExplicitRuleShortName=function(){var o=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_STACK[o]},s.prototype.getLastExplicitRuleShortNameNoCst=function(){var o=this.RULE_STACK;return o[o.length-1]},s.prototype.getPreviousExplicitRuleShortName=function(){var o=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2];return this.RULE_STACK[o]},s.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var o=this.RULE_STACK;return o[o.length-2]},s.prototype.getLastExplicitRuleOccurrenceIndex=function(){var o=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_OCCURRENCE_STACK[o]},s.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var o=this.RULE_OCCURRENCE_STACK;return o[o.length-1]},s.prototype.nestedRuleInvocationStateUpdate=function(o,c){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(c),this.cstNestedInvocationStateUpdate(o,c)},s.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},s}();return c_.TreeBuilder=a,c_}var u_={},$R;function Vj(){if($R)return u_;$R=1,Object.defineProperty(u_,"__esModule",{value:!0});var t=fl(),e=function(){function i(){}return i.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(i.prototype,"input",{get:function(){return this.tokVector},set:function(n){this.reset(),this.tokVector=n,this.tokVectorLength=n.length},enumerable:!0,configurable:!0}),i.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):t.END_OF_FILE},i.prototype.LA=function(n){return this.currIdx+n<0||this.tokVectorLength<=this.currIdx+n?t.END_OF_FILE:this.tokVector[this.currIdx+n]},i.prototype.consumeToken=function(){this.currIdx++},i.prototype.exportLexerState=function(){return this.currIdx},i.prototype.importLexerState=function(n){this.currIdx=n},i.prototype.resetLexerState=function(){this.currIdx=-1},i.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},i.prototype.getLexerPosition=function(){return this.exportLexerState()},i}();return u_.LexerAdapter=e,u_}var d_={},FR;function Yj(){if(FR)return d_;FR=1,Object.defineProperty(d_,"__esModule",{value:!0});var t=ze,e=hl,i=fl(),n=Lw(),r=MS,a=Uw(),s=ji,o=function(){function c(){}return c.prototype.CONSUME=function(d,p){return this.consumeInternal(d,0,p)},c.prototype.CONSUME1=function(d,p){return this.consumeInternal(d,1,p)},c.prototype.CONSUME2=function(d,p){return this.consumeInternal(d,2,p)},c.prototype.CONSUME3=function(d,p){return this.consumeInternal(d,3,p)},c.prototype.CONSUME4=function(d,p){return this.consumeInternal(d,4,p)},c.prototype.CONSUME5=function(d,p){return this.consumeInternal(d,5,p)},c.prototype.CONSUME6=function(d,p){return this.consumeInternal(d,6,p)},c.prototype.CONSUME7=function(d,p){return this.consumeInternal(d,7,p)},c.prototype.CONSUME8=function(d,p){return this.consumeInternal(d,8,p)},c.prototype.CONSUME9=function(d,p){return this.consumeInternal(d,9,p)},c.prototype.SUBRULE=function(d,p){return this.subruleInternal(d,0,p)},c.prototype.SUBRULE1=function(d,p){return this.subruleInternal(d,1,p)},c.prototype.SUBRULE2=function(d,p){return this.subruleInternal(d,2,p)},c.prototype.SUBRULE3=function(d,p){return this.subruleInternal(d,3,p)},c.prototype.SUBRULE4=function(d,p){return this.subruleInternal(d,4,p)},c.prototype.SUBRULE5=function(d,p){return this.subruleInternal(d,5,p)},c.prototype.SUBRULE6=function(d,p){return this.subruleInternal(d,6,p)},c.prototype.SUBRULE7=function(d,p){return this.subruleInternal(d,7,p)},c.prototype.SUBRULE8=function(d,p){return this.subruleInternal(d,8,p)},c.prototype.SUBRULE9=function(d,p){return this.subruleInternal(d,9,p)},c.prototype.OPTION=function(d){return this.optionInternal(d,0)},c.prototype.OPTION1=function(d){return this.optionInternal(d,1)},c.prototype.OPTION2=function(d){return this.optionInternal(d,2)},c.prototype.OPTION3=function(d){return this.optionInternal(d,3)},c.prototype.OPTION4=function(d){return this.optionInternal(d,4)},c.prototype.OPTION5=function(d){return this.optionInternal(d,5)},c.prototype.OPTION6=function(d){return this.optionInternal(d,6)},c.prototype.OPTION7=function(d){return this.optionInternal(d,7)},c.prototype.OPTION8=function(d){return this.optionInternal(d,8)},c.prototype.OPTION9=function(d){return this.optionInternal(d,9)},c.prototype.OR=function(d){return this.orInternal(d,0)},c.prototype.OR1=function(d){return this.orInternal(d,1)},c.prototype.OR2=function(d){return this.orInternal(d,2)},c.prototype.OR3=function(d){return this.orInternal(d,3)},c.prototype.OR4=function(d){return this.orInternal(d,4)},c.prototype.OR5=function(d){return this.orInternal(d,5)},c.prototype.OR6=function(d){return this.orInternal(d,6)},c.prototype.OR7=function(d){return this.orInternal(d,7)},c.prototype.OR8=function(d){return this.orInternal(d,8)},c.prototype.OR9=function(d){return this.orInternal(d,9)},c.prototype.MANY=function(d){this.manyInternal(0,d)},c.prototype.MANY1=function(d){this.manyInternal(1,d)},c.prototype.MANY2=function(d){this.manyInternal(2,d)},c.prototype.MANY3=function(d){this.manyInternal(3,d)},c.prototype.MANY4=function(d){this.manyInternal(4,d)},c.prototype.MANY5=function(d){this.manyInternal(5,d)},c.prototype.MANY6=function(d){this.manyInternal(6,d)},c.prototype.MANY7=function(d){this.manyInternal(7,d)},c.prototype.MANY8=function(d){this.manyInternal(8,d)},c.prototype.MANY9=function(d){this.manyInternal(9,d)},c.prototype.MANY_SEP=function(d){this.manySepFirstInternal(0,d)},c.prototype.MANY_SEP1=function(d){this.manySepFirstInternal(1,d)},c.prototype.MANY_SEP2=function(d){this.manySepFirstInternal(2,d)},c.prototype.MANY_SEP3=function(d){this.manySepFirstInternal(3,d)},c.prototype.MANY_SEP4=function(d){this.manySepFirstInternal(4,d)},c.prototype.MANY_SEP5=function(d){this.manySepFirstInternal(5,d)},c.prototype.MANY_SEP6=function(d){this.manySepFirstInternal(6,d)},c.prototype.MANY_SEP7=function(d){this.manySepFirstInternal(7,d)},c.prototype.MANY_SEP8=function(d){this.manySepFirstInternal(8,d)},c.prototype.MANY_SEP9=function(d){this.manySepFirstInternal(9,d)},c.prototype.AT_LEAST_ONE=function(d){this.atLeastOneInternal(0,d)},c.prototype.AT_LEAST_ONE1=function(d){return this.atLeastOneInternal(1,d)},c.prototype.AT_LEAST_ONE2=function(d){this.atLeastOneInternal(2,d)},c.prototype.AT_LEAST_ONE3=function(d){this.atLeastOneInternal(3,d)},c.prototype.AT_LEAST_ONE4=function(d){this.atLeastOneInternal(4,d)},c.prototype.AT_LEAST_ONE5=function(d){this.atLeastOneInternal(5,d)},c.prototype.AT_LEAST_ONE6=function(d){this.atLeastOneInternal(6,d)},c.prototype.AT_LEAST_ONE7=function(d){this.atLeastOneInternal(7,d)},c.prototype.AT_LEAST_ONE8=function(d){this.atLeastOneInternal(8,d)},c.prototype.AT_LEAST_ONE9=function(d){this.atLeastOneInternal(9,d)},c.prototype.AT_LEAST_ONE_SEP=function(d){this.atLeastOneSepFirstInternal(0,d)},c.prototype.AT_LEAST_ONE_SEP1=function(d){this.atLeastOneSepFirstInternal(1,d)},c.prototype.AT_LEAST_ONE_SEP2=function(d){this.atLeastOneSepFirstInternal(2,d)},c.prototype.AT_LEAST_ONE_SEP3=function(d){this.atLeastOneSepFirstInternal(3,d)},c.prototype.AT_LEAST_ONE_SEP4=function(d){this.atLeastOneSepFirstInternal(4,d)},c.prototype.AT_LEAST_ONE_SEP5=function(d){this.atLeastOneSepFirstInternal(5,d)},c.prototype.AT_LEAST_ONE_SEP6=function(d){this.atLeastOneSepFirstInternal(6,d)},c.prototype.AT_LEAST_ONE_SEP7=function(d){this.atLeastOneSepFirstInternal(7,d)},c.prototype.AT_LEAST_ONE_SEP8=function(d){this.atLeastOneSepFirstInternal(8,d)},c.prototype.AT_LEAST_ONE_SEP9=function(d){this.atLeastOneSepFirstInternal(9,d)},c.prototype.RULE=function(d,p,m){if(m===void 0&&(m=i.DEFAULT_RULE_CONFIG),t.contains(this.definedRulesNames,d)){var y=n.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:d,grammarName:this.className}),_={message:y,type:i.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:d};this.definitionErrors.push(_)}if(this.definedRulesNames.push(d),!this.gastProductionsCache.containsKey(d)&&!this.serializedGrammar){var w=r.buildTopProduction(p.toString(),d,this.tokensMap);this.gastProductionsCache.put(d,w)}var C=this.defineRule(d,p,m);return this[d]=C,C},c.prototype.OVERRIDE_RULE=function(d,p,m){m===void 0&&(m=i.DEFAULT_RULE_CONFIG);var y=[];if(y=y.concat(a.validateRuleIsOverridden(d,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,y),!this.serializedGrammar){var _=r.buildTopProduction(p.toString(),d,this.tokensMap);this.gastProductionsCache.put(d,_)}var w=this.defineRule(d,p,m);return this[d]=w,w},c.prototype.BACKTRACK=function(d,p){return function(){this.isBackTrackingStack.push(1);var m=this.saveRecogState();try{return d.apply(this,p),!0}catch(y){if(e.isRecognitionException(y))return!1;throw y}finally{this.reloadRecogState(m),this.isBackTrackingStack.pop()}}},c.prototype.getGAstProductions=function(){return this.gastProductionsCache},c.prototype.getSerializedGastProductions=function(){return s.serializeGrammar(this.gastProductionsCache.values())},c}();return d_.RecognizerApi=o,d_}var h_={},HR;function qj(){if(HR)return h_;HR=1,Object.defineProperty(h_,"__esModule",{value:!0});var t=ze,e=Bv,i=hl,n=$v,r=Cs,a=fl(),s=lU(),o=ro(),c=Mw(),d=Ts,p=function(){function m(){}return m.prototype.initRecognizerEngine=function(y,_){if(this.className=d.classNameFromInstance(this),this.shortRuleNameToFull=new d.HashTable,this.fullRuleNameToShort=new d.HashTable,this.ruleShortNameIdx=256,this.tokenMatcher=c.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache=new d.HashTable,this.serializedGrammar=t.has(_,"serializedGrammar")?_.serializedGrammar:a.DEFAULT_PARSER_CONFIG.serializedGrammar,t.isArray(y)){if(t.isEmpty(y))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof y[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(t.isArray(y))this.tokensMap=t.reduce(y,function(S,x){return S[o.tokenName(x)]=x,S},{});else if(t.has(y,"modes")&&t.every(t.flatten(t.values(y.modes)),c.isTokenType)){var w=t.flatten(t.values(y.modes)),C=t.uniq(w);this.tokensMap=t.reduce(C,function(S,x){return S[o.tokenName(x)]=x,S},{})}else if(t.isObject(y))this.tokensMap=t.cloneObj(y);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=o.EOF;var k=t.every(t.values(y),function(S){return t.isEmpty(S.categoryMatches)});this.tokenMatcher=k?c.tokenStructuredMatcherNoCategories:c.tokenStructuredMatcher,c.augmentTokenTypes(t.values(this.tokensMap))},m.prototype.defineRule=function(y,_,w){if(this.selfAnalysisDone)throw Error("Grammar rule <"+y+`> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);var C=t.has(w,"resyncEnabled")?w.resyncEnabled:a.DEFAULT_RULE_CONFIG.resyncEnabled,k=t.has(w,"recoveryValueFunc")?w.recoveryValueFunc:a.DEFAULT_RULE_CONFIG.recoveryValueFunc,S=this.ruleShortNameIdx<<e.BITS_FOR_METHOD_IDX+e.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull.put(S,y),this.fullRuleNameToShort.put(y,S);function x(B){try{if(this.outputCst===!0){_.apply(this,B);var P=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(P),P}else return _.apply(this,B)}catch(L){var R=this.RULE_STACK.length===1,I=C&&!this.isBackTracking()&&this.recoveryEnabled;if(i.isRecognitionException(L))if(I){var F=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(F))if(L.resyncedTokens=this.reSyncTo(F),this.outputCst){var $=this.CST_STACK[this.CST_STACK.length-1];return $.recoveredNode=!0,$}else return k();else{if(this.outputCst){var $=this.CST_STACK[this.CST_STACK.length-1];$.recoveredNode=!0,L.partialCstResult=$}throw L}}else{if(R)return this.moveToTerminatedState(),k();throw L}else throw L}finally{this.ruleFinallyStateUpdate()}}var O;O=function(B,P){return B===void 0&&(B=0),this.ruleInvocationStateUpdate(S,y,B),x.call(this,P)};var D="ruleName";return O[D]=y,O},m.prototype.optionInternal=function(y,_){var w=this.getKeyForAutomaticLookahead(e.OPTION_IDX,_),C=this.nestedRuleBeforeClause(y,w);try{return this.optionInternalLogic(y,_,w)}finally{C!==void 0&&this.nestedRuleFinallyClause(w,C)}},m.prototype.optionInternalNoCst=function(y,_){var w=this.getKeyForAutomaticLookahead(e.OPTION_IDX,_);return this.optionInternalLogic(y,_,w)},m.prototype.optionInternalLogic=function(y,_,w){var C=this,k=this.getLookaheadFuncForOption(w,_),S,x;if(y.DEF!==void 0){if(S=y.DEF,x=y.GATE,x!==void 0){var O=k;k=function(){return x.call(C)&&O.call(C)}}}else S=y;if(k.call(this)===!0)return S.call(this)},m.prototype.atLeastOneInternal=function(y,_){var w=this.getKeyForAutomaticLookahead(e.AT_LEAST_ONE_IDX,y),C=this.nestedRuleBeforeClause(_,w);try{return this.atLeastOneInternalLogic(y,_,w)}finally{C!==void 0&&this.nestedRuleFinallyClause(w,C)}},m.prototype.atLeastOneInternalNoCst=function(y,_){var w=this.getKeyForAutomaticLookahead(e.AT_LEAST_ONE_IDX,y);this.atLeastOneInternalLogic(y,_,w)},m.prototype.atLeastOneInternalLogic=function(y,_,w){var C=this,k=this.getLookaheadFuncForAtLeastOne(w,y),S,x;if(_.DEF!==void 0){if(S=_.DEF,x=_.GATE,x!==void 0){var O=k;k=function(){return x.call(C)&&O.call(C)}}}else S=_;if(k.call(this)===!0)for(var D=this.doSingleRepetition(S);k.call(this)===!0&&D===!0;)D=this.doSingleRepetition(S);else throw this.raiseEarlyExitException(y,n.PROD_TYPE.REPETITION_MANDATORY,_.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[y,_],k,e.AT_LEAST_ONE_IDX,y,r.NextTerminalAfterAtLeastOneWalker)},m.prototype.atLeastOneSepFirstInternal=function(y,_){var w=this.getKeyForAutomaticLookahead(e.AT_LEAST_ONE_SEP_IDX,y),C=this.nestedRuleBeforeClause(_,w);try{this.atLeastOneSepFirstInternalLogic(y,_,w)}finally{C!==void 0&&this.nestedRuleFinallyClause(w,C)}},m.prototype.atLeastOneSepFirstInternalNoCst=function(y,_){var w=this.getKeyForAutomaticLookahead(e.AT_LEAST_ONE_SEP_IDX,y);this.atLeastOneSepFirstInternalLogic(y,_,w)},m.prototype.atLeastOneSepFirstInternalLogic=function(y,_,w){var C=this,k=_.DEF,S=_.SEP,x=this.getLookaheadFuncForAtLeastOneSep(w,y);if(x.call(this)===!0){k.call(this);for(var O=function(){return C.tokenMatcher(C.LA(1),S)};this.tokenMatcher(this.LA(1),S)===!0;)this.CONSUME(S),k.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[y,S,O,k,r.NextTerminalAfterAtLeastOneSepWalker],O,e.AT_LEAST_ONE_SEP_IDX,y,r.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(y,n.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,_.ERR_MSG)},m.prototype.manyInternal=function(y,_){var w=this.getKeyForAutomaticLookahead(e.MANY_IDX,y),C=this.nestedRuleBeforeClause(_,w);try{return this.manyInternalLogic(y,_,w)}finally{C!==void 0&&this.nestedRuleFinallyClause(w,C)}},m.prototype.manyInternalNoCst=function(y,_){var w=this.getKeyForAutomaticLookahead(e.MANY_IDX,y);return this.manyInternalLogic(y,_,w)},m.prototype.manyInternalLogic=function(y,_,w){var C=this,k=this.getLookaheadFuncForMany(w,y),S,x;if(_.DEF!==void 0){if(S=_.DEF,x=_.GATE,x!==void 0){var O=k;k=function(){return x.call(C)&&O.call(C)}}}else S=_;for(var D=!0;k.call(this)===!0&&D===!0;)D=this.doSingleRepetition(S);this.attemptInRepetitionRecovery(this.manyInternal,[y,_],k,e.MANY_IDX,y,r.NextTerminalAfterManyWalker,D)},m.prototype.manySepFirstInternal=function(y,_){var w=this.getKeyForAutomaticLookahead(e.MANY_SEP_IDX,y),C=this.nestedRuleBeforeClause(_,w);try{this.manySepFirstInternalLogic(y,_,w)}finally{C!==void 0&&this.nestedRuleFinallyClause(w,C)}},m.prototype.manySepFirstInternalNoCst=function(y,_){var w=this.getKeyForAutomaticLookahead(e.MANY_SEP_IDX,y);this.manySepFirstInternalLogic(y,_,w)},m.prototype.manySepFirstInternalLogic=function(y,_,w){var C=this,k=_.DEF,S=_.SEP,x=this.getLookaheadFuncForManySep(w,y);if(x.call(this)===!0){k.call(this);for(var O=function(){return C.tokenMatcher(C.LA(1),S)};this.tokenMatcher(this.LA(1),S)===!0;)this.CONSUME(S),k.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[y,S,O,k,r.NextTerminalAfterManySepWalker],O,e.MANY_SEP_IDX,y,r.NextTerminalAfterManySepWalker)}},m.prototype.repetitionSepSecondInternal=function(y,_,w,C,k){for(;w();)this.CONSUME(_),C.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[y,_,w,C,k],w,e.AT_LEAST_ONE_SEP_IDX,y,k)},m.prototype.doSingleRepetition=function(y){var _=this.getLexerPosition();y.call(this);var w=this.getLexerPosition();return w>_},m.prototype.orInternalNoCst=function(y,_){var w=t.isArray(y)?y:y.DEF,C=this.getLookaheadFuncForOr(_,w),k=C.call(this,w);if(k!==void 0){var S=w[k];return S.ALT.call(this)}this.raiseNoAltException(_,y.ERR_MSG)},m.prototype.orInternal=function(y,_){var w=this.getKeyForAutomaticLookahead(e.OR_IDX,_),C=this.nestedRuleBeforeClause(y,w);try{var k=t.isArray(y)?y:y.DEF,S=this.getLookaheadFuncForOr(_,k),x=S.call(this,k);if(x!==void 0){var O=k[x],D=this.nestedAltBeforeClause(O,_,e.OR_IDX,x);try{return O.ALT.call(this)}finally{D!==void 0&&this.nestedRuleFinallyClause(D.shortName,D.nestedName)}}this.raiseNoAltException(_,y.ERR_MSG)}finally{C!==void 0&&this.nestedRuleFinallyClause(w,C)}},m.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&!this.isAtEndOfInput()){var y=this.LA(1),_=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:y,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new i.NotAllInputParsedException(_,y))}},m.prototype.subruleInternal=function(y,_,w){var C;try{var k=w!==void 0?w.ARGS:void 0;return C=y.call(this,_,k),this.cstPostNonTerminal(C,w!==void 0&&w.LABEL!==void 0?w.LABEL:y.ruleName),C}catch(S){throw i.isRecognitionException(S)&&S.partialCstResult!==void 0&&(this.cstPostNonTerminal(S.partialCstResult,w!==void 0&&w.LABEL!==void 0?w.LABEL:y.ruleName),delete S.partialCstResult),S}},m.prototype.consumeInternal=function(y,_,w){var C;try{var k=this.LA(1);if(this.tokenMatcher(k,y)===!0)this.consumeToken(),C=k;else{var S=void 0,x=this.LA(0);throw w!==void 0&&w.ERR_MSG?S=w.ERR_MSG:S=this.errorMessageProvider.buildMismatchTokenMessage({expected:y,actual:k,previous:x,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new i.MismatchedTokenException(S,k,x))}}catch(D){if(this.recoveryEnabled&&D.name==="MismatchedTokenException"&&!this.isBackTracking()){var O=this.getFollowsForInRuleRecovery(y,_);try{C=this.tryInRuleRecovery(y,O)}catch(B){throw B.name===s.IN_RULE_RECOVERY_EXCEPTION?D:B}}else throw D}return this.cstPostTerminal(w!==void 0&&w.LABEL!==void 0?w.LABEL:y.tokenName,C),C},m.prototype.saveRecogState=function(){var y=this.errors,_=t.cloneArr(this.RULE_STACK);return{errors:y,lexerState:this.exportLexerState(),RULE_STACK:_,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},m.prototype.reloadRecogState=function(y){this.errors=y.errors,this.importLexerState(y.lexerState),this.RULE_STACK=y.RULE_STACK},m.prototype.ruleInvocationStateUpdate=function(y,_,w){this.RULE_OCCURRENCE_STACK.push(w),this.RULE_STACK.push(y),this.cstInvocationStateUpdate(_,y)},m.prototype.isBackTracking=function(){return!t.isEmpty(this.isBackTrackingStack)},m.prototype.getCurrRuleFullName=function(){var y=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull.get(y)},m.prototype.shortRuleNameToFullName=function(y){return this.shortRuleNameToFull.get(y)},m.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),o.EOF)},m.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},m}();return h_.RecognizerEngine=p,h_}var f_={},VR;function Wj(){if(VR)return f_;VR=1,Object.defineProperty(f_,"__esModule",{value:!0});var t=hl,e=ze,i=$v,n=fl(),r=function(){function a(){}return a.prototype.initErrorHandler=function(s){this._errors=[],this.errorMessageProvider=e.defaults(s.errorMessageProvider,n.DEFAULT_PARSER_CONFIG.errorMessageProvider)},a.prototype.SAVE_ERROR=function(s){if(t.isRecognitionException(s))return s.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:e.cloneArr(this.RULE_OCCURRENCE_STACK)},this._errors.push(s),s;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(a.prototype,"errors",{get:function(){return e.cloneArr(this._errors)},set:function(s){this._errors=s},enumerable:!0,configurable:!0}),a.prototype.raiseEarlyExitException=function(s,o,c){for(var d=this.getCurrRuleFullName(),p=this.getGAstProductions().get(d),m=i.getLookaheadPathsForOptionalProd(s,p,o,this.maxLookahead),y=m[0],_=[],w=1;w<this.maxLookahead;w++)_.push(this.LA(w));var C=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:y,actual:_,previous:this.LA(0),customUserDescription:c,ruleName:d});throw this.SAVE_ERROR(new t.EarlyExitException(C,this.LA(1),this.LA(0)))},a.prototype.raiseNoAltException=function(s,o){for(var c=this.getCurrRuleFullName(),d=this.getGAstProductions().get(c),p=i.getLookaheadPathsForOr(s,d,this.maxLookahead),m=[],y=1;y<=this.maxLookahead;y++)m.push(this.LA(y));var _=this.LA(0),w=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:p,actual:m,previous:_,customUserDescription:o,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new t.NoViableAltException(w,this.LA(1),_))},a}();return f_.ErrorHandler=r,f_}var PS={};Object.defineProperty(PS,"__esModule",{value:!0});var YR=Cs,qR=ze,jj=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(e,i){var n=this.gastProductionsCache.get(e);if(qR.isUndefined(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return YR.nextPossibleTokensAfter([n],i,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(e){var i=qR.first(e.ruleStack),n=this.getGAstProductions(),r=n.get(i),a=new YR.NextAfterTokenWalker(r,e).startWalking();return a},t}();PS.ContentAssist=jj;var WR;function fl(){return WR||(WR=1,function(t){var e=Ci&&Ci.__extends||function(){var P=function(R,I){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,$){F.__proto__=$}||function(F,$){for(var L in $)$.hasOwnProperty(L)&&(F[L]=$[L])},P(R,I)};return function(R,I){P(R,I);function F(){this.constructor=R}R.prototype=I===null?Object.create(I):(F.prototype=I.prototype,new F)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=Ts,n=ze,r=Gm,a=ro(),s=MS,o=uc,c=Lw(),d=QG(),p=lU(),m=$j(),y=Hj(),_=Vj(),w=Yj(),C=qj(),k=Wj(),S=PS;t.END_OF_FILE=a.createTokenInstance(a.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(t.END_OF_FILE),t.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:c.defaultParserErrorProvider,serializedGrammar:null,nodeLocationTracking:"none"}),t.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),function(P){P[P.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",P[P.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",P[P.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",P[P.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",P[P.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",P[P.LEFT_RECURSION=5]="LEFT_RECURSION",P[P.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",P[P.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",P[P.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",P[P.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",P[P.INVALID_NESTED_RULE_NAME=10]="INVALID_NESTED_RULE_NAME",P[P.DUPLICATE_NESTED_NAME=11]="DUPLICATE_NESTED_NAME",P[P.NO_NON_EMPTY_LOOKAHEAD=12]="NO_NON_EMPTY_LOOKAHEAD",P[P.AMBIGUOUS_PREFIX_ALTS=13]="AMBIGUOUS_PREFIX_ALTS",P[P.TOO_MANY_ALTS=14]="TOO_MANY_ALTS"}(t.ParserDefinitionErrorType||(t.ParserDefinitionErrorType={}));function x(P){return P===void 0&&(P=void 0),function(){return P}}t.EMPTY_ALT=x;var O=function(){function P(R,I){I===void 0&&(I=t.DEFAULT_PARSER_CONFIG),this.ignoredIssues=t.DEFAULT_PARSER_CONFIG.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1;var F=this;F.initErrorHandler(I),F.initLexerAdapter(),F.initLooksAhead(I),F.initRecognizerEngine(R,I),F.initRecoverable(I),F.initTreeBuilder(I),F.initContentAssist(),this.ignoredIssues=n.has(I,"ignoredIssues")?I.ignoredIssues:t.DEFAULT_PARSER_CONFIG.ignoredIssues,n.toFastProperties(this)}return P.performSelfAnalysis=function(R){R.performSelfAnalysis()},P.prototype.performSelfAnalysis=function(){var R=this,I;this.selfAnalysisDone=!0;var F=i.classNameFromInstance(this),$=this.gastProductionsCache;if(this.serializedGrammar){var L=s.deserializeGrammar(this.serializedGrammar,this.tokensMap);n.forEach(L,function(ce){R.gastProductionsCache.put(ce.name,ce)})}var W=d.resolveGrammar({rules:$.values()});if(this.definitionErrors.push.apply(this.definitionErrors,W),n.isEmpty(W)){var j=d.validateGrammar({rules:$.values(),maxLookahead:this.maxLookahead,tokenTypes:n.values(this.tokensMap),ignoredIssues:this.ignoredIssues,errMsgProvider:c.defaultGrammarValidatorErrorProvider,grammarName:F});this.definitionErrors.push.apply(this.definitionErrors,j)}if(n.isEmpty(this.definitionErrors)){var z=r.computeAllProdsFollows($.values());this.resyncFollows=z}var re=o.analyzeCst($.values(),this.fullRuleNameToShort);if(this.allRuleNames=re.allRuleNames,!P.DEFER_DEFINITION_ERRORS_HANDLING&&!n.isEmpty(this.definitionErrors))throw I=n.map(this.definitionErrors,function(ce){return ce.message}),new Error(`Parser Definition Errors detected:
 `+I.join(`
-------------------------------
`))},P.DEFER_DEFINITION_ERRORS_HANDLING=!1,P}();t.Parser=O,n.applyMixins(O,[p.Recoverable,m.LooksAhead,y.TreeBuilder,_.LexerAdapter,C.RecognizerEngine,w.RecognizerApi,k.ErrorHandler,S.ContentAssist]);var D=function(P){e(R,P);function R(I,F){F===void 0&&(F=t.DEFAULT_PARSER_CONFIG);var $=this,L=n.cloneObj(F);return L.outputCst=!0,$=P.call(this,I,L)||this,$}return R}(O);t.CstParser=D;var B=function(P){e(R,P);function R(I,F){F===void 0&&(F=t.DEFAULT_PARSER_CONFIG);var $=this,L=n.cloneObj(F);return L.outputCst=!1,$=P.call(this,I,L)||this,$}return R}(O);t.EmbeddedActionsParser=B}(MT)),MT}var OS={};Object.defineProperty(OS,"__esModule",{value:!0});var jR=Hv;function zj(t,e){var i=e===void 0?{}:e,n=i.resourceBase,r=n===void 0?"https://unpkg.com/chevrotain@"+jR.VERSION+"/diagrams/":n,a=i.css,s=a===void 0?"https://unpkg.com/chevrotain@"+jR.VERSION+"/diagrams/diagrams.css":a,o=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,c=`
<link rel='stylesheet' href='`+s+`'>
`,d=`
<script src='`+r+`vendor/railroad-diagrams.js'><\/script>
<script src='`+r+`src/diagrams_builder.js'><\/script>
<script src='`+r+`src/diagrams_behavior.js'><\/script>
<script src='`+r+`src/main.js'><\/script>
`,p=`
<div id="diagrams" align="center"></div>    
`,m=`
<script>
    window.serializedGrammar = `+JSON.stringify(t,null,"  ")+`;
<\/script>
`,y=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return o+c+d+p+m+y}OS.createSyntaxDiagramsCode=zj;var Fy={},pl={};Object.defineProperty(pl,"__esModule",{value:!0});var NS=ze,cU=ro(),Rc=ji,sr=`
`;function Xj(t){return`
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['chevrotain'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like environments that support module.exports,
        // like Node.
        module.exports = factory(require('chevrotain'));
    } else {
        // Browser globals (root is window)
        root.returnExports = factory(root.b);
    }
}(typeof self !== 'undefined' ? self : this, function (chevrotain) {

`+GS(t)+`
    
return {
    `+t.name+": "+t.name+` 
}
}));
`}pl.genUmdModule=Xj;function Kj(t){return`    
`+GS(t)+`
return new `+t.name+`(tokenVocabulary, config)    
`}pl.genWrapperFunction=Kj;function GS(t){var e=`
function `+t.name+`(tokenVocabulary, config) {
    // invoke super constructor
    // No support for embedded actions currently, so we can 'hardcode'
    // The use of CstParser.
    chevrotain.CstParser.call(this, tokenVocabulary, config)

    const $ = this

    `+uU(t.rules)+`

    // very important to call this after all the rules have been defined.
    // otherwise the parser may not work correctly as it will lack information
    // derived during the self analysis phase.
    this.performSelfAnalysis(this)
}

// inheritance as implemented in javascript in the previous decade... :(
`+t.name+`.prototype = Object.create(chevrotain.CstParser.prototype)
`+t.name+".prototype.constructor = "+t.name+`    
    `;return e}pl.genClass=GS;function uU(t){var e=NS.map(t,function(i){return dU(i,1)});return e.join(`
`)}pl.genAllRules=uU;function dU(t,e){var i=ia(e,'$.RULE("'+t.name+'", function() {')+sr;return i+=Bw(t.definition,e+1),i+=ia(e+1,"})")+sr,i}pl.genRule=dU;function hU(t,e){var i=cU.tokenName(t.terminalType);return ia(e,"$.CONSUME"+t.idx+"(this.tokensMap."+i+")"+sr)}pl.genTerminal=hU;function fU(t,e){return ia(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+sr)}pl.genNonTerminal=fU;function pU(t,e){var i=ia(e,"$.OR"+t.idx+"([")+sr,n=NS.map(t.definition,function(r){return mU(r,e+1)});return i+=n.join(","+sr),i+=sr+ia(e,"])"+sr),i}pl.genAlternation=pU;function mU(t,e){var i=ia(e,"{")+sr;return t.name&&(i+=ia(e+1,'NAME: "'+t.name+'",')+sr),i+=ia(e+1,"ALT: function() {")+sr,i+=Bw(t.definition,e+1),i+=ia(e+1,"}")+sr,i+=ia(e,"}"),i}pl.genSingleAlt=mU;function Zj(t,e){if(t instanceof Rc.NonTerminal)return fU(t,e);if(t instanceof Rc.Option)return Hy("OPTION",t,e);if(t instanceof Rc.RepetitionMandatory)return Hy("AT_LEAST_ONE",t,e);if(t instanceof Rc.RepetitionMandatoryWithSeparator)return Hy("AT_LEAST_ONE_SEP",t,e);if(t instanceof Rc.RepetitionWithSeparator)return Hy("MANY_SEP",t,e);if(t instanceof Rc.Repetition)return Hy("MANY",t,e);if(t instanceof Rc.Alternation)return pU(t,e);if(t instanceof Rc.Terminal)return hU(t,e);if(t instanceof Rc.Flat)return Bw(t.definition,e);throw Error("non exhaustive match")}function Hy(t,e,i){var n=ia(i,"$."+(t+e.idx)+"(");return e.name||e.separator?(n+="{"+sr,e.name&&(n+=ia(i+1,'NAME: "'+e.name+'"')+","+sr),e.separator&&(n+=ia(i+1,"SEP: this.tokensMap."+cU.tokenName(e.separator))+","+sr),n+="DEF: "+zR(e.definition,i+2)+sr,n+=ia(i,"}")+sr):n+=zR(e.definition,i+1),n+=ia(i,")")+sr,n}function zR(t,e){var i="function() {"+sr;return i+=Bw(t,e),i+=ia(e,"}")+sr,i}function Bw(t,e){var i="";return NS.forEach(t,function(n){i+=Zj(n,e+1)}),i}function ia(t,e){var i=Array(t*4+1).join(" ");return i+e}var XR;function Qj(){if(XR)return Fy;XR=1,Object.defineProperty(Fy,"__esModule",{value:!0});var t=pl;function e(n){var r=t.genWrapperFunction({name:n.name,rules:n.rules}),a=new Function("tokenVocabulary","config","chevrotain",r);return function(s){return a(n.tokenVocabulary,s,yU())}}Fy.generateParserFactory=e;function i(n){return t.genUmdModule({name:n.name,rules:n.rules})}return Fy.generateParserModule=i,Fy}var Jj=e0.exports,KR;function yU(){if(KR)return e0.exports;KR=1,Object.defineProperty(Jj,"__esModule",{value:!0});var t=fl(),e=RS(),i=ro(),n=hl,r=Hv,a=Lw(),s=OS,o=$d,c=ji,d=QG(),p=Qj(),m=Pw,y={};return y.VERSION=r.VERSION,y.Parser=t.Parser,y.CstParser=t.CstParser,y.EmbeddedActionsParser=t.EmbeddedActionsParser,y.ParserDefinitionErrorType=t.ParserDefinitionErrorType,y.Lexer=e.Lexer,y.LexerDefinitionErrorType=e.LexerDefinitionErrorType,y.EOF=i.EOF,y.tokenName=i.tokenName,y.tokenLabel=i.tokenLabel,y.tokenMatcher=i.tokenMatcher,y.createToken=i.createToken,y.createTokenInstance=i.createTokenInstance,y.EMPTY_ALT=t.EMPTY_ALT,y.defaultParserErrorProvider=a.defaultParserErrorProvider,y.isRecognitionException=n.isRecognitionException,y.EarlyExitException=n.EarlyExitException,y.MismatchedTokenException=n.MismatchedTokenException,y.NotAllInputParsedException=n.NotAllInputParsedException,y.NoViableAltException=n.NoViableAltException,y.defaultLexerErrorProvider=m.defaultLexerErrorProvider,y.Flat=c.Flat,y.Repetition=c.Repetition,y.RepetitionWithSeparator=c.RepetitionWithSeparator,y.RepetitionMandatory=c.RepetitionMandatory,y.RepetitionMandatoryWithSeparator=c.RepetitionMandatoryWithSeparator,y.Option=c.Option,y.Alternation=c.Alternation,y.NonTerminal=c.NonTerminal,y.Terminal=c.Terminal,y.Rule=c.Rule,y.GAstVisitor=o.GAstVisitor,y.serializeGrammar=c.serializeGrammar,y.serializeProduction=c.serializeProduction,y.resolveGrammar=d.resolveGrammar,y.defaultGrammarResolverErrorProvider=a.defaultGrammarResolverErrorProvider,y.validateGrammar=d.validateGrammar,y.defaultGrammarValidatorErrorProvider=a.defaultGrammarValidatorErrorProvider,y.assignOccurrenceIndices=d.assignOccurrenceIndices,y.clearCache=function(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)},y.createSyntaxDiagramsCode=s.createSyntaxDiagramsCode,y.generateParserFactory=p.generateParserFactory,y.generateParserModule=p.generateParserModule,e0.exports=y,e0.exports}var Wi=yU();const $w=t=>Wi.createToken({name:t,pattern:Wi.Lexer.NA,longer_alt:Um}),Yl={},Lt=(t,e,i,n={})=>{const r=[t];n.extraCategories&&r.push(...n.extraCategories);const a=Wi.createToken({name:e,pattern:i,categories:r,longer_alt:Um}),s=Array.isArray(t)?t[0].name:t.name;Yl[s]===void 0&&(Yl[s]=[]),Yl[s].push(a);const o=i.toString().match(/^\/([a-zA-Z0-9]*)\/[a-zA-Z]*$/ui);return o&&o[1]&&(a.$autocomplete=o[1]),Object.assign(a,n),a},e7=Wi.createToken({name:"HSpace",pattern:/[ \t]+/,group:Wi.Lexer.SKIPPED}),t7=Wi.createToken({name:"EOL",line_breaks:!0,pattern:/[ \t\r]*\n\s*/,label:"End of line"}),i7=Wi.createToken({name:"StringLiteral",pattern:/".*"/}),n7=Wi.createToken({name:"StringLiteralSingleQuote",pattern:/'.*'/}),r7=Wi.createToken({name:"Comment",pattern:/(#|\/\/)[^\n]*/}),gU=Wi.createToken({name:"NumberLiteral",pattern:/-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?/}),a7=Wi.createToken({name:"BlackHoleStr",pattern:/[Bb][Hh][12]/}),Um=Wi.createToken({name:"Identifier",pattern:/[a-zA-Z_][a-zA-Z_0-9]*/}),Pf=Wi.createToken({name:"ComparisonOperator",pattern:Wi.Lexer.NA}),tn=$w("AutomatorCurrency"),Fw=$w("PrestigeEvent"),ru=$w("StudyPath"),Vv=$w("TimeUnit");Lt(Pf,"OpGTE",/>=/,{$autocomplete:">=",$compare:(t,e)=>Decimal.gte(t,e)});Lt(Pf,"OpLTE",/<=/,{$autocomplete:"<=",$compare:(t,e)=>Decimal.lte(t,e)});Lt(Pf,"OpGT",/>/,{$autocomplete:">",$compare:(t,e)=>Decimal.gt(t,e)});Lt(Pf,"OpLT",/</,{$autocomplete:"<",$compare:(t,e)=>Decimal.lt(t,e)});const s7=Lt(Pf,"OpEQ",/==/,{$compare:(t,e)=>Decimal.eq(t,e)}),vU=Wi.createToken({name:"EqualSign",pattern:/=/,categories:Pf,label:"=",longer_alt:s7});vU.$compare=(t,e)=>Decimal.eq(t,e);Lt(tn,"EP",/ep/i,{$getter:()=>Currency.eternityPoints.value});Lt(tn,"IP",/ip/i,{$getter:()=>Currency.infinityPoints.value});Lt(tn,"AM",/am/i,{$getter:()=>Currency.antimatter.value});Lt(tn,"DT",/dt/i,{$getter:()=>Currency.dilatedTime.value});Lt(tn,"TP",/tp/i,{$getter:()=>Currency.tachyonParticles.value});Lt(tn,"RG",/rg/i,{$getter:()=>new Decimal(Replicanti.galaxies.total)});Lt(tn,"RM",/rm/i,{$getter:()=>Currency.realityMachines.value});Lt(tn,"infinities",/infinities/i,{$getter:()=>Currency.infinities.value});Lt(tn,"bankedInfinities",/banked[ \t]+infinities/i,{$autocomplete:"banked infinities",$getter:()=>Currency.infinitiesBanked.value});Lt(tn,"eternities",/eternities/i,{$getter:()=>Currency.eternities.value});Lt(tn,"realities",/realities/i,{$getter:()=>Currency.realities.value});Lt(tn,"PendingIP",/pending[ \t]+ip/i,{$autocomplete:"pending IP",$getter:()=>Player.canCrunch?gainedInfinityPoints():DC.D0});Lt(tn,"PendingEP",/pending[ \t]+ep/i,{$autocomplete:"pending EP",$getter:()=>Player.canEternity?gainedEternityPoints():DC.D0});Lt(tn,"PendingTP",/pending[ \t]+tp/i,{$autocomplete:"pending TP",$getter:()=>player.dilation.active?getTachyonGain():DC.D0});Lt(tn,"PendingRM",/pending[ \t]+rm/i,{$autocomplete:"pending RM",$getter:()=>isRealityAvailable()?MachineHandler.gainedRealityMachines:DC.D0});Lt(tn,"PendingGlyphLevel",/pending[ \t]+glyph[ \t]+level/i,{$autocomplete:"pending Glyph level",$getter:()=>new Decimal(isRealityAvailable()?gainedGlyphLevel().actualLevel:0)});Lt(tn,"Rep",/rep(licanti)?/i,{$autocomplete:"rep",$getter:()=>Replicanti.amount});Lt(tn,"TT",/(tt|time theorems?)/i,{$autocomplete:"TT",$getter:()=>Currency.timeTheorems.value});Lt(tn,"TotalTT",/total[ \t]+tt/i,{$autocomplete:"total TT",$getter:()=>player.timestudy.theorem.plus(TimeTheorems.calculateTimeStudiesCost())});Lt(tn,"SpentTT",/spent[ \t]+tt/i,{$autocomplete:"spent TT",$getter:()=>new Decimal(GameCache.currentStudyTree.value.spentTheorems[0])});Lt(tn,"TotalCompletions",/total[ \t]+completions/i,{$autocomplete:"total completions",$getter:()=>EternityChallenges.completions});Lt(tn,"PendingCompletions",/pending[ \t]+completions/i,{$autocomplete:"pending completions",$getter:()=>EternityChallenge.isRunning?EternityChallenge.current.gainedCompletionStatus.totalCompletions:Decimal.NUMBER_MAX_VALUE});Lt(tn,"FilterScore",/filter[ \t]+score/i,{$autocomplete:"filter score",$getter:()=>{if(!EffarigUnlock.glyphFilter.isUnlocked)return-Number.MAX_VALUE;const t=GlyphSelection.glyphList(GlyphSelection.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1}),e=AutoGlyphProcessor.pick(t);return AutoGlyphProcessor.filterValue(e)},$unlocked:()=>EffarigUnlock.glyphFilter.isUnlocked});Lt(tn,"ST",/space[ \t]+theorems/i,{$autocomplete:"space theorems",$getter:()=>V.availableST,$unlocked:()=>V.spaceTheorems>0});Lt(tn,"TotalST",/total[ \t]+space[ \t]+theorems/i,{$autocomplete:"total space theorems",$getter:()=>V.spaceTheorems,$unlocked:()=>V.spaceTheorems>0});for(let t=1;t<=12;++t){const e=t;Lt(tn,`EC${t}`,new RegExp(`ec${t} completions`,"i"),{$autocomplete:`ec${t} completions`,$getter:()=>EternityChallenge(e).completions})}Lt(Fw,"Infinity",/infinity/i,{extraCategories:[ru],$autobuyer:()=>Autobuyer.bigCrunch,$autobuyerDurationMode:AUTO_CRUNCH_MODE.TIME,$autobuyerXHighestMode:AUTO_CRUNCH_MODE.X_HIGHEST,$autobuyerCurrencyMode:AUTO_CRUNCH_MODE.AMOUNT,$prestigeAvailable:()=>Player.canCrunch,$prestige:()=>bigCrunchResetRequest(!0),$prestigeLevel:1,$prestigeCurrency:"IP",$studyPath:TIME_STUDY_PATH.INFINITY_DIM});Lt(Fw,"Eternity",/eternity/i,{$autobuyer:()=>Autobuyer.eternity,$autobuyerDurationMode:AUTO_ETERNITY_MODE.TIME,$autobuyerXHighestMode:AUTO_ETERNITY_MODE.X_HIGHEST,$autobuyerCurrencyMode:AUTO_ETERNITY_MODE.AMOUNT,$prestigeAvailable:()=>Player.canEternity,$prestigeLevel:2,$prestigeCurrency:"EP",$prestige:()=>eternity(!1,!0),$respec:()=>{player.respec=!0}});Lt(Fw,"Reality",/reality/i,{$autobuyer:()=>Autobuyer.reality,$autobuyerCurrencyMode:AUTO_REALITY_MODE.RM,$prestigeAvailable:()=>isRealityAvailable(),$prestigeLevel:3,$prestigeCurrency:"RM",$prestige:()=>autoReality(),$respec:()=>{player.reality.respec=!0}});Lt(ru,"Idle",/idle/i,{$studyPath:TIME_STUDY_PATH.IDLE});Lt(ru,"Passive",/passive/i,{$studyPath:TIME_STUDY_PATH.PASSIVE});Lt(ru,"Active",/active/i,{$studyPath:TIME_STUDY_PATH.ACTIVE});Lt(ru,"Antimatter",/antimatter/i,{$studyPath:TIME_STUDY_PATH.ANTIMATTER_DIM});Lt(ru,"Time",/time/i,{$studyPath:TIME_STUDY_PATH.TIME_DIM});Lt(ru,"Light",/light/i,{$studyPath:TIME_STUDY_PATH.LIGHT});Lt(ru,"Dark",/dark/i,{$studyPath:TIME_STUDY_PATH.DARK});Lt(Vv,"Milliseconds",/ms/i,{$autocomplete:"ms",$scale:1});Lt(Vv,"Seconds",/s(ec(onds?)?)?/i,{$autocomplete:"sec",$scale:1e3});Lt(Vv,"Minutes",/m(in(utes?)?)?/i,{$autocomplete:"min",$scale:60*1e3});Lt(Vv,"Hours",/h(ours?)?/i,{$autocomplete:"hours",$scale:3600*1e3});const bU=Wi.createToken({name:"Keyword",pattern:Wi.Lexer.NA,longer_alt:Um}),_U=[],zi=(t,e,i={})=>{const n=[bU];i.extraCategories&&n.push(...i.extraCategories);const r=Wi.createToken({name:t,pattern:e,categories:n,longer_alt:Um});return r.$autocomplete=t.toLocaleLowerCase(),_U.push(r),Object.assign(r,i),r};zi("Auto",/auto/i);zi("Buy",/buy/i);zi("Blob",/blob\s\s/i,{$unlocked:()=>!1});zi("If",/if/i);zi("Load",/load/i);zi("Notify",/notify/i);zi("Nowait",/nowait/i);zi("Off",/off/i);zi("On",/on/i);zi("Pause",/pause/i);zi("Name",/name([ \t]+(\/(?!\/)|[^\n#/])*)?/i);zi("Id",/id\b([ \t]+\d)?/i);zi("Purchase",/purchase/i);zi("Respec",/respec/i);zi("Restart",/restart/i);zi("Start",/start/i);zi("Stop",/stop/i);zi("Studies",/studies/i);zi("Unlock",/unlock/i);zi("Until",/until/i);zi("Use",/use/i);zi("Wait",/wait/i);zi("While",/while/i);zi("BlackHole",/black[ \t]+hole/i,{$autocomplete:"black hole",$unlocked:()=>BlackHole(1).isUnlocked});zi("StoreGameTime",/stored?[ \t]+game[ \t]+time/i,{$autocomplete:"store game time",$unlocked:()=>Enslaved.isUnlocked});zi("Dilation",/dilation/i);zi("EC",/ec/i);zi("XHighest",/x[ \t]+highest/i,{$autocomplete:"x highest"});const o7=Wi.createToken({name:"ECLiteral",pattern:/ec[1-9][0-9]*/i,longer_alt:Um}),wU=Wi.createToken({name:"LCurly",pattern:/[ \t]*{/}),EU=Wi.createToken({name:"RCurly",pattern:/[ \t]*}/}),TU=Wi.createToken({name:"Comma",pattern:/,/}),l7=Wi.createToken({name:"Pipe",pattern:/\|/,label:"|"}),c7=Wi.createToken({name:"Dash",pattern:/-/,label:"-"}),u7=Wi.createToken({name:"Exclamation",pattern:/!/,label:"!"}),US=[e7,i7,n7,r7,t7,Pf,...Yl.ComparisonOperator,wU,EU,TU,vU,l7,c7,u7,a7,gU,tn,...Yl.AutomatorCurrency,o7,bU,..._U,Fw,...Yl.PrestigeEvent,ru,...Yl.StudyPath,Vv,...Yl.TimeUnit,Um];wU.LABEL="'{'";EU.LABEL="'}'";gU.LABEL="Number";TU.LABEL="❟";const Hw=new Wi.Lexer(US,{positionTracking:"full",ensureOptimizations:!0}),CU=[];for(const t of Hw.lexerDefinition)CU[t.tokenTypeIdx]=t;const Ue=US.mapToObject(t=>t.name,t=>t),d7=Yl.AutomatorCurrency.map(t=>t.$autocomplete.toUpperCase()),Nu=function(t){try{if(d7.includes(t.toUpperCase()))return t.toUpperCase()}catch{return t}for(const e of Yl.AutomatorCurrency)if(t.match(e.PATTERN)&&t.match(e.PATTERN)[0].length===t.length)return e.$autocomplete.toUpperCase();return t},h7=["Identifier","LCurly","RCurly"],kU=Hw.lexerDefinition.filter(t=>!h7.includes(t.name)).map(t=>t.PATTERN.source).flatMap(t=>t.includes("(")||t.includes(")")?t:t.split("[ \\t]+")),f7=/name[ \t]+(.+$)/ui,p7=/id[ \t]+(\d)/ui;function LS(t){if(!AutomatorBackend.isOn)return;const e=AutomatorBackend.stack.top.commandState;e&&e.prestigeLevel!==void 0&&(e.prestigeLevel=Math.max(e.prestigeLevel,t))}EventHub.logic.on(GAME_EVENT.BIG_CRUNCH_AFTER,()=>LS(Ue.Infinity.$prestigeLevel));EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_AFTER,()=>LS(Ue.Eternity.$prestigeLevel));EventHub.logic.on(GAME_EVENT.REALITY_RESET_AFTER,()=>LS(Ue.Reality.$prestigeLevel));function ZR(t,e,i,n){return{run:()=>{const r=n?"UNTIL":"WHILE";return t()?(AutomatorBackend.push(e),AutomatorData.logCommandEvent(`Checked ${Ph(i)} (${!n}),
        moving to line ${AutomatorBackend.translateLineNumber(i.LCurly[0].startLine+1)-1}
        (start of ${r} loop)`,i.startLine),AUTOMATOR_COMMAND_STATUS.SAME_INSTRUCTION):(AutomatorData.logCommandEvent(`Checked ${Ph(i)} (${n}),
          exiting loop at line ${AutomatorBackend.translateLineNumber(i.RCurly[0].startLine+1)-1}
          (end of ${r} loop)`,i.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION)},blockCommands:e}}function Ph(t){const e=t.comparison[0].children,i=e.compareValue.map(r=>{if(r.children.AutomatorCurrency)return()=>r.children.AutomatorCurrency[0].image;const a=r.children.$value;return typeof a=="string"?()=>a:()=>format(a,2,2)}),n=e.ComparisonOperator[0].image;return`${i[0]()} ${n} ${i[1]()}`}function QR(t){let e,i;switch(t){case"INFINITY":return`${format(player.records.recentInfinities[0][1],2)} IP`;case"ETERNITY":return e=AutomatorData.lastECCompletionCount,i=`${format(player.records.recentEternities[0][1],2)} EP`,e===0?`${i}`:`${i}, ${e} completions`;case"REALITY":return`${format(player.records.recentRealities[0][1],2)} RM`;default:throw Error(`Unrecognized prestige ${t} in Automator event log`)}}const Vw=[{id:"auto",rule:t=>()=>{t.CONSUME(Ue.Auto),t.CONSUME(Ue.PrestigeEvent),t.OR([{ALT:()=>t.CONSUME(Ue.On)},{ALT:()=>t.CONSUME(Ue.Off)},{ALT:()=>t.OR1([{ALT:()=>t.SUBRULE(t.duration)},{ALT:()=>t.SUBRULE(t.xHighest)},{ALT:()=>t.SUBRULE(t.currencyAmount)}])}])},validate:(t,e)=>{if(t.startLine=t.Auto[0].startLine,t.PrestigeEvent&&t.currencyAmount){const n=t.PrestigeEvent[0].tokenType.$prestigeCurrency,r=t.currencyAmount[0].children.AutomatorCurrency[0].tokenType.name;if(n!==r)return e.addError(t.currencyAmount,`AutomatorCurrency doesn't match prestige (${n} vs ${r})`,`Use ${n} for the specified prestige resource`),!1}if(!t.PrestigeEvent)return!0;const i=t.duration||t.xHighest;if(t.PrestigeEvent[0].tokenType===Ue.Infinity){if(!Autobuyer.bigCrunch.isUnlocked)return e.addError(t.PrestigeEvent,"Infinity autobuyer is not unlocked","Complete the Big Crunch Autobuyer challenge to use this command"),!1;if(i&&!EternityMilestone.bigCrunchModes.isReached)return e.addError((t.duration||t.xHighest)[0],"Advanced Infinity autobuyer settings are not unlocked",`Reach ${quantifyInt("Eternity",EternityMilestone.bigCrunchModes.config.eternities)}
            to use this command`),!1}if(t.PrestigeEvent[0].tokenType===Ue.Eternity){if(!EternityMilestone.autobuyerEternity.isReached)return e.addError(t.PrestigeEvent,"Eternity autobuyer is not unlocked",`Reach ${quantifyInt("Eternity",EternityMilestone.autobuyerEternity.config.eternities)}
            to use this command`),!1;if(i&&!RealityUpgrade(13).isBought)return e.addError((t.duration||t.xHighest)[0],"Advanced Eternity autobuyer settings are not unlocked","Purchase the Reality Upgrade which unlocks advanced Eternity autobuyer settings"),!1}if(t.PrestigeEvent[0].tokenType===Ue.Reality){if(!RealityUpgrade(25).isBought)return e.addError(t.PrestigeEvent,"Reality autobuyer is not unlocked","Purchase the Reality Upgrade which unlocks the Reality autobuyer"),!1;if(i)return e.addError((t.duration||t.xHighest)[0],"Auto Reality cannot be set to a duration or x highest","Use RM for Auto Reality"),!1}return!0},compile:t=>{const e=t.PrestigeEvent[0].tokenType===Ue.Reality,i=!!(t.On||t.duration||t.xHighest||t.currencyAmount),n=t.duration?t.duration[0].children.$value:void 0,r=t.xHighest?t.xHighest[0].children.$value:void 0,a=t.currencyAmount?t.currencyAmount[0].children.$value:void 0,s=t.PrestigeEvent[0].tokenType.$autobuyerDurationMode,o=t.PrestigeEvent[0].tokenType.$autobuyerXHighestMode,c=t.PrestigeEvent[0].tokenType.$autobuyerCurrencyMode,d=t.PrestigeEvent[0].tokenType.$autobuyer();return()=>{d.isActive=i;let p="";n!==void 0?(d.mode=s,d.time=n/1e3,p=`${d.time>1e3?formatInt(d.time):quantify("second",d.time)}`):r!==void 0?(d.mode=o,d.xHighest=new Decimal(r),p=`${format(r,2,2)} times highest`):a!==void 0&&(d.mode=c,e?(d.rm=new Decimal(a),p=`${format(d.rm,2)} RM`):(d.amount=new Decimal(a),p=`${a} ${t.PrestigeEvent[0].image==="infinity"?"IP":"EP"}`));const m=d.isActive&&p!==""?`(Setting: ${p})`:"";return AutomatorData.logCommandEvent(`Automatic ${t.PrestigeEvent[0].image}
          turned ${d.isActive?"ON":"OFF"} ${m}`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}},blockify:t=>{const e=t.duration?`${t.duration[0].children.NumberLiteral[0].image} ${t.duration[0].children.TimeUnit[0].image}`:void 0,i=t.xHighest?t.xHighest[0].children.$value:void 0,n=t.currencyAmount?`${t.currencyAmount[0].children.NumberLiteral[0].image} ${t.currencyAmount[0].children.AutomatorCurrency[0].image.toUpperCase()}`:void 0,r=!!t.On;let a="";return e?a=e:i?a=`${i} x highest`:n?a=`${n}`:a=r?"ON":"OFF",{singleSelectionInput:t.PrestigeEvent[0].tokenType.name.toUpperCase(),singleTextInput:a,...automatorBlocksMap.AUTO}}},{id:"blackHole",rule:t=>()=>{t.CONSUME(Ue.BlackHole),t.OR([{ALT:()=>t.CONSUME(Ue.On)},{ALT:()=>t.CONSUME(Ue.Off)}])},validate:t=>(t.startLine=t.BlackHole[0].startLine,!0),compile:t=>{const e=!!t.On;return()=>{e===BlackHoles.arePaused&&BlackHoles.togglePause();let i;return BlackHole(1).isUnlocked?i=`Black Holes toggled ${t.On?"ON":"OFF"}`:Enslaved.isRunning||Pelle.isDisabled("blackhole")?i="Black Hole command ignored because BH is disabled in your current Reality":i="Black Hole command ignored because BH is not unlocked",AutomatorData.logCommandEvent(i,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}},blockify:t=>({singleSelectionInput:t.On?"ON":"OFF",...automatorBlocksMap["BLACK HOLE"]})},{id:"blob",rule:t=>()=>{t.CONSUME(Ue.Blob)},validate:t=>(t.startLine=t.Blob[0].startLine,!0),compile:()=>()=>AUTOMATOR_COMMAND_STATUS.SKIP_INSTRUCTION,blockify:()=>({...automatorBlocksMap.BLOB})},{id:"comment",rule:t=>()=>{t.CONSUME(Ue.Comment)},validate:t=>(t.startLine=t.Comment[0].startLine,!0),compile:()=>()=>AUTOMATOR_COMMAND_STATUS.SKIP_INSTRUCTION,blockify:t=>({...automatorBlocksMap.COMMENT,singleTextInput:t.Comment[0].image.replace(/(#|\/\/)\s?/u,"")})},{id:"ifBlock",rule:t=>()=>{t.CONSUME(Ue.If),t.SUBRULE(t.comparison),t.CONSUME(Ue.LCurly),t.CONSUME(Ue.EOL),t.SUBRULE(t.block),t.CONSUME(Ue.RCurly)},validate:(t,e)=>(t.startLine=t.If[0].startLine,e.checkBlock(t,t.If)),compile:(t,e)=>{const i=e.visit(t.comparison),n=e.visit(t.block);return{run:r=>r.commandState!==null?AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION:(r.commandState={advanceOnPop:!0,ifEndLine:t.RCurly[0].startLine},i()?(AutomatorBackend.push(n),AutomatorData.logCommandEvent(`Checked ${Ph(t)} (true),
            entering IF block`,t.startLine),AUTOMATOR_COMMAND_STATUS.SAME_INSTRUCTION):(AutomatorData.logCommandEvent(`Checked ${Ph(t)} (false),
              skipping to line ${AutomatorBackend.translateLineNumber(t.RCurly[0].startLine+1)}`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION)),blockCommands:n}},blockify:(t,e)=>{const i=[];e.visit(t.block,i);const n=e.visit(t.comparison);return{nest:i,...automatorBlocksMap.IF,...n,genericInput1:Nu(n.genericInput1),genericInput2:Nu(n.genericInput2)}}},{id:"notify",rule:t=>()=>{t.CONSUME(Ue.Notify),t.OR([{ALT:()=>t.CONSUME(Ue.StringLiteral)},{ALT:()=>t.CONSUME(Ue.StringLiteralSingleQuote)}])},validate:t=>(t.startLine=t.Notify[0].startLine,!0),compile:t=>{const e=t.StringLiteral||t.StringLiteralSingleQuote;return()=>(GameUI.notify.automator(`Automator: ${e[0].image}`),AutomatorData.logCommandEvent(`NOTIFY call: ${e[0].image}`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION)},blockify:t=>({...automatorBlocksMap.NOTIFY,singleTextInput:(t.StringLiteral||t.StringLiteralSingleQuote)[0].image})},{id:"pauseTime",rule:t=>()=>{t.CONSUME(Ue.Pause),t.OR([{ALT:()=>t.SUBRULE(t.duration)},{ALT:()=>t.CONSUME(Ue.Identifier)}])},validate:(t,e)=>{t.startLine=t.Pause[0].startLine;let i;if(t.Identifier){if(!e.isValidVarFormat(t.Identifier[0],AUTOMATOR_VAR_TYPES.DURATION))return e.addError(t,`Constant ${t.Identifier[0].image} is not a valid time duration constant`,`Ensure that ${t.Identifier[0].image} is a number of seconds less than
            ${format(Number.MAX_VALUE/1e3)}`),!1;const n=e.lookupVar(t.Identifier[0],AUTOMATOR_VAR_TYPES.DURATION);i=n&&n.value}else i=e.visit(t.duration);return t.$duration=i,t.$duration!==void 0},compile:t=>{const e=t.$duration;return i=>{let n;if(t.duration){const a=t.duration[0].children;n=`${a.NumberLiteral[0].image} ${a.TimeUnit[0].image}`}else n=TimeSpan.fromMilliseconds(e);return i.commandState===null?(i.commandState={timeMs:0},AutomatorData.logCommandEvent(`Pause started (waiting ${n})`,t.startLine)):i.commandState.timeMs+=Math.max(Time.unscaledDeltaTime.totalMilliseconds,AutomatorBackend.currentInterval),i.commandState.timeMs>=e?(AutomatorData.logCommandEvent(`Pause finished (waited ${n})`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:t=>{let e;if(t.duration){const i=t.duration[0].children;e=`${i.NumberLiteral[0].image} ${i.TimeUnit[0].image}`}else e=`${t.Identifier[0].image}`;return{...automatorBlocksMap.PAUSE,singleTextInput:e}}},{id:"prestige",rule:t=>()=>{t.CONSUME(Ue.PrestigeEvent),t.OPTION(()=>t.CONSUME(Ue.Nowait)),t.OPTION1(()=>t.CONSUME(Ue.Respec))},validate:(t,e)=>(t.startLine=t.PrestigeEvent[0].startLine,t.PrestigeEvent&&t.PrestigeEvent[0].tokenType===Ue.Eternity&&!EternityMilestone.autobuyerEternity.isReached?(e.addError(t.PrestigeEvent,"Eternity autobuyer is not unlocked",`Reach ${quantifyInt("Eternity",EternityMilestone.autobuyerEternity.config.eternities)}
          to use this command`),!1):t.PrestigeEvent&&t.PrestigeEvent[0].tokenType===Ue.Reality&&!RealityUpgrade(25).isBought?(e.addError(t.PrestigeEvent,"Reality autobuyer is not unlocked","Purchase the Reality Upgrade which unlocks the Reality autobuyer"),!1):(t.PrestigeEvent&&t.PrestigeEvent[0].tokenType===Ue.Infinity&&t.Respec&&e.addError(t.Respec,"There's no 'respec' for infinity","Remove 'respec' from the command"),!0)),compile:t=>{const e=t.Nowait!==void 0,i=t.Respec!==void 0,n=t.PrestigeEvent[0].tokenType;return()=>{if(!n.$prestigeAvailable())return e?(AutomatorData.logCommandEvent(`${t.PrestigeEvent.image} attempted, but skipped due to NOWAIT`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION;i&&n.$respec(),n.$prestige();const a=t.PrestigeEvent[0].image.toUpperCase();return AutomatorData.logCommandEvent(`${a} triggered (${QR(a)})`,t.startLine),a==="REALITY"&&AutomatorBackend.state.forceRestart?AUTOMATOR_COMMAND_STATUS.RESTART:AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION}},blockify:t=>({...automatorBlocksMap[t.PrestigeEvent[0].tokenType.name.toUpperCase()],nowait:t.Nowait!==void 0,respec:t.Respec!==void 0})},{id:"startDilation",rule:t=>()=>{t.CONSUME(Ue.Start),t.CONSUME(Ue.Dilation)},validate:t=>(t.startLine=t.Start[0].startLine,!0),compile:t=>()=>player.dilation.active?(AutomatorData.logCommandEvent("Start Dilation encountered but ignored due to already being dilated",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):startDilatedEternity(!0)?(AutomatorData.logCommandEvent("Dilation entered",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION,blockify:()=>({singleSelectionInput:"DILATION",...automatorBlocksMap.START})},{id:"startEC",rule:t=>()=>{t.CONSUME(Ue.Start),t.SUBRULE(t.eternityChallenge)},validate:t=>(t.startLine=t.Start[0].startLine,!0),compile:t=>{const e=t.eternityChallenge[0].children.$ecNumber;return()=>{const i=EternityChallenge(e);return i.isRunning?(AutomatorData.logCommandEvent("Start EC encountered but ignored due to already being in the specified EC",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):!EternityChallenge(e).isUnlocked&&!TimeStudy.eternityChallenge(e).purchase(!0)?AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION:i.start(!0)?(AutomatorData.logCommandEvent(`Eternity Challenge ${e} started`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:t=>({singleSelectionInput:"EC",singleTextInput:t.eternityChallenge[0].children.$ecNumber,...automatorBlocksMap.START})},{id:"storeGameTime",rule:t=>()=>{t.CONSUME(Ue.StoreGameTime),t.OR([{ALT:()=>t.CONSUME(Ue.On)},{ALT:()=>t.CONSUME(Ue.Off)},{ALT:()=>t.CONSUME(Ue.Use)}])},validate:(t,e)=>(t.startLine=t.StoreGameTime[0].startLine,Enslaved.isUnlocked?!0:(e.addError(t.StoreGameTime[0],"You do not yet know how to store game time","Unlock the ability to store game time"),!1)),compile:t=>{if(t.Use)return()=>(Enslaved.isUnlocked?(Enslaved.useStoredTime(!1),AutomatorData.logCommandEvent("Stored game time used",t.startLine)):AutomatorData.logCommandEvent("Attempted to use stored game time, but failed (not unlocked yet)",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION);const e=!!t.On;return()=>(e!==player.celestials.enslaved.isStoring&&Enslaved.toggleStoreBlackHole(),AutomatorData.logCommandEvent(`Storing game time toggled ${t.On?"ON":"OFF"}`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION)},blockify:t=>({singleSelectionInput:t.Use?"USE":t.On?"ON":"OFF",...automatorBlocksMap["STORE GAME TIME"]})},{id:"studiesBuy",rule:t=>()=>{t.CONSUME(Ue.Studies),t.OPTION(()=>t.CONSUME(Ue.Nowait)),t.CONSUME(Ue.Purchase),t.OR([{ALT:()=>t.SUBRULE(t.studyList)},{ALT:()=>t.CONSUME1(Ue.Identifier)}])},validate:(t,e)=>{if(t.startLine=t.Studies[0].startLine,t.Identifier){if(!e.isValidVarFormat(t.Identifier[0],AUTOMATOR_VAR_TYPES.STUDIES))return e.addError(t,`Constant ${t.Identifier[0].image} is not a valid Time Study constant`,`Ensure that ${t.Identifier[0].image} is a properly-formatted Time Study string`),!1;const i=e.lookupVar(t.Identifier[0],AUTOMATOR_VAR_TYPES.STUDIES);t.$studies=i.value,t.$studies.image=t.Identifier[0].image}else t.studyList&&(t.$studies=e.visit(t.studyList));return!0},compile:t=>{const e=t.$studies;return t.Nowait===void 0?()=>{let i=0,n=0,r;for(const o of e.normal)TimeStudy(o).isBought?i++:TimeStudy(o).purchase(!0)?n++:r=r??o;if(i+n<e.normal.length)return i+n===0&&AutomatorData.logCommandEvent("Could not purchase any of the specified Time Studies",t.startLine),n>0&&r&&AutomatorData.logCommandEvent(`Purchased ${quantifyInt("Time Study",n)} and stopped at
            Time Study ${r}, waiting to attempt to purchase more Time Studies`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION;const a=e.ec?TimeStudy.eternityChallenge(e.ec).isBought:!1;if(!e.ec||a&&!e.startEC)return AutomatorData.logCommandEvent("Purchased all specified Time Studies",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION;const s=TimeStudy.eternityChallenge(e.ec).purchase(!0);return a||s?(e.startEC?(EternityChallenge(e.ec).start(!0),EternityChallenge(e.ec).isRunning?AutomatorData.logCommandEvent(`Purchased all specified Time Studies, then unlocked and started running
                Eternity Challenge ${e.ec}`,t.startLine):AutomatorData.logCommandEvent(`Purchased all specified Time Studies and unlocked Eternity Challenge
                ${e.ec}, but failed to start it`,t.startLine)):AutomatorData.logCommandEvent(`Purchased all specified Time Studies and unlocked Eternity Challenge
              ${e.ec}`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}:()=>{for(const i of e.normal)TimeStudy(i).purchase(!0);return!e.ec||TimeStudy.eternityChallenge(e.ec).isBought||TimeStudy.eternityChallenge(e.ec).purchase(!0),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}},blockify:t=>({singleTextInput:t.$studies.image,nowait:t.Nowait!==void 0,...automatorBlocksMap["STUDIES PURCHASE"]})},{id:"studiesLoad",rule:t=>()=>{t.CONSUME(Ue.Studies),t.OPTION(()=>t.CONSUME(Ue.Nowait)),t.CONSUME(Ue.Load),t.OR([{ALT:()=>t.CONSUME1(Ue.Id)},{ALT:()=>t.CONSUME1(Ue.Name)}])},validate:(t,e)=>{if(t.startLine=t.Studies[0].startLine,t.Id){const i=p7.exec(t.Id[0].image);if(!i||t.Id[0].isInsertedInRecovery)return e.addError(t,"Missing preset id","Provide the id of a saved study preset slot from the Time Studies page"),!1;const n=parseInt(i[1],10);return n<1||n>6?(e.addError(t.Id[0],`Could not find a preset with an id of ${n}`,"Type in a valid id (1 - 6) for your study preset"),!1):(t.$presetIndex=n,!0)}if(t.Name){const i=f7.exec(t.Name[0].image);if(!i||t.Name[0].isInsertedInRecovery)return e.addError(t,"Missing preset name","Provide the name of a saved study preset from the Time Studies page"),!1;const n=player.timestudy.presets.findIndex(r=>r.name===i[1])+1;return n===0?(e.addError(t.Name[0],`Could not find preset named ${i[1]} (Note: Names are case-sensitive)`,"Check to make sure you typed in the correct name for your study preset"),!1):(t.$presetIndex=n,!0)}return!1},compile:t=>{const e=t.$presetIndex;return()=>{const i=new TimeStudyTree(player.timestudy.presets[e-1].studies),n=GameCache.currentStudyTree.value.purchasedStudies.length;TimeStudyTree.commitToGameState(i.purchasedStudies,!0,i.startEC);const r=GameCache.currentStudyTree.value.purchasedStudies.length,a=i.purchasedStudies.filter(o=>!GameCache.currentStudyTree.value.purchasedStudies.includes(o)).length,s=t.Name?t.Name[0].image:t.Id[0].image;return a===0?AutomatorData.logCommandEvent(`Fully loaded study preset ${s}`,t.startLine):r>n&&AutomatorData.logCommandEvent(`Partially loaded study preset ${s}
            (missing ${quantifyInt("study",a)})`,t.startLine),t.Nowait!==void 0||a===0?AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION:AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:t=>({singleSelectionInput:t.Name?"NAME":"ID",singleTextInput:t.Name?player.timestudy.presets[t.$presetIndex-1].name:t.$presetIndex,nowait:t.Nowait!==void 0,...automatorBlocksMap["STUDIES LOAD"]})},{id:"studiesRespec",rule:t=>()=>{t.CONSUME(Ue.Studies),t.CONSUME(Ue.Respec)},validate:t=>(t.startLine=t.Studies[0].startLine,!0),compile:t=>()=>(player.respec=!0,AutomatorData.logCommandEvent("Turned study respec ON",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION),blockify:()=>automatorBlocksMap["STUDIES RESPEC"]},{id:"unlockDilation",rule:t=>()=>{t.CONSUME(Ue.Unlock),t.OPTION(()=>t.CONSUME(Ue.Nowait)),t.CONSUME(Ue.Dilation)},validate:t=>(t.startLine=t.Unlock[0].startLine,!0),compile:t=>{const e=t.Nowait!==void 0;return()=>PlayerProgress.dilationUnlocked()?(AutomatorData.logCommandEvent("Skipped dilation unlock due to being already unlocked",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):TimeStudy.dilation.purchase(!0)?(AutomatorData.logCommandEvent("Unlocked Dilation",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):e?(AutomatorData.logCommandEvent("Skipped dilation unlock due to lack of requirements (NOWAIT)",t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION},blockify:t=>({singleSelectionInput:"DILATION",nowait:t.Nowait!==void 0,...automatorBlocksMap.UNLOCK})},{id:"unlockEC",rule:t=>()=>{t.CONSUME(Ue.Unlock),t.OPTION(()=>t.CONSUME(Ue.Nowait)),t.SUBRULE(t.eternityChallenge)},validate:t=>(t.startLine=t.Unlock[0].startLine,!0),compile:t=>{const e=t.Nowait!==void 0,i=t.eternityChallenge[0].children.$ecNumber;return()=>EternityChallenge(i).isUnlocked?(AutomatorData.logCommandEvent(`Skipped EC ${i} unlock due to being already unlocked`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):e?(AutomatorData.logCommandEvent(`EC ${i} unlock failed and skipped (NOWAIT)`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):TimeStudy.eternityChallenge(i).purchase(!0)?(AutomatorData.logCommandEvent(`EC ${i} unlocked`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION},blockify:t=>({singleSelectionInput:"EC",singleTextInput:t.eternityChallenge[0].children.$ecNumber,nowait:t.Nowait!==void 0,...automatorBlocksMap.UNLOCK})},{id:"untilLoop",rule:t=>()=>{t.CONSUME(Ue.Until),t.OR([{ALT:()=>t.SUBRULE(t.comparison)},{ALT:()=>t.CONSUME(Ue.PrestigeEvent)}]),t.CONSUME(Ue.LCurly),t.CONSUME(Ue.EOL),t.SUBRULE(t.block),t.CONSUME(Ue.RCurly)},validate:(t,e)=>(t.startLine=t.Until[0].startLine,e.checkBlock(t,t.Until)),compile:(t,e)=>{const i=e.visit(t.block);if(t.comparison){const a=e.visit(t.comparison);return ZR(()=>!a(),i,t,!0)}const n=t.PrestigeEvent[0].tokenType.$prestigeLevel;let r;switch(t.PrestigeEvent[0].tokenType){case Ue.Infinity:r="Infinity";break;case Ue.Eternity:r="Eternity";break;case Ue.Reality:r="Reality";break;default:throw Error("Unrecognized prestige layer in until loop")}return{run:a=>(a.commandState===null&&(a.commandState={prestigeLevel:0}),a.commandState.prestigeLevel>=n?(AutomatorData.logCommandEvent(`${r} prestige has occurred, exiting until loop`,t.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):(AutomatorBackend.push(i),AutomatorData.logCommandEvent(`${r} prestige has not occurred yet, moving to line
            ${AutomatorBackend.translateLineNumber(t.LCurly[0].startLine+1)} (start of until loop)`,t.startLine),AUTOMATOR_COMMAND_STATUS.SAME_INSTRUCTION)),blockCommands:i}},blockify:(t,e)=>{const i=[];e.visit(t.block,i);const n=e.visit(t.comparison);return t.comparison?{nest:i,...automatorBlocksMap.UNTIL,...n,genericInput1:Nu(n.genericInput1),genericInput2:Nu(n.genericInput2)}:{genericInput1:t.PrestigeEvent[0].tokenType.name.toUpperCase(),nest:i,...automatorBlocksMap.UNTIL}}},{id:"waitCondition",rule:t=>()=>{t.CONSUME(Ue.Wait),t.SUBRULE(t.comparison)},validate:t=>(t.startLine=t.Wait[0].startLine,!0),compile:(t,e)=>()=>{if(e.visit(t.comparison)()){const r=TimeSpan.fromMilliseconds(Date.now()-AutomatorData.waitStart).toStringShort();return AutomatorData.isWaiting?AutomatorData.logCommandEvent(`Continuing after WAIT
            (${Ph(t)} is true, after ${r})`,t.startLine):AutomatorData.logCommandEvent(`WAIT skipped (${Ph(t)} is already true)`,t.startLine),AutomatorData.isWaiting=!1,AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}return AutomatorData.isWaiting||(AutomatorData.logCommandEvent(`Started WAIT for ${Ph(t)}`,t.startLine),AutomatorData.waitStart=Date.now()),AutomatorData.isWaiting=!0,AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION},blockify:(t,e)=>{const i=[];e.visit(t.block,i);const n=e.visit(t.comparison);return{nest:i,...automatorBlocksMap.WAIT,...n,genericInput1:Nu(n.genericInput1),genericInput2:Nu(n.genericInput2)}}},{id:"waitEvent",rule:t=>()=>{t.CONSUME(Ue.Wait),t.CONSUME(Ue.PrestigeEvent)},validate:t=>(t.startLine=t.Wait[0].startLine,!0),compile:t=>{const e=t.PrestigeEvent[0].tokenType.$prestigeLevel;return i=>{i.commandState===null&&(i.commandState={prestigeLevel:0});const n=i.commandState.prestigeLevel>=e,r=t.PrestigeEvent[0].image.toUpperCase();if(n){const a=TimeSpan.fromMilliseconds(Date.now()-AutomatorData.waitStart).toStringShort();return AutomatorData.logCommandEvent(`Continuing after WAIT (${r} occurred for
            ${QR(r)}, after ${a})`,t.startLine),AutomatorData.isWaiting=!1,AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}return AutomatorData.isWaiting||(AutomatorData.logCommandEvent(`Started WAIT for ${r}`,t.startLine),AutomatorData.waitStart=Date.now()),AutomatorData.isWaiting=!0,AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:t=>({genericInput1:t.PrestigeEvent[0].tokenType.name.toUpperCase(),...automatorBlocksMap.WAIT})},{id:"waitBlackHole",rule:t=>()=>{t.CONSUME(Ue.Wait),t.CONSUME(Ue.BlackHole),t.OR([{ALT:()=>t.CONSUME(Ue.Off)},{ALT:()=>t.CONSUME(Ue.BlackHoleStr)}])},validate:t=>(t.startLine=t.Wait[0].startLine,!0),compile:t=>()=>{const e=!!t.Off,i=t.BlackHoleStr?Number(t.BlackHoleStr[0].image.charAt(2)):0,n=e?!BlackHole(1).isActive:BlackHole(i).isActive,r=e?"inactive Black Holes":`active Black Hole ${i}`;if(n){const a=TimeSpan.fromMilliseconds(Date.now()-AutomatorData.waitStart).toStringShort();return AutomatorData.logCommandEvent(`Continuing after WAIT (waited ${a} for ${r})`,t.startLine),AutomatorData.isWaiting=!1,AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}return AutomatorData.isWaiting||(AutomatorData.logCommandEvent(`Started WAIT for ${r}`,t.startLine),AutomatorData.waitStart=Date.now()),AutomatorData.isWaiting=!0,AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION},blockify:t=>({genericInput1:"BLACK HOLE",compOperator:t.BlackHoleStr?t.BlackHoleStr[0].image.toUpperCase():"OFF",...automatorBlocksMap.WAIT})},{id:"whileLoop",rule:t=>()=>{t.CONSUME(Ue.While),t.SUBRULE(t.comparison),t.CONSUME(Ue.LCurly),t.CONSUME(Ue.EOL),t.SUBRULE(t.block),t.CONSUME(Ue.RCurly)},validate:(t,e)=>(t.startLine=t.While[0].startLine,e.checkBlock(t,t.While)),compile:(t,e)=>ZR(e.visit(t.comparison),e.visit(t.block),t,!1),blockify:(t,e)=>{const i=[];e.visit(t.block,i);const n=e.visit(t.comparison);return{nest:i,...automatorBlocksMap.WHILE,...n,genericInput1:Nu(n.genericInput1),genericInput2:Nu(n.genericInput2)}}},{id:"stop",rule:t=>()=>{t.CONSUME(Ue.Stop)},validate:t=>(t.startLine=t.Stop[0].startLine,!0),compile:t=>()=>(AutomatorData.logCommandEvent("Automator execution stopped with STOP command",t.startLine),AUTOMATOR_COMMAND_STATUS.HALT),blockify:()=>({...automatorBlocksMap.STOP})}];class m7 extends Wi.Parser{constructor(){super(US,{recoveryEnabled:!0,outputCst:!0,nodeLocationTracking:"full"});const e=this;e.RULE("script",()=>e.SUBRULE(e.block)),e.RULE("block",()=>e.MANY_SEP({SEP:Ue.EOL,DEF:()=>e.OPTION(()=>e.SUBRULE(e.command))}));const i=["$.SUBRULE($.badCommand)","$.CONSUME(EOF)"];for(const r of Vw)e.RULE(r.id,r.rule(e)),i.push(`$.SUBRULE($.${r.id})`);const n=window.Function("$","EOF",`
      return () => $.OR($.c1 || ($.c1 = [
        ${i.map(r=>`{ ALT: () => ${r} },`).join(`
`)}]));
    `);e.RULE("command",n(e,Wi.EOF)),e.RULE("badCommand",()=>e.AT_LEAST_ONE(()=>e.SUBRULE(e.badCommandToken)),{resyncEnabled:!1}),e.RULE("badCommandToken",()=>e.OR([{ALT:()=>e.CONSUME(Ue.Identifier)},{ALT:()=>e.CONSUME(Ue.NumberLiteral)},{ALT:()=>e.CONSUME(Ue.ComparisonOperator)}]),{resyncEnabled:!1}),e.RULE("comparison",()=>{e.SUBRULE(e.compareValue),e.CONSUME(Ue.ComparisonOperator),e.SUBRULE2(e.compareValue)}),e.RULE("compareValue",()=>e.OR([{ALT:()=>e.CONSUME(Ue.NumberLiteral)},{ALT:()=>e.CONSUME(Ue.Identifier)},{ALT:()=>e.CONSUME(Ue.AutomatorCurrency)}])),e.RULE("duration",()=>{e.CONSUME(Ue.NumberLiteral),e.CONSUME(Ue.TimeUnit)}),e.RULE("eternityChallenge",()=>e.OR([{ALT:()=>{e.CONSUME(Ue.EC),e.CONSUME(Ue.NumberLiteral)}},{ALT:()=>e.CONSUME(Ue.ECLiteral)}])),e.RULE("studyList",()=>{e.AT_LEAST_ONE(()=>e.SUBRULE(e.studyListEntry)),e.OPTION(()=>{e.CONSUME(Ue.Pipe),e.CONSUME1(Ue.NumberLiteral,{LABEL:"ECNumber"}),e.OPTION1(()=>e.CONSUME(Ue.Exclamation))})},{resyncEnabled:!1}),e.RULE("studyListEntry",()=>{e.OR([{ALT:()=>e.SUBRULE(e.studyRange)},{ALT:()=>e.CONSUME(Ue.NumberLiteral)},{ALT:()=>e.CONSUME(Ue.StudyPath)}]),e.OPTION(()=>e.CONSUME(Ue.Comma))}),e.RULE("studyRange",()=>{e.CONSUME(Ue.NumberLiteral,{LABEL:"firstStudy"}),e.CONSUME(Ue.Dash),e.CONSUME1(Ue.NumberLiteral,{LABEL:"lastStudy"})}),e.RULE("xHighest",()=>{e.CONSUME(Ue.NumberLiteral),e.CONSUME(Ue.XHighest)}),e.RULE("currencyAmount",()=>{e.CONSUME(Ue.NumberLiteral),e.CONSUME(Ue.AutomatorCurrency)}),e.performSelfAnalysis()}}const Bp=new m7,BS=Bp.getBaseCstVisitorConstructorWithDefaults();let $S=class Ys extends BS{constructor(e){super(),this.validateVisitor(),this.reset(e);for(const r of Vw){if(!r.validate)continue;const a=this[r.id];this[r.id]=s=>{r.validate(s,this)&&a&&a.call(this,s)}}const i=Hw.tokenize(e),n=i.tokens;Bp.input=n,this.parseResult=Bp.script(),this.visit(this.parseResult),this.addLexerErrors(i.errors),this.addParserErrors(Bp.errors,n),this.modifyErrorMessages(),this.errorCount=i.errors.length+this.errors.length+Bp.errors.length}addLexerErrors(e){for(const i of e)this.errors.push({startLine:i.line,startOffset:i.offset,endOffset:i.offset+i.length,info:`Unexpected characters: ${this.rawText.substr(i.offset,i.length)}`,tip:`${this.rawText.substr(i.offset,i.length)} cannot be part of a command, remove them`})}static combinePositionRanges(e,i){return{startLine:Math.min(e.startLine,i.startLine),startOffset:Math.min(e.startOffset,i.startOffset),endOffset:Math.max(e.endOffset,i.endOffset)}}addParserErrors(e,i){for(const n of e){let r=Ys.combinePositionRanges(Ys.getPositionRange(n.previousToken),Ys.getPositionRange(n.token));n.token.tokenType.name==="EOF"&&n.previousToken.tokenType.name==="EOF"&&(r=Ys.combinePositionRanges(r,Ys.getPositionRange(i[i.length-1]))),r.info=n.message.replace(/'\n\s*'/ui,"End of line");const a=n.token.tokenType.name==="EOF"||n.token.tokenType.name==="EOL";n.name==="NoViableAltException"?a||(r.info=`Unexpected input ${n.token.image}`,r.tip=`Remove ${n.token.image}`):n.name==="EarlyExitException"&&(r.info="Unexpected end of command",r.tip="Complete the command by adding the other parameters"),this.errors.push(r)}}static getPositionRange(e){let i={startLine:Number.MAX_VALUE,startOffset:Number.MAX_VALUE,endOffset:0};if(e==null)return i;if(e.startOffset!==void 0)return{startLine:e.startLine,startOffset:e.startOffset,endOffset:e.endOffset};if(e.location!==void 0&&e.location.startOffset!==void 0)return e.location;if(e.children&&!Array.isArray(e.children))return Ys.getPositionRange(e.children);if(Array.isArray(e))return e.reduce((n,r)=>Ys.combinePositionRanges(n,Ys.getPositionRange(r)),i);for(const n in e)!Object.prototype.hasOwnProperty.call(e,n)||!Array.isArray(e[n])||(i=Ys.combinePositionRanges(i,Ys.getPositionRange(e[n])));return i}addError(e,i,n){const r=Ys.getPositionRange(e);r.info=i,r.tip=n,this.errors.push(r)}modifyErrorMessages(){if(!Player.automatorUnlocked||AutomatorData.currentScriptText()===void 0)return;const e=[];let i=0;for(const n of this.errors.sort((r,a)=>r.startLine-a.startLine))if(isNaN(n.startLine)&&(n.startLine=AutomatorData.currentScriptText().split(`
`).length),n.startLine!==i){if(n.tip){e.push(n),i=n.startLine;continue}n.info.match(/EOF but found.*\}/gu)?(n.info=n.info.replaceAll("--> ","[").replaceAll(" <--","]"),n.tip="Remove }. Parser halted at this line and may miss errors farther down the script."):n.info.match(/found.*\}/gu)?(n.info=n.info.replaceAll("--> ","[").replaceAll(" <--","]"),n.tip="Remove }"):n.info.match(/Expecting/gu)?(n.info=n.info.replaceAll("--> ","[").replaceAll(" <--","]"),n.tip="Use the appropriate type of data in the command as specified in the command help"):n.info.match(/End of line/gu)?n.tip="Provide the remaining arguments to complete the incomplete command":n.info.match(/EOF but found:/gu)?n.tip="Remove extra command argument":n.tip="This error's cause is unclear",e.push(n),i=n.startLine}for(const n of e)n.startLine=AutomatorBackend.translateLineNumber(n.startLine);this.errors=e}reset(e){this.rawText=e,this.variables={},this.errors=[]}checkTimeStudyNumber(e){const i=parseFloat(e.image);return!TimeStudy(i)||TimeStudy(i).isTriad&&!Ra.canBuyTriad?(this.addError(e,`Invalid Time Study identifier ${i}`,"Make sure you copied or typed in your time study IDs correctly"),0):i}lookupVar(e,i){const n=e.image,r={},a=player.reality.automator.constants;if(!Object.keys(a).includes(n)){this.addError(e,`Variable ${n} has not been defined`,`Use the definition panel to define ${n} in order to reference it, or check for typos`);return}const s=a[n];let o;switch(i){case AUTOMATOR_VAR_TYPES.NUMBER:r.value=new Decimal(s);break;case AUTOMATOR_VAR_TYPES.STUDIES:o=new TimeStudyTree(s),r.value={normal:o.selectedStudies.map(c=>c.id),ec:o.ec,startEC:o.startEC};break;case AUTOMATOR_VAR_TYPES.DURATION:r.value=parseInt(1e3*s,10);break;default:throw new Error("Unrecognized variable format in automator constant lookup")}return r}isValidVarFormat(e,i){const n=e.image,r=player.reality.automator.constants;if(!Object.keys(r).includes(n))return!1;const a=r[n];switch(i){case AUTOMATOR_VAR_TYPES.NUMBER:return a.match(/^-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?$/u);case AUTOMATOR_VAR_TYPES.STUDIES:return TimeStudyTree.isValidImportString(a);case AUTOMATOR_VAR_TYPES.DURATION:return!Number.isNaN(parseInt(1e3*a,10));default:throw new Error("Unrecognized variable format in automator constant lookup")}}duration(e){if(e.$value)return e.$value;if(!e.TimeUnit||e.TimeUnit[0].isInsertedInRecovery){this.addError(e,"Missing time unit","Provide a unit of time (eg. seconds or minutes)");return}const i=parseFloat(e.NumberLiteral[0].image)*e.TimeUnit[0].tokenType.$scale;if(isNaN(i)){this.addError(e,"Error parsing duration","Provide a properly-formatted number for time");return}return e.$value=i,e.$value}xHighest(e){if(e.$value)return e.$value;if(!e.NumberLiteral||e.NumberLiteral[0].isInsertedInRecovery){this.addError(e,"Missing multiplier","Provide a multiplier to set the autobuyer to");return}return e.$value=new Decimal(e.NumberLiteral[0].image),e.$value}currencyAmount(e){if(e.$value)return e.$value;if(!e.NumberLiteral||e.NumberLiteral[0].isInsertedInRecovery){this.addError(e,"Missing amount","Provide a threshold to set the autobuyer to");return}return e.$value=new Decimal(e.NumberLiteral[0].image),e.$value}studyRange(e,i){if(!e.firstStudy||e.firstStudy[0].isInsertedInRecovery||!e.lastStudy||e.lastStudy[0].isInsertedInRecovery){this.addError(e,"Missing Time Study number in range","Provide starting and ending IDs for Time Study number ranges");return}const n=this.checkTimeStudyNumber(e.firstStudy[0]),r=this.checkTimeStudyNumber(e.lastStudy[0]);if(!(!n||!r||!i))for(let a=n;a<=r;++a)TimeStudy(a)&&i.push(a)}studyListEntry(e,i){if(e.studyRange){this.visit(e.studyRange,i);return}if(e.NumberLiteral){if(e.NumberLiteral[0].isInsertedInRecovery){this.addError(e,"Missing Time Study number","Provide a Time Study ID to purchase");return}const n=this.checkTimeStudyNumber(e.NumberLiteral[0]);n&&i.push(n);return}if(e.StudyPath){const n=e.StudyPath[0].tokenType.$studyPath,r=NormalTimeStudies.paths[n];i.push(...r)}}studyList(e){if(e.$cached!==void 0)return e.$cached;const i=[];for(const r of e.studyListEntry)this.visit(r,i);const n=Ys.getPositionRange(e);if(e.$cached={normal:i,image:this.rawText.substr(n.startOffset,n.endOffset-n.startOffset+1),ec:0,startEC:!1},e.ECNumber){e.ECNumber.isInsertedInRecovery&&this.addError(e.Pipe[0],"Missing Eternity Challenge number","Specify which Eternity Challenge is being referred to");const r=parseFloat(e.ECNumber[0].image);(!Number.isInteger(r)||r<0||r>12)&&this.addError(e.ECNumber,`Invalid Eternity Challenge ID ${r}`,`Eternity Challenge ${r} does not exist, use an integer between ${format(1)} and ${format(12)}`),e.$cached.ec=r}return e.Exclamation&&(e.$cached.startEC=!0),e.$cached}compareValue(e){e.NumberLiteral?e.$value=new Decimal(e.NumberLiteral[0].image):e.Identifier&&(this.isValidVarFormat(e.Identifier[0],AUTOMATOR_VAR_TYPES.NUMBER)||this.addError(e,`Constant ${e.Identifier[0].image} cannot be used for comparison`,`Ensure that ${e.Identifier[0].image} contains a properly-formatted number and not a Time Study string`),this.lookupVar(e.Identifier[0],AUTOMATOR_VAR_TYPES.NUMBER)&&(e.$value=e.Identifier[0].image))}comparison(e){if(super.comparison(e),(!e.compareValue||e.compareValue[0].recoveredNode||e.compareValue.length!==2||e.compareValue[1].recoveredNode)&&this.addError(e,"Missing value for comparison","Ensure that the comparison has two values"),!e.ComparisonOperator||e.ComparisonOperator[0].isInsertedInRecovery){this.addError(e,"Missing comparison operator (<, >, <=, >=)","Insert the appropriate comparison operator");return}(e.ComparisonOperator[0].tokenType===Ue.OpEQ||e.ComparisonOperator[0].tokenType===Ue.EqualSign)&&this.addError(e,"Please use an inequality comparison (>, <, >=, <=)","Comparisons cannot be done with equality, only with inequality operators")}badCommand(e){const i=e.badCommandToken[0].children,n=Object.keys(i)[0];this.addError(i[n][0],`Unrecognized command "${i[n][0].image}"`,"Check to make sure you have typed in the command name correctly")}eternityChallenge(e){let i,n;if(e.ECLiteral)n=parseFloat(e.ECLiteral[0].image.substr(2)),i=e.ECLiteral[0];else if(e.NumberLiteral)n=parseFloat(e.NumberLiteral[0].image),i=e.NumberLiteral[0];else{this.addError(e,"Missing Eternity Challenge number","Specify which Eternity Challenge is being referred to");return}(!Number.isInteger(n)||n<1||n>12)&&this.addError(i,`Invalid Eternity Challenge ID ${n}`,`Eternity Challenge ${n} does not exist, use an integer between ${format(1)} and ${format(12)}`),e.$ecNumber=n}checkBlock(e,i){let n=!1;return(!e.RCurly||e.RCurly[0].isInsertedInRecovery)&&(this.addError(i[0],"Missing closing }","This loop has mismatched brackets, add a corresponding } on another line to close the loop"),n=!0),(!e.LCurly||e.LCurly[0].isInsertedInRecovery)&&(this.addError(i[0],"Missing opening {","This line has an extra } closing a loop which does not exist, remove the }"),n=!0),!n}script(e){e.block&&this.visit(e.block),e.variables=this.variables}};class y7 extends BS{constructor(){super();for(const e of Vw){if(!e.compile)continue;const i=this[e.id];this[e.id]=(n,r)=>{i&&i!==super[e.id]&&i.call(this,n,r);let a=e.compile(n,this);typeof a=="function"&&(a={run:a}),a.lineNumber=n.startLine,r.push(a)}}this.validateVisitor()}comparison(e){const i=e.compareValue.map(a=>{if(a.children.AutomatorCurrency)return a.children.AutomatorCurrency[0].tokenType.$getter;const s=a.children.$value;return typeof s=="string"?()=>player.reality.automator.constants[s]:()=>s}),n=e.compareValue.map(a=>{if(a.children.AutomatorCurrency){const s=a.children.AutomatorCurrency[0].tokenType.$unlocked;return s?s():!0}return!0});if(!n[0]||!n[1])return()=>!1;const r=e.ComparisonOperator[0].tokenType.$compare;return()=>r(i[0](),i[1]())}block(e){const i=[];if(e.command)for(const n of e.command)this.visit(n,i);return i}script(e){if(e.variables===void 0)throw new Error("Compiler called before Validator");return e.block?this.visit(e.block):[]}}class g7 extends BS{constructor(){super();for(const e of Vw){const i=e.blockify;if(!i)continue;const n=this[e.id];this[e.id]=(r,a)=>{n&&n!==super[e.id]&&n.call(this,r,a);try{const s=i(r,this);a.push({...s,id:UIID.next()})}catch{}}}this.validateVisitor()}comparison(e){const i=n=>{const r=e.compareValue[n];return r.children.AutomatorCurrency?r.children.AutomatorCurrency[0].image:r.children.$value};return{compOperator:e.ComparisonOperator[0].image,genericInput1:i(0),genericInput2:i(1)}}script(e){const i=[];return e.block&&this.visit(e.block,i),i}block(e,i){if(e.command)for(const n of e.command)this.visit(n,i)}}function Yw(t,e=!1){const i=`${t}
 `,n=new $S(i);let r;return n.errorCount===0&&!e&&(r=new y7().visit(n.parseResult)),{errors:n.errors,compiled:r}}function SU(t){return Yw(t,!0).errors.length!==0}function Zg(t){const e=new $S(t),n=new g7().visit(e.parseResult),r=c=>{var m,y;if(!c)return 0;const d=c.children;let p=0;for(const _ of Object.keys(d)){const w=(y=(m=d[_][0])==null?void 0:m.children)==null?void 0:y.block,C=w?w[0].children.command:[];if(p+=C?C.map(k=>r(k)+1).reduce((k,S)=>k+S,0):0,_==="EOF")return-1}return p},a=c=>c.nest?1+c.nest.map(d=>a(d)).reduce((d,p)=>d+p,0):1,s=e.parseResult.children.block[0].children.command.map(c=>r(c)+1).reduce((c,d)=>c+d,0),o=n.map(c=>a(c)).reduce((c,d)=>c+d,0);return{blocks:n,validatedBlocks:s,visitedBlocks:o}}function PC(t){return new $S(t)}function AU(t,e,i){const n=t.$autocomplete&&t.$autocomplete.startsWith(e)&&t.$autocomplete!==e,r=t.$unlocked?t.$unlocked():!0;n&&r&&i.add(t.$autocomplete);for(const a of t.categoryMatches)AU(CU[a],e,i)}CodeMirror.registerHelper("lint","automato",(t,e,i)=>{const n=i.getDoc();return Yw(t,!0).errors.map(a=>({message:a.info,severity:"error",from:n.posFromIndex(a.startOffset),to:n.posFromIndex(a.endOffset+1)}))});CodeMirror.registerHelper("hint","anyword",t=>{const e=t.getDoc().getCursor();let i=e.ch;const n=e.ch,r=t.getLine(e.line);for(;i&&/\w/u.test(r.charAt(i-1));)--i;const a=r.slice(0,i),s=r.slice(i,n),o=Hw.tokenize(a);if(o.errors.length>0)return;const c=Bp.computeContentAssist("command",o.tokens),d=new Set;for(const p of c)p.ruleStack[1]!=="badCommand"&&AU(p.nextTokenType,s,d);return{list:Array.from(d),from:CodeMirror.Pos(e.line,i),to:CodeMirror.Pos(e.line,n)}});const Nl={regex:/(\/\/|#).*/u,token:"comment",next:"start"};CodeMirror.defineSimpleMode("automato",{start:[Nl,{regex:/studies\s+/ui,token:"keyword",next:"studiesArgs"},{regex:/blob\s\s/ui,token:"blob"},{regex:/(auto|if|pause|studies|time[ \t]+theorems?|space[ \t]+theorems?|until|wait|while|black[ \t]+hole|stored?[ \t]+game[ \t]+time|notify)\s/ui,token:"keyword",next:"commandArgs"},{regex:/stop/ui,token:"keyword",next:"commandDone"},{regex:/start\s|unlock\s/ui,token:"keyword",next:"startUnlock"},{regex:/infinity\S+|eternity\S+|reality\S+|pause\S+|restart\S+/ui,token:"error",next:"commandDone"},{regex:/infinity|eternity|reality/ui,token:"keyword",next:"prestige"},{regex:/pause|restart/ui,token:"keyword",next:"commandDone"},{regex:/\}/ui,dedent:!0},{regex:/\S+\s/ui,token:"error",next:"commandDone"}],studiesArgs:[Nl,{sol:!0,next:"start"},{regex:/load(\s+|$)/ui,token:"variable-2",next:"studiesLoad"},{regex:/respec/ui,token:"variable-2",next:"commandDone"},{regex:/purchase/ui,token:"variable-2",next:"studiesList"},{regex:/nowait(\s+|$)/ui,token:"property"}],studiesList:[Nl,{sol:!0,next:"start"},{regex:/(antimatter|infinity|time)(?=[\s,|]|$)/ui,token:"number"},{regex:/(active|passive|idle)(?=[\s,|]|$)/ui,token:"number"},{regex:/(light|dark)(?=[\s,|]|$)/ui,token:"number"},{regex:/([1-9][0-9]+)(?=[\s,!|-]|$)/ui,token:"number"},{regex:/[a-zA-Z_][a-zA-Z_0-9]*/u,token:"variable",next:"commandDone"},{regex:/!$/ui,token:"variable-2"},{regex:/([1-9]|1[0-2])(?=!|$)/ui,token:"number"}],studiesLoad:[Nl,{sol:!0,next:"start"},{regex:/id(\s+|$)/ui,token:"variable-2",next:"studiesLoadId"},{regex:/name(\s+|$)/ui,token:"variable-2",next:"studiesLoadPreset"},{regex:/\S+/ui,token:"error"}],studiesLoadId:[Nl,{sol:!0,next:"start"},{regex:/\d/ui,token:"qualifier",next:"commandDone"}],studiesLoadPreset:[Nl,{sol:!0,next:"start"},{regex:/(\/(?!\/)|[^\s#/])+/ui,token:"qualifier",next:"commandDone"}],prestige:[Nl,{sol:!0,next:"start"},{regex:/nowait(\s|$)/ui,token:"property"},{regex:/respec/ui,token:"variable-2"}],commandDone:[Nl,{sol:!0,next:"start"},{regex:/\}/ui,dedent:!0},{regex:/\S+/ui,token:"error"}],startUnlock:[Nl,{sol:!0,next:"start"},{regex:/ec\s?(1[0-2]|[1-9])|dilation/ui,token:"variable-2",next:"commandDone"},{regex:/nowait(\s|$)/ui,token:"property"}],commandArgs:[Nl,{sol:!0,next:"start"},{regex:/<=|>=|<|>/ui,token:"operator"},{regex:/nowait(\s|$)/ui,token:"property"},{regex:/".*"/ui,token:"string",next:"commandDone"},{regex:/'.*'/ui,token:"string",next:"commandDone"},{regex:/(on|off|bh1|bh2|dilation|load|respec)(\s|$)/ui,token:"variable-2"},{regex:/(eternity|reality|use)(\s|$)/ui,token:"variable-2"},{regex:/(antimatter|infinity|time)(\s|$|(?=,))/ui,token:"variable-2"},{regex:/(active|passive|idle)(\s|$|(?=,))/ui,token:"variable-2"},{regex:/(light|dark)(\s|$|(?=,))/ui,token:"variable-2"},{regex:/x[\t ]+highest(\s|$)/ui,token:"variable-2"},{regex:/pending[\t ]+(completions|ip|ep|tp|rm|glyph[\t ]+level)(\s|$)/ui,token:"variable-2"},{regex:/total[\t ]+(completions|tt|space theorems)(\s|$)/ui,token:"variable-2"},{regex:/spent[\t ]+tt(\s|$)/ui,token:"variable-2"},{regex:/filter[ \t]+score/ui,token:"variable-2"},{regex:/ec(1[0-2]|[1-9])[\t ]+completions(\s|$)/ui,token:"variable-2"},{regex:/(am|ip|ep|all)(\s|$)/ui,token:"variable-2"},{regex:/(rm|rg|dt|tp|tt|space theorems|(banked )?infinities|eternities|realities|rep(licanti)?)(\s|$)/ui,token:"variable-2"},{regex:/ sec(onds ?) ?| min(utes ?) ?| hours ?/ui,token:"variable-2"},{regex:/([0-9]+:[0-5][0-9]:[0-5][0-9]|[0-5]?[0-9]:[0-5][0-9]|t[1-4])/ui,token:"number"},{regex:/-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?/ui,token:"number"},{regex:/[a-zA-Z_][a-zA-Z_0-9]*/u,token:"variable"},{regex:/\{/ui,indent:!0,next:"commandDone"},{regex:/\}/ui,dedent:!0}],meta:{lineComment:"//",electricChars:"}"}});const Xo=Object.freeze({NEXT_INSTRUCTION:0,NEXT_TICK_SAME_INSTRUCTION:1,NEXT_TICK_NEXT_INSTRUCTION:2,SAME_INSTRUCTION:3,SKIP_INSTRUCTION:4,HALT:5,RESTART:6}),go=Object.freeze({PAUSE:1,RUN:2,SINGLE_STEP:3}),v7={NUMBER:{id:0,name:"number"},STUDIES:{id:1,name:"studies"},DURATION:{id:2,name:"duration"},UNKNOWN:{id:-1,name:"unknown"}},Er=Object.freeze({TEXT:0,BLOCK:1});class JR{constructor(e){this._stackIndex=e,this._commandIndex=0}initializeNew(e){this._commands=e,this._commandIndex=0,this.persistent={lineNumber:e[0].lineNumber,commandState:null}}get commandIndex(){return this._commandIndex}set commandIndex(e){this._commandIndex=e,this.lineNumber=this._commands[e].lineNumber}get lineNumber(){return this.persistent.lineNumber}set lineNumber(e){this.persistent.lineNumber=e}get commandState(){return this.persistent.commandState}set commandState(e){this.persistent.commandState=e}get persistent(){return player.reality.automator.state.stack[this._stackIndex]}set persistent(e){player.reality.automator.state.stack[this._stackIndex]=e}get commands(){return this._commands}set commands(e){this._commands=e}}class cd{constructor(e){this._id=e,this.compile()}get id(){return this._id}get name(){return this.persistent.name}set name(e){this.persistent.name=e}get persistent(){return player.reality.automator.scripts[this._id]}get commands(){return this._compiled}get text(){return this.persistent.content}save(e){zs.isWithinLimit()&&(this.persistent.content=e),this.compile()}compile(){this._compiled=Yw(this.text).compiled}static create(e,i=""){const n=Object.keys(player.reality.automator.scripts),r=n.findIndex((s,o)=>o+1!==Number(s));let a=1+(r===-1?n.length:r);return(!player.reality.automator.scripts||a===0)&&(a=1),player.reality.automator.scripts[a]={id:a,name:e,content:i},new cd(a)}}const zs={lastECCompletionCount:0,isWaiting:!1,waitStart:0,lastEvent:0,eventLog:[],isEditorFullscreen:!1,needsRecompile:!0,cachedErrors:0,blockTemplates:[],undoBuffer:[],redoBuffer:[],charsSinceLastUndoState:0,MAX_ALLOWED_SCRIPT_CHARACTERS:1e4,MAX_ALLOWED_TOTAL_CHARACTERS:6e4,MAX_ALLOWED_SCRIPT_NAME_LENGTH:15,MAX_ALLOWED_SCRIPT_COUNT:20,MAX_ALLOWED_CONSTANT_NAME_LENGTH:20,MAX_ALLOWED_CONSTANT_VALUE_LENGTH:250,MAX_ALLOWED_CONSTANT_COUNT:30,MIN_CHARS_BETWEEN_UNDOS:10,MAX_UNDO_ENTRIES:30,scriptIndex(){return player.reality.automator.state.editorScript},currentScriptName(){return player.reality.automator.scripts[this.scriptIndex()].name},currentScriptText(t){var i;const e=t||this.scriptIndex();return(i=player.reality.automator.scripts[e])==null?void 0:i.content},createNewScript(t,e){const i=cd.create(e,t);GameUI.notify.automator(`Imported Script "${e}"`),player.reality.automator.state.editorScript=i.id,zs.clearUndoData(),EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED)},recalculateErrors(){const t=this.currentScriptText();this.cachedErrors=Yw(t).errors,this.cachedErrors.sort((e,i)=>e.startLine-i.startLine)},currentErrors(){return this.needsRecompile&&(this.recalculateErrors(),this.needsRecompile=!1),this.cachedErrors},logCommandEvent(t,e){const i=Date.now();this.eventLog.push({message:t.replaceAll(/\s?\n\s+/gu," "),line:Vc.translateLineNumber(e),thisReality:Time.thisRealityRealTime.totalSeconds,timestamp:i,timegap:i-this.lastEvent}),this.lastEvent=i,this.eventLog.length>player.options.automatorEvents.maxEntries&&this.eventLog.shift()},clearEventLog(){this.eventLog=[],this.lastEvent=0},singleScriptCharacters(){var t;return player.reality.automator.type===Er.TEXT?((t=AutomatorTextUI.editor)==null?void 0:t.getDoc().getValue().length)??0:BlockAutomator.parseLines(BlockAutomator.lines).join(`
`).length},totalScriptCharacters(){return Object.values(player.reality.automator.scripts).filter(t=>t.id!==this.scriptIndex()).map(t=>t.content.length).reduce((t,e)=>t+e,0)+this.singleScriptCharacters()},isWithinLimit(){return this.singleScriptCharacters()<=this.MAX_ALLOWED_SCRIPT_CHARACTERS&&this.totalScriptCharacters()<=this.MAX_ALLOWED_TOTAL_CHARACTERS},clearUndoData(){this.undoBuffer=[],this.redoBuffer=[],this.charsSinceLastUndoState=0},pushUndoData(t,e){this.charsSinceLastUndoState+=e,!(this.charsSinceLastUndoState<=this.MIN_CHARS_BETWEEN_UNDOS&&this.undoBuffer.length!==0)&&(this.undoBuffer[this.undoBuffer.length-1]!==t&&this.undoBuffer.push(t),this.undoBuffer.length>this.MAX_UNDO_ENTRIES&&this.undoBuffer.shift(),this.charsSinceLastUndoState=0)},pushRedoData(t){this.redoBuffer[this.redoBuffer.length-1]!==t&&this.redoBuffer.push(t)},undoScriptEdit(){if(this.undoBuffer.length===0||Tabs.current._currentSubtab.name!=="Automator")return;const t=this.undoBuffer.pop();this.pushRedoData(this.currentScriptText()),player.reality.automator.scripts[this.scriptIndex()].content=t,Vc.saveScript(this.scriptIndex(),t),player.reality.automator.type===Er.TEXT?AutomatorTextUI.editor.setValue(t):BlockAutomator.updateEditor(t)},redoScriptEdit(){if(this.redoBuffer.length===0||Tabs.current._currentSubtab.name!=="Automator")return;const t=this.redoBuffer.pop();this.pushUndoData(this.currentScriptText(),2*this.MIN_CHARS_BETWEEN_UNDOS),player.reality.automator.scripts[this.scriptIndex()].content=t,Vc.saveScript(this.scriptIndex(),t),player.reality.automator.type===Er.TEXT?AutomatorTextUI.editor.setValue(t):BlockAutomator.updateEditor(t)}},xU={Active:"active",Event:"event",Error:"error"},OC={lines:{active:-1,event:-1,error:-1},updateHighlightedLine(t,e){if(player.reality.automator.type===Er.TEXT&&t!==-1){if(!AutomatorTextUI.editor)return;this.removeHighlightedTextLine(e),this.addHighlightedTextLine(t,e)}else this.lines[e]=t},removeHighlightedTextLine(t){const e=this.lines[t]-1;AutomatorTextUI.editor.removeLineClass(e,"background",`c-automator-editor__${t}-line`),AutomatorTextUI.editor.removeLineClass(e,"gutter",`c-automator-editor__${t}-line-gutter`),this.lines[t]=-1},addHighlightedTextLine(t,e){AutomatorTextUI.editor.addLineClass(t-1,"background",`c-automator-editor__${e}-line`),AutomatorTextUI.editor.addLineClass(t-1,"gutter",`c-automator-editor__${e}-line-gutter`),this.lines[e]=t},clearAllHighlightedLines(){for(const t of Object.values(xU)){if(player.reality.automator.type===Er.TEXT&&AutomatorTextUI.editor)for(let e=0;e<AutomatorTextUI.editor.doc.size;e++)AutomatorTextUI.editor.removeLineClass(e,"background",`c-automator-editor__${t}-line`),AutomatorTextUI.editor.removeLineClass(e,"gutter",`c-automator-editor__${t}-line-gutter`);this.lines[t]=-1}}},NC={scrollToRawLine(t){const e=player.reality.automator.type===Er.TEXT?t:Vc.translateLineNumber(t);this.scrollToLine(e)},scrollToLine(t){let e,i,n;if(player.reality.automator.type===Er.TEXT?(e=document.querySelector(".CodeMirror-scroll"),i=AutomatorTextUI.editor.defaultTextHeight(),n=t+1):(e=BlockAutomator.editor,i=34.5,n=t),!e)return;const r=e.clientHeight-40,a=i*(n-1);a>e.scrollTop+r&&e.scrollTo(0,a-r),a<e.scrollTop&&e.scrollTo(0,a),player.reality.automator.type===Er.BLOCK&&(BlockAutomator.gutter.style.bottom=`${e.scrollTop}px`)}},Vc={MAX_COMMANDS_PER_UPDATE:100,hasJustCompleted:!1,_scripts:[],get state(){return player.reality.automator.state},get isOn(){return!this.stack.isEmpty},get mode(){return this.state.mode},set mode(t){this.state.mode=t},get isRunning(){return this.isOn&&this.mode===go.RUN},findRawScriptObject(t){const e=player.reality.automator.scripts,i=Object.values(e).findIndex(n=>n.id===t);return e[parseInt(Object.keys(e)[i],10)]},get currentRunningScript(){return this.findRawScriptObject(this.state.topLevelScript)},get currentEditingScript(){return this.findRawScriptObject(player.reality.automator.state.editorScript)},get scriptName(){var t;return((t=this.currentRunningScript)==null?void 0:t.name)??""},hasDuplicateName(t){return Object.values(player.reality.automator.scripts).map(i=>i.name).filter(i=>i===t).length>1},translateLineNumber(t){return player.reality.automator.type===Er.TEXT?t:BlockAutomator.lineNumber(t)},get currentLineNumber(){return this.stack.top?this.translateLineNumber(this.stack.top.lineNumber):-1},get currentInterval(){return Math.clampMin(Math.pow(.994,Currency.realities.value)*500,1)},get currentRawText(){var t;return((t=this.currentRunningScript)==null?void 0:t.content)??""},get currentScriptLength(){return this.currentRawText.split(`
`).length},getUsedPresets(t){const e=this.findRawScriptObject(t);if(!e)return null;const i=new Set,n=e.content.split(`
`);for(const a of n){const s=a.match(/studies( nowait)? load id ([1-6])/ui);s&&i.add(Number(s[2])-1);const o=a.match(/studies( nowait)? load name (\S+)/ui);if(o){const c=player.timestudy.presets.findIndex(d=>d.name===o[2]);c!==-1&&i.add(c)}}const r=Array.from(i);return r.sort(),r},getUsedConstants(t){const e=this.findRawScriptObject(t);if(!e)return null;const i=new Set,n=e.content.split(`
`);for(const a of n){const s=Object.keys(player.reality.automator.constants);for(const o of s)a.match(`(?<![Nn][Aa][Mm][Ee])\\s${o}(\\s|$)`)&&i.add(o)}const r=Array.from(i);return r.sort(),r},addConstant(t,e){Object.keys(player.reality.automator.constants).length>=zs.MAX_ALLOWED_CONSTANT_COUNT||(player.reality.automator.constants[t]=e,player.reality.automator.constantSortOrder.push(t),EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED))},modifyConstant(t,e){Object.keys(player.reality.automator.constants).includes(t)?(player.reality.automator.constants[t]=e,EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED)):this.addConstant(t,e)},renameConstant(t,e){const i=player.reality.automator.constants[t];player.reality.automator.constants[e]=i,delete player.reality.automator.constants[t];const n=player.reality.automator.constantSortOrder.indexOf(t);n!==-1&&(player.reality.automator.constantSortOrder[n]=e),EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED)},deleteConstant(t){delete player.reality.automator.constants[t];const e=player.reality.automator.constantSortOrder.indexOf(t);e>-1&&player.reality.automator.constantSortOrder.splice(e,1),EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED)},serializeAutomatorData(t){const e=n=>`0000${n}`.slice(-5),i=[];for(const n of t)i.push(`${e(n.length)}${n}`);return i.join("")},deserializeAutomatorData(t){if(t==="")throw new Error("Attempted deserialization of empty string");const e=[];let i=t;for(;i.length>0;){const n=Number(i.slice(0,5));if(i=i.substr(5),Number.isNaN(n)||i.length<n)throw new Error("Inconsistent or malformed serialized automator data");{const r=i.slice(0,n);i=i.substr(n),e.push(r)}}return e},exportCurrentScriptContents(){const t=zs.currentScriptText().replace(/^\s*(.*?)\s*$/u,"$1");if(t.length===0)return null;const e=zs.currentScriptName();return GameSaveSerializer.encodeText(this.serializeAutomatorData([e,t]),"automator script")},parseScriptContents(t){let e,i;try{e=GameSaveSerializer.decodeText(t,"automator script"),i=this.deserializeAutomatorData(e)}catch{return null}return{name:i[0],content:i[1]}},importScriptContents(t){const e=this.parseScriptContents(t);zs.createNewScript(e.content,e.name),this.initializeFromSave()},exportFullScriptData(t){const e=this.findRawScriptObject(t),i=e.content.replace(/^\s*(.*?)\s*$/u,"$1");if(i.length===0)return null;const n=new Set,r=new Set,a=i.split(`
`);for(const d of a){const p=d.match(/studies( nowait)? load id ([1-6])/ui);p&&n.add(Number(p[2])-1);const m=d.match(/studies( nowait)? load name (\S+)/ui);if(m){const _=player.timestudy.presets.findIndex(w=>w.name===m[2]);_!==-1&&n.add(_)}const y=Object.keys(player.reality.automator.constants);for(const _ of y)d.match(`\\s${_}(\\s|$)`)&&r.add(_)}const s=[];for(const d of Array.from(n)){const p=player.timestudy.presets[d];s.push(`${d}:${(p==null?void 0:p.name)??""}:${(p==null?void 0:p.studies)??""}`)}const o=[];for(const d of Array.from(r))o.push(`${d}:${player.reality.automator.constants[d]}`);const c=this.serializeAutomatorData([e.name,s.join("*"),o.join("*"),i]);return GameSaveSerializer.encodeText(c,"automator data")},parseFullScriptData(t){let e,i;try{e=GameSaveSerializer.decodeText(t,"automator data"),i=this.deserializeAutomatorData(e)}catch{return null}if(i.length!==4)return null;const n=i[1],r=[];if(n)for(const o of n.split("*")){const c=o.split(":");r.push({id:Number(c[0]),name:c[1],studies:c[2]})}r.sort((o,c)=>o.id-c.id);const a=i[2],s=[];for(const o of a.split("*")){if(o==="")continue;const c=o.split(":");s.push({key:c[0],value:c[1]})}return{name:i[0],presets:r,constants:s,content:i[3]}},importFullScriptData(t,e){const i=this.parseFullScriptData(t);if(zs.createNewScript(i.content,i.name),!e.presets)for(const n of i.presets)player.timestudy.presets[n.id]={name:n.name,studies:n.studies};if(!e.constants)for(const n of i.constants)this.modifyConstant(n.key,n.value);this.initializeFromSave()},update(t){if(!this.isOn)return;let e;switch(this.mode){case go.PAUSE:return;case go.SINGLE_STEP:this.singleStep(),e=Vc.stack.top,e&&this.state.followExecution&&NC.scrollToRawLine(e.lineNumber),this.state.mode=go.PAUSE;return;case go.RUN:break;default:this.stop();return}player.reality.automator.execTimer+=t;const i=Math.min(Math.floor(player.reality.automator.execTimer/this.currentInterval),this.MAX_COMMANDS_PER_UPDATE);player.reality.automator.execTimer-=i*this.currentInterval;for(let n=0;n<i&&this.isRunning&&this.step();++n);},step(){if(this.stack.isEmpty)return!1;for(let t=0;t<100&&!this.hasJustCompleted;t++){switch(this.runCurrentCommand()){case Xo.SAME_INSTRUCTION:return!0;case Xo.NEXT_INSTRUCTION:return this.nextCommand();case Xo.NEXT_TICK_SAME_INSTRUCTION:return!1;case Xo.NEXT_TICK_NEXT_INSTRUCTION:return this.nextCommand(),!1;case Xo.SKIP_INSTRUCTION:this.nextCommand();break;case Xo.HALT:return this.stop(),!1;case Xo.RESTART:return this.restart(),!1}this.stack.top||(this.hasJustCompleted=!0)}return this.hasJustCompleted||(GameUI.notify.error("Automator halted - too many consecutive no-ops detected"),zs.logCommandEvent("Automator halted due to excessive no-op commands",this.currentLineNumber)),this.stop(),!1},singleStep(){if(!this.stack.isEmpty)switch(this.runCurrentCommand()){case Xo.NEXT_TICK_SAME_INSTRUCTION:break;case Xo.HALT:this.stop();break;case Xo.RESTART:this.restart();break;default:this.nextCommand();break}},runCurrentCommand(){const t=this.stack.top;return t.commands[t.commandIndex].run(t)},nextCommand(){const t=this.stack.top;if(t.commandIndex>=t.commands.length-1){if(this.stack.pop(),this.stack.isEmpty){if(this.state.repeat)return this.start(this.state.topLevelScript,go.RUN,!1),!1;this.stop()}else if(this.stack.top.commandState&&this.stack.top.commandState.advanceOnPop)return zs.logCommandEvent("Exiting IF block",this.stack.top.commandState.ifEndLine),this.nextCommand()}else t.commandState=null,++t.commandIndex;return!0},push(t){t.length!==0&&this.stack.push(t)},findScript(t){return this._scripts.find(e=>e.id===t)},_createDefaultScript(){const t=cd.create("New Script");return this._scripts=[t],this.state.topLevelScript=t.id,t.id},initializeFromSave(){const t=Object.keys(player.reality.automator.scripts).map(i=>parseInt(i,10));t.length===0?t.push(this._createDefaultScript()):this._scripts=t.map(i=>new cd(i)),t.includes(this.state.topLevelScript)||(this.state.topLevelScript=t[0]);const e=this.findScript(this.state.topLevelScript);if(e.commands){const i=e.commands;this.stack.initializeFromSave(i)||this.reset(i)}else this.stack.clear()},saveScript(t,e){const i=this.findScript(t);if(!i)return;const n=i.persistent.content,r=Math.abs(n.length-e.length);zs.pushUndoData(n,r),i.save(e),t===this.state.topLevelScript&&this.stop()},newScript(){const t=Vc._scripts.map(i=>i.name);let e;if(t.includes("New Script")){let i=2;for(;t.includes(`New Script (${i})`);)i++;e=cd.create(`New Script (${i})`)}else e=cd.create("New Script");return this._scripts.push(e),e},deleteScript(t){const e=Object.values(player.reality.automator.scripts).findIndex(n=>n.id===t);delete player.reality.automator.scripts[parseInt(Object.keys(player.reality.automator.scripts)[e],10)];const i=this._scripts.findIndex(n=>n.id===t);this._scripts.splice(i,1),this._scripts.length===0&&(this._createDefaultScript(),this.clearEditor()),t===this.state.topLevelScript&&(this.stop(),this.state.topLevelScript=this._scripts[0].id),EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED)},toggleRepeat(){this.state.repeat=!this.state.repeat},toggleForceRestart(){this.state.forceRestart=!this.state.forceRestart},toggleFollowExecution(){this.state.followExecution=!this.state.followExecution,this.jumpToActiveLine()},jumpToActiveLine(){const t=this.state;t.topLevelScript===t.editorScript&&this.isRunning&&t.followExecution&&NC.scrollToRawLine(Vc.stack.top.lineNumber)},reset(t){this.stack.clear(),this.push(t)},stop(){this.stack.clear(),this.state.mode=go.PAUSE,this.hasJustCompleted=!0,OC.clearAllHighlightedLines()},pause(){this.state.mode=go.PAUSE},start(t=this.state.topLevelScript,e=go.RUN,i=!0){if(!Player.automatorUnlocked)return;this.hasJustCompleted=!1,this.state.topLevelScript=t,player.reality.automator.execTimer=0;const n=this.findScript(t);n&&(i&&n.compile(),n.commands&&(this.reset(n.commands),this.state.mode=e),zs.isWaiting=!1,player.options.automatorEvents.clearOnRestart&&zs.clearEventLog())},restart(){this.start(this.state.topLevelScript,go.RUN),!this.stack.isEmpty&&this.reset(this.stack._data[0].commands)},changeModes(t){if(Tutorial.moveOn(TUTORIAL_STATE.AUTOMATOR),player.reality.automator.type===Er.BLOCK)BlockAutomator.parseTextFromBlocks(),player.reality.automator.type=Er.TEXT;else{const e=AutomatorTextUI.editor.getDoc().getValue();BlockAutomator.updateEditor(e),Vc.saveScript(t,e),player.reality.automator.type=Er.BLOCK}OC.clearAllHighlightedLines(),EventHub.ui.dispatch(GAME_EVENT.AUTOMATOR_TYPE_CHANGED)},clearEditor(){player.reality.automator.type===Er.BLOCK?BlockAutomator.clearEditor():AutomatorTextUI.clearEditor()},stack:{_data:[],push(t){const e=new JR(this.length);e.initializeNew(t),this._data.push(e)},pop(){this._data.length!==0&&(player.reality.automator.state.stack.pop(),this._data.pop())},clear(){this._data=[],player.reality.automator.state.stack.length=0},initializeFromSave(t){this._data=[];const e=player.reality.automator.state.stack;let i=t;for(let n=0;n<e.length;++n){const r=e[n],a=new JR(n);a.commands=i;const s=i.findIndex(o=>o.lineNumber===r.lineNumber);if(s===-1)return!1;if(a.commandIndex=s,this._data.push(a),n!==e.length-1){if(i[s].blockCommands===void 0)return!1;i=i[s].blockCommands}}return!0},get top(){return this._data[this.length-1]},get length(){if(this._data.length!==player.reality.automator.state.stack.length)throw new Error("Inconsistent stack length");return this._data.length},get isEmpty(){return this._data.length===0}}},b7={get perks(){return Perks.all.filter(t=>t.automatorPoints)},get upgrades(){return RealityUpgrades.all.filter(t=>t.automatorPoints)},get pointsFromPerks(){return this.perks.filter(t=>t.isBought).map(t=>t.automatorPoints).sum()},get pointsFromUpgrades(){return this.upgrades.filter(t=>t.isBought).map(t=>t.automatorPoints).sum()},get pointsFromOther(){return GameDatabase.reality.automator.otherAutomatorPoints.map(t=>t.automatorPoints()).sum()},get totalPoints(){return this.pointsFromPerks+this.pointsFromUpgrades+this.pointsFromOther},get pointsForAutomator(){return 100}},_7={name:"AutomatorBlockSingleInput",props:{constant:{type:String,required:!1,default:""},block:{type:Object,required:!0},blockTarget:{type:String,required:!1,default:""},updateFunction:{type:Function,required:!0},initialSelection:{type:String,required:!1,default:""},patterns:{type:Array,required:!1,default:()=>[]},recursive:{type:Boolean,required:!1,default:!1},currentPath:{type:String,required:!1,default:""}},data(){return{b:{},suppressTooltip:!1,errors:[],hasError:!1,isTextInput:!1,dropdownOptions:[],dropdownSelection:"",textContents:"",pathRef:{},currentNodeOnPath:"",unknownNext:!1,nextNodeCount:0,lineNumber:0,scriptID:0}},computed:{displayedConstant(){return this.constant?this.constant==="BLOB"?"":this.constant:this.dropdownOptions.length===1&&!this.isBoolTarget&&!this.isTextInput?this.dropdownOptions[0]:""},isBoolTarget(){return this.blockTarget==="nowait"||this.blockTarget==="respec"},nextInputKey(){return this.block.targets[this.currentPath.length+1]},nextInputValue(){const e=this.block.targets?this.block[this.nextInputKey]:"";return e?`${e}`:""},hasLongTextInput(){return this.block.cmd==="NOTIFY"||this.block.cmd==="COMMENT"}},created(){if(this.scriptID=player.reality.automator.state.editorScript,this.b=this.block,this.lineNumber=BlockAutomator.lineNumber(BlockAutomator._idArray.indexOf(this.block.id)+1),BlockAutomator.updateIdArray(),!this.constant){if(this.isBoolTarget){this.dropdownOptions=[this.blockTarget.toUpperCase()],this.dropdownSelection=this.block[this.blockTarget]?this.blockTarget.toUpperCase():"";return}if(this.recursive){const t=this.patterns.filter(e=>e.startsWith(this.currentPath)&&e.length>this.currentPath.length).map(e=>e.charAt(this.currentPath.length));for(const e of t){if(this.pathRef[e])continue;const i=this.block[e];this.pathRef[e]=i,this.dropdownOptions.push(...i)}this.calculatePath()}this.dropdownOptions.includes(this.initialSelection)?this.dropdownSelection=this.initialSelection:this.initialSelection&&(this.isTextInput=!0,this.textContents=this.initialSelection),this.dropdownOptions.length===1&&this.dropdownOptions[0].startsWith("*")&&(this.isTextInput=!0,this.textContents=this.initialSelection),this.recalculateErrorCount(),this.suppressTooltip=!0,BlockAutomator.parseTextFromBlocks()}},destroyed(){if(player.reality.automator.type===AUTOMATOR_TYPE.TEXT||Tabs.current._currentSubtab.key!=="automator"||this.scriptID!==player.reality.automator.state.editorScript)return;this.recalculateErrorCount();const t=BlockAutomator.lineNumber(BlockAutomator._idArray.indexOf(this.block.id)+1);if(this.lineNumber!==t){const e=[];for(const i of AutomatorData.cachedErrors)i.startLine!==this.lineNumber&&e.push(i);e.sort((i,n)=>i.startLine-n.startLine),AutomatorData.cachedErrors=e;return}this.recalculateErrorCount(),BlockAutomator.parseTextFromBlocks()},methods:{update(){this.errors=AutomatorData.cachedErrors,this.hasError=this.errors.some(t=>t.startLine===this.lineNumber),this.dropdownSelection.startsWith("*")&&(this.isTextInput=!0),this.calculatePath()},calculatePath(){this.currentNodeOnPath=" ";for(const e of Object.keys(this.pathRef)){const i=this.pathRef[e].some(n=>n.startsWith("*"))&&this.isTextInput;(this.pathRef[e].includes(this.dropdownSelection)||i)&&(this.currentNodeOnPath=e)}const t=this.currentPath+this.currentNodeOnPath;this.nextNodeCount=this.patterns.filter(e=>e.length>t.length&&e.startsWith(t)).length,this.unknownNext=this.nextNodeCount>1||this.dropdownSelection===""&&!this.isTextInput},validateInput(){let t,e;if(this.b.nest){const r=Object.assign({},this.b);r.nest=[],e=BlockAutomator.parseLines([r]),t=PC(e.join(`
`))}else e=BlockAutomator.parseLines([this.b]),t=PC(e[0]);if(e[0]==="undefined")return;const i=[],n=BlockAutomator._idArray.filter(r=>r).length;for(const r of AutomatorData.cachedErrors)r.startLine!==this.lineNumber&&r.startLine<n&&i.push(r);if(t.errors.length>0){const r=t.errors[0];r.startLine=this.lineNumber,i.push(r)}i.sort((r,a)=>r.startLine-a.startLine),AutomatorData.cachedErrors=i},handleFocus(t){this.suppressTooltip=!t,this.changeBlock()},changeBlock(){if(this.updateFunction(this.block,this.block.id),this.blockTarget){let t;if(this.isBoolTarget?t=this.dropdownSelection!=="":this.isTextInput?t=this.textContents:t=this.dropdownSelection,this.block[this.blockTarget]=t,this.calculatePath(),this.nextNodeCount===0&&!this.isBoolTarget){const e=this.block.targets.indexOf(this.blockTarget);for(let i=e+1;i<this.block.targets.length;i++)this.block[this.block.targets[i]]=void 0}}this.recalculateErrorCount()},recalculateErrorCount(){BlockAutomator.parseTextFromBlocks(this.scriptID),this.validateInput(),AutomatorBackend.currentEditingScript.id===AutomatorBackend.currentRunningScript.id&&AutomatorBackend.stop()},errorTooltip(){if(!this.hasError||this.suppressTooltip)return;let t=this.errors.find(e=>e.startLine===this.lineNumber).info;return t=t.replaceAll(`
`,"").replace(/Expecting: one of these possible Token sequences:.*but found: (.*)/ui,"Unexpected input format: $1"),{content:`<div class="c-block-automator-error">
          <div>${t}</div>
        </div>`,html:!0,trigger:"manual",show:!0,classes:["c-block-automator-error-container","general-tooltip"]}},textInputClassObject(){return{"o-automator-block-input":!0,"o-long-text-input":this.hasLongTextInput,"l-error-textbox":this.hasError,"c-automator-input-required":!this.hasError}},dropdownClassObject(){return{"o-automator-block-input":!0,"c-automator-input-required":!this.isBoolTarget,"c-automator-input-optional":this.isBoolTarget,"l-error-textbox":this.hasError&&!this.isBoolTarget&&this.dropdownSelection===""}},revertToDropdown(){this.isTextInput=!1,this.dropdownSelection="",this.textContents=""}}};var w7=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-single-block"},[e.displayedConstant?i("div",{staticClass:"c-automator-single-block o-automator-command c-automator-constant-block",class:{"l-blob":e.constant==="BLOB"}},[e._v(" "+e._s(e.displayedConstant)+" ")]):e.isTextInput?i("div",{staticClass:"c-automator-text-input-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.textContents,expression:"textContents"},{name:"tooltip",rawName:"v-tooltip",value:e.errorTooltip(),expression:"errorTooltip()"}],class:e.textInputClassObject(),domProps:{value:e.textContents},on:{keyup:function(n){return e.changeBlock()},focusin:function(n){return e.handleFocus(!0)},focusout:function(n){return e.handleFocus(!1)},input:function(n){n.target.composing||(e.textContents=n.target.value)}}}),e.dropdownOptions.length>1?i("div",{staticClass:"c-automator-close-text-input fa-solid fa-circle-xmark",on:{click:e.revertToDropdown}}):e._e()]):i("select",{directives:[{name:"model",rawName:"v-model",value:e.dropdownSelection,expression:"dropdownSelection"}],class:e.dropdownClassObject(),on:{change:[function(n){var r=Array.prototype.filter.call(n.target.options,function(a){return a.selected}).map(function(a){var s="_value"in a?a._value:a.value;return s});e.dropdownSelection=n.target.multiple?r:r[0]},function(n){return e.changeBlock()}]}},e._l(["",...e.dropdownOptions],function(n){return i("option",{key:n,domProps:{value:n}},[e._v(" "+e._s(n)+" ")])}),0),e.recursive&&e.nextNodeCount>0?i("AutomatorBlockSingleInput",{key:e.currentNodeOnPath,attrs:{constant:e.unknownNext?"...":"",block:e.block,"block-target":e.nextInputKey,patterns:e.patterns,"initial-selection":e.nextInputValue,"update-function":e.updateFunction,recursive:!0,"current-path":e.currentPath+e.currentNodeOnPath}}):e._e()],1)},E7=[],T7=X(_7,w7,E7,!1,null,"fd1c3b93");const C7=T7.exports,k7={name:"AutomatorBlockSingleRow",components:{draggable:AS,AutomatorBlockSingleInput:C7},props:{block:{type:Object,required:!0},updateBlock:{type:Function,required:!0},deleteBlock:{type:Function,required:!0}},data(){return{b:{},activeLine:-1,eventLine:-1,errorLine:-1}},computed:{lineNumber(){return BlockAutomator.lineNumberFromBlockID(this.b.id)},isActiveLine(){return this.lineNumber===this.activeLine},isEventLine(){return this.lineNumber===this.eventLine},isErrorLine(){return this.lineNumber===this.errorLine}},created(){this.recalculateErrorCount()},destroyed(){this.recalculateErrorCount()},mounted(){this.b=this.block},methods:{update(){const t=AutomatorHighlighter.lines;this.activeLine=t.active,this.eventLine=t.event,this.errorLine=t.error},parseRequest(){BlockAutomator.parseTextFromBlocks()},deleteBlockFromNest(t){const e=this.b.nest.findIndex(i=>i.id===t);this.b.nest.splice(e,1)},updateBlockFromNest(t,e){this.$set(this.b.nest,this.b.nest.findIndex(i=>i.id===e),t),this.parseRequest()},removeBlock(t,e){this.deleteBlock(t,e),this.recalculateErrorCount()},recalculateErrorCount(){AutomatorData.recalculateErrors(),AutomatorBackend.currentEditingScript.id===AutomatorBackend.currentRunningScript.id&&AutomatorBackend.stop()},highlightClass(){return{"c-automator-block-row-active":this.isActiveLine,"c-automator-block-row-event":this.isEventLine,"c-automator-block-row-error":this.isErrorLine}},nextSelection(){return this.b.targets?this.b[this.b.targets[0]]:""}}};var S7=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-block-row--container"},[i("div",{staticClass:"c-automator-block-row",class:e.highlightClass()},[i("AutomatorBlockSingleInput",{attrs:{constant:e.b.alias?e.b.alias:e.b.cmd,block:e.b,"update-function":e.updateBlock}}),e.b.canWait?i("AutomatorBlockSingleInput",{attrs:{block:e.b,"block-target":"nowait","initial-selection":e.b.nowait?"NOWAIT":"","update-function":e.updateBlock}}):e._e(),e.b.canRespec?i("AutomatorBlockSingleInput",{attrs:{block:e.b,"block-target":"respec","initial-selection":e.b.respec?"RESPEC":"","update-function":e.updateBlock}}):e._e(),e.b.allowedPatterns?i("AutomatorBlockSingleInput",{attrs:{block:e.b,"block-target":e.b.targets[0],patterns:e.b.allowedPatterns,"initial-selection":e.nextSelection(),"update-function":e.updateBlock,recursive:!0}}):e._e(),i("div",{staticClass:"o-automator-block-delete",on:{click:function(n){return e.removeBlock(e.b.id)}}},[e._v(" X ")])],1),e.block.nested?i("draggable",{staticClass:"l-automator-nested-block",attrs:{group:"code-blocks"},model:{value:e.block.nest,callback:function(n){e.$set(e.block,"nest",n)},expression:"block.nest"}},e._l(e.block.nest,function(n){return i("AutomatorBlockSingleRow",{key:n.id,attrs:{block:n,"update-block":e.updateBlockFromNest,"delete-block":e.deleteBlockFromNest}})}),1):e._e()],1)},A7=[],x7=X(k7,S7,A7,!1,null,"4561265c");const D7=x7.exports,I7={name:"AutomatorBlockEditor",components:{AutomatorBlockSingleRow:D7,draggable:AS},computed:{lines:{get(){return this.$viewModel.tabs.reality.automator.lines},set(t){this.$viewModel.tabs.reality.automator.lines=t}},numberOfLines(){return this.lines.reduce((t,e)=>t+Fa.numberOfLinesInBlock(e),0)}},mounted(){Fa.initialize(),AutomatorData.recalculateErrors(),Fa.editor.scrollTo(0,Fa.previousScrollPosition),Fa.gutter.style.bottom=`${Fa.editor.scrollTop}px`},methods:{update(){AutomatorBackend.state.followExecution&&AutomatorBackend.jumpToActiveLine();const t=AutomatorBackend.isOn?Fa.lineNumberFromBlockID(Fa.currentBlockId):-1;AutomatorHighlighter.updateHighlightedLine(t,LineEnum.Active)},setPreviousScroll(){Fa.previousScrollPosition=this.$refs.blockEditorElement.scrollTop,Fa.gutter.style.bottom=`${Fa.editor.scrollTop}px`},parseRequest(){Fa.updateIdArray(),AutomatorData.recalculateErrors(),Fa.parseTextFromBlocks()},updateBlock(t,e){this.lines[this.lines.findIndex(i=>i.id===e)]=t,this.parseRequest()},deleteBlock(t){const e=this.lines.findIndex(i=>i.id===t);this.lines.splice(e,1),this.parseRequest()}}},Fa={editor:null,gutter:null,_idArray:[],initialize(){this.editor=document.getElementsByClassName("c-automator-block-editor")[0],this.gutter=document.getElementsByClassName("c-automator-block-editor--gutter")[0]},get lines(){return ui.view.tabs.reality.automator.lines},set lines(t){ui.view.tabs.reality.automator.lines=t,this.updateIdArray()},get currentBlockId(){return AutomatorBackend.stack.isEmpty?!1:this._idArray[AutomatorBackend.stack.top.lineNumber-1]},lineNumber(t){const e=this._idArray.map((i,n)=>i?-1:n+1).filter(i=>i!==-1);return t-e.countWhere(i=>i<=t)},lineNumberFromBlockID(t){return this.lineNumber(this._idArray.indexOf(t)+1)},parseTextFromBlocks(t){const e=this.parseLines(Fa.lines).join(`
`),i=t??ui.view.tabs.reality.automator.editorScriptID;AutomatorData.recalculateErrors(),AutomatorBackend.saveScript(i,e)},updateEditor(t){const e=Zg(t).blocks;return this.lines=e,e},hasUnparsableCommands(t){const e=Zg(t);return e.validatedBlocks!==e.visitedBlocks},generateText(t,e=0){let i=`${"	".repeat(e)}${t.cmd} `;i=i.replace("COMMENT","//").replace("BLOB","blob  "),t.canWait&&t.nowait&&(i=i.replace(/(\S+)/u,"$1 NOWAIT")),t.respec&&(i+=" RESPEC");const n=["genericInput1","compOperator","genericInput2","singleSelectionInput","singleTextInput"];for(const r of n)t[r]&&(i+=` ${t[r]}`);return(t.cmd==="IF"||t.cmd==="WHILE"||t.cmd==="UNTIL")&&(i+=" {"),i.replace("  "," ")},parseLines(t,e=0){const i=[];for(let n=0;n<t.length;n++)i.push(this.generateText(t[n],e)),(t[n].cmd==="IF"||t[n].cmd==="WHILE"||t[n].cmd==="UNTIL")&&(i.push(...this.parseLines(t[n].nest,e+1)),i.push(`${"	".repeat(e)}}`));return i},blockIdArray(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];e.push(n.id),n.nested&&e.push(...this.blockIdArray(n.nest),void 0)}return e},updateIdArray(){this._idArray=this.blockIdArray(this.lines)},numberOfLinesInBlock(t){return t.nested?Math.max(t.nest.reduce((e,i)=>e+this.numberOfLinesInBlock(i),1),2):1},clearEditor(){setTimeout(()=>this.lines=[],0)},previousScrollPosition:0};var R7=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-block-editor--container"},[i("div",{ref:"editorGutter",staticClass:"c-automator-block-editor--gutter"},e._l(e.numberOfLines,function(n){return i("div",{key:n,staticClass:"c-automator-block-line-number",style:{top:`${(n-1)*3.45}rem`}},[e._v(" "+e._s(n)+" ")])}),0),i("div",{ref:"blockEditorElement",staticClass:"c-automator-block-editor",on:{scroll:function(n){return e.setPreviousScroll()}}},[i("draggable",{staticClass:"c-automator-blocks",attrs:{group:"code-blocks","ghost-class":"c-automator-block-row-ghost"},on:{end:e.parseRequest},model:{value:e.lines,callback:function(n){e.lines=n},expression:"lines"}},e._l(e.lines,function(n,r){return i("AutomatorBlockSingleRow",{key:n.id+1e4*r,attrs:{block:n,"update-block":e.updateBlock,"delete-block":e.deleteBlock}})}),1)],1)])},M7=[],P7=X(I7,R7,M7,!1,null,"5e25ee3f");const DU=P7.exports,O7=Object.freeze(Object.defineProperty({__proto__:null,BlockAutomator:Fa,default:DU},Symbol.toStringTag,{value:"Module"})),N7={name:"AutomatorBlocks",components:{draggable:AS},data(){return{allBlocks:FS.filter(t=>!G7.includes(t.cmd)),blocks:[]}},methods:{update(){this.blocks=this.allBlocks.filter(t=>{var e;return((e=t.isUnlocked)==null?void 0:e.call(t))??!0})},clone(t){const e={...t,id:UIID.next()};return t.nested&&!t.nest&&(e.nest=[]),AutomatorData.recalculateErrors(),e}}},p_=["<",">",">=","<="],m_=["AM","IP","EP","RM","INFINITIES","BANKED INFINITIES","ETERNITIES","REALITIES","PENDING IP","PENDING EP","PENDING TP","PENDING RM","PENDING GLYPH LEVEL","DT","TP","RG","REP","TT","TOTAL TT","SPENT TT","TOTAL COMPLETIONS","PENDING COMPLETIONS","EC1 COMPLETIONS","EC2 COMPLETIONS","EC3 COMPLETIONS","EC4 COMPLETIONS","EC5 COMPLETIONS","EC6 COMPLETIONS","EC7 COMPLETIONS","EC8 COMPLETIONS","EC9 COMPLETIONS","EC10 COMPLETIONS","EC11 COMPLETIONS","EC12 COMPLETIONS"],HT=["INFINITY","ETERNITY","REALITY"],FS=[{cmd:"STUDIES RESPEC",alias:"RESPEC TIME STUDIES"},{cmd:"STUDIES LOAD",alias:"LOAD STUDY PRESET",allowedPatterns:["AB"],A:["ID","NAME"],B:["*"],targets:["singleSelectionInput","singleTextInput"],canWait:!0},{cmd:"STUDIES PURCHASE",alias:"PURCHASE STUDIES",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"],canWait:!0},{cmd:"INFINITY",canWait:!0},{cmd:"ETERNITY",canRespec:!0,canWait:!0},{cmd:"REALITY",canRespec:!0,canWait:!0,isUnlocked:()=>RealityUpgrade(25).isBought},{cmd:"UNLOCK",allowedPatterns:["AB","C"],A:["EC"],B:["*"],C:["DILATION"],targets:["singleSelectionInput","singleTextInput"],canWait:!0},{cmd:"START",allowedPatterns:["AB","C"],A:["EC"],B:["*"],C:["DILATION"],targets:["singleSelectionInput","singleTextInput"]},{cmd:"AUTO",alias:"CHANGE AUTOBUYER SETTING",allowedPatterns:["AB"],A:HT,B:["ON","OFF","* AUTOBUYER SETTING"],targets:["singleSelectionInput","singleTextInput"]},{cmd:"BLACK HOLE",alias:"TURN BLACK HOLE",allowedPatterns:["A"],A:["ON","OFF"],targets:["singleSelectionInput"],isUnlocked:()=>BlackHole(1).isUnlocked},{cmd:"STORE GAME TIME",alias:"SET GAME TIME STORAGE TO",allowedPatterns:["A"],A:["ON","OFF","USE"],targets:["singleSelectionInput"],isUnlocked:()=>Enslaved.isUnlocked},{cmd:"NOTIFY",alias:"GAME NOTIFICATION:",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"]},{cmd:"COMMENT",alias:"NOTE:",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"]},{cmd:"WAIT",alias:"PAUSE AUTOMATOR UNTIL",allowedPatterns:["A","DE","BCB"],A:HT,B:[...m_,"* SPECIFIED CONSTANT"],C:p_,D:["BLACK HOLE"],E:["OFF","BH1","BH2"],targets:["genericInput1","compOperator","genericInput2"]},{cmd:"PAUSE",alias:"PAUSE AUTOMATOR FOR",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"]},{cmd:"IF",alias:"ENTER BLOCK IF",allowedPatterns:["ABA"],A:[...m_,"* SPECIFIED CONSTANT"],B:p_,targets:["genericInput1","compOperator","genericInput2"],nested:!0},{cmd:"UNTIL",alias:"REPEAT BLOCK UNTIL",allowedPatterns:["A","BCB"],A:HT,B:[...m_,"* SPECIFIED CONSTANT"],C:p_,targets:["genericInput1","compOperator","genericInput2"],nested:!0},{cmd:"WHILE",alias:"REPEAT BLOCK WHILE",allowedPatterns:["ABA"],A:[...m_,"* SPECIFIED CONSTANT"],B:p_,targets:["genericInput1","compOperator","genericInput2"],nested:!0},{cmd:"BLOB"},{cmd:"STOP",alias:"STOP EXECUTION"}],G7=["BLOB"],U7=FS.mapToObject(t=>t.cmd,t=>t);var L7=function(){var e=this,i=e._self._c;return i("draggable",{staticClass:"o-drag-cancel-region",attrs:{group:"code-blocks","ghost-class":"null-block",draggable:".draggable-blocks"}},[i("p",[e._v(" Drag and drop these blocks to the area on the left! The blocks have names matching the commands in the reference page, but may change appearance after being placed to describe what they do in a more natural-sounding manner. If a block changes in this way, the alternate text will be shown as a tooltip when going to drag it over. ")]),i("br"),i("p",[e._v(" Inputs with a "),i("span",{staticClass:"c-automator-input-optional"},[e._v("brown")]),e._v(" color are optional, while inputs with a "),i("span",{staticClass:"c-automator-input-required"},[e._v("teal")]),e._v(" color are required. "),i("span",{staticClass:"c-automator-block-row-error"},[e._v("Red")]),e._v(" inputs are causing errors and must be changed before the script can be run. For more details, check the Scripting Information pane. ")]),i("p",[e._v(" Options in dropdown menus which start with a * will be replaced with a text box. This can be turned back into a dropdown by clicking the "),i("i",{staticClass:"fa-solid fa-circle-xmark"}),e._v(" on the right side of the text box. ")]),i("draggable",{staticClass:"block-container",attrs:{list:e.blocks,group:{name:"code-blocks",pull:"clone",put:!1},sort:!1,clone:e.clone}},e._l(e.blocks,function(n){return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.alias,expression:"block.alias"}],key:n.id,staticClass:"o-automator-command o-automator-block-list draggable-blocks"},[e._v(" "+e._s(n.cmd)+" ")])}),0),i("p",[e._v(" Note: Blocks and their contents count towards the character limits as if the command was typed in text mode. ")])],1)},B7=[],$7=X(N7,L7,B7,!1,null,"da2b831d");const IU=$7.exports,F7=Object.freeze(Object.defineProperty({__proto__:null,automatorBlocks:FS,automatorBlocksMap:U7,default:IU},Symbol.toStringTag,{value:"Module"})),H7={name:"AutomatorTextEditor",props:{currentScriptId:{type:[Number,String],required:!0}},data(){return{markedLineNumber:0,unclearedLines:!1,isActiveScript:!1}},computed:{UI(){return Sh.initialize(),Sh},fullScreen(){return this.$viewModel.tabs.reality.automator.fullScreen}},watch:{currentScriptId:{handler(t,e){this.unmarkActiveLine();const i=player.reality.automator.scripts;(!this.UI.documents[t]||this.UI.documents[t].getValue()!==i[t].content)&&(this.UI.documents[t]=CodeMirror.Doc(i[t].content,"automato")),this.UI.editor.getDoc()!==this.UI.documents[t]&&this.UI.editor.swapDoc(this.UI.documents[t]),this.UI.documents[e]!==void 0&&i[e]===void 0&&delete this.UI.documents[e]},immediate:!0},fullScreen(){this.$nextTick(()=>this.UI.editor.refresh())}},created(){Sh.initialize(),this.on$(GAME_EVENT.GAME_LOAD,()=>this.onGameLoad()),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,()=>this.onGameLoad())},mounted(){this.$refs.container.appendChild(this.UI.container),this.$nextTick(()=>{this.UI.editor.refresh(),this.UI.editor.performLint(),this.UI.editor.scrollTo(null,Sh.savedVertPos)})},beforeDestroy(){AutomatorHighlighter.clearAllHighlightedLines(),Sh.savedVertPos=Sh.editor.doc.scrollTop,this.$refs.container.removeChild(this.UI.container)},methods:{update(){AutomatorBackend.jumpToActiveLine(),this.unclearedLines&&!AutomatorBackend.isOn&&this.clearAllActiveLines(),AutomatorBackend.isOn?this.setActiveState(`${AutomatorBackend.state.topLevelScript}`,AutomatorBackend.stack.top.lineNumber):this.setActiveState("",-1)},onGameLoad(){this.UI.documents={}},unmarkActiveLine(){AutomatorHighlighter.updateHighlightedLine(-1,LineEnum.Active)},markActiveLine(t){AutomatorHighlighter.updateHighlightedLine(t,LineEnum.Active),this.unclearedLines=!0},clearAllActiveLines(){AutomatorHighlighter.clearAllHighlightedLines(),this.unclearedLines=!1},setActiveState(t,e){`${this.currentScriptId}`===t?this.markActiveLine(e):this.unmarkActiveLine()}}},Sh={documents:{},wrapper:null,editor:null,container:null,textArea:null,mode:{mode:"automato",lint:"automato",lineNumbers:!0,theme:"liquibyte",tabSize:2,extraKeys:{Tab:t=>t.execCommand("indentMore"),"Shift-Tab":t=>t.execCommand("indentLess")},autoCloseBrackets:!0,lineWrapping:!0},initialize(){this.container||(this.setUpContainer(),this.setUpEditor(),EventHub.ui.on(GAME_EVENT.GAME_LOAD,()=>this.documents={}))},setUpContainer(){this.container=document.createElement("div"),this.container.className="l-automator-editor__codemirror-container",this.textArea=document.createElement("textarea"),this.container.appendChild(this.textArea)},setUpEditor(){this.editor=CodeMirror.fromTextArea(this.textArea,this.mode),this.editor.on("beforeChange",(t,e)=>{e.origin==="undo"&&e.cancel()}),this.editor.on("keydown",(t,e)=>{const i=e.key;if(e.ctrlKey&&["z","y"].includes(i)){i==="z"&&AutomatorData.undoScriptEdit(),i==="y"&&AutomatorData.redoScriptEdit();return}t.state.completionActive||e.ctrlKey||e.altKey||e.metaKey||!/^[a-zA-Z0-9 \t]$/u.test(i)||CodeMirror.commands.autocomplete(t,null,{completeSingle:!1})}),this.editor.on("change",(t,e)=>{const i=ui.view.tabs.reality.automator.editorScriptID,n=t.getDoc().getValue();e.origin!=="setValue"&&(AutomatorBackend.saveScript(i,n),AutomatorData.redoBuffer=[]),AutomatorData.recalculateErrors(),AutomatorData.currentErrors().length>t.doc.size&&SecretAchievement(48).unlock(),AutomatorHighlighter.clearAllHighlightedLines()})},clearEditor(){this.editor||(this.setUpContainer(),this.setUpEditor()),this.editor.setValue(""),this.editor.clearHistory(),this.editor.clearGutter("gutterId")},savedVertPos:0};var V7=function(){var e=this,i=e._self._c;return i("div",{ref:"container",staticClass:"c-automator-editor l-automator-editor l-automator-pane__content"})},Y7=[],q7=X(H7,V7,Y7,!1,null,null);const RU=q7.exports,W7=Object.freeze(Object.defineProperty({__proto__:null,AutomatorTextUI:Sh,default:RU},Symbol.toStringTag,{value:"Module"}));/*
 * vis-network - network
 * http://visjs.org/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 5.1.1
 * @date    2019-07-31T11:02:13Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2018-2019 visjs contributors, https://github.com/visjs
 *
 * @license 
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function j7(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var z7=j7;function X7(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var K7=X7;function Z7(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}var Q7=Z7;function J7(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var ez=J7;function tz(t){return K7(t)||Q7(t)||ez()}var iz=tz,nz=typeof globalThis>"u"?typeof window>"u"?typeof global>"u"?typeof self>"u"?{}:self:global:window:globalThis;function rz(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function eM(t,e){return e={exports:{}},t(e,e.exports),e.exports}for(var Rd=eM(function(t){function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(n)}function i(n){return t.exports=typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?i=function(r){return e(r)}:i=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":e(r)},i(n)}t.exports=i}),Oc=eM(function(t){var e=Math.round,i=Math.pow,n=Math.max,r=Math.abs,a=Math.min,s=Math.floor,o=Math.ceil;(function(c,d){t.exports=d()})(nz,function(){function c(){return Rs.apply(null,arguments)}function d(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function p(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function m(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;for(var h in l)if(l.hasOwnProperty(h))return!1;return!0}function y(l){return l===void 0}function _(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function w(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function C(l,h){var b=[],T;for(T=0;T<l.length;++T)b.push(h(l[T],T));return b}function k(l,h){return Object.prototype.hasOwnProperty.call(l,h)}function S(l,h){for(var b in h)k(h,b)&&(l[b]=h[b]);return k(h,"toString")&&(l.toString=h.toString),k(h,"valueOf")&&(l.valueOf=h.valueOf),l}function x(l,h,b,T){return hr(l,h,b,T,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function D(l){return l._pf==null&&(l._pf=O()),l._pf}function B(l){if(l._isValid==null){var h=D(l),b=Ms.call(h.parsedDateParts,function(M){return M!=null}),T=!isNaN(l._d.getTime())&&0>h.overflow&&!h.empty&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&b);if(l._strict&&(T=T&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=T;else return T}return l._isValid}function P(l){var h=x(NaN);return l==null?D(h).userInvalidated=!0:S(D(h),l),h}function R(l,h){var b,T,M;if(y(h._isAMomentObject)||(l._isAMomentObject=h._isAMomentObject),y(h._i)||(l._i=h._i),y(h._f)||(l._f=h._f),y(h._l)||(l._l=h._l),y(h._strict)||(l._strict=h._strict),y(h._tzm)||(l._tzm=h._tzm),y(h._isUTC)||(l._isUTC=h._isUTC),y(h._offset)||(l._offset=h._offset),y(h._pf)||(l._pf=D(h)),y(h._locale)||(l._locale=h._locale),0<Ia.length)for(b=0;b<Ia.length;b++)T=Ia[b],M=h[T],y(M)||(l[T]=M);return l}function I(l){R(this,l),this._d=new Date(l._d==null?NaN:l._d.getTime()),this.isValid()||(this._d=new Date(NaN)),es===!1&&(es=!0,c.updateOffset(this),es=!1)}function F(l){return l instanceof I||l!=null&&l._isAMomentObject!=null}function $(l){return 0>l?o(l)||0:s(l)}function L(l){var h=+l,b=0;return h!=0&&isFinite(h)&&(b=$(h)),b}function W(l,h,b){var T=a(l.length,h.length),M=r(l.length-h.length),G=0,ee;for(ee=0;ee<T;ee++)(b&&l[ee]!==h[ee]||!b&&L(l[ee])!==L(h[ee]))&&G++;return G+M}function j(l){c.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function z(l,h){var b=!0;return S(function(){if(c.deprecationHandler!=null&&c.deprecationHandler(null,l),b){for(var T=[],M=0,G;M<arguments.length;M++){if(G="",typeof arguments[M]=="object"){for(var ee in G+=`
[`+M+"] ",arguments[0])G+=ee+": "+arguments[0][ee]+", ";G=G.slice(0,-2)}else G=arguments[M];T.push(G)}j(l+`
Arguments: `+Array.prototype.slice.call(T).join("")+`
`+new Error().stack),b=!1}return h.apply(this,arguments)},h)}function re(l,h){c.deprecationHandler!=null&&c.deprecationHandler(l,h),Fo[l]||(j(h),Fo[l]=!0)}function ce(l){return l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function ge(l){var h,b;for(b in l)h=l[b],ce(h)?this[b]=h:this["_"+b]=h;this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function be(l,h){var b=S({},l),T;for(T in h)k(h,T)&&(p(l[T])&&p(h[T])?(b[T]={},S(b[T],l[T]),S(b[T],h[T])):h[T]==null?delete b[T]:b[T]=h[T]);for(T in l)k(l,T)&&!k(h,T)&&p(l[T])&&(b[T]=S({},b[T]));return b}function ue(l){l!=null&&this.set(l)}function se(l,h){var b=l.toLowerCase();Zn[b]=Zn[b+"s"]=Zn[h]=l}function Z(l){return typeof l=="string"?Zn[l]||Zn[l.toLowerCase()]:void 0}function K(l){var h={},b,T;for(T in l)k(l,T)&&(b=Z(T),b&&(h[b]=l[T]));return h}function q(l,h){Qn[l]=h}function ie(l){var h=[];for(var b in l)h.push({unit:b,priority:Qn[b]});return h.sort(function(T,M){return T.priority-M.priority}),h}function le(l,h,b){var T=""+r(l),M=h-T.length;return(0<=l?b?"+":"":"-")+i(10,n(0,M)).toString().substr(1)+T}function Q(l,h,b,T){var M=T;typeof T=="string"&&(M=function(){return this[T]()}),l&&(xn[l]=M),h&&(xn[h[0]]=function(){return le(M.apply(this,arguments),h[1],h[2])}),b&&(xn[b]=function(){return this.localeData().ordinal(M.apply(this,arguments),l)})}function fe(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function de(l){var h=l.match(El),b,T;for(b=0,T=h.length;b<T;b++)h[b]=xn[h[b]]?xn[h[b]]:fe(h[b]);return function(M){var G="",ee;for(ee=0;ee<T;ee++)G+=ce(h[ee])?h[ee].call(M,l):h[ee];return G}}function he(l,h){return l.isValid()?(h=ve(h,l.localeData()),Ma[h]=Ma[h]||de(h),Ma[h](l)):l.localeData().invalidDate()}function ve(l,h){function b(M){return h.longDateFormat(M)||M}var T=5;for(ca.lastIndex=0;0<=T&&ca.test(l);)l=l.replace(ca,b),ca.lastIndex=0,T-=1;return l}function ne(l,h,b){Os[l]=ce(h)?h:function(T){return T&&b?b:h}}function Bt(l,h){return k(Os,l)?Os[l](h._strict,h._locale):new RegExp(It(l))}function It(l){return ht(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,b,T,M,G){return b||T||M||G}))}function ht(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Se(l,h){var b=h,T;for(typeof l=="string"&&(l=[l]),_(h)&&(b=function(M,G){G[h]=L(M)}),T=0;T<l.length;T++)ts[l[T]]=b}function Jt(l,h){Se(l,function(b,T,M,G){M._w=M._w||{},h(b,M._w,M,G)})}function $t(l,h,b){h!=null&&k(ts,l)&&ts[l](h,b._a,b,l)}function St(l){return xt(l)?366:365}function xt(l){return l%4==0&&l%100!=0||l%400==0}function Ct(l,h){return function(b){return b==null?nt(this,l):(De(this,l,b),c.updateOffset(this,h),this)}}function nt(l,h){return l.isValid()?l._d["get"+(l._isUTC?"UTC":"")+h]():NaN}function De(l,h,b){l.isValid()&&!isNaN(b)&&(h==="FullYear"&&xt(l.year())&&l.month()===1&&l.date()===29?l._d["set"+(l._isUTC?"UTC":"")+h](b,l.month(),st(b,l.month())):l._d["set"+(l._isUTC?"UTC":"")+h](b))}function Ve(l,h){if(typeof l=="object"){l=K(l);for(var b=ie(l),T=0;T<b.length;T++)this[b[T].unit](l[b[T].unit])}else if(l=Z(l),ce(this[l]))return this[l](h);return this}function Pt(l,h){return(l%h+h)%h}function st(l,h){if(isNaN(l)||isNaN(h))return NaN;var b=Pt(h,12);return l+=(h-b)/12,b===1?xt(l)?29:28:31-b%7%2}function _i(l,h,b){var T=l.toLocaleLowerCase(),M,G,ee;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],M=0;12>M;++M)ee=x([2e3,M]),this._shortMonthsParse[M]=this.monthsShort(ee,"").toLocaleLowerCase(),this._longMonthsParse[M]=this.months(ee,"").toLocaleLowerCase();return b?h==="MMM"?(G=ct.call(this._shortMonthsParse,T),G===-1?null:G):(G=ct.call(this._longMonthsParse,T),G===-1?null:G):h==="MMM"?(G=ct.call(this._shortMonthsParse,T),G!==-1?G:(G=ct.call(this._longMonthsParse,T),G===-1?null:G)):(G=ct.call(this._longMonthsParse,T),G!==-1?G:(G=ct.call(this._shortMonthsParse,T),G===-1?null:G))}function mi(l,h,b){var T,M,G;if(this._monthsParseExact)return _i.call(this,l,h,b);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),T=0;12>T;T++)if(M=x([2e3,T]),b&&!this._longMonthsParse[T]&&(this._longMonthsParse[T]=new RegExp("^"+this.months(M,"").replace(".","")+"$","i"),this._shortMonthsParse[T]=new RegExp("^"+this.monthsShort(M,"").replace(".","")+"$","i")),b||this._monthsParse[T]||(G="^"+this.months(M,"")+"|^"+this.monthsShort(M,""),this._monthsParse[T]=new RegExp(G.replace(".",""),"i")),b&&h==="MMMM"&&this._longMonthsParse[T].test(l)||b&&h==="MMM"&&this._shortMonthsParse[T].test(l)||!b&&this._monthsParse[T].test(l))return T}function wi(l,h){var b;if(!l.isValid())return l;if(typeof h=="string"){if(/^\d+$/.test(h))h=L(h);else if(h=l.localeData().monthsParse(h),!_(h))return l}return b=a(l.date(),st(l.year(),h)),l._d["set"+(l._isUTC?"UTC":"")+"Month"](h,b),l}function Ei(l){return l==null?nt(this,"Month"):(wi(this,l),c.updateOffset(this,!0),this)}function di(){function l(ee,we){return we.length-ee.length}var h=[],b=[],T=[],M,G;for(M=0;12>M;M++)G=x([2e3,M]),h.push(this.monthsShort(G,"")),b.push(this.months(G,"")),T.push(this.months(G,"")),T.push(this.monthsShort(G,""));for(h.sort(l),b.sort(l),T.sort(l),M=0;12>M;M++)h[M]=ht(h[M]),b[M]=ht(b[M]);for(M=0;24>M;M++)T[M]=ht(T[M]);this._monthsRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Xi(l,h,b,T,M,G,ee){var we;return 100>l&&0<=l?(we=new Date(l+400,h,b,T,M,G,ee),isFinite(we.getFullYear())&&we.setFullYear(l)):we=new Date(l,h,b,T,M,G,ee),we}function Rt(l){var h;if(100>l&&0<=l){var b=Array.prototype.slice.call(arguments);b[0]=l+400,h=new Date(Date.UTC.apply(null,b)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(l)}else h=new Date(Date.UTC.apply(null,arguments));return h}function jt(l,h,b){var T=7+h-b,M=(7+Rt(l,0,T).getUTCDay()-h)%7;return-M+T-1}function Xe(l,h,b,T,M){var G=jt(l,T,M),ee=1+7*(h-1)+(7+b-T)%7+G,we,Oe;return 0>=ee?(we=l-1,Oe=St(we)+ee):ee>St(l)?(we=l+1,Oe=ee-St(l)):(we=l,Oe=ee),{year:we,dayOfYear:Oe}}function zt(l,h,b){var T=jt(l.year(),h,b),M=s((l.dayOfYear()-T-1)/7)+1,G,ee;return 1>M?(ee=l.year()-1,G=M+ut(ee,h,b)):M>ut(l.year(),h,b)?(G=M-ut(l.year(),h,b),ee=l.year()+1):(ee=l.year(),G=M),{week:G,year:ee}}function ut(l,h,b){var T=jt(l,h,b),M=jt(l+1,h,b);return(St(l)-T+M)/7}function Ot(l,h){return typeof l=="string"?isNaN(l)?(l=h.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10):l}function ye(l,h){return typeof l=="string"?h.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Pe(l,h){return l.slice(h,7).concat(l.slice(0,h))}function Le(l,h,b){var T=l.toLocaleLowerCase(),M,G,ee;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],M=0;7>M;++M)ee=x([2e3,1]).day(M),this._minWeekdaysParse[M]=this.weekdaysMin(ee,"").toLocaleLowerCase(),this._shortWeekdaysParse[M]=this.weekdaysShort(ee,"").toLocaleLowerCase(),this._weekdaysParse[M]=this.weekdays(ee,"").toLocaleLowerCase();return b?h==="dddd"?(G=ct.call(this._weekdaysParse,T),G===-1?null:G):h==="ddd"?(G=ct.call(this._shortWeekdaysParse,T),G===-1?null:G):(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G):h==="dddd"?(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._shortWeekdaysParse,T),G!==-1?G:(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G))):h==="ddd"?(G=ct.call(this._shortWeekdaysParse,T),G!==-1?G:(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G))):(G=ct.call(this._minWeekdaysParse,T),G!==-1?G:(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._shortWeekdaysParse,T),G===-1?null:G)))}function lt(l,h,b){var T,M,G;if(this._weekdaysParseExact)return Le.call(this,l,h,b);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),T=0;7>T;T++)if(M=x([2e3,1]).day(T),b&&!this._fullWeekdaysParse[T]&&(this._fullWeekdaysParse[T]=new RegExp("^"+this.weekdays(M,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[T]=new RegExp("^"+this.weekdaysShort(M,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[T]=new RegExp("^"+this.weekdaysMin(M,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[T]||(G="^"+this.weekdays(M,"")+"|^"+this.weekdaysShort(M,"")+"|^"+this.weekdaysMin(M,""),this._weekdaysParse[T]=new RegExp(G.replace(".",""),"i")),b&&h==="dddd"&&this._fullWeekdaysParse[T].test(l)||b&&h==="ddd"&&this._shortWeekdaysParse[T].test(l)||b&&h==="dd"&&this._minWeekdaysParse[T].test(l)||!b&&this._weekdaysParse[T].test(l))return T}function tt(){function l(Qt,tr){return tr.length-Qt.length}var h=[],b=[],T=[],M=[],G,ee,we,Oe,Tt;for(G=0;7>G;G++)ee=x([2e3,1]).day(G),we=this.weekdaysMin(ee,""),Oe=this.weekdaysShort(ee,""),Tt=this.weekdays(ee,""),h.push(we),b.push(Oe),T.push(Tt),M.push(we),M.push(Oe),M.push(Tt);for(h.sort(l),b.sort(l),T.sort(l),M.sort(l),G=0;7>G;G++)b[G]=ht(b[G]),T[G]=ht(T[G]),M[G]=ht(M[G]);this._weekdaysRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function at(){return this.hours()%12||12}function Xt(l,h){Q(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}function hi(l,h){return h._meridiemParse}function Sn(l){return l&&l.toLowerCase().replace("_","-")}function ks(l){for(var h=0,b,T,M,G;h<l.length;){for(G=Sn(l[h]).split("-"),b=G.length,T=Sn(l[h+1]),T=T?T.split("-"):null;0<b;){if(M=ur(G.slice(0,b).join("-")),M)return M;if(T&&T.length>=b&&W(G,T,!0)>=b-1)break;b--}h++}return er}function ur(l){var h=null;if(!dt[l]&&t&&t.exports)try{h=er._abbr,rz("./locale/"+l),Ki(h)}catch{}return dt[l]}function Ki(l,h){var b;return l&&(b=y(h)?Pi(l):Ss(l,h),b?er=b:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),er._abbr}function Ss(l,h){if(h!==null){var b=fo,T;if(h.abbr=l,dt[l]!=null)re("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),b=dt[l]._config;else if(h.parentLocale!=null)if(dt[h.parentLocale]!=null)b=dt[h.parentLocale]._config;else if(T=ur(h.parentLocale),T!=null)b=T._config;else return mr[h.parentLocale]||(mr[h.parentLocale]=[]),mr[h.parentLocale].push({name:l,config:h}),null;return dt[l]=new ue(be(b,h)),mr[l]&&mr[l].forEach(function(M){Ss(M.name,M.config)}),Ki(l),dt[l]}return delete dt[l],null}function Pi(l){var h;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return er;if(!d(l)){if(h=ur(l),h)return h;l=[l]}return ks(l)}function qd(){return wl(dt)}function Sa(l){var h=l._a,b;return h&&D(l).overflow===-2&&(b=0>h[1]||11<h[1]?1:1>h[2]||h[2]>st(h[0],h[1])?2:0>h[3]||24<h[3]||h[3]===24&&(h[4]!==0||h[5]!==0||h[6]!==0)?3:0>h[4]||59<h[4]?4:0>h[5]||59<h[5]?5:0>h[6]||999<h[6]?6:-1,D(l)._overflowDayOfYear&&(0>b||2<b)&&(b=2),D(l)._overflowWeeks&&b===-1&&(b=7),D(l)._overflowWeekday&&b===-1&&(b=8),D(l).overflow=b),l}function Nn(l,h,b){return l??h??b}function Wd(l){var h=new Date(c.now());return l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function Aa(l){var h=[],b,T,M,G,ee;if(!l._d){for(M=Wd(l),l._w&&l._a[2]==null&&l._a[1]==null&&jd(l),l._dayOfYear!=null&&(ee=Nn(l._a[0],M[0]),(l._dayOfYear>St(ee)||l._dayOfYear===0)&&(D(l)._overflowDayOfYear=!0),T=Rt(ee,0,l._dayOfYear),l._a[1]=T.getUTCMonth(),l._a[2]=T.getUTCDate()),b=0;3>b&&l._a[b]==null;++b)l._a[b]=h[b]=M[b];for(;7>b;b++)l._a[b]=h[b]=l._a[b]==null?b===2?1:0:l._a[b];l._a[3]===24&&l._a[4]===0&&l._a[5]===0&&l._a[6]===0&&(l._nextDay=!0,l._a[3]=0),l._d=(l._useUTC?Rt:Xi).apply(null,h),G=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[3]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==G&&(D(l).weekdayMismatch=!0)}}function jd(l){var h,b,T,M,G,ee,we,Oe;if(h=l._w,h.GG!=null||h.W!=null||h.E!=null)G=1,ee=4,b=Nn(h.GG,l._a[0],zt(Ne(),1,4).year),T=Nn(h.W,1),M=Nn(h.E,1),(1>M||7<M)&&(Oe=!0);else{G=l._locale._week.dow,ee=l._locale._week.doy;var Tt=zt(Ne(),G,ee);b=Nn(h.gg,l._a[0],Tt.year),T=Nn(h.w,Tt.week),h.d==null?h.e==null?M=G:(M=h.e+G,(0>h.e||6<h.e)&&(Oe=!0)):(M=h.d,(0>M||6<M)&&(Oe=!0))}1>T||T>ut(b,G,ee)?D(l)._overflowWeeks=!0:Oe==null?(we=Xe(b,T,M,G,ee),l._a[0]=we.year,l._dayOfYear=we.dayOfYear):D(l)._overflowWeekday=!0}function lo(l){var h=l._i,b=rh.exec(h)||mu.exec(h),T,M,G,ee,we,Oe;if(b){for(D(l).iso=!0,T=0,M=pa.length;T<M;T++)if(pa[T][1].exec(b[1])){ee=pa[T][0],G=pa[T][2]!==!1;break}if(ee==null)return void(l._isValid=!1);if(b[3]){for(T=0,M=zr.length;T<M;T++)if(zr[T][1].exec(b[3])){we=(b[2]||" ")+zr[T][0];break}if(we==null)return void(l._isValid=!1)}if(!G&&we!=null)return void(l._isValid=!1);if(b[4])if(yu.exec(b[4]))Oe="Z";else return void(l._isValid=!1);l._f=ee+(we||"")+(Oe||""),dr(l)}else l._isValid=!1}function co(l,h,b,T,M,G){var ee=[zd(l),is.indexOf(h),parseInt(b,10),parseInt(T,10),parseInt(M,10)];return G&&ee.push(parseInt(G,10)),ee}function zd(l){var h=parseInt(l,10);return 49>=h?2e3+h:999>=h?1900+h:h}function Xd(l){return l.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vl(l,h,b){if(l){var T=Sl.indexOf(l),M=new Date(h[0],h[1],h[2]).getDay();if(T!==M)return D(b).weekdayMismatch=!0,b._isValid=!1,!1}return!0}function yc(l,h,b){if(l)return _c[l];if(h)return 0;var T=parseInt(b,10),M=T%100;return 60*((T-M)/100)+M}function xa(l){var h=Al.exec(Xd(l._i));if(h){var b=co(h[4],h[3],h[2],h[5],h[6],h[7]);if(!vl(h[1],b,l))return;l._a=b,l._tzm=yc(h[8],h[9],h[10]),l._d=Rt.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),D(l).rfc2822=!0}else l._isValid=!1}function Kd(l){var h=Pa.exec(l._i);if(h!==null)return void(l._d=new Date(+h[1]));if(lo(l),l._isValid===!1)delete l._isValid;else return;if(xa(l),l._isValid===!1)delete l._isValid;else return;c.createFromInputFallback(l)}function dr(l){if(l._f===c.ISO_8601)return void lo(l);if(l._f===c.RFC_2822)return void xa(l);l._a=[],D(l).empty=!0;var h=""+l._i,b=h.length,T=0,M,G,ee,we,Oe;for(ee=ve(l._f,l._locale).match(El)||[],M=0;M<ee.length;M++)we=ee[M],G=(h.match(Bt(we,l))||[])[0],G&&(Oe=h.substr(0,h.indexOf(G)),0<Oe.length&&D(l).unusedInput.push(Oe),h=h.slice(h.indexOf(G)+G.length),T+=G.length),xn[we]?(G?D(l).empty=!1:D(l).unusedTokens.push(we),$t(we,G,l)):l._strict&&!G&&D(l).unusedTokens.push(we);D(l).charsLeftOver=b-T,0<h.length&&D(l).unusedInput.push(h),12>=l._a[3]&&D(l).bigHour===!0&&0<l._a[3]&&(D(l).bigHour=void 0),D(l).parsedDateParts=l._a.slice(0),D(l).meridiem=l._meridiem,l._a[3]=gc(l._locale,l._a[3],l._meridiem),Aa(l),Sa(l)}function gc(l,h,b){var T;return b==null?h:l.meridiemHour==null?(l.isPM==null||(T=l.isPM(b),T&&12>h&&(h+=12),T||h!==12||(h=0)),h):l.meridiemHour(h,b)}function uu(l){var h,b,T,M,G;if(l._f.length===0)return D(l).invalidFormat=!0,void(l._d=new Date(NaN));for(M=0;M<l._f.length;M++)G=0,h=R({},l),l._useUTC!=null&&(h._useUTC=l._useUTC),h._f=l._f[M],dr(h),B(h)&&(G+=D(h).charsLeftOver,G+=10*D(h).unusedTokens.length,D(h).score=G,(T==null||G<T)&&(T=G,b=h));S(l,b||h)}function Zi(l){if(!l._d){var h=K(l._i);l._a=C([h.year,h.month,h.day||h.date,h.hour,h.minute,h.second,h.millisecond],function(b){return b&&parseInt(b,10)}),Aa(l)}}function ot(l){var h=new I(Sa(ra(l)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function ra(l){var h=l._i,b=l._f;return l._locale=l._locale||Pi(l._l),h===null||b===void 0&&h===""?P({nullInput:!0}):(typeof h=="string"&&(l._i=h=l._locale.preparse(h)),F(h)?new I(Sa(h)):(w(h)?l._d=h:d(b)?uu(l):b?dr(l):vc(l),B(l)||(l._d=null),l))}function vc(l){var h=l._i;y(h)?l._d=new Date(c.now()):w(h)?l._d=new Date(h.valueOf()):typeof h=="string"?Kd(l):d(h)?(l._a=C(h.slice(0),function(b){return parseInt(b,10)}),Aa(l)):p(h)?Zi(l):_(h)?l._d=new Date(h):c.createFromInputFallback(l)}function hr(l,h,b,T,M){var G={};return(b===!0||b===!1)&&(T=b,b=void 0),(p(l)&&m(l)||d(l)&&l.length===0)&&(l=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=M,G._l=b,G._i=l,G._f=h,G._strict=T,ot(G)}function Ne(l,h,b,T){return hr(l,h,b,T,!1)}function aa(l,h){var b,T;if(h.length===1&&d(h[0])&&(h=h[0]),!h.length)return Ne();for(b=h[0],T=1;T<h.length;++T)(!h[T].isValid()||h[T][l](b))&&(b=h[T]);return b}function Po(l){for(var h in l)if(ct.call(Vn,h)===-1||l[h]!=null&&isNaN(l[h]))return!1;for(var b=!1,T=0;T<Vn.length;++T)if(l[Vn[T]]){if(b)return!1;parseFloat(l[Vn[T]])!==L(l[Vn[T]])&&(b=!0)}return!0}function kr(l){var h=K(l),b=h.year||0,T=h.quarter||0,M=h.month||0,G=h.week||h.isoWeek||0,ee=h.day||0,we=h.hour||0,Oe=h.minute||0,Tt=h.second||0,Qt=h.millisecond||0;this._isValid=Po(h),this._milliseconds=+Qt+1e3*Tt+6e4*Oe+60*(60*(1e3*we)),this._days=+ee+7*G,this._months=+M+3*T+12*b,this._data={},this._locale=Pi(),this._bubble()}function Ie(l){return l instanceof kr}function yt(l){return 0>l?-1*e(-1*l):e(l)}function uo(l,h){Q(l,0,0,function(){var b=this.utcOffset(),T="+";return 0>b&&(b=-b,T="-"),T+le(~~(b/60),2)+h+le(~~b%60,2)})}function Da(l,h){var b=(h||"").match(l);if(b===null)return null;var T=b[b.length-1]||[],M=(T+"").match(ah)||["-",0,0],G=+(60*M[1])+L(M[2]);return G===0?0:M[0]==="+"?G:-G}function sa(l,h){var b,T;return h._isUTC?(b=h.clone(),T=(F(l)||w(l)?l.valueOf():Ne(l).valueOf())-b.valueOf(),b._d.setTime(b._d.valueOf()+T),c.updateOffset(b,!1),b):Ne(l).local()}function oa(l){return 15*-e(l._d.getTimezoneOffset()/15)}function du(){if(!y(this._isDSTShifted))return this._isDSTShifted;var l={};if(R(l,this),l=ra(l),l._a){var h=l._isUTC?x(l._a):Ne(l._a);this._isDSTShifted=this.isValid()&&0<W(l._a,h.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function vt(){return!!this.isValid()&&this._isUTC&&this._offset===0}function si(l,h){var b=l,T=null,M,G,ee;return Ie(l)?b={ms:l._milliseconds,d:l._days,M:l._months}:_(l)?(b={},h?b[h]=l:b.milliseconds=l):(T=gu.exec(l))?(M=T[1]==="-"?-1:1,b={y:0,d:L(T[2])*M,h:L(T[3])*M,m:L(T[4])*M,s:L(T[5])*M,ms:L(yt(1e3*T[6]))*M}):(T=sh.exec(l))?(M=T[1]==="-"?-1:1,b={y:nn(T[2],M),M:nn(T[3],M),w:nn(T[4],M),d:nn(T[5],M),h:nn(T[6],M),m:nn(T[7],M),s:nn(T[8],M)}):b==null?b={}:typeof b=="object"&&("from"in b||"to"in b)&&(ee=la(Ne(b.from),Ne(b.to)),b={},b.ms=ee.milliseconds,b.M=ee.months),G=new kr(b),Ie(l)&&k(l,"_locale")&&(G._locale=l._locale),G}function nn(l,h){var b=l&&parseFloat(l.replace(",","."));return(isNaN(b)?0:b)*h}function As(l,h){var b={};return b.months=h.month()-l.month()+12*(h.year()-l.year()),l.clone().add(b.months,"M").isAfter(h)&&--b.months,b.milliseconds=+h-+l.clone().add(b.months,"M"),b}function la(l,h){var b;return l.isValid()&&h.isValid()?(h=sa(h,l),l.isBefore(h)?b=As(l,h):(b=As(h,l),b.milliseconds=-b.milliseconds,b.months=-b.months),b):{milliseconds:0,months:0}}function Oo(l,h){return function(b,T){var M,G;return T===null||isNaN(+T)||(re(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=b,b=T,T=G),b=typeof b=="string"?+b:b,M=si(b,T),No(this,M,l),this}}function No(l,h,b,T){var M=h._milliseconds,G=yt(h._days),ee=yt(h._months);l.isValid()&&(T=T==null||T,ee&&wi(l,nt(l,"Month")+ee*b),G&&De(l,"Date",nt(l,"Date")+G*b),M&&l._d.setTime(l._d.valueOf()+M*b),T&&c.updateOffset(l,G||ee))}function Hr(l,h){var b=12*(h.year()-l.year())+(h.month()-l.month()),T=l.clone().add(b,"months"),M,G;return 0>h-T?(M=l.clone().add(b-1,"months"),G=(h-T)/(T-M)):(M=l.clone().add(b+1,"months"),G=(h-T)/(M-T)),-(b+G)||0}function ho(l){var h;return l===void 0?this._locale._abbr:(h=Pi(l),h!=null&&(this._locale=h),this)}function Go(){return this._locale}function yn(l,h){return(l%h+h)%h}function Uo(l,h,b){return 100>l&&0<=l?new Date(l+400,h,b)-126227808e5:new Date(l,h,b).valueOf()}function Lo(l,h,b){return 100>l&&0<=l?Date.UTC(l+400,h,b)-126227808e5:Date.UTC(l,h,b)}function Vr(l,h){Q(0,[l,l.length],0,h)}function Bo(l,h,b,T,M){var G;return l==null?zt(this,T,M).year:(G=ut(l,T,M),h>G&&(h=G),Zd.call(this,l,h,b,T,M))}function Zd(l,h,b,T,M){var G=Xe(l,h,b,T,M),ee=Rt(G.year,0,G.dayOfYear);return this.year(ee.getUTCFullYear()),this.month(ee.getUTCMonth()),this.date(ee.getUTCDate()),this}function Qd(l,h){h[6]=L(1e3*("0."+l))}function $o(l){return l}function gn(l,h,b,T){var M=Pi(),G=x().set(T,h);return M[b](G,l)}function bl(l,h,b){if(_(l)&&(h=l,l=void 0),l=l||"",h!=null)return gn(l,h,b,"month");var T=[],M;for(M=0;12>M;M++)T[M]=gn(l,M,b,"month");return T}function xs(l,h,b,T){typeof l=="boolean"?(_(h)&&(b=h,h=void 0),h=h||""):(h=l,b=h,l=!1,_(h)&&(b=h,h=void 0),h=h||"");var M=Pi(),G=l?M._week.dow:0;if(b!=null)return gn(h,(b+G)%7,T,"day");var ee=[],we;for(we=0;7>we;we++)ee[we]=gn(h,(we+G)%7,T,"day");return ee}function Ds(l,h,b,T){var M=si(h,b);return l._milliseconds+=T*M._milliseconds,l._days+=T*M._days,l._months+=T*M._months,l._bubble()}function Ja(l){return 0>l?s(l):o(l)}function _l(l){return 4800*l/146097}function Is(l){return 146097*l/4800}function Mi(l){return function(){return this.as(l)}}function cn(l){return function(){return this.isValid()?this._data[l]:NaN}}function bc(l,h,b,T,M){return M.relativeTime(h||1,!!b,l,T)}function hu(l,h,b){var T=si(l).abs(),M=Vi(T.as("s")),G=Vi(T.as("m")),ee=Vi(T.as("h")),we=Vi(T.as("d")),Oe=Vi(T.as("M")),Tt=Vi(T.as("y")),Qt=M<=Zt.ss&&["s",M]||M<Zt.s&&["ss",M]||1>=G&&["m"]||G<Zt.m&&["mm",G]||1>=ee&&["h"]||ee<Zt.h&&["hh",ee]||1>=we&&["d"]||we<Zt.d&&["dd",we]||1>=Oe&&["M"]||Oe<Zt.M&&["MM",Oe]||1>=Tt&&["y"]||["yy",Tt];return Qt[2]=h,Qt[3]=0<+l,Qt[4]=b,bc.apply(null,Qt)}function Jd(l){return l===void 0?Vi:typeof l=="function"&&(Vi=l,!0)}function An(l){return(0<l)-(0>l)||+l}function Yr(){if(!this.isValid())return this.localeData().invalidDate();var l=Dr(this._milliseconds)/1e3,h=Dr(this._days),b=Dr(this._months),T,M,G;T=$(l/60),M=$(T/60),l%=60,T%=60,G=$(b/12),b%=12;var ee=G,we=b,Oe=h,Tt=M,Qt=T,tr=l?l.toFixed(3).replace(/\.?0+$/,""):"",Dn=this.asSeconds();if(!Dn)return"P0D";var Au=0>Dn?"-":"",po=An(this._months)===An(Dn)?"":"-",Il=An(this._days)===An(Dn)?"":"-",Gs=An(this._milliseconds)===An(Dn)?"":"-";return Au+"P"+(ee?po+ee+"Y":"")+(we?po+we+"M":"")+(Oe?Il+Oe+"D":"")+(Tt||Qt||tr?"T":"")+(Tt?Gs+Tt+"H":"")+(Qt?Gs+Qt+"M":"")+(tr?Gs+tr+"S":"")}var Rs,Ms;Ms=Array.prototype.some?Array.prototype.some:function(l){for(var h=Object(this),b=h.length>>>0,T=0;T<b;T++)if(T in h&&l.call(this,h[T],T,h))return!0;return!1};var Ia=c.momentProperties=[],es=!1,Fo={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var wl=Object.keys?Object.keys:function(l){var h=[],b;for(b in l)k(l,b)&&h.push(b);return h},eh=/\d{1,2}/,Zn={},Qn={},El=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ca=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ma={},xn={},qr=/\d/,Gt=/\d\d/,Sr=/\d{3}/,ua=/\d{4}/,Ar=/[+-]?\d{6}/,We=/\d\d?/,Tl=/\d\d\d\d?/,Cl=/\d\d\d\d\d\d?/,da=/\d{1,3}/,Ps=/\d{1,4}/,Wr=/[+-]?\d{1,6}/,fu=/\d+/,ha=/[+-]?\d+/,th=/Z|[+-]\d\d:?\d\d/gi,fa=/Z|[+-]\d\d(?::?\d\d)?/gi,ih=/[+-]?\d+(\.\d{1,3})?/,Jn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Os={},ts={},fr=0,xr=1,kl=2,un=3,pr=4,jr=5;Q("Y",0,0,function(){var l=this.year();return 9999>=l?""+l:"+"+l}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),se("year","y"),q("year",1),ne("Y",ha),ne("YY",We,Gt),ne("YYYY",Ps,ua),ne("YYYYY",Wr,Ar),ne("YYYYYY",Wr,Ar),Se(["YYYYY","YYYYYY"],fr),Se("YYYY",function(l,h){h[fr]=l.length===2?c.parseTwoDigitYear(l):L(l)}),Se("YY",function(l,h){h[fr]=c.parseTwoDigitYear(l)}),Se("Y",function(l,h){h[fr]=parseInt(l,10)}),c.parseTwoDigitYear=function(l){return L(l)+(68<L(l)?1900:2e3)};var Fi=Ct("FullYear",!0),ct;ct=Array.prototype.indexOf?Array.prototype.indexOf:function(l){var h;for(h=0;h<this.length;++h)if(this[h]===l)return h;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),Q("MMMM",0,0,function(l){return this.localeData().months(this,l)}),se("month","M"),q("month",8),ne("M",We),ne("MM",We,Gt),ne("MMM",function(l,h){return h.monthsShortRegex(l)}),ne("MMMM",function(l,h){return h.monthsRegex(l)}),Se(["M","MM"],function(l,h){h[xr]=L(l)-1}),Se(["MMM","MMMM"],function(l,h,b,T){var M=b._locale.monthsParse(l,T,b._strict);M==null?D(b).invalidMonth=l:h[xr]=M});var Ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,is=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),se("week","w"),se("isoWeek","W"),q("week",5),q("isoWeek",5),ne("w",We),ne("ww",We,Gt),ne("W",We),ne("WW",We,Gt),Jt(["w","ww","W","WW"],function(l,h,b,T){h[T.substr(0,1)]=L(l)}),Q("d",0,"do","day"),Q("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),Q("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),Q("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),se("day","d"),se("weekday","e"),se("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),ne("d",We),ne("e",We),ne("E",We),ne("dd",function(l,h){return h.weekdaysMinRegex(l)}),ne("ddd",function(l,h){return h.weekdaysShortRegex(l)}),ne("dddd",function(l,h){return h.weekdaysRegex(l)}),Jt(["dd","ddd","dddd"],function(l,h,b,T){var M=b._locale.weekdaysParse(l,T,b._strict);M==null?D(b).invalidWeekday=l:h.d=M}),Jt(["d","e","E"],function(l,h,b,T){h[T]=L(l)});var Sl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,at),Q("k",["kk",2],0,function(){return this.hours()||24}),Q("hmm",0,0,function(){return""+at.apply(this)+le(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+at.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),se("hour","h"),q("hour",13),ne("a",hi),ne("A",hi),ne("H",We),ne("h",We),ne("k",We),ne("HH",We,Gt),ne("hh",We,Gt),ne("kk",We,Gt),ne("hmm",Tl),ne("hmmss",Cl),ne("Hmm",Tl),ne("Hmmss",Cl),Se(["H","HH"],un),Se(["k","kk"],function(l,h){var b=L(l);h[un]=b===24?0:b}),Se(["a","A"],function(l,h,b){b._isPm=b._locale.isPM(l),b._meridiem=l}),Se(["h","hh"],function(l,h,b){h[un]=L(l),D(b).bigHour=!0}),Se("hmm",function(l,h,b){var T=l.length-2;h[un]=L(l.substr(0,T)),h[pr]=L(l.substr(T)),D(b).bigHour=!0}),Se("hmmss",function(l,h,b){var T=l.length-4,M=l.length-2;h[un]=L(l.substr(0,T)),h[pr]=L(l.substr(T,2)),h[jr]=L(l.substr(M)),D(b).bigHour=!0}),Se("Hmm",function(l,h){var b=l.length-2;h[un]=L(l.substr(0,b)),h[pr]=L(l.substr(b))}),Se("Hmmss",function(l,h){var b=l.length-4,T=l.length-2;h[un]=L(l.substr(0,b)),h[pr]=L(l.substr(b,2)),h[jr]=L(l.substr(T))});var pu=/[ap]\.?m?\.?/i,nh=Ct("Hours",!0),fo={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:eh,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:is,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Sl,meridiemParse:pu},dt={},mr={},rh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mu=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yu=/Z|[+-]\d\d(?::?\d\d)?/,pa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pa=/^\/?Date\((\-?\d+)/i,Al=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_c={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},er;c.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var ma=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ne.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:P()}),Ns=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ne.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:P()}),Vn=["year","quarter","month","week","day","hour","minute","second","millisecond"];uo("Z",":"),uo("ZZ",""),ne("Z",fa),ne("ZZ",fa),Se(["Z","ZZ"],function(l,h,b){b._useUTC=!0,b._tzm=Da(fa,l)});var ah=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var gu=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sh=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;si.fn=kr.prototype,si.invalid=function(){return si(NaN)};var vu=Oo(1,"add"),wc=Oo(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Oa=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Vr("gggg","weekYear"),Vr("ggggg","weekYear"),Vr("GGGG","isoWeekYear"),Vr("GGGGG","isoWeekYear"),se("weekYear","gg"),se("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),ne("G",ha),ne("g",ha),ne("GG",We,Gt),ne("gg",We,Gt),ne("GGGG",Ps,ua),ne("gggg",Ps,ua),ne("GGGGG",Wr,Ar),ne("ggggg",Wr,Ar),Jt(["gggg","ggggg","GGGG","GGGGG"],function(l,h,b,T){h[T.substr(0,2)]=L(l)}),Jt(["gg","GG"],function(l,h,b,T){h[T]=c.parseTwoDigitYear(l)}),Q("Q",0,"Qo","quarter"),se("quarter","Q"),q("quarter",7),ne("Q",qr),Se("Q",function(l,h){h[xr]=3*(L(l)-1)}),Q("D",["DD",2],"Do","date"),se("date","D"),q("date",9),ne("D",We),ne("DD",We,Gt),ne("Do",function(l,h){return l?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Se(["D","DD"],kl),Se("Do",function(l,h){h[kl]=L(l.match(We)[0])});var yr=Ct("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),se("dayOfYear","DDD"),q("dayOfYear",4),ne("DDD",da),ne("DDDD",Sr),Se(["DDD","DDDD"],function(l,h,b){b._dayOfYear=L(l)}),Q("m",["mm",2],0,"minute"),se("minute","m"),q("minute",14),ne("m",We),ne("mm",We,Gt),Se(["m","mm"],pr);var bu=Ct("Minutes",!1);Q("s",["ss",2],0,"second"),se("second","s"),q("second",15),ne("s",We),ne("ss",We,Gt),Se(["s","ss"],jr);var _u=Ct("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),se("millisecond","ms"),q("millisecond",16),ne("S",da,qr),ne("SS",da,Gt),ne("SSS",da,Sr);var Hi;for(Hi="SSSS";9>=Hi.length;Hi+="S")ne(Hi,fu);for(Hi="S";9>=Hi.length;Hi+="S")Se(Hi,Qd);var oh=Ct("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var ae=I.prototype;ae.add=vu,ae.calendar=function(l,h){var b=l||Ne(),T=sa(b,this).startOf("day"),M=c.calendarFormat(this,T)||"sameElse",G=h&&(ce(h[M])?h[M].call(this,b):h[M]);return this.format(G||this.localeData().calendar(M,this,Ne(b)))},ae.clone=function(){return new I(this)},ae.diff=function(l,h,b){var T,M,G;return this.isValid()?(T=sa(l,this),T.isValid()?(M=6e4*(T.utcOffset()-this.utcOffset()),h=Z(h),G=h==="year"?Hr(this,T)/12:h==="month"?Hr(this,T):h==="quarter"?Hr(this,T)/3:h==="second"?(this-T)/1e3:h==="minute"?(this-T)/6e4:h==="hour"?(this-T)/36e5:h==="day"?(this-T-M)/864e5:h==="week"?(this-T-M)/6048e5:this-T,b?G:$(G)):NaN):NaN},ae.endOf=function(l){var h;if(l=Z(l),l===void 0||l==="millisecond"||!this.isValid())return this;var b=this._isUTC?Lo:Uo;return l==="year"?h=b(this.year()+1,0,1)-1:l==="quarter"?h=b(this.year(),this.month()-this.month()%3+3,1)-1:l==="month"?h=b(this.year(),this.month()+1,1)-1:l==="week"?h=b(this.year(),this.month(),this.date()-this.weekday()+7)-1:l==="isoWeek"?h=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:l==="day"||l==="date"?h=b(this.year(),this.month(),this.date()+1)-1:l==="hour"?(h=this._d.valueOf(),h+=36e5-yn(h+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):l==="minute"?(h=this._d.valueOf(),h+=6e4-yn(h,6e4)-1):l==="second"&&(h=this._d.valueOf(),h+=1e3-yn(h,1e3)-1),this._d.setTime(h),c.updateOffset(this,!0),this},ae.format=function(l){l||(l=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var h=he(this,l);return this.localeData().postformat(h)},ae.from=function(l,h){return this.isValid()&&(F(l)&&l.isValid()||Ne(l).isValid())?si({to:this,from:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()},ae.fromNow=function(l){return this.from(Ne(),l)},ae.to=function(l,h){return this.isValid()&&(F(l)&&l.isValid()||Ne(l).isValid())?si({from:this,to:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()},ae.toNow=function(l){return this.to(Ne(),l)},ae.get=function(l){return l=Z(l),ce(this[l])?this[l]():this},ae.invalidAt=function(){return D(this).overflow},ae.isAfter=function(l,h){var b=F(l)?l:Ne(l);return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()>b.valueOf():b.valueOf()<this.clone().startOf(h).valueOf())},ae.isBefore=function(l,h){var b=F(l)?l:Ne(l);return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()<b.valueOf():this.clone().endOf(h).valueOf()<b.valueOf())},ae.isBetween=function(l,h,b,T){var M=F(l)?l:Ne(l),G=F(h)?h:Ne(h);return!!(this.isValid()&&M.isValid()&&G.isValid())&&(T=T||"()",(T[0]==="("?this.isAfter(M,b):!this.isBefore(M,b))&&(T[1]===")"?this.isBefore(G,b):!this.isAfter(G,b)))},ae.isSame=function(l,h){var b=F(l)?l:Ne(l),T;return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()===b.valueOf():(T=b.valueOf(),this.clone().startOf(h).valueOf()<=T&&T<=this.clone().endOf(h).valueOf()))},ae.isSameOrAfter=function(l,h){return this.isSame(l,h)||this.isAfter(l,h)},ae.isSameOrBefore=function(l,h){return this.isSame(l,h)||this.isBefore(l,h)},ae.isValid=function(){return B(this)},ae.lang=Oa,ae.locale=ho,ae.localeData=Go,ae.max=Ns,ae.min=ma,ae.parsingFlags=function(){return S({},D(this))},ae.set=Ve,ae.startOf=function(l){var h;if(l=Z(l),l===void 0||l==="millisecond"||!this.isValid())return this;var b=this._isUTC?Lo:Uo;return l==="year"?h=b(this.year(),0,1):l==="quarter"?h=b(this.year(),this.month()-this.month()%3,1):l==="month"?h=b(this.year(),this.month(),1):l==="week"?h=b(this.year(),this.month(),this.date()-this.weekday()):l==="isoWeek"?h=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):l==="day"||l==="date"?h=b(this.year(),this.month(),this.date()):l==="hour"?(h=this._d.valueOf(),h-=yn(h+(this._isUTC?0:6e4*this.utcOffset()),36e5)):l==="minute"?(h=this._d.valueOf(),h-=yn(h,6e4)):l==="second"&&(h=this._d.valueOf(),h-=yn(h,1e3)),this._d.setTime(h),c.updateOffset(this,!0),this},ae.subtract=wc,ae.toArray=function(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]},ae.toObject=function(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}},ae.toDate=function(){return new Date(this.valueOf())},ae.toISOString=function(l){if(!this.isValid())return null;var h=l!==!0,b=h?this.clone().utc():this;return 0>b.year()||9999<b.year()?he(b,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ce(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace("Z",he(b,"Z")):he(b,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ae.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",h="";this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z");var b="["+l+'("]',T=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",M=h+'[")]';return this.format(b+T+"-MM-DD[T]HH:mm:ss.SSS"+M)},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ae.unix=function(){return s(this.valueOf()/1e3)},ae.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ae.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ae.year=Fi,ae.isLeapYear=function(){return xt(this.year())},ae.weekYear=function(l){return Bo.call(this,l,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ae.isoWeekYear=function(l){return Bo.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)},ae.quarter=ae.quarters=function(l){return l==null?o((this.month()+1)/3):this.month(3*(l-1)+this.month()%3)},ae.month=Ei,ae.daysInMonth=function(){return st(this.year(),this.month())},ae.week=ae.weeks=function(l){var h=this.localeData().week(this);return l==null?h:this.add(7*(l-h),"d")},ae.isoWeek=ae.isoWeeks=function(l){var h=zt(this,1,4).week;return l==null?h:this.add(7*(l-h),"d")},ae.weeksInYear=function(){var l=this.localeData()._week;return ut(this.year(),l.dow,l.doy)},ae.isoWeeksInYear=function(){return ut(this.year(),1,4)},ae.date=yr,ae.day=ae.days=function(l){if(!this.isValid())return l==null?NaN:this;var h=this._isUTC?this._d.getUTCDay():this._d.getDay();return l==null?h:(l=Ot(l,this.localeData()),this.add(l-h,"d"))},ae.weekday=function(l){if(!this.isValid())return l==null?NaN:this;var h=(this.day()+7-this.localeData()._week.dow)%7;return l==null?h:this.add(l-h,"d")},ae.isoWeekday=function(l){if(!this.isValid())return l==null?NaN:this;if(l!=null){var h=ye(l,this.localeData());return this.day(this.day()%7?h:h-7)}return this.day()||7},ae.dayOfYear=function(l){var h=e((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?h:this.add(l-h,"d")},ae.hour=ae.hours=nh,ae.minute=ae.minutes=bu,ae.second=ae.seconds=_u,ae.millisecond=ae.milliseconds=oh,ae.utcOffset=function(l,h,b){var T=this._offset||0,M;if(!this.isValid())return l==null?NaN:this;if(l!=null){if(typeof l!="string")16>r(l)&&!b&&(l*=60);else if(l=Da(fa,l),l===null)return this;return!this._isUTC&&h&&(M=oa(this)),this._offset=l,this._isUTC=!0,M!=null&&this.add(M,"m"),T!==l&&(!h||this._changeInProgress?No(this,si(l-T,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?T:oa(this)},ae.utc=function(l){return this.utcOffset(0,l)},ae.local=function(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(oa(this),"m")),this},ae.parseZone=function(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=Da(th,this._i);l==null?this.utcOffset(0,!0):this.utcOffset(l)}return this},ae.hasAlignedHourOffset=function(l){return!!this.isValid()&&(l=l?Ne(l).utcOffset():0,(this.utcOffset()-l)%60==0)},ae.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ae.isLocal=function(){return!!this.isValid()&&!this._isUTC},ae.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ae.isUtc=vt,ae.isUTC=vt,ae.zoneAbbr=function(){return this._isUTC?"UTC":""},ae.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ae.dates=z("dates accessor is deprecated. Use date instead.",yr),ae.months=z("months accessor is deprecated. Use month instead",Ei),ae.years=z("years accessor is deprecated. Use year instead",Fi),ae.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(l,h){return l==null?-this.utcOffset():(typeof l!="string"&&(l=-l),this.utcOffset(l,h),this)}),ae.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",du);var je=ue.prototype;je.calendar=function(l,h,b){var T=this._calendar[l]||this._calendar.sameElse;return ce(T)?T.call(h,b):T},je.longDateFormat=function(l){var h=this._longDateFormat[l],b=this._longDateFormat[l.toUpperCase()];return h||!b?h:(this._longDateFormat[l]=b.replace(/MMMM|MM|DD|dddd/g,function(T){return T.slice(1)}),this._longDateFormat[l])},je.invalidDate=function(){return this._invalidDate},je.ordinal=function(l){return this._ordinal.replace("%d",l)},je.preparse=$o,je.postformat=$o,je.relativeTime=function(l,h,b,T){var M=this._relativeTime[b];return ce(M)?M(l,h,b,T):M.replace(/%d/i,l)},je.pastFuture=function(l,h){var b=this._relativeTime[0<l?"future":"past"];return ce(b)?b(h):b.replace(/%s/i,h)},je.set=ge,je.months=function(l,h){return l?d(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||Ho).test(h)?"format":"standalone"][l.month()]:d(this._months)?this._months:this._months.standalone},je.monthsShort=function(l,h){return l?d(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[Ho.test(h)?"format":"standalone"][l.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},je.monthsParse=mi,je.monthsRegex=function(l){return this._monthsParseExact?(k(this,"_monthsRegex")||di.call(this),l?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=Jn),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)},je.monthsShortRegex=function(l){return this._monthsParseExact?(k(this,"_monthsRegex")||di.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=Jn),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)},je.week=function(l){return zt(l,this._week.dow,this._week.doy).week},je.firstDayOfYear=function(){return this._week.doy},je.firstDayOfWeek=function(){return this._week.dow},je.weekdays=function(l,h){var b=d(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return l===!0?Pe(b,this._week.dow):l?b[l.day()]:b},je.weekdaysMin=function(l){return l===!0?Pe(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin},je.weekdaysShort=function(l){return l===!0?Pe(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort},je.weekdaysParse=lt,je.weekdaysRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Jn),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)},je.weekdaysShortRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jn),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},je.weekdaysMinRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jn),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},je.isPM=function(l){return(l+"").toLowerCase().charAt(0)==="p"},je.meridiem=function(l,h,b){return 11<l?b?"pm":"PM":b?"am":"AM"},Ki("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var h=l%10,b=L(l%100/10)===1?"th":h==1?"st":h==2?"nd":h==3?"rd":"th";return l+b}}),c.lang=z("moment.lang is deprecated. Use moment.locale instead.",Ki),c.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Pi);var Ai=r,Vo=Mi("ms"),wu=Mi("s"),Eu=Mi("m"),Ec=Mi("h"),xl=Mi("d"),Tu=Mi("w"),Dl=Mi("M"),Xr=Mi("Q"),Cu=Mi("y"),Tc=cn("milliseconds"),Cc=cn("seconds"),ku=cn("minutes"),Su=cn("hours"),kc=cn("days"),lh=cn("months"),ch=cn("years"),Vi=e,Zt={ss:44,s:45,m:45,h:22,d:26,M:11},Dr=r,Me=kr.prototype;return Me.isValid=function(){return this._isValid},Me.abs=function(){var l=this._data;return this._milliseconds=Ai(this._milliseconds),this._days=Ai(this._days),this._months=Ai(this._months),l.milliseconds=Ai(l.milliseconds),l.seconds=Ai(l.seconds),l.minutes=Ai(l.minutes),l.hours=Ai(l.hours),l.months=Ai(l.months),l.years=Ai(l.years),this},Me.add=function(l,h){return Ds(this,l,h,1)},Me.subtract=function(l,h){return Ds(this,l,h,-1)},Me.as=function(l){if(!this.isValid())return NaN;var h=this._milliseconds,b,T;if(l=Z(l),l==="month"||l==="quarter"||l==="year")switch(b=this._days+h/864e5,T=this._months+_l(b),l){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(b=this._days+e(Is(this._months)),l){case"week":return b/7+h/6048e5;case"day":return b+h/864e5;case"hour":return 24*b+h/36e5;case"minute":return 1440*b+h/6e4;case"second":return 86400*b+h/1e3;case"millisecond":return s(864e5*b)+h;default:throw new Error("Unknown unit "+l)}},Me.asMilliseconds=Vo,Me.asSeconds=wu,Me.asMinutes=Eu,Me.asHours=Ec,Me.asDays=xl,Me.asWeeks=Tu,Me.asMonths=Dl,Me.asQuarters=Xr,Me.asYears=Cu,Me.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*L(this._months/12):NaN},Me._bubble=function(){var l=this._milliseconds,h=this._days,b=this._months,T=this._data,M,G,ee,we,Oe;return 0<=l&&0<=h&&0<=b||0>=l&&0>=h&&0>=b||(l+=864e5*Ja(Is(b)+h),h=0,b=0),T.milliseconds=l%1e3,M=$(l/1e3),T.seconds=M%60,G=$(M/60),T.minutes=G%60,ee=$(G/60),T.hours=ee%24,h+=$(ee/24),Oe=$(_l(h)),b+=Oe,h-=Ja(Is(Oe)),we=$(b/12),b%=12,T.days=h,T.months=b,T.years=we,this},Me.clone=function(){return si(this)},Me.get=function(l){return l=Z(l),this.isValid()?this[l+"s"]():NaN},Me.milliseconds=Tc,Me.seconds=Cc,Me.minutes=ku,Me.hours=Su,Me.days=kc,Me.weeks=function(){return $(this.days()/7)},Me.months=lh,Me.years=ch,Me.humanize=function(l){if(!this.isValid())return this.localeData().invalidDate();var h=this.localeData(),b=hu(this,!l,h);return l&&(b=h.pastFuture(+this,b)),h.postformat(b)},Me.toISOString=Yr,Me.toString=Yr,Me.toJSON=Yr,Me.locale=ho,Me.localeData=Go,Me.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yr),Me.lang=Oa,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),ne("x",ha),ne("X",ih),Se("X",function(l,h,b){b._d=new Date(1e3*parseFloat(l,10))}),Se("x",function(l,h,b){b._d=new Date(L(l))}),c.version="2.24.0",function(l){Rs=l}(Ne),c.fn=ae,c.min=function(){var l=[].slice.call(arguments,0);return aa("isBefore",l)},c.max=function(){var l=[].slice.call(arguments,0);return aa("isAfter",l)},c.now=function(){return Date.now?Date.now():+new Date},c.utc=x,c.unix=function(l){return Ne(1e3*l)},c.months=function(l,h){return bl(l,h,"months")},c.isDate=w,c.locale=Ki,c.invalid=P,c.duration=si,c.isMoment=F,c.weekdays=function(l,h,b){return xs(l,h,b,"weekdays")},c.parseZone=function(){return Ne.apply(null,arguments).parseZone()},c.localeData=Pi,c.isDuration=Ie,c.monthsShort=function(l,h){return bl(l,h,"monthsShort")},c.weekdaysMin=function(l,h,b){return xs(l,h,b,"weekdaysMin")},c.defineLocale=Ss,c.updateLocale=function(l,h){if(h!=null){var b=fo,T,M;M=ur(l),M!=null&&(b=M._config),h=be(b,h),T=new ue(h),T.parentLocale=dt[l],dt[l]=T,Ki(l)}else dt[l]!=null&&(dt[l].parentLocale==null?dt[l]!=null&&delete dt[l]:dt[l]=dt[l].parentLocale);return dt[l]},c.locales=qd,c.weekdaysShort=function(l,h,b){return xs(l,h,b,"weekdaysShort")},c.normalizeUnits=Z,c.relativeTimeRounding=Jd,c.relativeTimeThreshold=function(l,h){return Zt[l]!==void 0&&(h===void 0?Zt[l]:(Zt[l]=h,l==="s"&&(Zt.ss=h-1),!0))},c.calendarFormat=function(l,h){var b=l.diff(h,"days",!0);return-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse"},c.prototype=ae,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c})}),MU=[],y_=0;256>y_;y_++)MU[y_]=(y_+256).toString(16).substr(1);function az(t,e){var i=0,n=MU;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}for(var PU=function(){if(typeof crypto<"u"&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var i=0,n;16>i;i++)!(3&i)&&(n=4294967296*Math.random()),e[i]=255&n>>>((3&i)<<3);return e}}(),sz=[],g_=0;256>g_;g_++)sz[g_]=(g_+256).toString(16).substr(1);var Wu=PU();1|Wu[0],Wu[1],Wu[2],Wu[3],Wu[4],Wu[5];16383&(Wu[6]<<8|Wu[7]);function oz(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0,n=e&&i||0;typeof t=="string"&&(e=t==="binary"?Array(16):void 0,t={});var r=t.random||(t.rng||PU)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],e)for(var a=0;16>a;a++)e[n+a]=r[a];return e||az(r)}function tM(t,e){var i=Object.keys(t);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t)),e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i}function lz(t){for(var e=1,i;e<arguments.length;e++)i=arguments[e]==null?{}:arguments[e],e%2?tM(i,!0).forEach(function(n){z7(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tM(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))});return t}var cg=/^\/?Date\((-?\d+)/i,cz=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,uz=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;function $p(t){return t instanceof Number||typeof t=="number"}function OU(t){if(t)for(;t.hasChildNodes()===!0;){var e=t.firstChild;e&&(OU(e),t.removeChild(e))}}function Qs(t){return t instanceof String||typeof t=="string"}function GC(t){return Rd(t)==="object"&&t!==null}function dz(t){if(t instanceof Date)return!0;if(Qs(t)){var e=cg.exec(t);if(e||!isNaN(Date.parse(t)))return!0}return!1}function ug(t){return Oc.isMoment(t)}function lf(t,e,i,n){var r=!1;n===!0&&(r=e[i]===null&&t[i]!==void 0),r?delete t[i]:t[i]=e[i]}function NU(t,e){var i=2<arguments.length&&arguments[2]!==void 0&&arguments[2];for(var n in t)if(e[n]!==void 0)if(e[n]===null||Rd(e[n])!=="object")lf(t,e,n,i);else{var r=t[n],a=e[n];GC(r)&&GC(a)&&NU(r,a,i)}}var hz=Object.assign;function fz(t,e){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=2,n;i<(2>=arguments.length?0:arguments.length-2);i++){n=2>i+2||arguments.length<=i+2?void 0:arguments[i+2];for(var r=0,a;r<t.length;r++)a=t[r],n&&Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}function pz(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0,a;r<t.length;r++)if(a=t[r],Object.prototype.hasOwnProperty.call(i,a))if(i[a]&&i[a].constructor===Object)e[a]===void 0&&(e[a]={}),e[a].constructor===Object?qw(e[a],i[a],!1,n):lf(e,i,a,n);else{if(Array.isArray(i[a]))throw new TypeError("Arrays are not supported by deepExtend");lf(e,i,a,n)}return e}function mz(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)===-1)if(i[r]&&i[r].constructor===Object)e[r]===void 0&&(e[r]={}),e[r].constructor===Object?qw(e[r],i[r]):lf(e,i,r,n);else if(Array.isArray(i[r])){e[r]=[];for(var a=0;a<i[r].length;a++)e[r].push(i[r][a])}else lf(e,i,r,n);return e}function qw(t,e){var i=2<arguments.length&&arguments[2]!==void 0&&arguments[2],n=3<arguments.length&&arguments[3]!==void 0&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||i===!0)if(e[r]&&e[r].constructor===Object)t[r]===void 0&&(t[r]={}),t[r].constructor===Object?qw(t[r],e[r],i):lf(t,e,r,n);else if(Array.isArray(e[r])){t[r]=[];for(var a=0;a<e[r].length;a++)t[r].push(e[r][a])}else lf(t,e,r,n);return t}function yz(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0}function gz(t,e){var i;if(t!==void 0){if(t===null)return null;if(!e)return t;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!t;case"number":case"Number":return Qs(t)&&!isNaN(Date.parse(t))?Oc(t).valueOf():+t.valueOf();case"string":case"String":return t+"";case"Date":if($p(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(ug(t))return new Date(t.valueOf());if(Qs(t))return i=cg.exec(t),i?new Date(+i[1]):Oc(new Date(t)).toDate();throw new Error("Cannot convert object of type "+dg(t)+" to type Date");case"Moment":if($p(t))return Oc(t);if(t instanceof Date)return Oc(t.valueOf());if(ug(t))return Oc(t);if(Qs(t))return i=cg.exec(t),Oc(i?+i[1]:t);throw new Error("Cannot convert object of type "+dg(t)+" to type Date");case"ISODate":if($p(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(ug(t))return t.toDate().toISOString();if(Qs(t))return i=cg.exec(t),i?new Date(+i[1]).toISOString():Oc(t).format();throw new Error("Cannot convert object of type "+dg(t)+" to type ISODate");case"ASPDate":if($p(t))return"/Date("+t+")/";if(t instanceof Date||ug(t))return"/Date("+t.valueOf()+")/";if(Qs(t)){i=cg.exec(t);var n;return n=i?new Date(+i[1]).valueOf():new Date(t).valueOf(),"/Date("+n+")/"}throw new Error("Cannot convert object of type "+dg(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function dg(t){var e=Rd(t);return e==="object"?t===null?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function vz(t,e){return[].concat(iz(t),[e])}function bz(t){return t.slice()}function _z(t){return t.getBoundingClientRect().left}function wz(t){return t.getBoundingClientRect().right}function Ez(t){return t.getBoundingClientRect().top}function Tz(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(r){return 0>i.indexOf(r)})),t.className=i.join(" ")}function Cz(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(r){return 0>n.indexOf(r)}),t.className=i.join(" ")}function kz(t,e){if(Array.isArray(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}var Sz=Object.values;function Az(t,e,i){return t[e]!==i&&(t[e]=i,!0)}function xz(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}}function Dz(t,e,i,n){t.addEventListener?(n===void 0&&(n=!1),e==="mousewheel"&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)}function Iz(t,e,i,n){t.removeEventListener?(n===void 0&&(n=!1),e==="mousewheel"&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)}function Rz(t){t||(t=window.event),!t||(t.preventDefault?t.preventDefault():t.returnValue=!1)}function Mz(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element?e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e:null}function Pz(t,e){for(var i=t;i;){if(i===e)return!0;if(i.parentNode)i=i.parentNode;else return!1}return!1}var Oz={asBoolean:function(t,e){return typeof t=="function"&&(t=t()),t==null?e||null:t!=!1},asNumber:function(t,e){return typeof t=="function"&&(t=t()),t==null?e||null:+t||e||null},asString:function(t,e){return typeof t=="function"&&(t=t()),t==null?e||null:t+""},asSize:function(t,e){return typeof t=="function"&&(t=t()),Qs(t)?t:$p(t)?t+"px":e||null},asElement:function(t,e){return typeof t=="function"&&(t=t()),t||e||null}};function HS(t){var e;switch(t.length){case 3:case 4:return e=uz.exec(t),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=cz.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function Nz(t,e){if(t.indexOf("rgba")!==-1)return t;if(t.indexOf("rgb")!==-1){var i=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var n=HS(t);return n==null?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function VS(t,e,i){return"#"+(16777216+(t<<16)+(e<<8)+i).toString(16).slice(1)}function Gz(t,e){var i=Math.min;if(Qs(t)){var n=t;if($U(n)){var r=n.substr(4).substr(0,n.length-5).split(",").map(function(y){return parseInt(y)});n=VS(r[0],r[1],r[2])}if(BU(n)===!0){var a=LU(n),s={h:a.h,s:.8*a.s,v:i(1,1.02*a.v)},o={h:a.h,s:i(1,1.25*a.s),v:.8*a.v},c=UC(o.h,o.s,o.v),d=UC(s.h,s.s,s.v);return{background:n,border:c,highlight:{background:d,border:c},hover:{background:d,border:c}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}if(e){var p={background:t.background||e.background,border:t.border||e.border,highlight:Qs(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Qs(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}};return p}var m={background:t.background||void 0,border:t.border||void 0,highlight:Qs(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Qs(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}};return m}function GU(t,e,i){var n=Math.max,r=Math.min;t/=255,e/=255,i/=255;var a=r(t,r(e,i)),s=n(t,n(e,i));if(a===s)return{h:0,s:0,v:a};var o=t===a?e-i:i===a?t-e:i-t,c=t===a?3:i===a?1:5;return{h:60*(c-o/(s-a))/360,s:(s-a)/s,v:s}}var Kp={split:function(t){var e={};return t.split(";").forEach(function(i){if(i.trim()!=""){var n=i.split(":"),r=n[0].trim(),a=n[1].trim();e[r]=a}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}};function Uz(t,e){var i=Kp.split(t.style.cssText),n=Kp.split(e),r=lz({},i,{},n);t.style.cssText=Kp.join(r)}function Lz(t,e){var i=Kp.split(t.style.cssText),n=Kp.split(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&delete i[r];t.style.cssText=Kp.join(i)}function UU(t,e,i){var n=Math.floor,r=n(6*t),a=6*t-r,s=i*(1-e),o=i*(1-a*e),c=i*(1-(1-a)*e),d,p,m;switch(r%6){case 0:d=i,p=c,m=s;break;case 1:d=o,p=i,m=s;break;case 2:d=s,p=i,m=c;break;case 3:d=s,p=o,m=i;break;case 4:d=c,p=s,m=i;break;case 5:d=i,p=s,m=o}return{r:n(255*d),g:n(255*p),b:n(255*m)}}function UC(t,e,i){var n=UU(t,e,i);return VS(n.r,n.g,n.b)}function LU(t){var e=HS(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return GU(e.r,e.g,e.b)}function BU(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e}function $U(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e}function Bz(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(0?.{1,3})\)/i.test(t);return e}function $z(t,e){if(e!==null&&Rd(e)==="object"){for(var i=Object.create(e),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&Rd(e[t[n]])=="object"&&(i[t[n]]=YS(e[t[n]]));return i}return null}function YS(t){if(t===null||Rd(t)!=="object")return null;if(t instanceof Element)return t;var e=Object.create(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&Rd(t[i])=="object"&&(e[i]=YS(t[i]));return e}function Fz(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=void 0;for(r=i;0<r&&0>e(n,t[r-1]);r--)t[r]=t[r-1];t[r]=n}return t}function Hz(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},r=function(y){return y!=null},a=function(y){return y!==null&&Rd(y)==="object"};if(!a(t))throw new Error("Parameter mergeTarget must be an object");if(!a(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!a(n))throw new Error("Parameter globalOptions must be an object");var s=function(y,_,w){a(y[w])||(y[w]={});var C=_[w],k=y[w];for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&(k[S]=C[S])},o=e[i],c=a(n)&&!function(y){for(var _ in y)if(Object.prototype.hasOwnProperty.call(y,_))return!1;return!0}(n),d=c?n[i]:void 0,p=d?d.enabled:void 0;if(o!==void 0){if(typeof o=="boolean")return a(t[i])||(t[i]={}),void(t[i].enabled=o);if(o===null&&!a(t[i]))if(r(d))t[i]=Object.create(d);else return;if(a(o)){var m=!0;o.enabled===void 0?p!==void 0&&(m=d.enabled):m=o.enabled,s(t,e,i),t[i].enabled=m}}}function Vz(t,e,i,n){for(var r=0,a=0,s=t.length-1;a<=s&&r<1e4;){var o=Math.floor((a+s)/2),c=t[o],d=n===void 0?c[i]:c[i][n],p=e(d);if(p==0)return o;p==-1?a=o+1:s=o-1,r++}return-1}function Yz(t,e,i,n,r){var a=Math.max,s=Math.min,o=Math.floor,c=0,d=0,p=t.length-1,m,y,_,w;for(r=r??function(C,k){return C==k?0:C<k?-1:1};d<=p&&1e4>c;){if(w=o(.5*(p+d)),m=t[a(0,w-1)][i],y=t[w][i],_=t[s(t.length-1,w+1)][i],r(y,e)==0)return w;if(0>r(m,e)&&0<r(y,e))return n=="before"?a(0,w-1):w;if(0>r(y,e)&&0<r(_,e))return n=="before"?w:s(t.length-1,w+1);0>r(y,e)?d=w+1:p=w-1,c++}return-1}var qz={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return .5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return .5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return .5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return .5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Wz(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n}function jz(t,e){var i;Array.isArray(e)||(e=[e]);var n=!0,r=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o,c;!(n=(o=s.next()).done);n=!0)if(c=o.value,c){i=c[e[0]];for(var d=1;d<e.length;d++)i&&(i=i[e[d]]);if(typeof i<"u")break}}catch(p){r=!0,a=p}finally{try{n||s.return==null||s.return()}finally{if(r)throw a}}return i}var Ee=Object.freeze({isNumber:$p,recursiveDOMDelete:OU,isString:Qs,isObject:GC,isDate:dz,isMoment:ug,fillIfDefined:NU,extend:hz,selectiveExtend:fz,selectiveDeepExtend:pz,selectiveNotDeepExtend:mz,deepExtend:qw,equalArray:yz,convert:gz,getType:dg,copyAndExtendArray:vz,copyArray:bz,getAbsoluteLeft:_z,getAbsoluteRight:wz,getAbsoluteTop:Ez,addClassName:Tz,removeClassName:Cz,forEach:kz,toArray:Sz,updateProperty:Az,throttle:xz,addEventListener:Dz,removeEventListener:Iz,preventDefault:Rz,getTarget:Mz,hasParent:Pz,option:Oz,hexToRGB:HS,overrideOpacity:Nz,RGBToHex:VS,parseColor:Gz,RGBToHSV:GU,addCssText:Uz,removeCssText:Lz,HSVToRGB:UU,HSVToHex:UC,hexToHSV:LU,isValidHex:BU,isValidRGB:$U,isValidRGBA:Bz,selectiveBridgeObject:$z,bridgeObject:YS,insertSort:Fz,mergeOptions:Hz,binarySearchCustom:Vz,binarySearchValue:Yz,easingFunctions:qz,getScrollBarWidth:Wz,topMost:jz,randomUUID:oz});function zz(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Xz=zz;function qS(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Dp=qS(function(t){function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(n)}function i(n){return t.exports=typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?i=function(r){return e(r)}:i=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":e(r)},i(n)}t.exports=i});function Kz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ww=Kz;function iM(t,e){for(var i=0,n;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function Zz(t,e,i){return e&&iM(t.prototype,e),i&&iM(t,i),t}var jw=Zz;function Qz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var FU=Qz;function Jz(t,e){return e&&(Dp(e)==="object"||typeof e=="function")?e:FU(t)}var HU=Jz,VU=qS(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(i)}t.exports=e}),eX=qS(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},e(i,n)}t.exports=e});function tX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eX(t,e)}for(var YU=tX,qU=[],v_=0;256>v_;v_++)qU[v_]=(v_+256).toString(16).substr(1);function iX(t,e){var i=0,n=qU;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}for(var WU=function(){if(typeof crypto<"u"&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var i=0,n;16>i;i++)!(3&i)&&(n=4294967296*Math.random()),e[i]=255&n>>>((3&i)<<3);return e}}(),nX=[],b_=0;256>b_;b_++)nX[b_]=(b_+256).toString(16).substr(1);var ju=WU();1|ju[0],ju[1],ju[2],ju[3],ju[4],ju[5];16383&(ju[6]<<8|ju[7]);function rX(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0,n=e&&i||0;typeof t=="string"&&(e=t==="binary"?Array(16):void 0,t={});var r=t.random||(t.rng||WU)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],e)for(var a=0;16>a;a++)e[n+a]=r[a];return e||iX(r)}function LC(t){return LC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LC(t)}var aX=typeof globalThis>"u"?typeof window>"u"?typeof global>"u"?typeof self>"u"?{}:self:global:window:globalThis;function sX(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function oX(t,e){return e={exports:{}},t(e,e.exports),e.exports}for(var Nc=oX(function(t){var e=Math.round,i=Math.pow,n=Math.max,r=Math.abs,a=Math.min,s=Math.floor,o=Math.ceil;(function(c,d){t.exports=d()})(aX,function(){function c(){return Rs.apply(null,arguments)}function d(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function p(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function m(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;for(var h in l)if(l.hasOwnProperty(h))return!1;return!0}function y(l){return l===void 0}function _(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function w(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function C(l,h){var b=[],T;for(T=0;T<l.length;++T)b.push(h(l[T],T));return b}function k(l,h){return Object.prototype.hasOwnProperty.call(l,h)}function S(l,h){for(var b in h)k(h,b)&&(l[b]=h[b]);return k(h,"toString")&&(l.toString=h.toString),k(h,"valueOf")&&(l.valueOf=h.valueOf),l}function x(l,h,b,T){return hr(l,h,b,T,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function D(l){return l._pf==null&&(l._pf=O()),l._pf}function B(l){if(l._isValid==null){var h=D(l),b=Ms.call(h.parsedDateParts,function(M){return M!=null}),T=!isNaN(l._d.getTime())&&0>h.overflow&&!h.empty&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&b);if(l._strict&&(T=T&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=T;else return T}return l._isValid}function P(l){var h=x(NaN);return l==null?D(h).userInvalidated=!0:S(D(h),l),h}function R(l,h){var b,T,M;if(y(h._isAMomentObject)||(l._isAMomentObject=h._isAMomentObject),y(h._i)||(l._i=h._i),y(h._f)||(l._f=h._f),y(h._l)||(l._l=h._l),y(h._strict)||(l._strict=h._strict),y(h._tzm)||(l._tzm=h._tzm),y(h._isUTC)||(l._isUTC=h._isUTC),y(h._offset)||(l._offset=h._offset),y(h._pf)||(l._pf=D(h)),y(h._locale)||(l._locale=h._locale),0<Ia.length)for(b=0;b<Ia.length;b++)T=Ia[b],M=h[T],y(M)||(l[T]=M);return l}function I(l){R(this,l),this._d=new Date(l._d==null?NaN:l._d.getTime()),this.isValid()||(this._d=new Date(NaN)),es===!1&&(es=!0,c.updateOffset(this),es=!1)}function F(l){return l instanceof I||l!=null&&l._isAMomentObject!=null}function $(l){return 0>l?o(l)||0:s(l)}function L(l){var h=+l,b=0;return h!=0&&isFinite(h)&&(b=$(h)),b}function W(l,h,b){var T=a(l.length,h.length),M=r(l.length-h.length),G=0,ee;for(ee=0;ee<T;ee++)(b&&l[ee]!==h[ee]||!b&&L(l[ee])!==L(h[ee]))&&G++;return G+M}function j(l){c.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function z(l,h){var b=!0;return S(function(){if(c.deprecationHandler!=null&&c.deprecationHandler(null,l),b){for(var T=[],M=0,G;M<arguments.length;M++){if(G="",typeof arguments[M]=="object"){for(var ee in G+=`
[`+M+"] ",arguments[0])G+=ee+": "+arguments[0][ee]+", ";G=G.slice(0,-2)}else G=arguments[M];T.push(G)}j(l+`
Arguments: `+Array.prototype.slice.call(T).join("")+`
`+new Error().stack),b=!1}return h.apply(this,arguments)},h)}function re(l,h){c.deprecationHandler!=null&&c.deprecationHandler(l,h),Fo[l]||(j(h),Fo[l]=!0)}function ce(l){return l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function ge(l){var h,b;for(b in l)h=l[b],ce(h)?this[b]=h:this["_"+b]=h;this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function be(l,h){var b=S({},l),T;for(T in h)k(h,T)&&(p(l[T])&&p(h[T])?(b[T]={},S(b[T],l[T]),S(b[T],h[T])):h[T]==null?delete b[T]:b[T]=h[T]);for(T in l)k(l,T)&&!k(h,T)&&p(l[T])&&(b[T]=S({},b[T]));return b}function ue(l){l!=null&&this.set(l)}function se(l,h){var b=l.toLowerCase();Zn[b]=Zn[b+"s"]=Zn[h]=l}function Z(l){return typeof l=="string"?Zn[l]||Zn[l.toLowerCase()]:void 0}function K(l){var h={},b,T;for(T in l)k(l,T)&&(b=Z(T),b&&(h[b]=l[T]));return h}function q(l,h){Qn[l]=h}function ie(l){var h=[];for(var b in l)h.push({unit:b,priority:Qn[b]});return h.sort(function(T,M){return T.priority-M.priority}),h}function le(l,h,b){var T=""+r(l),M=h-T.length;return(0<=l?b?"+":"":"-")+i(10,n(0,M)).toString().substr(1)+T}function Q(l,h,b,T){var M=T;typeof T=="string"&&(M=function(){return this[T]()}),l&&(xn[l]=M),h&&(xn[h[0]]=function(){return le(M.apply(this,arguments),h[1],h[2])}),b&&(xn[b]=function(){return this.localeData().ordinal(M.apply(this,arguments),l)})}function fe(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function de(l){var h=l.match(El),b,T;for(b=0,T=h.length;b<T;b++)h[b]=xn[h[b]]?xn[h[b]]:fe(h[b]);return function(M){var G="",ee;for(ee=0;ee<T;ee++)G+=ce(h[ee])?h[ee].call(M,l):h[ee];return G}}function he(l,h){return l.isValid()?(h=ve(h,l.localeData()),Ma[h]=Ma[h]||de(h),Ma[h](l)):l.localeData().invalidDate()}function ve(l,h){function b(M){return h.longDateFormat(M)||M}var T=5;for(ca.lastIndex=0;0<=T&&ca.test(l);)l=l.replace(ca,b),ca.lastIndex=0,T-=1;return l}function ne(l,h,b){Os[l]=ce(h)?h:function(T){return T&&b?b:h}}function Bt(l,h){return k(Os,l)?Os[l](h._strict,h._locale):new RegExp(It(l))}function It(l){return ht(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,b,T,M,G){return b||T||M||G}))}function ht(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Se(l,h){var b=h,T;for(typeof l=="string"&&(l=[l]),_(h)&&(b=function(M,G){G[h]=L(M)}),T=0;T<l.length;T++)ts[l[T]]=b}function Jt(l,h){Se(l,function(b,T,M,G){M._w=M._w||{},h(b,M._w,M,G)})}function $t(l,h,b){h!=null&&k(ts,l)&&ts[l](h,b._a,b,l)}function St(l){return xt(l)?366:365}function xt(l){return l%4==0&&l%100!=0||l%400==0}function Ct(l,h){return function(b){return b==null?nt(this,l):(De(this,l,b),c.updateOffset(this,h),this)}}function nt(l,h){return l.isValid()?l._d["get"+(l._isUTC?"UTC":"")+h]():NaN}function De(l,h,b){l.isValid()&&!isNaN(b)&&(h==="FullYear"&&xt(l.year())&&l.month()===1&&l.date()===29?l._d["set"+(l._isUTC?"UTC":"")+h](b,l.month(),st(b,l.month())):l._d["set"+(l._isUTC?"UTC":"")+h](b))}function Ve(l,h){if(typeof l=="object"){l=K(l);for(var b=ie(l),T=0;T<b.length;T++)this[b[T].unit](l[b[T].unit])}else if(l=Z(l),ce(this[l]))return this[l](h);return this}function Pt(l,h){return(l%h+h)%h}function st(l,h){if(isNaN(l)||isNaN(h))return NaN;var b=Pt(h,12);return l+=(h-b)/12,b===1?xt(l)?29:28:31-b%7%2}function _i(l,h,b){var T=l.toLocaleLowerCase(),M,G,ee;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],M=0;12>M;++M)ee=x([2e3,M]),this._shortMonthsParse[M]=this.monthsShort(ee,"").toLocaleLowerCase(),this._longMonthsParse[M]=this.months(ee,"").toLocaleLowerCase();return b?h==="MMM"?(G=ct.call(this._shortMonthsParse,T),G===-1?null:G):(G=ct.call(this._longMonthsParse,T),G===-1?null:G):h==="MMM"?(G=ct.call(this._shortMonthsParse,T),G!==-1?G:(G=ct.call(this._longMonthsParse,T),G===-1?null:G)):(G=ct.call(this._longMonthsParse,T),G!==-1?G:(G=ct.call(this._shortMonthsParse,T),G===-1?null:G))}function mi(l,h,b){var T,M,G;if(this._monthsParseExact)return _i.call(this,l,h,b);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),T=0;12>T;T++)if(M=x([2e3,T]),b&&!this._longMonthsParse[T]&&(this._longMonthsParse[T]=new RegExp("^"+this.months(M,"").replace(".","")+"$","i"),this._shortMonthsParse[T]=new RegExp("^"+this.monthsShort(M,"").replace(".","")+"$","i")),b||this._monthsParse[T]||(G="^"+this.months(M,"")+"|^"+this.monthsShort(M,""),this._monthsParse[T]=new RegExp(G.replace(".",""),"i")),b&&h==="MMMM"&&this._longMonthsParse[T].test(l)||b&&h==="MMM"&&this._shortMonthsParse[T].test(l)||!b&&this._monthsParse[T].test(l))return T}function wi(l,h){var b;if(!l.isValid())return l;if(typeof h=="string"){if(/^\d+$/.test(h))h=L(h);else if(h=l.localeData().monthsParse(h),!_(h))return l}return b=a(l.date(),st(l.year(),h)),l._d["set"+(l._isUTC?"UTC":"")+"Month"](h,b),l}function Ei(l){return l==null?nt(this,"Month"):(wi(this,l),c.updateOffset(this,!0),this)}function di(){function l(ee,we){return we.length-ee.length}var h=[],b=[],T=[],M,G;for(M=0;12>M;M++)G=x([2e3,M]),h.push(this.monthsShort(G,"")),b.push(this.months(G,"")),T.push(this.months(G,"")),T.push(this.monthsShort(G,""));for(h.sort(l),b.sort(l),T.sort(l),M=0;12>M;M++)h[M]=ht(h[M]),b[M]=ht(b[M]);for(M=0;24>M;M++)T[M]=ht(T[M]);this._monthsRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Xi(l,h,b,T,M,G,ee){var we;return 100>l&&0<=l?(we=new Date(l+400,h,b,T,M,G,ee),isFinite(we.getFullYear())&&we.setFullYear(l)):we=new Date(l,h,b,T,M,G,ee),we}function Rt(l){var h;if(100>l&&0<=l){var b=Array.prototype.slice.call(arguments);b[0]=l+400,h=new Date(Date.UTC.apply(null,b)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(l)}else h=new Date(Date.UTC.apply(null,arguments));return h}function jt(l,h,b){var T=7+h-b,M=(7+Rt(l,0,T).getUTCDay()-h)%7;return-M+T-1}function Xe(l,h,b,T,M){var G=jt(l,T,M),ee=1+7*(h-1)+(7+b-T)%7+G,we,Oe;return 0>=ee?(we=l-1,Oe=St(we)+ee):ee>St(l)?(we=l+1,Oe=ee-St(l)):(we=l,Oe=ee),{year:we,dayOfYear:Oe}}function zt(l,h,b){var T=jt(l.year(),h,b),M=s((l.dayOfYear()-T-1)/7)+1,G,ee;return 1>M?(ee=l.year()-1,G=M+ut(ee,h,b)):M>ut(l.year(),h,b)?(G=M-ut(l.year(),h,b),ee=l.year()+1):(ee=l.year(),G=M),{week:G,year:ee}}function ut(l,h,b){var T=jt(l,h,b),M=jt(l+1,h,b);return(St(l)-T+M)/7}function Ot(l,h){return typeof l=="string"?isNaN(l)?(l=h.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10):l}function ye(l,h){return typeof l=="string"?h.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Pe(l,h){return l.slice(h,7).concat(l.slice(0,h))}function Le(l,h,b){var T=l.toLocaleLowerCase(),M,G,ee;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],M=0;7>M;++M)ee=x([2e3,1]).day(M),this._minWeekdaysParse[M]=this.weekdaysMin(ee,"").toLocaleLowerCase(),this._shortWeekdaysParse[M]=this.weekdaysShort(ee,"").toLocaleLowerCase(),this._weekdaysParse[M]=this.weekdays(ee,"").toLocaleLowerCase();return b?h==="dddd"?(G=ct.call(this._weekdaysParse,T),G===-1?null:G):h==="ddd"?(G=ct.call(this._shortWeekdaysParse,T),G===-1?null:G):(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G):h==="dddd"?(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._shortWeekdaysParse,T),G!==-1?G:(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G))):h==="ddd"?(G=ct.call(this._shortWeekdaysParse,T),G!==-1?G:(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G))):(G=ct.call(this._minWeekdaysParse,T),G!==-1?G:(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._shortWeekdaysParse,T),G===-1?null:G)))}function lt(l,h,b){var T,M,G;if(this._weekdaysParseExact)return Le.call(this,l,h,b);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),T=0;7>T;T++)if(M=x([2e3,1]).day(T),b&&!this._fullWeekdaysParse[T]&&(this._fullWeekdaysParse[T]=new RegExp("^"+this.weekdays(M,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[T]=new RegExp("^"+this.weekdaysShort(M,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[T]=new RegExp("^"+this.weekdaysMin(M,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[T]||(G="^"+this.weekdays(M,"")+"|^"+this.weekdaysShort(M,"")+"|^"+this.weekdaysMin(M,""),this._weekdaysParse[T]=new RegExp(G.replace(".",""),"i")),b&&h==="dddd"&&this._fullWeekdaysParse[T].test(l)||b&&h==="ddd"&&this._shortWeekdaysParse[T].test(l)||b&&h==="dd"&&this._minWeekdaysParse[T].test(l)||!b&&this._weekdaysParse[T].test(l))return T}function tt(){function l(Qt,tr){return tr.length-Qt.length}var h=[],b=[],T=[],M=[],G,ee,we,Oe,Tt;for(G=0;7>G;G++)ee=x([2e3,1]).day(G),we=this.weekdaysMin(ee,""),Oe=this.weekdaysShort(ee,""),Tt=this.weekdays(ee,""),h.push(we),b.push(Oe),T.push(Tt),M.push(we),M.push(Oe),M.push(Tt);for(h.sort(l),b.sort(l),T.sort(l),M.sort(l),G=0;7>G;G++)b[G]=ht(b[G]),T[G]=ht(T[G]),M[G]=ht(M[G]);this._weekdaysRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function at(){return this.hours()%12||12}function Xt(l,h){Q(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}function hi(l,h){return h._meridiemParse}function Sn(l){return l&&l.toLowerCase().replace("_","-")}function ks(l){for(var h=0,b,T,M,G;h<l.length;){for(G=Sn(l[h]).split("-"),b=G.length,T=Sn(l[h+1]),T=T?T.split("-"):null;0<b;){if(M=ur(G.slice(0,b).join("-")),M)return M;if(T&&T.length>=b&&W(G,T,!0)>=b-1)break;b--}h++}return er}function ur(l){var h=null;if(!dt[l]&&t&&t.exports)try{h=er._abbr,sX("./locale/"+l),Ki(h)}catch{}return dt[l]}function Ki(l,h){var b;return l&&(b=y(h)?Pi(l):Ss(l,h),b?er=b:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),er._abbr}function Ss(l,h){if(h!==null){var b=fo,T;if(h.abbr=l,dt[l]!=null)re("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),b=dt[l]._config;else if(h.parentLocale!=null)if(dt[h.parentLocale]!=null)b=dt[h.parentLocale]._config;else if(T=ur(h.parentLocale),T!=null)b=T._config;else return mr[h.parentLocale]||(mr[h.parentLocale]=[]),mr[h.parentLocale].push({name:l,config:h}),null;return dt[l]=new ue(be(b,h)),mr[l]&&mr[l].forEach(function(M){Ss(M.name,M.config)}),Ki(l),dt[l]}return delete dt[l],null}function Pi(l){var h;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return er;if(!d(l)){if(h=ur(l),h)return h;l=[l]}return ks(l)}function qd(){return wl(dt)}function Sa(l){var h=l._a,b;return h&&D(l).overflow===-2&&(b=0>h[1]||11<h[1]?1:1>h[2]||h[2]>st(h[0],h[1])?2:0>h[3]||24<h[3]||h[3]===24&&(h[4]!==0||h[5]!==0||h[6]!==0)?3:0>h[4]||59<h[4]?4:0>h[5]||59<h[5]?5:0>h[6]||999<h[6]?6:-1,D(l)._overflowDayOfYear&&(0>b||2<b)&&(b=2),D(l)._overflowWeeks&&b===-1&&(b=7),D(l)._overflowWeekday&&b===-1&&(b=8),D(l).overflow=b),l}function Nn(l,h,b){return l??h??b}function Wd(l){var h=new Date(c.now());return l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function Aa(l){var h=[],b,T,M,G,ee;if(!l._d){for(M=Wd(l),l._w&&l._a[2]==null&&l._a[1]==null&&jd(l),l._dayOfYear!=null&&(ee=Nn(l._a[0],M[0]),(l._dayOfYear>St(ee)||l._dayOfYear===0)&&(D(l)._overflowDayOfYear=!0),T=Rt(ee,0,l._dayOfYear),l._a[1]=T.getUTCMonth(),l._a[2]=T.getUTCDate()),b=0;3>b&&l._a[b]==null;++b)l._a[b]=h[b]=M[b];for(;7>b;b++)l._a[b]=h[b]=l._a[b]==null?b===2?1:0:l._a[b];l._a[3]===24&&l._a[4]===0&&l._a[5]===0&&l._a[6]===0&&(l._nextDay=!0,l._a[3]=0),l._d=(l._useUTC?Rt:Xi).apply(null,h),G=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[3]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==G&&(D(l).weekdayMismatch=!0)}}function jd(l){var h,b,T,M,G,ee,we,Oe;if(h=l._w,h.GG!=null||h.W!=null||h.E!=null)G=1,ee=4,b=Nn(h.GG,l._a[0],zt(Ne(),1,4).year),T=Nn(h.W,1),M=Nn(h.E,1),(1>M||7<M)&&(Oe=!0);else{G=l._locale._week.dow,ee=l._locale._week.doy;var Tt=zt(Ne(),G,ee);b=Nn(h.gg,l._a[0],Tt.year),T=Nn(h.w,Tt.week),h.d==null?h.e==null?M=G:(M=h.e+G,(0>h.e||6<h.e)&&(Oe=!0)):(M=h.d,(0>M||6<M)&&(Oe=!0))}1>T||T>ut(b,G,ee)?D(l)._overflowWeeks=!0:Oe==null?(we=Xe(b,T,M,G,ee),l._a[0]=we.year,l._dayOfYear=we.dayOfYear):D(l)._overflowWeekday=!0}function lo(l){var h=l._i,b=rh.exec(h)||mu.exec(h),T,M,G,ee,we,Oe;if(b){for(D(l).iso=!0,T=0,M=pa.length;T<M;T++)if(pa[T][1].exec(b[1])){ee=pa[T][0],G=pa[T][2]!==!1;break}if(ee==null)return void(l._isValid=!1);if(b[3]){for(T=0,M=zr.length;T<M;T++)if(zr[T][1].exec(b[3])){we=(b[2]||" ")+zr[T][0];break}if(we==null)return void(l._isValid=!1)}if(!G&&we!=null)return void(l._isValid=!1);if(b[4])if(yu.exec(b[4]))Oe="Z";else return void(l._isValid=!1);l._f=ee+(we||"")+(Oe||""),dr(l)}else l._isValid=!1}function co(l,h,b,T,M,G){var ee=[zd(l),is.indexOf(h),parseInt(b,10),parseInt(T,10),parseInt(M,10)];return G&&ee.push(parseInt(G,10)),ee}function zd(l){var h=parseInt(l,10);return 49>=h?2e3+h:999>=h?1900+h:h}function Xd(l){return l.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vl(l,h,b){if(l){var T=Sl.indexOf(l),M=new Date(h[0],h[1],h[2]).getDay();if(T!==M)return D(b).weekdayMismatch=!0,b._isValid=!1,!1}return!0}function yc(l,h,b){if(l)return _c[l];if(h)return 0;var T=parseInt(b,10),M=T%100;return 60*((T-M)/100)+M}function xa(l){var h=Al.exec(Xd(l._i));if(h){var b=co(h[4],h[3],h[2],h[5],h[6],h[7]);if(!vl(h[1],b,l))return;l._a=b,l._tzm=yc(h[8],h[9],h[10]),l._d=Rt.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),D(l).rfc2822=!0}else l._isValid=!1}function Kd(l){var h=Pa.exec(l._i);if(h!==null)return void(l._d=new Date(+h[1]));if(lo(l),l._isValid===!1)delete l._isValid;else return;if(xa(l),l._isValid===!1)delete l._isValid;else return;c.createFromInputFallback(l)}function dr(l){if(l._f===c.ISO_8601)return void lo(l);if(l._f===c.RFC_2822)return void xa(l);l._a=[],D(l).empty=!0;var h=""+l._i,b=h.length,T=0,M,G,ee,we,Oe;for(ee=ve(l._f,l._locale).match(El)||[],M=0;M<ee.length;M++)we=ee[M],G=(h.match(Bt(we,l))||[])[0],G&&(Oe=h.substr(0,h.indexOf(G)),0<Oe.length&&D(l).unusedInput.push(Oe),h=h.slice(h.indexOf(G)+G.length),T+=G.length),xn[we]?(G?D(l).empty=!1:D(l).unusedTokens.push(we),$t(we,G,l)):l._strict&&!G&&D(l).unusedTokens.push(we);D(l).charsLeftOver=b-T,0<h.length&&D(l).unusedInput.push(h),12>=l._a[3]&&D(l).bigHour===!0&&0<l._a[3]&&(D(l).bigHour=void 0),D(l).parsedDateParts=l._a.slice(0),D(l).meridiem=l._meridiem,l._a[3]=gc(l._locale,l._a[3],l._meridiem),Aa(l),Sa(l)}function gc(l,h,b){var T;return b==null?h:l.meridiemHour==null?(l.isPM==null||(T=l.isPM(b),T&&12>h&&(h+=12),T||h!==12||(h=0)),h):l.meridiemHour(h,b)}function uu(l){var h,b,T,M,G;if(l._f.length===0)return D(l).invalidFormat=!0,void(l._d=new Date(NaN));for(M=0;M<l._f.length;M++)G=0,h=R({},l),l._useUTC!=null&&(h._useUTC=l._useUTC),h._f=l._f[M],dr(h),B(h)&&(G+=D(h).charsLeftOver,G+=10*D(h).unusedTokens.length,D(h).score=G,(T==null||G<T)&&(T=G,b=h));S(l,b||h)}function Zi(l){if(!l._d){var h=K(l._i);l._a=C([h.year,h.month,h.day||h.date,h.hour,h.minute,h.second,h.millisecond],function(b){return b&&parseInt(b,10)}),Aa(l)}}function ot(l){var h=new I(Sa(ra(l)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function ra(l){var h=l._i,b=l._f;return l._locale=l._locale||Pi(l._l),h===null||b===void 0&&h===""?P({nullInput:!0}):(typeof h=="string"&&(l._i=h=l._locale.preparse(h)),F(h)?new I(Sa(h)):(w(h)?l._d=h:d(b)?uu(l):b?dr(l):vc(l),B(l)||(l._d=null),l))}function vc(l){var h=l._i;y(h)?l._d=new Date(c.now()):w(h)?l._d=new Date(h.valueOf()):typeof h=="string"?Kd(l):d(h)?(l._a=C(h.slice(0),function(b){return parseInt(b,10)}),Aa(l)):p(h)?Zi(l):_(h)?l._d=new Date(h):c.createFromInputFallback(l)}function hr(l,h,b,T,M){var G={};return(b===!0||b===!1)&&(T=b,b=void 0),(p(l)&&m(l)||d(l)&&l.length===0)&&(l=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=M,G._l=b,G._i=l,G._f=h,G._strict=T,ot(G)}function Ne(l,h,b,T){return hr(l,h,b,T,!1)}function aa(l,h){var b,T;if(h.length===1&&d(h[0])&&(h=h[0]),!h.length)return Ne();for(b=h[0],T=1;T<h.length;++T)(!h[T].isValid()||h[T][l](b))&&(b=h[T]);return b}function Po(l){for(var h in l)if(ct.call(Vn,h)===-1||l[h]!=null&&isNaN(l[h]))return!1;for(var b=!1,T=0;T<Vn.length;++T)if(l[Vn[T]]){if(b)return!1;parseFloat(l[Vn[T]])!==L(l[Vn[T]])&&(b=!0)}return!0}function kr(l){var h=K(l),b=h.year||0,T=h.quarter||0,M=h.month||0,G=h.week||h.isoWeek||0,ee=h.day||0,we=h.hour||0,Oe=h.minute||0,Tt=h.second||0,Qt=h.millisecond||0;this._isValid=Po(h),this._milliseconds=+Qt+1e3*Tt+6e4*Oe+60*(60*(1e3*we)),this._days=+ee+7*G,this._months=+M+3*T+12*b,this._data={},this._locale=Pi(),this._bubble()}function Ie(l){return l instanceof kr}function yt(l){return 0>l?-1*e(-1*l):e(l)}function uo(l,h){Q(l,0,0,function(){var b=this.utcOffset(),T="+";return 0>b&&(b=-b,T="-"),T+le(~~(b/60),2)+h+le(~~b%60,2)})}function Da(l,h){var b=(h||"").match(l);if(b===null)return null;var T=b[b.length-1]||[],M=(T+"").match(ah)||["-",0,0],G=+(60*M[1])+L(M[2]);return G===0?0:M[0]==="+"?G:-G}function sa(l,h){var b,T;return h._isUTC?(b=h.clone(),T=(F(l)||w(l)?l.valueOf():Ne(l).valueOf())-b.valueOf(),b._d.setTime(b._d.valueOf()+T),c.updateOffset(b,!1),b):Ne(l).local()}function oa(l){return 15*-e(l._d.getTimezoneOffset()/15)}function du(){if(!y(this._isDSTShifted))return this._isDSTShifted;var l={};if(R(l,this),l=ra(l),l._a){var h=l._isUTC?x(l._a):Ne(l._a);this._isDSTShifted=this.isValid()&&0<W(l._a,h.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function vt(){return!!this.isValid()&&this._isUTC&&this._offset===0}function si(l,h){var b=l,T=null,M,G,ee;return Ie(l)?b={ms:l._milliseconds,d:l._days,M:l._months}:_(l)?(b={},h?b[h]=l:b.milliseconds=l):(T=gu.exec(l))?(M=T[1]==="-"?-1:1,b={y:0,d:L(T[2])*M,h:L(T[3])*M,m:L(T[4])*M,s:L(T[5])*M,ms:L(yt(1e3*T[6]))*M}):(T=sh.exec(l))?(M=T[1]==="-"?-1:1,b={y:nn(T[2],M),M:nn(T[3],M),w:nn(T[4],M),d:nn(T[5],M),h:nn(T[6],M),m:nn(T[7],M),s:nn(T[8],M)}):b==null?b={}:typeof b=="object"&&("from"in b||"to"in b)&&(ee=la(Ne(b.from),Ne(b.to)),b={},b.ms=ee.milliseconds,b.M=ee.months),G=new kr(b),Ie(l)&&k(l,"_locale")&&(G._locale=l._locale),G}function nn(l,h){var b=l&&parseFloat(l.replace(",","."));return(isNaN(b)?0:b)*h}function As(l,h){var b={};return b.months=h.month()-l.month()+12*(h.year()-l.year()),l.clone().add(b.months,"M").isAfter(h)&&--b.months,b.milliseconds=+h-+l.clone().add(b.months,"M"),b}function la(l,h){var b;return l.isValid()&&h.isValid()?(h=sa(h,l),l.isBefore(h)?b=As(l,h):(b=As(h,l),b.milliseconds=-b.milliseconds,b.months=-b.months),b):{milliseconds:0,months:0}}function Oo(l,h){return function(b,T){var M,G;return T===null||isNaN(+T)||(re(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=b,b=T,T=G),b=typeof b=="string"?+b:b,M=si(b,T),No(this,M,l),this}}function No(l,h,b,T){var M=h._milliseconds,G=yt(h._days),ee=yt(h._months);l.isValid()&&(T=T==null||T,ee&&wi(l,nt(l,"Month")+ee*b),G&&De(l,"Date",nt(l,"Date")+G*b),M&&l._d.setTime(l._d.valueOf()+M*b),T&&c.updateOffset(l,G||ee))}function Hr(l,h){var b=12*(h.year()-l.year())+(h.month()-l.month()),T=l.clone().add(b,"months"),M,G;return 0>h-T?(M=l.clone().add(b-1,"months"),G=(h-T)/(T-M)):(M=l.clone().add(b+1,"months"),G=(h-T)/(M-T)),-(b+G)||0}function ho(l){var h;return l===void 0?this._locale._abbr:(h=Pi(l),h!=null&&(this._locale=h),this)}function Go(){return this._locale}function yn(l,h){return(l%h+h)%h}function Uo(l,h,b){return 100>l&&0<=l?new Date(l+400,h,b)-126227808e5:new Date(l,h,b).valueOf()}function Lo(l,h,b){return 100>l&&0<=l?Date.UTC(l+400,h,b)-126227808e5:Date.UTC(l,h,b)}function Vr(l,h){Q(0,[l,l.length],0,h)}function Bo(l,h,b,T,M){var G;return l==null?zt(this,T,M).year:(G=ut(l,T,M),h>G&&(h=G),Zd.call(this,l,h,b,T,M))}function Zd(l,h,b,T,M){var G=Xe(l,h,b,T,M),ee=Rt(G.year,0,G.dayOfYear);return this.year(ee.getUTCFullYear()),this.month(ee.getUTCMonth()),this.date(ee.getUTCDate()),this}function Qd(l,h){h[6]=L(1e3*("0."+l))}function $o(l){return l}function gn(l,h,b,T){var M=Pi(),G=x().set(T,h);return M[b](G,l)}function bl(l,h,b){if(_(l)&&(h=l,l=void 0),l=l||"",h!=null)return gn(l,h,b,"month");var T=[],M;for(M=0;12>M;M++)T[M]=gn(l,M,b,"month");return T}function xs(l,h,b,T){typeof l=="boolean"?(_(h)&&(b=h,h=void 0),h=h||""):(h=l,b=h,l=!1,_(h)&&(b=h,h=void 0),h=h||"");var M=Pi(),G=l?M._week.dow:0;if(b!=null)return gn(h,(b+G)%7,T,"day");var ee=[],we;for(we=0;7>we;we++)ee[we]=gn(h,(we+G)%7,T,"day");return ee}function Ds(l,h,b,T){var M=si(h,b);return l._milliseconds+=T*M._milliseconds,l._days+=T*M._days,l._months+=T*M._months,l._bubble()}function Ja(l){return 0>l?s(l):o(l)}function _l(l){return 4800*l/146097}function Is(l){return 146097*l/4800}function Mi(l){return function(){return this.as(l)}}function cn(l){return function(){return this.isValid()?this._data[l]:NaN}}function bc(l,h,b,T,M){return M.relativeTime(h||1,!!b,l,T)}function hu(l,h,b){var T=si(l).abs(),M=Vi(T.as("s")),G=Vi(T.as("m")),ee=Vi(T.as("h")),we=Vi(T.as("d")),Oe=Vi(T.as("M")),Tt=Vi(T.as("y")),Qt=M<=Zt.ss&&["s",M]||M<Zt.s&&["ss",M]||1>=G&&["m"]||G<Zt.m&&["mm",G]||1>=ee&&["h"]||ee<Zt.h&&["hh",ee]||1>=we&&["d"]||we<Zt.d&&["dd",we]||1>=Oe&&["M"]||Oe<Zt.M&&["MM",Oe]||1>=Tt&&["y"]||["yy",Tt];return Qt[2]=h,Qt[3]=0<+l,Qt[4]=b,bc.apply(null,Qt)}function Jd(l){return l===void 0?Vi:typeof l=="function"&&(Vi=l,!0)}function An(l){return(0<l)-(0>l)||+l}function Yr(){if(!this.isValid())return this.localeData().invalidDate();var l=Dr(this._milliseconds)/1e3,h=Dr(this._days),b=Dr(this._months),T,M,G;T=$(l/60),M=$(T/60),l%=60,T%=60,G=$(b/12),b%=12;var ee=G,we=b,Oe=h,Tt=M,Qt=T,tr=l?l.toFixed(3).replace(/\.?0+$/,""):"",Dn=this.asSeconds();if(!Dn)return"P0D";var Au=0>Dn?"-":"",po=An(this._months)===An(Dn)?"":"-",Il=An(this._days)===An(Dn)?"":"-",Gs=An(this._milliseconds)===An(Dn)?"":"-";return Au+"P"+(ee?po+ee+"Y":"")+(we?po+we+"M":"")+(Oe?Il+Oe+"D":"")+(Tt||Qt||tr?"T":"")+(Tt?Gs+Tt+"H":"")+(Qt?Gs+Qt+"M":"")+(tr?Gs+tr+"S":"")}var Rs,Ms;Ms=Array.prototype.some?Array.prototype.some:function(l){for(var h=Object(this),b=h.length>>>0,T=0;T<b;T++)if(T in h&&l.call(this,h[T],T,h))return!0;return!1};var Ia=c.momentProperties=[],es=!1,Fo={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var wl=Object.keys?Object.keys:function(l){var h=[],b;for(b in l)k(l,b)&&h.push(b);return h},eh=/\d{1,2}/,Zn={},Qn={},El=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ca=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ma={},xn={},qr=/\d/,Gt=/\d\d/,Sr=/\d{3}/,ua=/\d{4}/,Ar=/[+-]?\d{6}/,We=/\d\d?/,Tl=/\d\d\d\d?/,Cl=/\d\d\d\d\d\d?/,da=/\d{1,3}/,Ps=/\d{1,4}/,Wr=/[+-]?\d{1,6}/,fu=/\d+/,ha=/[+-]?\d+/,th=/Z|[+-]\d\d:?\d\d/gi,fa=/Z|[+-]\d\d(?::?\d\d)?/gi,ih=/[+-]?\d+(\.\d{1,3})?/,Jn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Os={},ts={},fr=0,xr=1,kl=2,un=3,pr=4,jr=5;Q("Y",0,0,function(){var l=this.year();return 9999>=l?""+l:"+"+l}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),se("year","y"),q("year",1),ne("Y",ha),ne("YY",We,Gt),ne("YYYY",Ps,ua),ne("YYYYY",Wr,Ar),ne("YYYYYY",Wr,Ar),Se(["YYYYY","YYYYYY"],fr),Se("YYYY",function(l,h){h[fr]=l.length===2?c.parseTwoDigitYear(l):L(l)}),Se("YY",function(l,h){h[fr]=c.parseTwoDigitYear(l)}),Se("Y",function(l,h){h[fr]=parseInt(l,10)}),c.parseTwoDigitYear=function(l){return L(l)+(68<L(l)?1900:2e3)};var Fi=Ct("FullYear",!0),ct;ct=Array.prototype.indexOf?Array.prototype.indexOf:function(l){var h;for(h=0;h<this.length;++h)if(this[h]===l)return h;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),Q("MMMM",0,0,function(l){return this.localeData().months(this,l)}),se("month","M"),q("month",8),ne("M",We),ne("MM",We,Gt),ne("MMM",function(l,h){return h.monthsShortRegex(l)}),ne("MMMM",function(l,h){return h.monthsRegex(l)}),Se(["M","MM"],function(l,h){h[xr]=L(l)-1}),Se(["MMM","MMMM"],function(l,h,b,T){var M=b._locale.monthsParse(l,T,b._strict);M==null?D(b).invalidMonth=l:h[xr]=M});var Ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,is=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),se("week","w"),se("isoWeek","W"),q("week",5),q("isoWeek",5),ne("w",We),ne("ww",We,Gt),ne("W",We),ne("WW",We,Gt),Jt(["w","ww","W","WW"],function(l,h,b,T){h[T.substr(0,1)]=L(l)}),Q("d",0,"do","day"),Q("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),Q("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),Q("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),se("day","d"),se("weekday","e"),se("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),ne("d",We),ne("e",We),ne("E",We),ne("dd",function(l,h){return h.weekdaysMinRegex(l)}),ne("ddd",function(l,h){return h.weekdaysShortRegex(l)}),ne("dddd",function(l,h){return h.weekdaysRegex(l)}),Jt(["dd","ddd","dddd"],function(l,h,b,T){var M=b._locale.weekdaysParse(l,T,b._strict);M==null?D(b).invalidWeekday=l:h.d=M}),Jt(["d","e","E"],function(l,h,b,T){h[T]=L(l)});var Sl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,at),Q("k",["kk",2],0,function(){return this.hours()||24}),Q("hmm",0,0,function(){return""+at.apply(this)+le(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+at.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),se("hour","h"),q("hour",13),ne("a",hi),ne("A",hi),ne("H",We),ne("h",We),ne("k",We),ne("HH",We,Gt),ne("hh",We,Gt),ne("kk",We,Gt),ne("hmm",Tl),ne("hmmss",Cl),ne("Hmm",Tl),ne("Hmmss",Cl),Se(["H","HH"],un),Se(["k","kk"],function(l,h){var b=L(l);h[un]=b===24?0:b}),Se(["a","A"],function(l,h,b){b._isPm=b._locale.isPM(l),b._meridiem=l}),Se(["h","hh"],function(l,h,b){h[un]=L(l),D(b).bigHour=!0}),Se("hmm",function(l,h,b){var T=l.length-2;h[un]=L(l.substr(0,T)),h[pr]=L(l.substr(T)),D(b).bigHour=!0}),Se("hmmss",function(l,h,b){var T=l.length-4,M=l.length-2;h[un]=L(l.substr(0,T)),h[pr]=L(l.substr(T,2)),h[jr]=L(l.substr(M)),D(b).bigHour=!0}),Se("Hmm",function(l,h){var b=l.length-2;h[un]=L(l.substr(0,b)),h[pr]=L(l.substr(b))}),Se("Hmmss",function(l,h){var b=l.length-4,T=l.length-2;h[un]=L(l.substr(0,b)),h[pr]=L(l.substr(b,2)),h[jr]=L(l.substr(T))});var pu=/[ap]\.?m?\.?/i,nh=Ct("Hours",!0),fo={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:eh,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:is,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Sl,meridiemParse:pu},dt={},mr={},rh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mu=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yu=/Z|[+-]\d\d(?::?\d\d)?/,pa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pa=/^\/?Date\((\-?\d+)/i,Al=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_c={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},er;c.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var ma=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ne.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:P()}),Ns=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ne.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:P()}),Vn=["year","quarter","month","week","day","hour","minute","second","millisecond"];uo("Z",":"),uo("ZZ",""),ne("Z",fa),ne("ZZ",fa),Se(["Z","ZZ"],function(l,h,b){b._useUTC=!0,b._tzm=Da(fa,l)});var ah=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var gu=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sh=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;si.fn=kr.prototype,si.invalid=function(){return si(NaN)};var vu=Oo(1,"add"),wc=Oo(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Oa=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Vr("gggg","weekYear"),Vr("ggggg","weekYear"),Vr("GGGG","isoWeekYear"),Vr("GGGGG","isoWeekYear"),se("weekYear","gg"),se("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),ne("G",ha),ne("g",ha),ne("GG",We,Gt),ne("gg",We,Gt),ne("GGGG",Ps,ua),ne("gggg",Ps,ua),ne("GGGGG",Wr,Ar),ne("ggggg",Wr,Ar),Jt(["gggg","ggggg","GGGG","GGGGG"],function(l,h,b,T){h[T.substr(0,2)]=L(l)}),Jt(["gg","GG"],function(l,h,b,T){h[T]=c.parseTwoDigitYear(l)}),Q("Q",0,"Qo","quarter"),se("quarter","Q"),q("quarter",7),ne("Q",qr),Se("Q",function(l,h){h[xr]=3*(L(l)-1)}),Q("D",["DD",2],"Do","date"),se("date","D"),q("date",9),ne("D",We),ne("DD",We,Gt),ne("Do",function(l,h){return l?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Se(["D","DD"],kl),Se("Do",function(l,h){h[kl]=L(l.match(We)[0])});var yr=Ct("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),se("dayOfYear","DDD"),q("dayOfYear",4),ne("DDD",da),ne("DDDD",Sr),Se(["DDD","DDDD"],function(l,h,b){b._dayOfYear=L(l)}),Q("m",["mm",2],0,"minute"),se("minute","m"),q("minute",14),ne("m",We),ne("mm",We,Gt),Se(["m","mm"],pr);var bu=Ct("Minutes",!1);Q("s",["ss",2],0,"second"),se("second","s"),q("second",15),ne("s",We),ne("ss",We,Gt),Se(["s","ss"],jr);var _u=Ct("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),se("millisecond","ms"),q("millisecond",16),ne("S",da,qr),ne("SS",da,Gt),ne("SSS",da,Sr);var Hi;for(Hi="SSSS";9>=Hi.length;Hi+="S")ne(Hi,fu);for(Hi="S";9>=Hi.length;Hi+="S")Se(Hi,Qd);var oh=Ct("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var ae=I.prototype;ae.add=vu,ae.calendar=function(l,h){var b=l||Ne(),T=sa(b,this).startOf("day"),M=c.calendarFormat(this,T)||"sameElse",G=h&&(ce(h[M])?h[M].call(this,b):h[M]);return this.format(G||this.localeData().calendar(M,this,Ne(b)))},ae.clone=function(){return new I(this)},ae.diff=function(l,h,b){var T,M,G;return this.isValid()?(T=sa(l,this),T.isValid()?(M=6e4*(T.utcOffset()-this.utcOffset()),h=Z(h),G=h==="year"?Hr(this,T)/12:h==="month"?Hr(this,T):h==="quarter"?Hr(this,T)/3:h==="second"?(this-T)/1e3:h==="minute"?(this-T)/6e4:h==="hour"?(this-T)/36e5:h==="day"?(this-T-M)/864e5:h==="week"?(this-T-M)/6048e5:this-T,b?G:$(G)):NaN):NaN},ae.endOf=function(l){var h;if(l=Z(l),l===void 0||l==="millisecond"||!this.isValid())return this;var b=this._isUTC?Lo:Uo;return l==="year"?h=b(this.year()+1,0,1)-1:l==="quarter"?h=b(this.year(),this.month()-this.month()%3+3,1)-1:l==="month"?h=b(this.year(),this.month()+1,1)-1:l==="week"?h=b(this.year(),this.month(),this.date()-this.weekday()+7)-1:l==="isoWeek"?h=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:l==="day"||l==="date"?h=b(this.year(),this.month(),this.date()+1)-1:l==="hour"?(h=this._d.valueOf(),h+=36e5-yn(h+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):l==="minute"?(h=this._d.valueOf(),h+=6e4-yn(h,6e4)-1):l==="second"&&(h=this._d.valueOf(),h+=1e3-yn(h,1e3)-1),this._d.setTime(h),c.updateOffset(this,!0),this},ae.format=function(l){l||(l=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var h=he(this,l);return this.localeData().postformat(h)},ae.from=function(l,h){return this.isValid()&&(F(l)&&l.isValid()||Ne(l).isValid())?si({to:this,from:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()},ae.fromNow=function(l){return this.from(Ne(),l)},ae.to=function(l,h){return this.isValid()&&(F(l)&&l.isValid()||Ne(l).isValid())?si({from:this,to:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()},ae.toNow=function(l){return this.to(Ne(),l)},ae.get=function(l){return l=Z(l),ce(this[l])?this[l]():this},ae.invalidAt=function(){return D(this).overflow},ae.isAfter=function(l,h){var b=F(l)?l:Ne(l);return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()>b.valueOf():b.valueOf()<this.clone().startOf(h).valueOf())},ae.isBefore=function(l,h){var b=F(l)?l:Ne(l);return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()<b.valueOf():this.clone().endOf(h).valueOf()<b.valueOf())},ae.isBetween=function(l,h,b,T){var M=F(l)?l:Ne(l),G=F(h)?h:Ne(h);return!!(this.isValid()&&M.isValid()&&G.isValid())&&(T=T||"()",(T[0]==="("?this.isAfter(M,b):!this.isBefore(M,b))&&(T[1]===")"?this.isBefore(G,b):!this.isAfter(G,b)))},ae.isSame=function(l,h){var b=F(l)?l:Ne(l),T;return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()===b.valueOf():(T=b.valueOf(),this.clone().startOf(h).valueOf()<=T&&T<=this.clone().endOf(h).valueOf()))},ae.isSameOrAfter=function(l,h){return this.isSame(l,h)||this.isAfter(l,h)},ae.isSameOrBefore=function(l,h){return this.isSame(l,h)||this.isBefore(l,h)},ae.isValid=function(){return B(this)},ae.lang=Oa,ae.locale=ho,ae.localeData=Go,ae.max=Ns,ae.min=ma,ae.parsingFlags=function(){return S({},D(this))},ae.set=Ve,ae.startOf=function(l){var h;if(l=Z(l),l===void 0||l==="millisecond"||!this.isValid())return this;var b=this._isUTC?Lo:Uo;return l==="year"?h=b(this.year(),0,1):l==="quarter"?h=b(this.year(),this.month()-this.month()%3,1):l==="month"?h=b(this.year(),this.month(),1):l==="week"?h=b(this.year(),this.month(),this.date()-this.weekday()):l==="isoWeek"?h=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):l==="day"||l==="date"?h=b(this.year(),this.month(),this.date()):l==="hour"?(h=this._d.valueOf(),h-=yn(h+(this._isUTC?0:6e4*this.utcOffset()),36e5)):l==="minute"?(h=this._d.valueOf(),h-=yn(h,6e4)):l==="second"&&(h=this._d.valueOf(),h-=yn(h,1e3)),this._d.setTime(h),c.updateOffset(this,!0),this},ae.subtract=wc,ae.toArray=function(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]},ae.toObject=function(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}},ae.toDate=function(){return new Date(this.valueOf())},ae.toISOString=function(l){if(!this.isValid())return null;var h=l!==!0,b=h?this.clone().utc():this;return 0>b.year()||9999<b.year()?he(b,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ce(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace("Z",he(b,"Z")):he(b,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ae.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",h="";this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z");var b="["+l+'("]',T=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",M=h+'[")]';return this.format(b+T+"-MM-DD[T]HH:mm:ss.SSS"+M)},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ae.unix=function(){return s(this.valueOf()/1e3)},ae.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ae.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ae.year=Fi,ae.isLeapYear=function(){return xt(this.year())},ae.weekYear=function(l){return Bo.call(this,l,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ae.isoWeekYear=function(l){return Bo.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)},ae.quarter=ae.quarters=function(l){return l==null?o((this.month()+1)/3):this.month(3*(l-1)+this.month()%3)},ae.month=Ei,ae.daysInMonth=function(){return st(this.year(),this.month())},ae.week=ae.weeks=function(l){var h=this.localeData().week(this);return l==null?h:this.add(7*(l-h),"d")},ae.isoWeek=ae.isoWeeks=function(l){var h=zt(this,1,4).week;return l==null?h:this.add(7*(l-h),"d")},ae.weeksInYear=function(){var l=this.localeData()._week;return ut(this.year(),l.dow,l.doy)},ae.isoWeeksInYear=function(){return ut(this.year(),1,4)},ae.date=yr,ae.day=ae.days=function(l){if(!this.isValid())return l==null?NaN:this;var h=this._isUTC?this._d.getUTCDay():this._d.getDay();return l==null?h:(l=Ot(l,this.localeData()),this.add(l-h,"d"))},ae.weekday=function(l){if(!this.isValid())return l==null?NaN:this;var h=(this.day()+7-this.localeData()._week.dow)%7;return l==null?h:this.add(l-h,"d")},ae.isoWeekday=function(l){if(!this.isValid())return l==null?NaN:this;if(l!=null){var h=ye(l,this.localeData());return this.day(this.day()%7?h:h-7)}return this.day()||7},ae.dayOfYear=function(l){var h=e((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?h:this.add(l-h,"d")},ae.hour=ae.hours=nh,ae.minute=ae.minutes=bu,ae.second=ae.seconds=_u,ae.millisecond=ae.milliseconds=oh,ae.utcOffset=function(l,h,b){var T=this._offset||0,M;if(!this.isValid())return l==null?NaN:this;if(l!=null){if(typeof l!="string")16>r(l)&&!b&&(l*=60);else if(l=Da(fa,l),l===null)return this;return!this._isUTC&&h&&(M=oa(this)),this._offset=l,this._isUTC=!0,M!=null&&this.add(M,"m"),T!==l&&(!h||this._changeInProgress?No(this,si(l-T,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?T:oa(this)},ae.utc=function(l){return this.utcOffset(0,l)},ae.local=function(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(oa(this),"m")),this},ae.parseZone=function(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=Da(th,this._i);l==null?this.utcOffset(0,!0):this.utcOffset(l)}return this},ae.hasAlignedHourOffset=function(l){return!!this.isValid()&&(l=l?Ne(l).utcOffset():0,(this.utcOffset()-l)%60==0)},ae.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ae.isLocal=function(){return!!this.isValid()&&!this._isUTC},ae.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ae.isUtc=vt,ae.isUTC=vt,ae.zoneAbbr=function(){return this._isUTC?"UTC":""},ae.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ae.dates=z("dates accessor is deprecated. Use date instead.",yr),ae.months=z("months accessor is deprecated. Use month instead",Ei),ae.years=z("years accessor is deprecated. Use year instead",Fi),ae.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(l,h){return l==null?-this.utcOffset():(typeof l!="string"&&(l=-l),this.utcOffset(l,h),this)}),ae.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",du);var je=ue.prototype;je.calendar=function(l,h,b){var T=this._calendar[l]||this._calendar.sameElse;return ce(T)?T.call(h,b):T},je.longDateFormat=function(l){var h=this._longDateFormat[l],b=this._longDateFormat[l.toUpperCase()];return h||!b?h:(this._longDateFormat[l]=b.replace(/MMMM|MM|DD|dddd/g,function(T){return T.slice(1)}),this._longDateFormat[l])},je.invalidDate=function(){return this._invalidDate},je.ordinal=function(l){return this._ordinal.replace("%d",l)},je.preparse=$o,je.postformat=$o,je.relativeTime=function(l,h,b,T){var M=this._relativeTime[b];return ce(M)?M(l,h,b,T):M.replace(/%d/i,l)},je.pastFuture=function(l,h){var b=this._relativeTime[0<l?"future":"past"];return ce(b)?b(h):b.replace(/%s/i,h)},je.set=ge,je.months=function(l,h){return l?d(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||Ho).test(h)?"format":"standalone"][l.month()]:d(this._months)?this._months:this._months.standalone},je.monthsShort=function(l,h){return l?d(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[Ho.test(h)?"format":"standalone"][l.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},je.monthsParse=mi,je.monthsRegex=function(l){return this._monthsParseExact?(k(this,"_monthsRegex")||di.call(this),l?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=Jn),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)},je.monthsShortRegex=function(l){return this._monthsParseExact?(k(this,"_monthsRegex")||di.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=Jn),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)},je.week=function(l){return zt(l,this._week.dow,this._week.doy).week},je.firstDayOfYear=function(){return this._week.doy},je.firstDayOfWeek=function(){return this._week.dow},je.weekdays=function(l,h){var b=d(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return l===!0?Pe(b,this._week.dow):l?b[l.day()]:b},je.weekdaysMin=function(l){return l===!0?Pe(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin},je.weekdaysShort=function(l){return l===!0?Pe(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort},je.weekdaysParse=lt,je.weekdaysRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Jn),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)},je.weekdaysShortRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jn),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},je.weekdaysMinRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jn),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},je.isPM=function(l){return(l+"").toLowerCase().charAt(0)==="p"},je.meridiem=function(l,h,b){return 11<l?b?"pm":"PM":b?"am":"AM"},Ki("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var h=l%10,b=L(l%100/10)===1?"th":h==1?"st":h==2?"nd":h==3?"rd":"th";return l+b}}),c.lang=z("moment.lang is deprecated. Use moment.locale instead.",Ki),c.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Pi);var Ai=r,Vo=Mi("ms"),wu=Mi("s"),Eu=Mi("m"),Ec=Mi("h"),xl=Mi("d"),Tu=Mi("w"),Dl=Mi("M"),Xr=Mi("Q"),Cu=Mi("y"),Tc=cn("milliseconds"),Cc=cn("seconds"),ku=cn("minutes"),Su=cn("hours"),kc=cn("days"),lh=cn("months"),ch=cn("years"),Vi=e,Zt={ss:44,s:45,m:45,h:22,d:26,M:11},Dr=r,Me=kr.prototype;return Me.isValid=function(){return this._isValid},Me.abs=function(){var l=this._data;return this._milliseconds=Ai(this._milliseconds),this._days=Ai(this._days),this._months=Ai(this._months),l.milliseconds=Ai(l.milliseconds),l.seconds=Ai(l.seconds),l.minutes=Ai(l.minutes),l.hours=Ai(l.hours),l.months=Ai(l.months),l.years=Ai(l.years),this},Me.add=function(l,h){return Ds(this,l,h,1)},Me.subtract=function(l,h){return Ds(this,l,h,-1)},Me.as=function(l){if(!this.isValid())return NaN;var h=this._milliseconds,b,T;if(l=Z(l),l==="month"||l==="quarter"||l==="year")switch(b=this._days+h/864e5,T=this._months+_l(b),l){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(b=this._days+e(Is(this._months)),l){case"week":return b/7+h/6048e5;case"day":return b+h/864e5;case"hour":return 24*b+h/36e5;case"minute":return 1440*b+h/6e4;case"second":return 86400*b+h/1e3;case"millisecond":return s(864e5*b)+h;default:throw new Error("Unknown unit "+l)}},Me.asMilliseconds=Vo,Me.asSeconds=wu,Me.asMinutes=Eu,Me.asHours=Ec,Me.asDays=xl,Me.asWeeks=Tu,Me.asMonths=Dl,Me.asQuarters=Xr,Me.asYears=Cu,Me.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*L(this._months/12):NaN},Me._bubble=function(){var l=this._milliseconds,h=this._days,b=this._months,T=this._data,M,G,ee,we,Oe;return 0<=l&&0<=h&&0<=b||0>=l&&0>=h&&0>=b||(l+=864e5*Ja(Is(b)+h),h=0,b=0),T.milliseconds=l%1e3,M=$(l/1e3),T.seconds=M%60,G=$(M/60),T.minutes=G%60,ee=$(G/60),T.hours=ee%24,h+=$(ee/24),Oe=$(_l(h)),b+=Oe,h-=Ja(Is(Oe)),we=$(b/12),b%=12,T.days=h,T.months=b,T.years=we,this},Me.clone=function(){return si(this)},Me.get=function(l){return l=Z(l),this.isValid()?this[l+"s"]():NaN},Me.milliseconds=Tc,Me.seconds=Cc,Me.minutes=ku,Me.hours=Su,Me.days=kc,Me.weeks=function(){return $(this.days()/7)},Me.months=lh,Me.years=ch,Me.humanize=function(l){if(!this.isValid())return this.localeData().invalidDate();var h=this.localeData(),b=hu(this,!l,h);return l&&(b=h.pastFuture(+this,b)),h.postformat(b)},Me.toISOString=Yr,Me.toString=Yr,Me.toJSON=Yr,Me.locale=ho,Me.localeData=Go,Me.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yr),Me.lang=Oa,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),ne("x",ha),ne("X",ih),Se("X",function(l,h,b){b._d=new Date(1e3*parseFloat(l,10))}),Se("x",function(l,h,b){b._d=new Date(L(l))}),c.version="2.24.0",function(l){Rs=l}(Ne),c.fn=ae,c.min=function(){var l=[].slice.call(arguments,0);return aa("isBefore",l)},c.max=function(){var l=[].slice.call(arguments,0);return aa("isAfter",l)},c.now=function(){return Date.now?Date.now():+new Date},c.utc=x,c.unix=function(l){return Ne(1e3*l)},c.months=function(l,h){return bl(l,h,"months")},c.isDate=w,c.locale=Ki,c.invalid=P,c.duration=si,c.isMoment=F,c.weekdays=function(l,h,b){return xs(l,h,b,"weekdays")},c.parseZone=function(){return Ne.apply(null,arguments).parseZone()},c.localeData=Pi,c.isDuration=Ie,c.monthsShort=function(l,h){return bl(l,h,"monthsShort")},c.weekdaysMin=function(l,h,b){return xs(l,h,b,"weekdaysMin")},c.defineLocale=Ss,c.updateLocale=function(l,h){if(h!=null){var b=fo,T,M;M=ur(l),M!=null&&(b=M._config),h=be(b,h),T=new ue(h),T.parentLocale=dt[l],dt[l]=T,Ki(l)}else dt[l]!=null&&(dt[l].parentLocale==null?dt[l]!=null&&delete dt[l]:dt[l]=dt[l].parentLocale);return dt[l]},c.locales=qd,c.weekdaysShort=function(l,h,b){return xs(l,h,b,"weekdaysShort")},c.normalizeUnits=Z,c.relativeTimeRounding=Jd,c.relativeTimeThreshold=function(l,h){return Zt[l]!==void 0&&(h===void 0?Zt[l]:(Zt[l]=h,l==="s"&&(Zt.ss=h-1),!0))},c.calendarFormat=function(l,h){var b=l.diff(h,"days",!0);return-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse"},c.prototype=ae,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c})}),lX=[],__=0;256>__;__++)lX[__]=(__+256).toString(16).substr(1);for(var cX=function(){if(typeof crypto<"u"&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var i=0,n;16>i;i++)!(3&i)&&(n=4294967296*Math.random()),e[i]=255&n>>>((3&i)<<3);return e}}(),uX=[],w_=0;256>w_;w_++)uX[w_]=(w_+256).toString(16).substr(1);var zu=cX();1|zu[0],zu[1],zu[2],zu[3],zu[4],zu[5];16383&(zu[6]<<8|zu[7]);var E_=/^\/?Date\((-?\d+)/i;function T_(t){return t instanceof Number||typeof t=="number"}function Vy(t){return t instanceof String||typeof t=="string"}function VT(t){return Nc.isMoment(t)}function C_(t,e){var i;if(t!==void 0){if(t===null)return null;if(!e)return t;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!t;case"number":case"Number":return Vy(t)&&!isNaN(Date.parse(t))?Nc(t).valueOf():+t.valueOf();case"string":case"String":return t+"";case"Date":if(T_(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(VT(t))return new Date(t.valueOf());if(Vy(t))return i=E_.exec(t),i?new Date(+i[1]):Nc(new Date(t)).toDate();throw new Error("Cannot convert object of type "+k_(t)+" to type Date");case"Moment":if(T_(t))return Nc(t);if(t instanceof Date)return Nc(t.valueOf());if(VT(t))return Nc(t);if(Vy(t))return i=E_.exec(t),Nc(i?+i[1]:t);throw new Error("Cannot convert object of type "+k_(t)+" to type Date");case"ISODate":if(T_(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(VT(t))return t.toDate().toISOString();if(Vy(t))return i=E_.exec(t),i?new Date(+i[1]).toISOString():Nc(t).format();throw new Error("Cannot convert object of type "+k_(t)+" to type ISODate");case"ASPDate":if(T_(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(Vy(t)){i=E_.exec(t);var n;return n=i?new Date(+i[1]).valueOf():new Date(t).valueOf(),"/Date("+n+")/"}throw new Error("Cannot convert object of type "+k_(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function k_(t){var e=LC(t);return e==="object"?t===null?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function BC(t){return typeof t=="string"||typeof t=="number"}var dX=function(){function t(e){Ww(this,t),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(e)}return jw(t,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,i=this._extended.methods,n=0,r;n<i.length;n++)r=i[n],r.original?e[r.name]=r.original:delete e[r.name];this._extended=null}}},{key:"replace",value:function(e,i){var n=this,r=e[i];if(!r)throw new Error("Method "+i+" undefined");e[i]=function(){for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];n.queue({args:s,fn:r,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),0<this.queue.length&&typeof this.delay=="number"&&(this._timeout=setTimeout(function(){e.flush()},this.delay))}},{key:"flush",value:function(){this._queue.splice(0).forEach(function(e){e.fn.apply(e.context||e.fn,e.args||[])})}}],[{key:"extend",value:function(e,i){var n=new t(i);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var a=0,s;a<i.replace.length;a++)s=i.replace[a],r.push({name:s,original:e[s]}),n.replace(e,s);return n._extended={object:e,methods:r},n}}]),t}();function hX(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var fX=hX;function pX(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}var mX=pX;function yX(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var gX=yX;function vX(t){return fX(t)||mX(t)||gX()}var nM=vX,jU=function(){function t(){Ww(this,t),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=t.prototype.on,this.unsubscribe=t.prototype.off}return jw(t,[{key:"_trigger",value:function(e,i,n){if(e==="*")throw new Error("Cannot trigger event *");for(var r=[].concat(nM(this._subscribers[e]),nM(this._subscribers["*"])),a=0,s=r.length,o;a<s;a++)o=r[a],o.callback&&o.callback(e,i,n??null)}},{key:"on",value:function(e,i){this._subscribers[e].push({callback:i})}},{key:"off",value:function(e,i){this._subscribers[e]=this._subscribers[e].filter(function(n){return n.callback!==i})}}]),t}();function rM(t,e){var i=Object.keys(t);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t)),e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i}function bX(t){for(var e=1,i;e<arguments.length;e++)i=arguments[e]==null?{}:arguments[e],e%2?rM(i,!0).forEach(function(n){Xz(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rM(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))});return t}var pd=function(t){function e(i,n){var r;if(Ww(this,e),r=HU(this,VU(e).call(this)),i&&!Array.isArray(i)&&(n=i,i=[]),r._options=n||{},r._data=Object.create({}),r.length=0,r._idProp=r._options.fieldId||"id",r._type={},r._options.type)for(var a=Object.keys(r._options.type),s=0,o=a.length;s<o;s++){var c=a[s],d=r._options.type[c];r._type[c]=d=="Date"||d=="ISODate"||d=="ASPDate"?"Date":d}return i&&i.length&&r.add(i),r.setOptions(n),r}return YU(e,t),jw(e,[{key:"setOptions",value:function(i){i&&i.queue!==void 0&&(i.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(!this._queue&&(this._queue=dX.extend(this,{replace:["add","update","remove"]})),i.queue&&Dp(i.queue)==="object"&&this._queue.setOptions(i.queue)))}},{key:"add",value:function(i,n){var r=[],a;if(Array.isArray(i))for(var s=0,o=i.length;s<o;s++)a=this._addItem(i[s]),r.push(a);else if(i&&Dp(i)==="object")a=this._addItem(i),r.push(a);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},n),r}},{key:"update",value:function(i,n){var r=this,a=[],s=[],o=[],c=[],d=this._idProp,p=function(_){var w=_[d];if(w!=null&&r._data[w]){var C=_,k=Object.assign({},r._data[w]),S=r._updateItem(C);s.push(S),c.push(C),o.push(k)}else{var x=r._addItem(_);a.push(x)}};if(Array.isArray(i))for(var m=0,y=i.length;m<y;m++)i[m]&&Dp(i[m])==="object"?p(i[m]):console.warn("Ignoring input item, which is not an object at index "+m);else if(i&&Dp(i)==="object")p(i);else throw new Error("Unknown dataType");return a.length&&this._trigger("add",{items:a},n),s.length&&this._trigger("update",{items:s,oldData:o,data:c},n),a.concat(s)}},{key:"get",value:function(i,n){var r=void 0,a=void 0,s=void 0;BC(i)?(r=i,s=n):Array.isArray(i)?(a=i,s=n):s=i;var o=s&&s.returnType==="Object"?"Object":"Array",c=s&&s.type||this._options.type,d=s&&s.filter,p=[],m=null,y=null,_=null;if(r!=null)m=this._getItem(r,c),m&&d&&!d(m)&&(m=null);else if(a!=null)for(var w=0,C=a.length;w<C;w++)m=this._getItem(a[w],c),m!=null&&(!d||d(m))&&p.push(m);else{y=Object.keys(this._data);for(var k=0,S=y.length;k<S;k++)_=y[k],m=this._getItem(_,c),m!=null&&(!d||d(m))&&p.push(m)}if(s&&s.order&&r==null&&this._sort(p,s.order),s&&s.fields){var x=s.fields;if(r!=null&&m!=null)m=this._filterFields(m,x);else for(var O=0,D=p.length;O<D;O++)p[O]=this._filterFields(p[O],x)}if(o=="Object"){for(var B={},P=0,R=p.length;P<R;P++){var I=p[P],F=I[this._idProp];B[F]=I}return B}return r==null?p:m}},{key:"getIds",value:function(i){var n=this._data,r=i&&i.filter,a=i&&i.order,s=i&&i.type||this._options.type,o=Object.keys(n),c=[],d,p;if(r)if(a){p=[];for(var m=0,y=o.length,_;m<y;m++)_=o[m],d=this._getItem(_,s),r(d)&&p.push(d);this._sort(p,a);for(var w=0,C=p.length;w<C;w++)c.push(p[w][this._idProp])}else for(var k=0,S=o.length,x;k<S;k++)x=o[k],d=this._getItem(x,s),r(d)&&c.push(d[this._idProp]);else if(a){p=[];for(var O=0,D=o.length,B;O<D;O++)B=o[O],p.push(n[B]);this._sort(p,a);for(var P=0,R=p.length;P<R;P++)c.push(p[P][this._idProp])}else for(var I=0,F=o.length,$;I<F;I++)$=o[I],d=n[$],c.push(d[this._idProp]);return c}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(i,n){var r=n&&n.filter,a=n&&n.type||this._options.type,s=this._data,o=Object.keys(s);if(n&&n.order)for(var c=this.get(n),d=0,p=c.length;d<p;d++){var m=c[d],y=m[this._idProp];i(m,y)}else for(var _=0,w=o.length;_<w;_++){var C=o[_],k=this._getItem(C,a);(!r||r(k))&&i(k,C)}}},{key:"map",value:function(i,n){for(var r=n&&n.filter,a=n&&n.type||this._options.type,s=[],o=this._data,c=Object.keys(o),d=0,p=c.length;d<p;d++){var m=c[d],y=this._getItem(m,a);(!r||r(y))&&s.push(i(y,m))}return n&&n.order&&this._sort(s,n.order),s}},{key:"_filterFields",value:function(i,n){return i&&(Array.isArray(n)?n:Object.keys(n)).reduce(function(r,a){return r[a]=i[a],r},{})}},{key:"_sort",value:function(i,n){if(typeof n=="string"){var r=n;i.sort(function(a,s){var o=a[r],c=s[r];return o>c?1:o<c?-1:0})}else if(typeof n=="function")i.sort(n);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(i,n){for(var r=[],a=[],s=Array.isArray(i)?i:[i],o=0,c=s.length,d;o<c;o++)if(d=this._remove(s[o]),d){var p=d[this._idProp];p!=null&&(r.push(p),a.push(d))}return r.length&&this._trigger("remove",{items:r,oldData:a},n),r}},{key:"_remove",value:function(i){var n;if(BC(i)?n=i:i&&Dp(i)==="object"&&(n=i[this._idProp]),n!=null&&this._data[n]){var r=this._data[n];return delete this._data[n],--this.length,r}return null}},{key:"clear",value:function(i){for(var n=Object.keys(this._data),r=[],a=0,s=n.length;a<s;a++)r.push(this._data[n[a]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:r},i),n}},{key:"max",value:function(n){for(var r=this._data,a=Object.keys(r),s=null,o=null,c=0,d=a.length;c<d;c++){var p=a[c],m=r[p],y=m[n];y!=null&&(o==null||y>o)&&(s=m,o=y)}return s}},{key:"min",value:function(n){for(var r=this._data,a=Object.keys(r),s=null,o=null,c=0,d=a.length;c<d;c++){var p=a[c],m=r[p],y=m[n];y!=null&&(o==null||y<o)&&(s=m,o=y)}return s}},{key:"distinct",value:function(i){for(var n=this._data,r=Object.keys(n),a=[],s=this._options.type&&this._options.type[i]||null,o=0,c=0,d=r.length;c<d;c++){for(var p=r[c],m=n[p],y=m[i],_=!1,w=0;w<o;w++)if(a[w]==y){_=!0;break}_||y===void 0||(a[o]=y,o++)}if(s)for(var C=0,k=a.length;C<k;C++)a[C]=C_(a[C],s);return a}},{key:"_addItem",value:function(i){var n=i[this._idProp];if(n==null)n=rX(),i[this._idProp]=n;else if(this._data[n])throw new Error("Cannot add item: item with id "+n+" already exists");for(var r={},a=Object.keys(i),s=0,o=a.length;s<o;s++){var c=a[s],d=this._type[c];r[c]=C_(i[c],d)}return this._data[n]=r,this.length++,n}},{key:"_getItem",value:function(i,n){var r=this._data[i];if(!r)return null;var a=Object.keys(r),s;if(n){s={};for(var o=0,c=a.length;o<c;o++){var d=a[o],p=r[d];s[d]=C_(p,n[d])}}else s=bX({},r);return s[this._idProp]==null&&(s[this._idProp]=r.id),s}},{key:"_updateItem",value:function(i){var n=i[this._idProp];if(n==null)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(i)+")");var r=this._data[n];if(!r)throw new Error("Cannot update item: no item with id "+n+" found");for(var a=Object.keys(i),s=0,o=a.length;s<o;s++){var c=a[s],d=this._type[c];r[c]=C_(i[c],d)}return n}}]),e}(jU),zU=function(t){function e(i,n){var r;return Ww(this,e),r=HU(this,VU(e).call(this)),r.length=0,r._ids={},r._options=n||{},r.listener=r._onEvent.bind(FU(r)),r.setData(i),r}return YU(e,t),jw(e,[{key:"setData",value:function(i){if(this._data){this._data.off&&this._data.off("*",this.listener);var n=this._data.getIds({filter:this._options.filter}),r=this._data.get(n);this._ids={},this.length=0,this._trigger("remove",{items:n,oldData:r})}if(i!=null){this._data=i;for(var a=this._data.getIds({filter:this._options.filter}),s=0,o=a.length,c;s<o;s++)c=a[s],this._ids[c]=!0;this.length=a.length,this._trigger("add",{items:a})}else this._data=new pd;this._data.on&&this._data.on("*",this.listener)}},{key:"refresh",value:function(){for(var i=this._data.getIds({filter:this._options.filter}),n=Object.keys(this._ids),r={},a=[],s=[],o=[],c=0,d=i.length,p;c<d;c++)p=i[c],r[p]=!0,this._ids[p]||(a.push(p),this._ids[p]=!0);for(var m=0,y=n.length;m<y;m++){var _=n[m],w=this._data.get(_);w==null?console.error("If you see this, report it please."):!r[_]&&(s.push(_),o.push(w),delete this._ids[_])}this.length+=a.length-s.length,a.length&&this._trigger("add",{items:a}),s.length&&this._trigger("remove",{items:s,oldData:o})}},{key:"get",value:function(i,n){if(this._data==null)return null;var r=null,a;BC(i)||Array.isArray(i)?(r=i,a=n):a=i;var s=Object.assign({},this._options,a),o=this._options.filter,c=a&&a.filter;return o&&c&&(s.filter=function(d){return o(d)&&c(d)}),r==null?this._data.get(s):this._data.get(r,s)}},{key:"getIds",value:function(i){if(this._data.length){var n=this._options.filter,r=i==null?null:i.filter,a;return a=r?n?function(s){return n(s)&&r(s)}:r:n,this._data.getIds({filter:a,order:i&&i.order})}return[]}},{key:"forEach",value:function(i,n){if(this._data){var r=this._options.filter,a=n&&n.filter,s;s=a?r?function(o){return r(o)&&a(o)}:a:r,this._data.forEach(i,{filter:s,order:n&&n.order})}}},{key:"map",value:function(i,n){if(this._data){var r=this._options.filter,a=n&&n.filter,s;return s=a?r?function(o){return r(o)&&a(o)}:a:r,this._data.map(i,{filter:s,order:n&&n.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"_onEvent",value:function(i,n,r){if(n&&n.items&&this._data){var a=n.items,s=[],o=[],c=[],d=[],p=[],m=[];switch(i){case"add":for(var y=0,_=a.length;y<_;y++){var w=a[y],C=this.get(w);C&&(this._ids[w]=!0,s.push(w))}break;case"update":for(var k=0,S=a.length;k<S;k++){var x=a[k],O=this.get(x);O?this._ids[x]?(o.push(x),p.push(n.data[k]),d.push(n.oldData[k])):(this._ids[x]=!0,s.push(x)):this._ids[x]&&(delete this._ids[x],c.push(x),m.push(n.oldData[k]))}break;case"remove":for(var D=0,B=a.length,P;D<B;D++)P=a[D],this._ids[P]&&(delete this._ids[P],c.push(P),m.push(n.oldData[D]))}this.length+=s.length-c.length,s.length&&this._trigger("add",{items:s},r),o.length&&this._trigger("update",{items:o,oldData:d,data:p},r),c.length&&this._trigger("remove",{items:c,oldData:m},r)}}}]),e}(jU);typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){var n=Math.sqrt;this.beginPath(),i*=1.15,e+=.275*i;var r=2*i,a=r/2,s=n(3)/6*r,o=n(r*r-a*a);this.moveTo(t,e-(o-s)),this.lineTo(t+a,e+s),this.lineTo(t-a,e+s),this.lineTo(t,e-(o-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){var n=Math.sqrt;this.beginPath(),i*=1.15,e-=.275*i;var r=2*i,a=r/2,s=n(3)/6*r,o=n(r*r-a*a);this.moveTo(t,e+(o-s)),this.lineTo(t+a,e-s),this.lineTo(t-a,e-s),this.lineTo(t,e+(o-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){var n=Math.cos,r=Math.sin,a=Math.PI;this.beginPath(),i*=.82,e+=.1*i;for(var s=0,o;10>s;s++)o=s%2==0?1.3*i:.5*i,this.lineTo(t+o*r(2*s*a/10),e-o*n(2*s*a/10));this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,r){var a=Math.PI/180;0>i-2*r&&(r=i/2),0>n-2*r&&(r=n/2),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-r,e),this.arc(t+i-r,e+r,r,270*a,360*a,!1),this.lineTo(t+i,e+n-r),this.arc(t+i-r,e+n-r,r,0,90*a,!1),this.lineTo(t+r,e+n),this.arc(t+r,e+n-r,r,90*a,180*a,!1),this.lineTo(t,e+r),this.arc(t+r,e+r,r,180*a,270*a,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var r=.5522848,a=i/2*r,s=n/2*r,o=t+i,c=e+n,d=t+i/2,p=e+n/2;this.beginPath(),this.moveTo(t,p),this.bezierCurveTo(t,p-s,d-a,e,d,e),this.bezierCurveTo(d+a,e,o,p-s,o,p),this.bezierCurveTo(o,p+s,d+a,c,d,c),this.bezierCurveTo(d-a,c,t,p+s,t,p),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var r=i,a=n*(1/3),s=.5522848,o=r/2*s,c=a/2*s,d=t+r,p=e+a,m=t+r/2,y=e+a/2,_=e+(n-a/2),w=e+n;this.beginPath(),this.moveTo(d,y),this.bezierCurveTo(d,y+c,m+o,p,m,p),this.bezierCurveTo(m-o,p,t,y+c,t,y),this.bezierCurveTo(t,y-c,m-o,e,m,e),this.bezierCurveTo(m+o,e,d,y-c,d,y),this.lineTo(d,_),this.bezierCurveTo(d,_+c,m+o,w,m,w),this.bezierCurveTo(m-o,w,t,_+c,t,_),this.lineTo(t,y)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,r){var a=Math.sqrt;this.beginPath(),this.moveTo(t,e);for(var s=r.length,o=i-t,c=n-e,d=c/o,p=a(o*o+c*c),m=0,y=!0,_=0,w=r[0];.1<=p;)w=r[m++%s],w>p&&(w=p),_=a(w*w/(1+d*d)),_=0>o?-_:_,t+=_,e+=d*_,y===!0?this.lineTo(t,e):this.moveTo(t,e),p-=w,y=!y},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var n=2*Math.PI/6;this.moveTo(t+i,e);for(var r=1;r<6;r++)this.lineTo(t+i*Math.cos(n*r),e+i*Math.sin(n*r));this.closePath()});var WS=typeof globalThis>"u"?typeof window>"u"?typeof global>"u"?typeof self>"u"?{}:self:global:window:globalThis;function _X(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function wX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ml(t,e){return e={exports:{}},t(e,e.exports),e.exports}var XU=ml(function(t){function e(n){if(n)return i(n)}function i(n){for(var r in e.prototype)n[r]=e.prototype[r];return n}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(n,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(r),this},e.prototype.once=function(n,r){function a(){this.off(n,a),r.apply(this,arguments)}return a.fn=r,this.on(n,a),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+n];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s=0,o;s<a.length;s++)if(o=a[s],o===r||o.fn===r){a.splice(s,1);break}return a.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var r=Array(arguments.length-1),a=this._callbacks["$"+n],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,r)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}});function KU(t){return ud=t,SX()}var ZU={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},$C=Object.create(ZU);$C.color="color.color",$C.style="dashes";var qa={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},aM={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ud="",cm=0,ei="",kt="",ms=qa.NULL;function EX(){cm=0,ei=ud.charAt(0)}function Mr(){cm++,ei=ud.charAt(cm)}function gp(){return ud.charAt(cm+1)}var TX=/[a-zA-Z_0-9.:#]/;function sM(t){return TX.test(t)}function Md(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function CX(t,e,i){for(var n=e.split("."),r=t;n.length;){var a=n.shift();n.length?(!r[a]&&(r[a]={}),r=r[a]):r[a]=i}}function QU(t,e){for(var i=null,n=[t],r=t,a,s;r.parent;)n.push(r.parent),r=r.parent;if(r.nodes){for(a=0,s=r.nodes.length;a<s;a++)if(e.id===r.nodes[a].id){i=r.nodes[a];break}}for(i||(i={id:e.id},t.node&&(i.attr=Md(i.attr,t.node))),a=n.length-1;0<=a;a--){var o=n[a];o.nodes||(o.nodes=[]),o.nodes.indexOf(i)===-1&&o.nodes.push(i)}e.attr&&(i.attr=Md(i.attr,e.attr))}function kX(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=Md({},t.edge);e.attr=Md(i,e.attr)}}function JU(t,e,i,n,r){var a={from:e,to:i,type:n};return t.edge&&(a.attr=Md({},t.edge)),a.attr=Md(a.attr||{},r),r!=null&&r.hasOwnProperty("arrows")&&r.arrows!=null&&(a.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),a}function an(){for(ms=qa.NULL,kt="";ei===" "||ei==="	"||ei===`
`||ei==="\r";)Mr();do{var t=!1;if(ei==="#"){for(var e=cm-1;ud.charAt(e)===" "||ud.charAt(e)==="	";)e--;if(ud.charAt(e)===`
`||ud.charAt(e)===""){for(;ei!=""&&ei!=`
`;)Mr();t=!0}}if(ei==="/"&&gp()==="/"){for(;ei!=""&&ei!=`
`;)Mr();t=!0}if(ei==="/"&&gp()==="*"){for(;ei!="";)if(ei==="*"&&gp()==="/"){Mr(),Mr();break}else Mr();t=!0}for(;ei===" "||ei==="	"||ei===`
`||ei==="\r";)Mr()}while(t);if(ei==="")return void(ms=qa.DELIMITER);var i=ei+gp();if(aM[i])return ms=qa.DELIMITER,kt=i,Mr(),void Mr();if(aM[ei])return ms=qa.DELIMITER,kt=ei,void Mr();if(sM(ei)||ei==="-"){for(kt+=ei,Mr();sM(ei);)kt+=ei,Mr();return kt==="false"?kt=!1:kt==="true"?kt=!0:!isNaN(+kt)&&(kt=+kt),void(ms=qa.IDENTIFIER)}if(ei==='"'){for(Mr();ei!=""&&(ei!='"'||ei==='"'&&gp()==='"');)ei==='"'?(kt+=ei,Mr()):ei==="\\"&&gp()==="n"?(kt+=`
`,Mr()):kt+=ei,Mr();if(ei!='"')throw Wa('End of string " expected');return Mr(),void(ms=qa.IDENTIFIER)}for(ms=qa.UNKNOWN;ei!="";)kt+=ei,Mr();throw new SyntaxError('Syntax error in part "'+nL(kt,30)+'"')}function SX(){var t={};if(EX(),an(),kt==="strict"&&(t.strict=!0,an()),(kt==="graph"||kt==="digraph")&&(t.type=kt,an()),ms===qa.IDENTIFIER&&(t.id=kt,an()),kt!="{")throw Wa("Angle bracket { expected");if(an(),eL(t),kt!="}")throw Wa("Angle bracket } expected");if(an(),kt!=="")throw Wa("End of file expected");return an(),delete t.node,delete t.edge,delete t.graph,t}function eL(t){for(;kt!==""&&kt!="}";)AX(t),kt===";"&&an()}function AX(t){var e=tL(t);if(e)return void iL(t,e);var i=xX(t);if(!i){if(ms!=qa.IDENTIFIER)throw Wa("Identifier expected");var n=kt;if(an(),kt==="="){if(an(),ms!=qa.IDENTIFIER)throw Wa("Identifier expected");t[n]=kt,an()}else DX(t,n)}}function tL(t){var e=null;if(kt==="subgraph"&&(e={},e.type="subgraph",an(),ms===qa.IDENTIFIER&&(e.id=kt,an())),kt==="{"){if(an(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,eL(e),kt!="}")throw Wa("Angle bracket } expected");an(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function xX(t){return kt==="node"?(an(),t.node=Rg(),"node"):kt==="edge"?(an(),t.edge=Rg(),"edge"):kt==="graph"?(an(),t.graph=Rg(),"graph"):null}function DX(t,e){var i={id:e},n=Rg();n&&(i.attr=n),QU(t,i),iL(t,e)}function iL(t,e){for(;kt==="->"||kt==="--";){var i=kt,n;an();var r=tL(t);if(r)n=r;else{if(ms!=qa.IDENTIFIER)throw Wa("Identifier or subgraph expected");n=kt,QU(t,{id:n}),an()}var a=Rg(),s=JU(t,e,n,i,a);kX(t,s),e=n}}function Rg(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=[],r=[],a;kt==="[";){for(an(),t={};kt!==""&&kt!="]";){if(ms!=qa.IDENTIFIER)throw Wa("Attribute name expected");var s=kt;if(an(),kt!="=")throw Wa("Equal sign = expected");if(an(),ms!=qa.IDENTIFIER)throw Wa("Attribute value expected");var o=kt;s==="style"&&(o=e[o]);var c;s==="arrowhead"&&(c=i[o],s="arrows",o={to:{enabled:!0,type:c}}),s==="arrowtail"&&(c=i[o],s="arrows",o={from:{enabled:!0,type:c}}),n.push({attr:t,name:s,value:o}),r.push(s),an(),kt==","&&an()}if(kt!="]")throw Wa("Bracket ] expected");an()}if(r.includes("dir")){var d={arrows:{}};for(a=0;a<n.length;a++)if(n[a].name!=="arrows")n[a].name==="dir"&&(d.dir=a);else if(n[a].value.to!=null)d.arrows.to=a;else if(n[a].value.from!=null)d.arrows.from=a;else throw Wa("Invalid value of arrows");var p=n[d.dir].value;if(!r.includes("arrows"))if(p==="both")n.push({attr:n[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=n.length-1,n.push({attr:n[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=n.length-1;else if(p==="forward")n.push({attr:n[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=n.length-1;else if(p==="back")n.push({attr:n[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=n.length-1;else if(p==="none")n.push({attr:n[d.dir].attr,name:"arrows",value:""}),d.arrows.to=n.length-1;else throw Wa('Invalid dir type "'+p+'"');var m,y;if(p==="both")d.arrows.to&&d.arrows.from?(y=n[d.arrows.to].value.to.type,m=n[d.arrows.from].value.from.type,n[d.arrows.to]={attr:n[d.arrows.to].attr,name:n[d.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}},n.splice(d.arrows.from,1)):d.arrows.to?(y=n[d.arrows.to].value.to.type,m="arrow",n[d.arrows.to]={attr:n[d.arrows.to].attr,name:n[d.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}):d.arrows.from&&(y="arrow",m=n[d.arrows.from].value.from.type,n[d.arrows.from]={attr:n[d.arrows.from].attr,name:n[d.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}});else if(p==="back")d.arrows.to&&d.arrows.from?(y="",m=n[d.arrows.from].value.from.type,n[d.arrows.from]={attr:n[d.arrows.from].attr,name:n[d.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}):d.arrows.to?(y="",m="arrow",d.arrows.from=d.arrows.to,n[d.arrows.from]={attr:n[d.arrows.from].attr,name:n[d.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}):d.arrows.from&&(y="",m=n[d.arrows.from].value.from.type,n[d.arrows.to]={attr:n[d.arrows.from].attr,name:n[d.arrows.from].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}),n[d.arrows.from]={attr:n[d.arrows.from].attr,name:n[d.arrows.from].name,value:{from:{enabled:!0,type:n[d.arrows.from].value.from.type}}};else if(p==="none"){var _;_=d.arrows.to?d.arrows.to:d.arrows.from,n[_]={attr:n[_].attr,name:n[_].name,value:""}}else if(p==="forward")d.arrows.to&&d.arrows.from?(y=n[d.arrows.to].value.to.type,m="",n[d.arrows.to]={attr:n[d.arrows.to].attr,name:n[d.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}):d.arrows.to?(y=n[d.arrows.to].value.to.type,m="",n[d.arrows.to]={attr:n[d.arrows.to].attr,name:n[d.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}):d.arrows.from&&(y="arrow",m="",d.arrows.to=d.arrows.from,n[d.arrows.to]={attr:n[d.arrows.to].attr,name:n[d.arrows.to].name,value:{to:{enabled:!0,type:y},from:{enabled:!0,type:m}}}),n[d.arrows.to]={attr:n[d.arrows.to].attr,name:n[d.arrows.to].name,value:{to:{enabled:!0,type:n[d.arrows.to].value.to.type}}};else throw Wa('Invalid dir type "'+p+'"');n.splice(d.dir,1)}var w;if(r.includes("penwidth")){var C=[];for(w=n.length,a=0;a<w;a++)n[a].name!=="width"&&(n[a].name==="penwidth"&&(n[a].name="width"),C.push(n[a]));n=C}for(w=n.length,a=0;a<w;a++)CX(n[a].attr,n[a].name,n[a].value);return t}function Wa(t){return new SyntaxError(t+', got "'+nL(kt,30)+'" (char '+cm+")")}function nL(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function IX(t,e,i){Array.isArray(t)?t.forEach(function(n){Array.isArray(e)?e.forEach(function(r){i(n,r)}):i(n,e)}):Array.isArray(e)?e.forEach(function(n){i(t,n)}):i(t,e)}function YT(t,e,i){for(var n=e.split("."),r=n.pop(),a=t,s=0,o;s<n.length;s++)o=n[s],o in a||(a[o]={}),a=a[o];return a[r]=i,t}function oM(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?r.forEach(function(a){YT(i,a,t[n])}):typeof r=="string"?YT(i,r,t[n]):YT(i,n,t[n])}return i}function RX(t){var e=KU(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(r){var a={id:r.id,label:(r.label||r.id)+""};Md(a,oM(r.attr,ZU)),a.image&&(a.shape="image"),i.nodes.push(a)}),e.edges){var n=function(r){var a={from:r.from,to:r.to};return Md(a,oM(r.attr,$C)),a.arrows==null&&r.type==="->"&&(a.arrows="to"),a};e.edges.forEach(function(r){var a,s;a=r.from instanceof Object?r.from.nodes:{id:r.from},s=r.to instanceof Object?r.to.nodes:{id:r.to},r.from instanceof Object&&r.from.edges&&r.from.edges.forEach(function(o){var c=n(o);i.edges.push(c)}),IX(a,s,function(o,c){var d=JU(i,o.id,c.id,r.type,r.attr),p=n(d);i.edges.push(p)}),r.to instanceof Object&&r.to.edges&&r.to.edges.forEach(function(o){var c=n(o);i.edges.push(c)})})}return e.attr&&(i.options=e.attr),i}var MX=KU,PX=RX,OX={parseDOT:MX,DOTToGraph:PX};function NX(t,e){var i=[],n=[],r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!==void 0&&(e.fixed!==void 0&&(r.nodes.fixed=e.fixed),e.parseColor!==void 0&&(r.nodes.parseColor=e.parseColor),e.inheritColor!==void 0&&(r.edges.inheritColor=e.inheritColor));for(var a=t.edges,s=t.nodes,o=0;o<a.length;o++){var c={},d=a[o];c.id=d.id,c.from=d.source,c.to=d.target,c.attributes=d.attributes,c.label=d.label,c.title=d.attributes===void 0?void 0:d.attributes.title,d.type==="Directed"&&(c.arrows="to"),d.color&&r.inheritColor===!1&&(c.color=d.color),i.push(c)}for(var p=0;p<s.length;p++){var m={},y=s[p];m.id=y.id,m.attributes=y.attributes,m.x=y.x,m.y=y.y,m.label=y.label,m.title=y.attributes===void 0?y.title:y.attributes.title,m.color=r.nodes.parseColor===!0?y.color:y.color===void 0?void 0:{background:y.color,border:y.color,highlight:{background:y.color,border:y.color},hover:{background:y.color,border:y.color}},m.size=y.size,m.fixed=r.nodes.fixed&&y.x!==void 0&&y.y!==void 0,n.push(m)}return{nodes:n,edges:i}}var GX=NX,UX={parseGephi:GX},FC=ml(function(t){(function(e,i){t.exports=i()})(WS,function(){function e(i){var n=String.fromCharCode,r=i&&i.preventDefault||!1,a=i&&i.container||window,s={},o={keydown:{},keyup:{}},c={},d;for(d=97;122>=d;d++)c[n(d)]={code:65+(d-97),shift:!1};for(d=65;90>=d;d++)c[n(d)]={code:d,shift:!0};for(d=0;9>=d;d++)c[""+d]={code:48+d,shift:!1};for(d=1;12>=d;d++)c["F"+d]={code:111+d,shift:!1};for(d=0;9>=d;d++)c["num"+d]={code:96+d,shift:!1};c["num*"]={code:106,shift:!1},c["num+"]={code:107,shift:!1},c["num-"]={code:109,shift:!1},c["num/"]={code:111,shift:!1},c["num."]={code:110,shift:!1},c.left={code:37,shift:!1},c.up={code:38,shift:!1},c.right={code:39,shift:!1},c.down={code:40,shift:!1},c.space={code:32,shift:!1},c.enter={code:13,shift:!1},c.shift={code:16,shift:void 0},c.esc={code:27,shift:!1},c.backspace={code:8,shift:!1},c.tab={code:9,shift:!1},c.ctrl={code:17,shift:!1},c.alt={code:18,shift:!1},c.delete={code:46,shift:!1},c.pageup={code:33,shift:!1},c.pagedown={code:34,shift:!1},c["="]={code:187,shift:!1},c["-"]={code:189,shift:!1},c["]"]={code:221,shift:!1},c["["]={code:219,shift:!1};var p=function(_){y(_,"keydown")},m=function(_){y(_,"keyup")},y=function(_,w){if(o[w][_.keyCode]!==void 0){for(var C=o[w][_.keyCode],k=0;k<C.length;k++)(C[k].shift===void 0||C[k].shift==!0&&_.shiftKey==!0||C[k].shift==!1&&_.shiftKey==!1)&&C[k].fn(_);r==!0&&_.preventDefault()}};return s.bind=function(_,w,C){if(C===void 0&&(C="keydown"),c[_]===void 0)throw new Error("unsupported key: "+_);o[C][c[_].code]===void 0&&(o[C][c[_].code]=[]),o[C][c[_].code].push({fn:w,shift:c[_].shift})},s.bindAll=function(_,w){for(var C in w===void 0&&(w="keydown"),c)c.hasOwnProperty(C)&&s.bind(C,_,w)},s.getKey=function(_){for(var w in c)if(c.hasOwnProperty(w)&&(_.shiftKey==!0&&c[w].shift==!0&&_.keyCode==c[w].code||_.shiftKey==!1&&c[w].shift==!1&&_.keyCode==c[w].code||_.keyCode==c[w].code&&w=="shift"))return w;return"unknown key, currently not supported"},s.unbind=function(_,w,C){if(C===void 0&&(C="keydown"),c[_]===void 0)throw new Error("unsupported key: "+_);if(w!==void 0){var k=[],S=o[C][c[_].code];if(S!==void 0)for(var x=0;x<S.length;x++)(S[x].fn!=w||S[x].shift!=c[_].shift)&&k.push(o[C][c[_].code][x]);o[C][c[_].code]=k}else o[C][c[_].code]=[]},s.reset=function(){o={keydown:{},keyup:{}}},s.destroy=function(){o={keydown:{},keyup:{}},a.removeEventListener("keydown",p,!0),a.removeEventListener("keyup",m,!0)},a.addEventListener("keydown",p,!0),a.addEventListener("keyup",m,!0),s}return e})});function ul(){return ul=Object.assign||function(t){for(var e=1,i;e<arguments.length;e++)for(var n in i=arguments[e],i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t},ul.apply(this,arguments)}function Mo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function S_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var LX=typeof Object.assign=="function"?Object.assign:function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1,n;i<arguments.length;i++)if(n=arguments[i],n!=null)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e},um=LX,lM=["","webkit","Moz","MS","ms","o"],BX=typeof document>"u"?{style:{}}:document.createElement("div"),$X="function",Fp=Math.round,cf=Math.abs,jS=Date.now;function zw(t,e){for(var i=e[0].toUpperCase()+e.slice(1),n=0,r,a;n<lM.length;){if(r=lM[n],a=r?r+i:e,a in t)return a;n++}}var Kh=typeof window>"u"?{}:window,rL=zw(BX.style,"touchAction"),aL=rL!==void 0;function FX(){if(!aL)return!1;var t={},e=Kh.CSS&&Kh.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||Kh.CSS.supports("touch-action",i)}),t}var HX="compute",sL="auto",HC="manipulation",Zh="none",Qg="pan-x",Jg="pan-y",A_=FX(),VX=/mobile|tablet|ip(ad|hone|od)|android/i,oL="ontouchstart"in Kh,YX=zw(Kh,"PointerEvent")!==void 0,qX=oL&&VX.test(navigator.userAgent),Yv="touch",WX="pen",zS="mouse",jX="kinect",zX=25,Za=1,Of=2,or=4,ws=8,$0=1,qv=2,Wv=4,jv=8,dm=16,ic=qv|Wv,Qh=jv|dm,lL=ic|Qh,cL=["x","y"],F0=["clientX","clientY"];function Xc(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Xw(t,e){return typeof t===$X?t.apply(e&&e[0]||void 0,e):t}function Bh(t,e){return-1<t.indexOf(e)}function XX(t){if(Bh(t,Zh))return Zh;var e=Bh(t,Qg),i=Bh(t,Jg);return e&&i?Zh:e||i?e?Qg:Jg:Bh(t,HC)?HC:sL}var uL=function(){function t(i,n){this.manager=i,this.set(n)}var e=t.prototype;return e.set=function(i){i===HX&&(i=this.compute()),aL&&this.manager.element.style&&A_[i]&&(this.manager.element.style[rL]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Xc(this.manager.recognizers,function(n){Xw(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),XX(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,r=i.offsetDirection;if(this.manager.session.prevented)return void n.preventDefault();var a=this.actions,s=Bh(a,Zh)&&!A_[Zh],o=Bh(a,Jg)&&!A_[Jg],c=Bh(a,Qg)&&!A_[Qg];if(s){var d=i.pointers.length===1,p=2>i.distance,m=250>i.deltaTime;if(d&&p&&m)return}return c&&o?void 0:s||o&&r&ic||c&&r&Qh?this.preventSrc(n):void 0},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function XS(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function dL(t){var e=t.length;if(e===1)return{x:Fp(t[0].clientX),y:Fp(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:Fp(i/e),y:Fp(n/e)}}function cM(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Fp(t.pointers[i].clientX),clientY:Fp(t.pointers[i].clientY)},i++;return{timeStamp:jS(),pointers:e,center:dL(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H0(t,e,i){i||(i=cL);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function VC(t,e,i){i||(i=cL);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function hL(t,e){return t===e?$0:cf(t)>=cf(e)?0>t?qv:Wv:0>e?jv:dm}function KX(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},a=t.prevInput||{};(e.eventType===Za||a.eventType===or)&&(r=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function fL(t,e,i){return{x:e/t||0,y:i/t||0}}function ZX(t,e){return H0(e[0],e[1],F0)/H0(t[0],t[1],F0)}function QX(t,e){return VC(e[1],e[0],F0)+VC(t[1],t[0],F0)}function JX(t,e){var i=t.lastInterval||e,n=e.timeStamp-i.timeStamp,r,a,s,o;if(e.eventType!==ws&&(n>zX||i.velocity===void 0)){var c=e.deltaX-i.deltaX,d=e.deltaY-i.deltaY,p=fL(n,c,d);a=p.x,s=p.y,r=cf(p.x)>cf(p.y)?p.x:p.y,o=hL(c,d),t.lastInterval=e}else r=i.velocity,a=i.velocityX,s=i.velocityY,o=i.direction;e.velocity=r,e.velocityX=a,e.velocityY=s,e.direction=o}function eK(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=cM(e)),1<r&&!i.firstMultiple?i.firstMultiple=cM(e):r===1&&(i.firstMultiple=!1);var a=i.firstInput,s=i.firstMultiple,o=s?s.center:a.center,c=e.center=dL(n);e.timeStamp=jS(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=VC(o,c),e.distance=H0(o,c),KX(i,e),e.offsetDirection=hL(e.deltaX,e.deltaY);var d=fL(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=cf(d.x)>cf(d.y)?d.x:d.y,e.scale=s?ZX(s.pointers,n):1,e.rotation=s?QX(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,JX(i,e);var p=t.element;XS(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}function tK(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,a=e&Za&&n-r==0;i.isFirst=!!a,i.isFinal=!!(e&(or|ws)&&n-r==0),a&&(t.session={}),i.eventType=e,eK(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ev(t){return t.trim().split(/\s+/g)}function Mg(t,e,i){Xc(ev(e),function(n){t.addEventListener(n,i,!1)})}function Pg(t,e,i){Xc(ev(e),function(n){t.removeEventListener(n,i,!1)})}function uM(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Lm=function(){function t(i,n){var r=this;this.manager=i,this.callback=n,this.element=i.element,this.target=i.options.inputTarget,this.domHandler=function(a){Xw(i.options.enable,[i])&&r.handler(a)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Mg(this.element,this.evEl,this.domHandler),this.evTarget&&Mg(this.target,this.evTarget,this.domHandler),this.evWin&&Mg(uM(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Pg(this.element,this.evEl,this.domHandler),this.evTarget&&Pg(this.target,this.evTarget,this.domHandler),this.evWin&&Pg(uM(this.element),this.evWin,this.domHandler)},t}();function uf(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var iK={pointerdown:Za,pointermove:Of,pointerup:or,pointercancel:ws,pointerout:ws},nK={2:Yv,3:WX,4:zS,5:jX},pL="pointerdown",mL="pointermove pointerup pointercancel";Kh.MSPointerEvent&&!Kh.PointerEvent&&(pL="MSPointerDown",mL="MSPointerMove MSPointerUp MSPointerCancel");var yL=function(t){function e(){var n=e.prototype,r;return n.evEl=pL,n.evWin=mL,r=t.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}Mo(e,t);var i=e.prototype;return i.handler=function(n){var r=this.store,a=!1,s=n.type.toLowerCase().replace("ms",""),o=iK[s],c=nK[n.pointerType]||n.pointerType,d=uf(r,n.pointerId,"pointerId");o&Za&&(n.button===0||c===Yv)?0>d&&(r.push(n),d=r.length-1):o&(or|ws)&&(a=!0),0>d||(r[d]=n,this.callback(this.manager,o,{pointers:r,changedPointers:[n],pointerType:c,srcEvent:n}),a&&r.splice(d,1))},e}(Lm);function tv(t){return Array.prototype.slice.call(t,0)}function KS(t,e,i){for(var n=[],r=[],a=0,s;a<t.length;)s=e?t[a][e]:t[a],0>uf(r,s)&&n.push(t[a]),r[a]=s,a++;return i&&(e?n=n.sort(function(o,c){return o[e]>c[e]}):n=n.sort()),n}var rK={touchstart:Za,touchmove:Of,touchend:or,touchcancel:ws},aK="touchstart touchmove touchend touchcancel",ZS=function(t){function e(){var n;return e.prototype.evTarget=aK,n=t.apply(this,arguments)||this,n.targetIds={},n}Mo(e,t);var i=e.prototype;return i.handler=function(n){var r=rK[n.type],a=sK.call(this,n,r);a&&this.callback(this.manager,r,{pointers:a[0],changedPointers:a[1],pointerType:Yv,srcEvent:n})},e}(Lm);function sK(t,e){var i=tv(t.touches),n=this.targetIds;if(e&(Za|Of)&&i.length===1)return n[i[0].identifier]=!0,[i,i];var r=tv(t.changedTouches),a=[],s=this.target,o,c;if(c=i.filter(function(d){return XS(d.target,s)}),e===Za)for(o=0;o<c.length;)n[c[o].identifier]=!0,o++;for(o=0;o<r.length;)n[r[o].identifier]&&a.push(r[o]),e&(or|ws)&&delete n[r[o].identifier],o++;return a.length?[KS(c.concat(a),"identifier",!0),a]:void 0}var oK={mousedown:Za,mousemove:Of,mouseup:or},lK="mousedown",cK="mousemove mouseup",QS=function(t){function e(){var n=e.prototype,r;return n.evEl=lK,n.evWin=cK,r=t.apply(this,arguments)||this,r.pressed=!1,r}Mo(e,t);var i=e.prototype;return i.handler=function(n){var r=oK[n.type];r&Za&&n.button===0&&(this.pressed=!0),r&Of&&n.which!==1&&(r=or),this.pressed&&(r&or&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[n],changedPointers:[n],pointerType:zS,srcEvent:n}))},e}(Lm),uK=2500,dM=25;function hM(t){var e=t.changedPointers,i=e[0];if(i.identifier===this.primaryTouch){var n={x:i.clientX,y:i.clientY},r=this.lastTouches;this.lastTouches.push(n);var a=function(){var s=r.indexOf(n);-1<s&&r.splice(s,1)};setTimeout(a,uK)}}function dK(t,e){t&Za?(this.primaryTouch=e.changedPointers[0].identifier,hM.call(this,e)):t&(or|ws)&&hM.call(this,e)}function hK(t){for(var e=Math.abs,i=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var a=this.lastTouches[r],s=e(i-a.x),o=e(n-a.y);if(s<=dM&&o<=dM)return!0}return!1}var gL=function(){var t=function(e){function i(r,a){var s;return s=e.call(this,r,a)||this,s.handler=function(o,c,d){var p=d.pointerType===Yv,m=d.pointerType===zS;if(!(m&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(p)dK.call(S_(S_(s)),c,d);else if(m&&hK.call(S_(S_(s)),d))return;s.callback(o,c,d)}},s.touch=new ZS(s.manager,s.handler),s.mouse=new QS(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}Mo(i,e);var n=i.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},i}(Lm);return t}();function fK(t){var e=t.options.inputClass,i;return i=e||(YX?yL:qX?ZS:oL?gL:QS),new i(t,tK)}function Hp(t,e,i){return!!Array.isArray(t)&&(Xc(t,i[e],i),!0)}var n0=1,Co=2,hm=4,md=8,Kc=md,iv=16,Kl=32,pK=1;function mK(){return pK++}function x_(t,e){var i=e.manager;return i?i.get(t):t}function fM(t){return t&iv?"cancel":t&md?"end":t&hm?"move":t&Co?"start":""}var zv=function(){function t(i){i===void 0&&(i={}),this.options=ul({enable:!0},i),this.id=mK(),this.manager=null,this.state=n0,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return um(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Hp(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=x_(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Hp(i,"dropRecognizeWith",this)?this:(i=x_(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Hp(i,"requireFailure",this))return this;var n=this.requireFail;return i=x_(i,this),uf(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Hp(i,"dropRequireFailure",this))return this;i=x_(i,this);var n=uf(this.requireFail,i);return-1<n&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(n){function r(o){a.manager.emit(o,n)}var a=this,s=this.state;s<md&&r(a.options.event+fM(s)),r(a.options.event),n.additionalEvent&&r(n.additionalEvent),s>=md&&r(a.options.event+fM(s))},e.tryEmit=function(i){return this.canEmit()?this.emit(i):void(this.state=Kl)},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Kl|n0)))return!1;i++}return!0},e.recognize=function(i){var n=um({},i);return Xw(this.options.enable,[this,n])?(this.state&(Kc|iv|Kl)&&(this.state=n0),this.state=this.process(n),void(this.state&(Co|hm|md|iv)&&this.tryEmit(n))):(this.reset(),void(this.state=Kl))},e.process=function(){},e.getTouchAction=function(){},e.reset=function(){},t}(),vL={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},yK=1,pM=2;function mM(t,e){var i=t.element;if(i.style){var n;Xc(t.options.cssProps,function(r,a){n=zw(i.style,a),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function gK(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var yM=function(){function t(i,n){var r=this;this.options=um({},vL,n||{}),this.options.inputTarget=this.options.inputTarget||i,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=i,this.input=fK(this),this.touchAction=new uL(this,this.options.touchAction),mM(this,!0),Xc(this.options.recognizers,function(a){var s=r.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var e=t.prototype;return e.set=function(i){return um(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?pM:yK},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var r=this.recognizers,a=n.curRecognizer,s;(!a||a&&a.state&Kc)&&(n.curRecognizer=null,a=null);for(var o=0;o<r.length;)s=r[o],n.stopped!==pM&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(i):s.reset(),!a&&s.state&(Co|hm|md)&&(n.curRecognizer=s,a=s),o++}},e.get=function(i){if(i instanceof zv)return i;for(var n=this.recognizers,r=0;r<n.length;r++)if(n[r].options.event===i)return n[r];return null},e.add=function(i){if(Hp(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Hp(i,"remove",this))return this;var n=this.get(i);if(i){var r=this.recognizers,a=uf(r,n);a!==-1&&(r.splice(a,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var r=this.handlers;return Xc(ev(i),function(a){r[a]=r[a]||[],r[a].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var r=this.handlers;return Xc(ev(i),function(a){n?r[a]&&r[a].splice(uf(r[a],n),1):delete r[a]}),this},e.emit=function(i,n){this.options.domEvents&&gK(i,n);var r=this.handlers[i]&&this.handlers[i].slice();if(r&&r.length){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var a=0;a<r.length;)r[a](n),a++}},e.destroy=function(){this.element&&mM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),vK={touchstart:Za,touchmove:Of,touchend:or,touchcancel:ws},bK="touchstart",_K="touchstart touchmove touchend touchcancel",wK=function(t){function e(){var n=e.prototype,r;return n.evTarget=bK,n.evWin=_K,r=t.apply(this,arguments)||this,r.started=!1,r}Mo(e,t);var i=e.prototype;return i.handler=function(n){var r=vK[n.type];if(r===Za&&(this.started=!0),!!this.started){var a=EK.call(this,n,r);r&(or|ws)&&a[0].length-a[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:a[0],changedPointers:a[1],pointerType:Yv,srcEvent:n})}},e}(Lm);function EK(t,e){var i=tv(t.touches),n=tv(t.changedTouches);return e&(or|ws)&&(i=KS(i.concat(n),"identifier",!0)),[i,n]}var fm=function(t){function e(n){return n===void 0&&(n={}),t.call(this,ul({pointers:1},n))||this}Mo(e,t);var i=e.prototype;return i.attrTest=function(n){var r=this.options.pointers;return r===0||n.pointers.length===r},i.process=function(n){var r=this.state,a=n.eventType,s=r&(Co|hm),o=this.attrTest(n);return s&&(a&ws||!o)?r|iv:s||o?a&or?r|md:r&Co?r|hm:Co:Kl},e}(zv),qT=function(t){function e(n){var r;return n===void 0&&(n={}),r=t.call(this,ul({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,r.pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}Mo(e,t);var i=e.prototype;return i.getTouchAction=function(){return[HC]},i.process=function(n){var r=this,a=this.options,s=n.pointers.length===a.pointers,o=n.distance<a.threshold,c=n.deltaTime<a.time;if(this.reset(),n.eventType&Za&&this.count===0)return this.failTimeout();if(o&&c&&s){if(n.eventType!==or)return this.failTimeout();var d=!this.pTime||n.timeStamp-this.pTime<a.interval,p=!this.pCenter||H0(this.pCenter,n.center)<a.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,p&&d?this.count+=1:this.count=1,this._input=n;var m=this.count%a.taps;if(m==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){r.state=Kc,r.tryEmit()},a.interval),Co):Kc}return Kl},i.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Kl},this.options.interval),Kl},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){this.state===Kc&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(zv);function bL(t){return t===dm?"down":t===jv?"up":t===qv?"left":t===Wv?"right":""}var YC=function(t){var e=Math.abs;function i(r){var a;return r===void 0&&(r={}),a=t.call(this,ul({event:"pan",threshold:10,pointers:1,direction:lL},r))||this,a.pX=null,a.pY=null,a}Mo(i,t);var n=i.prototype;return n.getTouchAction=function(){var r=this.options.direction,a=[];return r&ic&&a.push(Jg),r&Qh&&a.push(Qg),a},n.directionTest=function(r){var a=this.options,s=!0,o=r.distance,c=r.direction,d=r.deltaX,p=r.deltaY;return c&a.direction||(a.direction&ic?(c=d===0?$0:0>d?qv:Wv,s=d!==this.pX,o=e(r.deltaX)):(c=p===0?$0:0>p?jv:dm,s=p!==this.pY,o=e(r.deltaY))),r.direction=c,s&&o>a.threshold&&c&a.direction},n.attrTest=function(r){return fm.prototype.attrTest.call(this,r)&&(this.state&Co||!(this.state&Co)&&this.directionTest(r))},n.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var a=bL(r.direction);a&&(r.additionalEvent=this.options.event+a),t.prototype.emit.call(this,r)},i}(fm),gM=function(t){function e(n){return n===void 0&&(n={}),t.call(this,ul({event:"swipe",threshold:10,velocity:.3,direction:ic|Qh,pointers:1},n))||this}Mo(e,t);var i=e.prototype;return i.getTouchAction=function(){return YC.prototype.getTouchAction.call(this)},i.attrTest=function(n){var r=this.options.direction,a;return r&(ic|Qh)?a=n.overallVelocity:r&ic?a=n.overallVelocityX:r&Qh&&(a=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&r&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&cf(a)>this.options.velocity&&n.eventType&or},i.emit=function(n){var r=bL(n.offsetDirection);r&&this.manager.emit(this.options.event+r,n),this.manager.emit(this.options.event,n)},e}(fm),vM=function(t){var e=Math.abs;function i(r){return r===void 0&&(r={}),t.call(this,ul({event:"pinch",threshold:0,pointers:2},r))||this}Mo(i,t);var n=i.prototype;return n.getTouchAction=function(){return[Zh]},n.attrTest=function(r){return t.prototype.attrTest.call(this,r)&&(e(r.scale-1)>this.options.threshold||this.state&Co)},n.emit=function(r){if(r.scale!==1){var a=1>r.scale?"in":"out";r.additionalEvent=this.options.event+a}t.prototype.emit.call(this,r)},i}(fm),bM=function(t){var e=Math.abs;function i(r){return r===void 0&&(r={}),t.call(this,ul({event:"rotate",threshold:0,pointers:2},r))||this}Mo(i,t);var n=i.prototype;return n.getTouchAction=function(){return[Zh]},n.attrTest=function(r){return t.prototype.attrTest.call(this,r)&&(e(r.rotation)>this.options.threshold||this.state&Co)},i}(fm),_M=function(t){function e(n){var r;return n===void 0&&(n={}),r=t.call(this,ul({event:"press",pointers:1,time:251,threshold:9},n))||this,r._timer=null,r._input=null,r}Mo(e,t);var i=e.prototype;return i.getTouchAction=function(){return[sL]},i.process=function(n){var r=this,a=this.options,s=n.pointers.length===a.pointers,o=n.distance<a.threshold,c=n.deltaTime>a.time;if(this._input=n,!o||!s||n.eventType&(or|ws)&&!c)this.reset();else if(n.eventType&Za)this.reset(),this._timer=setTimeout(function(){r.state=Kc,r.tryEmit()},a.time);else if(n.eventType&or)return Kc;return Kl},i.reset=function(){clearTimeout(this._timer)},i.emit=function(n){this.state!==Kc||(n&&n.eventType&or?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=jS(),this.manager.emit(this.options.event,this._input)))},e}(zv);function _L(t,e,i){return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,"DEPRECATED METHOD: "+e+`
`+i+` AT 
`,r),t.apply(this,arguments)}}var wL=_L(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&t[n[r]]===void 0)&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),TK=_L(function(t,e){return wL(t,e,!0)},"merge","Use `assign`.");function CK(t,e,i){var n=e.prototype,r;r=t.prototype=Object.create(n),r.constructor=t,r._super=n,i&&um(r,i)}function wM(t,e){return function(){return t.apply(e,arguments)}}var kK=function(){var t=function(e,i){return i===void 0&&(i={}),new yM(e,ul({recognizers:[[bM,{enable:!1}],[vM,{enable:!1},["rotate"]],[gM,{direction:ic}],[YC,{direction:ic},["swipe"]],[qT],[qT,{event:"doubletap",taps:2},["tap"]],[_M]]},i))};return t.VERSION="2.0.15",t.DIRECTION_ALL=lL,t.DIRECTION_DOWN=dm,t.DIRECTION_LEFT=qv,t.DIRECTION_RIGHT=Wv,t.DIRECTION_UP=jv,t.DIRECTION_HORIZONTAL=ic,t.DIRECTION_VERTICAL=Qh,t.DIRECTION_NONE=$0,t.DIRECTION_DOWN=dm,t.INPUT_START=Za,t.INPUT_MOVE=Of,t.INPUT_END=or,t.INPUT_CANCEL=ws,t.STATE_POSSIBLE=n0,t.STATE_BEGAN=Co,t.STATE_CHANGED=hm,t.STATE_ENDED=md,t.STATE_RECOGNIZED=Kc,t.STATE_CANCELLED=iv,t.STATE_FAILED=Kl,t.Manager=yM,t.Input=Lm,t.TouchAction=uL,t.TouchInput=ZS,t.MouseInput=QS,t.PointerEventInput=yL,t.TouchMouseInput=gL,t.SingleTouchInput=wK,t.Recognizer=zv,t.AttrRecognizer=fm,t.Tap=qT,t.Pan=YC,t.Swipe=gM,t.Pinch=vM,t.Rotate=bM,t.Press=_M,t.on=Mg,t.off=Pg,t.each=Xc,t.merge=TK,t.extend=wL,t.bindFn=wM,t.assign=um,t.inherit=CK,t.bindFn=wM,t.prefixed=zw,t.toArray=tv,t.inArray=uf,t.uniqueArray=KS,t.splitStr=ev,t.boolOrFn=Xw,t.hasParent=XS,t.addEventListeners=Mg,t.removeEventListeners=Pg,t.defaults=vL,t}(),yd=ml(function(t){function e(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}if(typeof window<"u"){var i=window.Hammer||kK;t.exports=i}else t.exports=function(){return e()}});function Bl(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=yd(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(i){e.hammer.on(i,function(n){n.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){SK(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=FC(),this.escListener=this.deactivate.bind(this)}XU(Bl.prototype),Bl.current=null,Bl.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},Bl.prototype.activate=function(){Bl.current&&Bl.current.deactivate(),Bl.current=this,this.active=!0,this.dom.overlay.style.display="none",Ee.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},Bl.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",Ee.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},Bl.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()};function SK(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var AK=Bl,xK=ml(function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Atrás",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},e.ru_RU=e.ru,e.cn={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"},e.zh_CN=e.cn,e.uk={edit:"Редагувати",del:"Видалити обране",back:"Назад",addNode:"Додати вузол",addEdge:"Додати край",editNode:"Редагувати вузол",editEdge:"Редагувати край",addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",createEdgeError:"Не можливо об'єднати краї в групу.",deleteClusterError:"Групи не можуть бути видалені.",editClusterError:"Групи недоступні для редагування."},e.uk_UA=e.uk,e.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de créer un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas être éffacés.",editClusterError:"Les clusters ne peuvent pas être édites."},e.fr_FR=e.fr});function DK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ze=DK;function EM(t,e){for(var i=0,n;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function IK(t,e,i){return e&&EM(t.prototype,e),i&&EM(t,i),t}var Qe=IK,RK=function(){var t=Math.floor;function e(){Ze(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Qe(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var i=this.image.width,n=this.image.height;this.width=i,this.height=n;var r=t(n/2),a=t(n/4),s=t(n/8),o=t(n/16),c=t(i/2),d=t(i/4),p=t(i/8),m=t(i/16);this.canvas.width=3*d,this.canvas.height=r,this.coordinates=[[0,0,c,r],[c,0,d,a],[c,a,p,s],[5*p,a,m,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var i=this.canvas.getContext("2d"),n=this.coordinates[0];i.drawImage(this.image,n[0],n[1],n[2],n[3]);for(var r=1;r<this.NUM_ITERATIONS;r++){var a=this.coordinates[r-1],s=this.coordinates[r];i.drawImage(this.canvas,a[0],a[1],a[2],a[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(i,n,r,a,s,o){if(this.initialized())if(2<n){n*=.5;for(var c=0;2<n&&c<this.NUM_ITERATIONS;)n*=.5,c+=1;c>=this.NUM_ITERATIONS&&(c=this.NUM_ITERATIONS-1);var d=this.coordinates[c];i.drawImage(this.canvas,d[0],d[1],d[2],d[3],r,a,s,o)}else i.drawImage(this.image,r,a,s,o)}}]),e}(),MK=function(){function t(e){Ze(this,t),this.images={},this.imageBroken={},this.callback=e}return Qe(t,[{key:"_tryloadBrokenUrl",value:function(e,i,n){return e===void 0||n===void 0?void 0:i===void 0?void console.warn("No broken url image defined"):(n.image.onerror=function(){console.error("Could not load brokenImage:",i)},void(n.image.src=i))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,i){var n=this,r=this.images[e];if(r)return r;var a=new RK;return this.images[e]=a,a.image.onload=function(){n._fixImageCoordinates(a.image),a.init(),n._redrawWithImage(a)},a.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,i,a)},a.image.src=e,a}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),t}(),PK=function(){function t(){Ze(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ee.extend(this.options,this.defaultOptions)}return Qe(t,[{key:"setOptions",value:function(e){var i=["useDefaultGroups"];if(e!==void 0){for(var n in e)if(e.hasOwnProperty(n)&&i.indexOf(n)===-1){var r=e[n];this.add(n,r)}}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var i=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=this.groups[e];if(n===void 0&&i)if(this.options.useDefaultGroups===!1&&0<this.groupsArray.length){var r=this.groupIndex%this.groupsArray.length;this.groupIndex++,n={},n.color=this.groups[this.groupsArray[r]],this.groups[e]=n}else{var a=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,n={},n.color=this.defaultGroups[a],this.groups[e]=n}return n}},{key:"add",value:function(e,i){return this.groups[e]=i,this.groupsArray.push(e),i}}]),t}();function OK(t){if(Array.isArray(t))return t}var NK=OK;function GK(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(i.push(o.value),!(e&&i.length===e));n=!0);}catch(c){r=!0,a=c}finally{try{n||s.return==null||s.return()}finally{if(r)throw a}}return i}var UK=GK;function LK(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var BK=LK;function $K(t,e){return NK(t)||UK(t,e)||BK()}var wr=$K,za=ml(function(t){function e(n){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(n)}function i(n){return t.exports=typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?i=function(r){return e(r)}:i=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":e(r)},i(n)}t.exports=i}),Zl=function(){var t=Math.cos,e=Math.sin;function i(){Ze(this,i)}return Qe(i,null,[{key:"choosify",value:function(n,r){var a=["node","edge","label"],s=!0,o=Ee.topMost(r,"chosen");if(typeof o=="boolean")s=o;else if(za(o)==="object"){if(a.indexOf(n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+a.join("', '")+"'");var c=Ee.topMost(r,["chosen",n]);(typeof c=="boolean"||typeof c=="function")&&(s=c)}return s}},{key:"pointInRect",value:function(n,r,a){if(0>=n.width||0>=n.height)return!1;if(a!==void 0){var s={x:r.x-a.x,y:r.y-a.y};if(a.angle!==0){var o=-a.angle,c={x:t(o)*s.x-e(o)*s.y,y:e(o)*s.x+t(o)*s.y};r=c}else r=s}var d=n.x+n.width,p=n.y+n.width;return n.left<r.x&&d>r.x&&n.top<r.y&&p>r.y}},{key:"isValidLabel",value:function(n){return typeof n=="string"&&n!==""}}]),i}(),FK=function(){function t(e){Ze(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return Qe(t,[{key:"_add",value:function(e,i){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var r=i;(i===void 0||i==="")&&(r=" ");var a=this.measureText(r,n),s=Object.assign({},a.values);s.text=i,s.width=a.width,s.mod=n,(i===void 0||i==="")&&(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i)}},{key:"newLine",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,i),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var i=this.lines[e],n=0;if(i.blocks!==void 0)for(var r=0,a;r<i.blocks.length;r++)a=i.blocks[r],n<a.height&&(n=a.height);i.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,i=0,n=0,r;n<this.lines.length;n++)r=this.lines[n],r.width>e&&(e=r.width),i+=r.height;this.width=e,this.height=i}},{key:"removeEmptyBlocks",value:function(){for(var e=[],i=0,n;i<this.lines.length;i++)if(n=this.lines[i],n.blocks.length!==0){if(i==this.lines.length-1&&n.width===0)continue;var r={};Object.assign(r,n),r.blocks=[];for(var a=void 0,s=[],o=0,c;o<n.blocks.length;o++)c=n.blocks[o],c.width===0?a===void 0&&(a=c):s.push(c);s.length===0&&a!==void 0&&s.push(a),r.blocks=s,e.push(r)}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),t}(),HK={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},TM=function(){function t(e){Ze(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Qe(t,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){return this.modStack.length===0?"normal":this.modStack[0]==="mono"?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,i){return!(this.mono||this[e]||!this.match(i))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var i=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=this.prepareRegExp(e),r=wr(n,2),a=r[0],s=r[1],o=a.test(this.text.substr(this.position,s));return o&&i&&(this.position+=s-1),o}},{key:"parseEndTag",value:function(e,i,n){var r=this.mod()===e;return r=e==="mono"?r&&this.mono:r&&!this.mono,!!(r&&this.match(i))&&(n===void 0?this.unsetTag(e):(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e),!0)}},{key:"replace",value:function(e,i){return!!this.match(e)&&(this.add(i),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var i,n;if(e instanceof RegExp)n=e,i=1;else{var r=HK[e];n=r===void 0?new RegExp(e):r,i=e.length}return[n,i]}}]),t}(),VK=function(){function t(e,i,n,r){var a=this;Ze(this,t),this.ctx=e,this.parent=i,this.selected=n,this.hover=r,this.lines=new FK(function(s,o){if(s===void 0)return 0;var c=a.parent.getFormattingValues(e,n,r,o),d=0;if(s!==""){var p=a.ctx.measureText(s);d=p.width}return{width:d,values:c}})}return Qe(t,[{key:"process",value:function(e){if(!Zl.isValidLabel(e))return this.lines.finalize();var i=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var n=(e+"").split(`
`),r=n.length;if(i.multi){for(var a=0,s;a<r;a++)if(s=this.splitBlocks(n[a],i.multi),s!==void 0){if(s.length===0){this.lines.newLine("");continue}if(0<i.maxWdt)for(var o=0;o<s.length;o++){var c=s[o].mod,d=s[o].text;this.splitStringIntoLines(d,c,!0)}else for(var p=0;p<s.length;p++){var m=s[p].mod,y=s[p].text;this.lines.append(y,m)}this.lines.newLine()}}else if(0<i.maxWdt)for(var _=0;_<r;_++)this.splitStringIntoLines(n[_]);else for(var w=0;w<r;w++)this.lines.newLine(n[w]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var i="none";return e==="markdown"||e==="md"?i="markdown":(e===!0||e==="html")&&(i="html"),i}},{key:"splitHtmlBlocks",value:function(e){for(var i=new TM(e),n=function(s){if(/&/.test(s)){var o=i.replace(i.text,"&lt;","<")||i.replace(i.text,"&amp;","&");return o||i.add("&"),!0}return!1};i.position<i.text.length;){var r=i.text.charAt(i.position),a=i.parseWS(r)||/</.test(r)&&(i.parseStartTag("bold","<b>")||i.parseStartTag("ital","<i>")||i.parseStartTag("mono","<code>")||i.parseEndTag("bold","</b>")||i.parseEndTag("ital","</i>")||i.parseEndTag("mono","</code>"))||n(r);a||i.add(r),i.position++}return i.emitBlock(),i.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var i=this,n=new TM(e),r=!0,a=function(c){return!!/\\/.test(c)&&(n.position<i.text.length+1&&(n.position++,c=i.text.charAt(n.position),/ \t/.test(c)?n.spacing=!0:(n.add(c),r=!1)),!0)};n.position<n.text.length;){var s=n.text.charAt(n.position),o=n.parseWS(s)||a(s)||(r||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono");o||(n.add(s),r=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,i){var n=this.decodeMarkupSystem(i);return n==="none"?[{text:e,mod:"normal"}]:n==="markdown"?this.splitMarkdownBlocks(e):n==="html"?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var i=this.ctx.measureText(e).width;return this.lines.curWidth()+i>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var i="",n=0;n<e.length;){var r=i===""?"":" ",a=i+r+e[n];if(this.overMaxWidth(a))break;i=a,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var i=0;i<e.length&&!this.overMaxWidth(e.slice(0,i));)i++;return i}},{key:"splitStringIntoLines",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"normal",n=2<arguments.length&&arguments[2]!==void 0&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,i),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var r=e.split("\r"),a;0<r.length;)if(a=this.getLongestFit(r),a===0){var s=r[0],o=this.getLongestFitWord(s);this.lines.newLine(s.slice(0,o),i),r[0]=s.slice(o)}else{var c=a;r[a-1]===" "?a--:r[c]===" "&&c++;var d=r.slice(0,a).join("");a==r.length&&n?this.lines.append(d,i):this.lines.newLine(d,i),r=r.slice(c)}}}]),t}(),D_=["bold","ital","boldital","mono"],EL=function(){var t=Math.max,e=Math.min;function i(n,r){var a=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Ze(this,i),this.body=n,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=a}return Qe(i,[{key:"setOptions",value:function(n){if(this.elementOptions=n,this.initFontOptions(n.font),Zl.isValidLabel(n.label)?this.labelDirty=!0:n.label=void 0,n.font!==void 0&&n.font!==null){if(typeof n.font=="string")this.baseSize=this.fontOptions.size;else if(za(n.font)==="object"){var r=n.font.size;r!==void 0&&(this.baseSize=r)}}}},{key:"initFontOptions",value:function(n){var r=this;return Ee.forEach(D_,function(a){r.fontOptions[a]={}}),i.parseFontString(this.fontOptions,n)?void(this.fontOptions.vadjust=0):void Ee.forEach(n,function(a,s){a!=null&&za(a)!=="object"&&(r.fontOptions[s]=a)})}},{key:"constrain",value:function(n){var r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},a=Ee.topMost(n,"widthConstraint");if(typeof a=="number")r.maxWdt=+a,r.minWdt=+a;else if(za(a)==="object"){var s=Ee.topMost(n,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=+s);var o=Ee.topMost(n,["widthConstraint","minimum"]);typeof o=="number"&&(r.minWdt=+o)}var c=Ee.topMost(n,"heightConstraint");if(typeof c=="number")r.minHgt=+c;else if(za(c)==="object"){var d=Ee.topMost(n,["heightConstraint","minimum"]);typeof d=="number"&&(r.minHgt=+d);var p=Ee.topMost(n,["heightConstraint","valign"]);typeof p=="string"&&(p==="top"||p==="bottom")&&(r.valign=p)}return r}},{key:"update",value:function(n,r){this.setOptions(n,!0),this.propagateFonts(r),Ee.deepExtend(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=Zl.choosify("label",r)}},{key:"adjustSizes",value:function(n){var r=n?n.right+n.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);var a=n?n.top+n.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=a)}},{key:"addFontOptionsToPile",value:function(n,r){for(var a=0;a<r.length;++a)this.addFontToPile(n,r[a])}},{key:"addFontToPile",value:function(n,r){if(r!==void 0&&r.font!==void 0&&r.font!==null){var a=r.font;n.push(a)}}},{key:"getBasicOptions",value:function(n){for(var r={},a=0;a<n.length;++a){var s=n[a],o={};i.parseFontString(o,s)&&(s=o),Ee.forEach(s,function(c,d){c===void 0||r.hasOwnProperty(d)||(D_.indexOf(d)===-1?r[d]=c:r[d]={})})}return r}},{key:"getFontOption",value:function(n,r,a){for(var s=0,o,c;s<n.length;++s)if(c=n[s],c.hasOwnProperty(r)){if(o=c[r],o==null)continue;var d={};if(i.parseFontString(d,o)&&(o=d),o.hasOwnProperty(a))return o[a]}if(this.fontOptions.hasOwnProperty(a))return this.fontOptions[a];throw new Error("Did not find value for multi-font for property: '"+a+"'")}},{key:"getFontOptions",value:function(n,r){for(var a={},s=["color","size","face","mod","vadjust"],o=0,c;o<s.length;++o)c=s[o],a[c]=this.getFontOption(n,r,c);return a}},{key:"propagateFonts",value:function(n){var r=this,a=[];this.addFontOptionsToPile(a,n),this.fontOptions=this.getBasicOptions(a);for(var s=function(c){var d=D_[c],p=r.fontOptions[d],m=r.getFontOptions(a,d);Ee.forEach(m,function(y,_){p[_]=y}),p.size=+p.size,p.vadjust=+p.vadjust},o=0;o<D_.length;++o)s(o)}},{key:"draw",value:function(n,r,a,s,o){var c=5<arguments.length&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var d=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&d<this.elementOptions.scaling.label.drawThreshold-1||(d>=this.elementOptions.scaling.label.maxVisible&&(d=+this.elementOptions.scaling.label.maxVisible/this.body.view.scale),this.calculateLabelSize(n,s,o,r,a,c),this._drawBackground(n),this._drawText(n,r,this.size.yLine,c,d))}}},{key:"_drawBackground",value:function(n){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){n.fillStyle=this.fontOptions.background;var r=this.getSize();n.fillRect(r.left,r.top,r.width,r.height)}}},{key:"_drawText",value:function(n,r,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"middle",o=4<arguments.length?arguments[4]:void 0,c=this._setAlignment(n,r,a,s),d=wr(c,2);r=d[0],a=d[1],n.textAlign="left",r-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(a-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(a+=(this.size.height-this.size.labelHeight)/2));for(var p=0,m;p<this.lineCount;p++)if(m=this.lines[p],m&&m.blocks){var y=0;this.isEdgeLabel||this.fontOptions.align==="center"?y+=(this.size.width-m.width)/2:this.fontOptions.align==="right"&&(y+=this.size.width-m.width);for(var _=0,w;_<m.blocks.length;_++){w=m.blocks[_],n.font=w.font;var C=this._getColor(w.color,o,w.strokeColor),k=wr(C,2),S=k[0],x=k[1];0<w.strokeWidth&&(n.lineWidth=w.strokeWidth,n.strokeStyle=x,n.lineJoin="round"),n.fillStyle=S,0<w.strokeWidth&&n.strokeText(w.text,r+y,a+w.vadjust),n.fillText(w.text,r+y,a+w.vadjust),y+=w.width}a+=m.height}}},{key:"_setAlignment",value:function(n,r,a,s){return this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1?(r=0,a=0,this.fontOptions.align==="top"?(n.textBaseline="alphabetic",a-=4):this.fontOptions.align==="bottom"?(n.textBaseline="hanging",a+=4):n.textBaseline="middle"):n.textBaseline=s,[r,a]}},{key:"_getColor",value:function(n,r,a){var s=n||"#000000",o=a||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){var c=t(0,e(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));s=Ee.overrideOpacity(s,c),o=Ee.overrideOpacity(o,c)}return[s,o]}},{key:"getTextSize",value:function(n){var r=1<arguments.length&&arguments[1]!==void 0&&arguments[1],a=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return this._processLabel(n,r,a),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var n=this.size.left,r=this.size.top-1;if(this.isEdgeLabel){var a=.5*-this.size.width;switch(this.fontOptions.align){case"middle":n=a,r=.5*-this.size.height;break;case"top":n=a,r=-(this.size.height+2);break;case"bottom":n=a,r=2}}var s={left:n,top:r,width:this.size.width,height:this.size.height};return s}},{key:"calculateLabelSize",value:function(n,r,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,c=5<arguments.length&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(n,r,a),this.size.left=s-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,c==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(n,r,a,s){var o=function(p,m,y){return m==="normal"?y==="mod"?"":p[y]:p[m][y]===void 0?p[y]:p[m][y]},c={color:o(this.fontOptions,s,"color"),size:o(this.fontOptions,s,"size"),face:o(this.fontOptions,s,"face"),mod:o(this.fontOptions,s,"mod"),vadjust:o(this.fontOptions,s,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||a)&&(s==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?c.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(c,this.elementOptions.id,r,a));var d="";return c.mod!==void 0&&c.mod!==""&&(d+=c.mod+" "),d+=c.size+"px "+c.face,n.font=d.replace(/"/g,""),c.font=n.font,c.height=c.size,c}},{key:"differentState",value:function(n,r){return n!==this.selectedState||r!==this.hoverState}},{key:"_processLabelText",value:function(n,r,a,s){var o=new VK(n,this,r,a);return o.process(s)}},{key:"_processLabel",value:function(n,r,a){if(this.labelDirty!==!1||this.differentState(r,a)){var s=this._processLabelText(n,r,a,this.elementOptions.label);0<this.fontOptions.minWdt&&s.width<this.fontOptions.minWdt&&(s.width=this.fontOptions.minWdt),this.size.labelHeight=s.height,0<this.fontOptions.minHgt&&s.height<this.fontOptions.minHgt&&(s.height=this.fontOptions.minHgt),this.lines=s.lines,this.lineCount=s.lines.length,this.size.width=s.width,this.size.height=s.height,this.selectedState=r,this.hoverState=a,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var n=this.fontOptions.size*this.body.view.scale;return!(n<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(n,r){if(!r||typeof r!="string")return!1;var a=r.split(" ");return n.size=a[0].replace("px",""),n.face=a[1],n.color=a[2],!0}}]),i}();function YK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var qK=YK;function WK(t,e){return e&&(za(e)==="object"||typeof e=="function")?e:qK(t)}var Li=WK,Bi=ml(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(i)}t.exports=e}),jK=ml(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},e(i,n)}t.exports=e});function zK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jK(t,e)}var $i=zK,Nf=function(){var t=Math.cos,e=Math.sin,i=Math.abs,n=Math.min;function r(a,s,o){Ze(this,r),this.body=s,this.labelModule=o,this.setOptions(a),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Qe(r,[{key:"setOptions",value:function(a){this.options=a}},{key:"_setMargins",value:function(a){this.margin={},this.options.margin&&(za(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),a.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(a,s){var o=this.options.borderWidth;return this.resize(a),n(i(this.width/2/t(s)),i(this.height/2/e(s)))+o}},{key:"enableShadow",value:function(a,s){s.shadow&&(a.shadowColor=s.shadowColor,a.shadowBlur=s.shadowSize,a.shadowOffsetX=s.shadowX,a.shadowOffsetY=s.shadowY)}},{key:"disableShadow",value:function(a,s){s.shadow&&(a.shadowColor="rgba(0,0,0,0)",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(a,s){if(s.borderDashes!==!1)if(a.setLineDash!==void 0){var o=s.borderDashes;o===!0&&(o=[5,15]),a.setLineDash(o)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,s.borderDashes=!1}},{key:"disableBorderDashes",value:function(a,s){s.borderDashes!==!1&&(a.setLineDash===void 0?(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,s.borderDashes=!1):a.setLineDash([0]))}},{key:"needsRefresh",value:function(a,s){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(a,s)}},{key:"initContextForDraw",value:function(a,s){var o=s.borderWidth/this.body.view.scale;a.lineWidth=n(this.width,o),a.strokeStyle=s.borderColor,a.fillStyle=s.color}},{key:"performStroke",value:function(a,s){var o=s.borderWidth/this.body.view.scale;a.save(),0<o&&(this.enableBorderDashes(a,s),a.stroke(),this.disableBorderDashes(a,s)),a.restore()}},{key:"performFill",value:function(a,s){this.enableShadow(a,s),a.fill(),this.disableShadow(a,s),this.performStroke(a,s)}},{key:"_addBoundingBoxMargin",value:function(a){this.boundingBox.left-=a,this.boundingBox.top-=a,this.boundingBox.bottom+=a,this.boundingBox.right+=a}},{key:"_updateBoundingBox",value:function(a,s,o,c,d){o!==void 0&&this.resize(o,c,d),this.left=a-this.width/2,this.top=s-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(a,s,o,c,d){this._updateBoundingBox(a,s,o,c,d)}},{key:"getDimensionsFromLabel",value:function(a,s,o){this.textSize=this.labelModule.getTextSize(a,s,o);var c=this.textSize.width,d=this.textSize.height,p=14;return c===0&&(c=p,d=p),{width:c,height:d}}}]),r}(),XK=function(t){var e=Math.cos,i=Math.sin,n=Math.abs,r=Math.min;function a(s,o,c){var d;return Ze(this,a),d=Li(this,Bi(a).call(this,s,o,c)),d._setMargins(c),d}return $i(a,t),Qe(a,[{key:"resize",value:function(s){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.selected,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(o,c)){var d=this.getDimensionsFromLabel(s,o,c);this.width=d.width+this.margin.right+this.margin.left,this.height=d.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(s,o,c,d,p,m){this.resize(s,d,p),this.left=o-this.width/2,this.top=c-this.height/2,this.initContextForDraw(s,m),s.roundRect(this.left,this.top,this.width,this.height,m.borderRadius),this.performFill(s,m),this.updateBoundingBox(o,c,s,d,p),this.labelModule.draw(s,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,p)}},{key:"updateBoundingBox",value:function(s,o,c,d,p){this._updateBoundingBox(s,o,c,d,p);var m=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(m)}},{key:"distanceToBorder",value:function(s,o){this.resize(s);var c=this.options.borderWidth;return r(n(this.width/2/e(o)),n(this.height/2/i(o)))+c}}]),a}(Nf),JS=function(t){function e(i,n,r){var a;return Ze(this,e),a=Li(this,Bi(e).call(this,i,n,r)),a.labelOffset=0,a.selected=!1,a}return $i(e,t),Qe(e,[{key:"setOptions",value:function(i,n,r){this.options=i,n===void 0&&r===void 0||this.setImages(n,r)}},{key:"setImages",value:function(i,n){n&&this.selected?(this.imageObj=n,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=n)}},{key:"switchImages",value:function(i){var n=i&&!this.selected||!i&&this.selected;if(this.selected=i,this.imageObjAlt!==void 0&&n){var r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}},{key:"_resizeImage",value:function(){var i,n;if(this.options.shapeProperties.useImageSize===!1){var r=1,a=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:a=this.imageObj.height/this.imageObj.width),i=2*this.options.size*r,n=2*this.options.size*a}else i=this.imageObj.width,n=this.imageObj.height;this.width=i,this.height=n,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,n,r,a){this.initContextForDraw(i,a),i.circle(n,r,a.size),this.performFill(i,a)}},{key:"_drawImageAtPosition",value:function(i,n){if(this.imageObj.width!=0){i.globalAlpha=1,this.enableShadow(i,n);var r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(i,r,this.left,this.top,this.width,this.height),this.disableShadow(i,n)}}},{key:"_drawImageLabel",value:function(i,n,r,a,s){var o=0,c;if(this.height!==void 0){o=.5*this.height;var d=this.labelModule.getTextSize(i,a,s);1<=d.lineCount&&(o+=d.height/2)}c=r+o,this.options.label&&(this.labelOffset=o),this.labelModule.draw(i,n,c,a,s,"hanging")}}]),e}(Nf),KK=function(t){var e=Math.max;function i(n,r,a){var s;return Ze(this,i),s=Li(this,Bi(i).call(this,n,r,a)),s._setMargins(a),s}return $i(i,t),Qe(i,[{key:"resize",value:function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.selected,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,a)){var s=this.getDimensionsFromLabel(n,r,a),o=e(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(n,r,a,s,o,c){this.resize(n,s,o),this.left=r-this.width/2,this.top=a-this.height/2,this._drawRawCircle(n,r,a,c),this.updateBoundingBox(r,a),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,a,s,o)}},{key:"updateBoundingBox",value:function(n,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=r+this.options.size}},{key:"distanceToBorder",value:function(n){return this.resize(n),.5*this.width}}]),i}(JS),ZK=function(t){var e=Math.max,i=Math.min;function n(r,a,s,o,c){var d;return Ze(this,n),d=Li(this,Bi(n).call(this,r,a,s)),d.setImages(o,c),d}return $i(n,t),Qe(n,[{key:"resize",value:function(){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.selected,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.hover,s=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(s){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(r,a)&&this._resizeImage()}},{key:"draw",value:function(r,a,s,o,c,d){this.switchImages(o),this.resize(),this.left=a-this.width/2,this.top=s-this.height/2,this._drawRawCircle(r,a,s,d),r.save(),r.clip(),this._drawImageAtPosition(r,d),r.restore(),this._drawImageLabel(r,a,s,o,c),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(r,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=a+this.options.size,this.boundingBox.left=i(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(r){return this.resize(r),.5*this.width}}]),n}(JS),QK=function(t){function e(i,n,r){var a;return Ze(this,e),a=Li(this,Bi(e).call(this,i,n,r)),a._setMargins(r),a}return $i(e,t),Qe(e,[{key:"resize",value:function(i,n,r){if(this.needsRefresh(n,r)){var a=this.getDimensionsFromLabel(i,n,r),s=a.width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(i,n,r,a,s,o){this.resize(i,a,s),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(i,o),i.database(n-this.width/2,r-this.height/2,this.width,this.height),this.performFill(i,o),this.updateBoundingBox(n,r,i,a,s),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,a,s)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Nf),Gf=function(t){var e=Math.max,i=Math.min;function n(r,a,s){return Ze(this,n),Li(this,Bi(n).call(this,r,a,s))}return $i(n,t),Qe(n,[{key:"resize",value:function(r){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.selected,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.hover,o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,s)){this.labelModule.getTextSize(r,a,s);var c=2*o.size;this.width=c,this.height=c,this.radius=.5*this.width}}},{key:"_drawShape",value:function(r,a,s,o,c,d,p,m){if(this.resize(r,d,p,m),this.left=o-this.width/2,this.top=c-this.height/2,this.initContextForDraw(r,m),r[a](o,c,m.size),this.performFill(r,m),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(r.font=(d?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",r.fillText(this.options.icon.code,o,c)),this.options.label!==void 0){this.labelModule.calculateLabelSize(r,d,p,o,c,"hanging");var y=c+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(r,o,y,d,p,"hanging")}this.updateBoundingBox(o,c)}},{key:"updateBoundingBox",value:function(r,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&0<this.labelModule.size.width&&(this.boundingBox.left=i(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}(Nf),JK=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"diamond",4,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Gf),eZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"circle",2,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i){return this.resize(i),this.options.size}}]),e}(Gf),CM=function(t){var e=Math.cos,i=Math.sin,n=Math.sqrt;function r(a,s,o){return Ze(this,r),Li(this,Bi(r).call(this,a,s,o))}return $i(r,t),Qe(r,[{key:"resize",value:function(a){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.selected,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(s,o)){var c=this.getDimensionsFromLabel(a,s,o);this.height=2*c.height,this.width=c.width+c.height,this.radius=.5*this.width}}},{key:"draw",value:function(a,s,o,c,d,p){this.resize(a,c,d),this.left=s-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(a,p),a.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(a,p),this.updateBoundingBox(s,o,a,c,d),this.labelModule.draw(a,s,o,c,d)}},{key:"distanceToBorder",value:function(a,s){this.resize(a);var o=.5*this.width,c=.5*this.height,d=i(s)*o,p=e(s)*c;return o*c/n(d*d+p*p)}}]),r}(Nf),tZ=function(t){var e=Math.max,i=Math.min;function n(r,a,s){var o;return Ze(this,n),o=Li(this,Bi(n).call(this,r,a,s)),o._setMargins(s),o}return $i(n,t),Qe(n,[{key:"resize",value:function(r,a,s){this.needsRefresh(a,s)&&(this.iconSize={width:+this.options.icon.size,height:+this.options.icon.size},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,a,s,o,c,d){this.resize(r,o,c),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=s-this.height/2,this._icon(r,a,s,o,c,d),this.options.label!==void 0&&this.labelModule.draw(r,this.left+this.iconSize.width/2+this.margin.left,s+this.height/2+5,o),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(r,a){this.boundingBox.top=a-.5*this.options.icon.size,this.boundingBox.left=r-.5*this.options.icon.size,this.boundingBox.right=r+.5*this.options.icon.size,this.boundingBox.bottom=a+.5*this.options.icon.size,this.options.label!==void 0&&0<this.labelModule.size.width&&(this.boundingBox.left=i(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(r,a,s,o,c,d){var p=+this.options.icon.size;this.options.icon.code===void 0?console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally."):(r.font=(o?"bold ":"")+p+"px "+this.options.icon.face,r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",this.enableShadow(r,d),r.fillText(this.options.icon.code,a,s),this.disableShadow(r,d))}},{key:"distanceToBorder",value:function(r,a){return this._distanceToBorder(r,a)}}]),n}(Nf),iZ=function(t){var e=Math.max,i=Math.min;function n(r,a,s,o,c){var d;return Ze(this,n),d=Li(this,Bi(n).call(this,r,a,s)),d.setImages(o,c),d}return $i(n,t),Qe(n,[{key:"resize",value:function(){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.selected,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.hover,s=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(s){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(r,a)&&this._resizeImage()}},{key:"draw",value:function(r,a,s,o,c,d){if(this.switchImages(o),this.resize(),this.left=a-this.width/2,this.top=s-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var p=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth,y=(o?m:p)/this.body.view.scale;r.lineWidth=i(this.width,y),r.beginPath(),r.strokeStyle=o?this.options.color.highlight.border:c?this.options.color.hover.border:this.options.color.border,r.fillStyle=o?this.options.color.highlight.background:c?this.options.color.hover.background:this.options.color.background,r.rect(this.left-.5*r.lineWidth,this.top-.5*r.lineWidth,this.width+r.lineWidth,this.height+r.lineWidth),r.fill(),this.performStroke(r,d),r.closePath()}this._drawImageAtPosition(r,d),this._drawImageLabel(r,a,s,o,c),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(r,a){this.resize(),this._updateBoundingBox(r,a),this.options.label!==void 0&&0<this.labelModule.size.width&&(this.boundingBox.left=i(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=e(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=e(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(r,a){return this._distanceToBorder(r,a)}}]),n}(JS),nZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"square",2,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Gf),rZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"hexagon",4,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Gf),aZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"star",4,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Gf),sZ=function(t){function e(i,n,r){var a;return Ze(this,e),a=Li(this,Bi(e).call(this,i,n,r)),a._setMargins(r),a}return $i(e,t),Qe(e,[{key:"resize",value:function(i,n,r){this.needsRefresh(n,r)&&(this.textSize=this.labelModule.getTextSize(i,n,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,n,r,a,s,o){this.resize(i,a,s),this.left=n-this.width/2,this.top=r-this.height/2,this.enableShadow(i,o),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,a,s),this.disableShadow(i,o),this.updateBoundingBox(n,r,i,a,s)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Nf),oZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"triangle",3,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Gf),lZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"draw",value:function(i,n,r,a,s,o){this._drawShape(i,"triangleDown",3,n,r,a,s,o)}},{key:"distanceToBorder",value:function(i,n){return this._distanceToBorder(i,n)}}]),e}(Gf),Yy=!1,V0="background: #FFeeee; color: #dd0000",cZ=function(){var t=Math.min;function e(){Ze(this,e)}return Qe(e,null,[{key:"validate",value:function(i,n,r){Yy=!1,DM=n;var a=n;return r!==void 0&&(a=n[r]),e.parse(i,a,[]),Yy}},{key:"parse",value:function(i,n,r){for(var a in i)i.hasOwnProperty(a)&&e.check(a,i,n,r)}},{key:"check",value:function(i,n,r,a){if(r[i]===void 0&&r.__any__===void 0)return void e.getSuggestion(i,r,a);var s=i,o=!0;r[i]===void 0&&r.__any__!==void 0&&(s="__any__",o=e.getType(n[i])==="object");var c=r[s];o&&c.__type__!==void 0&&(c=c.__type__),e.checkFields(i,n,r,s,c,a)}},{key:"checkFields",value:function(i,n,r,a,s,o){var c=function(m){console.log("%c"+m+e.printLocation(o,i),V0)},d=e.getType(n[i]),p=s[d];p===void 0?s.any===void 0&&(c('Invalid type received for "'+i+'". Expected: '+e.print(Object.keys(s))+". Received ["+d+'] "'+n[i]+'"'),Yy=!0):e.getType(p)==="array"&&p.indexOf(n[i])===-1?(c('Invalid option detected in "'+i+'". Allowed values are:'+e.print(p)+' not "'+n[i]+'". '),Yy=!0):d==="object"&&a!=="__any__"&&(o=Ee.copyAndExtendArray(o,i),e.parse(n[i],r[a],o))}},{key:"getType",value:function(i){var n=za(i);return n==="object"?i===null?"null":i instanceof Boolean?"boolean":i instanceof Number?"number":i instanceof String?"string":Array.isArray(i)?"array":i instanceof Date?"date":i.nodeType===void 0?i._isAMomentObject===!0?"moment":"object":"dom":n==="number"?"number":n==="boolean"?"boolean":n==="string"?"string":n===void 0?"undefined":n}},{key:"getSuggestion",value:function(i,n,r){var a=e.findInOptions(i,n,r,!1),s=e.findInOptions(i,DM,[],!0),o;o=a.indexMatch===void 0?s.distance<=4&&a.distance>s.distance?" in "+e.printLocation(a.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):a.distance<=8?'. Did you mean "'+a.closestMatch+'"?'+e.printLocation(a.path,i):". Did you mean one of these: "+e.print(Object.keys(n))+e.printLocation(r,i):" in "+e.printLocation(a.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+`"?

`,console.log('%cUnknown option detected: "'+i+'"'+o,V0),Yy=!0}},{key:"findInOptions",value:function(i,n,r){var a=3<arguments.length&&arguments[3]!==void 0&&arguments[3],s=1e9,o="",c=[],d=i.toLowerCase(),p=void 0;for(var m in n){var y=void 0;if(n[m].__type__!==void 0&&a===!0){var _=e.findInOptions(i,n[m],Ee.copyAndExtendArray(r,m));s>_.distance&&(o=_.closestMatch,c=_.path,s=_.distance,p=_.indexMatch)}else m.toLowerCase().indexOf(d)!==-1&&(p=m),y=e.levenshteinDistance(i,m),s>y&&(o=m,c=Ee.copyArray(r),s=y)}return{closestMatch:o,path:c,distance:s,indexMatch:p}}},{key:"printLocation",value:function(i,n){for(var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,a=`

`+r+`options = {
`,s=0;s<i.length;s++){for(var o=0;o<s+1;o++)a+="  ";a+=i[s]+`: {
`}for(var c=0;c<i.length+1;c++)a+="  ";a+=n+`
`;for(var d=0;d<i.length+1;d++){for(var p=0;p<i.length-d;p++)a+="  ";a+=`}
`}return a+`

`}},{key:"print",value:function(i){return JSON.stringify(i).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(i,n){if(i.length===0)return n.length;if(n.length===0)return i.length;var r=[],a;for(a=0;a<=n.length;a++)r[a]=[a];var s;for(s=0;s<=i.length;s++)r[0][s]=s;for(a=1;a<=n.length;a++)for(s=1;s<=i.length;s++)r[a][s]=n.charAt(a-1)==i.charAt(s-1)?r[a-1][s-1]:t(r[a-1][s-1]+1,t(r[a][s-1]+1,r[a-1][s]+1));return r[n.length][i.length]}}]),e}(),hs=function(){function t(e,i,n,r,a,s){Ze(this,t),this.options=Ee.bridgeObject(a),this.globalOptions=a,this.defaultOptions=s,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new EL(this.body,this.options,!1),this.setOptions(e)}return Qe(t,[{key:"attachEdge",value:function(e){this.edges.indexOf(e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var i=this.edges.indexOf(e);i!=-1&&this.edges.splice(i,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");t.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=Zl.choosify("node",n),this._load_images(),this.updateLabelModule(e),this.updateShape(i),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=this.options.image.selected===void 0?void 0:this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?this.chooser===!0?this.selected?(e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new XK(this.options,this.body,this.labelModule);break;case"circle":this.shape=new KK(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new ZK(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new QK(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new JK(this.options,this.body,this.labelModule);break;case"dot":this.shape=new eZ(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new CM(this.options,this.body,this.labelModule);break;case"icon":this.shape=new tZ(this.options,this.body,this.labelModule);break;case"image":this.shape=new iZ(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new nZ(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new rZ(this.options,this.body,this.labelModule);break;case"star":this.shape=new aZ(this.options,this.body,this.labelModule);break;case"text":this.shape=new sZ(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new oZ(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new lZ(this.options,this.body,this.labelModule);break;default:this.shape=new CM(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,i,n){if(this.options.value!==void 0){var r=this.options.scaling.customScalingFunction(e,i,n,this.options.value),a=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*s}this.options.size=this.options.scaling.min+r*a}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var i=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,i)}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var i=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,i)}},{key:"getItemsOnPoint",value:function(e){var i=[];return this.labelModule.visible()&&Zl.pointInRect(this.labelModule.getSize(),e)&&i.push({nodeId:this.id,labelId:0}),Zl.pointInRect(this.shape.boundingBox,e)&&i.push({nodeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"updateGroupOptions",value:function(e,i,n){if(n!==void 0){var r=e.group;if(i!==void 0&&i.group!==void 0&&r!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");if(typeof r=="number"||typeof r=="string"&&r!=""){var a=n.get(r),s=["font"];i!==void 0&&i.color!==void 0&&i.color!=null&&s.push("color"),Ee.selectiveNotDeepExtend(s,e,a),e.color=Ee.parseColor(e.color)}}}},{key:"parseOptions",value:function(e,i){var n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;if(Ee.selectiveNotDeepExtend(["color","fixed","shadow"],e,i,n),t.checkMass(i),Ee.mergeOptions(e,i,"shadow",r),i.color!==void 0&&i.color!==null){var s=Ee.parseColor(i.color);Ee.fillIfDefined(e.color,s)}else n===!0&&i.color===null&&(e.color=Ee.bridgeObject(r.color));i.fixed!==void 0&&i.fixed!==null&&(typeof i.fixed=="boolean"?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(i.fixed.x!==void 0&&typeof i.fixed.x=="boolean"&&(e.fixed.x=i.fixed.x),i.fixed.y!==void 0&&typeof i.fixed.y=="boolean"&&(e.fixed.y=i.fixed.y))),n===!0&&i.font===null&&(e.font=Ee.bridgeObject(r.font)),t.updateGroupOptions(e,i,a),i.scaling!==void 0&&Ee.mergeOptions(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,i){if(e.mass!==void 0&&0>=e.mass){var n="";i!==void 0&&(n=" in node id: "+i),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",V0),e.mass=1}}}]),t}(),uZ=function(){var t=Math.round,e=Math.max;function i(n,r,a,s){var o=this;if(Ze(this,i),this.body=n,this.images=r,this.groups=a,this.layoutEngine=s,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(c,d){o.add(d.items)},update:function(c,d){o.update(d.items,d.data,d.oldData)},remove:function(c,d){o.remove(d.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(c,d,p,m){return d===c?.5:e(0,(m-c)*(1/(d-c)))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},0>=this.defaultOptions.mass)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Ee.bridgeObject(this.defaultOptions),this.bindEventListeners()}return Qe(i,[{key:"bindEventListeners",value:function(){var n=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){Ee.forEach(n.nodesListeners,function(r,a){n.body.data.nodes&&n.body.data.nodes.off(a,r)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(n){if(n!==void 0){if(hs.parseOptions(this.options,n),n.shape!==void 0)for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.body.nodes[r].updateShape();if(n.font!==void 0)for(var a in this.body.nodes)this.body.nodes.hasOwnProperty(a)&&(this.body.nodes[a].updateLabelModule(),this.body.nodes[a].needsRefresh());if(n.size!==void 0)for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.body.nodes[s].needsRefresh();(n.hidden!==void 0||n.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(n){var r=1<arguments.length&&arguments[1]!==void 0&&arguments[1],a=this.body.data.nodes;if(n instanceof pd||n instanceof zU)this.body.data.nodes=n;else if(Array.isArray(n))this.body.data.nodes=new pd,this.body.data.nodes.add(n);else if(!n)this.body.data.nodes=new pd;else throw new TypeError("Array or DataSet expected");if(a&&Ee.forEach(this.nodesListeners,function(c,d){a.off(d,c)}),this.body.nodes={},this.body.data.nodes){var s=this;Ee.forEach(this.nodesListeners,function(c,d){s.body.data.nodes.on(d,c)});var o=this.body.data.nodes.getIds();this.add(o,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(n){for(var r=1<arguments.length&&arguments[1]!==void 0&&arguments[1],a=[],s=0,o;s<n.length;s++){o=n[s];var c=this.body.data.nodes.get(o),d=this.create(c);a.push(d),this.body.nodes[o]=d}this.layoutEngine.positionInitially(a),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(n,r,a){for(var s=this.body.nodes,o=!1,c=0;c<n.length;c++){var d=n[c],p=s[d],m=r[c];p===void 0?(o=!0,p=this.create(m),s[d]=p):p.setOptions(m)&&(o=!0)}o||a===void 0||(o=r.some(function(y,_){var w=a[_];return w&&w.level!==y.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(n){for(var r=this.body.nodes,a=0,s;a<n.length;a++)s=n[a],delete r[s];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:hs;return new r(n,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var n=this,r=0<arguments.length&&arguments[0]!==void 0&&arguments[0];Ee.forEach(this.body.nodes,function(a,s){var o=n.body.data.nodes.get(s);o!==void 0&&(r===!0&&a.setOptions({x:null,y:null}),a.setOptions({fixed:!1}),a.setOptions(o))})}},{key:"getPositions",value:function(n){var r={};if(n===void 0)for(var a=0,s;a<this.body.nodeIndices.length;a++)s=this.body.nodes[this.body.nodeIndices[a]],r[this.body.nodeIndices[a]]={x:t(s.x),y:t(s.y)};else if(Array.isArray(n)===!0){for(var o=0;o<n.length;o++)if(this.body.nodes[n[o]]!==void 0){var c=this.body.nodes[n[o]];r[n[o]]={x:t(c.x),y:t(c.y)}}}else if(this.body.nodes[n]!==void 0){var d=this.body.nodes[n];r[n]={x:t(d.x),y:t(d.y)}}return r}},{key:"storePositions",value:function(){var n=[],r=this.body.data.nodes.getDataSet();for(var a in r._data)if(r._data.hasOwnProperty(a)){var s=this.body.nodes[a];(r._data[a].x!=t(s.x)||r._data[a].y!=t(s.y))&&n.push({id:s.id,x:t(s.x),y:t(s.y)})}r.update(n)}},{key:"getBoundingBox",value:function(n){if(this.body.nodes[n]!==void 0)return this.body.nodes[n].shape.boundingBox}},{key:"getConnectedNodes",value:function(n,r){var a=[];if(this.body.nodes[n]!==void 0)for(var s=this.body.nodes[n],o={},c=0,d;c<s.edges.length;c++)d=s.edges[c],r!=="to"&&d.toId==s.id?o[d.fromId]===void 0&&(a.push(d.fromId),o[d.fromId]=!0):r!=="from"&&d.fromId==s.id&&o[d.toId]===void 0&&(a.push(d.toId),o[d.toId]=!0);return a}},{key:"getConnectedEdges",value:function(n){var r=[];if(this.body.nodes[n]!==void 0)for(var a=this.body.nodes[n],s=0;s<a.edges.length;s++)r.push(a.edges[s].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",n);return r}},{key:"moveNode",value:function(n,r,a){var s=this;this.body.nodes[n]===void 0?console.log("Node id supplied to moveNode does not exist. Provided: ",n):(this.body.nodes[n].x=+r,this.body.nodes[n].y=+a,setTimeout(function(){s.body.emitter.emit("startSimulation")},0))}}]),i}(),lr=function(){var t=Math.cos,e=Math.sin;function i(){Ze(this,i)}return Qe(i,null,[{key:"transform",value:function(n,r){n instanceof Array||(n=[n]);for(var a=r.point.x,s=r.point.y,o=r.angle,c=r.length,d=0;d<n.length;++d){var p=n[d],m=p.x*t(o)-p.y*e(o),y=p.x*e(o)+p.y*t(o);p.x=a+c*m,p.y=s+c*y}}},{key:"drawPath",value:function(n,r){n.beginPath(),n.moveTo(r[0].x,r[0].y);for(var a=1;a<r.length;++a)n.lineTo(r[a].x,r[a].y);n.closePath()}}]),i}(),dZ=function(t){function e(){return Ze(this,e),Li(this,Bi(e).apply(this,arguments))}return $i(e,t),Qe(e,null,[{key:"draw",value:function(i,n){var r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];lr.transform(r,n),lr.drawPath(i,r)}}]),e}(lr),hZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),fZ=function(){var t=Math.PI;function e(){Ze(this,e)}return Qe(e,null,[{key:"draw",value:function(i,n){var r={x:-.4,y:0};lr.transform(r,n),i.strokeStyle=i.fillStyle,i.fillStyle="rgba(0, 0, 0, 0)";var a=t,s=n.angle-a/2,o=n.angle+a/2;i.beginPath(),i.arc(r.x,r.y,.4*n.length,s,o,!1),i.stroke()}}]),e}(),pZ=function(){var t=Math.PI;function e(){Ze(this,e)}return Qe(e,null,[{key:"draw",value:function(i,n){var r={x:-.3,y:0};lr.transform(r,n),i.strokeStyle=i.fillStyle,i.fillStyle="rgba(0, 0, 0, 0)";var a=t,s=n.angle+a/2,o=n.angle+3*a/2;i.beginPath(),i.arc(r.x,r.y,.4*n.length,s,o,!1),i.stroke()}}]),e}(),mZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),yZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),gZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n={x:-.4,y:0};lr.transform(n,i),e.circle(n.x,n.y,.4*i.length)}}]),t}(),vZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),bZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),_Z=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),wZ=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];lr.transform(n,i),lr.drawPath(e,n)}}]),t}(),TL=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"draw",value:function(e,i){var n;switch(i.type&&(n=i.type.toLowerCase()),n){case"circle":gZ.draw(e,i);break;case"box":bZ.draw(e,i);break;case"crow":hZ.draw(e,i);break;case"curve":fZ.draw(e,i);break;case"diamond":_Z.draw(e,i);break;case"inv_curve":pZ.draw(e,i);break;case"triangle":mZ.draw(e,i);break;case"inv_triangle":yZ.draw(e,i);break;case"bar":vZ.draw(e,i);break;case"vee":wZ.draw(e,i);break;case"arrow":default:dZ.draw(e,i)}}}]),t}(),CL=function(){var t=Math.atan2,e=Math.cos,i=Math.sin,n=Math.sqrt,r=Math.PI,a=Math.pow,s=Math.max,o=Math.abs,c=Math.min;function d(p,m,y){Ze(this,d),this.body=m,this.labelModule=y,this.options={},this.setOptions(p),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return Qe(d,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(p){this.options=p,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(p,m,y,_,w){p.strokeStyle=this.getColor(p,m,y,_),p.lineWidth=m.width,m.dashes===!1?this._drawLine(p,m,w):this._drawDashedLine(p,m,w)}},{key:"_drawLine",value:function(p,m,y,_,w){if(this.from!=this.to)this._line(p,m,y,_,w);else{var C=this._getCircleData(p),k=wr(C,3),S=k[0],x=k[1],O=k[2];this._circle(p,m,S,x,O)}}},{key:"_drawDashedLine",value:function(p,m,y){p.lineCap="round";var _=[5,5];if(Array.isArray(m.dashes)===!0&&(_=m.dashes),p.setLineDash!==void 0){if(p.save(),p.setLineDash(_),p.lineDashOffset=0,this.from!=this.to)this._line(p,m,y);else{var w=this._getCircleData(p),C=wr(w,3),k=C[0],S=C[1],x=C[2];this._circle(p,m,k,S,x)}p.setLineDash([0]),p.lineDashOffset=0,p.restore()}else{if(this.from!=this.to)p.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,_);else{var O=this._getCircleData(p),D=wr(O,3),B=D[0],P=D[1],R=D[2];this._circle(p,m,B,P,R)}this.enableShadow(p,m),p.stroke(),this.disableShadow(p,m)}}},{key:"findBorderPosition",value:function(p,m,y){return this.from==this.to?this._findBorderPositionCircle(p,m,y):this._findBorderPosition(p,m,y)}},{key:"findBorderPositions",value:function(p){var m={},y={};if(this.from!=this.to)m=this._findBorderPosition(this.from,p),y=this._findBorderPosition(this.to,p);else{var _=this._getCircleData(p).slice(0,2),w=wr(_,2),C=w[0],k=w[1];m=this._findBorderPositionCircle(this.from,p,{x:C,y:k,low:.25,high:.6,direction:-1}),y=this._findBorderPositionCircle(this.from,p,{x:C,y:k,low:.6,high:.8,direction:1})}return{from:m,to:y}}},{key:"_getCircleData",value:function(p){var m=this.from,y=this.options.selfReferenceSize,_,w;return p!==void 0&&m.shape.width===void 0&&m.shape.resize(p),m.shape.width>m.shape.height?(_=m.x+.5*m.shape.width,w=m.y-y):(_=m.x+y,w=m.y-.5*m.shape.height),[_,w,y]}},{key:"_pointOnCircle",value:function(p,m,y,_){var w=2*_*r;return{x:p+y*e(w),y:m-y*i(w)}}},{key:"_findBorderPositionCircle",value:function(p,m,y){for(var _=y.x,w=y.y,C=y.low,k=y.high,S=y.direction,x=0,O=this.options.selfReferenceSize,D=.5*(C+k),B,P,R,I,F;C<=k&&x<10&&(D=.5*(C+k),B=this._pointOnCircle(_,w,O,D),P=t(p.y-B.y,p.x-B.x),R=p.distanceToBorder(m,P),I=n(a(B.x-p.x,2)+a(B.y-p.y,2)),F=R-I,!(o(F)<.05));)0<F?0<S?C=D:k=D:0<S?k=D:C=D,x++;return B.t=D,B}},{key:"getLineWidth",value:function(p,m){return p===!0?s(this.selectionWidth,.3/this.body.view.scale):m===!0?s(this.hoverWidth,.3/this.body.view.scale):s(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(p,m){if(m.inheritsColor!==!1){if(m.inheritsColor==="both"&&this.from.id!==this.to.id){var y=p.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),_,w;return _=this.from.options.color.highlight.border,w=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(_=Ee.overrideOpacity(this.from.options.color.border,m.opacity),w=Ee.overrideOpacity(this.to.options.color.border,m.opacity)):this.from.selected===!0&&this.to.selected===!1?w=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(_=this.from.options.color.border),y.addColorStop(0,_),y.addColorStop(1,w),y}return m.inheritsColor==="to"?Ee.overrideOpacity(this.to.options.color.border,m.opacity):Ee.overrideOpacity(this.from.options.color.border,m.opacity)}return Ee.overrideOpacity(m.color,m.opacity)}},{key:"_circle",value:function(p,m,y,_,w){this.enableShadow(p,m),p.beginPath(),p.arc(y,_,w,0,2*r,!1),p.stroke(),this.disableShadow(p,m)}},{key:"getDistanceToEdge",value:function(p,m,y,_,w,C,k){var S=0;if(this.from!=this.to)S=this._getDistanceToEdge(p,m,y,_,w,C,k);else{var x=this._getCircleData(void 0),O=wr(x,3),D=O[0],B=O[1],P=O[2],R=D-w,I=B-C;S=o(n(R*R+I*I)-P)}return S}},{key:"_getDistanceToLine",value:function(p,m,y,_,w,C){var k=y-p,S=_-m,x=((w-p)*k+(C-m)*S)/(k*k+S*S);1<x?x=1:0>x&&(x=0);var O=p+x*k,D=m+x*S,B=O-w,P=D-C;return n(B*B+P*P)}},{key:"getArrowData",value:function(p,m,y,_,w,C){var k=C.width,S,x,O,D,B,P,R;if(m==="from"?(O=this.from,D=this.to,B=.1,P=C.fromArrowScale,R=C.fromArrowType):m==="to"?(O=this.to,D=this.from,B=-.1,P=C.toArrowScale,R=C.toArrowType):(O=this.to,D=this.from,P=C.middleArrowScale,R=C.middleArrowType),O==D){var I=this._getCircleData(p),F=wr(I,3),$=F[0],L=F[1],W=F[2];m==="from"?(x=this.findBorderPosition(this.from,p,{x:$,y:L,low:.25,high:.6,direction:-1}),S=-2*x.t*r+1.5*r+.1*r):m==="to"?(x=this.findBorderPosition(this.from,p,{x:$,y:L,low:.6,high:1,direction:1}),S=-2*x.t*r+1.5*r-1.1*r):(x=this._pointOnCircle($,L,W,.175),S=3.9269908169872414)}else if(m==="middle")S=t(O.y-D.y,O.x-D.x),x=this.getPoint(.5,y);else if(this.options.smooth.enabled===!0){x=this.findBorderPosition(O,p,{via:y});var j=this.getPoint(s(0,c(1,x.t+B)),y);S=t(x.y-j.y,x.x-j.x)}else S=t(O.y-D.y,O.x-D.x),x=this.findBorderPosition(O,p);m==="middle"&&0>P&&(k*=-1);var z=15*P+3*k,re=x.x-.9*z*e(S),ce=x.y-.9*z*i(S);return{point:x,core:{x:re,y:ce},angle:S,length:z,type:R}}},{key:"drawArrowHead",value:function(p,m,y,_,w){p.strokeStyle=this.getColor(p,m,y,_),p.fillStyle=p.strokeStyle,p.lineWidth=m.width,TL.draw(p,w),this.enableShadow(p,m),p.fill(),this.disableShadow(p,m)}},{key:"enableShadow",value:function(p,m){m.shadow===!0&&(p.shadowColor=m.shadowColor,p.shadowBlur=m.shadowSize,p.shadowOffsetX=m.shadowX,p.shadowOffsetY=m.shadowY)}},{key:"disableShadow",value:function(p,m){m.shadow===!0&&(p.shadowColor="rgba(0,0,0,0)",p.shadowBlur=0,p.shadowOffsetX=0,p.shadowOffsetY=0)}},{key:"drawBackground",value:function(p,m){if(m.background!==!1){var y=["strokeStyle","lineWidth","dashes"],_={};y.forEach(function(w){_[w]=p[w]}),p.strokeStyle=m.backgroundColor,p.lineWidth=m.backgroundSize,this.setStrokeDashed(p,m.backgroundDashes),p.stroke(),y.forEach(function(w){p[w]=_[w]}),this.setStrokeDashed(p,m.dashes)}}},{key:"setStrokeDashed",value:function(p,m){if(m===!1)p.setLineDash===void 0?console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used."):p.setLineDash([]);else if(p.setLineDash!==void 0){var y=[5,5];Array.isArray(m)===!0&&(y=m),p.setLineDash(y)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),d}(),eA=function(t){var e=Math.atan2,i=Math.sqrt,n=Math.pow,r=Math.abs;function a(s,o,c){return Ze(this,a),Li(this,Bi(a).call(this,s,o,c))}return $i(a,t),Qe(a,[{key:"_findBorderPositionBezier",value:function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),d=0,p=0,m=1,y=this.to,_=!1,w,C,k,S,x;for(s.id===this.from.id&&(y=this.from,_=!0);p<=m&&d<10;){var O=.5*(p+m);if(w=this.getPoint(O,c),C=e(y.y-w.y,y.x-w.x),k=y.distanceToBorder(o,C),S=i(n(w.x-y.x,2)+n(w.y-y.y,2)),x=k-S,r(x)<.2)break;0>x?_===!1?p=O:m=O:_===!1?m=O:p=O,d++}return w.t=O,w}},{key:"_getDistanceToBezierEdge",value:function(s,o,c,d,p,m,y){var _=1e9,w=s,C=o,k,S,x,O,D;for(S=1;10>S;S++)x=.1*S,O=n(1-x,2)*s+2*x*(1-x)*y.x+n(x,2)*c,D=n(1-x,2)*o+2*x*(1-x)*y.y+n(x,2)*d,0<S&&(k=this._getDistanceToLine(w,C,O,D,p,m),_=k<_?k:_),w=O,C=D;return _}},{key:"_bezierCurve",value:function(s,o,c,d){var p=c!==void 0&&c.x!==void 0,m=d!==void 0&&d.x!==void 0;s.beginPath(),s.moveTo(this.fromPoint.x,this.fromPoint.y),p&&m?s.bezierCurveTo(c.x,c.y,d.x,d.y,this.toPoint.x,this.toPoint.y):p?s.quadraticCurveTo(c.x,c.y,this.toPoint.x,this.toPoint.y):s.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(s,o),this.enableShadow(s,o),s.stroke(),this.disableShadow(s,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),a}(CL),EZ=function(t){var e=Math.pow;function i(n,r,a){return Ze(this,i),Li(this,Bi(i).call(this,n,r,a))}return $i(i,t),Qe(i,[{key:"_getDistanceToBezierEdge",value:function(n,r,a,s,o,c,d,p){var m=1e9,y=n,_=r,w=[0,0,0,0],C,k,S,x,O;for(k=1;10>k;k++)S=.1*k,w[0]=e(1-S,3),w[1]=3*S*e(1-S,2),w[2]=3*e(S,2)*(1-S),w[3]=e(S,3),x=w[0]*n+w[1]*d.x+w[2]*p.x+w[3]*a,O=w[0]*r+w[1]*d.y+w[2]*p.y+w[3]*s,0<k&&(C=this._getDistanceToLine(y,_,x,O,o,c),m=C<m?C:m),y=x,_=O;return m}}]),i}(eA),kM=function(t){var e=Math.pow,i=Math.abs;function n(r,a,s){return Ze(this,n),Li(this,Bi(n).call(this,r,a,s))}return $i(n,t),Qe(n,[{key:"_line",value:function(r,a,s){var o=s[0],c=s[1];this._bezierCurve(r,a,o,c)}},{key:"_getViaCoordinates",value:function(){var r=this.from.x-this.to.x,a=this.from.y-this.to.y,s=this.options.smooth.roundness,o,c,d,p;return(i(r)>i(a)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(c=this.from.y,p=this.to.y,o=this.from.x-s*r,d=this.to.x+s*r):(c=this.from.y-s*a,p=this.to.y+s*a,o=this.from.x,d=this.to.x),[{x:o,y:c},{x:d,y:p}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(r,a){return this._findBorderPositionBezier(r,a)}},{key:"_getDistanceToEdge",value:function(r,a,s,o,c,d){var p=6<arguments.length&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),m=wr(p,2),y=m[0],_=m[1];return this._getDistanceToBezierEdge(r,a,s,o,c,d,y,_)}},{key:"getPoint",value:function(r){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=wr(a,2),o=s[0],c=s[1],d=r,p=[];p[0]=e(1-d,3),p[1]=3*d*e(1-d,2),p[2]=3*e(d,2)*(1-d),p[3]=e(d,3);var m=p[0]*this.fromPoint.x+p[1]*o.x+p[2]*c.x+p[3]*this.toPoint.x,y=p[0]*this.fromPoint.y+p[1]*o.y+p[2]*c.y+p[3]*this.toPoint.y;return{x:m,y}}}]),n}(EZ),SM=function(t){var e=Math.cos,i=Math.sin,n=Math.PI,r=Math.pow;function a(s,o,c){var d;return Ze(this,a),d=Li(this,Bi(a).call(this,s,o,c)),d._boundFunction=function(){d.positionBezierNode()},d.body.emitter.on("_repositionBezierNodes",d._boundFunction),d}return $i(a,t),Qe(a,[{key:"setOptions",value:function(s){var o=!1;this.options.physics!==s.physics&&(o=!0),this.options=s,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),o==!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var s="edgeId:"+this.id,o=this.body.functions.createNode({id:s,shape:"circle",physics:!0,hidden:!0});this.body.nodes[s]=o,this.via=o,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(s,o,c){this._bezierCurve(s,o,c)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(s){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.via,c=s,d,p;if(this.from===this.to){var m=this._getCircleData(this.from),y=wr(m,3),_=y[0],w=y[1],C=y[2],k=2*n*(1-c);d=_+C*i(k),p=w+C-C*(1-e(k))}else d=r(1-c,2)*this.fromPoint.x+2*c*(1-c)*o.x+r(c,2)*this.toPoint.x,p=r(1-c,2)*this.fromPoint.y+2*c*(1-c)*o.y+r(c,2)*this.toPoint.y;return{x:d,y:p}}},{key:"_findBorderPosition",value:function(s,o){return this._findBorderPositionBezier(s,o,this.via)}},{key:"_getDistanceToEdge",value:function(s,o,c,d,p,m){return this._getDistanceToBezierEdge(s,o,c,d,p,m,this.via)}}]),a}(eA),AM=function(t){var e=Math.atan2,i=Math.cos,n=Math.sin,r=Math.sqrt,a=Math.PI,s=Math.pow,o=Math.abs;function c(d,p,m){return Ze(this,c),Li(this,Bi(c).call(this,d,p,m))}return $i(c,t),Qe(c,[{key:"_line",value:function(d,p,m){this._bezierCurve(d,p,m)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var d=void 0,p=void 0,m=this.options.smooth.roundness,y=this.options.smooth.type,_=o(this.from.x-this.to.x),w=o(this.from.y-this.to.y);if(y==="discrete"||y==="diagonalCross"){var C,k;C=_<=w?k=m*w:k=m*_,this.from.x>this.to.x&&(C=-C),this.from.y>=this.to.y&&(k=-k),d=this.from.x+C,p=this.from.y+k,y==="discrete"&&(_<=w?d=_<m*w?this.from.x:d:p=w<m*_?this.from.y:p)}else if(y==="straightCross"){var S=(1-m)*_,x=(1-m)*w;_<=w?(S=0,this.from.y<this.to.y&&(x=-x)):(this.from.x<this.to.x&&(S=-S),x=0),d=this.to.x+S,p=this.to.y+x}else if(y==="horizontal"){var O=(1-m)*_;this.from.x<this.to.x&&(O=-O),d=this.to.x+O,p=this.from.y}else if(y==="vertical"){var D=(1-m)*w;this.from.y<this.to.y&&(D=-D),d=this.from.x,p=this.to.y+D}else if(y==="curvedCW"){_=this.to.x-this.from.x,w=this.from.y-this.to.y;var B=r(_*_+w*w),P=a,R=e(w,_),I=(R+(.5*m+.5)*P)%(2*P);d=this.from.x+(.5*m+.5)*B*n(I),p=this.from.y+(.5*m+.5)*B*i(I)}else if(y==="curvedCCW"){_=this.to.x-this.from.x,w=this.from.y-this.to.y;var F=r(_*_+w*w),$=a,L=e(w,_),W=(L+(.5*-m+.5)*$)%(2*$);d=this.from.x+(.5*m+.5)*F*n(W),p=this.from.y+(.5*m+.5)*F*i(W)}else{var j,z;j=_<=w?z=m*w:z=m*_,this.from.x>this.to.x&&(j=-j),this.from.y>=this.to.y&&(z=-z),d=this.from.x+j,p=this.from.y+z,_<=w?this.from.x<=this.to.x?d=this.to.x<d?this.to.x:d:d=this.to.x>d?this.to.x:d:this.from.y>=this.to.y?p=this.to.y>p?this.to.y:p:p=this.to.y<p?this.to.y:p}return{x:d,y:p}}},{key:"_findBorderPosition",value:function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(d,p,m.via)}},{key:"_getDistanceToEdge",value:function(d,p,m,y,_,w){var C=6<arguments.length&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(d,p,m,y,_,w,C)}},{key:"getPoint",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),m=d,y=s(1-m,2)*this.fromPoint.x+2*m*(1-m)*p.x+s(m,2)*this.toPoint.x,_=s(1-m,2)*this.fromPoint.y+2*m*(1-m)*p.y+s(m,2)*this.toPoint.y;return{x:y,y:_}}}]),c}(eA),xM=function(t){var e=Math.atan2,i=Math.sqrt;function n(r,a,s){return Ze(this,n),Li(this,Bi(n).call(this,r,a,s))}return $i(n,t),Qe(n,[{key:"_line",value:function(r,a){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),r.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(r,a),r.stroke(),this.disableShadow(r,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(r){return{x:(1-r)*this.fromPoint.x+r*this.toPoint.x,y:(1-r)*this.fromPoint.y+r*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,a){var s=this.to,o=this.from;r.id===this.from.id&&(s=this.from,o=this.to);var c=e(s.y-o.y,s.x-o.x),d=s.x-o.x,p=s.y-o.y,m=i(d*d+p*p),y=r.distanceToBorder(a,c),_=(m-y)/m,w={};return w.x=(1-_)*o.x+_*s.x,w.y=(1-_)*o.y+_*s.y,w}},{key:"_getDistanceToEdge",value:function(r,a,s,o,c,d){return this._getDistanceToLine(r,a,s,o,c,d)}}]),n}(CL),Zp=function(){var t=Math.atan2,e=Math.cos,i=Math.sin,n=Math.PI,r=Math.max,a=Math.min;function s(o,c,d,p){if(Ze(this,s),c===void 0)throw new Error("No body provided");this.options=Ee.bridgeObject(d),this.globalOptions=d,this.defaultOptions=p,this.body=c,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new EL(this.body,this.options,!0),this.setOptions(o)}return Qe(s,[{key:"setOptions",value:function(o){if(o){var c=this.options.hidden;c==null&&(c=!1),s.parseOptions(this.options,o,!0,this.globalOptions),o.id!==void 0&&(this.id=o.id),o.from!==void 0&&(this.fromId=o.from),o.to!==void 0&&(this.toId=o.to),o.title!==void 0&&(this.title=o.title),o.value!==void 0&&(o.value=parseFloat(o.value));var d=[o,this.options,this.defaultOptions];this.chooser=Zl.choosify("edge",d),this.updateLabelModule(o);var p=this.updateEdgeType();this._setInteractionWidths(),this.connect();var m=this.options.hidden;return m==null&&(m=!1),(m!=c||o.physics!==void 0)&&(p=!0),o.physics!==void 0&&(p=!0),p}}},{key:"getFormattingValues",value:function(){var o=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,c=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,d=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,p=this.options.color.inherit,m={toArrow:o,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:d,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:c,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:p?void 0:this.options.color.color,inheritsColor:p,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(!(this.selected||this.hover))m.shadow=this.options.shadow.enabled,m.width=r(m.width,.3/this.body.view.scale);else if(this.chooser!==!0)typeof this.chooser=="function"&&(this.chooser(m,this.options.id,this.selected,this.hover),m.color!==void 0&&(m.inheritsColor=!1),m.shadow===!1&&(m.shadowColor!==this.options.shadow.color||m.shadowSize!==this.options.shadow.size||m.shadowX!==this.options.shadow.x||m.shadowY!==this.options.shadow.y)&&(m.shadow=!0));else if(this.selected){var y=this.options.selectionWidth;typeof y=="function"?m.width=y(m.width):typeof y=="number"&&(m.width+=y),m.width=r(m.width,.3/this.body.view.scale),m.color=this.options.color.highlight,m.shadow=this.options.shadow.enabled}else if(this.hover){var _=this.options.hoverWidth;typeof _=="function"?m.width=_(m.width):typeof _=="number"&&(m.width+=_),m.width=r(m.width,.3/this.body.view.scale),m.color=this.options.color.hover,m.shadow=this.options.shadow.enabled}return m}},{key:"updateLabelModule",value:function(o){var c=[o,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,c),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var o=this.options.smooth,c=!1,d=!0;return this.edgeType!==void 0&&((this.edgeType instanceof SM&&o.enabled===!0&&o.type==="dynamic"||this.edgeType instanceof kM&&o.enabled===!0&&o.type==="cubicBezier"||this.edgeType instanceof AM&&o.enabled===!0&&o.type!=="dynamic"&&o.type!=="cubicBezier"||this.edgeType instanceof xM&&o.type.enabled===!1)&&(d=!1),d===!0&&(c=this.cleanup())),d===!0?o.enabled===!0?o.type==="dynamic"?(c=!0,this.edgeType=new SM(this.options,this.body,this.labelModule)):o.type==="cubicBezier"?this.edgeType=new kM(this.options,this.body,this.labelModule):this.edgeType=new AM(this.options,this.body,this.labelModule):this.edgeType=new xM(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),c}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(o,c,d){if(this.options.value!==void 0){var p=this.options.scaling.customScalingFunction(o,c,d,this.options.value),m=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var y=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+p*y}this.options.width=this.options.scaling.min+p*m}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth=typeof this.options.hoverWidth=="function"?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth=typeof this.options.selectionWidth=="function"?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(o){var c=this.getFormattingValues();if(!c.hidden){var d=this.edgeType.getViaNode(),p={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,c.fromArrow&&(p.from=this.edgeType.getArrowData(o,"from",d,this.selected,this.hover,c),c.arrowStrikethrough===!1&&(this.edgeType.fromPoint=p.from.core)),c.toArrow&&(p.to=this.edgeType.getArrowData(o,"to",d,this.selected,this.hover,c),c.arrowStrikethrough===!1&&(this.edgeType.toPoint=p.to.core)),c.middleArrow&&(p.middle=this.edgeType.getArrowData(o,"middle",d,this.selected,this.hover,c)),this.edgeType.drawLine(o,c,this.selected,this.hover,d),this.drawArrows(o,p,c),this.drawLabel(o,d)}}},{key:"drawArrows",value:function(o,c,d){d.fromArrow&&this.edgeType.drawArrowHead(o,d,this.selected,this.hover,c.from),d.middleArrow&&this.edgeType.drawArrowHead(o,d,this.selected,this.hover,c.middle),d.toArrow&&this.edgeType.drawArrowHead(o,d,this.selected,this.hover,c.to)}},{key:"drawLabel",value:function(o,c){if(this.options.label!==void 0){var d=this.from,p=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(o,this.selected,this.hover),d.id!=p.id){this.labelModule.pointToSelf=!1;var m=this.edgeType.getPoint(.5,c);o.save();var y=this._getRotation(o);y.angle!=0&&(o.translate(y.x,y.y),o.rotate(y.angle)),this.labelModule.draw(o,m.x,m.y,this.selected,this.hover),o.restore()}else{this.labelModule.pointToSelf=!0;var _=this.options.selfReferenceSize,w,C;d.shape.width>d.shape.height?(w=d.x+.5*d.shape.width,C=d.y-_):(w=d.x+_,C=d.y-.5*d.shape.height),m=this._pointOnCircle(w,C,_,.125),this.labelModule.draw(o,m.x,m.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(o){var c=[];if(this.labelModule.visible()){var d=this._getRotation();Zl.pointInRect(this.labelModule.getSize(),o,d)&&c.push({edgeId:this.id,labelId:0})}var p={left:o.x,top:o.y};return this.isOverlappingWith(p)&&c.push({edgeId:this.id}),c}},{key:"isOverlappingWith",value:function(o){if(this.connected){var c=this.from.x,d=this.from.y,p=this.to.x,m=this.to.y,y=o.left,_=o.top,w=this.edgeType.getDistanceToEdge(c,d,p,m,y,_);return 10>w}return!1}},{key:"_getRotation",value:function(o){var c=this.edgeType.getViaNode(),d=this.edgeType.getPoint(.5,c);o!==void 0&&this.labelModule.calculateLabelSize(o,this.selected,this.hover,d.x,d.y);var p={x:d.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return p;var m=this.from.y-this.to.y,y=this.from.x-this.to.x,_=t(m,y);return(-1>_&&0>y||0<_&&0>y)&&(_+=n),p.angle=_,p}},{key:"_pointOnCircle",value:function(o,c,d,p){var m=2*p*n;return{x:o+d*e(m),y:c-d*i(m)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(o,c){var d=2<arguments.length&&arguments[2]!==void 0&&arguments[2],p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},m=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(Ee.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],o,c,d),Zl.isValidLabel(c.label)?o.label=c.label:!Zl.isValidLabel(o.label)&&(o.label=void 0),Ee.mergeOptions(o,c,"smooth",p),Ee.mergeOptions(o,c,"shadow",p),Ee.mergeOptions(o,c,"background",p),c.dashes!==void 0&&c.dashes!==null?o.dashes=c.dashes:d===!0&&c.dashes===null&&(o.dashes=Object.create(p.dashes)),c.scaling!==void 0&&c.scaling!==null?(c.scaling.min!==void 0&&(o.scaling.min=c.scaling.min),c.scaling.max!==void 0&&(o.scaling.max=c.scaling.max),Ee.mergeOptions(o.scaling,c.scaling,"label",p.scaling)):d===!0&&c.scaling===null&&(o.scaling=Object.create(p.scaling)),c.arrows===void 0||c.arrows===null)d===!0&&c.arrows===null&&(o.arrows=Object.create(p.arrows));else if(typeof c.arrows=="string"){var y=c.arrows.toLowerCase();o.arrows.to.enabled=y.indexOf("to")!=-1,o.arrows.middle.enabled=y.indexOf("middle")!=-1,o.arrows.from.enabled=y.indexOf("from")!=-1}else if(za(c.arrows)==="object")Ee.mergeOptions(o.arrows,c.arrows,"to",p.arrows),Ee.mergeOptions(o.arrows,c.arrows,"middle",p.arrows),Ee.mergeOptions(o.arrows,c.arrows,"from",p.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(c.arrows));if(c.color!==void 0&&c.color!==null){var _=c.color,w=o.color;if(m)Ee.deepExtend(w,p.color,!1,d);else for(var C in w)w.hasOwnProperty(C)&&delete w[C];if(Ee.isString(w))w.color=w,w.highlight=w,w.hover=w,w.inherit=!1,_.opacity===void 0&&(w.opacity=1);else{var k=!1;_.color!==void 0&&(w.color=_.color,k=!0),_.highlight!==void 0&&(w.highlight=_.highlight,k=!0),_.hover!==void 0&&(w.hover=_.hover,k=!0),_.inherit!==void 0&&(w.inherit=_.inherit),_.opacity!==void 0&&(w.opacity=a(1,r(0,_.opacity))),k==!0?w.inherit=!1:w.inherit===void 0&&(w.inherit="from")}}else d===!0&&c.color===null&&(o.color=Ee.bridgeObject(p.color));d===!0&&c.font===null&&(o.font=Ee.bridgeObject(p.font))}}]),s}(),TZ=function(){var t=Math.max;function e(i,n,r){var a=this;Ze(this,e),this.body=i,this.images=n,this.groups=r,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(s,o){a.add(o.items)},update:function(s,o){a.update(o.items)},remove:function(s,o){a.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,c,d){return o===s?.5:t(0,(d-s)*(1/(o-s)))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ee.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return Qe(e,[{key:"bindEventListeners",value:function(){var i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(n){var r=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];n==="dynamic"&&(n="continuous");var a=!1;for(var s in i.body.edges)if(i.body.edges.hasOwnProperty(s)){var o=i.body.edges[s],c=i.body.data.edges._data[s];if(c!==void 0){var d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:n}}),a=!0)}}r===!0&&a==!0&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){i.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){Ee.forEach(i.edgesListeners,function(n,r){i.body.data.edges&&i.body.data.edges.off(r,n)}),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners})}},{key:"setOptions",value:function(i){if(i!==void 0){Zp.parseOptions(this.options,i,!0,this.defaultOptions,!0);var n=!1;if(i.smooth!==void 0)for(var r in this.body.edges)this.body.edges.hasOwnProperty(r)&&(n=this.body.edges[r].updateEdgeType()||n);if(i.font!==void 0)for(var a in this.body.edges)this.body.edges.hasOwnProperty(a)&&this.body.edges[a].updateLabelModule();(i.hidden!==void 0||i.physics!==void 0||n===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(i){var n=this,r=1<arguments.length&&arguments[1]!==void 0&&arguments[1],a=this.body.data.edges;if(i instanceof pd||i instanceof zU)this.body.data.edges=i;else if(Array.isArray(i))this.body.data.edges=new pd,this.body.data.edges.add(i);else if(!i)this.body.data.edges=new pd;else throw new TypeError("Array or DataSet expected");if(a&&Ee.forEach(this.edgesListeners,function(o,c){a.off(c,o)}),this.body.edges={},this.body.data.edges){Ee.forEach(this.edgesListeners,function(o,c){n.body.data.edges.on(c,o)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(i){for(var n=1<arguments.length&&arguments[1]!==void 0&&arguments[1],r=this.body.edges,a=this.body.data.edges,s=0;s<i.length;s++){var o=i[s],c=r[o];c&&c.disconnect();var d=a.get(o,{showInternalIds:!0});r[o]=this.create(d)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(i){for(var n=this.body.edges,r=this.body.data.edges,a=!1,s=0;s<i.length;s++){var o=i[s],c=r.get(o),d=n[o];d===void 0?(this.body.edges[o]=this.create(c),a=!0):(d.disconnect(),a=d.setOptions(c)||a,d.connect())}a===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(i){var n=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(i.length!==0){var r=this.body.edges;Ee.forEach(i,function(a){var s=r[a];s!==void 0&&s.remove()}),n&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var i=this;Ee.forEach(this.body.edges,function(n,r){var a=i.body.data.edges._data[r];a!==void 0&&n.setOptions(a)})}},{key:"create",value:function(i){return new Zp(i,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var i=this.body.nodes,n=this.body.edges,r;for(r in i)i.hasOwnProperty(r)&&(i[r].edges=[]);for(r in n)if(n.hasOwnProperty(r)){var a=n[r];a.from=null,a.to=null,a.connect()}}},{key:"getConnectedNodes",value:function(i){var n=[];if(this.body.edges[i]!==void 0){var r=this.body.edges[i];r.fromId!==void 0&&n.push(r.fromId),r.toId!==void 0&&n.push(r.toId)}return n}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var i=this,n=[];Ee.forEach(this.body.edges,function(r,a){var s=i.body.nodes[r.toId],o=i.body.nodes[r.fromId];s!==void 0&&s.isCluster===!0||o!==void 0&&o.isCluster===!0||(s===void 0||o===void 0)&&n.push(a)}),this.remove(n,!1)}},{key:"_addMissingEdges",value:function(){var i=this.body.data.edges;if(i!=null){var n=this.body.edges,r=[];i.forEach(function(a,s){var o=n[s];o===void 0&&r.push(s)}),this.add(r,!0)}}}]),e}(),kL=function(){var t=Math.sin,e=Math.sqrt,i=Math.pow,n=Math.max,r=Math.abs,a=Math.min,s=Math.floor;function o(c,d,p){Ze(this,o),this.body=c,this.physicsBody=d,this.barnesHutTree,this.setOptions(p),this.randomSeed=5}return Qe(o,[{key:"setOptions",value:function(c){this.options=c,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-n(0,a(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var c=1e4*t(this.randomSeed++);return c-s(c)}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&0<this.physicsBody.physicsNodeIndices.length){var c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,p=d.length,m=this._formBarnesHutTree(c,d),y;this.barnesHutTree=m;for(var _=0;_<p;_++)y=c[d[_]],0<y.options.mass&&this._getForceContributions(m.root,y)}}},{key:"_getForceContributions",value:function(c,d){this._getForceContribution(c.children.NW,d),this._getForceContribution(c.children.NE,d),this._getForceContribution(c.children.SW,d),this._getForceContribution(c.children.SE,d)}},{key:"_getForceContribution",value:function(c,d){if(0<c.childrenCount){var p,m,y;p=c.centerOfMass.x-d.x,m=c.centerOfMass.y-d.y,y=e(p*p+m*m),y*c.calcSize>this.thetaInversed?this._calculateForces(y,p,m,d,c):c.childrenCount===4?this._getForceContributions(c,d):c.children.data.id!=d.id&&this._calculateForces(y,p,m,d,c)}}},{key:"_calculateForces",value:function(c,d,p,m,y){c===0&&(c=.1,d=c),1>this.overlapAvoidanceFactor&&m.shape.radius&&(c=n(.1+this.overlapAvoidanceFactor*m.shape.radius,c-m.shape.radius));var _=this.options.gravitationalConstant*y.mass*m.options.mass/i(c,3),w=d*_;this.physicsBody.forces[m.id].x+=w,this.physicsBody.forces[m.id].y+=p*_}},{key:"_formBarnesHutTree",value:function(c,d){for(var p=d.length,m=c[d[0]].x,y=c[d[0]].y,_=c[d[0]].x,w=c[d[0]].y,C=1,k;C<p;C++){var S=c[d[C]],x=S.x,O=S.y;0<S.options.mass&&(x<m&&(m=x),x>_&&(_=x),O<y&&(y=O),O>w&&(w=O))}var D=r(_-m)-r(w-y);0<D?(y-=.5*D,w+=.5*D):(m+=.5*D,_-=.5*D);var B=n(1e-5,r(_-m)),P=.5*B,R=.5*(m+_),I=.5*(y+w),F={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:R-P,maxX:R+P,minY:I-P,maxY:I+P},size:B,calcSize:1/B,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(F.root);for(var $=0;$<p;$++)k=c[d[$]],0<k.options.mass&&this._placeInTree(F.root,k);return F}},{key:"_updateBranchMass",value:function(c,d){var p=c.centerOfMass,m=c.mass+d.options.mass,y=1/m;p.x=p.x*c.mass+d.x*d.options.mass,p.x*=y,p.y=p.y*c.mass+d.y*d.options.mass,p.y*=y,c.mass=m;var _=n(n(d.height,d.radius),d.width);c.maxWidth=c.maxWidth<_?_:c.maxWidth}},{key:"_placeInTree",value:function(c,d,p){(p!=!0||p===void 0)&&this._updateBranchMass(c,d);var m=c.children.NW.range,y;y=m.maxX>d.x?m.maxY>d.y?"NW":"SW":m.maxY>d.y?"NE":"SE",this._placeInRegion(c,d,y)}},{key:"_placeInRegion",value:function(c,d,p){var m=c.children[p];switch(m.childrenCount){case 0:m.children.data=d,m.childrenCount=1,this._updateBranchMass(m,d);break;case 1:m.children.data.x===d.x&&m.children.data.y===d.y?(d.x+=this.seededRandom(),d.y+=this.seededRandom()):(this._splitBranch(m),this._placeInTree(m,d));break;case 4:this._placeInTree(m,d)}}},{key:"_splitBranch",value:function(c){var d=null;c.childrenCount===1&&(d=c.children.data,c.mass=0,c.centerOfMass.x=0,c.centerOfMass.y=0),c.childrenCount=4,c.children.data=null,this._insertRegion(c,"NW"),this._insertRegion(c,"NE"),this._insertRegion(c,"SW"),this._insertRegion(c,"SE"),d!=null&&this._placeInTree(c,d)}},{key:"_insertRegion",value:function(c,d){var p=.5*c.size,m,y,_,w;d==="NW"?(m=c.range.minX,y=c.range.minX+p,_=c.range.minY,w=c.range.minY+p):d==="NE"?(m=c.range.minX+p,y=c.range.maxX,_=c.range.minY,w=c.range.minY+p):d==="SW"?(m=c.range.minX,y=c.range.minX+p,_=c.range.minY+p,w=c.range.maxY):d==="SE"&&(m=c.range.minX+p,y=c.range.maxX,_=c.range.minY+p,w=c.range.maxY),c.children[d]={centerOfMass:{x:0,y:0},mass:0,range:{minX:m,maxX:y,minY:_,maxY:w},size:.5*c.size,calcSize:2*c.calcSize,children:{data:null},maxWidth:0,level:c.level+1,childrenCount:0}}},{key:"_debug",value:function(c,d){this.barnesHutTree!==void 0&&(c.lineWidth=1,this._drawBranch(this.barnesHutTree.root,c,d))}},{key:"_drawBranch",value:function(c,d,p){p===void 0&&(p="#FF0000"),c.childrenCount===4&&(this._drawBranch(c.children.NW,d),this._drawBranch(c.children.NE,d),this._drawBranch(c.children.SE,d),this._drawBranch(c.children.SW,d)),d.strokeStyle=p,d.beginPath(),d.moveTo(c.range.minX,c.range.minY),d.lineTo(c.range.maxX,c.range.minY),d.stroke(),d.beginPath(),d.moveTo(c.range.maxX,c.range.minY),d.lineTo(c.range.maxX,c.range.maxY),d.stroke(),d.beginPath(),d.moveTo(c.range.maxX,c.range.maxY),d.lineTo(c.range.minX,c.range.maxY),d.stroke(),d.beginPath(),d.moveTo(c.range.minX,c.range.maxY),d.lineTo(c.range.minX,c.range.minY),d.stroke()}}]),o}(),CZ=function(){var t=Math.sqrt;function e(i,n,r){Ze(this,e),this.body=i,this.physicsBody=n,this.setOptions(r)}return Qe(e,[{key:"setOptions",value:function(i){this.options=i}},{key:"solve",value:function(){for(var i=this.body.nodes,n=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=this.options.nodeDistance,s=0,o,c,d,p,m,y,_,w;s<n.length-1;s++){_=i[n[s]];for(var C=s+1;C<n.length;C++)w=i[n[C]],o=w.x-_.x,c=w.y-_.y,d=t(o*o+c*c),d===0&&(d=.1*Math.random(),o=d),d<2*a&&(y=d<.5*a?1:-2/3/a*d+4/3,y/=d,p=o*y,m=c*y,r[_.id].x-=p,r[_.id].y-=m,r[w.id].x+=p,r[w.id].y+=m)}}}]),e}(),kZ=function(){var t=Math.sqrt,e=Math.pow;function i(n,r,a){Ze(this,i),this.body=n,this.physicsBody=r,this.setOptions(a)}return Qe(i,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){var n=this.body.nodes,r=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,s=this.options.nodeDistance,o,c,d,p,m,y,_,w,C,k;for(C=0;C<r.length-1;C++)for(_=n[r[C]],k=C+1;k<r.length;k++)if(w=n[r[k]],_.level===w.level){o=w.x-_.x,c=w.y-_.y,d=t(o*o+c*c);var S=.05;y=d<s?-e(S*d,2)+e(S*s,2):0,d===0?d=.01:y/=d,p=o*y,m=c*y,a[_.id].x-=p,a[_.id].y-=m,a[w.id].x+=p,a[w.id].y+=m}}}]),i}(),WT=function(){var t=Math.sqrt,e=Math.max;function i(n,r,a){Ze(this,i),this.body=n,this.physicsBody=r,this.setOptions(a)}return Qe(i,[{key:"setOptions",value:function(n){this.options=n}},{key:"solve",value:function(){for(var n=this.physicsBody.physicsEdgeIndices,r=this.body.edges,a=0,s,o,c,d,p;a<n.length;a++)o=r[n[a]],o.connected===!0&&o.toId!==o.fromId&&this.body.nodes[o.toId]!==void 0&&this.body.nodes[o.fromId]!==void 0&&(o.edgeType.via===void 0?(s=o.options.length===void 0?1.5*this.options.springLength:o.options.length,this._calculateSpringForce(o.from,o.to,s)):(s=o.options.length===void 0?this.options.springLength:o.options.length,c=o.to,d=o.edgeType.via,p=o.from,this._calculateSpringForce(c,d,.5*s),this._calculateSpringForce(d,p,.5*s)))}},{key:"_calculateSpringForce",value:function(n,r,a){var s=n.x-r.x,o=n.y-r.y,c=e(t(s*s+o*o),.01),d=this.options.springConstant*(a-c)/c,p=s*d,m=o*d;this.physicsBody.forces[n.id]!==void 0&&(this.physicsBody.forces[n.id].x+=p,this.physicsBody.forces[n.id].y+=m),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=p,this.physicsBody.forces[r.id].y-=m)}}]),i}(),SZ=function(){var t=Math.sqrt,e=Math.max,i=Math.min;function n(r,a,s){Ze(this,n),this.body=r,this.physicsBody=a,this.setOptions(s)}return Qe(n,[{key:"setOptions",value:function(r){this.options=r}},{key:"solve",value:function(){for(var r=this.body.edges,a=.5,s=this.physicsBody.physicsEdgeIndices,o=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,d=0,p,m,y,_,w,C,k,S,x;d<o.length;d++)x=o[d],c[x].springFx=0,c[x].springFy=0;for(var O=0;O<s.length;O++)m=r[s[O]],m.connected===!0&&(p=m.options.length===void 0?this.options.springLength:m.options.length,y=m.from.x-m.to.x,_=m.from.y-m.to.y,S=t(y*y+_*_),S=S===0?.01:S,k=this.options.springConstant*(p-S)/S,w=y*k,C=_*k,m.to.level==m.from.level?(c[m.toId]!==void 0&&(c[m.toId].x-=a*w,c[m.toId].y-=a*C),c[m.fromId]!==void 0&&(c[m.fromId].x+=a*w,c[m.fromId].y+=a*C)):(c[m.toId]!==void 0&&(c[m.toId].springFx-=w,c[m.toId].springFy-=C),c[m.fromId]!==void 0&&(c[m.fromId].springFx+=w,c[m.fromId].springFy+=C)));k=1;for(var D=0,B,P,R;D<o.length;D++)R=o[D],B=i(k,e(-k,c[R].springFx)),P=i(k,e(-k,c[R].springFy)),c[R].x+=B,c[R].y+=P;for(var I=0,F=0,$=0,L;$<o.length;$++)L=o[$],I+=c[L].x,F+=c[L].y;for(var W=I/o.length,j=F/o.length,z=0,re;z<o.length;z++)re=o[z],c[re].x-=W,c[re].y-=j}}]),n}(),r0=function(){var t=Math.sqrt;function e(i,n,r){Ze(this,e),this.body=i,this.physicsBody=n,this.setOptions(r)}return Qe(e,[{key:"setOptions",value:function(i){this.options=i}},{key:"solve",value:function(){for(var i=this.body.nodes,n=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=0,s,o,c,d,p;a<n.length;a++)p=n[a],d=i[p],s=-d.x,o=-d.y,c=t(s*s+o*o),this._calculateForces(c,s,o,r,d)}},{key:"_calculateForces",value:function(i,n,r,a,s){var o=i===0?0:this.options.centralGravity/i;a[s.id].x=n*o,a[s.id].y=r*o}}]),e}(),AZ=function(t){var e=Math.pow,i=Math.max;function n(r,a,s){return Ze(this,n),Li(this,Bi(n).call(this,r,a,s))}return $i(n,t),Qe(n,[{key:"_calculateForces",value:function(r,a,s,o,c){r===0&&(r=.1*Math.random(),a=r),1>this.overlapAvoidanceFactor&&o.shape.radius&&(r=i(.1+this.overlapAvoidanceFactor*o.shape.radius,r-o.shape.radius));var d=o.edges.length+1,p=this.options.gravitationalConstant*c.mass*o.options.mass*d/e(r,2),m=a*p;this.physicsBody.forces[o.id].x+=m,this.physicsBody.forces[o.id].y+=s*p}}]),n}(kL),xZ=function(t){function e(i,n,r){return Ze(this,e),Li(this,Bi(e).call(this,i,n,r))}return $i(e,t),Qe(e,[{key:"_calculateForces",value:function(i,n,r,a,s){if(0<i){var o=s.edges.length+1,c=this.options.centralGravity*o*s.options.mass;a[s.id].x=n*c,a[s.id].y=r*c}}}]),e}(r0),DZ=function(){var t=Math.atan2,e=Math.sqrt,i=Math.pow,n=Math.max,r=Math.abs,a=Math.min;function s(o){Ze(this,s),this.body=o,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},Ee.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Qe(s,[{key:"bindEventListeners",value:function(){var o=this;this.body.emitter.on("initPhysics",function(){o.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){o.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){o.stopSimulation(),o.ready=!1}),this.body.emitter.on("disablePhysics",function(){o.physicsEnabled=!1,o.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){o.setOptions(o.options),o.ready===!0&&o.startSimulation()}),this.body.emitter.on("startSimulation",function(){o.ready===!0&&o.startSimulation()}),this.body.emitter.on("stopSimulation",function(){o.stopSimulation()}),this.body.emitter.on("destroy",function(){o.stopSimulation(!1),o.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){o.updatePhysicsData()})}},{key:"setOptions",value:function(o){o!==void 0&&(o===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):o===!0?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,Ee.selectiveNotDeepExtend(["stabilization"],this.options,o),Ee.mergeOptions(this.options,o,"stabilization"),o.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var o;this.options.solver==="forceAtlas2Based"?(o=this.options.forceAtlas2Based,this.nodesSolver=new AZ(this.body,this.physicsBody,o),this.edgesSolver=new WT(this.body,this.physicsBody,o),this.gravitySolver=new xZ(this.body,this.physicsBody,o)):this.options.solver==="repulsion"?(o=this.options.repulsion,this.nodesSolver=new CZ(this.body,this.physicsBody,o),this.edgesSolver=new WT(this.body,this.physicsBody,o),this.gravitySolver=new r0(this.body,this.physicsBody,o)):this.options.solver==="hierarchicalRepulsion"?(o=this.options.hierarchicalRepulsion,this.nodesSolver=new kZ(this.body,this.physicsBody,o),this.edgesSolver=new SZ(this.body,this.physicsBody,o),this.gravitySolver=new r0(this.body,this.physicsBody,o)):(o=this.options.barnesHut,this.nodesSolver=new kL(this.body,this.physicsBody,o),this.edgesSolver=new WT(this.body,this.physicsBody,o),this.gravitySolver=new r0(this.body,this.physicsBody,o)),this.modelOptions=o}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var o=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0];this.stabilized=!0,o===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,o===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var o=Date.now();this.physicsTick();var c=Date.now()-o;(c<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var o=this,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||this.startedStabilization===!0)&&setTimeout(function(){o.body.emitter.emit("stabilized",{iterations:c}),o.startedStabilization=!1,o.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var o=1.2;this._evaluateStepQuality()===!0?this.timestep=o*this.timestep:this.timestep/o<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=n(this.options.timestep,this.timestep/o))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var o=this.adaptiveCounter%this.adaptiveInterval==0;o?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var o=this.body.nodes,c=this.body.edges;for(var d in o)o.hasOwnProperty(d)&&o[d].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(o[d].id);for(var p in c)c.hasOwnProperty(p)&&c[p].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(c[p].id);for(var m=0,y;m<this.physicsBody.physicsNodeIndices.length;m++)y=this.physicsBody.physicsNodeIndices[m],this.physicsBody.forces[y]={x:0,y:0},this.physicsBody.velocities[y]===void 0&&(this.physicsBody.velocities[y]={x:0,y:0});for(var _ in this.physicsBody.velocities)o[_]===void 0&&delete this.physicsBody.velocities[_]}},{key:"revert",value:function(){var o=Object.keys(this.previousStates),c=this.body.nodes,d=this.physicsBody.velocities;this.referenceState={};for(var p=0,m;p<o.length;p++)m=o[p],c[m]===void 0?delete this.previousStates[m]:c[m].options.physics===!0&&(this.referenceState[m]={positions:{x:c[m].x,y:c[m].y}},d[m].x=this.previousStates[m].vx,d[m].y=this.previousStates[m].vy,c[m].x=this.previousStates[m].x,c[m].y=this.previousStates[m].y)}},{key:"_evaluateStepQuality",value:function(){var o=this.body.nodes,c=this.referenceState,d,p,m;for(var y in this.referenceState)if(this.referenceState.hasOwnProperty(y)&&o[y]!==void 0&&(d=o[y].x-c[y].positions.x,p=o[y].y-c[y].positions.y,m=e(i(d,2)+i(p,2)),m>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var o=this.physicsBody.physicsNodeIndices,c=0,d=0,p=5,m=0;m<o.length;m++){var y=o[m],_=this._performStep(y);c=n(c,_),d+=_}this.adaptiveTimestepEnabled=d/o.length<p,this.stabilized=c<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(o,c,d){var p=this.modelOptions.damping*o;o+=(c-p)/d*this.timestep;var m=this.options.maxVelocity||1e9;return r(o)>m&&(o=0<o?m:-m),o}},{key:"_performStep",value:function(o){var c=this.body.nodes[o],d=this.physicsBody.forces[o],p=this.physicsBody.velocities[o];this.previousStates[o]={x:c.x,y:c.y,vx:p.x,vy:p.y},c.options.fixed.x===!1?(p.x=this.calculateComponentVelocity(p.x,d.x,c.options.mass),c.x+=p.x*this.timestep):(d.x=0,p.x=0),c.options.fixed.y===!1?(p.y=this.calculateComponentVelocity(p.y,d.y,c.options.mass),c.y+=p.y*this.timestep):(d.y=0,p.y=0);var m=e(i(p.x,2)+i(p.y,2));return m}},{key:"_freezeNodes",value:function(){var o=this.body.nodes;for(var c in o)if(o.hasOwnProperty(c)&&o[c].x&&o[c].y){var d=o[c].options.fixed;this.freezeCache[c]={x:d.x,y:d.y},d.x=!0,d.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var o=this.body.nodes;for(var c in o)o.hasOwnProperty(c)&&this.freezeCache[c]!==void 0&&(o[c].options.fixed.x=this.freezeCache[c].x,o[c].options.fixed.y=this.freezeCache[c].y);this.freezeCache={}}},{key:"stabilize",value:function(){var o=this,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;return typeof c!="number"&&(c=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",c)),this.physicsBody.physicsNodeIndices.length===0?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=c,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return o._stabilizationBatch()},0))}},{key:"_startStabilizing",value:function(){return this.startedStabilization!==!0&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var o=this,c=function(){return o.stabilized===!1&&o.stabilizationIterations<o.targetIterations},d=function(){o.body.emitter.emit("stabilizationProgress",{iterations:o.stabilizationIterations,total:o.targetIterations})};this._startStabilizing()&&d();for(var p=0;c()&&p<this.options.stabilization.updateInterval;)this.physicsTick(),p++;d(),c()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(o){for(var c=0;c<this.physicsBody.physicsNodeIndices.length;c++){var d=this.physicsBody.physicsNodeIndices[c],p=this.body.nodes[d],m=this.physicsBody.forces[d],y=20,_=e(i(m.x,2)+i(m.x,2)),w=a(n(5,_),15),C=Ee.HSVToHex((180-180*a(1,n(0,.03*_)))/360,1,1),k={x:p.x+y*m.x,y:p.y+y*m.y};o.lineWidth=w,o.strokeStyle=C,o.beginPath(),o.moveTo(p.x,p.y),o.lineTo(k.x,k.y),o.stroke();var S=t(m.y,m.x);o.fillStyle=C,TL.draw(o,{type:"arrow",point:k,angle:S,length:3*w}),o.fill()}}}]),s}(),gs=function(){function t(){Ze(this,t)}return Qe(t,null,[{key:"getRange",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=1e9,r=-1e9,a=1e9,s=-1e9,o;if(0<i.length)for(var c=0;c<i.length;c++)o=e[i[c]],a>o.shape.boundingBox.left&&(a=o.shape.boundingBox.left),s<o.shape.boundingBox.right&&(s=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),r<o.shape.boundingBox.bottom&&(r=o.shape.boundingBox.bottom);return a===1e9&&s===-1e9&&n===1e9&&r===-1e9&&(n=0,r=0,a=0,s=0),{minX:a,maxX:s,minY:n,maxY:r}}},{key:"getRangeCore",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=1e9,r=-1e9,a=1e9,s=-1e9,o;if(0<i.length)for(var c=0;c<i.length;c++)o=e[i[c]],a>o.x&&(a=o.x),s<o.x&&(s=o.x),n>o.y&&(n=o.y),r<o.y&&(r=o.y);return a===1e9&&s===-1e9&&n===1e9&&r===-1e9&&(n=0,r=0,a=0,s=0),{minX:a,maxX:s,minY:n,maxY:r}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,i){var n={};return i===void 0||i==="node"?(Ee.deepExtend(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Ee.deepExtend(n,e.options,!0),n}}]),t}(),IZ=function(t){function e(i,n,r,a,s,o){var c;return Ze(this,e),c=Li(this,Bi(e).call(this,i,n,r,a,s,o)),c.isCluster=!0,c.containedNodes={},c.containedEdges={},c}return $i(e,t),Qe(e,[{key:"_openChildCluster",value:function(i){var n=this,r=this.body.nodes[i];if(this.containedNodes[i]===void 0)throw new Error("node with id: "+i+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],Ee.forEach(r.edges,function(a){delete n.containedEdges[a.id]}),Ee.forEach(r.containedNodes,function(a,s){n.containedNodes[s]=a}),r.containedNodes={},Ee.forEach(r.containedEdges,function(a,s){n.containedEdges[s]=a}),r.containedEdges={},Ee.forEach(r.edges,function(a){Ee.forEach(n.edges,function(s){var o=s.clusteringEdgeReplacingIds.indexOf(a.id);o===-1||(Ee.forEach(a.clusteringEdgeReplacingIds,function(c){s.clusteringEdgeReplacingIds.push(c),n.body.edges[c].edgeReplacedById=s.id}),s.clusteringEdgeReplacingIds.splice(o,1))})}),r.edges=[]}}]),e}(hs),RZ=function(){var t=Math.sqrt,e=Math.pow,i=Math.floor;function n(r){var a=this;Ze(this,n),this.body=r,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ee.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){a.clusteredNodes={},a.clusteredEdges={}})}return Qe(n,[{key:"clusterByHubsize",value:function(r,a){r===void 0?r=this._getHubSize():za(r)==="object"&&(a=this._checkOptions(r),r=this._getHubSize());for(var s=[],o=0,c;o<this.body.nodeIndices.length;o++)c=this.body.nodes[this.body.nodeIndices[o]],c.edges.length>=r&&s.push(c.id);for(var d=0;d<s.length;d++)this.clusterByConnection(s[d],a,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var r=this,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},s=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(a.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");a=this._checkOptions(a);var o={},c={};Ee.forEach(this.body.nodes,function(d,p){d.options&&a.joinCondition(d.options)===!0&&(o[p]=d,Ee.forEach(d.edges,function(m){r.clusteredEdges[m.id]===void 0&&(c[m.id]=m)}))}),this._cluster(o,c,a,s)}},{key:"clusterByEdgeCount",value:function(r,a){var s=this,o=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];a=this._checkOptions(a);for(var c=[],d={},p=function(x){var O={},D={},B=s.body.nodeIndices[x],P=s.body.nodes[B];if(d[B]===void 0){w=0,_=[];for(var R=0;R<P.edges.length;R++)y=P.edges[R],s.clusteredEdges[y.id]===void 0&&(y.toId!==y.fromId&&w++,_.push(y));if(w===r){C=function(j){if(a.joinCondition===void 0||a.joinCondition===null)return!0;var z=gs.cloneOptions(j);return a.joinCondition(z)};for(var I=!0,F=0;F<_.length;F++){y=_[F];var $=s._getConnectedId(y,B);if(C(P))D[y.id]=y,O[B]=P,O[$]=s.body.nodes[$],d[B]=!0;else{I=!1;break}}if(0<Object.keys(O).length&&0<Object.keys(D).length&&I===!0)if(k=function(){for(var j=0;j<c.length;++j)for(var z in O)if(c[j].nodes[z]!==void 0)return c[j]},S=k(),S!==void 0){for(var L in O)S.nodes[L]===void 0&&(S.nodes[L]=O[L]);for(var W in D)S.edges[W]===void 0&&(S.edges[W]=D[W])}else c.push({nodes:O,edges:D})}}},m=0,y,_,w;m<this.body.nodeIndices.length;m++){var C,k,S;p(m)}for(var m=0;m<c.length;m++)this._cluster(c[m].nodes,c[m].edges,a,!1);o===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(r){var a=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(1,r,a)}},{key:"clusterBridges",value:function(r){var a=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(2,r,a)}},{key:"clusterByConnection",value:function(r,a){var s=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];if(r===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[r]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[r];a=this._checkOptions(a,o),a.clusterNodeProperties.x===void 0&&(a.clusterNodeProperties.x=o.x),a.clusterNodeProperties.y===void 0&&(a.clusterNodeProperties.y=o.y),a.clusterNodeProperties.fixed===void 0&&(a.clusterNodeProperties.fixed={},a.clusterNodeProperties.fixed.x=o.options.fixed.x,a.clusterNodeProperties.fixed.y=o.options.fixed.y);var c={},d={},p=o.id,m=gs.cloneOptions(o);c[p]=o;for(var y=0,_;y<o.edges.length;y++)if(_=o.edges[y],this.clusteredEdges[_.id]===void 0){var w=this._getConnectedId(_,p);if(this.clusteredNodes[w]===void 0)if(w===p)d[_.id]=_;else if(a.joinCondition===void 0)d[_.id]=_,c[w]=this.body.nodes[w];else{var C=gs.cloneOptions(this.body.nodes[w]);a.joinCondition(m,C)===!0&&(d[_.id]=_,c[w]=this.body.nodes[w])}}var k=Object.keys(c).map(function(D){return c[D].id});for(S in c)if(c.hasOwnProperty(S))for(var S=c[S],x=0,O;x<S.edges.length;x++)O=S.edges[x],-1<k.indexOf(this._getConnectedId(O,S.id))&&(d[O.id]=O);this._cluster(c,d,a,s)}},{key:"_createClusterEdges",value:function(r,a,s,o){for(var c=Object.keys(r),d=[],p=0,m,y,_,w,C,k;p<c.length;p++){y=c[p],_=r[y];for(var S=0;S<_.edges.length;S++)m=_.edges[S],this.clusteredEdges[m.id]===void 0&&(m.toId==m.fromId?a[m.id]=m:m.toId==y?(w=s.id,C=m.fromId,k=C):(w=m.toId,C=s.id,k=w),r[k]===void 0&&d.push({edge:m,fromId:C,toId:w}))}for(var x=[],O=function(I){for(var F=0;F<x.length;F++){var $=x[F],L=I.fromId===$.fromId&&I.toId===$.toId,W=I.fromId===$.toId&&I.toId===$.fromId;if(L||W)return $}return null},D=0;D<d.length;D++){var B=d[D],P=B.edge,R=O(B);R===null?(R=this._createClusteredEdge(B.fromId,B.toId,P,o),x.push(R)):R.clusteringEdgeReplacingIds.push(P.id),this.body.edges[P.id].edgeReplacedById=R.id,this._backupEdgeOptions(P),P.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return r.clusterEdgeProperties===void 0&&(r.clusterEdgeProperties={}),r.clusterNodeProperties===void 0&&(r.clusterNodeProperties={}),r}},{key:"_cluster",value:function(r,a,s){var o=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3],c=[];for(var d in r)r.hasOwnProperty(d)&&this.clusteredNodes[d]!==void 0&&c.push(d);for(var p=0;p<c.length;++p)delete r[c[p]];if(Object.keys(r).length!=0&&(Object.keys(r).length!=1||s.clusterNodeProperties.allowSingleNodeCluster==!0)){var m=Ee.deepExtend({},s.clusterNodeProperties);if(s.processProperties!==void 0){var y=[];for(var _ in r)if(r.hasOwnProperty(_)){var w=gs.cloneOptions(r[_]);y.push(w)}var C=[];for(var k in a)if(a.hasOwnProperty(k)&&k.substr(0,12)!=="clusterEdge:"){var S=gs.cloneOptions(a[k],"edge");C.push(S)}if(m=s.processProperties(m,y,C),!m)throw new Error("The processProperties function does not return properties!")}m.id===void 0&&(m.id="cluster:"+Ee.randomUUID());var x=m.id;m.label===void 0&&(m.label="cluster");var O;m.x===void 0&&(O=this._getClusterPosition(r),m.x=O.x),m.y===void 0&&(O===void 0&&(O=this._getClusterPosition(r)),m.y=O.y),m.id=x;var D=this.body.functions.createNode(m,IZ);D.containedNodes=r,D.containedEdges=a,D.clusterEdgeProperties=s.clusterEdgeProperties,this.body.nodes[m.id]=D,this._clusterEdges(r,a,m,s.clusterEdgeProperties),m.id=void 0,o===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(r){this.clusteredEdges[r.id]===void 0&&(this.clusteredEdges[r.id]={physics:r.options.physics})}},{key:"_restoreEdge",value:function(r){var a=this.clusteredEdges[r.id];a!==void 0&&(r.setOptions({physics:a.physics}),delete this.clusteredEdges[r.id])}},{key:"isCluster",value:function(r){return this.body.nodes[r]===void 0?(console.log("Node does not exist."),!1):this.body.nodes[r].isCluster===!0}},{key:"_getClusterPosition",value:function(r){for(var a=Object.keys(r),s=r[a[0]].x,o=r[a[0]].x,c=r[a[0]].y,d=r[a[0]].y,p=1,m;p<a.length;p++)m=r[a[p]],s=m.x<s?m.x:s,o=m.x>o?m.x:o,c=m.y<c?m.y:c,d=m.y>d?m.y:d;return{x:.5*(s+o),y:.5*(c+d)}}},{key:"openCluster",value:function(r,a){var s=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];if(r===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var o=this.body.nodes[r];if(o===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(o.isCluster!==!0||o.containedNodes===void 0||o.containedEdges===void 0)throw new Error("The node:"+r+" is not a valid cluster.");var c=this.findNode(r),d=c.indexOf(r)-1;if(0<=d){var p=c[d],m=this.body.nodes[p];return m._openChildCluster(r),delete this.body.nodes[r],void(s===!0&&this.body.emitter.emit("_dataChanged"))}var y=o.containedNodes,_=o.containedEdges;if(a!==void 0&&a.releaseFunction!==void 0&&typeof a.releaseFunction=="function"){var w={},C={x:o.x,y:o.y};for(var k in y)if(y.hasOwnProperty(k)){var S=this.body.nodes[k];w[k]={x:S.x,y:S.y}}var x=a.releaseFunction(C,w);for(var O in y)if(y.hasOwnProperty(O)){var D=this.body.nodes[O];x[O]!==void 0&&(D.x=x[O].x===void 0?o.x:x[O].x,D.y=x[O].y===void 0?o.y:x[O].y)}}else Ee.forEach(y,function(se){se.options.fixed.x===!1&&(se.x=o.x),se.options.fixed.y===!1&&(se.y=o.y)});for(var B in y)if(y.hasOwnProperty(B)){var P=this.body.nodes[B];P.vx=o.vx,P.vy=o.vy,P.setOptions({physics:!0}),delete this.clusteredNodes[B]}for(var R=[],I=0;I<o.edges.length;I++)R.push(o.edges[I]);for(var F=0;F<R.length;F++){for(var $=R[F],L=this._getConnectedId($,r),W=this.clusteredNodes[L],j=0;j<$.clusteringEdgeReplacingIds.length;j++){var z=$.clusteringEdgeReplacingIds[j],re=this.body.edges[z];if(re!==void 0)if(W!==void 0){var ce=this.body.nodes[W.clusterId];ce.containedEdges[re.id]=re,delete _[re.id];var ge=re.fromId,be=re.toId;re.toId==L?be=W.clusterId:ge=W.clusterId,this._createClusteredEdge(ge,be,re,ce.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(re)}$.remove()}for(var ue in _)_.hasOwnProperty(ue)&&this._restoreEdge(_[ue]);delete this.body.nodes[r],s===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(r){var a=[];if(this.isCluster(r)===!0){var s=this.body.nodes[r].containedNodes;for(var o in s)s.hasOwnProperty(o)&&a.push(this.body.nodes[o].id)}return a}},{key:"findNode",value:function(r){for(var a=[],s=0,o;this.clusteredNodes[r]!==void 0&&s<100;){if(o=this.body.nodes[r],o===void 0)return[];a.push(o.id),r=this.clusteredNodes[r].clusterId,s++}return o=this.body.nodes[r],o===void 0?[]:(a.push(o.id),a.reverse(),a)}},{key:"updateClusteredNode",value:function(r,a){if(r===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(a===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[r]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[r].setOptions(a),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(r,a){if(r===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(a===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[r]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var s=this.getClusteredEdges(r),o=0,c;o<s.length;o++)c=this.body.edges[s[o]],c.setOptions(a);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(r){for(var a=[],s=0;r!==void 0&&this.body.edges[r]!==void 0&&s<100;)a.push(this.body.edges[r].id),r=this.body.edges[r].edgeReplacedById,s++;return a.reverse(),a}},{key:"getBaseEdge",value:function(r){return this.getBaseEdges(r)[0]}},{key:"getBaseEdges",value:function(r){for(var a=[r],s=[],o=[],c=0,d;0<a.length&&c<100;)if(d=a.pop(),d!==void 0){var p=this.body.edges[d];if(p!==void 0){c++;var m=p.clusteringEdgeReplacingIds;if(m===void 0)o.push(d);else for(var y=0,_;y<m.length;++y)_=m[y],a.indexOf(m)===-1&&s.indexOf(m)===-1&&a.push(_);s.push(d)}}return o}},{key:"_getConnectedId",value:function(r,a){return r.toId==a?(r.fromId==a,r.fromId):r.toId}},{key:"_getHubSize",value:function(){for(var r=0,a=0,s=0,o=0,c=0,d;c<this.body.nodeIndices.length;c++)d=this.body.nodes[this.body.nodeIndices[c]],d.edges.length>o&&(o=d.edges.length),r+=d.edges.length,a+=e(d.edges.length,2),s+=1;r/=s,a/=s;var p=a-e(r,2),m=t(p),y=i(r+2*m);return y>o&&(y=o),y}},{key:"_createClusteredEdge",value:function(r,a,s,o,c){var d=gs.cloneOptions(s,"edge");Ee.deepExtend(d,o),d.from=r,d.to=a,d.id="clusterEdge:"+Ee.randomUUID(),c!==void 0&&Ee.deepExtend(d,c);var p=this.body.functions.createEdge(d);return p.clusteringEdgeReplacingIds=[s.id],p.connect(),this.body.edges[p.id]=p,p}},{key:"_clusterEdges",value:function(r,a,s,o){if(a instanceof Zp){var c=a,d={};d[c.id]=c,a=d}if(r instanceof hs){var p=r,m={};m[p.id]=p,r=m}if(s==null)throw new Error("_clusterEdges: parameter clusterNode required");for(var y in o===void 0&&(o=s.clusterEdgeProperties),this._createClusterEdges(r,a,s,o),a)if(a.hasOwnProperty(y)&&this.body.edges[y]!==void 0){var _=this.body.edges[y];this._backupEdgeOptions(_),_.setOptions({physics:!1})}for(var w in r)r.hasOwnProperty(w)&&(this.clusteredNodes[w]={clusterId:s.id,node:this.body.nodes[w]},this.body.nodes[w].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(r){if(r!==void 0){var a=this.clusteredNodes[r];if(a!==void 0){var s=a.clusterId;return s===void 0?void 0:this.body.nodes[s]}}}},{key:"_filter",value:function(r,a){var s=[];return Ee.forEach(r,function(o){a(o)&&s.push(o)}),s}},{key:"_updateState",value:function(){var r=this,a=[],s={},o=function(C){Ee.forEach(r.body.nodes,function(k){k.isCluster===!0&&C(k)})},c;for(c in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(c)){var d=this.body.nodes[c];d===void 0&&a.push(c)}o(function(C){for(var k=0;k<a.length;k++)delete C.containedNodes[a[k]]});for(var p=0;p<a.length;p++)delete this.clusteredNodes[a[p]];Ee.forEach(this.clusteredEdges,function(C){var k=r.body.edges[C];k!==void 0&&k.endPointsValid()||(s[C]=C)}),o(function(C){Ee.forEach(C.containedEdges,function(k,S){k.endPointsValid()||s[S]||(s[S]=S)})}),Ee.forEach(this.body.edges,function(C,k){var S=!0,x=C.clusteringEdgeReplacingIds;if(x!==void 0){var O=0;Ee.forEach(x,function(D){var B=r.body.edges[D];B!==void 0&&B.endPointsValid()&&(O+=1)}),S=0<O}C.endPointsValid()&&S||(s[k]=k)}),o(function(C){Ee.forEach(s,function(k){delete C.containedEdges[k],Ee.forEach(C.edges,function(S,x){return S.id===k?void(C.edges[x]=null):void(S.clusteringEdgeReplacingIds=r._filter(S.clusteringEdgeReplacingIds,function(O){return!s[O]}))}),C.edges=r._filter(C.edges,function(S){return S!==null})})}),Ee.forEach(s,function(C){delete r.clusteredEdges[C]}),Ee.forEach(s,function(C){delete r.body.edges[C]});var m=Object.keys(this.body.edges);Ee.forEach(m,function(C){var k=r.body.edges[C],S=r._isClusteredNode(k.fromId)||r._isClusteredNode(k.toId);if(S!==r._isClusteredEdge(k.id))if(S){var x=r._getClusterNodeForNode(k.fromId);x!==void 0&&r._clusterEdges(r.body.nodes[k.fromId],k,x);var O=r._getClusterNodeForNode(k.toId);O!==void 0&&r._clusterEdges(r.body.nodes[k.toId],k,O)}else delete r._clusterEdges[C],r._restoreEdge(k)});for(var y=!1,_=!0,w=function(){var C=[];o(function(S){var x=Object.keys(S.containedNodes).length,O=S.options.allowSingleNodeCluster===!0;(O&&1>x||!O&&2>x)&&C.push(S.id)});for(var k=0;k<C.length;++k)r.openCluster(C[k],{},!1);_=0<C.length,y=y||_};_;)w();y&&this._updateState()}},{key:"_isClusteredNode",value:function(r){return this.clusteredNodes[r]!==void 0}},{key:"_isClusteredEdge",value:function(r){return this.clusteredEdges[r]!==void 0}}]),n}(),DM;function MZ(){var t;window!==void 0&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=t===void 0?function(e){e()}:t}var PZ=function(){function t(e,i){Ze(this,t),MZ(),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ee.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Qe(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=window.setTimeout(function(){e.zooming=!1,e._requestRedraw.bind(e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=0<e.renderRequests,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){e!==void 0&&Ee.selectiveDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,i){if(typeof window<"u"){var n=window,r;return this.requiresTimeout===!0?r=n.setTimeout(e,i):n.requestAnimationFrame&&(r=n.requestAnimationFrame(e)),r}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=0<arguments.length&&arguments[0]!==void 0&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,r),this.canvas.frame.clientWidth===0)return;i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(i,e),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,n,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes,n;for(var r in i)i.hasOwnProperty(r)&&(n=i[r],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var i=1<arguments.length&&arguments[1]!==void 0&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,a=[],s=20,o=this.canvas.DOMtoCanvas({x:-s,y:-s}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),d={top:o.y,left:o.x,bottom:c.y,right:c.x},p=0,m;p<r.length;p++)m=n[r[p]],m.isSelected()?a.push(r[p]):i===!0||m.isBoundingBoxOverlappingWith(d)===!0?m.draw(e):m.updateBoundingBox(e,m.selected);for(var y=0;y<a.length;y++)m=n[a[y]],m.draw(e)}},{key:"_drawEdges",value:function(e){for(var i=this.body.edges,n=this.body.edgeIndices,r=0,a;r<n.length;r++)a=i[n[r]],a.connected===!0&&a.draw(e)}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,e.indexOf("msie 9.0")==-1?e.indexOf("safari")!=-1&&-1>=e.indexOf("chrome")&&(this.requiresTimeout=!0):this.requiresTimeout=!0}else this.requiresTimeout=!0}}]),t}(),ko=ml(function(t,e){e.onTouch=function(i,n){n.inputHandler=function(r){r.isFirst&&n(r)},i.on("hammer.input",n.inputHandler)},e.onRelease=function(i,n){return n.inputHandler=function(r){r.isFinal&&n(r)},i.on("hammer.input",n.inputHandler)},e.offTouch=function(i,n){i.off("hammer.input",n.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(i){return i.getTouchAction=function(){return["pan-y"]},i}});ko.onTouch;ko.onRelease;ko.offTouch;ko.offRelease;ko.disablePreventDefaultVertically;var OZ=function(){var t=Math.round;function e(i){Ze(this,e),this.body=i,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ee.extend(this.options,this.defaultOptions),this.bindEventListeners()}return Qe(e,[{key:"bindEventListeners",value:function(){var i=this;this.body.emitter.once("resize",function(n){n.width!==0&&(i.body.view.translation.x=.5*n.width),n.height!==0&&(i.body.view.translation.y=.5*n.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){i.hammerFrame.destroy(),i.hammer.destroy(),i._cleanUp()})}},{key:"setOptions",value:function(i){var n=this;i!==void 0&&Ee.selectiveDeepExtend(["width","height","autoResize"],this.options,i),this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var r=n.setSize();r===!0&&n.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),Ee.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){this.resizeTimer!==void 0&&clearInterval(this.resizeTimer),Ee.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/i,this.cameraState.previousHeight=this.frame.canvas.height/i,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/i,y:.5*this.frame.canvas.height/i}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&0<this.cameraState.previousWidth){var i=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,n=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,r=this.cameraState.scale;i!=1&&n!=1?r=.5*this.cameraState.scale*(i+n):i==1?n!=1&&(r=this.cameraState.scale*n):r=this.cameraState.scale*i,this.body.view.scale=r;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(i){if(typeof i=="number")return i+"px";if(typeof i=="string"){if(i.indexOf("%")!==-1||i.indexOf("px")!==-1)return i;if(i.indexOf("%")===-1)return i+"px"}throw new Error("Could not use the value supplied for width or height:"+i)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),!this.frame.canvas.getContext){var i=document.createElement("DIV");i.style.color="red",i.style.fontWeight="bold",i.style.padding="10px",i.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(i)}else this._setPixelRatio(),this.setTransform();this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var i=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new yd(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:yd.DIRECTION_ALL}),ko.onTouch(this.hammer,function(n){i.body.eventListeners.onTouch(n)}),this.hammer.on("tap",function(n){i.body.eventListeners.onTap(n)}),this.hammer.on("doubletap",function(n){i.body.eventListeners.onDoubleTap(n)}),this.hammer.on("press",function(n){i.body.eventListeners.onHold(n)}),this.hammer.on("panstart",function(n){i.body.eventListeners.onDragStart(n)}),this.hammer.on("panmove",function(n){i.body.eventListeners.onDrag(n)}),this.hammer.on("panend",function(n){i.body.eventListeners.onDragEnd(n)}),this.hammer.on("pinch",function(n){i.body.eventListeners.onPinch(n)}),this.frame.canvas.addEventListener("mousewheel",function(n){i.body.eventListeners.onMouseWheel(n)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(n){i.body.eventListeners.onMouseWheel(n)}),this.frame.canvas.addEventListener("mousemove",function(n){i.body.eventListeners.onMouseMove(n)}),this.frame.canvas.addEventListener("contextmenu",function(n){i.body.eventListeners.onContext(n)}),this.hammerFrame=new yd(this.frame),ko.onRelease(this.hammerFrame,function(n){i.body.eventListeners.onRelease(n)})}},{key:"setSize",value:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options.width,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.options.height;i=this._prepareValue(i),n=this._prepareValue(n);var r=!1,a=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),i!=this.options.width||n!=this.options.height||this.frame.style.width!=i||this.frame.style.height!=n)this._getCameraState(o),this.frame.style.width=i,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=t(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=t(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=i,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{var c=t(this.frame.canvas.clientWidth*this.pixelRatio),d=t(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==c||this.frame.canvas.height!==d)&&this._getCameraState(o),this.frame.canvas.width!==c&&(this.frame.canvas.width=c,r=!0),this.frame.canvas.height!==d&&(this.frame.canvas.height=d,r=!0)}return r==!0&&(this.body.emitter.emit("resize",{width:t(this.frame.canvas.width/this.pixelRatio),height:t(this.frame.canvas.height/this.pixelRatio),oldWidth:t(a/this.pixelRatio),oldHeight:t(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var i=this.getContext();if(i===void 0)throw new Error("Could not get canvax context");var n=1;typeof window<"u"&&(n=window.devicePixelRatio||1);var r=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return n/r}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var i=this.getContext();if(i===void 0)throw new Error("Could not get canvax context");i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(i){return(i-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(i){return i*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(i){return(i-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(i){return i*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(i){return{x:this._XconvertCanvasToDOM(i.x),y:this._YconvertCanvasToDOM(i.y)}}},{key:"DOMtoCanvas",value:function(i){return{x:this._XconvertDOMtoCanvas(i.x),y:this._YconvertDOMtoCanvas(i.y)}}}]),e}(),NZ=function(){var t=Math.abs,e=Math.min;function i(n,r){var a=this;Ze(this,i),this.body=n,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){a.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return Qe(i,[{key:"setOptions",value:function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.options=n}},{key:"fit",value:function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{nodes:[]},r=1<arguments.length&&arguments[1]!==void 0&&arguments[1],a,s;if(n=Object.assign({},n),(n.nodes===void 0||n.nodes.length===0)&&(n.nodes=this.body.nodeIndices),r===!0){var o=0;for(var c in this.body.nodes)if(this.body.nodes.hasOwnProperty(c)){var d=this.body.nodes[c];d.predefinedPosition===!0&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(n,!1);a=gs.getRange(this.body.nodes,n.nodes);var p=this.body.nodeIndices.length;s=12.662/(p+7.4147)+.0964822;var m=e(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);s*=m}else{this.body.emitter.emit("_resizeNodes"),a=gs.getRange(this.body.nodes,n.nodes);var y=1.1*t(a.maxX-a.minX),_=1.1*t(a.maxY-a.minY),w=this.canvas.frame.canvas.clientWidth/y,C=this.canvas.frame.canvas.clientHeight/_;s=w<=C?w:C}(1<s||s===0)&&(s=1);var k=gs.findCenter(a),S={position:k,scale:s,animation:n.animation};this.moveTo(S)}},{key:"focus",value:function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[n]!==void 0){var a={x:this.body.nodes[n].x,y:this.body.nodes[n].y};r.position=a,r.lockedOnNode=n,this.moveTo(r)}else console.log("Node: "+n+" cannot be found.")}},{key:"moveTo",value:function(n){if(n===void 0)return void(n={});if(n.scale=+n.scale,!(0<n.scale))throw new TypeError('The option "scale" has to be a number greater than zero.');n.offset===void 0&&(n.offset={x:0,y:0}),n.offset.x===void 0&&(n.offset.x=0),n.offset.y===void 0&&(n.offset.y=0),n.scale===void 0&&(n.scale=this.body.view.scale),n.position===void 0&&(n.position=this.getViewPosition()),n.animation===void 0&&(n.animation={duration:0}),n.animation===!1&&(n.animation={duration:0}),n.animation===!0&&(n.animation={}),n.animation.duration===void 0&&(n.animation.duration=1e3),n.animation.easingFunction===void 0&&(n.animation.easingFunction="easeInOutQuad"),this.animateView(n)}},{key:"animateView",value:function(n){if(n!==void 0){this.animationEasingFunction=n.animation.easingFunction,this.releaseNode(),n.locked===!0&&(this.lockedOnNodeId=n.lockedOnNode,this.lockedOnNodeOffset=n.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=n.scale,this.body.view.scale=this.targetScale;var r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),a={x:r.x-n.position.x,y:r.y-n.position.y};this.targetTranslation={x:this.sourceTranslation.x+a.x*this.targetScale+n.offset.x,y:this.sourceTranslation.y+a.y*this.targetScale+n.offset.y},n.animation.duration===0?this.lockedOnNodeId==null?(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.animationSpeed=1/(.001*(60*n.animation.duration))||1/60,this.animationEasingFunction=n.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var n={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),a={x:r.x-n.x,y:r.y-n.y},s=this.body.view.translation,o={x:s.x+a.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+a.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var n=0<arguments.length&&arguments[0]!==void 0&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=n===!0?1:this.easingTime;var r=Ee.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),i}(),GZ=function(){function t(e,i){var n=this;Ze(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){n.keycharm!==void 0&&n.keycharm.destroy()}),this.options={}}return Qe(t,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var r=0;r<i.length;r++){this.navigationDOM[i[r]]=document.createElement("div"),this.navigationDOM[i[r]].className="vis-button vis-"+i[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[i[r]]);var a=new yd(this.navigationDOM[i[r]]);n[r]==="_fit"?ko.onTouch(a,this._fit.bind(this)):ko.onTouch(a,this.bindToRedraw.bind(this,n[r])),this.navigationHammers.push(a)}var s=new yd(this.canvas.frame);ko.onRelease(s,function(){e._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){this.boundFunctions[e]===void 0&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){700<new Date().valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,i=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=i/e,a=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=i,this.body.view.translation={x:a,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,i=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=i/e,a=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=i,this.body.view.translation={x:a,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.keycharm=this.options.keyboard.bindToWindow===!0?FC({container:window,preventDefault:!0}):FC({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){e.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){e.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){e.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){e.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}(),UZ=function(){function t(e,i){Ze(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Qe(t,[{key:"setPosition",value:function(e,i){this.x=parseInt(e),this.y=parseInt(i)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var i=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,a=this.frame.parentNode.clientWidth,s=0,o=0;if(this.overflowMethod=="flip"){var c=!1,d=!0;this.y-i<this.padding&&(d=!1),this.x+n>a-this.padding&&(c=!0),s=c?this.x-n:this.x,o=d?this.y-i:this.y}else o=this.y-i,o+i+this.padding>r&&(o=r-i-this.padding),o<this.padding&&(o=this.padding),s=this.x,s+n+this.padding>a&&(s=a-n-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),LZ=function(){function t(e,i,n){Ze(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new GZ(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ee.extend(this.options,this.defaultOptions),this.bindEventListeners()}return Qe(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){e!==void 0&&(Ee.selectiveNotDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Ee.mergeOptions(this.options,e,"keyboard"),e.tooltip&&(Ee.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Ee.parseColor(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-Ee.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-Ee.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){50<new Date().valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,e,n),this.selectionHandler._generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function(e){var i=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function(e){var i=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,e,n),this.selectionHandler._generateClickEvent("click",e,i),this.selectionHandler._generateClickEvent("hold",e,i)}},{key:"onRelease",value:function(e){if(10<new Date().valueOf()-this.touchTime){var i=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,i),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function(e,i){var n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],r=this.selectionHandler.getSelection(),a=!1;a=n===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var s=this.selectionHandler.getSelection(),o=this._determineDifference(r,s),c=this._determineDifference(s,r);0<o.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",i,e,r),a=!0),0<o.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",i,e,r),a=!0),0<c.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",i,e),a=!0),0<c.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",i,e),a=!0),a===!0&&this.selectionHandler._generateClickEvent("select",i,e)}},{key:"_determineDifference",value:function(e,i){var n=function(r,a){for(var s=[],o=0,c;o<r.length;o++)c=r[o],a.indexOf(c)===-1&&s.push(c);return s};return{nodes:n(e.nodes,i.nodes),edges:n(e.edges,i.edges)}}},{key:"onDragStart",value:function(e){this.drag.pointer===void 0&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ee.extend({},this.body.view.translation),this.drag.nodeId=void 0,i!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=i.id,i.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(i)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r],s={id:a.id,node:a,x:a.x,y:a.y,xFixed:a.options.fixed.x,yFixed:a.options.fixed.y};a.options.fixed.x=!0,a.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(e){var i=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler._generateClickEvent("dragging",e,n);var a=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;r.forEach(function(d){var p=d.node;d.xFixed===!1&&(p.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(d.x)+a)),d.yFixed===!1&&(p.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(d.y)+s))}),this.body.emitter.emit("startSimulation")}else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);var o=n.x-this.drag.pointer.x,c=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+o,y:this.drag.translation.y+c},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var i=this.drag.selection;i&&i.length?(i.forEach(function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var i=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,i)}},{key:"zoom",value:function(e,i){if(this.options.zoomView===!0){var n=this.body.view.scale;1e-5>e&&(e=1e-5),10<e&&(e=10);var r;this.drag!==void 0&&this.drag.dragging===!0&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));var a=this.body.view.translation,s=e/n,o=(1-s)*i.x+a.x*s,c=(1-s)*i.y+a.y*s;if(this.body.view.scale=e,this.body.view.translation={x:o,y:c},r!=null){var d=this.canvas.canvasToDOM(r);this.drag.pointer.x=d.x,this.drag.pointer.y=d.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){var i=0;if(e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i!=0){var n=this.body.view.scale,r=i*(this.options.zoomSpeed/10);0>i&&(r/=1-r),n*=1+r;var a=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(n,a)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var i=this,n=this.getPointer({x:e.clientX,y:e.clientY}),r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(n),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),!this.drag.dragging&&(this.popupTimer=setTimeout(function(){return i._checkShowPopup(n)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var i=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),r={left:i,top:n,right:i,bottom:n},a=this.popupObj===void 0?void 0:this.popupObj.id,s=!1,o="node";if(this.popupObj===void 0){for(var c=this.body.nodeIndices,d=this.body.nodes,p=[],m=0,y;m<c.length;m++)y=d[c[m]],y.isOverlappingWith(r)===!0&&(s=!0,y.getTitle()!==void 0&&p.push(c[m]));0<p.length&&(this.popupObj=d[p[p.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){for(var _=this.body.edgeIndices,w=this.body.edges,C=[],k=0,S;k<_.length;k++)S=w[_[k]],S.isOverlappingWith(r)===!0&&S.connected===!0&&S.getTitle()!==void 0&&C.push(_[k]);0<C.length&&(this.popupObj=w[C[C.length-1]],o="edge")}this.popupObj===void 0?this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup")):this.popupObj.id!==a&&(this.popup===void 0&&(this.popup=new UZ(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id))}},{key:"_checkHidePopup",value:function(e){var i=this.selectionHandler._pointerToPositionObject(e),n=!1;if(this.popup.popupTargetType!=="node")this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));else if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i),n===!0)){var r=this.selectionHandler.getNodeAt(e);n=r!==void 0&&r.id===this.popup.popupTargetId}n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),BZ=function(){function t(e,i){var n=this;Ze(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ee.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return Qe(t,[{key:"setOptions",value:function(e){e!==void 0&&Ee.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(i=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function(e){var i=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(i=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return i}},{key:"_initBaseEvent",value:function(e,i){var n={pointer:{DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},event:e};return n}},{key:"_generateClickEvent",value:function(e,i,n,r){var a=4<arguments.length&&arguments[4]!==void 0&&arguments[4],s=this._initBaseEvent(i,n);if(a===!0)s.nodes=[],s.edges=[];else{var o=this.getSelection();s.nodes=o.nodes,s.edges=o.edges}r!==void 0&&(s.previousSelection=r),e=="click"&&(s.items=this.getClickedItems(n)),i.controlEdge!==void 0&&(s.controlEdge=i.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0&&(e instanceof hs&&i===!0&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var i=[],n=this.body.nodes,r=0,a;r<this.body.nodeIndices.length;r++)a=this.body.nodeIndices[r],n[a].isOverlappingWith(e)&&i.push(a);return i}},{key:"_pointerToPositionObject",value:function(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function(e){var i=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(n);return 0<r.length?i===!0?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,i){for(var n=this.body.edges,r=0,a;r<this.body.edgeIndices.length;r++)a=this.body.edgeIndices[r],n[a].isOverlappingWith(e)&&i.push(a)}},{key:"_getAllEdgesOverlappingWith",value:function(e){var i=[];return this._getEdgesOverlappingWith(e,i),i}},{key:"getEdgeAt",value:function(e){for(var i=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=this.canvas.DOMtoCanvas(e),r=10,a=null,s=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var c=this.body.edgeIndices[o],d=s[c];if(d.connected){var p=d.from.x,m=d.from.y,y=d.to.x,_=d.to.y,w=d.edgeType.getDistanceToEdge(p,m,y,_,n.x,n.y);w<r&&(a=c,r=w)}}return a===null?void 0:i===!0?this.body.edges[a]:a}},{key:"_addToSelection",value:function(e){e instanceof hs?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof hs?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof hs?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&this.selectionObj.edges[i].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&(e+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var i in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(i))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&1<this.selectionObj.nodes[e].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var i=0,n;i<e.edges.length;i++)n=e.edges[i],n.select(),this._addToSelection(n)}},{key:"_hoverConnectedEdges",value:function(e){for(var i=0,n;i<e.edges.length;i++)n=e.edges[i],n.hover=!0,this._addToHover(n)}},{key:"_unselectConnectedEdges",value:function(e){for(var i=0,n;i<e.edges.length;i++)n=e.edges[i],n.unselect(),this._removeFromSelection(n)}},{key:"emitBlurEvent",value:function(e,i,n){var r=this._initBaseEvent(e,i);n.hover===!0&&(n.hover=!1,n instanceof hs?(r.node=n.id,this.body.emitter.emit("blurNode",r)):(r.edge=n.id,this.body.emitter.emit("blurEdge",r)))}},{key:"emitHoverEvent",value:function(e,i,n){var r=this._initBaseEvent(e,i),a=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),a=!0,n instanceof hs?(r.node=n.id,this.body.emitter.emit("hoverNode",r)):(r.edge=n.id,this.body.emitter.emit("hoverEdge",r))),a}},{key:"hoverObject",value:function(e,i){var n=this.getNodeAt(i);n===void 0&&(n=this.getEdgeAt(i));var r=!1;for(var a in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(a)&&(n===void 0||n instanceof hs&&n.id!=a||n instanceof Zp)&&(this.emitBlurEvent(e,i,this.hoverObj.nodes[a]),delete this.hoverObj.nodes[a],r=!0);for(var s in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(s)&&(r===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Zp&&n.id!=s||n instanceof hs&&!n.hover)&&(this.emitBlurEvent(e,i,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],r=!0));if(n!==void 0){var o=Object.keys(this.hoverObj.edges).length,c=Object.keys(this.hoverObj.nodes).length,d=n instanceof Zp&&o===0&&c===0,p=n instanceof hs&&o===0&&c===0;(r||d||p)&&(r=this.emitHoverEvent(e,i,n)),n instanceof hs&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}r===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var e=this.getSelectedNodes(),i=this.getSelectedEdges();return{nodes:e,edges:i}}},{key:"getSelectedNodes",value:function(){var e=[];if(this.options.selectable===!0)for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&e.push(this.selectionObj.nodes[i].id);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(this.options.selectable===!0)for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&e.push(this.selectionObj.edges[i].id);return e}},{key:"setSelection",value:function(e){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n,r;if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";if((i.unselectAll||i.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(n=0;n<e.nodes.length;n++){r=e.nodes[n];var a=this.body.nodes[r];if(!a)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(a,i.highlightEdges)}if(e.edges)for(n=0;n<e.edges.length;n++){r=e.edges[n];var s=this.body.edges[r];if(!s)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(e){var i=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(this.body.edges.hasOwnProperty(i)||delete this.selectionObj.edges[i])}},{key:"getClickedItems",value:function(e){for(var i=this.canvas.DOMtoCanvas(e),n=[],r=this.body.nodeIndices,a=this.body.nodes,s=r.length-1;0<=s;s--){var o=a[r[s]],c=o.getItemsOnPoint(i);n.push.apply(n,c)}for(var d=this.body.edgeIndices,p=this.body.edges,m=d.length-1;0<=m;m--){var y=p[d[m]],_=y.getItemsOnPoint(i);n.push.apply(n,_)}return n}}]),t}(),SL=ml(function(t,e){(function(i,n){n(e)})(WS,function(i){function n(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function r(k){return 1e5>k?100>k?10>k?0:1:1e4>k?1e3>k?2:3:4:1e7>k?1e6>k?5:6:1e9>k?1e8>k?7:8:9}function a(k,S){if(k===S)return 0;if(~~k===k&&~~S===S){if(k===0||S===0)return k<S?-1:1;if(0>k||0>S){if(0<=S)return-1;if(0<=k)return 1;k=-k,S=-S}var x=r(k),O=r(S),D=0;return x<O?(k*=w[O-x-1],S/=10,D=-1):x>O&&(S*=w[x-O-1],k/=10,D=1),k===S?D:k<S?-1:1}var B=k+"",P=S+"";return B===P?0:B<P?-1:1}function s(k){for(var S=0;k>=32;)S|=1&k,k>>=1;return k+S}function o(k,S,x,O){var D=S+1;if(D===x)return 1;if(0>O(k[D++],k[S])){for(;D<x&&0>O(k[D],k[D-1]);)D++;c(k,S,D)}else for(;D<x&&0<=O(k[D],k[D-1]);)D++;return D-S}function c(k,S,x){for(x--;S<x;){var O=k[S];k[S++]=k[x],k[x--]=O}}function d(k,S,x,O,D){for(O===S&&O++;O<x;O++){for(var B=k[O],P=S,R=O;P<R;){var I=P+R>>>1;0>D(B,k[I])?R=I:P=I+1}var F=O-P;switch(F){case 3:k[P+3]=k[P+2];case 2:k[P+2]=k[P+1];case 1:k[P+1]=k[P];break;default:for(;0<F;)k[P+F]=k[P+F-1],F--}k[P]=B}}function p(k,S,x,O,D,B){var P=0,R=0,I=1;if(0<B(k,S[x+D])){for(R=O-D;I<R&&0<B(k,S[x+D+I]);)P=I,I=(I<<1)+1,0>=I&&(I=R);I>R&&(I=R),P+=D,I+=D}else{for(R=D+1;I<R&&0>=B(k,S[x+D-I]);)P=I,I=(I<<1)+1,0>=I&&(I=R);I>R&&(I=R);var F=P;P=D-I,I=D-F}for(P++;P<I;){var $=P+(I-P>>>1);0<B(k,S[x+$])?P=$+1:I=$}return I}function m(k,S,x,O,D,B){var P=0,R=0,I=1;if(0>B(k,S[x+D])){for(R=D+1;I<R&&0>B(k,S[x+D-I]);)P=I,I=(I<<1)+1,0>=I&&(I=R);I>R&&(I=R);var F=P;P=D-I,I=D-F}else{for(R=O-D;I<R&&0<=B(k,S[x+D+I]);)P=I,I=(I<<1)+1,0>=I&&(I=R);I>R&&(I=R),P+=D,I+=D}for(P++;P<I;){var $=P+(I-P>>>1);0>B(k,S[x+$])?I=$:P=$+1}return I}i.__esModule=!0,i.sort=function(k,S,x,O){if(!Array.isArray(k))throw new TypeError("Can only sort arrays");S?typeof S!="function"&&(O=x,x=S,S=a):S=a,x||(x=0),O||(O=k.length);var D=O-x;if(!(2>D)){var B=0;if(32>D)return B=o(k,x,O,S),void d(k,x,O,x+B,S);var P=new C(k,S),R=s(D);do{if(B=o(k,x,O,S),B<R){var I=D;I>R&&(I=R),d(k,x,x+I,x+B,S),B=I}P.pushRun(x,B),P.mergeRuns(),D-=B,x+=B}while(D!==0);P.forceMergeRuns()}};var y=7,_=256,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],C=function(){function k(S,x){n(this,k),this.array=null,this.compare=null,this.minGallop=y,this.length=0,this.tmpStorageLength=_,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=S,this.compare=x,this.length=S.length,this.length<2*_&&(this.tmpStorageLength=this.length>>>1),this.tmp=Array(this.tmpStorageLength),this.stackLength=120>this.length?5:1542>this.length?10:119151>this.length?19:40,this.runStart=Array(this.stackLength),this.runLength=Array(this.stackLength)}return k.prototype.pushRun=function(S,x){this.runStart[this.stackSize]=S,this.runLength[this.stackSize]=x,this.stackSize+=1},k.prototype.mergeRuns=function(){for(;1<this.stackSize;){var S=this.stackSize-2;if(1<=S&&this.runLength[S-1]<=this.runLength[S]+this.runLength[S+1]||2<=S&&this.runLength[S-2]<=this.runLength[S]+this.runLength[S-1])this.runLength[S-1]<this.runLength[S+1]&&S--;else if(this.runLength[S]>this.runLength[S+1])break;this.mergeAt(S)}},k.prototype.forceMergeRuns=function(){for(;1<this.stackSize;){var S=this.stackSize-2;0<S&&this.runLength[S-1]<this.runLength[S+1]&&S--,this.mergeAt(S)}},k.prototype.mergeAt=function(S){var x=this.compare,O=this.array,D=this.runStart[S],B=this.runLength[S],P=this.runStart[S+1],R=this.runLength[S+1];this.runLength[S]=B+R,S===this.stackSize-3&&(this.runStart[S+1]=this.runStart[S+2],this.runLength[S+1]=this.runLength[S+2]),this.stackSize--;var I=m(O[P],O,D,B,0,x);D+=I,B-=I,B!==0&&(R=p(O[D+B-1],O,P,R,R-1,x),R===0||(B<=R?this.mergeLow(D,B,P,R):this.mergeHigh(D,B,P,R)))},k.prototype.mergeLow=function(S,x,O,D){var B=this.compare,P=this.array,R=this.tmp,I=0;for(I=0;I<x;I++)R[I]=P[S+I];var F=0,$=O,L=S;if(P[L++]=P[$++],--D==0){for(I=0;I<x;I++)P[L+I]=R[F+I];return}if(x===1){for(I=0;I<D;I++)P[L+I]=P[$+I];return void(P[L+D]=R[F])}for(var W=this.minGallop;;){var j=0,z=0,re=!1;do if(0>B(P[$],R[F])){if(P[L++]=P[$++],z++,j=0,--D==0){re=!0;break}}else if(P[L++]=R[F++],j++,z=0,--x==1){re=!0;break}while((j|z)<W);if(re)break;do{if(j=m(P[$],R,F,x,0,B),j!==0){for(I=0;I<j;I++)P[L+I]=R[F+I];if(L+=j,F+=j,x-=j,1>=x){re=!0;break}}if(P[L++]=P[$++],--D==0){re=!0;break}if(z=p(R[F],P,$,D,0,B),z!==0){for(I=0;I<z;I++)P[L+I]=P[$+I];if(L+=z,$+=z,D-=z,D===0){re=!0;break}}if(P[L++]=R[F++],--x==1){re=!0;break}W--}while(j>=y||z>=y);if(re)break;0>W&&(W=0),W+=2}if(this.minGallop=W,1>W&&(this.minGallop=1),x===1){for(I=0;I<D;I++)P[L+I]=P[$+I];P[L+D]=R[F]}else{if(x===0)throw new Error("mergeLow preconditions were not respected");for(I=0;I<x;I++)P[L+I]=R[F+I]}},k.prototype.mergeHigh=function(S,x,O,D){var B=this.compare,P=this.array,R=this.tmp,I=0;for(I=0;I<D;I++)R[I]=P[O+I];var F=S+x-1,$=D-1,L=O+D-1,W=0,j=0;if(P[L--]=P[F--],--x==0){for(W=L-(D-1),I=0;I<D;I++)P[W+I]=R[I];return}if(D===1){for(L-=x,F-=x,j=L+1,W=F+1,I=x-1;0<=I;I--)P[j+I]=P[W+I];return void(P[L]=R[$])}for(var z=this.minGallop;;){var re=0,ce=0,ge=!1;do if(0>B(R[$],P[F])){if(P[L--]=P[F--],re++,ce=0,--x==0){ge=!0;break}}else if(P[L--]=R[$--],ce++,re=0,--D==1){ge=!0;break}while((re|ce)<z);if(ge)break;do{if(re=x-m(R[$],P,S,x,x-1,B),re!=0){for(L-=re,F-=re,x-=re,j=L+1,W=F+1,I=re-1;0<=I;I--)P[j+I]=P[W+I];if(x===0){ge=!0;break}}if(P[L--]=R[$--],--D==1){ge=!0;break}if(ce=D-p(P[F],R,0,D,D-1,B),ce!==0){for(L-=ce,$-=ce,D-=ce,j=L+1,W=$+1,I=0;I<ce;I++)P[j+I]=R[W+I];if(1>=D){ge=!0;break}}if(P[L--]=P[F--],--x==0){ge=!0;break}z--}while(re>=y||ce>=y);if(ge)break;0>z&&(z=0),z+=2}if(this.minGallop=z,1>z&&(this.minGallop=1),D===1){for(L-=x,F-=x,j=L+1,W=F+1,I=x-1;0<=I;I--)P[j+I]=P[W+I];P[L]=R[$]}else{if(D===0)throw new Error("mergeHigh preconditions were not respected");for(W=L-(D-1),I=0;I<D;I++)P[W+I]=R[I]}},k}()})});wX(SL);var tA=SL,AL=function(){function t(){Ze(this,t)}return Qe(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,i){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,i,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,i){this.fake_use(e,i),this.abstract()}},{key:"shift",value:function(e,i){this.fake_use(e,i),this.abstract()}}]),t}(),$Z=function(t){function e(i){var n;return Ze(this,e),n=Li(this,Bi(e).call(this)),n.layout=i,n}return $i(e,t),Qe(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(i,r),i.x=n}},{key:"getTreeSize",value:function(i){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:n.min_x,max:n.max_x}}},{key:"sort",value:function(i){tA.sort(i,function(n,r){return n.x-r.x})}},{key:"fix",value:function(i,n){i.y=this.layout.options.hierarchical.levelSeparation*n,i.options.fixed.y=!0}},{key:"shift",value:function(i,n){this.layout.body.nodes[i].x+=n}}]),e}(AL),FZ=function(t){function e(i){var n;return Ze(this,e),n=Li(this,Bi(e).call(this)),n.layout=i,n}return $i(e,t),Qe(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(i,r),i.y=n}},{key:"getTreeSize",value:function(i){var n=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:n.min_y,max:n.max_y}}},{key:"sort",value:function(i){tA.sort(i,function(n,r){return n.y-r.y})}},{key:"fix",value:function(i,n){i.x=this.layout.options.hierarchical.levelSeparation*n,i.options.fixed.x=!0}},{key:"shift",value:function(i,n){this.layout.body.nodes[i].y+=n}}]),e}(AL),HZ=function(){var t=Math.max,e=Math.min;function i(){Ze(this,i),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Qe(i,[{key:"addRelation",value:function(n,r){this.childrenReference[n]===void 0&&(this.childrenReference[n]=[]),this.childrenReference[n].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(n)}},{key:"checkIfTree",value:function(){for(var n in this.parentReference)if(1<this.parentReference[n].length)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(n,r){r===void 0||this.trees[n.id]===void 0&&(this.trees[n.id]=r,this.treeIndex=t(r,this.treeIndex))}},{key:"ensureLevel",value:function(n){this.levels[n]===void 0&&(this.levels[n]=0)}},{key:"getMaxLevel",value:function(n){var r=this,a={},s=function o(c){if(a[c]!==void 0)return a[c];var d=r.levels[c];if(r.childrenReference[c]){var p=r.childrenReference[c];if(0<p.length)for(var m=0;m<p.length;m++)d=t(d,o(p[m]))}return a[c]=d,d};return s(n)}},{key:"levelDownstream",value:function(n,r){this.levels[r.id]===void 0&&(this.levels[n.id]===void 0&&(this.levels[n.id]=0),this.levels[r.id]=this.levels[n.id]+1)}},{key:"setMinLevelToZero",value:function(n){var r=1e9;for(var a in n)n.hasOwnProperty(a)&&this.levels[a]!==void 0&&(r=e(this.levels[a],r));for(var s in n)n.hasOwnProperty(s)&&this.levels[s]!==void 0&&(this.levels[s]-=r)}},{key:"getTreeSize",value:function(n,r){var a=1e9,s=-1e9,o=1e9,c=-1e9;for(var d in this.trees)if(this.trees.hasOwnProperty(d)&&this.trees[d]===r){var p=n[d];a=e(p.x,a),s=t(p.x,s),o=e(p.y,o),c=t(p.y,c)}return{min_x:a,max_x:s,min_y:o,max_y:c}}},{key:"hasSameParent",value:function(n,r){var a=this.parentReference[n.id],s=this.parentReference[r.id];if(a===void 0||s===void 0)return!1;for(var o=0;o<a.length;o++)for(var c=0;c<s.length;c++)if(a[o]==s[c])return!0;return!1}},{key:"inSameSubNetwork",value:function(n,r){return this.trees[n.id]===this.trees[r.id]}},{key:"getLevels",value:function(){return Object.keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(n,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);var a=!1,s=this.distributionOrdering[r];for(var o in s)if(s[o]===n){a=!0;break}a||(this.distributionOrdering[r].push(n),this.distributionIndex[n.id]=this.distributionOrdering[r].length-1)}}]),i}(),VZ=function(){var t=Math.cos,e=Math.sin,i=Math.sqrt,n=Math.PI,r=Math.round,a=Math.pow,s=Math.max,o=Math.abs,c=Math.min,d=Math.floor;function p(m){Ze(this,p),this.body=m,this.initialRandomSeed=r(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ee.extend(this.options,this.defaultOptions),this.bindEventListeners()}return Qe(p,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.on("_dataChanged",function(){m.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){m.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){m.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(m.options.hierarchical.enabled===!0){var y=m.direction.curveType();m.body.emitter.emit("_forceDisableDynamicCurves",y,!1)}})}},{key:"setOptions",value:function(m,y){if(m!==void 0){var _=this.options.hierarchical,w=_.enabled;if(Ee.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,m),Ee.mergeOptions(this.options,m,"hierarchical"),m.randomSeed!==void 0&&(this.initialRandomSeed=m.randomSeed),_.enabled===!0)return w===!0&&this.body.emitter.emit("refresh",!0),_.direction==="RL"||_.direction==="DU"?0<_.levelSeparation&&(_.levelSeparation*=-1):0>_.levelSeparation&&(_.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(y);if(w===!0)return this.body.emitter.emit("refresh"),Ee.deepExtend(y,this.optionsBackup)}return y}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(m){if(this.options.hierarchical.enabled===!0){var y=this.optionsBackup.physics;m.physics===void 0||m.physics===!0?(m.physics={enabled:y.enabled===void 0||y.enabled,solver:"hierarchicalRepulsion"},y.enabled=y.enabled===void 0||y.enabled,y.solver=y.solver||"barnesHut"):za(m.physics)==="object"?(y.enabled=m.physics.enabled===void 0||m.physics.enabled,y.solver=m.physics.solver||"barnesHut",m.physics.solver="hierarchicalRepulsion"):m.physics!==!1&&(y.solver="barnesHut",m.physics={solver:"hierarchicalRepulsion"});var _=this.direction.curveType();if(m.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},m.edges={smooth:!1};else if(m.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},m.edges.smooth=!1;else if(typeof m.edges.smooth=="boolean")this.optionsBackup.edges={smooth:m.edges.smooth},m.edges.smooth={enabled:m.edges.smooth,type:_};else{var w=m.edges.smooth;w.type!==void 0&&w.type!=="dynamic"&&(_=w.type),this.optionsBackup.edges={smooth:w.enabled===void 0||w.enabled,type:w.type===void 0?"dynamic":w.type,roundness:w.roundness===void 0?.5:w.roundness,forceDirection:w.forceDirection!==void 0&&w.forceDirection},m.edges.smooth={enabled:w.enabled===void 0||w.enabled,type:_,roundness:w.roundness===void 0?.5:w.roundness,forceDirection:w.forceDirection!==void 0&&w.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",_)}return m}},{key:"seededRandom",value:function(){var m=1e4*e(this.randomSeed++);return m-d(m)}},{key:"positionInitially",value:function(m){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var y=m.length+50,_=0;_<m.length;_++){var w=m[_],C=2*n*this.seededRandom();w.x===void 0&&(w.x=y*t(C)),w.y===void 0&&(w.y=y*e(C))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var m=this.body.nodeIndices,y=0,_=0,w;_<m.length;_++)w=this.body.nodes[m[_]],w.predefinedPosition===!0&&(y+=1);if(y<.5*m.length){var C=0,k=150,S={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(m.length>k){for(var x=m.length;m.length>k&&10>=C;){C+=1;var O=m.length;C%3==0?this.body.modules.clustering.clusterBridges(S):this.body.modules.clustering.clusterOutliers(S);var D=m.length;if(O==D&&C%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:s(150,2*x)})}10<C&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(m,this.body.edgeIndices,!0),this._shiftToCenter();for(var B=70,P=0,R;P<m.length;P++)R=this.body.nodes[m[P]],R.predefinedPosition===!1&&(R.x+=(.5-this.seededRandom())*B,R.y+=(.5-this.seededRandom())*B);this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var m=gs.getRangeCore(this.body.nodes,this.body.nodeIndices),y=gs.findCenter(m),_=0,w;_<this.body.nodeIndices.length;_++)w=this.body.nodes[this.body.nodeIndices[_]],w.x-=y.x,w.y-=y.y}},{key:"_declusterAll",value:function(){for(var m=!0;m===!0;){m=!1;for(var y=0;y<this.body.nodeIndices.length;y++)this.body.nodes[this.body.nodeIndices[y]].isCluster===!0&&(m=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[y],{},!1));m===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&0<this.body.nodeIndices.length){var m=!1,y=!1,_,w;for(w in this.lastNodeOnLevel={},this.hierarchical=new HZ,this.body.nodes)this.body.nodes.hasOwnProperty(w)&&(_=this.body.nodes[w],_.options.level===void 0?y=!0:(m=!0,this.hierarchical.levels[w]=_.options.level));if(y===!0&&m===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(y===!0){var C=this.options.hierarchical.sortMethod;C==="hubsize"?this._determineLevelsByHubsize():C==="directed"?this._determineLevelsDirected():C==="custom"&&this._determineLevelsCustomCallback()}for(var k in this.body.nodes)this.body.nodes.hasOwnProperty(k)&&this.hierarchical.ensureLevel(k);var S=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(S),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var m=this,y=!1,_={},w=function(){for(var $=k(),L=0,W=0,j;W<$.length-1;W++)j=$[W].max-$[W+1].min,L+=j+m.options.hierarchical.treeSpacing,C(W+1,L)},C=function($,L){var W=m.hierarchical.trees;for(var j in W)W.hasOwnProperty(j)&&W[j]===$&&m.direction.shift(j,L)},k=function(){for(var $=[],L=0;L<m.hierarchical.numTrees();L++)$.push(m.direction.getTreeSize(L));return $},S=function $(L,W){if(!W[L.id]&&(W[L.id]=!0,m.hierarchical.childrenReference[L.id])){var j=m.hierarchical.childrenReference[L.id];if(0<j.length)for(var z=0;z<j.length;z++)$(m.body.nodes[j[z]],W)}},x=function($){var L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1e9,W=1e9,j=1e9,z=1e9,re=-1e9;for(var ce in $)if($.hasOwnProperty(ce)){var ge=m.body.nodes[ce],be=m.hierarchical.levels[ge.id],ue=m.direction.getPosition(ge),se=m._getSpaceAroundNode(ge,$),Z=wr(se,2),K=Z[0],q=Z[1];W=c(K,W),j=c(q,j),be<=L&&(z=c(ue,z),re=s(ue,re))}return[z,re,W,j]},O=function($,L){var W=m.hierarchical.getMaxLevel($.id),j=m.hierarchical.getMaxLevel(L.id);return c(W,j)},D=function($,L,W){for(var j=m.hierarchical,z=0;z<L.length;z++){var re=L[z],ce=j.distributionOrdering[re];if(1<ce.length)for(var ge=0;ge<ce.length-1;ge++){var be=ce[ge],ue=ce[ge+1];j.hasSameParent(be,ue)&&j.inSameSubNetwork(be,ue)&&$(be,ue,W)}}},B=function($,L){var W=2<arguments.length&&arguments[2]!==void 0&&arguments[2],j=m.direction.getPosition($),z=m.direction.getPosition(L),re=o(z-j),ce=m.options.hierarchical.nodeSpacing;if(re>ce){var ge={},be={};S($,ge),S(L,be);var ue=O($,L),se=x(ge,ue),Z=x(be,ue),K=se[1],q=Z[0],ie=Z[2],le=o(K-q);if(le>ce){var Q=K-q+ce;Q<-ie+ce&&(Q=-ie+ce),0>Q&&(m._shiftBlock(L.id,Q),y=!0,W===!0&&m._centerParent(L))}}},P=function($,L){for(var W=L.id,j=L.edges,z=m.hierarchical.levels[L.id],re=m.options.hierarchical.levelSeparation*m.options.hierarchical.levelSeparation,ce={},ge=[],be=0,ue;be<j.length;be++)if(ue=j[be],ue.toId!=ue.fromId){var se=ue.toId==W?ue.from:ue.to;ce[j[be].id]=se,m.hierarchical.levels[se.id]<z&&ge.push(ue)}var Z=function(fe,de){for(var he=0,ve=0;ve<de.length;ve++)if(ce[de[ve].id]!==void 0){var ne=m.direction.getPosition(ce[de[ve].id])-fe;he+=ne/i(ne*ne+re)}return he},K=function(fe,de){for(var he=0,ve=0;ve<de.length;ve++)if(ce[de[ve].id]!==void 0){var ne=m.direction.getPosition(ce[de[ve].id])-fe;he-=re*a(ne*ne+re,-1.5)}return he},q=function(fe,de){for(var he=m.direction.getPosition(L),ve={},ne=0;ne<fe;ne++){var Bt=Z(he,de),It=K(he,de),ht=40,Se=s(-ht,c(ht,r(Bt/It)));if(he-=Se,ve[he]!==void 0)break;ve[he]=ne}return he},ie=function(fe){var de=m.direction.getPosition(L);if(_[L.id]===void 0){var he={};S(L,he),_[L.id]=he}var ve=x(_[L.id]),ne=ve[2],Bt=ve[3],It=fe-de,ht=0;0<It?ht=c(It,Bt-m.options.hierarchical.nodeSpacing):0>It&&(ht=-c(-It,ne-m.options.hierarchical.nodeSpacing)),ht!=0&&(m._shiftBlock(L.id,ht),y=!0)},le=function(fe){var de=m.direction.getPosition(L),he=m._getSpaceAroundNode(L),ve=wr(he,2),ne=ve[0],Bt=ve[1],It=fe-de,ht=de;0<It?ht=c(de+(Bt-m.options.hierarchical.nodeSpacing),fe):0>It&&(ht=s(de-(ne-m.options.hierarchical.nodeSpacing),fe)),ht!==de&&(m.direction.setPosition(L,ht),y=!0)},Q=q($,ge);ie(Q),Q=q($,j),le(Q)},R=function($){var L=m.hierarchical.getLevels();L=L.reverse();for(var W=0;W<$;W++){y=!1;for(var j=0;j<L.length;j++)for(var z=L[j],re=m.hierarchical.distributionOrdering[z],ce=0;ce<re.length;ce++)P(1e3,re[ce]);if(y!==!0)break}},I=function($){var L=m.hierarchical.getLevels();L=L.reverse();for(var W=0;W<$&&(y=!1,D(B,L,!0),y===!0);W++);},F=function(){var $=m.hierarchical.getLevels();$=$.reverse();for(var L=0;L<$.length;L++)for(var W=$[L],j=m.hierarchical.distributionOrdering[W],z=0;z<j.length;z++)m._centerParent(j[z])};this.options.hierarchical.blockShifting===!0&&(I(5),function(){for(var $ in m.body.nodes)m.body.nodes.hasOwnProperty($)&&m._centerParent(m.body.nodes[$])}()),this.options.hierarchical.edgeMinimization===!0&&R(20),this.options.hierarchical.parentCentralization===!0&&F(),w()}},{key:"_getSpaceAroundNode",value:function(m,y){var _=!0;y===void 0&&(_=!1);var w=this.hierarchical.levels[m.id];if(w!==void 0){var C=this.hierarchical.distributionIndex[m.id],k=this.direction.getPosition(m),S=this.hierarchical.distributionOrdering[w],x=1e9,O=1e9;if(C!==0){var D=S[C-1];if(_==!0&&y[D.id]===void 0||_==!1){var B=this.direction.getPosition(D);x=k-B}}if(C!=S.length-1){var P=S[C+1];if(_==!0&&y[P.id]===void 0||_==!1){var R=this.direction.getPosition(P);O=c(O,R-k)}}return[x,O]}return[0,0]}},{key:"_centerParent",value:function(m){if(this.hierarchical.parentReference[m.id])for(var y=this.hierarchical.parentReference[m.id],_=0;_<y.length;_++){var w=y[_],C=this.body.nodes[w],k=this.hierarchical.childrenReference[w];if(k!==void 0){var S=this._getCenterPosition(k),x=this.direction.getPosition(C),O=this._getSpaceAroundNode(C),D=wr(O,2),B=D[0],P=D[1],R=x-S;(0>R&&o(R)<P-this.options.hierarchical.nodeSpacing||0<R&&o(R)<B-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(C,S)}}}},{key:"_placeNodesByHierarchy",value:function(m){for(var y in this.positionedNodes={},m)if(m.hasOwnProperty(y)){var _=Object.keys(m[y]);_=this._indexArrayToNodes(_),this.direction.sort(_);for(var w=0,C=0,k;C<_.length;C++)if(k=_[C],this.positionedNodes[k.id]===void 0){var S=this.options.hierarchical.nodeSpacing,x=S*w;0<w&&(x=this.direction.getPosition(_[C-1])+S),this.direction.setPosition(k,x,y),this._validatePositionAndContinue(k,y,x),w++}}}},{key:"_placeBranchNodes",value:function(m,y){var _=this.hierarchical.childrenReference[m];if(_!==void 0){for(var w=[],C=0;C<_.length;C++)w.push(this.body.nodes[_[C]]);this.direction.sort(w);for(var k=0;k<w.length;k++){var S=w[k],x=this.hierarchical.levels[S.id];if(x>y&&this.positionedNodes[S.id]===void 0){var O=this.options.hierarchical.nodeSpacing,D=void 0;D=k==0?this.direction.getPosition(this.body.nodes[m]):this.direction.getPosition(w[k-1])+O,this.direction.setPosition(S,D,x),this._validatePositionAndContinue(S,x,D)}else return}var B=this._getCenterPosition(w);this.direction.setPosition(this.body.nodes[m],B,y)}}},{key:"_validatePositionAndContinue",value:function(m,y,_){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[y]!==void 0){var w=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[y]]);if(_-w<this.options.hierarchical.nodeSpacing){var C=w+this.options.hierarchical.nodeSpacing-_,k=this._findCommonParent(this.lastNodeOnLevel[y],m.id);this._shiftBlock(k.withChild,C)}}this.lastNodeOnLevel[y]=m.id,this.positionedNodes[m.id]=!0,this._placeBranchNodes(m.id,y)}}},{key:"_indexArrayToNodes",value:function(m){for(var y=[],_=0;_<m.length;_++)y.push(this.body.nodes[m[_]]);return y}},{key:"_getDistribution",value:function(){var m={},y,_;for(y in this.body.nodes)if(this.body.nodes.hasOwnProperty(y)){_=this.body.nodes[y];var w=this.hierarchical.levels[y]===void 0?0:this.hierarchical.levels[y];this.direction.fix(_,w),m[w]===void 0&&(m[w]={}),m[w][y]=_}return m}},{key:"_getActiveEdges",value:function(m){var y=this,_=[];return Ee.forEach(m.edges,function(w){y.body.edgeIndices.indexOf(w.id)!==-1&&_.push(w)}),_}},{key:"_getHubSizes",value:function(){var m=this,y={},_=this.body.nodeIndices;Ee.forEach(_,function(C){var k=m.body.nodes[C],S=m._getActiveEdges(k).length;y[S]=!0});var w=[];return Ee.forEach(y,function(C){w.push(+C)}),tA.sort(w,function(C,k){return k-C}),w}},{key:"_determineLevelsByHubsize",value:function(){for(var m=this,y=function(S,x){m.hierarchical.levelDownstream(S,x)},_=this._getHubSizes(),w=function(S){var x=_[S];return x===0?"break":void Ee.forEach(m.body.nodeIndices,function(O){var D=m.body.nodes[O];x===m._getActiveEdges(D).length&&m._crawlNetwork(y,O)})},C=0,k;C<_.length&&(k=w(C),k!=="break");++C);}},{key:"_determineLevelsCustomCallback",value:function(){var m=this,y=function(){};this._crawlNetwork(function(_,w,C){var k=m.hierarchical.levels[_.id];k===void 0&&(k=m.hierarchical.levels[_.id]=1e5);var S=y(gs.cloneOptions(_,"node"),gs.cloneOptions(w,"node"),gs.cloneOptions(C,"edge"));m.hierarchical.levels[w.id]=k+S}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var m=this,y=function(_){return Ee.forEach(m.body.edges,function(w){if(w.toId===_.fromId&&w.fromId===_.toId)return!0}),!1};this._crawlNetwork(function(_,w,C){var k=m.hierarchical.levels[_.id];m.hierarchical.levels[w.id],y(C),k===void 0&&(k=m.hierarchical.levels[_.id]=1e4),m.hierarchical.levels[w.id]=C.toId==w.id?k+1:k-1}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var m=this;this._crawlNetwork(function(y,_){m.hierarchical.levels[_.id]>m.hierarchical.levels[y.id]&&m.hierarchical.addRelation(y.id,_.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var m=this,y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(){},_=1<arguments.length?arguments[1]:void 0,w={},C=function B(P,R){if(w[P.id]===void 0){m.hierarchical.setTreeIndex(P,R),w[P.id]=!0;for(var I=m._getActiveEdges(P),F=0,$,L;F<I.length;F++)L=I[F],L.connected===!0&&($=L.toId==P.id?L.from:L.to,P.id!=$.id&&(y(P,$,L),B($,R)))}};if(_===void 0){for(var k=0,S=0,x;S<this.body.nodeIndices.length;S++)if(x=this.body.nodeIndices[S],w[x]===void 0){var O=this.body.nodes[x];C(O,k),k+=1}}else{var D=this.body.nodes[_];if(D===void 0)return void console.error("Node not found:",_);C(D)}}},{key:"_shiftBlock",value:function(m,y){var _=this,w={},C=function k(S){if(!w[S]){w[S]=!0,_.direction.shift(S,y);var x=_.hierarchical.childrenReference[S];if(x!==void 0)for(var O=0;O<x.length;O++)k(x[O])}};C(m)}},{key:"_findCommonParent",value:function(m,y){var _=this,w={},C=function S(x,O){var D=_.hierarchical.parentReference[O];if(D!==void 0)for(var B=0,P;B<D.length;B++)P=D[B],x[P]=!0,S(x,P)},k=function S(x,O){var D=_.hierarchical.parentReference[O];if(D!==void 0)for(var B=0,P;B<D.length;B++){if(P=D[B],x[P]!==void 0)return{foundParent:P,withChild:O};var R=S(x,P);if(R.foundParent!==null)return R}return{foundParent:null,withChild:O}};return C(w,m),k(w,y)}},{key:"setDirectionStrategy",value:function(){var m=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";this.direction=m?new $Z(this):new FZ(this)}},{key:"_getCenterPosition",value:function(m){for(var y=1e9,_=-1e9,w=0,C;w<m.length;w++){if(C=void 0,m[w].id!==void 0)C=m[w];else{var k=m[w];C=this.body.nodes[k]}var S=this.direction.getPosition(C);y=c(y,S),_=s(_,S)}return .5*(y+_)}}]),p}(),YZ=function(){function t(e,i,n){var r=this;Ze(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ee.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){r._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return Qe(t,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,i,n){i!==void 0&&(this.options.locale=i.locale===void 0?n.locale:i.locale,this.options.locales=i.locales===void 0?n.locales:i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Ee.deepExtend(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),i=this.selectionHandler._getSelectedEdgeCount(),n=this.options.locales[this.options.locale],r=!1;this.options.addNode!==!1&&(this._createAddNodeButton(n),r=!0),this.options.addEdge!==!1&&(r===!0?this._createSeperator(1):r=!0,this._createAddEdgeButton(n)),e===1&&typeof this.options.editNode=="function"?(r===!0?this._createSeperator(2):r=!0,this._createEditNodeButton(n)):i===1&&e===0&&this.options.editEdge!==!1&&(r===!0?this._createSeperator(3):r=!0,this._createEditEdgeButton(n)),e+i!==0&&(0<e&&this.options.deleteNode!==!1?(r===!0&&this._createSeperator(4),this._createDeleteButton(n)):e===0&&this.options.deleteEdge!==!1&&(r===!0&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var i=this.selectionHandler._getSelectedNode();if(i===void 0)this.showManipulatorToolbar();else{if(this.inMode="editNode",typeof this.options.editNode!="function")throw new Error("No function has been configured to handle the editing of nodes.");if(i.isCluster!==!0){var n=Ee.deepExtend({},i.options,!1);if(n.x=i.x,n.y=i.y,this.options.editNode.length===2)this.options.editNode(n,function(r){r!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(r),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",za(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];return void this._performEditEdge(e.from,e.to)}if(this.guiEnabled===!0){var i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0){var n=this.body.edges[this.edgeBeingEditedId],r=this._getNewTargetNode(n.from.x,n.from.y),a=this._getNewTargetNode(n.to.x,n.to.y);this.temporaryIds.nodes.push(r.id),this.temporaryIds.nodes.push(a.id),this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(s){var o=n.edgeType.findBorderPositions(s);r.selected===!1&&(r.x=o.from.x,r.y=o.from.y),a.selected===!1&&(a.x=o.to.x,a.y=o.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var i=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),r=void 0;if(0<i.length){for(var a=0;a<i.length;a++)if(this.body.nodes[i[a]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else 0<n.length&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function")if(r.length===2)r({nodes:i,edges:n},function(s){s!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(s.edges),e.body.data.nodes.getDataSet().remove(s.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(i),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=this.editMode===!0?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=this.editMode===!0?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,i){var n=Ee.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+Ee.randomUUID(),n.hidden=!1,n.physics=!1,n.x=e,n.y=i;var r=this.body.functions.createNode(n);return r.shape.boundingBox={left:e,right:e,top:i,bottom:i},r}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},Ee.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindHammerToDiv(i,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(Ee.recursiveDOMDelete(this.editModeDiv),Ee.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(this.manipulationHammers.length!=0){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Ee.recursiveDOMDelete(this.manipulationDiv),Ee.recursiveDOMDelete(this.editModeDiv),Ee.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var i=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(e){var i=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(e){var i=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(e){var i=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(e){var i=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",n=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(e){var i=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(e,i,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=i,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerHTML=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i}),this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function(e,i){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=i;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,i){var n=new yd(e,{});ko.onTouch(n,i),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);i!==-1&&this.body.edgeIndices.splice(i,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var r=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);r!==-1&&this.body.nodeIndices.splice(r,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ee.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],a=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=n.isOverlappingWith(i),o=r.isOverlappingWith(i);s===!0?(this.selectedControlNode=n,a.edgeType.from=n):o===!0&&(this.selectedControlNode=r,a.edgeType.to=r),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(i);if(this.selectedControlNode!==void 0)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var r=i.x-this.lastTouch.x,a=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+a}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),r=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var a=this.selectionHandler._getAllNodesOverlappingWith(n),s=void 0,o=a.length-1;0<=o;o--)if(a[o]!==this.selectedControlNode.id){s=this.body.nodes[a[o]];break}if(s===void 0||this.selectedControlNode===void 0)r.updateEdgeType(),this.body.emitter.emit("restorePhysics");else if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var c=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===c.id?this._performEditEdge(s.id,r.to.id):this._performEditEdge(r.from.id,s.id)}this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(100<new Date().valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ee.extend({},this.body.view.translation);var i=this.lastTouch,n=this.selectionHandler.getNodeAt(i);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(n.x,n.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var a=this.body.functions.createEdge({id:"connectionEdge"+Ee.randomUUID(),from:n.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[a.id]=a,this.body.edgeIndices.push(a.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(a.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),r=void 0;this.temporaryIds.edges[0]!==void 0&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var a=this.selectionHandler._getAllNodesOverlappingWith(n),s=void 0,o=a.length-1;0<=o;o--)if(this.temporaryIds.nodes.indexOf(a[o])===-1){s=this.body.nodes[a[o]];break}if(e.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",e,i),this.temporaryIds.nodes[0]!==void 0){var c=this.body.nodes[this.temporaryIds.nodes[0]];c.x=this.canvas._XconvertDOMtoCanvas(i.x),c.y=this.canvas._YconvertDOMtoCanvas(i.y),this.body.emitter.emit("_redraw")}else{var d=i.x-this.lastTouch.x,p=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+d,y:this.lastTouch.translation.y+p}}}},{key:"_finishConnect",value:function(e){var i=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(i),r=void 0;this.temporaryIds.edges[0]!==void 0&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var a=this.selectionHandler._getAllNodesOverlappingWith(n),s=void 0,o=a.length-1;0<=o;o--)if(this.temporaryIds.nodes.indexOf(a[o])===-1){s=this.body.nodes[a[o]];break}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[r]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(r,s.id)),e.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",e,i),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var i=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",e,i,void 0,!0)}},{key:"_performAddNode",value:function(e){var i=this,n={id:Ee.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode!="function")this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar();else if(this.options.addNode.length===2)this.options.addNode(n,function(r){r!=null&&i.inMode==="addNode"&&i.body.data.nodes.getDataSet().add(r),i.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)")}},{key:"_performAddEdge",value:function(e,i){var n=this,r={from:e,to:i};if(typeof this.options.addEdge!="function")this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else if(this.options.addEdge.length===2)this.options.addEdge(r,function(a){a!=null&&n.inMode==="addEdge"&&(n.body.data.edges.getDataSet().add(a),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)")}},{key:"_performEditEdge",value:function(e,i){var n=this,r={id:this.edgeBeingEditedId,from:e,to:i,label:this.body.data.edges._data[this.edgeBeingEditedId].label},a=this.options.editEdge;if(za(a)==="object"&&(a=a.editWithoutDrag),typeof a!="function")this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else if(a.length===2)a(r,function(s){s==null||n.inMode!=="editEdge"?(n.body.edges[r.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(s),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)")}}]),t}(),qZ={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},WZ=function(){var t=Math.atan2,e=Math.cos,i=Math.sin,n=Math.sqrt,r=Math.PI,a=Math.min;function s(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;Ze(this,s),this.pixelRatio=o,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Qe(s,[{key:"insertTo",value:function(o){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=o,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(o){if(typeof o=="function")this.updateCallback=o;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(o){if(typeof o=="function")this.closeCallback=o;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(o){if(typeof o=="string")return qZ[o]}},{key:"setColor",value:function(o){var c=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(o!=="none"){var d=this._isColorString(o),p;if(d!==void 0&&(o=d),Ee.isString(o)===!0){if(Ee.isValidRGB(o)===!0){var m=o.substr(4).substr(0,o.length-5).split(",");p={r:m[0],g:m[1],b:m[2],a:1}}else if(Ee.isValidRGBA(o)===!0){var y=o.substr(5).substr(0,o.length-6).split(",");p={r:y[0],g:y[1],b:y[2],a:y[3]}}else if(Ee.isValidHex(o)===!0){var _=Ee.hexToRGB(o);p={r:_.r,g:_.g,b:_.b,a:1}}}else if(o instanceof Object&&o.r!==void 0&&o.g!==void 0&&o.b!==void 0){var w=o.a===void 0?"1.0":o.a;p={r:o.r,g:o.g,b:o.b,a:w}}if(p===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(o));this._setColor(p,c)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var o=this,c=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0];c===!0&&(this.previousColor=Ee.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){o.closeCallback!==void 0&&(o.closeCallback(),o.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor===void 0?alert("There is no last color to load..."):this.setColor(this.previousColor,!1)}},{key:"_setColor",value:function(o){var c=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];c===!0&&(this.initialColor=Ee.extend({},o)),this.color=o;var d=Ee.RGBToHSV(o.r,o.g,o.b),p=2*r,m=this.r*d.s,y=this.centerCoordinates.x+m*i(p*d.h),_=this.centerCoordinates.y+m*e(p*d.h);this.colorPickerSelector.style.left=y-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=_-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(o)}},{key:"_setOpacity",value:function(o){this.color.a=o/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(o){var c=Ee.RGBToHSV(this.color.r,this.color.g,this.color.b);c.v=o/100;var d=Ee.HSVToRGB(c.h,c.s,c.v);d.a=this.color.a,this.color=d,this._updatePicker()}},{key:"_updatePicker",value:function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.color,c=Ee.RGBToHSV(o.r,o.g,o.b),d=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1)),d.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var p=this.colorPickerCanvas.clientWidth,m=this.colorPickerCanvas.clientHeight;d.clearRect(0,0,p,m),d.putImageData(this.hueCircle,0,0),d.fillStyle="rgba(0,0,0,"+(1-c.v)+")",d.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),d.fill(),this.brightnessRange.value=100*c.v,this.opacityRange.value=100*o.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),!this.colorPickerCanvas.getContext){var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}else{var c=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var d=this;this.opacityRange.onchange=function(){d._setOpacity(this.value)},this.opacityRange.oninput=function(){d._setOpacity(this.value)},this.brightnessRange.onchange=function(){d._setBrightness(this.value)},this.brightnessRange.oninput=function(){d._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var o=this;this.drag={},this.pinch={},this.hammer=new yd(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),ko.onTouch(this.hammer,function(c){o._moveSelector(c)}),this.hammer.on("tap",function(c){o._moveSelector(c)}),this.hammer.on("panstart",function(c){o._moveSelector(c)}),this.hammer.on("panmove",function(c){o._moveSelector(c)}),this.hammer.on("panend",function(c){o._moveSelector(c)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var o=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var c=this.colorPickerCanvas.clientWidth,d=this.colorPickerCanvas.clientHeight;o.clearRect(0,0,c,d);var p,m,y,_;this.centerCoordinates={x:.5*c,y:.5*d},this.r=.49*c;var w=2*r/360,C=1/this.r,k;for(y=0;360>y;y++)for(_=0;_<this.r;_++)p=this.centerCoordinates.x+_*i(w*y),m=this.centerCoordinates.y+_*e(w*y),k=Ee.HSVToRGB(y*(1/360),_*C,1),o.fillStyle="rgb("+k.r+","+k.g+","+k.b+")",o.fillRect(p-.5,m-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,c,d)}this.generated=!0}},{key:"_moveSelector",value:function(o){var c=this.colorPickerDiv.getBoundingClientRect(),d=o.center.x-c.left,p=o.center.y-c.top,m=.5*this.colorPickerDiv.clientHeight,y=.5*this.colorPickerDiv.clientWidth,_=d-y,w=p-m,C=t(_,w),k=.98*a(n(_*_+w*w),y),S=e(C)*k+m,x=i(C)*k+y;this.colorPickerSelector.style.top=S-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=x-.5*this.colorPickerSelector.clientWidth+"px";var O=C/(2*r);O=0>O?O+1:O;var D=k/this.r,B=Ee.RGBToHSV(this.color.r,this.color.g,this.color.b);B.h=O,B.s=D;var P=Ee.HSVToRGB(B.h,B.s,B.v);P.a=this.color.a,this.color=P,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),s}(),jZ=function(){var t=Math.ceil;function e(i,n,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1;Ze(this,e),this.parent=i,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ee.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new WZ(a),this.wrapper=void 0}return Qe(e,[{key:"setOptions",value:function(i){if(i!==void 0){this.popupHistory={},this._removePopup();var n=!0;if(typeof i=="string")this.options.filter=i;else if(i instanceof Array)this.options.filter=i.join();else if(za(i)==="object"){if(i==null)throw new TypeError("options cannot be null");i.container!==void 0&&(this.options.container=i.container),i.filter!==void 0&&(this.options.filter=i.filter),i.showButton!==void 0&&(this.options.showButton=i.showButton),i.enabled!==void 0&&(n=i.enabled)}else typeof i=="boolean"?(this.options.filter=!0,n=i):typeof i=="function"&&(this.options.filter=i,n=!0);this.options.filter===!1&&(n=!1),this.options.enabled=n}this._clean()}},{key:"setModuleOptions",value:function(i){this.moduleOptions=i,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var i=this.options.filter,n=0,r=!1;for(var a in this.configureOptions)this.configureOptions.hasOwnProperty(a)&&(this.allowCreation=!1,r=!1,typeof i=="function"?(r=i(a,[]),r=r||this._handleObject(this.configureOptions[a],[a],!0)):(i===!0||i.indexOf(a)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,0<n&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),n++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var i=0;i<this.domElements.length;i++)this.wrapper.appendChild(this.domElements[i]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var i=0;i<this.domElements.length;i++)this.wrapper.removeChild(this.domElements[i]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(i){for(var n=this.moduleOptions,r=0;r<i.length;r++)if(n[i[r]]!==void 0)n=n[i[r]];else{n=void 0;break}return n}},{key:"_makeItem",value:function(i){if(this.allowCreation===!0){var n=document.createElement("div");n.className="vis-configuration vis-config-item vis-config-s"+i.length;for(var r=arguments.length,a=Array(1<r?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return a.forEach(function(o){n.appendChild(o)}),this.domElements.push(n),this.domElements.length}return 0}},{key:"_makeHeader",value:function(i){var n=document.createElement("div");n.className="vis-configuration vis-config-header",n.innerHTML=i,this._makeItem([],n)}},{key:"_makeLabel",value:function(i,n){var r=2<arguments.length&&arguments[2]!==void 0&&arguments[2],a=document.createElement("div");return a.className="vis-configuration vis-config-label vis-config-s"+n.length,a.innerHTML=r===!0?"<i><b>"+i+":</b></i>":i+":",a}},{key:"_makeDropdown",value:function(i,n,r){var a=document.createElement("select");a.className="vis-configuration vis-config-select";var s=0;n!==void 0&&i.indexOf(n)!==-1&&(s=i.indexOf(n));for(var o=0,c;o<i.length;o++)c=document.createElement("option"),c.value=i[o],o==s&&(c.selected="selected"),c.innerHTML=i[o],a.appendChild(c);var d=this;a.onchange=function(){d._update(this.value,r)};var p=this._makeLabel(r[r.length-1],r);this._makeItem(r,p,a)}},{key:"_makeRange",value:function(i,n,r){var a=i[0],s=i[1],o=i[2],c=i[3],d=document.createElement("input");d.className="vis-configuration vis-config-range";try{d.type="range",d.min=s,d.max=o}catch{}d.step=c;var p="",m=0;if(n!==void 0){var y=1.2;0>n&&n*y<s?(d.min=t(n*y),m=d.min,p="range increased"):n/y<s&&(d.min=t(n/y),m=d.min,p="range increased"),n*y>o&&o!==1&&(d.max=t(n*y),m=d.max,p="range increased"),d.value=n}else d.value=a;var _=document.createElement("input");_.className="vis-configuration vis-config-rangeinput",_.value=d.value;var w=this;d.onchange=function(){_.value=this.value,w._update(+this.value,r)},d.oninput=function(){_.value=this.value};var C=this._makeLabel(r[r.length-1],r),k=this._makeItem(r,C,d,_);p!=""&&this.popupHistory[k]!==m&&(this.popupHistory[k]=m,this._setupPopup(p,k))}},{key:"_makeButton",value:function(){var i=this;if(this.options.showButton===!0){var n=document.createElement("div");n.className="vis-configuration vis-config-button",n.innerHTML="generate options",n.onclick=function(){i._printOptions()},n.onmouseover=function(){n.className="vis-configuration vis-config-button hover"},n.onmouseout=function(){n.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(n)}}},{key:"_setupPopup",value:function(i,n){var r=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var a=document.createElement("div");a.id="vis-configuration-popup",a.className="vis-configuration-popup",a.innerHTML=i,a.onclick=function(){r._removePopup()},this.popupCounter+=1,this.popupDiv={html:a,index:n}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var i=this;if(this.popupDiv.html!==void 0){var n=this.domElements[this.popupDiv.index],r=n.getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){i.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){i._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(i,n,r){var a=document.createElement("input");a.type="checkbox",a.className="vis-configuration vis-config-checkbox",a.checked=i,n!==void 0&&(a.checked=n,n!==i&&(za(i)==="object"?n!==i.enabled&&this.changedOptions.push({path:r,value:n}):this.changedOptions.push({path:r,value:n})));var s=this;a.onchange=function(){s._update(this.checked,r)};var o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,a)}},{key:"_makeTextInput",value:function(i,n,r){var a=document.createElement("input");a.type="text",a.className="vis-configuration vis-config-text",a.value=n,n!==i&&this.changedOptions.push({path:r,value:n});var s=this;a.onchange=function(){s._update(this.value,r)};var o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,a)}},{key:"_makeColorField",value:function(i,n,r){var a=this,s=i[1],o=document.createElement("div");n=n===void 0?s:n,n==="none"?o.className="vis-configuration vis-config-colorBlock none":(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=n),n=n===void 0?s:n,o.onclick=function(){a._showColorPicker(n,o,r)};var c=this._makeLabel(r[r.length-1],r);this._makeItem(r,c,o)}},{key:"_showColorPicker",value:function(i,n,r){var a=this;n.onclick=function(){},this.colorPicker.insertTo(n),this.colorPicker.show(),this.colorPicker.setColor(i),this.colorPicker.setUpdateCallback(function(s){var o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";n.style.backgroundColor=o,a._update(o,r)}),this.colorPicker.setCloseCallback(function(){n.onclick=function(){a._showColorPicker(i,n,r)}})}},{key:"_handleObject",value:function(i){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],r=2<arguments.length&&arguments[2]!==void 0&&arguments[2],a=!1,s=this.options.filter,o=!1;for(var c in i)if(i.hasOwnProperty(c)){a=!0;var d=i[c],p=Ee.copyAndExtendArray(n,c);if(typeof s=="function"&&(a=s(c,n),a===!1&&!(d instanceof Array)&&typeof d!="string"&&typeof d!="boolean"&&d instanceof Object&&(this.allowCreation=!1,a=this._handleObject(d,p,!0),this.allowCreation=r===!1)),a!==!1){o=!0;var m=this._getValue(p);if(d instanceof Array)this._handleArray(d,m,p);else if(typeof d=="string")this._makeTextInput(d,m,p);else if(typeof d=="boolean")this._makeCheckbox(d,m,p);else if(d instanceof Object){var y=!0;if(n.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==c&&(y=!1),y==!0)if(d.enabled!==void 0){var _=Ee.copyAndExtendArray(p,"enabled"),w=this._getValue(_);if(w===!0){var C=this._makeLabel(c,p,!0);this._makeItem(p,C),o=this._handleObject(d,p)||o}else this._makeCheckbox(d,w,p)}else{var k=this._makeLabel(c,p,!0);this._makeItem(p,k),o=this._handleObject(d,p)||o}}else console.error("dont know how to handle",d,c,p)}}return o}},{key:"_handleArray",value:function(i,n,r){typeof i[0]=="string"&&i[0]==="color"?(this._makeColorField(i,n,r),i[1]!==n&&this.changedOptions.push({path:r,value:n})):typeof i[0]=="string"?(this._makeDropdown(i,n,r),i[0]!==n&&this.changedOptions.push({path:r,value:n})):typeof i[0]=="number"&&(this._makeRange(i,n,r),i[0]!==n&&this.changedOptions.push({path:r,value:+n}))}},{key:"_update",value:function(i,n){var r=this._constructOptions(i,n);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}},{key:"_constructOptions",value:function(i,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},a=r;i=i==="true"||i,i=i!=="false"&&i;for(var s=0;s<n.length;s++)n[s]!=="global"&&(a[n[s]]===void 0&&(a[n[s]]={}),s==n.length-1?a[n[s]]=i:a=a[n[s]]);return r}},{key:"_printOptions",value:function(){var i=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(i,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var i={},n=0;n<this.changedOptions.length;n++)this._constructOptions(this.changedOptions[n].value,this.changedOptions[n].path,i);return i}}]),e}(),Ke="string",He="boolean",Re="number",qy="array",Et="object",IM="dom",zZ="any",jT=["arrow","circle","bar"],hg={configure:{enabled:{boolean:He},filter:{boolean:He,string:Ke,array:qy,function:"function"},container:{dom:IM},showButton:{boolean:He},__type__:{object:Et,boolean:He,string:Ke,array:qy,function:"function"}},edges:{arrows:{to:{enabled:{boolean:He},scaleFactor:{number:Re},type:{string:jT},__type__:{object:Et,boolean:He}},middle:{enabled:{boolean:He},scaleFactor:{number:Re},type:{string:jT},__type__:{object:Et,boolean:He}},from:{enabled:{boolean:He},scaleFactor:{number:Re},type:{string:jT},__type__:{object:Et,boolean:He}},__type__:{string:["from","to","middle"],object:Et}},arrowStrikethrough:{boolean:He},background:{enabled:{boolean:He},color:{string:Ke},size:{number:Re},dashes:{boolean:He,array:qy},__type__:{object:Et,boolean:He}},chosen:{label:{boolean:He,function:"function"},edge:{boolean:He,function:"function"},__type__:{object:Et,boolean:He}},color:{color:{string:Ke},highlight:{string:Ke},hover:{string:Ke},inherit:{string:["from","to","both"],boolean:He},opacity:{number:Re},__type__:{object:Et,string:Ke}},dashes:{boolean:He,array:qy},font:{color:{string:Ke},size:{number:Re},face:{string:Ke},background:{string:Ke},strokeWidth:{number:Re},strokeColor:{string:Ke},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:Re},multi:{boolean:He,string:Ke},bold:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},boldital:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},ital:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},mono:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},__type__:{object:Et,string:Ke}},hidden:{boolean:He},hoverWidth:{function:"function",number:Re},label:{string:Ke,undefined:"undefined"},labelHighlightBold:{boolean:He},length:{number:Re,undefined:"undefined"},physics:{boolean:He},scaling:{min:{number:Re},max:{number:Re},label:{enabled:{boolean:He},min:{number:Re},max:{number:Re},maxVisible:{number:Re},drawThreshold:{number:Re},__type__:{object:Et,boolean:He}},customScalingFunction:{function:"function"},__type__:{object:Et}},selectionWidth:{function:"function",number:Re},selfReferenceSize:{number:Re},shadow:{enabled:{boolean:He},color:{string:Ke},size:{number:Re},x:{number:Re},y:{number:Re},__type__:{object:Et,boolean:He}},smooth:{enabled:{boolean:He},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:Re},forceDirection:{string:["horizontal","vertical","none"],boolean:He},__type__:{object:Et,boolean:He}},title:{string:Ke,undefined:"undefined"},width:{number:Re},widthConstraint:{maximum:{number:Re},__type__:{object:Et,boolean:He,number:Re}},value:{number:Re,undefined:"undefined"},__type__:{object:Et}},groups:{useDefaultGroups:{boolean:He},__any__:"get from nodes, will be overwritten below",__type__:{object:Et}},interaction:{dragNodes:{boolean:He},dragView:{boolean:He},hideEdgesOnDrag:{boolean:He},hideEdgesOnZoom:{boolean:He},hideNodesOnDrag:{boolean:He},hover:{boolean:He},keyboard:{enabled:{boolean:He},speed:{x:{number:Re},y:{number:Re},zoom:{number:Re},__type__:{object:Et}},bindToWindow:{boolean:He},__type__:{object:Et,boolean:He}},multiselect:{boolean:He},navigationButtons:{boolean:He},selectable:{boolean:He},selectConnectedEdges:{boolean:He},hoverConnectedEdges:{boolean:He},tooltipDelay:{number:Re},zoomView:{boolean:He},zoomSpeed:{number:Re},__type__:{object:Et}},layout:{randomSeed:{undefined:"undefined",number:Re},improvedLayout:{boolean:He},hierarchical:{enabled:{boolean:He},levelSeparation:{number:Re},nodeSpacing:{number:Re},treeSpacing:{number:Re},blockShifting:{boolean:He},edgeMinimization:{boolean:He},parentCentralization:{boolean:He},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:Et,boolean:He}},__type__:{object:Et}},manipulation:{enabled:{boolean:He},initiallyActive:{boolean:He},addNode:{boolean:He,function:"function"},addEdge:{boolean:He,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Et,boolean:He,function:"function"}},deleteNode:{boolean:He,function:"function"},deleteEdge:{boolean:He,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:Et,boolean:He}},nodes:{borderWidth:{number:Re},borderWidthSelected:{number:Re,undefined:"undefined"},brokenImage:{string:Ke,undefined:"undefined"},chosen:{label:{boolean:He,function:"function"},node:{boolean:He,function:"function"},__type__:{object:Et,boolean:He}},color:{border:{string:Ke},background:{string:Ke},highlight:{border:{string:Ke},background:{string:Ke},__type__:{object:Et,string:Ke}},hover:{border:{string:Ke},background:{string:Ke},__type__:{object:Et,string:Ke}},__type__:{object:Et,string:Ke}},fixed:{x:{boolean:He},y:{boolean:He},__type__:{object:Et,boolean:He}},font:{align:{string:Ke},color:{string:Ke},size:{number:Re},face:{string:Ke},background:{string:Ke},strokeWidth:{number:Re},strokeColor:{string:Ke},vadjust:{number:Re},multi:{boolean:He,string:Ke},bold:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},boldital:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},ital:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},mono:{color:{string:Ke},size:{number:Re},face:{string:Ke},mod:{string:Ke},vadjust:{number:Re},__type__:{object:Et,string:Ke}},__type__:{object:Et,string:Ke}},group:{string:Ke,number:Re,undefined:"undefined"},heightConstraint:{minimum:{number:Re},valign:{string:Ke},__type__:{object:Et,boolean:He,number:Re}},hidden:{boolean:He},icon:{face:{string:Ke},code:{string:Ke},size:{number:Re},color:{string:Ke},__type__:{object:Et}},id:{string:Ke,number:Re},image:{selected:{string:Ke,undefined:"undefined"},unselected:{string:Ke,undefined:"undefined"},__type__:{object:Et,string:Ke}},label:{string:Ke,undefined:"undefined"},labelHighlightBold:{boolean:He},level:{number:Re,undefined:"undefined"},margin:{top:{number:Re},right:{number:Re},bottom:{number:Re},left:{number:Re},__type__:{object:Et,number:Re}},mass:{number:Re},physics:{boolean:He},scaling:{min:{number:Re},max:{number:Re},label:{enabled:{boolean:He},min:{number:Re},max:{number:Re},maxVisible:{number:Re},drawThreshold:{number:Re},__type__:{object:Et,boolean:He}},customScalingFunction:{function:"function"},__type__:{object:Et}},shadow:{enabled:{boolean:He},color:{string:Ke},size:{number:Re},x:{number:Re},y:{number:Re},__type__:{object:Et,boolean:He}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:He,array:qy},borderRadius:{number:Re},interpolation:{boolean:He},useImageSize:{boolean:He},useBorderWithImage:{boolean:He},__type__:{object:Et}},size:{number:Re},title:{string:Ke,dom:IM,undefined:"undefined"},value:{number:Re,undefined:"undefined"},widthConstraint:{minimum:{number:Re},maximum:{number:Re},__type__:{object:Et,boolean:He,number:Re}},x:{number:Re},y:{number:Re},__type__:{object:Et}},physics:{enabled:{boolean:He},barnesHut:{gravitationalConstant:{number:Re},centralGravity:{number:Re},springLength:{number:Re},springConstant:{number:Re},damping:{number:Re},avoidOverlap:{number:Re},__type__:{object:Et}},forceAtlas2Based:{gravitationalConstant:{number:Re},centralGravity:{number:Re},springLength:{number:Re},springConstant:{number:Re},damping:{number:Re},avoidOverlap:{number:Re},__type__:{object:Et}},repulsion:{centralGravity:{number:Re},springLength:{number:Re},springConstant:{number:Re},nodeDistance:{number:Re},damping:{number:Re},__type__:{object:Et}},hierarchicalRepulsion:{centralGravity:{number:Re},springLength:{number:Re},springConstant:{number:Re},nodeDistance:{number:Re},damping:{number:Re},__type__:{object:Et}},maxVelocity:{number:Re},minVelocity:{number:Re},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:He},iterations:{number:Re},updateInterval:{number:Re},onlyDynamicEdges:{boolean:He},fit:{boolean:He},__type__:{object:Et,boolean:He}},timestep:{number:Re},adaptiveTimestep:{boolean:He},__type__:{object:Et,boolean:He}},autoResize:{boolean:He},clickToUse:{boolean:He},locale:{string:Ke},locales:{__any__:{any:zZ},__type__:{object:Et}},height:{string:Ke},width:{string:Ke},__type__:{object:Et}};hg.groups.__any__=hg.nodes,hg.manipulation.controlNodeStyle=hg.nodes;var XZ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}},KZ=function(){var t=Math.min;function e(){Ze(this,e)}return Qe(e,[{key:"getDistances",value:function(i,n,r){for(var a={},s=i.edges,o=0;o<n.length;o++){var c=n[o],d={};a[c]=d;for(var p=0;p<n.length;p++)d[n[p]]=o==p?0:1e9}for(var m=0,y;m<r.length;m++)y=s[r[m]],y.connected===!0&&a[y.fromId]!==void 0&&a[y.toId]!==void 0&&(a[y.fromId][y.toId]=1,a[y.toId][y.fromId]=1);for(var _=n.length,w=0;w<_;w++)for(var C=n[w],k=a[C],S=0;S<_-1;S++)for(var x=n[S],O=a[x],D=S+1;D<_;D++){var B=n[D],P=a[B],R=t(O[B],O[C]+k[B]);O[B]=R,P[x]=R}return a}}]),e}(),ZZ=function(){var t=Math.sqrt,e=Math.pow,i=Math.max,n=Math.min;function r(a,s,o){Ze(this,r),this.body=a,this.springLength=s,this.springConstant=o,this.distanceSolver=new KZ}return Qe(r,[{key:"setOptions",value:function(a){a&&(a.springLength&&(this.springLength=a.springLength),a.springConstant&&(this.springConstant=a.springConstant))}},{key:"solve",value:function(a,s){var o=2<arguments.length&&arguments[2]!==void 0&&arguments[2],c=this.distanceSolver.getDistances(this.body,a,s);this._createL_matrix(c),this._createK_matrix(c),this._createE_matrix();for(var d=0,p=i(1e3,n(10*this.body.nodeIndices.length,6e3)),m=1e9,y=0,_=0,w=0,C=0,k=0;m>.01&&d<p;){d+=1;var S=this._getHighestEnergyNode(o),x=wr(S,4);for(y=x[0],m=x[1],_=x[2],w=x[3],C=m,k=0;C>1&&k<5;){k+=1,this._moveNode(y,_,w);var O=this._getEnergy(y),D=wr(O,3);C=D[0],_=D[1],w=D[2]}}}},{key:"_getHighestEnergyNode",value:function(a){for(var s=this.body.nodeIndices,o=this.body.nodes,c=0,d=s[0],p=0,m=0,y=0,_;y<s.length;y++)if(_=s[y],o[_].predefinedPosition===!1||o[_].isCluster===!0&&a===!0||o[_].options.fixed.x===!0||o[_].options.fixed.y===!0){var w=this._getEnergy(_),C=wr(w,3),k=C[0],S=C[1],x=C[2];c<k&&(c=k,d=_,p=S,m=x)}return[d,c,p,m]}},{key:"_getEnergy",value:function(a){var s=wr(this.E_sums[a],2),o=s[0],c=s[1],d=t(e(o,2)+e(c,2));return[d,o,c]}},{key:"_moveNode",value:function(a,s,o){for(var c=this.body.nodeIndices,d=this.body.nodes,p=0,m=0,y=0,_=d[a].x,w=d[a].y,C=this.K_matrix[a],k=this.L_matrix[a],S=0,x;S<c.length;S++)if(x=c[S],x!==a){var O=d[x].x,D=d[x].y,B=C[x],P=k[x],R=1/e(e(_-O,2)+e(w-D,2),1.5);p+=B*(1-P*e(w-D,2)*R),m+=B*(P*(_-O)*(w-D)*R),y+=B*(1-P*e(_-O,2)*R)}var I=p,F=m,$=s,L=y,W=($/I+o/F)/(F/I-L/F);d[a].x+=-(F*W+$)/I,d[a].y+=W,this._updateE_matrix(a)}},{key:"_createL_matrix",value:function(a){var s=this.body.nodeIndices,o=this.springLength;this.L_matrix=[];for(var c=0;c<s.length;c++){this.L_matrix[s[c]]={};for(var d=0;d<s.length;d++)this.L_matrix[s[c]][s[d]]=o*a[s[c]][s[d]]}}},{key:"_createK_matrix",value:function(a){var s=this.body.nodeIndices,o=this.springConstant;this.K_matrix=[];for(var c=0;c<s.length;c++){this.K_matrix[s[c]]={};for(var d=0;d<s.length;d++)this.K_matrix[s[c]][s[d]]=o*e(a[s[c]][s[d]],-2)}}},{key:"_createE_matrix",value:function(){var a=this.body.nodeIndices,s=this.body.nodes;this.E_matrix={},this.E_sums={};for(var o=0;o<a.length;o++)this.E_matrix[a[o]]=[];for(var c=0;c<a.length;c++){for(var d=a[c],p=s[d].x,m=s[d].y,y=0,_=0,w=c,C;w<a.length;w++)if(C=a[w],C!==d){var k=s[C].x,S=s[C].y,x=1/t(e(p-k,2)+e(m-S,2));this.E_matrix[d][w]=[this.K_matrix[d][C]*(p-k-this.L_matrix[d][C]*(p-k)*x),this.K_matrix[d][C]*(m-S-this.L_matrix[d][C]*(m-S)*x)],this.E_matrix[C][c]=this.E_matrix[d][w],y+=this.E_matrix[d][w][0],_+=this.E_matrix[d][w][1]}this.E_sums[d]=[y,_]}}},{key:"_updateE_matrix",value:function(a){for(var s=this.body.nodeIndices,o=this.body.nodes,c=this.E_matrix[a],d=this.K_matrix[a],p=this.L_matrix[a],m=o[a].x,y=o[a].y,_=0,w=0,C=0,k;C<s.length;C++)if(k=s[C],k!==a){var S=c[C],x=S[0],O=S[1],D=o[k].x,B=o[k].y,P=1/t(e(m-D,2)+e(y-B,2)),R=d[k]*(m-D-p[k]*(m-D)*P),I=d[k]*(y-B-p[k]*(y-B)*P);c[C]=[R,I],_+=R,w+=I;var F=this.E_sums[k];F[0]+=R-x,F[1]+=I-O}this.E_sums[a]=[_,w]}}]),r}();function bt(t,e,i){var n=this;if(!(this instanceof bt))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:xK,clickToUse:!1},Ee.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new MK(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new PK,this.canvas=new OZ(this.body),this.selectionHandler=new BZ(this.body,this.canvas),this.interactionHandler=new LZ(this.body,this.canvas,this.selectionHandler),this.view=new NZ(this.body,this.canvas),this.renderer=new PZ(this.body,this.canvas),this.physics=new DZ(this.body),this.layoutEngine=new VZ(this.body),this.clustering=new RZ(this.body),this.manipulation=new YZ(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new uZ(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new TZ(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new ZZ(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}XU(bt.prototype),bt.prototype.setOptions=function(t){var e=this;if(t===null&&(t=void 0),t!==void 0){var i=cZ.validate(t,hg);if(i===!0&&console.log("%cErrors have been found in the supplied options object.",V0),Ee.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(!this.configurator&&(this.configurator=new jZ(this,this.body.container,XZ,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ee.deepExtend(n.nodes,this.nodesHandler.options),Ee.deepExtend(n.edges,this.edgesHandler.options),Ee.deepExtend(n.layout,this.layoutEngine.options),Ee.deepExtend(n.interaction,this.selectionHandler.options),Ee.deepExtend(n.interaction,this.renderer.options),Ee.deepExtend(n.interaction,this.interactionHandler.options),Ee.deepExtend(n.manipulation,this.manipulation.options),Ee.deepExtend(n.physics,this.physics.options),Ee.deepExtend(n.global,this.canvas.options),Ee.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse===void 0?this.body.emitter.emit("activate"):t.clickToUse===!0?this.activator===void 0&&(this.activator=new AK(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},bt.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||t[i].options.hidden!==!1||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],a=t[r.fromId],s=t[r.toId],o=!this.clustering._isClusteredEdge(n)&&r.options.hidden===!1&&a!==void 0&&s!==void 0&&a.options.hidden===!1&&s.options.hidden===!1;o&&this.body.edgeIndices.push(r.id)}},bt.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},bt.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=OX.DOTToGraph(t.dot);return void this.setData(e)}if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=UX.parseGephi(t.gephi);return void this.setData(i)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},bt.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];Ee.recursiveDOMDelete(this.body.container)},bt.prototype._updateValueRange=function(t){var e=void 0,i=void 0,n=0,r;for(r in t)if(t.hasOwnProperty(r)){var a=t[r].getValue();a!==void 0&&(e=e===void 0?a:Math.min(a,e),i=i===void 0?a:Math.max(a,i),n+=a)}if(e!==void 0&&i!==void 0)for(r in t)t.hasOwnProperty(r)&&t[r].setValueRange(e,i,n)},bt.prototype.isActive=function(){return!this.activator||this.activator.active},bt.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},bt.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},bt.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},bt.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},bt.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},bt.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},bt.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},bt.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},bt.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},bt.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},bt.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},bt.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},bt.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},bt.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},bt.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},bt.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},bt.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},bt.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},bt.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},bt.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},bt.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},bt.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},bt.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},bt.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},bt.prototype.getConnectedNodes=function(t){return this.body.nodes[t]===void 0?this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments):this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)},bt.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},bt.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},bt.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},bt.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},bt.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},bt.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},bt.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},bt.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},bt.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t},bt.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t},bt.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},bt.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},bt.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},bt.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},bt.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},bt.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},bt.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},bt.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},bt.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},bt.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},bt.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var Uf=ml(function(t,e){e.prepareElements=function(i){for(var n in i)i.hasOwnProperty(n)&&(i[n].redundant=i[n].used,i[n].used=[])},e.cleanupElements=function(i){for(var n in i)if(i.hasOwnProperty(n)&&i[n].redundant){for(var r=0;r<i[n].redundant.length;r++)i[n].redundant[r].parentNode.removeChild(i[n].redundant[r]);i[n].redundant=[]}},e.resetElements=function(i){e.prepareElements(i),e.cleanupElements(i),e.prepareElements(i)},e.getSVGElement=function(i,n,r){var a;return n.hasOwnProperty(i)?0<n[i].redundant.length?(a=n[i].redundant[0],n[i].redundant.shift()):(a=document.createElementNS("http://www.w3.org/2000/svg",i),r.appendChild(a)):(a=document.createElementNS("http://www.w3.org/2000/svg",i),n[i]={used:[],redundant:[]},r.appendChild(a)),n[i].used.push(a),a},e.getDOMElement=function(i,n,r,a){var s;return n.hasOwnProperty(i)?0<n[i].redundant.length?(s=n[i].redundant[0],n[i].redundant.shift()):(s=document.createElement(i),a===void 0?r.appendChild(s):r.insertBefore(s,a)):(s=document.createElement(i),n[i]={used:[],redundant:[]},a===void 0?r.appendChild(s):r.insertBefore(s,a)),n[i].used.push(s),s},e.drawPoint=function(i,n,r,a,s,o){var c;if(r.style=="circle"?(c=e.getSVGElement("circle",a,s),c.setAttributeNS(null,"cx",i),c.setAttributeNS(null,"cy",n),c.setAttributeNS(null,"r",.5*r.size)):(c=e.getSVGElement("rect",a,s),c.setAttributeNS(null,"x",i-.5*r.size),c.setAttributeNS(null,"y",n-.5*r.size),c.setAttributeNS(null,"width",r.size),c.setAttributeNS(null,"height",r.size)),r.styles!==void 0&&c.setAttributeNS(null,"style",r.styles),c.setAttributeNS(null,"class",r.className+" vis-point"),o){var d=e.getSVGElement("text",a,s);o.xOffset&&(i+=o.xOffset),o.yOffset&&(n+=o.yOffset),o.content&&(d.textContent=o.content),o.className&&d.setAttributeNS(null,"class",o.className+" vis-label"),d.setAttributeNS(null,"x",i),d.setAttributeNS(null,"y",n)}return c},e.drawBar=function(i,n,r,a,s,o,c,d){if(a!=0){0>a&&(a*=-1,n-=a);var p=e.getSVGElement("rect",o,c);p.setAttributeNS(null,"x",i-.5*r),p.setAttributeNS(null,"y",n),p.setAttributeNS(null,"width",r),p.setAttributeNS(null,"height",a),p.setAttributeNS(null,"class",s),d&&p.setAttributeNS(null,"style",d)}}});Uf.prepareElements;Uf.cleanupElements;Uf.resetElements;Uf.getSVGElement;Uf.getDOMElement;Uf.drawPoint;Uf.drawBar;ml(function(t){var e=Math.round,i=Math.pow,n=Math.max,r=Math.abs,a=Math.min,s=Math.floor,o=Math.ceil;(function(c,d){t.exports=d()})(WS,function(){function c(){return Rs.apply(null,arguments)}function d(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function p(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function m(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;for(var h in l)if(l.hasOwnProperty(h))return!1;return!0}function y(l){return l===void 0}function _(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function w(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function C(l,h){var b=[],T;for(T=0;T<l.length;++T)b.push(h(l[T],T));return b}function k(l,h){return Object.prototype.hasOwnProperty.call(l,h)}function S(l,h){for(var b in h)k(h,b)&&(l[b]=h[b]);return k(h,"toString")&&(l.toString=h.toString),k(h,"valueOf")&&(l.valueOf=h.valueOf),l}function x(l,h,b,T){return hr(l,h,b,T,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function D(l){return l._pf==null&&(l._pf=O()),l._pf}function B(l){if(l._isValid==null){var h=D(l),b=Ms.call(h.parsedDateParts,function(M){return M!=null}),T=!isNaN(l._d.getTime())&&0>h.overflow&&!h.empty&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&b);if(l._strict&&(T=T&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=T;else return T}return l._isValid}function P(l){var h=x(NaN);return l==null?D(h).userInvalidated=!0:S(D(h),l),h}function R(l,h){var b,T,M;if(y(h._isAMomentObject)||(l._isAMomentObject=h._isAMomentObject),y(h._i)||(l._i=h._i),y(h._f)||(l._f=h._f),y(h._l)||(l._l=h._l),y(h._strict)||(l._strict=h._strict),y(h._tzm)||(l._tzm=h._tzm),y(h._isUTC)||(l._isUTC=h._isUTC),y(h._offset)||(l._offset=h._offset),y(h._pf)||(l._pf=D(h)),y(h._locale)||(l._locale=h._locale),0<Ia.length)for(b=0;b<Ia.length;b++)T=Ia[b],M=h[T],y(M)||(l[T]=M);return l}function I(l){R(this,l),this._d=new Date(l._d==null?NaN:l._d.getTime()),this.isValid()||(this._d=new Date(NaN)),es===!1&&(es=!0,c.updateOffset(this),es=!1)}function F(l){return l instanceof I||l!=null&&l._isAMomentObject!=null}function $(l){return 0>l?o(l)||0:s(l)}function L(l){var h=+l,b=0;return h!=0&&isFinite(h)&&(b=$(h)),b}function W(l,h,b){var T=a(l.length,h.length),M=r(l.length-h.length),G=0,ee;for(ee=0;ee<T;ee++)(b&&l[ee]!==h[ee]||!b&&L(l[ee])!==L(h[ee]))&&G++;return G+M}function j(l){c.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function z(l,h){var b=!0;return S(function(){if(c.deprecationHandler!=null&&c.deprecationHandler(null,l),b){for(var T=[],M=0,G;M<arguments.length;M++){if(G="",typeof arguments[M]=="object"){for(var ee in G+=`
[`+M+"] ",arguments[0])G+=ee+": "+arguments[0][ee]+", ";G=G.slice(0,-2)}else G=arguments[M];T.push(G)}j(l+`
Arguments: `+Array.prototype.slice.call(T).join("")+`
`+new Error().stack),b=!1}return h.apply(this,arguments)},h)}function re(l,h){c.deprecationHandler!=null&&c.deprecationHandler(l,h),Fo[l]||(j(h),Fo[l]=!0)}function ce(l){return l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function ge(l){var h,b;for(b in l)h=l[b],ce(h)?this[b]=h:this["_"+b]=h;this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function be(l,h){var b=S({},l),T;for(T in h)k(h,T)&&(p(l[T])&&p(h[T])?(b[T]={},S(b[T],l[T]),S(b[T],h[T])):h[T]==null?delete b[T]:b[T]=h[T]);for(T in l)k(l,T)&&!k(h,T)&&p(l[T])&&(b[T]=S({},b[T]));return b}function ue(l){l!=null&&this.set(l)}function se(l,h){var b=l.toLowerCase();Zn[b]=Zn[b+"s"]=Zn[h]=l}function Z(l){return typeof l=="string"?Zn[l]||Zn[l.toLowerCase()]:void 0}function K(l){var h={},b,T;for(T in l)k(l,T)&&(b=Z(T),b&&(h[b]=l[T]));return h}function q(l,h){Qn[l]=h}function ie(l){var h=[];for(var b in l)h.push({unit:b,priority:Qn[b]});return h.sort(function(T,M){return T.priority-M.priority}),h}function le(l,h,b){var T=""+r(l),M=h-T.length;return(0<=l?b?"+":"":"-")+i(10,n(0,M)).toString().substr(1)+T}function Q(l,h,b,T){var M=T;typeof T=="string"&&(M=function(){return this[T]()}),l&&(xn[l]=M),h&&(xn[h[0]]=function(){return le(M.apply(this,arguments),h[1],h[2])}),b&&(xn[b]=function(){return this.localeData().ordinal(M.apply(this,arguments),l)})}function fe(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function de(l){var h=l.match(El),b,T;for(b=0,T=h.length;b<T;b++)h[b]=xn[h[b]]?xn[h[b]]:fe(h[b]);return function(M){var G="",ee;for(ee=0;ee<T;ee++)G+=ce(h[ee])?h[ee].call(M,l):h[ee];return G}}function he(l,h){return l.isValid()?(h=ve(h,l.localeData()),Ma[h]=Ma[h]||de(h),Ma[h](l)):l.localeData().invalidDate()}function ve(l,h){function b(M){return h.longDateFormat(M)||M}var T=5;for(ca.lastIndex=0;0<=T&&ca.test(l);)l=l.replace(ca,b),ca.lastIndex=0,T-=1;return l}function ne(l,h,b){Os[l]=ce(h)?h:function(T){return T&&b?b:h}}function Bt(l,h){return k(Os,l)?Os[l](h._strict,h._locale):new RegExp(It(l))}function It(l){return ht(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,b,T,M,G){return b||T||M||G}))}function ht(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Se(l,h){var b=h,T;for(typeof l=="string"&&(l=[l]),_(h)&&(b=function(M,G){G[h]=L(M)}),T=0;T<l.length;T++)ts[l[T]]=b}function Jt(l,h){Se(l,function(b,T,M,G){M._w=M._w||{},h(b,M._w,M,G)})}function $t(l,h,b){h!=null&&k(ts,l)&&ts[l](h,b._a,b,l)}function St(l){return xt(l)?366:365}function xt(l){return l%4==0&&l%100!=0||l%400==0}function Ct(l,h){return function(b){return b==null?nt(this,l):(De(this,l,b),c.updateOffset(this,h),this)}}function nt(l,h){return l.isValid()?l._d["get"+(l._isUTC?"UTC":"")+h]():NaN}function De(l,h,b){l.isValid()&&!isNaN(b)&&(h==="FullYear"&&xt(l.year())&&l.month()===1&&l.date()===29?l._d["set"+(l._isUTC?"UTC":"")+h](b,l.month(),st(b,l.month())):l._d["set"+(l._isUTC?"UTC":"")+h](b))}function Ve(l,h){if(typeof l=="object"){l=K(l);for(var b=ie(l),T=0;T<b.length;T++)this[b[T].unit](l[b[T].unit])}else if(l=Z(l),ce(this[l]))return this[l](h);return this}function Pt(l,h){return(l%h+h)%h}function st(l,h){if(isNaN(l)||isNaN(h))return NaN;var b=Pt(h,12);return l+=(h-b)/12,b===1?xt(l)?29:28:31-b%7%2}function _i(l,h,b){var T=l.toLocaleLowerCase(),M,G,ee;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],M=0;12>M;++M)ee=x([2e3,M]),this._shortMonthsParse[M]=this.monthsShort(ee,"").toLocaleLowerCase(),this._longMonthsParse[M]=this.months(ee,"").toLocaleLowerCase();return b?h==="MMM"?(G=ct.call(this._shortMonthsParse,T),G===-1?null:G):(G=ct.call(this._longMonthsParse,T),G===-1?null:G):h==="MMM"?(G=ct.call(this._shortMonthsParse,T),G!==-1?G:(G=ct.call(this._longMonthsParse,T),G===-1?null:G)):(G=ct.call(this._longMonthsParse,T),G!==-1?G:(G=ct.call(this._shortMonthsParse,T),G===-1?null:G))}function mi(l,h,b){var T,M,G;if(this._monthsParseExact)return _i.call(this,l,h,b);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),T=0;12>T;T++)if(M=x([2e3,T]),b&&!this._longMonthsParse[T]&&(this._longMonthsParse[T]=new RegExp("^"+this.months(M,"").replace(".","")+"$","i"),this._shortMonthsParse[T]=new RegExp("^"+this.monthsShort(M,"").replace(".","")+"$","i")),b||this._monthsParse[T]||(G="^"+this.months(M,"")+"|^"+this.monthsShort(M,""),this._monthsParse[T]=new RegExp(G.replace(".",""),"i")),b&&h==="MMMM"&&this._longMonthsParse[T].test(l)||b&&h==="MMM"&&this._shortMonthsParse[T].test(l)||!b&&this._monthsParse[T].test(l))return T}function wi(l,h){var b;if(!l.isValid())return l;if(typeof h=="string"){if(/^\d+$/.test(h))h=L(h);else if(h=l.localeData().monthsParse(h),!_(h))return l}return b=a(l.date(),st(l.year(),h)),l._d["set"+(l._isUTC?"UTC":"")+"Month"](h,b),l}function Ei(l){return l==null?nt(this,"Month"):(wi(this,l),c.updateOffset(this,!0),this)}function di(){function l(ee,we){return we.length-ee.length}var h=[],b=[],T=[],M,G;for(M=0;12>M;M++)G=x([2e3,M]),h.push(this.monthsShort(G,"")),b.push(this.months(G,"")),T.push(this.months(G,"")),T.push(this.monthsShort(G,""));for(h.sort(l),b.sort(l),T.sort(l),M=0;12>M;M++)h[M]=ht(h[M]),b[M]=ht(b[M]);for(M=0;24>M;M++)T[M]=ht(T[M]);this._monthsRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Xi(l,h,b,T,M,G,ee){var we;return 100>l&&0<=l?(we=new Date(l+400,h,b,T,M,G,ee),isFinite(we.getFullYear())&&we.setFullYear(l)):we=new Date(l,h,b,T,M,G,ee),we}function Rt(l){var h;if(100>l&&0<=l){var b=Array.prototype.slice.call(arguments);b[0]=l+400,h=new Date(Date.UTC.apply(null,b)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(l)}else h=new Date(Date.UTC.apply(null,arguments));return h}function jt(l,h,b){var T=7+h-b,M=(7+Rt(l,0,T).getUTCDay()-h)%7;return-M+T-1}function Xe(l,h,b,T,M){var G=jt(l,T,M),ee=1+7*(h-1)+(7+b-T)%7+G,we,Oe;return 0>=ee?(we=l-1,Oe=St(we)+ee):ee>St(l)?(we=l+1,Oe=ee-St(l)):(we=l,Oe=ee),{year:we,dayOfYear:Oe}}function zt(l,h,b){var T=jt(l.year(),h,b),M=s((l.dayOfYear()-T-1)/7)+1,G,ee;return 1>M?(ee=l.year()-1,G=M+ut(ee,h,b)):M>ut(l.year(),h,b)?(G=M-ut(l.year(),h,b),ee=l.year()+1):(ee=l.year(),G=M),{week:G,year:ee}}function ut(l,h,b){var T=jt(l,h,b),M=jt(l+1,h,b);return(St(l)-T+M)/7}function Ot(l,h){return typeof l=="string"?isNaN(l)?(l=h.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10):l}function ye(l,h){return typeof l=="string"?h.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Pe(l,h){return l.slice(h,7).concat(l.slice(0,h))}function Le(l,h,b){var T=l.toLocaleLowerCase(),M,G,ee;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],M=0;7>M;++M)ee=x([2e3,1]).day(M),this._minWeekdaysParse[M]=this.weekdaysMin(ee,"").toLocaleLowerCase(),this._shortWeekdaysParse[M]=this.weekdaysShort(ee,"").toLocaleLowerCase(),this._weekdaysParse[M]=this.weekdays(ee,"").toLocaleLowerCase();return b?h==="dddd"?(G=ct.call(this._weekdaysParse,T),G===-1?null:G):h==="ddd"?(G=ct.call(this._shortWeekdaysParse,T),G===-1?null:G):(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G):h==="dddd"?(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._shortWeekdaysParse,T),G!==-1?G:(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G))):h==="ddd"?(G=ct.call(this._shortWeekdaysParse,T),G!==-1?G:(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._minWeekdaysParse,T),G===-1?null:G))):(G=ct.call(this._minWeekdaysParse,T),G!==-1?G:(G=ct.call(this._weekdaysParse,T),G!==-1?G:(G=ct.call(this._shortWeekdaysParse,T),G===-1?null:G)))}function lt(l,h,b){var T,M,G;if(this._weekdaysParseExact)return Le.call(this,l,h,b);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),T=0;7>T;T++)if(M=x([2e3,1]).day(T),b&&!this._fullWeekdaysParse[T]&&(this._fullWeekdaysParse[T]=new RegExp("^"+this.weekdays(M,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[T]=new RegExp("^"+this.weekdaysShort(M,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[T]=new RegExp("^"+this.weekdaysMin(M,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[T]||(G="^"+this.weekdays(M,"")+"|^"+this.weekdaysShort(M,"")+"|^"+this.weekdaysMin(M,""),this._weekdaysParse[T]=new RegExp(G.replace(".",""),"i")),b&&h==="dddd"&&this._fullWeekdaysParse[T].test(l)||b&&h==="ddd"&&this._shortWeekdaysParse[T].test(l)||b&&h==="dd"&&this._minWeekdaysParse[T].test(l)||!b&&this._weekdaysParse[T].test(l))return T}function tt(){function l(Qt,tr){return tr.length-Qt.length}var h=[],b=[],T=[],M=[],G,ee,we,Oe,Tt;for(G=0;7>G;G++)ee=x([2e3,1]).day(G),we=this.weekdaysMin(ee,""),Oe=this.weekdaysShort(ee,""),Tt=this.weekdays(ee,""),h.push(we),b.push(Oe),T.push(Tt),M.push(we),M.push(Oe),M.push(Tt);for(h.sort(l),b.sort(l),T.sort(l),M.sort(l),G=0;7>G;G++)b[G]=ht(b[G]),T[G]=ht(T[G]),M[G]=ht(M[G]);this._weekdaysRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function at(){return this.hours()%12||12}function Xt(l,h){Q(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}function hi(l,h){return h._meridiemParse}function Sn(l){return l&&l.toLowerCase().replace("_","-")}function ks(l){for(var h=0,b,T,M,G;h<l.length;){for(G=Sn(l[h]).split("-"),b=G.length,T=Sn(l[h+1]),T=T?T.split("-"):null;0<b;){if(M=ur(G.slice(0,b).join("-")),M)return M;if(T&&T.length>=b&&W(G,T,!0)>=b-1)break;b--}h++}return er}function ur(l){var h=null;if(!dt[l]&&t&&t.exports)try{h=er._abbr,_X("./locale/"+l),Ki(h)}catch{}return dt[l]}function Ki(l,h){var b;return l&&(b=y(h)?Pi(l):Ss(l,h),b?er=b:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),er._abbr}function Ss(l,h){if(h!==null){var b=fo,T;if(h.abbr=l,dt[l]!=null)re("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),b=dt[l]._config;else if(h.parentLocale!=null)if(dt[h.parentLocale]!=null)b=dt[h.parentLocale]._config;else if(T=ur(h.parentLocale),T!=null)b=T._config;else return mr[h.parentLocale]||(mr[h.parentLocale]=[]),mr[h.parentLocale].push({name:l,config:h}),null;return dt[l]=new ue(be(b,h)),mr[l]&&mr[l].forEach(function(M){Ss(M.name,M.config)}),Ki(l),dt[l]}return delete dt[l],null}function Pi(l){var h;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return er;if(!d(l)){if(h=ur(l),h)return h;l=[l]}return ks(l)}function qd(){return wl(dt)}function Sa(l){var h=l._a,b;return h&&D(l).overflow===-2&&(b=0>h[1]||11<h[1]?1:1>h[2]||h[2]>st(h[0],h[1])?2:0>h[3]||24<h[3]||h[3]===24&&(h[4]!==0||h[5]!==0||h[6]!==0)?3:0>h[4]||59<h[4]?4:0>h[5]||59<h[5]?5:0>h[6]||999<h[6]?6:-1,D(l)._overflowDayOfYear&&(0>b||2<b)&&(b=2),D(l)._overflowWeeks&&b===-1&&(b=7),D(l)._overflowWeekday&&b===-1&&(b=8),D(l).overflow=b),l}function Nn(l,h,b){return l??h??b}function Wd(l){var h=new Date(c.now());return l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function Aa(l){var h=[],b,T,M,G,ee;if(!l._d){for(M=Wd(l),l._w&&l._a[2]==null&&l._a[1]==null&&jd(l),l._dayOfYear!=null&&(ee=Nn(l._a[0],M[0]),(l._dayOfYear>St(ee)||l._dayOfYear===0)&&(D(l)._overflowDayOfYear=!0),T=Rt(ee,0,l._dayOfYear),l._a[1]=T.getUTCMonth(),l._a[2]=T.getUTCDate()),b=0;3>b&&l._a[b]==null;++b)l._a[b]=h[b]=M[b];for(;7>b;b++)l._a[b]=h[b]=l._a[b]==null?b===2?1:0:l._a[b];l._a[3]===24&&l._a[4]===0&&l._a[5]===0&&l._a[6]===0&&(l._nextDay=!0,l._a[3]=0),l._d=(l._useUTC?Rt:Xi).apply(null,h),G=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[3]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==G&&(D(l).weekdayMismatch=!0)}}function jd(l){var h,b,T,M,G,ee,we,Oe;if(h=l._w,h.GG!=null||h.W!=null||h.E!=null)G=1,ee=4,b=Nn(h.GG,l._a[0],zt(Ne(),1,4).year),T=Nn(h.W,1),M=Nn(h.E,1),(1>M||7<M)&&(Oe=!0);else{G=l._locale._week.dow,ee=l._locale._week.doy;var Tt=zt(Ne(),G,ee);b=Nn(h.gg,l._a[0],Tt.year),T=Nn(h.w,Tt.week),h.d==null?h.e==null?M=G:(M=h.e+G,(0>h.e||6<h.e)&&(Oe=!0)):(M=h.d,(0>M||6<M)&&(Oe=!0))}1>T||T>ut(b,G,ee)?D(l)._overflowWeeks=!0:Oe==null?(we=Xe(b,T,M,G,ee),l._a[0]=we.year,l._dayOfYear=we.dayOfYear):D(l)._overflowWeekday=!0}function lo(l){var h=l._i,b=rh.exec(h)||mu.exec(h),T,M,G,ee,we,Oe;if(b){for(D(l).iso=!0,T=0,M=pa.length;T<M;T++)if(pa[T][1].exec(b[1])){ee=pa[T][0],G=pa[T][2]!==!1;break}if(ee==null)return void(l._isValid=!1);if(b[3]){for(T=0,M=zr.length;T<M;T++)if(zr[T][1].exec(b[3])){we=(b[2]||" ")+zr[T][0];break}if(we==null)return void(l._isValid=!1)}if(!G&&we!=null)return void(l._isValid=!1);if(b[4])if(yu.exec(b[4]))Oe="Z";else return void(l._isValid=!1);l._f=ee+(we||"")+(Oe||""),dr(l)}else l._isValid=!1}function co(l,h,b,T,M,G){var ee=[zd(l),is.indexOf(h),parseInt(b,10),parseInt(T,10),parseInt(M,10)];return G&&ee.push(parseInt(G,10)),ee}function zd(l){var h=parseInt(l,10);return 49>=h?2e3+h:999>=h?1900+h:h}function Xd(l){return l.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vl(l,h,b){if(l){var T=Sl.indexOf(l),M=new Date(h[0],h[1],h[2]).getDay();if(T!==M)return D(b).weekdayMismatch=!0,b._isValid=!1,!1}return!0}function yc(l,h,b){if(l)return _c[l];if(h)return 0;var T=parseInt(b,10),M=T%100;return 60*((T-M)/100)+M}function xa(l){var h=Al.exec(Xd(l._i));if(h){var b=co(h[4],h[3],h[2],h[5],h[6],h[7]);if(!vl(h[1],b,l))return;l._a=b,l._tzm=yc(h[8],h[9],h[10]),l._d=Rt.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),D(l).rfc2822=!0}else l._isValid=!1}function Kd(l){var h=Pa.exec(l._i);if(h!==null)return void(l._d=new Date(+h[1]));if(lo(l),l._isValid===!1)delete l._isValid;else return;if(xa(l),l._isValid===!1)delete l._isValid;else return;c.createFromInputFallback(l)}function dr(l){if(l._f===c.ISO_8601)return void lo(l);if(l._f===c.RFC_2822)return void xa(l);l._a=[],D(l).empty=!0;var h=""+l._i,b=h.length,T=0,M,G,ee,we,Oe;for(ee=ve(l._f,l._locale).match(El)||[],M=0;M<ee.length;M++)we=ee[M],G=(h.match(Bt(we,l))||[])[0],G&&(Oe=h.substr(0,h.indexOf(G)),0<Oe.length&&D(l).unusedInput.push(Oe),h=h.slice(h.indexOf(G)+G.length),T+=G.length),xn[we]?(G?D(l).empty=!1:D(l).unusedTokens.push(we),$t(we,G,l)):l._strict&&!G&&D(l).unusedTokens.push(we);D(l).charsLeftOver=b-T,0<h.length&&D(l).unusedInput.push(h),12>=l._a[3]&&D(l).bigHour===!0&&0<l._a[3]&&(D(l).bigHour=void 0),D(l).parsedDateParts=l._a.slice(0),D(l).meridiem=l._meridiem,l._a[3]=gc(l._locale,l._a[3],l._meridiem),Aa(l),Sa(l)}function gc(l,h,b){var T;return b==null?h:l.meridiemHour==null?(l.isPM==null||(T=l.isPM(b),T&&12>h&&(h+=12),T||h!==12||(h=0)),h):l.meridiemHour(h,b)}function uu(l){var h,b,T,M,G;if(l._f.length===0)return D(l).invalidFormat=!0,void(l._d=new Date(NaN));for(M=0;M<l._f.length;M++)G=0,h=R({},l),l._useUTC!=null&&(h._useUTC=l._useUTC),h._f=l._f[M],dr(h),B(h)&&(G+=D(h).charsLeftOver,G+=10*D(h).unusedTokens.length,D(h).score=G,(T==null||G<T)&&(T=G,b=h));S(l,b||h)}function Zi(l){if(!l._d){var h=K(l._i);l._a=C([h.year,h.month,h.day||h.date,h.hour,h.minute,h.second,h.millisecond],function(b){return b&&parseInt(b,10)}),Aa(l)}}function ot(l){var h=new I(Sa(ra(l)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function ra(l){var h=l._i,b=l._f;return l._locale=l._locale||Pi(l._l),h===null||b===void 0&&h===""?P({nullInput:!0}):(typeof h=="string"&&(l._i=h=l._locale.preparse(h)),F(h)?new I(Sa(h)):(w(h)?l._d=h:d(b)?uu(l):b?dr(l):vc(l),B(l)||(l._d=null),l))}function vc(l){var h=l._i;y(h)?l._d=new Date(c.now()):w(h)?l._d=new Date(h.valueOf()):typeof h=="string"?Kd(l):d(h)?(l._a=C(h.slice(0),function(b){return parseInt(b,10)}),Aa(l)):p(h)?Zi(l):_(h)?l._d=new Date(h):c.createFromInputFallback(l)}function hr(l,h,b,T,M){var G={};return(b===!0||b===!1)&&(T=b,b=void 0),(p(l)&&m(l)||d(l)&&l.length===0)&&(l=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=M,G._l=b,G._i=l,G._f=h,G._strict=T,ot(G)}function Ne(l,h,b,T){return hr(l,h,b,T,!1)}function aa(l,h){var b,T;if(h.length===1&&d(h[0])&&(h=h[0]),!h.length)return Ne();for(b=h[0],T=1;T<h.length;++T)(!h[T].isValid()||h[T][l](b))&&(b=h[T]);return b}function Po(l){for(var h in l)if(ct.call(Vn,h)===-1||l[h]!=null&&isNaN(l[h]))return!1;for(var b=!1,T=0;T<Vn.length;++T)if(l[Vn[T]]){if(b)return!1;parseFloat(l[Vn[T]])!==L(l[Vn[T]])&&(b=!0)}return!0}function kr(l){var h=K(l),b=h.year||0,T=h.quarter||0,M=h.month||0,G=h.week||h.isoWeek||0,ee=h.day||0,we=h.hour||0,Oe=h.minute||0,Tt=h.second||0,Qt=h.millisecond||0;this._isValid=Po(h),this._milliseconds=+Qt+1e3*Tt+6e4*Oe+60*(60*(1e3*we)),this._days=+ee+7*G,this._months=+M+3*T+12*b,this._data={},this._locale=Pi(),this._bubble()}function Ie(l){return l instanceof kr}function yt(l){return 0>l?-1*e(-1*l):e(l)}function uo(l,h){Q(l,0,0,function(){var b=this.utcOffset(),T="+";return 0>b&&(b=-b,T="-"),T+le(~~(b/60),2)+h+le(~~b%60,2)})}function Da(l,h){var b=(h||"").match(l);if(b===null)return null;var T=b[b.length-1]||[],M=(T+"").match(ah)||["-",0,0],G=+(60*M[1])+L(M[2]);return G===0?0:M[0]==="+"?G:-G}function sa(l,h){var b,T;return h._isUTC?(b=h.clone(),T=(F(l)||w(l)?l.valueOf():Ne(l).valueOf())-b.valueOf(),b._d.setTime(b._d.valueOf()+T),c.updateOffset(b,!1),b):Ne(l).local()}function oa(l){return 15*-e(l._d.getTimezoneOffset()/15)}function du(){if(!y(this._isDSTShifted))return this._isDSTShifted;var l={};if(R(l,this),l=ra(l),l._a){var h=l._isUTC?x(l._a):Ne(l._a);this._isDSTShifted=this.isValid()&&0<W(l._a,h.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function vt(){return!!this.isValid()&&this._isUTC&&this._offset===0}function si(l,h){var b=l,T=null,M,G,ee;return Ie(l)?b={ms:l._milliseconds,d:l._days,M:l._months}:_(l)?(b={},h?b[h]=l:b.milliseconds=l):(T=gu.exec(l))?(M=T[1]==="-"?-1:1,b={y:0,d:L(T[2])*M,h:L(T[3])*M,m:L(T[4])*M,s:L(T[5])*M,ms:L(yt(1e3*T[6]))*M}):(T=sh.exec(l))?(M=T[1]==="-"?-1:1,b={y:nn(T[2],M),M:nn(T[3],M),w:nn(T[4],M),d:nn(T[5],M),h:nn(T[6],M),m:nn(T[7],M),s:nn(T[8],M)}):b==null?b={}:typeof b=="object"&&("from"in b||"to"in b)&&(ee=la(Ne(b.from),Ne(b.to)),b={},b.ms=ee.milliseconds,b.M=ee.months),G=new kr(b),Ie(l)&&k(l,"_locale")&&(G._locale=l._locale),G}function nn(l,h){var b=l&&parseFloat(l.replace(",","."));return(isNaN(b)?0:b)*h}function As(l,h){var b={};return b.months=h.month()-l.month()+12*(h.year()-l.year()),l.clone().add(b.months,"M").isAfter(h)&&--b.months,b.milliseconds=+h-+l.clone().add(b.months,"M"),b}function la(l,h){var b;return l.isValid()&&h.isValid()?(h=sa(h,l),l.isBefore(h)?b=As(l,h):(b=As(h,l),b.milliseconds=-b.milliseconds,b.months=-b.months),b):{milliseconds:0,months:0}}function Oo(l,h){return function(b,T){var M,G;return T===null||isNaN(+T)||(re(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=b,b=T,T=G),b=typeof b=="string"?+b:b,M=si(b,T),No(this,M,l),this}}function No(l,h,b,T){var M=h._milliseconds,G=yt(h._days),ee=yt(h._months);l.isValid()&&(T=T==null||T,ee&&wi(l,nt(l,"Month")+ee*b),G&&De(l,"Date",nt(l,"Date")+G*b),M&&l._d.setTime(l._d.valueOf()+M*b),T&&c.updateOffset(l,G||ee))}function Hr(l,h){var b=12*(h.year()-l.year())+(h.month()-l.month()),T=l.clone().add(b,"months"),M,G;return 0>h-T?(M=l.clone().add(b-1,"months"),G=(h-T)/(T-M)):(M=l.clone().add(b+1,"months"),G=(h-T)/(M-T)),-(b+G)||0}function ho(l){var h;return l===void 0?this._locale._abbr:(h=Pi(l),h!=null&&(this._locale=h),this)}function Go(){return this._locale}function yn(l,h){return(l%h+h)%h}function Uo(l,h,b){return 100>l&&0<=l?new Date(l+400,h,b)-126227808e5:new Date(l,h,b).valueOf()}function Lo(l,h,b){return 100>l&&0<=l?Date.UTC(l+400,h,b)-126227808e5:Date.UTC(l,h,b)}function Vr(l,h){Q(0,[l,l.length],0,h)}function Bo(l,h,b,T,M){var G;return l==null?zt(this,T,M).year:(G=ut(l,T,M),h>G&&(h=G),Zd.call(this,l,h,b,T,M))}function Zd(l,h,b,T,M){var G=Xe(l,h,b,T,M),ee=Rt(G.year,0,G.dayOfYear);return this.year(ee.getUTCFullYear()),this.month(ee.getUTCMonth()),this.date(ee.getUTCDate()),this}function Qd(l,h){h[6]=L(1e3*("0."+l))}function $o(l){return l}function gn(l,h,b,T){var M=Pi(),G=x().set(T,h);return M[b](G,l)}function bl(l,h,b){if(_(l)&&(h=l,l=void 0),l=l||"",h!=null)return gn(l,h,b,"month");var T=[],M;for(M=0;12>M;M++)T[M]=gn(l,M,b,"month");return T}function xs(l,h,b,T){typeof l=="boolean"?(_(h)&&(b=h,h=void 0),h=h||""):(h=l,b=h,l=!1,_(h)&&(b=h,h=void 0),h=h||"");var M=Pi(),G=l?M._week.dow:0;if(b!=null)return gn(h,(b+G)%7,T,"day");var ee=[],we;for(we=0;7>we;we++)ee[we]=gn(h,(we+G)%7,T,"day");return ee}function Ds(l,h,b,T){var M=si(h,b);return l._milliseconds+=T*M._milliseconds,l._days+=T*M._days,l._months+=T*M._months,l._bubble()}function Ja(l){return 0>l?s(l):o(l)}function _l(l){return 4800*l/146097}function Is(l){return 146097*l/4800}function Mi(l){return function(){return this.as(l)}}function cn(l){return function(){return this.isValid()?this._data[l]:NaN}}function bc(l,h,b,T,M){return M.relativeTime(h||1,!!b,l,T)}function hu(l,h,b){var T=si(l).abs(),M=Vi(T.as("s")),G=Vi(T.as("m")),ee=Vi(T.as("h")),we=Vi(T.as("d")),Oe=Vi(T.as("M")),Tt=Vi(T.as("y")),Qt=M<=Zt.ss&&["s",M]||M<Zt.s&&["ss",M]||1>=G&&["m"]||G<Zt.m&&["mm",G]||1>=ee&&["h"]||ee<Zt.h&&["hh",ee]||1>=we&&["d"]||we<Zt.d&&["dd",we]||1>=Oe&&["M"]||Oe<Zt.M&&["MM",Oe]||1>=Tt&&["y"]||["yy",Tt];return Qt[2]=h,Qt[3]=0<+l,Qt[4]=b,bc.apply(null,Qt)}function Jd(l){return l===void 0?Vi:typeof l=="function"&&(Vi=l,!0)}function An(l){return(0<l)-(0>l)||+l}function Yr(){if(!this.isValid())return this.localeData().invalidDate();var l=Dr(this._milliseconds)/1e3,h=Dr(this._days),b=Dr(this._months),T,M,G;T=$(l/60),M=$(T/60),l%=60,T%=60,G=$(b/12),b%=12;var ee=G,we=b,Oe=h,Tt=M,Qt=T,tr=l?l.toFixed(3).replace(/\.?0+$/,""):"",Dn=this.asSeconds();if(!Dn)return"P0D";var Au=0>Dn?"-":"",po=An(this._months)===An(Dn)?"":"-",Il=An(this._days)===An(Dn)?"":"-",Gs=An(this._milliseconds)===An(Dn)?"":"-";return Au+"P"+(ee?po+ee+"Y":"")+(we?po+we+"M":"")+(Oe?Il+Oe+"D":"")+(Tt||Qt||tr?"T":"")+(Tt?Gs+Tt+"H":"")+(Qt?Gs+Qt+"M":"")+(tr?Gs+tr+"S":"")}var Rs,Ms;Ms=Array.prototype.some?Array.prototype.some:function(l){for(var h=Object(this),b=h.length>>>0,T=0;T<b;T++)if(T in h&&l.call(this,h[T],T,h))return!0;return!1};var Ia=c.momentProperties=[],es=!1,Fo={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var wl=Object.keys?Object.keys:function(l){var h=[],b;for(b in l)k(l,b)&&h.push(b);return h},eh=/\d{1,2}/,Zn={},Qn={},El=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ca=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ma={},xn={},qr=/\d/,Gt=/\d\d/,Sr=/\d{3}/,ua=/\d{4}/,Ar=/[+-]?\d{6}/,We=/\d\d?/,Tl=/\d\d\d\d?/,Cl=/\d\d\d\d\d\d?/,da=/\d{1,3}/,Ps=/\d{1,4}/,Wr=/[+-]?\d{1,6}/,fu=/\d+/,ha=/[+-]?\d+/,th=/Z|[+-]\d\d:?\d\d/gi,fa=/Z|[+-]\d\d(?::?\d\d)?/gi,ih=/[+-]?\d+(\.\d{1,3})?/,Jn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Os={},ts={},fr=0,xr=1,kl=2,un=3,pr=4,jr=5;Q("Y",0,0,function(){var l=this.year();return 9999>=l?""+l:"+"+l}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),se("year","y"),q("year",1),ne("Y",ha),ne("YY",We,Gt),ne("YYYY",Ps,ua),ne("YYYYY",Wr,Ar),ne("YYYYYY",Wr,Ar),Se(["YYYYY","YYYYYY"],fr),Se("YYYY",function(l,h){h[fr]=l.length===2?c.parseTwoDigitYear(l):L(l)}),Se("YY",function(l,h){h[fr]=c.parseTwoDigitYear(l)}),Se("Y",function(l,h){h[fr]=parseInt(l,10)}),c.parseTwoDigitYear=function(l){return L(l)+(68<L(l)?1900:2e3)};var Fi=Ct("FullYear",!0),ct;ct=Array.prototype.indexOf?Array.prototype.indexOf:function(l){var h;for(h=0;h<this.length;++h)if(this[h]===l)return h;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),Q("MMMM",0,0,function(l){return this.localeData().months(this,l)}),se("month","M"),q("month",8),ne("M",We),ne("MM",We,Gt),ne("MMM",function(l,h){return h.monthsShortRegex(l)}),ne("MMMM",function(l,h){return h.monthsRegex(l)}),Se(["M","MM"],function(l,h){h[xr]=L(l)-1}),Se(["MMM","MMMM"],function(l,h,b,T){var M=b._locale.monthsParse(l,T,b._strict);M==null?D(b).invalidMonth=l:h[xr]=M});var Ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,is=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),se("week","w"),se("isoWeek","W"),q("week",5),q("isoWeek",5),ne("w",We),ne("ww",We,Gt),ne("W",We),ne("WW",We,Gt),Jt(["w","ww","W","WW"],function(l,h,b,T){h[T.substr(0,1)]=L(l)}),Q("d",0,"do","day"),Q("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),Q("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),Q("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),se("day","d"),se("weekday","e"),se("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),ne("d",We),ne("e",We),ne("E",We),ne("dd",function(l,h){return h.weekdaysMinRegex(l)}),ne("ddd",function(l,h){return h.weekdaysShortRegex(l)}),ne("dddd",function(l,h){return h.weekdaysRegex(l)}),Jt(["dd","ddd","dddd"],function(l,h,b,T){var M=b._locale.weekdaysParse(l,T,b._strict);M==null?D(b).invalidWeekday=l:h.d=M}),Jt(["d","e","E"],function(l,h,b,T){h[T]=L(l)});var Sl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,at),Q("k",["kk",2],0,function(){return this.hours()||24}),Q("hmm",0,0,function(){return""+at.apply(this)+le(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+at.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),se("hour","h"),q("hour",13),ne("a",hi),ne("A",hi),ne("H",We),ne("h",We),ne("k",We),ne("HH",We,Gt),ne("hh",We,Gt),ne("kk",We,Gt),ne("hmm",Tl),ne("hmmss",Cl),ne("Hmm",Tl),ne("Hmmss",Cl),Se(["H","HH"],un),Se(["k","kk"],function(l,h){var b=L(l);h[un]=b===24?0:b}),Se(["a","A"],function(l,h,b){b._isPm=b._locale.isPM(l),b._meridiem=l}),Se(["h","hh"],function(l,h,b){h[un]=L(l),D(b).bigHour=!0}),Se("hmm",function(l,h,b){var T=l.length-2;h[un]=L(l.substr(0,T)),h[pr]=L(l.substr(T)),D(b).bigHour=!0}),Se("hmmss",function(l,h,b){var T=l.length-4,M=l.length-2;h[un]=L(l.substr(0,T)),h[pr]=L(l.substr(T,2)),h[jr]=L(l.substr(M)),D(b).bigHour=!0}),Se("Hmm",function(l,h){var b=l.length-2;h[un]=L(l.substr(0,b)),h[pr]=L(l.substr(b))}),Se("Hmmss",function(l,h){var b=l.length-4,T=l.length-2;h[un]=L(l.substr(0,b)),h[pr]=L(l.substr(b,2)),h[jr]=L(l.substr(T))});var pu=/[ap]\.?m?\.?/i,nh=Ct("Hours",!0),fo={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:eh,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:is,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Sl,meridiemParse:pu},dt={},mr={},rh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mu=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yu=/Z|[+-]\d\d(?::?\d\d)?/,pa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pa=/^\/?Date\((\-?\d+)/i,Al=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_c={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},er;c.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var ma=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ne.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:P()}),Ns=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Ne.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:P()}),Vn=["year","quarter","month","week","day","hour","minute","second","millisecond"];uo("Z",":"),uo("ZZ",""),ne("Z",fa),ne("ZZ",fa),Se(["Z","ZZ"],function(l,h,b){b._useUTC=!0,b._tzm=Da(fa,l)});var ah=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var gu=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sh=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;si.fn=kr.prototype,si.invalid=function(){return si(NaN)};var vu=Oo(1,"add"),wc=Oo(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Oa=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Vr("gggg","weekYear"),Vr("ggggg","weekYear"),Vr("GGGG","isoWeekYear"),Vr("GGGGG","isoWeekYear"),se("weekYear","gg"),se("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),ne("G",ha),ne("g",ha),ne("GG",We,Gt),ne("gg",We,Gt),ne("GGGG",Ps,ua),ne("gggg",Ps,ua),ne("GGGGG",Wr,Ar),ne("ggggg",Wr,Ar),Jt(["gggg","ggggg","GGGG","GGGGG"],function(l,h,b,T){h[T.substr(0,2)]=L(l)}),Jt(["gg","GG"],function(l,h,b,T){h[T]=c.parseTwoDigitYear(l)}),Q("Q",0,"Qo","quarter"),se("quarter","Q"),q("quarter",7),ne("Q",qr),Se("Q",function(l,h){h[xr]=3*(L(l)-1)}),Q("D",["DD",2],"Do","date"),se("date","D"),q("date",9),ne("D",We),ne("DD",We,Gt),ne("Do",function(l,h){return l?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Se(["D","DD"],kl),Se("Do",function(l,h){h[kl]=L(l.match(We)[0])});var yr=Ct("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),se("dayOfYear","DDD"),q("dayOfYear",4),ne("DDD",da),ne("DDDD",Sr),Se(["DDD","DDDD"],function(l,h,b){b._dayOfYear=L(l)}),Q("m",["mm",2],0,"minute"),se("minute","m"),q("minute",14),ne("m",We),ne("mm",We,Gt),Se(["m","mm"],pr);var bu=Ct("Minutes",!1);Q("s",["ss",2],0,"second"),se("second","s"),q("second",15),ne("s",We),ne("ss",We,Gt),Se(["s","ss"],jr);var _u=Ct("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),se("millisecond","ms"),q("millisecond",16),ne("S",da,qr),ne("SS",da,Gt),ne("SSS",da,Sr);var Hi;for(Hi="SSSS";9>=Hi.length;Hi+="S")ne(Hi,fu);for(Hi="S";9>=Hi.length;Hi+="S")Se(Hi,Qd);var oh=Ct("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var ae=I.prototype;ae.add=vu,ae.calendar=function(l,h){var b=l||Ne(),T=sa(b,this).startOf("day"),M=c.calendarFormat(this,T)||"sameElse",G=h&&(ce(h[M])?h[M].call(this,b):h[M]);return this.format(G||this.localeData().calendar(M,this,Ne(b)))},ae.clone=function(){return new I(this)},ae.diff=function(l,h,b){var T,M,G;return this.isValid()?(T=sa(l,this),T.isValid()?(M=6e4*(T.utcOffset()-this.utcOffset()),h=Z(h),G=h==="year"?Hr(this,T)/12:h==="month"?Hr(this,T):h==="quarter"?Hr(this,T)/3:h==="second"?(this-T)/1e3:h==="minute"?(this-T)/6e4:h==="hour"?(this-T)/36e5:h==="day"?(this-T-M)/864e5:h==="week"?(this-T-M)/6048e5:this-T,b?G:$(G)):NaN):NaN},ae.endOf=function(l){var h;if(l=Z(l),l===void 0||l==="millisecond"||!this.isValid())return this;var b=this._isUTC?Lo:Uo;return l==="year"?h=b(this.year()+1,0,1)-1:l==="quarter"?h=b(this.year(),this.month()-this.month()%3+3,1)-1:l==="month"?h=b(this.year(),this.month()+1,1)-1:l==="week"?h=b(this.year(),this.month(),this.date()-this.weekday()+7)-1:l==="isoWeek"?h=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:l==="day"||l==="date"?h=b(this.year(),this.month(),this.date()+1)-1:l==="hour"?(h=this._d.valueOf(),h+=36e5-yn(h+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):l==="minute"?(h=this._d.valueOf(),h+=6e4-yn(h,6e4)-1):l==="second"&&(h=this._d.valueOf(),h+=1e3-yn(h,1e3)-1),this._d.setTime(h),c.updateOffset(this,!0),this},ae.format=function(l){l||(l=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var h=he(this,l);return this.localeData().postformat(h)},ae.from=function(l,h){return this.isValid()&&(F(l)&&l.isValid()||Ne(l).isValid())?si({to:this,from:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()},ae.fromNow=function(l){return this.from(Ne(),l)},ae.to=function(l,h){return this.isValid()&&(F(l)&&l.isValid()||Ne(l).isValid())?si({from:this,to:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()},ae.toNow=function(l){return this.to(Ne(),l)},ae.get=function(l){return l=Z(l),ce(this[l])?this[l]():this},ae.invalidAt=function(){return D(this).overflow},ae.isAfter=function(l,h){var b=F(l)?l:Ne(l);return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()>b.valueOf():b.valueOf()<this.clone().startOf(h).valueOf())},ae.isBefore=function(l,h){var b=F(l)?l:Ne(l);return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()<b.valueOf():this.clone().endOf(h).valueOf()<b.valueOf())},ae.isBetween=function(l,h,b,T){var M=F(l)?l:Ne(l),G=F(h)?h:Ne(h);return!!(this.isValid()&&M.isValid()&&G.isValid())&&(T=T||"()",(T[0]==="("?this.isAfter(M,b):!this.isBefore(M,b))&&(T[1]===")"?this.isBefore(G,b):!this.isAfter(G,b)))},ae.isSame=function(l,h){var b=F(l)?l:Ne(l),T;return!!(this.isValid()&&b.isValid())&&(h=Z(h)||"millisecond",h==="millisecond"?this.valueOf()===b.valueOf():(T=b.valueOf(),this.clone().startOf(h).valueOf()<=T&&T<=this.clone().endOf(h).valueOf()))},ae.isSameOrAfter=function(l,h){return this.isSame(l,h)||this.isAfter(l,h)},ae.isSameOrBefore=function(l,h){return this.isSame(l,h)||this.isBefore(l,h)},ae.isValid=function(){return B(this)},ae.lang=Oa,ae.locale=ho,ae.localeData=Go,ae.max=Ns,ae.min=ma,ae.parsingFlags=function(){return S({},D(this))},ae.set=Ve,ae.startOf=function(l){var h;if(l=Z(l),l===void 0||l==="millisecond"||!this.isValid())return this;var b=this._isUTC?Lo:Uo;return l==="year"?h=b(this.year(),0,1):l==="quarter"?h=b(this.year(),this.month()-this.month()%3,1):l==="month"?h=b(this.year(),this.month(),1):l==="week"?h=b(this.year(),this.month(),this.date()-this.weekday()):l==="isoWeek"?h=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):l==="day"||l==="date"?h=b(this.year(),this.month(),this.date()):l==="hour"?(h=this._d.valueOf(),h-=yn(h+(this._isUTC?0:6e4*this.utcOffset()),36e5)):l==="minute"?(h=this._d.valueOf(),h-=yn(h,6e4)):l==="second"&&(h=this._d.valueOf(),h-=yn(h,1e3)),this._d.setTime(h),c.updateOffset(this,!0),this},ae.subtract=wc,ae.toArray=function(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]},ae.toObject=function(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}},ae.toDate=function(){return new Date(this.valueOf())},ae.toISOString=function(l){if(!this.isValid())return null;var h=l!==!0,b=h?this.clone().utc():this;return 0>b.year()||9999<b.year()?he(b,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ce(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace("Z",he(b,"Z")):he(b,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ae.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",h="";this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z");var b="["+l+'("]',T=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",M=h+'[")]';return this.format(b+T+"-MM-DD[T]HH:mm:ss.SSS"+M)},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ae.unix=function(){return s(this.valueOf()/1e3)},ae.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ae.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ae.year=Fi,ae.isLeapYear=function(){return xt(this.year())},ae.weekYear=function(l){return Bo.call(this,l,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ae.isoWeekYear=function(l){return Bo.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)},ae.quarter=ae.quarters=function(l){return l==null?o((this.month()+1)/3):this.month(3*(l-1)+this.month()%3)},ae.month=Ei,ae.daysInMonth=function(){return st(this.year(),this.month())},ae.week=ae.weeks=function(l){var h=this.localeData().week(this);return l==null?h:this.add(7*(l-h),"d")},ae.isoWeek=ae.isoWeeks=function(l){var h=zt(this,1,4).week;return l==null?h:this.add(7*(l-h),"d")},ae.weeksInYear=function(){var l=this.localeData()._week;return ut(this.year(),l.dow,l.doy)},ae.isoWeeksInYear=function(){return ut(this.year(),1,4)},ae.date=yr,ae.day=ae.days=function(l){if(!this.isValid())return l==null?NaN:this;var h=this._isUTC?this._d.getUTCDay():this._d.getDay();return l==null?h:(l=Ot(l,this.localeData()),this.add(l-h,"d"))},ae.weekday=function(l){if(!this.isValid())return l==null?NaN:this;var h=(this.day()+7-this.localeData()._week.dow)%7;return l==null?h:this.add(l-h,"d")},ae.isoWeekday=function(l){if(!this.isValid())return l==null?NaN:this;if(l!=null){var h=ye(l,this.localeData());return this.day(this.day()%7?h:h-7)}return this.day()||7},ae.dayOfYear=function(l){var h=e((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?h:this.add(l-h,"d")},ae.hour=ae.hours=nh,ae.minute=ae.minutes=bu,ae.second=ae.seconds=_u,ae.millisecond=ae.milliseconds=oh,ae.utcOffset=function(l,h,b){var T=this._offset||0,M;if(!this.isValid())return l==null?NaN:this;if(l!=null){if(typeof l!="string")16>r(l)&&!b&&(l*=60);else if(l=Da(fa,l),l===null)return this;return!this._isUTC&&h&&(M=oa(this)),this._offset=l,this._isUTC=!0,M!=null&&this.add(M,"m"),T!==l&&(!h||this._changeInProgress?No(this,si(l-T,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?T:oa(this)},ae.utc=function(l){return this.utcOffset(0,l)},ae.local=function(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(oa(this),"m")),this},ae.parseZone=function(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=Da(th,this._i);l==null?this.utcOffset(0,!0):this.utcOffset(l)}return this},ae.hasAlignedHourOffset=function(l){return!!this.isValid()&&(l=l?Ne(l).utcOffset():0,(this.utcOffset()-l)%60==0)},ae.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ae.isLocal=function(){return!!this.isValid()&&!this._isUTC},ae.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ae.isUtc=vt,ae.isUTC=vt,ae.zoneAbbr=function(){return this._isUTC?"UTC":""},ae.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ae.dates=z("dates accessor is deprecated. Use date instead.",yr),ae.months=z("months accessor is deprecated. Use month instead",Ei),ae.years=z("years accessor is deprecated. Use year instead",Fi),ae.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(l,h){return l==null?-this.utcOffset():(typeof l!="string"&&(l=-l),this.utcOffset(l,h),this)}),ae.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",du);var je=ue.prototype;je.calendar=function(l,h,b){var T=this._calendar[l]||this._calendar.sameElse;return ce(T)?T.call(h,b):T},je.longDateFormat=function(l){var h=this._longDateFormat[l],b=this._longDateFormat[l.toUpperCase()];return h||!b?h:(this._longDateFormat[l]=b.replace(/MMMM|MM|DD|dddd/g,function(T){return T.slice(1)}),this._longDateFormat[l])},je.invalidDate=function(){return this._invalidDate},je.ordinal=function(l){return this._ordinal.replace("%d",l)},je.preparse=$o,je.postformat=$o,je.relativeTime=function(l,h,b,T){var M=this._relativeTime[b];return ce(M)?M(l,h,b,T):M.replace(/%d/i,l)},je.pastFuture=function(l,h){var b=this._relativeTime[0<l?"future":"past"];return ce(b)?b(h):b.replace(/%s/i,h)},je.set=ge,je.months=function(l,h){return l?d(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||Ho).test(h)?"format":"standalone"][l.month()]:d(this._months)?this._months:this._months.standalone},je.monthsShort=function(l,h){return l?d(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[Ho.test(h)?"format":"standalone"][l.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},je.monthsParse=mi,je.monthsRegex=function(l){return this._monthsParseExact?(k(this,"_monthsRegex")||di.call(this),l?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=Jn),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)},je.monthsShortRegex=function(l){return this._monthsParseExact?(k(this,"_monthsRegex")||di.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=Jn),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)},je.week=function(l){return zt(l,this._week.dow,this._week.doy).week},je.firstDayOfYear=function(){return this._week.doy},je.firstDayOfWeek=function(){return this._week.dow},je.weekdays=function(l,h){var b=d(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return l===!0?Pe(b,this._week.dow):l?b[l.day()]:b},je.weekdaysMin=function(l){return l===!0?Pe(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin},je.weekdaysShort=function(l){return l===!0?Pe(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort},je.weekdaysParse=lt,je.weekdaysRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Jn),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)},je.weekdaysShortRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jn),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},je.weekdaysMinRegex=function(l){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||tt.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jn),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},je.isPM=function(l){return(l+"").toLowerCase().charAt(0)==="p"},je.meridiem=function(l,h,b){return 11<l?b?"pm":"PM":b?"am":"AM"},Ki("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var h=l%10,b=L(l%100/10)===1?"th":h==1?"st":h==2?"nd":h==3?"rd":"th";return l+b}}),c.lang=z("moment.lang is deprecated. Use moment.locale instead.",Ki),c.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Pi);var Ai=r,Vo=Mi("ms"),wu=Mi("s"),Eu=Mi("m"),Ec=Mi("h"),xl=Mi("d"),Tu=Mi("w"),Dl=Mi("M"),Xr=Mi("Q"),Cu=Mi("y"),Tc=cn("milliseconds"),Cc=cn("seconds"),ku=cn("minutes"),Su=cn("hours"),kc=cn("days"),lh=cn("months"),ch=cn("years"),Vi=e,Zt={ss:44,s:45,m:45,h:22,d:26,M:11},Dr=r,Me=kr.prototype;return Me.isValid=function(){return this._isValid},Me.abs=function(){var l=this._data;return this._milliseconds=Ai(this._milliseconds),this._days=Ai(this._days),this._months=Ai(this._months),l.milliseconds=Ai(l.milliseconds),l.seconds=Ai(l.seconds),l.minutes=Ai(l.minutes),l.hours=Ai(l.hours),l.months=Ai(l.months),l.years=Ai(l.years),this},Me.add=function(l,h){return Ds(this,l,h,1)},Me.subtract=function(l,h){return Ds(this,l,h,-1)},Me.as=function(l){if(!this.isValid())return NaN;var h=this._milliseconds,b,T;if(l=Z(l),l==="month"||l==="quarter"||l==="year")switch(b=this._days+h/864e5,T=this._months+_l(b),l){case"month":return T;case"quarter":return T/3;case"year":return T/12}else switch(b=this._days+e(Is(this._months)),l){case"week":return b/7+h/6048e5;case"day":return b+h/864e5;case"hour":return 24*b+h/36e5;case"minute":return 1440*b+h/6e4;case"second":return 86400*b+h/1e3;case"millisecond":return s(864e5*b)+h;default:throw new Error("Unknown unit "+l)}},Me.asMilliseconds=Vo,Me.asSeconds=wu,Me.asMinutes=Eu,Me.asHours=Ec,Me.asDays=xl,Me.asWeeks=Tu,Me.asMonths=Dl,Me.asQuarters=Xr,Me.asYears=Cu,Me.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*L(this._months/12):NaN},Me._bubble=function(){var l=this._milliseconds,h=this._days,b=this._months,T=this._data,M,G,ee,we,Oe;return 0<=l&&0<=h&&0<=b||0>=l&&0>=h&&0>=b||(l+=864e5*Ja(Is(b)+h),h=0,b=0),T.milliseconds=l%1e3,M=$(l/1e3),T.seconds=M%60,G=$(M/60),T.minutes=G%60,ee=$(G/60),T.hours=ee%24,h+=$(ee/24),Oe=$(_l(h)),b+=Oe,h-=Ja(Is(Oe)),we=$(b/12),b%=12,T.days=h,T.months=b,T.years=we,this},Me.clone=function(){return si(this)},Me.get=function(l){return l=Z(l),this.isValid()?this[l+"s"]():NaN},Me.milliseconds=Tc,Me.seconds=Cc,Me.minutes=ku,Me.hours=Su,Me.days=kc,Me.weeks=function(){return $(this.days()/7)},Me.months=lh,Me.years=ch,Me.humanize=function(l){if(!this.isValid())return this.localeData().invalidDate();var h=this.localeData(),b=hu(this,!l,h);return l&&(b=h.pastFuture(+this,b)),h.postformat(b)},Me.toISOString=Yr,Me.toString=Yr,Me.toJSON=Yr,Me.locale=ho,Me.localeData=Go,Me.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yr),Me.lang=Oa,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),ne("x",ha),ne("X",ih),Se("X",function(l,h,b){b._d=new Date(1e3*parseFloat(l,10))}),Se("x",function(l,h,b){b._d=new Date(L(l))}),c.version="2.24.0",function(l){Rs=l}(Ne),c.fn=ae,c.min=function(){var l=[].slice.call(arguments,0);return aa("isBefore",l)},c.max=function(){var l=[].slice.call(arguments,0);return aa("isAfter",l)},c.now=function(){return Date.now?Date.now():+new Date},c.utc=x,c.unix=function(l){return Ne(1e3*l)},c.months=function(l,h){return bl(l,h,"months")},c.isDate=w,c.locale=Ki,c.invalid=P,c.duration=si,c.isMoment=F,c.weekdays=function(l,h,b){return xs(l,h,b,"weekdays")},c.parseZone=function(){return Ne.apply(null,arguments).parseZone()},c.localeData=Pi,c.isDuration=Ie,c.monthsShort=function(l,h){return bl(l,h,"monthsShort")},c.weekdaysMin=function(l,h,b){return xs(l,h,b,"weekdaysMin")},c.defineLocale=Ss,c.updateLocale=function(l,h){if(h!=null){var b=fo,T,M;M=ur(l),M!=null&&(b=M._config),h=be(b,h),T=new ue(h),T.parentLocale=dt[l],dt[l]=T,Ki(l)}else dt[l]!=null&&(dt[l].parentLocale==null?dt[l]!=null&&delete dt[l]:dt[l]=dt[l].parentLocale);return dt[l]},c.locales=qd,c.weekdaysShort=function(l,h,b){return xs(l,h,b,"weekdaysShort")},c.normalizeUnits=Z,c.relativeTimeRounding=Jd,c.relativeTimeThreshold=function(l,h){return Zt[l]!==void 0&&(h===void 0?Zt[l]:(Zt[l]=h,l==="s"&&(Zt.ss=h-1),!0))},c.calendarFormat=function(l,h){var b=l.diff(h,"days",!0);return-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse"},c.prototype=ae,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c})});const QZ={name:"PrimaryButton",props:{enabled:{type:Boolean,required:!1,default:!0}},computed:{classObject(){return{"o-primary-btn--disabled":!this.enabled}}}};var JZ=function(){var e=this,i=e._self._c;return i("button",e._g({staticClass:"o-primary-btn",class:e.classObject},e.$listeners),[e._t("default")],2)},eQ=[],tQ=X(QZ,JZ,eQ,!1,null,null);const mt=tQ.exports,iQ={name:"PerkPointLabel",components:{PrimaryButton:mt},data(){return{pp:0,treeLayout:0,physicsEnabled:!1,physicsOverride:!1}},computed:{layoutText(){return PerkLayouts[this.treeLayout].buttonText},physicsText(){return`${this.physicsOverride??this.physicsEnabled?"Enabled":"Disabled"}${this.physicsOverride===void 0?"":" (fixed)"}`}},created(){this.treeLayout=player.options.perkLayout,this.physicsOverride=PerkLayouts[this.treeLayout].forcePhysics},methods:{update(){this.pp=Math.floor(Currency.perkPoints.value),this.physicsEnabled=player.options.perkPhysicsEnabled},togglePhysics(){this.physicsOverride===void 0&&(player.options.perkPhysicsEnabled=!player.options.perkPhysicsEnabled,PerkNetwork.setPhysics(player.options.perkPhysicsEnabled))},physicsClassObject(){return{"o-primary-btn c-button-physics":!0,"o-primary-btn--disabled":this.physicsOverride!==void 0}},centerTree(){PerkNetwork.resetPosition(!0)},straightenEdges(){PerkNetwork.setEdgeCurve(!1),PerkNetwork.setEdgeCurve(!0)},cycleLayout(){var e,i;let t=(player.options.perkLayout+1)%PerkLayouts.length;for(;!(((i=(e=PerkLayouts[t]).isUnlocked)==null?void 0:i.call(e))??!0);)t=(t+1)%PerkLayouts.length;player.options.perkLayout=t,this.treeLayout=t,this.physicsOverride=PerkLayouts[this.treeLayout].forcePhysics,PerkNetwork.currentLayout=PerkLayouts[this.treeLayout],PerkNetwork.setPhysics(player.options.perkPhysicsEnabled),PerkNetwork.moveToDefaultLayoutPositions(this.treeLayout)}}};var nQ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-perk-tab__header"},[e._v(" You have "),i("span",{staticClass:"c-perk-tab__perk-points"},[e._v(e._s(e.format(e.pp,2)))]),e._v(" "+e._s(e.pluralize("Perk Point",e.pp))+". "),i("br"),e._v(" Perk choices are permanent and cannot be respecced. "),i("br"),e._v(" Diamond-shaped perks also give Automator Points. "),i("br"),i("div",{staticClass:"perk-settings"},[i("PrimaryButton",{staticClass:"o-primary-btn c-button-perk-layout",on:{click:e.cycleLayout}},[e._v(" Perk Layout: "+e._s(e.layoutText)+" ")]),i("PrimaryButton",{class:e.physicsClassObject(),on:{click:e.togglePhysics}},[e._v(" Physics: "+e._s(e.physicsText)+" ")]),i("br"),i("PrimaryButton",{staticClass:"o-primary-btn",on:{click:e.centerTree}},[e._v(" Center Tree on START ")]),i("PrimaryButton",{staticClass:"o-primary-btn",on:{click:e.straightenEdges}},[e._v(" Straighten Edges ")])],1)])},rQ=[],aQ=X(iQ,nQ,rQ,!1,null,"6eb18d01");const sQ=aQ.exports,oQ={name:"PerksTab",components:{PerkPointLabel:sQ},computed:{showHintText(){return ui.view.shiftDown||player.options.showHintText.perks}},watch:{showHintText(t){ui.view.theme==="S9"?Or.setLabelVisibility(!1):Or.setLabelVisibility(t)}},created(){EventHub.ui.on(GAME_EVENT.PERK_BOUGHT,()=>Or.updatePerkColor())},mounted(){Or.initialStabilization=!1,Or.currentLayout=Og[player.options.perkLayout],Or.initializeIfNeeded(),ui.view.theme==="S9"?Or.setLabelVisibility(!1):Or.setLabelVisibility(ui.view.shiftDown||player.options.showHintText.perks),Or.updatePerkColor(),Or.updatePerkSize(),this.$refs.tab.appendChild(Or.container),Or.moveToDefaultLayoutPositions(player.options.perkLayout)}},lQ=()=>({[_t.ANTIMATTER]:{primary:"#22aa48",secondary:"#156a2d"},[_t.INFINITY]:{primary:"#b67f33",secondary:"#7b5623"},[_t.ETERNITY]:{primary:"#b241e3",secondary:"#8b1cba"},[_t.DILATION]:{primary:"#64dd17",secondary:"#449810"},[_t.REALITY]:{primary:"#0b600e",secondary:"#063207"},[_t.AUTOMATION]:{primary:"#ff0000",secondary:"#b30000"},[_t.ACHIEVEMENT]:{primary:"#fdd835",secondary:"#e3ba02"}});function I_(t,e,i=1){return t.matrixTransform(e*i,0,0,e)}function vp(t){const e=t%400,i=Math.floor(t/400);return new Vector(5*(e-200),5*(i-200))}const Og=[{buttonText:"Default Untangled",position:t=>vp(t.layoutPosList[0])},{buttonText:"Random Positions",position:()=>new Vector(2e3*Math.random()-1e3,1200*Math.random()-600)},{buttonText:"Android Layout",position:t=>I_(vp(t.layoutPosList[1]),20,1.5),centerOffset:new Vector(0,120),forcePhysics:!1,straightEdges:!0},{buttonText:"Square",position:t=>I_(vp(t.layoutPosList[2]),27.5),centerOffset:new Vector(0,0),forcePhysics:!1,straightEdges:!0},{buttonText:"Horizontal Grid",position:t=>I_(vp(t.layoutPosList[3]),32.5),centerOffset:new Vector(-60,0),forcePhysics:!1,straightEdges:!0},{buttonText:"Distance from START",position:t=>I_(vp(t.layoutPosList[4]),17.5),centerOffset:new Vector(0,0),forcePhysics:!1,straightEdges:!0},{buttonText:"Blob",position:t=>vp(t.layoutPosList[5]),centerOffset:new Vector(50,0),forcePhysics:!1,straightEdges:!0,isUnlocked:()=>Themes.available().map(t=>t.name).includes("S11")}],Or={container:void 0,network:void 0,nodes:void 0,minScale:.2,maxScale:4,lastPerkNotation:"",pulseTimer:0,initialStabilization:!1,currentLayout:{},initializeIfNeeded(){const t=Notations.current.name;this.container!==void 0&&t===this.lastPerkNotation||(this.lastPerkNotation=t,this.makeNetwork(),this.network.on("click",e=>{const i=e.nodes[0];isFinite(i)&&(Perks.find(i).purchase(),this.updatePerkColor(),this.updatePerkSize())}),this.network.on("dragStart",()=>{const e=this.container.getElementsByClassName("vis-tooltip")[0];e!==void 0&&(e.style.visibility="hidden"),this.initialStabilization||(this.setPhysics(player.options.perkPhysicsEnabled),this.initialStabilization=!0)}),this.network.on("dragging",()=>{SecretAchievement(45).tryUnlock(),Theme.current().name==="S4"&&Or.updatePerkSize()}),this.network.on("zoom",()=>{const e=this.network.getScale(),i=Math.clamp(e,this.minScale,this.maxScale);e!==i&&this.network.moveTo({scale:i})}),this.network.on("stabilizationIterationsDone",()=>{this.initialStabilization||(this.resetPosition(!1),this.initialStabilization=!0),this.setPhysics(player.options.perkPhysicsEnabled)}))},makeNetwork(){function t(c){const d=document.createElement("div");return d.innerHTML=c,d}const e=c=>Pelle.isDoomed&&Pelle.uselessPerks.includes(c.id),i=c=>Og[player.options.perkLayout].position(c);this.nodes=new pd(Perks.all.map(c=>({id:c.id,label:c.config.label,shape:c.config.automatorPoints?"diamond":"dot",title:e(c)?t(`<span style='text-decoration: line-through;'>${c.config.description}</span>`):`${c.config.description} ${c.config.automatorPoints&&!e(c)?`(+${formatInt(c.config.automatorPoints)} AP)`:""}`,x:i(c.config).x,y:i(c.config).y})));const n=[];for(const c of Perks.all)for(const d of c.connectedPerks){const p=Math.min(c.id,d.id),m=Math.max(c.id,d.id);n.find(y=>y.from===p&&y.to===m)||n.push({from:p,to:m})}const r={nodes:this.nodes,edges:n},a={interaction:{hover:!0,hoverConnectedEdges:!1,selectConnectedEdges:!1,tooltipDelay:0},nodes:{shape:"dot",size:18,font:{size:0},borderWidth:2,shadow:!0},edges:{width:4,shadow:!0,hoverWidth:c=>c,selectionWidth:c=>c,color:{inherit:"both"},hidden:ui.view.theme==="S9"}},s=document.createElement("div");s.className="c-wide-canvas-element vis-network c-perk-network",s.tabIndex=900;const o=document.createElement("canvas");o.className="c-perk-network__canvas",s.appendChild(o),this.container=s,this.network=new bt(s,r,a)},setPhysics(t){const e=this.currentLayout.forcePhysics===void 0?t:this.currentLayout.forcePhysics;this.network.setOptions({physics:{enabled:e}})},setEdgeCurve(t){const e=this.currentLayout.straightEdges===void 0?t:!this.currentLayout.straightEdges;this.network.setOptions({edges:{smooth:{enabled:e}}})},moveToDefaultLayoutPositions(t){this.setPhysics(!1),this.setEdgeCurve(!1);for(const e of Object.keys(Or.network.getPositions())){const i=Number(e),n=Perks.all.find(a=>a.id===i).config,r=Og[t].position(n);this.network.moveNode(i,r.x,r.y)}this.initialStabilization=!1,this.resetPosition(!1),this.setEdgeCurve(!0)},forceNetworkRemake(){this.container=void 0,this.initializeIfNeeded(),this.setPhysics(!0)},resetPosition(t){const e=t?Or.network.body.nodes[GameDatabase.reality.perks.firstPerk.id]:Og[player.options.perkLayout].centerOffset??new Vector(0,0);this.network.moveTo({position:{x:e.x,y:e.y},scale:.4,offset:{x:0,y:0}})},setLabelVisibility(t){const e={nodes:{font:{size:t?20:0,color:Theme.current().isDark()?"#DDDDDD":"#222222"}}};this.network.setOptions(e)},updatePerkColor(){this.perkColorList=this.perkColorList??lQ();const t=this.perkColorList;function e(n){const r=t[n.config.family],a=r.primary,s=r.secondary;if(Pelle.isDoomed&&Pelle.uselessPerks.includes(n.id)){const _="#00bcd4",w="crimson",C=s;return{background:_,border:C,hover:{background:w,border:C},highlight:{background:_,border:C}}}const c=n.canBeBought,d=n.isBought;let p;c?Theme.current().isDark()?p="#EEEEEE":p="#111111":d?p=a:Theme.current().isDark()?p="#333333":p="#CCCCCC";const m=c||d?a:"#656565",y=s;return{background:p,border:y,hover:{background:m,border:y},highlight:{background:p,border:y}}}const i=Perks.all.map(n=>({id:n.id,color:e(n)}));this.nodes.update(i)},updatePerkSize(){function t(i){Or.pulseTimer+=.1;const n=Theme.current().name==="S4"?10*Math.sin(5*Or.pulseTimer+.1*i._config.id):0;return i._config.label==="START"?35+n:i.isBought?25+n:i.canBeBought?20+n:12+n}const e=Perks.all.map(i=>({id:i.id,size:t(i)}));this.nodes.update(e)}};var cQ=function(){var e=this,i=e._self._c;return i("div",{ref:"tab",staticClass:"c-perk-tab"},[i("PerkPointLabel")],1)},uQ=[],dQ=X(oQ,cQ,uQ,!1,null,"e432efd9");const xL=dQ.exports,hQ=Object.freeze(Object.defineProperty({__proto__:null,PerkLayouts:Og,PerkNetwork:Or,default:xL},Symbol.toStringTag,{value:"Module"}));class Y0{constructor(e){Y0.checkInputs(e),this.id=e.id,this.bitmaskIndex=e.bitmaskIndex,this.isGenerated=e.isGenerated,this.glyphTypes=e.glyphTypes,this._singleDesc=e.singleDesc,this._totalDesc=e.totalDesc??e.singleDesc,this._genericDesc=e.genericDesc??e.singleDesc.replace("{value}","x"),this._shortDesc=e.shortDesc,this.effect=e.effect,this.formatEffect=e.formatEffect??(i=>format(i,3,3)),this.formatSingleEffect=e.formatSingleEffect||this.formatEffect,this.combine=Y0.setupCombine(e),this.conversion=e.conversion,this.formatSecondaryEffect=e.formatSecondaryEffect||(i=>format(i,3,3)),this.formatSingleSecondaryEffect=e.formatSingleSecondaryEffect||this.formatSecondaryEffect,this.alteredColor=e.alteredColor,this.alterationType=e.alterationType,this._biggerIsBetter=void 0,this._enabledInDoomed=e.enabledInDoomed??!1}get biggerIsBetter(){return this._biggerIsBetter===void 0&&(this._biggerIsBetter=this.checkBiggerIsBetter()),this._biggerIsBetter}get singleDesc(){const e=this._singleDesc;return typeof e=="function"?e():e}get totalDesc(){const e=this._totalDesc;return typeof e=="function"?e():e}get genericDesc(){const e=this._genericDesc;return typeof e=="function"?e():e}get shortDesc(){const e=this._shortDesc;return typeof e=="function"?e():e}get isDisabledByDoomed(){return Pelle.isDoomed&&!this._enabledInDoomed}compareValues(e,i){const n=Decimal.compare(e,i);return this.biggerIsBetter?n:-n}checkBiggerIsBetter(){const e=new Decimal(this.effect(1,1.01));return new Decimal(this.effect(100,2)).gt(e)}static checkInputs(e){const i=["id","bitmaskIndex","glyphTypes","singleDesc","totalDesc","genericDesc","effect","formatEffect","formatSingleEffect","combine","softcap","conversion","formatSecondaryEffect","formatSingleSecondaryEffect","alteredColor","alterationType","isGenerated","shortDesc","enabledInDoomed"],n=Object.keys(e).find(s=>!i.includes(s));if(n!==void 0)throw new Error(`Glyph effect "${e.id}" includes unrecognized field "${n}"`);const r=e.glyphTypes.find(s=>!GLYPH_TYPES.includes(s));if(r!==void 0)throw new Error(`Glyph effect "${e.id}" references unknown glyphType "${r}"`);const a=e.combine([]);if(typeof a!="number"&&!(a instanceof Decimal)){if(a.value===void 0||a.capped===void 0)throw new Error(`The combine function for Glyph effect "${e.id}" has invalid return type`);if(e.softcap)throw new Error(`The combine function for Glyph effect "${e.id}" gives capped information, but there's also a softcap method`)}}static setupCombine(e){let i=e.combine;const n=e.softcap,r=i([]);if(typeof r=="number")return n===void 0?a=>({value:i(a),capped:!1}):a=>{const s=i(a),o=n(s);return{value:o,capped:s!==o}};if(r instanceof Decimal){if(n===void 0)return s=>({value:i(s),capped:!1});const a=r.value instanceof Decimal?(s,o)=>s.neq(o):(s,o)=>s!==o;return i=s=>{const o=i(s),c=n(o.value);return{value:c,capped:o.capped||a(o.value,c)}}}return i}}const fQ=[0,9e3,15e3,25e3],Kw=mapGameDataToObject(io.reality.glyphEffects,t=>new Y0(t));function DL(t){return Kw.all.filter(e=>e.glyphTypes.includes(t))}function pQ(t){return t.reduce((e,i)=>e+(1<<Kw[i].bitmaskIndex),0)}function IL(t){return orderedEffectList.map(e=>Kw[e]).filter(e=>(t&1<<e.bitmaskIndex)!==0)}function mQ(t){return IL(t).map(e=>e.id)}class yQ{constructor(e){if(this.id=e.id,this.effects=DL(e.id),this.primaryEffect=e.primaryEffect,this._isUnlocked=e.isUnlocked,this.alchemyResource=e.alchemyResource,this.hasRarity=e.hasRarity,!GLYPH_TYPES.includes(this.id))throw new Error(`Id ${this.id} not found in GLYPH_TYPES`)}get isUnlocked(){var e;return((e=this._isUnlocked)==null?void 0:e.call(this))??!0}}const gQ=mapGameDataToObject(io.reality.glyphTypes,t=>new yQ(t)),iA={...gQ,random(t,e=[]){const i=generatedTypes.filter(n=>(EffarigUnlock.reality.isUnlocked||n!=="effarig")&&!e.includes(n));return i[Math.floor(t.uniform()*i.length)]},get list(){return GLYPH_TYPES.map(t=>iA[t])},get locked(){return this.list.filter(t=>!t.isUnlocked)}},vQ={name:"AutomatorButton"};var bQ=function(){var e=this,i=e._self._c;return i("button",{staticClass:"c-automator__button l-automator__button fas",on:{click:e.emitClick}})},_Q=[],wQ=X(vQ,bQ,_Q,!1,null,"365844e0");const RL=wQ.exports,EQ={name:"AutomatorDataTransferSingleEntry",props:{script:{type:Object,required:!0}},data(){return{presets:[],constants:[],hidePresets:!0,hideConstants:!0}},computed:{presetData:()=>player.timestudy.presets,constantData:()=>player.reality.automator.constants,hasPresets(){var t;return(((t=this.presets)==null?void 0:t.length)??0)!==0},hasConstants(){var t;return(((t=this.constants)==null?void 0:t.length)??0)!==0}},methods:{update(){this.presets=AutomatorBackend.getUsedPresets(this.script.id),this.constants=AutomatorBackend.getUsedConstants(this.script.id)},iconClass(t){return t?"far fa-plus-square":"far fa-minus-square"},exportData(t){const e=AutomatorBackend.exportFullScriptData(t);e?(copyToClipboard(e),GameUI.notify.automator(`Exported all data associated with "${this.script.name}" to your clipboard`,6e3)):GameUI.notify.error("Could not export data from blank Automator script!")}}};var TQ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-entry-padding"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Export Full Script Data",expression:"'Export Full Script Data'"}],staticClass:"l-button-margin fas fa-file-export",on:{click:function(n){return e.exportData(e.script.id)}}}),i("b",[e._v("Script name: "+e._s(e.script.name))]),i("br"),e.hasPresets?i("span",[i("span",{class:e.iconClass(e.hidePresets),on:{click:function(n){e.hidePresets=!e.hidePresets}}}),e._v(" References "+e._s(e.quantifyInt("recognized study preset",e.presets.length))+" "),e.hidePresets?e._e():i("span",e._l(e.presets,function(n){return i("div",{key:n},[e.presetData[n].name?i("span",[e._v('"'+e._s(e.presetData[n].name)+'" (slot '+e._s(n+1)+"):")]):i("span",[e._v("Preset slot "+e._s(n+1)+":")]),i("br"),i("div",{staticClass:"l-value-padding"},[e.presetData[n].studies?i("span",[e._v(e._s(e.presetData[n].studies))]):i("i",[e._v("Empty Study Preset")])])])}),0)]):i("span",[e._v(" Does not reference any study presets. ")]),i("br"),e.hasConstants?i("span",[i("span",{class:e.iconClass(e.hideConstants),on:{click:function(n){e.hideConstants=!e.hideConstants}}}),e._v(" References "+e._s(e.quantifyInt("defined constant",e.constants.length))+" "),e.hideConstants?e._e():i("span",e._l(e.constants,function(n){return i("div",{key:n},[e._v(' "'+e._s(n)+'": '),i("br"),i("div",{staticClass:"l-value-padding"},[e._v(" "+e._s(e.constantData[n])+" ")])])}),0)]):i("span",[e._v(" Does not reference any defined constants. ")])])},CQ=[],kQ=X(EQ,TQ,CQ,!1,null,"03923e44");const SQ=kQ.exports,AQ={name:"AutomatorDataTransferPage",components:{AutomatorDataTransferSingleEntry:SQ},data(){return{scripts:0}},computed:{maxScriptCount:()=>AutomatorData.MAX_ALLOWED_SCRIPT_COUNT},created(){this.loadScripts(),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,()=>{this.loadScripts()})},methods:{loadScripts(){this.scripts=Object.values(player.reality.automator.scripts).map(t=>({id:t.id,name:t.name}))}}};var xQ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-panel-padding"},[e._v(" This page lets you import and export scripts with additional data attached; the encoded text will also include data for any Time Study presets or constants used within the script. This will allow you to more easily transfer working scripts between different save files, but you may have to overwrite existing data in the process due to limited space for study presets and constants. Data exported from this page is also imported in the same way that single script data is imported. "),i("br"),i("br"),e._v(' Note: Any mentions of constant names or full study-buying commands within comments will also be counted as being "used" within a script. This is intentional, as the comment is assumed to be indicative of what the script itself is attempting to do with presets or constants. '),i("br"),i("br"),e._l(e.scripts,function(n,r){return i("div",{key:r},[i("AutomatorDataTransferSingleEntry",{staticClass:"l-entry-margin",attrs:{script:n}})],1)})],2)},DQ=[],IQ=X(AQ,xQ,DQ,!1,null,"8020ec64");const RQ=IQ.exports,MQ={name:"AutomatorDefineSingleEntry",props:{constant:{type:String,required:!0}},data(){return{oldAlias:"",aliasString:"",valueString:""}},computed:{maxNameLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_NAME_LENGTH},maxValueLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_VALUE_LENGTH}},created(){this.aliasString=this.constant,this.oldAlias=this.aliasString,this.valueString=player.reality.automator.constants[this.aliasString]},methods:{currentError(){if(!this.aliasString)return null;const t=this.aliasString.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/u),e=Object.keys(player.reality.automator.constants).includes(this.aliasString)&&this.aliasString!==this.oldAlias,i=kU.some(s=>{const o=this.aliasString.toLowerCase().match(s);return o?o[0]===this.aliasString.toLowerCase():!1}),n=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","toValueOf"].some(s=>this.aliasString.match(s));if(!t)return"Constant name must be alphanumeric without spaces and cannot start with a number";if(e)return"You have already defined a constant with this name";if(i)return"Constant name conflicts with a command key word";if(n)return"Constant name cannot shadow a built-in Javascript prototype prop";if(!this.valueString)return"Constant value cannot be empty";const r=this.valueString.match(/^-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?$/u),a=TimeStudyTree.isValidImportString(this.valueString);return!r&&!a?"Constant value must either be a number or Time Study string":null},errorTooltip(){const t=this.currentError();if(t)return{content:`<div class="c-block-automator-error">
          <div>${t}</div>
        </div>`,html:!0,trigger:"manual",show:!0,classes:["general-tooltip"]}},handleFocus(t){t||this.currentError()||(this.aliasString?this.oldAlias?this.oldAlias===this.aliasString?AutomatorBackend.modifyConstant(this.aliasString,this.valueString):AutomatorBackend.renameConstant(this.oldAlias,this.aliasString):AutomatorBackend.addConstant(this.aliasString,this.valueString):AutomatorBackend.deleteConstant(this.oldAlias),this.oldAlias=this.aliasString,AutomatorData.recalculateErrors(),player.reality.automator.type===AUTOMATOR_TYPE.BLOCK&&BlockAutomator.parseTextFromBlocks())},deleteConstant(){AutomatorBackend.deleteConstant(this.aliasString),this.oldAlias="",this.aliasString="",this.valueString=""}}};var PQ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-single-definition-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.aliasString,expression:"aliasString"}],staticClass:"c-define-textbox c-alias",class:{"l-limit-textbox":e.aliasString.length===e.maxNameLength},attrs:{placeholder:"New constant...",maxlength:e.maxNameLength},domProps:{value:e.aliasString},on:{focusin:function(n){return e.handleFocus(!0)},focusout:function(n){return e.handleFocus(!1)},input:function(n){n.target.composing||(e.aliasString=n.target.value)}}}),e.aliasString?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.errorTooltip(),expression:"errorTooltip()"}],staticClass:"o-arrow-padding"},[e._v(" 🠈 ")]):e._e(),e.aliasString?i("input",{directives:[{name:"model",rawName:"v-model",value:e.valueString,expression:"valueString"}],staticClass:"c-define-textbox c-value",class:{"l-limit-textbox":e.valueString&&e.valueString.length===e.maxValueLength},attrs:{placeholder:"Value for constant...",maxlength:e.maxValueLength},domProps:{value:e.valueString},on:{focusin:function(n){return e.handleFocus(!0)},focusout:function(n){return e.handleFocus(!1)},input:function(n){n.target.composing||(e.valueString=n.target.value)}}}):e._e(),e.aliasString?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete this constant",expression:"'Delete this constant'"}],staticClass:"c-delete-button fas fa-eraser",on:{click:e.deleteConstant}}):e._e()])},OQ=[],NQ=X(MQ,PQ,OQ,!1,null,"6e6cd095");const GQ=NQ.exports,UQ={name:"AutomatorDefinePage",components:{AutomatorDefineSingleEntry:GQ,PrimaryButton:mt},data(){return{constants:[],count:0,refreshConstants:!1}},computed:{maxConstantCount(){return AutomatorData.MAX_ALLOWED_CONSTANT_COUNT},maxNameLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_NAME_LENGTH},maxValueLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_VALUE_LENGTH},hasConstants(){return this.constants.length>1||this.constants[0]!==""}},created(){this.on$(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED,()=>{this.refreshConstants=!0,this.$nextTick(()=>this.refreshConstants=!1)})},methods:{update(){const t=player.reality.automator.constantSortOrder;this.count=t.length,this.constants=this.count<this.maxConstantCount?[...t,""]:[...t]},deleteAllConstants(){this.hasConstants&&Modal.clearAutomatorConstants.show()},importPresets(){Modal.importTSConstants.show()}}};var LQ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-panel-padding"},[e._v(" This panel allows you to define case-sensitive constant values which can be used in place of numbers or Time Study import strings. These definitions are shared across all of your scripts and are limited to a maximum of "+e._s(e.maxConstantCount)+" defined constants. Additionally, constant names and values are limited to lengths of "+e._s(e.maxNameLength)+" and "+e._s(e.maxValueLength)+" characters respectively. Changes made to constants will not apply until any currently running scripts are restarted. "),i("br"),i("br"),e._v(" As a usage example, defining "),i("b",[e._v("first 🠈 11,21,22,31,32,33")]),e._v(" allows you to use "),i("b",[e._v("studies purchase first")]),e._v(" in order to purchase all of the studies in the first three rows. "),i("br"),i("br"),i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.hasConstants?null:"You have no valid constants to delete!",expression:"hasConstants ? null : 'You have no valid constants to delete!'"}],staticClass:"c-delete-margin o-primary-btn--subtab-option",class:{"o-primary-btn--disabled":!e.hasConstants},on:{click:e.deleteAllConstants}},[e._v(" Delete all constants ")]),i("br"),i("br"),i("PrimaryButton",{staticClass:"c-delete-margin o-primary-btn--subtab-option",on:{click:e.importPresets}},[e._v(" Import Time Study Presets ")]),i("div",{key:e.count+e.refreshConstants,staticClass:"l-definition-container"},e._l(e.constants,function(n,r){return i("AutomatorDefineSingleEntry",{key:r,attrs:{constant:n}})}),1)],1)},BQ=[],$Q=X(UQ,LQ,BQ,!1,null,"f0be6c4d");const FQ=$Q.exports,HQ={name:"AutomatorDocsManPage",props:{command:{type:Object,required:!0}},computed:{description(){const t=this.command.description;return typeof t=="function"?t():t}}};var VQ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-docs-page"},[i("b",[e._v("NAME")]),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(e.command.keyword)}}),i("b",[e._v("SYNTAX")]),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(e.command.syntax)}}),e.command.description?[i("b",[e._v("DESCRIPTION")]),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(e.description)}})]:e._e(),e._l(e.command.sections,function(n){return[i("b",{key:n.name},[e._v(e._s(n.name))]),e._l(n.items,function(r){return[i("div",{key:r.header,staticClass:"c-automator-docs-page__indented"},[i("div",{domProps:{innerHTML:e._s(r.header)}}),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(r.description)}})])]})]}),e.command.examples?[i("b",[e._v("USAGE EXAMPLES")]),e._l(e.command.examples,function(n){return i("div",{key:n,staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(n)}})})]:e._e()],2)},YQ=[],qQ=X(HQ,VQ,YQ,!1,null,"314865fa");const WQ=qQ.exports,jQ={name:"AutomatorDocsCommandList",components:{AutomatorDocsManPage:WQ},data(){return{selectedCommand:-1}},computed:{categoryNames:()=>GameDatabase.reality.automator.categoryNames,commands:()=>GameDatabase.reality.automator.commands},methods:{commandsInCategory(t){return this.commands.filter(e=>e.category===t&&e.isUnlocked())}}};var zQ=function(){var e=this,i=e._self._c;return i("div",[e.selectedCommand!==-1?i("div",[i("button",{staticClass:"c-automator-docs--button l-return-button fas fa-arrow-left",on:{click:function(n){e.selectedCommand=-1}}}),e._v(" Return to the Command List ")]):e._e(),e.selectedCommand!==-1?i("AutomatorDocsManPage",{attrs:{command:e.commands[e.selectedCommand]}}):i("div",{staticClass:"c-automator-docs-page"},[e._v(" Click on an underlined command to see more details on syntax, usage, and functionality. "),i("br"),i("br"),i("span",[e._v("Command List:")]),i("br"),e._l(e.categoryNames,function(n,r){return i("div",{key:r},[e._v(" "+e._s(n)+" ("+e._s(e.commandsInCategory(r).length)+" commands) "),e._l(e.commandsInCategory(r),function(a){return i("div",{key:a.id,staticClass:"c-automator-docs-page__link l-command-group",on:{click:function(s){e.selectedCommand=a.id}}},[a.isUnlocked()?i("span",[e._v(" "+e._s(a.keyword)+" ")]):e._e()])})],2)}),i("br"),i("span",[e._v(" Note: In the SYNTAX note on each command, "),i("u",[e._v("underlined")]),e._v(" inputs are "),i("i",[e._v("required")]),e._v(" inputs which you must fill and inputs in [square brackets] are optional (if used, they should be input "),i("i",[e._v("without")]),e._v(" the brackets). Any other parts should be typed in as they appear. Unless otherwise stated, all of the inputs are case-insensitive. Some commands may have more than one valid format, which will appear on separate lines. ")])],2)],1)},XQ=[],KQ=X(jQ,zQ,XQ,!1,null,"fdf764c9");const ZQ=KQ.exports,QQ={name:"AutomatorDocsIntroPage"};var JQ=function(){var e=this;return e._self._c,e._m(0)},eJ=[function(){var t=this,e=t._self._c;return e("div",[t._v(" Welcome to the Antimatter Dimensions Automator! "),e("br"),e("br"),t._v(" This page is an introduction page which gives a very broad overview of everything you can do with the Automator. Specific details on various functionality can be found in the How To Play or their respective tabs (when relevant). "),e("br"),e("br"),e("b",[t._v("Scripting Language:")]),t._v(" The Automator uses a custom scripting language in order to perform certain game actions for you. Click "),e("div",{staticClass:"fas fa-list c-automator-button-icon"}),t._v(" to bring up a list of available commands. You can also define constants as shorthand names for various values on the "),e("div",{staticClass:"fas fa-book c-automator-button-icon"}),t._v(" page. "),e("br"),e("br"),e("b",[t._v("Layout:")]),t._v(" This Automator itself is split up into two halves; the left half contains your script and controls for starting, stopping, and repeating its execution, and the right half contains Automator information. Clicking "),e("div",{staticClass:"fas fa-expand-arrows-alt c-automator-button-icon"}),t._v(" in the top-right corner will expand the Automator to take up the whole browser page for easier editing. "),e("br"),e("br"),e("b",[t._v("Editor Modes:")]),t._v(" There are two different editors you can use to write your automator scripts - a block-based editor (default) and a text-based editor. You can swap between the two editor types with the switch in the top-right corner of the left half. Note that scripts with errors may not properly convert between the two modes, which can cause part of your script to be deleted. "),e("br"),e("br"),e("b",[t._v("Making Scripts:")]),t._v(" You can switch between multiple scripts or make new scripts using the dropdown on the second row of buttons. The current script can be renamed or deleted with the "),e("div",{staticClass:"fas fa-edit c-automator-button-icon"}),t._v(" and "),e("div",{staticClass:"fas fa-trash c-automator-button-icon"}),t._v(" buttons. The Automator will always contain at least one script for you to edit; deleting your last one will automatically create a new blank one. "),e("br"),e("br"),e("b",[t._v("Writing Scripts:")]),t._v(" Scripts in the block editor are made by going to the block tab "),e("div",{staticClass:"fas fa-cubes c-automator-button-icon"}),t._v(", while scripts in the text editor are made by typing into the left half as a text box. In either editor mode, you can also use some smaller premade scripts from the template generator "),e("div",{staticClass:"fas fa-file-code c-automator-button-icon"}),t._v(". You can undo or redo a limited number of edits using "),e("div",{staticClass:"fas fa-arrow-rotate-left c-automator-button-icon"}),t._v(" or "),e("div",{staticClass:"fas fa-arrow-rotate-right c-automator-button-icon"}),t._v(", or by using the respective hotkeys. Edit history is cleared upon switching, converting, or deleting scripts. "),e("br"),e("br"),e("b",[t._v("Debugging:")]),t._v(" The two main tools you have for fixing your scripts are the Error Log "),e("div",{staticClass:"fas fa-exclamation-triangle c-automator-button-icon"}),t._v(" for when you can't get your script to run at all, and the Event Log "),e("div",{staticClass:"fas fa-eye c-automator-button-icon"}),t._v(" for when it runs but doesn't do what you expect it to do. "),e("br"),e("br"),e("b",[t._v("Importing/Exporting:")]),t._v(" Automator scripts can be exported and imported in text format by using the "),e("div",{staticClass:"fas fa-file-export c-automator-button-icon"}),t._v(" and "),e("div",{staticClass:"fas fa-file-import c-automator-button-icon"}),t._v(" buttons respectively. You can also access additional extended exporting options "),e("div",{staticClass:"fas fa-window-restore c-automator-button-icon"}),t._v(" if desired. "),e("br"),e("br"),e("b",[t._v("Script saving:")]),t._v(" Script changes are not immediately saved to your computer under all conditions; check the Automator How To Play entries for more details. Additionally there are two character limits to reduce lag, shown above the automator panels. ")])}],tJ=X(QQ,JQ,eJ,!1,null,"691dd874");const iJ=tJ.exports,nJ={name:"AutomatorDocsTemplateList",data(){return{isBlock:!1,blockTemplates:[],selectedTemplateID:-1}},computed:{templates:()=>GameDatabase.reality.automator.templates.scripts,pasteText(){return this.isBlock?`create a special block you can drag into your Automator where you would like it to be placed. It will then
          automatically fill in all of the individual blocks needed for the template`:`copy the template as text onto your clipboard. You can directly paste the template text into your Automator
          wherever you would like it`}},methods:{update(){this.isBlock=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK,this.blockTemplates=AutomatorData.blockTemplates},showModal(t){Modal.automatorScriptTemplate.show(t)},unpackTemplateBlocks(t){const e=this.blockTemplates[this.selectedTemplateID].blocks,i=BlockAutomator.lines.slice(0,t.newIndex),n=BlockAutomator.lines.slice(t.newIndex).filter(o=>o.cmd),r=Math.max(...BlockAutomator._idArray.filter(o=>o)),a=Math.min(...e.map(o=>o.id)),s=[];for(const o of e)s.push({...o,id:o.id+r-a+1});BlockAutomator.lines=i,BlockAutomator.lines.push(...s),BlockAutomator.lines.push(...n),BlockAutomator.updateIdArray()},setIndex(t){this.selectedTemplateID=t}}};var rJ=function(){var e=this,i=e._self._c;return i("div",[e._v(" These templates will let you do some more common things within the Automator. They may be slightly slower than manually-written scripts, but don't require you to have any previous programming experience to use. Clicking any of these buttons will open up a prompt with some input fields, which will generate a template you can place into your Automator. "),e._l(e.templates,function(n){return i("button",{key:n.name,staticClass:"o-primary-btn c-automator-docs-template--button l-automator__button",on:{click:function(r){return e.showModal(n)}}},[e._v(" Template: "+e._s(n.name)+" ")])}),e._v(" Since you are currently in the "+e._s(e.isBlock?"Block":"Text")+" editor, this panel will "+e._s(e.pasteText)+". "),i("br"),i("br"),e.isBlock?i("draggable",{key:e.blockTemplates.length,staticClass:"template-container",attrs:{list:e.blockTemplates,group:{name:"code-blocks",pull:"clone",put:!1},sort:!1},on:{end:e.unpackTemplateBlocks}},e._l(e.blockTemplates,function(n,r){return i("div",{key:r,staticClass:"o-automator-command o-automator-block-list draggable-blocks",on:{dragstart:function(a){return e.setIndex(r)}}},[e._v(" "+e._s(n.name)+" ")])}),0):e._e()],2)},aJ=[],sJ=X(nJ,rJ,aJ,!1,null,"2f4da6f6");const oJ=sJ.exports,lJ={name:"AutomatorErrorPage",data(){return{errors:[]}},methods:{update(){this.errors=AutomatorData.currentErrors()},scrollToLine(t){AutomatorScroller.scrollToLine(t),AutomatorHighlighter.updateHighlightedLine(t,LineEnum.Error)}}};var cJ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-docs-page"},[e.errors.length===0?i("div",[e._v(" No script errors found! ")]):i("div",[i("b",[e._v("Your script has the following "+e._s(e.quantify("error",e.errors.length))+":")]),i("br"),e._l(e.errors,function(n,r){return i("span",{key:r},[i("b",[e._v("On line "+e._s(n.startLine)+":")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Jump to line",expression:"'Jump to line'"}],staticClass:"c-automator-docs--button fas fa-arrow-circle-right",on:{click:function(a){return e.scrollToLine(n.startLine)}}}),i("div",{staticClass:"c-automator-docs-page__indented"},[e._v(" "+e._s(n.info)+" ")]),i("div",{staticClass:"c-automator-docs-page__indented"},[i("i",[e._v("Suggested fix: "+e._s(n.tip))])])])}),i("i",[e._v(' Note: Sometimes errors may cause the automator to be unable to scan the rest of the script properly. This may result in some errors "disappearing" due to other errors occurring in earlier lines, or errors in a command which has an inner block (eg. commands like IF or WHILE) causing errors to appear on correctly-formatted later commands. Additionally, some of the suggested fixes may be potentially misleading due to the cause of the error being unclear. ')])],2)])},uJ=[],dJ=X(lJ,cJ,uJ,!1,null,"2cbbdd62");const hJ=dJ.exports,fJ={name:"AutomatorEventLog",data(){return{unsortedEvents:[],newestFirst:!1,timestampMode:0,currentTime:0,maxEntries:0,clearOnReality:!1,clearOnRestart:!1}},computed:{events(){const t=this.unsortedEvents.slice(0).sort((e,i)=>e.timestamp===i.timestamp?e.thisReality===i.thisReality?e.line-i.line:e.thisReality-i.thisReality:e.timestamp-i.timestamp);return this.newestFirst?t.reverse():t},clearTooltip(){return`Clear all entries (Max. ${this.maxEntries})`},buttonClassObject(){return"c-automator-docs--button fas"}},watch:{newestFirst(t){player.options.automatorEvents.newestFirst=t},timestampMode(t){player.options.automatorEvents.timestampType=t},clearOnReality(t){player.options.automatorEvents.clearOnReality=t},clearOnRestart(t){player.options.automatorEvents.clearOnRestart=t}},methods:{update(){const t=player.options.automatorEvents;this.unsortedEvents=AutomatorData.eventLog,this.newestFirst=t.newestFirst,this.timestampMode=t.timestampType,this.currentTime=Date.now(),this.maxEntries=t.maxEntries,this.clearOnReality=t.clearOnReality,this.clearOnRestart=t.clearOnRestart},clearLog(){AutomatorData.clearEventLog(),this.update()},sortStyle(t){return{"background-color":t?"var(--color-reality)":""}},timestampStyle(t){return{"background-color":this.timestampMode===Eh[t]?"var(--color-reality)":""}},clearRealityStyle(){return{"background-color":this.clearOnReality?"var(--color-reality)":""}},clearRestartStyle(){return{"background-color":this.clearOnRestart?"var(--color-reality)":""}},setTimestampMode(t){this.timestampMode=Eh[t]},timestamp(t){switch(this.timestampMode){case Eh.DISABLED:return"";case Eh.THIS_REALITY:return`, ${TimeSpan.fromSeconds(t.thisReality).toStringShort()} (real-time) in Reality`;case Eh.RELATIVE_NOW:return`, ${TimeSpan.fromMilliseconds(this.currentTime-t.timestamp).toStringShort()} ago`;case Eh.RELATIVE_PREV:return t.timegap===t.timestamp?", first logged event":`, ${TimeSpan.fromMilliseconds(t.timegap).toStringShort()} after previous event`;case Eh.DATE_TIME:return`, ${Time.toDateTimeString(t.timestamp)}`;default:throw Error("Unrecognized timestamp mode in Automator event log")}},scrollToLine(t){AutomatorScroller.scrollToLine(t),AutomatorHighlighter.updateHighlightedLine(t,LineEnum.Event)}}},Eh={DISABLED:0,THIS_REALITY:1,RELATIVE_NOW:2,RELATIVE_PREV:3,DATE_TIME:4};var pJ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-docs-page"},[i("div",[e._v(" This panel keeps a running event log of all the commands which the automator has recently executed, with a little extra info on some of the commands. It may be useful to help you find problems if you find your automator is getting stuck in certain spots. "),i("br"),i("br"),e._v(" While your settings are kept within your savefile, the actual events are not and will disappear on refresh. "),i("br"),i("br"),i("b",[e._v("Entry Sorting:")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Oldest results first",expression:"'Oldest results first'"}],staticClass:"fa-angle-down",class:e.buttonClassObject,style:e.sortStyle(!e.newestFirst),on:{click:function(n){e.newestFirst=!1}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Newest results first",expression:"'Newest results first'"}],staticClass:"fa-angle-up",class:e.buttonClassObject,style:e.sortStyle(e.newestFirst),on:{click:function(n){e.newestFirst=!0}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.clearTooltip,expression:"clearTooltip"}],staticClass:"fa-trash",class:e.buttonClassObject,on:{click:e.clearLog}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Clear event log every Reality",expression:"'Clear event log every Reality'"}],staticClass:"fa-eraser",class:e.buttonClassObject,style:e.clearRealityStyle(),on:{click:function(n){e.clearOnReality=!e.clearOnReality}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Clear event log on script restart",expression:"'Clear event log on script restart'"}],staticClass:"fa-backspace",class:e.buttonClassObject,style:e.clearRestartStyle(),on:{click:function(n){e.clearOnRestart=!e.clearOnRestart}}})]),i("div",[i("b",[e._v("Timestamp style:")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"No timestamps",expression:"'No timestamps'"}],staticClass:"fa-ban",class:e.buttonClassObject,style:e.timestampStyle("DISABLED"),on:{click:function(n){return e.setTimestampMode("DISABLED")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Current time this Reality",expression:"'Current time this Reality'"}],staticClass:"fa-stopwatch",class:e.buttonClassObject,style:e.timestampStyle("THIS_REALITY"),on:{click:function(n){return e.setTimestampMode("THIS_REALITY")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Time elapsed since event",expression:"'Time elapsed since event'"}],staticClass:"fa-clock",class:e.buttonClassObject,style:e.timestampStyle("RELATIVE_NOW"),on:{click:function(n){return e.setTimestampMode("RELATIVE_NOW")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Time since last event",expression:"'Time since last event'"}],staticClass:"fa-arrow-left",class:e.buttonClassObject,style:e.timestampStyle("RELATIVE_PREV"),on:{click:function(n){return e.setTimestampMode("RELATIVE_PREV")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Date and time",expression:"'Date and time'"}],staticClass:"fa-user-clock",class:e.buttonClassObject,style:e.timestampStyle("DATE_TIME"),on:{click:function(n){return e.setTimestampMode("DATE_TIME")}}})]),e._l(e.events,function(n,r){return i("span",{key:r},[i("b",[e._v("Line "+e._s(n.line)+e._s(e.timestamp(n))+":")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Jump to line",expression:"'Jump to line'"}],staticClass:"fa-arrow-circle-right",class:e.buttonClassObject,on:{click:function(a){return e.scrollToLine(n.line)}}}),i("div",{staticClass:"c-automator-docs-page__indented"},[i("i",[e._v(e._s(n.message))])])])})],2)},mJ=[],yJ=X(fJ,pJ,mJ,!1,null,"9e1ad02a");const gJ=yJ.exports,vJ={name:"AutomatorScriptDropdownEntryList",data(){return{isBlock:!1,currentScriptID:0,runningScriptID:0,isRunning:!1,isPaused:!1,canMakeNewScript:!1}},computed:{scripts(){return Object.values(player.reality.automator.scripts).map(t=>({id:t.id,name:t.name}))},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},scriptCount(){return Object.keys(player.reality.automator.scripts).length},maxScriptCount(){return AutomatorData.MAX_ALLOWED_SCRIPT_COUNT}},created(){this.currentScriptID=player.reality.automator.state.editorScript,this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,()=>{this.$recompute("scripts")})},methods:{update(){this.isBlock=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK,this.runningScriptID=AutomatorBackend.state.topLevelScript,this.isRunning=AutomatorBackend.isRunning,this.isPaused=AutomatorBackend.isOn&&!AutomatorBackend.isRunning,this.canMakeNewScript=this.scriptCount<this.maxScriptCount},changeScriptID(t){this.currentScriptID=t,player.reality.automator.state.editorScript=t,this.updateCurrentScriptID()},createNewScript(){const t=AutomatorBackend.newScript();player.reality.automator.state.editorScript=t.id,this.updateCurrentScriptID(),this.$parent.$parent.rename()},updateCurrentScriptID(){const t=player.reality.automator.scripts;this.currentScriptID=player.reality.automator.state.editorScript,t[this.currentScriptID]===void 0&&(this.currentScriptID=Number(Object.keys(t)[0]),player.reality.automator.state.editorScript=this.currentScriptID),this.isBlock&&this.$nextTick(()=>BlockAutomator.updateEditor(this.currentScript)),this.$parent.openRequest=!1,AutomatorData.clearUndoData()},dropdownLabel(t){const e=[];t.id===this.currentScriptID&&e.push("viewing"),t.id===this.runningScriptID&&(this.isRunning?e.push("running"):this.isPaused&&e.push("paused"));const i=e.length?`(${e.join(", ").capitalize()})`:"";return`${t.name} ${i}`},labelClassObject(t){const e=this.isRunning||this.isPaused;return{"c-automator-docs-script-select":!0,"l-active-script":t===this.runningScriptID&&e,"l-selected-script":t===this.currentScriptID&&(t!==this.runningScriptID||!e)}}}};var bJ=function(){var e=this,i=e._self._c;return i("div",{key:e.scripts.length},[e._l(e.scripts,function(n){return i("div",{key:n.id,staticClass:"l-script-option c-script-option-hover-effect",class:e.labelClassObject(n.id),on:{click:function(r){return e.changeScriptID(n.id)}}},[e._v(" "+e._s(e.dropdownLabel(n))+" ")])}),e.canMakeNewScript?i("div",{staticClass:"l-create-script c-automator-docs-script-select c-script-option-hover-effect",on:{click:function(n){return e.createNewScript()}}},[i("i",[e._v("Create a new script (You have "+e._s(e.formatInt(e.scriptCount))+" / "+e._s(e.formatInt(e.maxScriptCount))+")")])]):i("div",{staticClass:"l-create-script c-automator-docs-script-select l-max-scripts"},[i("i",[e._v("You can only have "+e._s(e.formatInt(e.maxScriptCount))+" scripts!")])])],2)},_J=[],wJ=X(vJ,bJ,_J,!1,null,"50109d28");const EJ=wJ.exports,TJ={name:"ExpandingControlBox",props:{containerClass:{type:String,required:!1,default:void 0},label:{type:String,required:!1,default:void 0},widthSource:{type:String,required:!1,default:void 0},buttonClass:{type:String,required:!1,default:"l-expanding-control-box__button"},autoClose:{type:Boolean,required:!1,default:!1}},data(){return{state:null,openRequest:!1,closedHeight:"1em",openHeight:"1em",hasMouse:!1,closeTime:0}},computed:{states:()=>({CLOSED:{name:"CLOSED",transition:!1,visibility:!1,height:"closed"},OPEN_REQUESTED:{name:"OPEN_REQUESTED",transition:!0,visibility:!0,height:"closed"},OPENING:{name:"OPENING",transition:!0,visibility:!0,height:"open"},OPEN:{name:"OPEN",transition:!1,visibility:!0,height:null},CLOSE_REQUESTED:{name:"CLOSE_REQUESTED",transition:!1,visibility:!0,height:"open"},CLOSING:{name:"CLOSING",transition:!0,visibility:!0,height:"closed"}}),maxHeight(){return this.state.height==="open"?this.openHeight:this.state.height==="closed"?this.closedHeight:null},rootClassObject(){return{"l-expanding-control-box--controls-width":this.widthSource!==void 0}},containerStyle(){return{maxHeight:this.maxHeight,visibility:this.state.visibility}},containerClassObject(){var e;const t={"l-expanding-control-box__container--transition":(e=this.state)==null?void 0:e.transition};return t[this.containerClass]=!0,t},indicatorArrowClassObject(){return{"c-indicator-arrow":!0,"c-indicator-arrow--flipped":this.state===this.states.OPENING||this.state===this.states.OPEN}}},watch:{state(t){switch(this.processRequest(t,this.openRequest),this.updateHeightInfo(),this.state){case this.states.CLOSED:break;case this.states.OPEN_REQUESTED:this.$nextTick(()=>this.state=this.states.OPENING);break;case this.states.OPENING:break;case this.states.OPEN:break;case this.states.CLOSE_REQUESTED:this.$nextTick(()=>this.state=this.states.CLOSING);break;case this.CLOSING:break}},openRequest(t){this.processRequest(this.state,t)}},created(){this.state=this.states.CLOSED,this.on$("openrequest",()=>this.openRequest=!0)},mounted(){this.updateHeightInfo(),this.$refs.root.style.height=this.closedHeight,this.updateBaseWidth()},methods:{update(){const t=this.hasMouse?0:(Date.now()-this.closeTime)/1e3;this.autoClose&&this.state===this.states.OPEN&&t>1&&(this.openRequest=!1)},processRequest(t,e){e&&(t===this.states.CLOSED||t===this.states.CLOSE_REQUESTED)&&(this.state=this.states.OPEN_REQUESTED),!e&&(t===this.states.OPEN||t===this.states.OPEN_REQUESTED)&&(this.state=this.states.CLOSE_REQUESTED)},updateBaseWidth(){this.widthSource==="content"?(this.$refs.container.style.width=`${this.$refs.dropdown.offsetWidth}px`,this.$refs.root.style.width=`${this.$refs.dropdown.offsetWidth}px`):this.widthSource==="header"&&(this.$refs.root.style.width=`${this.$refs.container.offsetWidth}px`)},updateHeightInfo(){const t=this.$refs.expandButton.offsetHeight;this.closedHeight=`${t}px`,this.openHeight=`${t+this.$refs.dropdown.offsetHeight}px`},transitionEnd(t){t.propertyName==="max-height"&&(this.state===this.states.OPENING?this.state=this.states.OPEN:this.state===this.states.CLOSING&&(this.state=this.states.CLOSED))},handleClick(){this.openRequest=!this.openRequest,this.hasMouse=this.openRequest},mouseOn(){this.hasMouse=!0},mouseOff(){this.hasMouse=!1,this.closeTime=Date.now()}}};var CJ=function(){var e=this,i=e._self._c;return i("div",{ref:"root",staticClass:"l-expanding-control-box",class:e.rootClassObject},[i("div",{ref:"container",staticClass:"l-expanding-control-box__container",class:e.containerClassObject,style:e.containerStyle,on:{transitionend:e.transitionEnd,mouseenter:e.mouseOn,mouseleave:e.mouseOff}},[e.$slots.header?i("div",{ref:"expandButton",on:{click:e.handleClick}},[e._t("header")],2):i("div",{ref:"expandButton",class:e.buttonClass,on:{click:e.handleClick}},[e._v(" "+e._s(e.label)+" "),i("span",{class:e.indicatorArrowClassObject},[e._v(" ▼ ")])]),i("div",{ref:"dropdown"},[e._t("dropdown")],2)])])},kJ=[],SJ=X(TJ,CJ,kJ,!1,null,"7e36c857");const dc=SJ.exports,Ip={INTRO_PAGE:0,COMMANDS:1,ERRORS:2,EVENTS:3,DATA_TRANSFER:4,CONSTANTS:5,TEMPLATES:6,BLOCKS:7},AJ={name:"AutomatorDocs",components:{AutomatorButton:RL,AutomatorDocsCommandList:ZQ,AutomatorErrorPage:hJ,AutomatorEventLog:gJ,AutomatorDataTransferPage:RQ,AutomatorBlocks:IU,AutomatorDocsIntroPage:iJ,AutomatorDocsTemplateList:oJ,AutomatorDefinePage:FQ,AutomatorScriptDropdownEntryList:EJ,ExpandingControlBox:dc},data(){return{isBlock:!1,infoPaneID:1,errorCount:0,editingName:!1,isNameTooLong:!1,scripts:[],runningScriptID:0,totalChars:0,scriptCount:0,canMakeNewScript:!0}},computed:{fullScreen:{get(){return this.$viewModel.tabs.reality.automator.fullScreen},set(t){this.$viewModel.tabs.reality.automator.fullScreen=t,AutomatorData.isEditorFullscreen=t}},fullScreenIconClass(){return this.fullScreen?"fa-compress-arrows-alt":"fa-expand-arrows-alt"},fullScreenTooltip(){return this.fullScreen?"Exit full screen":"Expand to full screen"},errorTooltip(){return`Your script has ${quantify("error",this.errorCount)}`},nameTooltip(){return this.isNameTooLong?`Names cannot be longer than ${formatInt(AutomatorData.MAX_ALLOWED_SCRIPT_NAME_LENGTH)} characters!`:""},currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(t){this.$viewModel.tabs.reality.automator.editorScriptID=t,AutomatorTextUI.editor&&AutomatorTextUI.editor.performLint()}},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},errorStyle(){return{"background-color":this.errorCount===0?"":"red"}},maxTotalChars(){return AutomatorData.MAX_ALLOWED_TOTAL_CHARACTERS},maxScriptCount(){return AutomatorData.MAX_ALLOWED_SCRIPT_COUNT},panelEnum(){return Ip},importTooltip(){return this.canMakeNewScript?"Import single automator script or data":"You have too many scripts to import another!"},currentEditorScriptName(){return this.scripts.find(t=>t.id===this.currentScriptID).name}},watch:{infoPaneID(t){player.reality.automator.currentInfoPane=t}},created(){this.on$(GAME_EVENT.GAME_LOAD,()=>this.onGameLoad()),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,()=>this.onGameLoad()),this.on$(GAME_EVENT.AUTOMATOR_TYPE_CHANGED,()=>this.openMatchingAutomatorTypeDocs()),this.onGameLoad()},destroyed(){this.fullScreen=!1},methods:{update(){this.isBlock=player.reality.automator.type===Er.BLOCK,this.infoPaneID=player.reality.automator.currentInfoPane,this.errorCount=AutomatorData.currentErrors().length,this.runningScriptID=AutomatorBackend.state.topLevelScript,this.totalChars=AutomatorData.totalScriptCharacters(),this.scriptCount=Object.keys(player.reality.automator.scripts).length,this.canMakeNewScript=this.scriptCount<this.maxScriptCount,this.currentScriptID=player.reality.automator.state.editorScript},exportScript(){const t=AutomatorBackend.exportCurrentScriptContents();t?(copyToClipboard(t),GameUI.notify.automator("Exported current Automator script to your clipboard")):GameUI.notify.error("Could not export blank Automator script!")},importScript(){this.canMakeNewScript&&Modal.importScriptData.show()},onGameLoad(){this.updateCurrentScriptID(),this.updateScriptList(),this.fixAutomatorTypeDocs()},updateScriptList(){this.scripts=Object.values(player.reality.automator.scripts).map(t=>({id:t.id,name:t.name}))},updateCurrentScriptID(){AutomatorData.recalculateErrors();const t=player.reality.automator.scripts;this.currentScriptID=player.reality.automator.state.editorScript,t[this.currentScriptID]===void 0&&(this.currentScriptID=Number(Object.keys(t)[0]),player.reality.automator.state.editorScript=this.currentScriptID,AutomatorData.clearUndoData()),this.isBlock&&BlockAutomator.hasUnparsableCommands(this.currentScript)&&this.currentScript!==""&&(AutomatorBackend.changeModes(this.currentScriptID),Modal.message.show("Some script commands were unrecognizable - defaulting to text editor.")),this.$nextTick(()=>{BlockAutomator.updateEditor(this.currentScript),!this.isBlock&&AutomatorTextUI.editor&&AutomatorTextUI.editor.performLint()})},fixAutomatorTypeDocs(){const t=player.reality.automator;t.currentInfoPane===Ip.COMMANDS&&t.type===Er.BLOCK&&this.openMatchingAutomatorTypeDocs(),t.currentInfoPane===Ip.BLOCKS&&t.type===Er.TEXT&&this.openMatchingAutomatorTypeDocs()},openMatchingAutomatorTypeDocs(){const t=player.reality.automator;t.currentInfoPane=t.type===Er.BLOCK?Ip.BLOCKS:Ip.COMMANDS},rename(){this.editingName=!0,this.$nextTick(()=>{this.updateCurrentScriptID(),this.$refs.renameInput.value=player.reality.automator.scripts[this.currentScriptID].name,this.$refs.renameInput.focus()})},deleteScript(){Modal.automatorScriptDelete.show({scriptID:this.currentScriptID})},nameEdited(){const t=this.$refs.renameInput.value.match(/^\s*(.*?)\s*$/u);let e="";if(t.length===2&&t[1].length>0&&(e=t[1]),e.length>AutomatorData.MAX_ALLOWED_SCRIPT_NAME_LENGTH){this.isNameTooLong=!0;return}this.isNameTooLong=!1,player.reality.automator.scripts[this.currentScriptID].name=e,this.updateScriptList(),this.$nextTick(()=>this.editingName=!1)},activePanelClass(t){return{"c-automator__button--active":this.infoPaneID===t}}}};var xJ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-automator-pane"},[i("div",{staticClass:"c-automator__controls l-automator__controls"},[i("div",{staticClass:"l-automator-button-row"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Automator Introduction",expression:"'Automator Introduction'"}],staticClass:"fa-circle-info",class:e.activePanelClass(e.panelEnum.INTRO_PAGE),on:{click:function(n){e.infoPaneID=e.panelEnum.INTRO_PAGE}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Scripting Information",expression:"'Scripting Information'"}],staticClass:"fa-list",class:e.activePanelClass(e.panelEnum.COMMANDS),on:{click:function(n){e.infoPaneID=e.panelEnum.COMMANDS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.errorTooltip,expression:"errorTooltip"}],staticClass:"fa-exclamation-triangle",class:e.activePanelClass(e.panelEnum.ERRORS),style:e.errorStyle,on:{click:function(n){e.infoPaneID=e.panelEnum.ERRORS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Extended Data Transfer",expression:"'Extended Data Transfer'"}],staticClass:"fa-window-restore",class:e.activePanelClass(e.panelEnum.DATA_TRANSFER),on:{click:function(n){e.infoPaneID=e.panelEnum.DATA_TRANSFER}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"View recently executed commands",expression:"'View recently executed commands'"}],staticClass:"fa-eye",class:e.activePanelClass(e.panelEnum.EVENTS),on:{click:function(n){e.infoPaneID=e.panelEnum.EVENTS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Modify defined constants",expression:"'Modify defined constants'"}],staticClass:"fa-book",class:e.activePanelClass(e.panelEnum.CONSTANTS),on:{click:function(n){e.infoPaneID=e.panelEnum.CONSTANTS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Template Creator List",expression:"'Template Creator List'"}],staticClass:"fa-file-code",class:e.activePanelClass(e.panelEnum.TEMPLATES),on:{click:function(n){e.infoPaneID=e.panelEnum.TEMPLATES}}}),e.isBlock?i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Command menu for Block editor mode",expression:"'Command menu for Block editor mode'"}],staticClass:"fa-cubes",class:e.activePanelClass(e.panelEnum.BLOCKS),on:{click:function(n){e.infoPaneID=e.panelEnum.BLOCKS}}}):e._e(),e.fullScreen?i("span",{staticClass:"c-automator__status-text c-automator__status-text--small",class:{"c-automator__status-text--error":e.totalChars>e.maxTotalChars}},[e._v(" Across all scripts: "+e._s(e.formatInt(e.totalChars))+"/"+e._s(e.formatInt(e.maxTotalChars))+" ")]):e._e(),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.fullScreenTooltip,expression:"fullScreenTooltip"}],staticClass:"l-automator__expand-corner",class:e.fullScreenIconClass,on:{click:function(n){e.fullScreen=!e.fullScreen}}})],1),i("div",{staticClass:"l-automator-button-row"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Export single automator script",expression:"'Export single automator script'"}],staticClass:"fa-file-export",on:{click:e.exportScript}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.importTooltip,expression:"importTooltip"}],staticClass:"fa-file-import",class:{"c-automator__status-text--error":!e.canMakeNewScript},on:{click:e.importScript}}),i("div",{staticClass:"l-automator__script-names"},[e.editingName?i("input",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.nameTooltip,expression:"nameTooltip"}],ref:"renameInput",staticClass:"l-automator__rename-input c-automator__rename-input",class:{"c-long-name-box":e.isNameTooLong},on:{blur:e.nameEdited,keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.$refs.renameInput.blur()}}}):[i("ExpandingControlBox",{staticClass:"l-automator__scripts-dropdown",attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-automator-docs-script-select"},[e._v(" ▼ Current Script: "+e._s(e.currentEditorScriptName)+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutomatorScriptDropdownEntryList",{key:e.scriptCount})]},proxy:!0}],null,!1,1001015561)}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Rename script",expression:"'Rename script'"}],staticClass:"far fa-edit",on:{click:e.rename}})]],2),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete this script",expression:"'Delete this script'"}],staticClass:"fas fa-trash",on:{click:e.deleteScript}})],1)]),i("div",{staticClass:"c-automator-docs l-automator-pane__content"},[e.infoPaneID===e.panelEnum.INTRO_PAGE?i("AutomatorDocsIntroPage"):e.infoPaneID===e.panelEnum.COMMANDS?i("AutomatorDocsCommandList"):e.infoPaneID===e.panelEnum.ERRORS?i("AutomatorErrorPage"):e.infoPaneID===e.panelEnum.EVENTS?i("AutomatorEventLog"):e.infoPaneID===e.panelEnum.DATA_TRANSFER?i("AutomatorDataTransferPage"):e.infoPaneID===e.panelEnum.CONSTANTS?i("AutomatorDefinePage"):e.infoPaneID===e.panelEnum.TEMPLATES?i("AutomatorDocsTemplateList"):e.infoPaneID===e.panelEnum.BLOCKS?i("AutomatorBlocks"):e._e()],1)])},DJ=[],IJ=X(AJ,xJ,DJ,!1,null,"a3072b8b");const RJ=IJ.exports;function MJ(t){return Array.isArray(t)?[]:{}}function nv(t,e){return t instanceof Decimal?new Decimal(t):t instanceof Set?new Set(t):e.clone!==!1&&e.isMergeableObject(t)?rv(MJ(t),t,e):t}function PJ(t,e,i){return t.concat(e).map(n=>nv(n,i))}function OJ(t,e,i){const n={};return i.isMergeableObject(t)&&Object.keys(t).forEach(r=>{n[r]=nv(t[r],i)}),Object.keys(e).forEach(r=>{t[r]&&t[r]instanceof Decimal?n[r]=new Decimal(e[r]):t[r]&&t[r]instanceof Set?n[r]=new Set(e[r]):!i.isMergeableObject(e[r])||!t[r]?n[r]=nv(e[r],i):n[r]=rv(t[r],e[r],i)}),n}function rv(t,e,i={}){if(i.arrayMerge=i.arrayMerge||PJ,i.isMergeableObject=i.isMergeableObject||NJ,t instanceof Decimal)return new Decimal(e);if(t instanceof Set)return new Set(e);const n=Array.isArray(e),r=Array.isArray(t);return n===r?n?i.arrayMerge(t,e,i):OJ(t,e,i):nv(e,i)}function Lf(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return e||(e={arrayMerge:(n,r,a)=>r.map((s,o)=>n[o]&&n[o]instanceof Decimal?new Decimal(s):n[o]&&n[o]instanceof Set?new Set(s):!a.isMergeableObject(s)||!n[o]?nv(s,a):rv(n[o],s,a))}),t.reduce((i,n)=>rv(i,n,e),{})}function NJ(t){return GJ(t)&&!UJ(t)}function GJ(t){return!!t&&typeof t=="object"}function UJ(t){const e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"}const pm={types:{NONE:0,LEVEL:1,RARITY:2,SAC_VALUE:3,FILTER_SCORE:4,CURRENT_REFINE:5,MAX_REFINE:6},labels:["None","Level","Rarity","Sacrifice Value","Glyph Filter Score","Current Refinement Value","Maximum Refinement Value"]},LJ={name:"SelectGlyphInfoDropdown",computed:{availableTypes(){const t=pm.types,e=[t.NONE,t.LEVEL,t.RARITY];return GlyphSacrificeHandler.canSacrifice&&e.push(t.SAC_VALUE),EffarigUnlock.glyphFilter.isUnlocked&&e.push(t.FILTER_SCORE),Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&(e.push(t.CURRENT_REFINE),e.push(t.MAX_REFINE)),e}},methods:{setType(t){player.options.showHintText.glyphInfoType=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},getType(t){return pm.labels[t]}}};var BJ=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},e._l(e.availableTypes,function(n){return i("div",{key:n,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(r){return e.setType(n)}}},[e._v(" "+e._s(e.getType(n))+" ")])}),0)])},$J=[],FJ=X(LJ,BJ,$J,!1,null,null);const HJ=FJ.exports;window.player={antimatter:DC.E1,dimensions:{antimatter:Array.range(0,8).map(()=>({bought:0,costBumps:0,amount:DC.D0})),infinity:Array.range(0,8).map(t=>({isUnlocked:!1,bought:0,amount:DC.D0,cost:[DC.E8,DC.E9,DC.E10,DC.E20,DC.E140,DC.E200,DC.E250,DC.E280][t],baseAmount:0})),time:Array.range(0,8).map(t=>({cost:[DC.D1,DC.D5,DC.E2,DC.E3,DC.E2350,DC.E2650,DC.E3000,DC.E3350][t],amount:DC.D0,bought:0}))},buyUntil10:!0,sacrificed:DC.D0,achievementBits:Array.repeat(0,17),secretAchievementBits:Array.repeat(0,4),infinityUpgrades:new Set,infinityRebuyables:[0,0,0],challenge:{normal:{current:0,bestTimes:Array.repeat(Number.MAX_VALUE,11),completedBits:0},infinity:{current:0,bestTimes:Array.repeat(Number.MAX_VALUE,8),completedBits:0},eternity:{current:0,unlocked:0,requirementBits:0}},infinity:{upgradeBits:0},auto:{autobuyersOn:!0,disableContinuum:!1,reality:{mode:0,rm:DC.D1,glyph:0,time:0,shard:0,isActive:!1},eternity:{mode:0,amount:DC.D1,increaseWithMult:!0,time:1,xHighest:DC.D1,isActive:!1},bigCrunch:{cost:1,interval:15e4,mode:0,amount:DC.D1,increaseWithMult:!0,time:1,xHighest:DC.D1,isActive:!0,lastTick:0},galaxy:{cost:1,interval:2e4,limitGalaxies:!1,maxGalaxies:1,buyMax:!1,buyMaxInterval:0,isActive:!0,lastTick:0},dimBoost:{cost:1,interval:4e3,limitDimBoosts:!1,maxDimBoosts:1,limitUntilGalaxies:!1,galaxies:10,buyMaxInterval:0,isActive:!0,lastTick:0},tickspeed:{isUnlocked:!1,cost:1,interval:500,mode:AUTOBUYER_MODE.BUY_SINGLE,isActive:!0,lastTick:0,isBought:!1},sacrifice:{multiplier:DC.D2,isActive:!0},antimatterDims:{all:Array.range(0,8).map(t=>({isUnlocked:!1,cost:1,interval:[500,600,700,800,900,1e3,1100,1200][t],bulk:1,mode:AUTOBUYER_MODE.BUY_10,isActive:!0,lastTick:0,isBought:!1})),isActive:!0},infinityDims:{all:Array.range(0,8).map(()=>({isActive:!1,lastTick:0})),isActive:!0},timeDims:{all:Array.range(0,8).map(()=>({isActive:!1,lastTick:0})),isActive:!0},replicantiGalaxies:{isActive:!1},replicantiUpgrades:{all:Array.range(0,3).map(()=>({isActive:!1,lastTick:0})),isActive:!0},timeTheorems:{isActive:!1},dilationUpgrades:{all:Array.range(0,3).map(()=>({isActive:!1,lastTick:0})),isActive:!0},blackHolePower:{all:Array.range(0,2).map(()=>({isActive:!1})),isActive:!0},realityUpgrades:{all:Array.range(0,5).map(()=>({isActive:!1})),isActive:!0},imaginaryUpgrades:{all:Array.range(0,10).map(()=>({isActive:!1})),isActive:!0},darkMatterDims:{isActive:!1,lastTick:0},ascension:{isActive:!1,lastTick:0},annihilation:{isActive:!1,multiplier:1.05},singularity:{isActive:!1},ipMultBuyer:{isActive:!1},epMultBuyer:{isActive:!1}},infinityPoints:DC.D0,infinities:DC.D0,infinitiesBanked:DC.D0,dimensionBoosts:0,galaxies:0,news:{seen:{},specialTickerData:{uselessNewsClicks:0,paperclips:0,newsQueuePosition:1e3,eiffelTowerChapter:0},totalSeen:0},lastUpdate:new Date().getTime(),backupTimer:0,chall2Pow:1,chall3Pow:DC.D0_01,matter:DC.D1,chall9TickspeedCostBumps:0,chall8TotalSacrifice:DC.D1,ic2Count:0,partInfinityPoint:0,partInfinitied:0,break:!1,secretUnlocks:{themes:new Set,viewSecretTS:!1,cancerAchievements:!1},shownRuns:{Reality:!0,Eternity:!0,Infinity:!0},requirementChecks:{infinity:{maxAll:!1,noSacrifice:!0,noAD8:!0},eternity:{onlyAD1:!0,onlyAD8:!0,noAD1:!0,noRG:!0},reality:{noAM:!0,noTriads:!0,noPurchasedTT:!0,noInfinities:!0,noEternities:!0,noContinuum:!0,maxID1:DC.D0,maxStudies:0,maxGlyphs:0,slowestBH:1},permanent:{emojiGalaxies:0,singleTickspeed:0,perkTreeDragging:0}},records:{gameCreatedTime:Date.now(),totalTimePlayed:0,timePlayedAtBHUnlock:Number.MAX_VALUE,realTimePlayed:0,realTimeDoomed:0,fullGameCompletions:0,previousRunRealTime:0,totalAntimatter:DC.E1,recentInfinities:Array.range(0,10).map(()=>[Number.MAX_VALUE,Number.MAX_VALUE,DC.D1,DC.D1,""]),recentEternities:Array.range(0,10).map(()=>[Number.MAX_VALUE,Number.MAX_VALUE,DC.D1,DC.D1,"",DC.D0]),recentRealities:Array.range(0,10).map(()=>[Number.MAX_VALUE,Number.MAX_VALUE,DC.D1,1,"",0,0]),thisInfinity:{time:0,realTime:0,lastBuyTime:0,maxAM:DC.D0,bestIPmin:DC.D0,bestIPminVal:DC.D0},bestInfinity:{time:Number.MAX_VALUE,realTime:Number.MAX_VALUE,bestIPminEternity:DC.D0,bestIPminReality:DC.D0},thisEternity:{time:0,realTime:0,maxAM:DC.D0,maxIP:DC.D0,bestIPMsWithoutMaxAll:DC.D0,bestEPmin:DC.D0,bestEPminVal:DC.D0,bestInfinitiesPerMs:DC.D0},bestEternity:{time:Number.MAX_VALUE,realTime:Number.MAX_VALUE,bestEPminReality:DC.D0},thisReality:{time:0,realTime:0,maxAM:DC.D0,maxIP:DC.D0,maxEP:DC.D0,bestEternitiesPerMs:DC.D0,maxReplicanti:DC.D0,maxDT:DC.D0,bestRSmin:0,bestRSminVal:0},bestReality:{time:Number.MAX_VALUE,realTime:Number.MAX_VALUE,glyphStrength:0,RM:DC.D0,RMSet:[],RMmin:DC.D0,RMminSet:[],glyphLevel:0,glyphLevelSet:[],bestEP:DC.D0,bestEPSet:[],speedSet:[],iMCapSet:[],laitelaSet:[]}},speedrun:{isUnlocked:!1,isActive:!1,isSegmented:!1,usedSTD:!1,hasStarted:!1,hideInfo:!1,displayAllMilestones:!1,startDate:0,name:"",offlineTimeUsed:0,records:Array.repeat(0,26),achievementTimes:{},seedSelection:SPEEDRUN_SEED_STATE.FIXED,initialSeed:0,previousRuns:{}},IPMultPurchases:0,version:25,infinityPower:DC.D1,postC4Tier:0,eternityPoints:DC.D0,eternities:DC.D0,eternityUpgrades:new Set,epmultUpgrades:0,timeShards:DC.D0,totalTickGained:0,totalTickBought:0,replicanti:{unl:!1,amount:DC.D0,chance:.01,chanceCost:DC.E150,interval:1e3,intervalCost:DC.E140,boughtGalaxyCap:0,galaxies:0,galCost:DC.E170},timestudy:{theorem:DC.D0,maxTheorem:DC.D0,amBought:0,ipBought:0,epBought:0,studies:[],shopMinimized:!1,preferredPaths:[[],0],presets:new Array(6).fill({name:"",studies:""})},eternityChalls:{},respec:!1,eterc8ids:50,eterc8repl:40,dilation:{studies:[],active:!1,tachyonParticles:DC.D0,dilatedTime:DC.D0,nextThreshold:DC.E3,baseTachyonGalaxies:0,totalTachyonGalaxies:0,upgrades:new Set,rebuyables:{1:0,2:0,3:0,11:0,12:0,13:0},lastEP:DC.DM1},realities:0,partSimulatedReality:0,reality:{realityMachines:DC.D0,maxRM:DC.D0,imaginaryMachines:0,iMCap:0,glyphs:{active:[],inventory:[],sac:{power:0,infinity:0,time:0,replication:0,dilation:0,effarig:0,reality:0},undo:[],sets:new Array(7).fill({name:"",glyphs:[]}),protectedRows:2,filter:{select:AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,trash:AUTO_GLYPH_REJECT.SACRIFICE,simple:0,types:iA.list.filter(t=>ALCHEMY_BASIC_GLYPH_TYPES.includes(t.id)).mapToObject(t=>t.id,t=>({rarity:0,score:0,effectCount:0,specifiedMask:0,effectScores:Array.repeat(0,t.effects.length)}))},createdRealityGlyph:!1,cosmetics:{active:!1,glowNotification:!1,unlockedFromNG:[],symbolMap:{},colorMap:{}}},initialSeed:Math.floor(Date.now()*Math.random()+1),seed:1,secondGaussian:1e6,musicSeed:Math.floor(Date.now()*Math.random()+3168660683),musicSecondGaussian:1e6,rebuyables:{1:0,2:0,3:0,4:0,5:0},upgradeBits:0,upgReqs:0,imaginaryUpgradeBits:0,imaginaryUpgReqs:0,imaginaryRebuyables:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},reqLock:{reality:0,imaginary:0},perks:new Set,respec:!1,showGlyphSacrifice:!1,showSidebarPanel:GLYPH_SIDEBAR_MODE.INVENTORY_MANAGEMENT,autoSort:0,autoCollapse:!1,autoAutoClean:!1,applyFilterToPurge:!1,moveGlyphsOnProtection:!1,perkPoints:0,unlockedEC:0,autoEC:!0,lastAutoEC:0,partEternitied:DC.D0,autoAchieve:!0,gainedAutoAchievements:!0,automator:{state:{mode:go.STOP,topLevelScript:0,editorScript:0,repeat:!0,forceRestart:!0,followExecution:!0,stack:[]},scripts:{},constants:{},constantSortOrder:[],execTimer:0,type:Er.TEXT,forceUnlock:!1,currentInfoPane:Ip.INTRO_PAGE},achTimer:0,hasCheckedFilter:!1},blackHole:Array.range(0,2).map(t=>({id:t,intervalUpgrades:0,powerUpgrades:0,durationUpgrades:0,phase:0,active:!1,unlocked:!1,activations:0})),blackHolePause:!1,blackHoleAutoPauseMode:0,blackHolePauseTime:0,blackHoleNegative:1,celestials:{teresa:{pouredAmount:0,quoteBits:0,unlockBits:0,run:!1,bestRunAM:DC.D1,bestAMSet:[],perkShop:Array.repeat(0,5),lastRepeatedMachines:DC.D0},effarig:{relicShards:0,unlockBits:0,run:!1,quoteBits:0,glyphWeights:{ep:25,repl:25,dt:25,eternities:25},autoAdjustGlyphWeights:!1},enslaved:{isStoring:!1,stored:0,isStoringReal:!1,storedReal:0,autoStoreReal:!1,isAutoReleasing:!1,quoteBits:0,unlocks:[],run:!1,completed:!1,tesseracts:0,hasSecretStudy:!1,feltEternity:!1,progressBits:0,hintBits:0,hintUnlockProgress:0,glyphHintsGiven:0,zeroHintTime:0},v:{unlockBits:0,run:!1,quoteBits:0,runUnlocks:[0,0,0,0,0,0,0,0,0],goalReductionSteps:[0,0,0,0,0,0,0,0,0],STSpent:0,runGlyphs:[[],[],[],[],[],[],[],[],[]],runRecords:[-10,0,0,0,0,0,0,0,0],wantsFlipped:!0},ra:{pets:{teresa:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0},effarig:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0},enslaved:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0},v:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0}},alchemy:Array.repeat(0,21).map(()=>({amount:0,reaction:!1})),highestRefinementValue:{power:0,infinity:0,time:0,replication:0,dilation:0,effarig:0},quoteBits:0,momentumTime:0,unlockBits:0,run:!1,charged:new Set,disCharge:!1,peakGamespeed:1,petWithRemembrance:""},laitela:{darkMatter:DC.D0,maxDarkMatter:DC.D0,run:!1,quoteBits:0,dimensions:Array.range(0,4).map(()=>({amount:DC.D0,intervalUpgrades:0,powerDMUpgrades:0,powerDEUpgrades:0,timeSinceLastUpdate:0,ascensionCount:0})),entropy:0,thisCompletion:3600,fastestCompletion:3600,difficultyTier:0,upgrades:{},darkMatterMult:1,darkEnergy:0,singularitySorting:{displayResource:0,sortResource:0,showCompleted:0,sortOrder:0},singularities:0,singularityCapIncreases:0,lastCheckedMilestones:0,milestoneGlow:!0},pelle:{doomed:!1,upgrades:new Set,remnants:0,realityShards:DC.D0,records:{totalAntimatter:DC.D0,totalInfinityPoints:DC.D0,totalEternityPoints:DC.D0},rebuyables:{antimatterDimensionMult:0,timeSpeedMult:0,glyphLevels:0,infConversion:0,galaxyPower:0,galaxyGeneratorAdditive:0,galaxyGeneratorMultiplicative:0,galaxyGeneratorAntimatterMult:0,galaxyGeneratorIPMult:0,galaxyGeneratorEPMult:0},rifts:{vacuum:{fill:DC.D0,active:!1,reducedTo:1},decay:{fill:DC.D0,active:!1,percentageSpent:0,reducedTo:1},chaos:{fill:0,active:!1,reducedTo:1},recursion:{fill:DC.D0,active:!1,reducedTo:1},paradox:{fill:DC.D0,active:!1,reducedTo:1}},progressBits:0,galaxyGenerator:{unlocked:!1,spentGalaxies:0,generatedGalaxies:0,phase:0,sacrificeActive:!1},quoteBits:0,collapsed:{upgrades:!1,rifts:!1,galaxies:!1},showBought:!1}},isGameEnd:!1,tabNotifications:new Set,triggeredTabNotificationBits:0,tutorialState:0,tutorialActive:!0,options:{news:{enabled:!0,repeatBuffer:40,AIChance:0,speed:1,includeAnimated:!0},notation:"Mixed scientific",notationDigits:{comma:5,notation:9},sidebarResourceID:0,retryChallenge:!1,retryCelestial:!1,showAllChallenges:!1,cloudEnabled:!0,hideGoogleName:!1,showCloudModal:!0,forceCloudOverwrite:!1,syncSaveIntervals:!0,hotkeys:!0,themeClassic:"Normal",themeModern:"Normal",updateRate:33,newUI:!0,offlineProgress:!0,loadBackupWithoutOffline:!1,automaticTabSwitching:!0,respecIntoProtected:!1,offlineTicks:1e5,hibernationCatchup:!0,statTabResources:0,multiplierTab:{currTab:0,showAltGroup:!1,replacePowers:!1},autosaveInterval:3e4,showTimeSinceSave:!0,saveFileName:"",exportedFileCount:0,hideCompletedAchievementRows:!1,glyphTextColors:!0,headerTextColored:!1,showNewGlyphIcon:!0,showUnequippedGlyphIcon:!0,highContrastRarity:!1,swapGlyphColors:!1,hideAlterationEffects:!1,ignoreGlyphEffects:!0,ignoreGlyphLevel:!0,ignoreGlyphRarity:!0,glyphBG:GLYPH_BG_SETTING.AUTO,glyphBorders:!0,showHintText:{showPercentage:!0,achievements:!0,achievementUnlockStates:!0,challenges:!0,studies:!0,glyphEffectDots:!0,realityUpgrades:!0,perks:!0,alchemy:!0,glyphInfoType:pm.types.NONE,showGlyphInfoByDefault:!1},animations:{bigCrunch:!0,eternity:!0,dilation:!0,tachyonParticles:!0,reality:!0,background:!0,blobSnowflakes:16,blobHole:!1},confirmations:{armageddon:!0,sacrifice:!0,challenges:!0,exitChallenge:!0,eternity:!0,dilation:!0,resetReality:!0,glyphReplace:!0,glyphSacrifice:!0,autoClean:!0,sacrificeAll:!0,glyphSelection:!0,glyphUndo:!0,deleteGlyphSetSave:!0,glyphRefine:!0,bigCrunch:!0,replicantiGalaxy:!0,antimatterGalaxy:!0,dimensionBoost:!0,switchAutomatorMode:!0,respecIAP:!0},awayProgress:{antimatter:!0,dimensionBoosts:!0,antimatterGalaxies:!0,infinities:!0,infinityPoints:!0,replicanti:!0,replicantiGalaxies:!0,eternities:!0,eternityPoints:!0,tachyonParticles:!0,dilatedTime:!0,tachyonGalaxies:!0,timeTheorems:!0,achievementCount:!0,realities:!0,realityMachines:!0,imaginaryMachines:!0,relicShards:!0,darkMatter:!0,darkEnergy:!0,singularities:!0,celestialMemories:!0,blackHole:!0,realityShards:!0},hiddenTabBits:0,hiddenSubtabBits:Array.repeat(0,11),lastOpenTab:0,lastOpenSubtab:Array.repeat(0,11),perkLayout:0,perkPhysicsEnabled:!0,automatorEvents:{newestFirst:!1,timestampType:0,maxEntries:200,clearOnReality:!0,clearOnRestart:!0},invertTTgenDisplay:!1,autoRealityForFilter:!1},IAP:{enabled:!1,checkoutSession:{id:!1}}};const ML={defaultStart:Lf([{},player]),get isInMatterChallenge(){return NormalChallenge(11).isRunning||InfinityChallenge(6).isRunning},get isInAntimatterChallenge(){return NormalChallenge.isRunning||InfinityChallenge.isRunning},get antimatterChallenge(){return NormalChallenge.current||InfinityChallenge.current},get isInAnyChallenge(){return this.isInAntimatterChallenge||EternityChallenge.isRunning},get anyChallenge(){return this.antimatterChallenge||EternityChallenge.current},get canCrunch(){var i;if(Enslaved.isRunning&&Enslaved.BROKEN_CHALLENGES.includes((i=NormalChallenge.current)==null?void 0:i.id))return!1;const t=NormalChallenge.current||InfinityChallenge.current,e=t===void 0?Decimal.NUMBER_MAX_VALUE:t.goal;return player.records.thisInfinity.maxAM.gte(e)},get canEternity(){return player.records.thisEternity.maxIP.gte(ML.eternityGoal)},get bestRunIPPM(){return GameCache.bestRunIPPM.value},get averageRealTimePerEternity(){return GameCache.averageRealTimePerEternity.value},get tickSpeedMultDecrease(){return GameCache.tickSpeedMultDecrease.value},get dimensionMultDecrease(){return GameCache.dimensionMultDecrease.value},get infinityGoal(){const t=NormalChallenge.current||InfinityChallenge.current;return t===void 0?Decimal.NUMBER_MAX_VALUE:t.goal},get infinityLimit(){const t=NormalChallenge.current||InfinityChallenge.current;return t===void 0?Decimal.MAX_VALUE:t.goal},get eternityGoal(){return EternityChallenge.isRunning?EternityChallenge.current.currentGoal:requiredIPForEP(1)},get automatorUnlocked(){return AutomatorPoints.totalPoints>=AutomatorPoints.pointsForAutomator||player.reality.automator.forceUnlock},resetRequirements(t){const e=player.requirementChecks.reality.maxGlyphs;switch(t){case"reality":player.requirementChecks.reality={noAM:!0,noTriads:!0,noPurchasedTT:!0,noInfinities:!0,noEternities:!0,noContinuum:player.auto.disableContinuum,maxID1:DC.D0,maxStudies:0,maxGlyphs:e,slowestBH:BlackHoles.areNegative?player.blackHoleNegative:1};case"eternity":player.requirementChecks.eternity={onlyAD1:!0,onlyAD8:!0,noAD1:!0,noRG:!0};case"infinity":player.requirementChecks.infinity={maxAll:!1,noSacrifice:!0,noAD8:!0};break;default:throw Error("Unrecognized prestige layer for requirement reset")}}};function PL(t){function e(i){return i!==null&&typeof i=="object"&&!(i instanceof Decimal)}for(const i in t){if(!Object.prototype.hasOwnProperty.call(t,i)||i==="automator")continue;let n=t[i];if(e(n)){PL(n);continue}typeof n=="number"&&Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>n,set:function(a){if(a==null)throw new Error("null/undefined player property assignment");if(typeof a!="number")throw new Error("Non-Number assignment to Number player property");if(!isFinite(a))throw new Error("NaN player property assignment");n=a}}),n instanceof Decimal&&Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>n,set:function(a){if(a==null)throw new Error("null/undefined player property assignment");if(!(a instanceof Decimal))throw new Error("Non-Decimal assignment to Decimal player property");if(!isFinite(a.mantissa)||!isFinite(a.exponent))throw new Error("NaN player property assignment");n=a}})}}const VJ={container:document.getElementById("performance-stats"),samplePeriod:10*1e3,isOn:!1,currentBlocks:[],stats:{},turnOn(){this.isOn=!0,this.container.style.display="flex"},turnOff(){this.isOn=!1,this.container.style.display="none",this.stats={}},toggle(){this.isOn?this.turnOff():this.turnOn()},start(t){if(!this.isOn)return;const e=this.currentBlocks.length>0?this.currentBlocks.last().childBlocks:this.stats;let i=e[t];i===void 0&&(i={records:[],childBlocks:{}},e[t]=i),this.currentBlocks.push(i);const n={};i.records.push(n),n.timestamp=performance.now()},end(){if(!this.isOn)return;const t=performance.now(),i=this.currentBlocks.pop().records.last();i.duration=t-i.timestamp},render(){if(!this.isOn)return;let t=-1,e="";const i=this.samplePeriod;let n;function r(a){t++;for(const s in a){if(!Object.prototype.hasOwnProperty.call(a,s))continue;const o=a[s],c=o.records;for(;c.length>1&&c.last().timestamp-c.first().timestamp>i;)c.shift();if(e+=`${"-".repeat(t)}${s}: `,c.length>0){let d=0,p=Number.MIN_VALUE,m=Number.MAX_VALUE;for(const _ of c){const w=_.duration;d+=w,w>p&&(p=w),w<m&&(m=w)}const y=d/c.length;n===void 0&&(n=1e3/y,e=`FPS: ${Math.floor(n)}<br>${e}`),e+=`${y.toFixed(3)}/${m.toFixed(3)}/${p.toFixed(3)}`}e+="<br>",r(o.childBlocks)}t--}r(this.stats),this.container.innerHTML=e}};class mm{add(e,i){throw new NotImplementedError}subtract(e,i){throw new NotImplementedError}multiply(e,i){throw new NotImplementedError}divide(e,i){throw new NotImplementedError}max(e,i){throw new NotImplementedError}min(e,i){throw new NotImplementedError}eq(e,i){throw new NotImplementedError}gt(e,i){throw new NotImplementedError}gte(e,i){throw new NotImplementedError}lt(e,i){throw new NotImplementedError}lte(e,i){throw new NotImplementedError}}mm.number=new class extends mm{add(e,i){return e+i}subtract(e,i){return e-i}multiply(e,i){return e*i}divide(e,i){return e/i}max(e,i){return Math.max(e,i)}min(e,i){return Math.min(e,i)}eq(e,i){return e===i}gt(e,i){return e>i}gte(e,i){return e>=i}lt(e,i){return e<i}lte(e,i){return e<=i}};mm.decimal=new class extends mm{add(e,i){return Decimal.add(e,i)}subtract(e,i){return Decimal.subtract(e,i)}multiply(e,i){return Decimal.multiply(e,i)}divide(e,i){return Decimal.divide(e,i)}max(e,i){return Decimal.max(e,i)}min(e,i){return Decimal.min(e,i)}eq(e,i){return Decimal.eq(e,i)}gt(e,i){return Decimal.gt(e,i)}gte(e,i){return Decimal.gte(e,i)}lt(e,i){return Decimal.lt(e,i)}lte(e,i){return Decimal.lte(e,i)}};let ni=class{get value(){throw new NotImplementedError}set value(e){throw new NotImplementedError}get operations(){throw new NotImplementedError}add(e){this.value=this.operations.add(this.value,e)}subtract(e){this.value=this.operations.max(this.operations.subtract(this.value,e),0)}multiply(e){this.value=this.operations.multiply(this.value,e)}divide(e){this.value=this.operations.divide(this.value,e)}eq(e){return this.operations.eq(this.value,e)}gt(e){return this.operations.gt(this.value,e)}gte(e){return this.operations.gte(this.value,e)}lt(e){return this.operations.lt(this.value,e)}lte(e){return this.operations.lte(this.value,e)}purchase(e){return this.gte(e)?(this.subtract(e),!0):!1}bumpTo(e){this.value=this.operations.max(this.value,e)}dropTo(e){this.value=this.operations.min(this.value,e)}get startingValue(){throw new NotImplementedError}reset(){this.value=this.startingValue}};class Fd extends ni{get operations(){return mm.number}get startingValue(){return 0}}let Fr=class extends ni{get operations(){return mm.decimal}get mantissa(){return this.value.mantissa}get exponent(){return this.value.exponent}get startingValue(){return DC.D0}};window.DecimalCurrency=Fr;ni.antimatter=new class extends Fr{get value(){return player.antimatter}set value(t){InfinityChallenges.nextIC&&InfinityChallenges.notifyICUnlock(t),GameCache.cheapestAntimatterAutobuyer.value&&t.gte(GameCache.cheapestAntimatterAutobuyer.value)&&(TabNotification.newAutobuyer.clearTrigger(),TabNotification.newAutobuyer.tryTrigger()),player.antimatter=t,player.records.thisInfinity.maxAM=player.records.thisInfinity.maxAM.max(t),player.records.thisEternity.maxAM=player.records.thisEternity.maxAM.max(t),player.records.thisReality.maxAM=player.records.thisReality.maxAM.max(t),Pelle.isDoomed&&(player.celestials.pelle.records.totalAntimatter=player.celestials.pelle.records.totalAntimatter.max(t))}add(t){super.add(t),t.gt(0)&&(player.records.totalAntimatter=player.records.totalAntimatter.add(t),player.requirementChecks.reality.noAM=!1)}get productionPerSecond(){return NormalChallenge(12).isRunning?AntimatterDimension(1).productionPerRealSecond.plus(AntimatterDimension(2).productionPerRealSecond):AntimatterDimension(1).productionPerRealSecond}get startingValue(){return Pelle.isDisabled()?new Decimal(100):Effects.max(10,Perk.startAM,Achievement(21),Achievement(37),Achievement(54),Achievement(55),Achievement(78)).toDecimal()}};ni.matter=new class extends Fr{get value(){return player.matter}set value(t){player.matter=Decimal.min(t,Decimal.MAX_VALUE)}};ni.infinities=new class extends Fr{get value(){return player.infinities}set value(t){player.infinities=t}};ni.infinitiesBanked=new class extends Fr{get value(){return player.infinitiesBanked}set value(t){player.infinitiesBanked=t}};ni.infinitiesTotal=new class extends Fr{get value(){return player.infinities.plus(player.infinitiesBanked)}set value(t){player.infinities=t}};ni.infinityPoints=new class extends Fr{get value(){return player.infinityPoints}set value(t){player.infinityPoints=t,player.records.thisEternity.maxIP=player.records.thisEternity.maxIP.max(t),player.records.thisReality.maxIP=player.records.thisReality.maxIP.max(t),Pelle.isDoomed&&(player.celestials.pelle.records.totalInfinityPoints=player.celestials.pelle.records.totalInfinityPoints.max(t))}get startingValue(){return Pelle.isDisabled()?new Decimal(0):Effects.max(0,Perk.startIP1,Perk.startIP2,Achievement(104)).toDecimal()}reset(){super.reset(),player.records.thisEternity.maxIP=this.startingValue}};ni.infinityPower=new class extends Fr{get value(){return player.infinityPower}set value(t){player.infinityPower=t}};ni.eternities=new class extends Fr{get value(){return player.eternities}set value(t){player.eternities=t}get startingValue(){return Pelle.isDoomed?new Decimal(0):Effects.max(0,RealityUpgrade(10)).toDecimal()}};ni.eternityPoints=new class extends Fr{get value(){return player.eternityPoints}set value(t){player.eternityPoints=t,player.records.thisReality.maxEP=player.records.thisReality.maxEP.max(t),player.records.bestReality.bestEP.lt(t)&&(player.records.bestReality.bestEP=t,player.records.bestReality.bestEPSet=Glyphs.copyForRecords(Glyphs.active.filter(e=>e!==null))),Pelle.isDoomed&&(player.celestials.pelle.records.totalEternityPoints=player.celestials.pelle.records.totalEternityPoints.max(t))}get startingValue(){return Pelle.isDisabled()?new Decimal(0):Effects.max(0,Perk.startEP1,Perk.startEP2,Perk.startEP3).toDecimal()}reset(){super.reset(),player.records.thisReality.maxEP=this.startingValue}};ni.timeShards=new class extends Fr{get value(){return player.timeShards}set value(t){player.timeShards=t}};ni.timeTheorems=new class extends Fr{get value(){return player.timestudy.theorem}set value(t){player.timestudy.theorem=t,player.timestudy.maxTheorem=t.plus(TimeTheorems.calculateTimeStudiesCost())}get max(){return player.timestudy.maxTheorem}add(t){super.add(t),player.timestudy.maxTheorem=player.timestudy.maxTheorem.plus(t)}reset(){respecTimeStudies(!0),super.reset(),TimeTheoremPurchaseType.am.reset(),TimeTheoremPurchaseType.ip.reset(),TimeTheoremPurchaseType.ep.reset(),player.timestudy.maxTheorem=this.startingValue}};ni.tachyonParticles=new class extends Fr{get value(){return player.dilation.tachyonParticles}set value(t){player.dilation.tachyonParticles=t}};ni.dilatedTime=new class extends Fr{get value(){return player.dilation.dilatedTime}set value(t){player.dilation.dilatedTime=t,player.records.thisReality.maxDT=player.records.thisReality.maxDT.max(t)}};ni.realities=new class extends Fd{get value(){return player.realities}set value(t){player.realities=t}};ni.realityMachines=new class extends Fr{get value(){return player.reality.realityMachines}set value(t){const e=Decimal.min(t,MachineHandler.hardcapRM),i=e.minus(player.reality.realityMachines);player.reality.realityMachines=e,player.reality.maxRM=Decimal.max(player.reality.maxRM,e),player.records.bestReality.RM.lt(i)&&(player.records.bestReality.RM=i,player.records.bestReality.RMSet=Glyphs.copyForRecords(Glyphs.active.filter(n=>n!==null)))}};ni.perkPoints=new class extends Fd{get value(){return player.reality.perkPoints}set value(t){player.reality.perkPoints=t}};ni.relicShards=new class extends Fd{get value(){return player.celestials.effarig.relicShards}set value(t){player.celestials.effarig.relicShards=t}};ni.imaginaryMachines=new class extends Fd{get value(){return player.reality.imaginaryMachines}set value(t){player.reality.imaginaryMachines=Math.clampMax(t,MachineHandler.currentIMCap)}};ni.darkMatter=new class extends Fr{get value(){return player.celestials.laitela.darkMatter}set value(t){const e=Decimal.min(t,Number.MAX_VALUE);player.celestials.laitela.darkMatter=e,player.celestials.laitela.maxDarkMatter=player.celestials.laitela.maxDarkMatter.max(e)}get max(){return player.celestials.laitela.maxDarkMatter}set max(t){player.celestials.laitela.maxDarkMatter=t}};ni.darkEnergy=new class extends Fd{get value(){return player.celestials.laitela.darkEnergy}set value(t){player.celestials.laitela.darkEnergy=t}get productionPerSecond(){return DarkMatterDimensions.all.map(t=>t.productionPerSecond).sum()}};ni.singularities=new class extends Fd{get value(){return player.celestials.laitela.singularities}set value(t){player.celestials.laitela.singularities=t}};ni.remnants=new class extends Fd{get value(){return player.celestials.pelle.remnants}set value(t){player.celestials.pelle.remnants=t}};ni.realityShards=new class extends Fr{get value(){return player.celestials.pelle.realityShards}set value(t){player.celestials.pelle.realityShards=t}};ni.replicanti=new class extends Fr{get value(){return player.replicanti.amount}set value(t){player.replicanti.amount=t}};ni.galaxyGeneratorGalaxies=new class extends Fd{get value(){return player.galaxies+GalaxyGenerator.galaxies}set value(t){const e=player.galaxies+GalaxyGenerator.galaxies-t;player.celestials.pelle.galaxyGenerator.spentGalaxies+=e}};let Un=class Ah{constructor(e){this._getValue=e,Ah.registerLazy(this)}static get registrar(){return Ah._registrar===void 0&&(Ah._registrar=[]),Ah._registrar}static registerLazy(e){Ah.registrar.push(e)}static invalidateAll(){for(const e of Ah.registrar)e.invalidate()}get value(){return this._value===void 0&&(this._value=this._getValue()),this._value}invalidate(){this._value=void 0}invalidateOn(...e){for(const i of e)EventHub.logic.on(i,()=>this.invalidate());return this}};window.Lazy=Un;const Vp={worstChallengeTime:new Un(()=>player.challenge.normal.bestTimes.max()),bestRunIPPM:new Un(()=>player.records.recentInfinities.map(t=>ratePerMinute(t[2],t[0])).reduce(Decimal.maxReducer)),averageRealTimePerEternity:new Un(()=>player.records.recentEternities.map(t=>t[1]).reduce(Number.sumReducer)/(1e3*player.records.recentEternities.length)),tickSpeedMultDecrease:new Un(()=>10-Effects.sum(BreakInfinityUpgrade.tickspeedCostMult,EternityChallenge(11).reward)),dimensionMultDecrease:new Un(()=>10-Effects.sum(BreakInfinityUpgrade.dimCostMult,EternityChallenge(6).reward)),timeStudies:new Un(()=>NormalTimeStudyState.studies.map(t=>player.timestudy.studies.includes(t.id))),currentStudyTree:new Un(()=>new TimeStudyTree(TimeStudyTree.currentStudies)),achievementPeriod:new Un(()=>TimeSpan.fromMinutes(30-Effects.sum(Perk.achievementGroup1,Perk.achievementGroup2,Perk.achievementGroup3,Perk.achievementGroup4)).totalMilliseconds),buyablePerks:new Un(()=>Perks.all.filter(t=>t.canBeBought)),cheapestAntimatterAutobuyer:new Un(()=>Autobuyer.antimatterDimension.zeroIndexed.concat(Autobuyer.tickspeed).filter(t=>!(t.isBought||t.isUnlocked)).map(t=>t.antimatterCost.toNumber()).min()),antimatterDimensionCommonMultiplier:new Un(()=>antimatterDimensionCommonMultiplier()),antimatterDimensionFinalMultipliers:Array.range(0,9).map(t=>new Un(()=>getDimensionFinalMultiplierUncached(t))),infinityDimensionCommonMultiplier:new Un(()=>infinityDimensionCommonMultiplier()),timeDimensionCommonMultiplier:new Un(()=>timeDimensionCommonMultiplier()),glyphInventorySpace:new Un(()=>Glyphs.freeInventorySpace),glyphEffects:new Un(()=>orderedEffectList.mapToObject(t=>t,t=>getAdjustedGlyphEffectUncached(t))),staticGlyphWeights:new Un(()=>staticGlyphWeights()),logTotalGlyphSacrifice:new Un(()=>GlyphSacrificeHandler.logTotalSacrifice),totalIPMult:new Un(()=>totalIPMult()),challengeTimeSum:new Un(()=>player.challenge.normal.bestTimes.sum()),infinityChallengeTimeSum:new Un(()=>player.challenge.infinity.bestTimes.sum())};EventHub.logic.on(GAME_EVENT.GLYPHS_CHANGED,()=>{Vp.glyphInventorySpace.invalidate(),Vp.glyphEffects.invalidate(),Vp.staticGlyphWeights.invalidate()},Vp.glyphEffects);Vp.antimatterDimensionFinalMultipliers.invalidate=function(){for(const t of this)t.invalidate()};const OL=function(){const t=(e,i)=>{let n=-1;return{start(){if(this.isStarted)throw new Error("An already started interval cannot be started again.");n=setInterval(e,typeof i=="function"?i():i)},get isStarted(){return n!==-1},stop(){clearInterval(n),n=-1},restart(){this.stop(),this.start()}}};return{all(){return Object.values(OL).filter(e=>Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"stop"))},start(){for(const e of this.all())e.start()},stop(){for(const e of this.all())e.stop()},restart(){for(const e of this.all())e.restart()},gameLoop:t(()=>gameLoop(),()=>player.options.updateRate),save:t(()=>GameStorage.save(),()=>player.options.autosaveInterval-Math.clampMin(0,Date.now()-GameStorage.lastSaveTime)),checkCloudSave:t(()=>{player.options.cloudEnabled&&Cloud.loggedIn&&Cloud.saveCheck()},600*1e3),checkEverySecond:t(()=>{Math.random()<1e-5&&SecretAchievement(18).unlock(),GameStorage.tryOnlineBackups()},1e3),checkForUpdates:t(()=>{isLocalEnvironment()||fetch("version.txt").then(e=>e.json()).then(e=>{e.version>player.version&&Modal.message.show(e.message,{callback:updateRefresh},3)})},6e4)}}();var NL={exports:{}};(function(t){(function(e,i,n){if(!e)return;for(var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},o={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c,d=1;d<20;++d)r[111+d]="f"+d;for(d=0;d<=9;++d)r[d+96]=d.toString();function p(R,I,F){if(R.addEventListener){R.addEventListener(I,F,!1);return}R.attachEvent("on"+I,F)}function m(R){if(R.type=="keypress"){var I=String.fromCharCode(R.which);return R.shiftKey||(I=I.toLowerCase()),I}return r[R.which]?r[R.which]:a[R.which]?a[R.which]:String.fromCharCode(R.which).toLowerCase()}function y(R,I){return R.sort().join(",")===I.sort().join(",")}function _(R){var I=[];return R.shiftKey&&I.push("shift"),R.altKey&&I.push("alt"),R.ctrlKey&&I.push("ctrl"),R.metaKey&&I.push("meta"),I}function w(R){if(R.preventDefault){R.preventDefault();return}R.returnValue=!1}function C(R){if(R.stopPropagation){R.stopPropagation();return}R.cancelBubble=!0}function k(R){return R=="shift"||R=="ctrl"||R=="alt"||R=="meta"}function S(){if(!c){c={};for(var R in r)R>95&&R<112||r.hasOwnProperty(R)&&(c[r[R]]=R)}return c}function x(R,I,F){return F||(F=S()[R]?"keydown":"keypress"),F=="keypress"&&I.length&&(F="keydown"),F}function O(R){return R==="+"?["+"]:(R=R.replace(/\+{2}/g,"+plus"),R.split("+"))}function D(R,I){var F,$,L,W=[];for(F=O(R),L=0;L<F.length;++L)$=F[L],o[$]&&($=o[$]),I&&I!="keypress"&&s[$]&&($=s[$],W.push("shift")),k($)&&W.push($);return I=x($,W,I),{key:$,modifiers:W,action:I}}function B(R,I){return R===null||R===i?!1:R===I?!0:B(R.parentNode,I)}function P(R){var I=this;if(R=R||i,!(I instanceof P))return new P(R);I.target=R,I._callbacks={},I._directMap={};var F={},$,L=!1,W=!1,j=!1;function z(Z){Z=Z||{};var K=!1,q;for(q in F){if(Z[q]){K=!0;continue}F[q]=0}K||(j=!1)}function re(Z,K,q,ie,le,Q){var fe,de,he=[],ve=q.type;if(!I._callbacks[Z])return[];for(ve=="keyup"&&k(Z)&&(K=[Z]),fe=0;fe<I._callbacks[Z].length;++fe)if(de=I._callbacks[Z][fe],!(!ie&&de.seq&&F[de.seq]!=de.level)&&ve==de.action&&(ve=="keypress"&&!q.metaKey&&!q.ctrlKey||y(K,de.modifiers))){var ne=!ie&&de.combo==le,Bt=ie&&de.seq==ie&&de.level==Q;(ne||Bt)&&I._callbacks[Z].splice(fe,1),he.push(de)}return he}function ce(Z,K,q,ie){I.stopCallback(K,K.target||K.srcElement,q,ie)||Z(K,q)===!1&&(w(K),C(K))}I._handleKey=function(Z,K,q){var ie=re(Z,K,q),le,Q={},fe=0,de=!1;for(le=0;le<ie.length;++le)ie[le].seq&&(fe=Math.max(fe,ie[le].level));for(le=0;le<ie.length;++le){if(ie[le].seq){if(ie[le].level!=fe)continue;de=!0,Q[ie[le].seq]=1,ce(ie[le].callback,q,ie[le].combo,ie[le].seq);continue}de||ce(ie[le].callback,q,ie[le].combo)}var he=q.type=="keypress"&&W;q.type==j&&!k(Z)&&!he&&z(Q),W=de&&q.type=="keydown"};function ge(Z){typeof Z.which!="number"&&(Z.which=Z.keyCode);var K=m(Z);if(K){if(Z.type=="keyup"&&L===K){L=!1;return}I.handleKey(K,_(Z),Z)}}function be(){clearTimeout($),$=setTimeout(z,1e3)}function ue(Z,K,q,ie){F[Z]=0;function le(ve){return function(){j=ve,++F[Z],be()}}function Q(ve){ce(q,ve,Z),ie!=="keyup"&&(L=m(ve)),setTimeout(z,10)}for(var fe=0;fe<K.length;++fe){var de=fe+1===K.length,he=de?Q:le(ie||D(K[fe+1]).action);se(K[fe],he,ie,Z,fe)}}function se(Z,K,q,ie,le){I._directMap[Z+":"+q]=K,Z=Z.replace(/\s+/g," ");var Q=Z.split(" "),fe;if(Q.length>1){ue(Z,Q,K,q);return}fe=D(Z,q),I._callbacks[fe.key]=I._callbacks[fe.key]||[],re(fe.key,fe.modifiers,{type:fe.action},ie,Z,le),I._callbacks[fe.key][ie?"unshift":"push"]({callback:K,modifiers:fe.modifiers,action:fe.action,seq:ie,level:le,combo:Z})}I._bindMultiple=function(Z,K,q){for(var ie=0;ie<Z.length;++ie)se(Z[ie],K,q)},p(R,"keypress",ge),p(R,"keydown",ge),p(R,"keyup",ge)}P.prototype.bind=function(R,I,F){var $=this;return R=R instanceof Array?R:[R],$._bindMultiple.call($,R,I,F),$},P.prototype.unbind=function(R,I){var F=this;return F.bind.call(F,R,function(){},I)},P.prototype.trigger=function(R,I){var F=this;return F._directMap[R+":"+I]&&F._directMap[R+":"+I]({},R),F},P.prototype.reset=function(){var R=this;return R._callbacks={},R._directMap={},R},P.prototype.stopCallback=function(R,I){var F=this;if((" "+I.className+" ").indexOf(" mousetrap ")>-1||B(I,F.target))return!1;if("composedPath"in R&&typeof R.composedPath=="function"){var $=R.composedPath()[0];$!==R.target&&(I=$)}return I.tagName=="INPUT"||I.tagName=="SELECT"||I.tagName=="TEXTAREA"||I.isContentEditable},P.prototype.handleKey=function(){var R=this;return R._handleKey.apply(R,arguments)},P.addKeycodes=function(R){for(var I in R)R.hasOwnProperty(I)&&(r[I]=R[I]);c=null},P.init=function(){var R=P(i);for(var I in R)I.charAt(0)!=="_"&&(P[I]=function(F){return function(){return R[F].apply(R,arguments)}}(I))},P.init(),e.Mousetrap=P,t.exports&&(t.exports=P)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(NL);var YJ=NL.exports;const Hl=oc(YJ),GL={};for(let t=1;t<=9;t++)GL[t+96]=`num${t}`;Hl.addKeycodes(GL);function qJ(t){return t.split("+")}const WJ=["ctrl","shift","alt","mod"];function jJ(t){return t.find(e=>!WJ.includes(e))}class zJ{constructor(e){this.key=e}setAction(e,i){e.includes("shift")?this.shiftAction=i:this.action=i}start(){this.isRunning||(this.isRunning=!0,this.executeAction(),this.interval=setInterval(()=>{clearInterval(this.interval),this.executeAction(),this.interval=setInterval(()=>this.executeAction(),40)},500))}executeAction(){ui.view.shiftDown&&this.shiftAction!==void 0?this.shiftAction():this.action!==void 0&&this.action()}probablyStop(){ui.view.shiftDown&&this.stop()}stop(){this.isRunning=!1,this.interval&&clearInterval(this.interval),this.interval=void 0}}let Ji=class{static stopSpins(){for(const e of zT)e.stop()}static bind(e,i,n){Hl.bind(e,()=>qC(i),n)}static bindRepeatable(e,i){this._bindSpin(e,()=>qC(i))}static bindHotkey(e,i,n){Hl.bind(e,()=>RM(i),n)}static bindRepeatableHotkey(e,i){this._bindSpin(e,()=>RM(i))}static _bindSpin(e,i){const n=qJ(e),r=jJ(n);let a=zT.find(s=>s.key===r);a===void 0&&(a=new zJ(r),zT.push(a),Hl.bind(r,()=>a.start(),"keydown"),Hl.bind(r,()=>a.stop(),"keyup")),e!==r&&(Hl.bind(e,()=>a.start(),"keydown"),Hl.bind(e,()=>a.probablyStop(),"keyup")),a.setAction(n,i)}static disable(){this.stopSpins(),Hl.reset()}};const zT=[];function qC(t){if(!(ui.$viewModel.modal.progressBar!==void 0||GameEnd.endState>=END_STATE_MARKERS.INTERACTIVITY_DISABLED))return t()}function RM(t){if(!(!player.options.hotkeys||document.activeElement.type==="text"||document.activeElement.type==="textarea"))return qC(t)}class UL{constructor(e){this.name=e,this.__module__=void 0}get isLoaded(){return this.__module__!==void 0}makePromise(e){if(!this.isLoaded)throw Error(`Node module "${this.name}" is not loaded.`);return new Promise((i,n)=>{e(this.__module__,i,n)})}safeCall(e,i){if(!this.isLoaded)throw Error(`Node module "${this.name}" is not loaded.`);try{return e(this.__module__)}catch(n){return console.error(`Failed to make a call to node module "${this.name}".`),console.error(n),i}}}const nA=new UL("electron");function LL(){return nA.isLoaded}function XJ(t){return nA.safeCall(e=>e.webFrame.setZoomFactor(t))}function KJ(t){return nA.safeCall(e=>e.shell.openExternal(t))}const ZJ=.5,QJ=1.5;let $s=1;const $h={initialize(){this.isActive&&($s=Number(localStorage.getItem("Zoom")),$s=Number.isFinite($s)?$s:1,window.addEventListener("resize",()=>this.updateZoom()))},get isActive(){return LL()},increaseZoom(){if(this.isActive){if($s>QJ){GameUI.notify.info("Zoom Level is at Maximum");return}this.zoomFactor=Math.round(($s+.1)*10)/10}},decreaseZoom(){if(this.isActive){if($s<ZJ){GameUI.notify.info("Zoom Level is at Minimum");return}this.zoomFactor=Math.round(($s-.1)*10)/10}},resetZoom(){this.isActive&&(this.zoomFactor=1)},get zoomFactor(){return $s},set zoomFactor(t){$s=t,localStorage.setItem("Zoom",$s.toString()),this.updateZoom(),GameUI.notify.info(`Size changed to ${Math.round($s*100)}%`)},updateZoom(){if(!this.isActive)return;const e=window.outerHeight/1020;XJ(e*$s)}};var J=typeof J<"u"?J:{};J.settings||(J.settings={titleId:null,developerSecretKey:null,GlobalHeaderInjection:null,productionServerUrl:".playfabapi.com"});J._internalSettings||(J._internalSettings={entityToken:null,sdkVersion:"1.136.230206",requestGetParams:{sdk:"JavaScriptSDK-1.136.230206"},sessionTicket:null,verticalName:null,errorTitleId:"Must be have PlayFab.settings.titleId set to call this method",errorLoggedIn:"Must be logged in to call this method",errorEntityToken:"You must successfully call GetEntityToken before calling this",errorSecretKey:"Must have PlayFab.settings.developerSecretKey set to call this method",GetServerUrl:function(){return J.settings.productionServerUrl.substring(0,4)!=="http"?J._internalSettings.verticalName?"https://"+J._internalSettings.verticalName+J.settings.productionServerUrl:"https://"+J.settings.titleId+J.settings.productionServerUrl:J.settings.productionServerUrl},InjectHeaders:function(t,e){if(e)for(var i in e)try{t.setRequestHeader(gHeaderKey,e[i])}catch(n){console.log("Failed to append header: "+i+" = "+e[i]+"Error: "+n)}},ExecuteRequest:function(t,e,i,n,r,a,s){var o=new Promise(function(c,d){if(r!=null&&typeof r!="function")throw"Callback must be null or a function";e==null&&(e={});var p=new Date,m=JSON.stringify(e),y=[t],_=J._internalSettings.requestGetParams;if(_!=null){var w=!0;for(var C in _)w?(y.push("?"),w=!1):y.push("&"),y.push(C),y.push("="),y.push(_[C])}var k=y.join(""),S=new XMLHttpRequest;S.open("POST",k,!0),S.setRequestHeader("Content-Type","application/json"),S.setRequestHeader("X-PlayFabSDK","JavaScriptSDK-"+J._internalSettings.sdkVersion),i!=null&&S.setRequestHeader(i,n),J._internalSettings.InjectHeaders(S,J.settings.GlobalHeaderInjection),J._internalSettings.InjectHeaders(S,s),S.onloadend=function(){if(r!=null){var x=J._internalSettings.GetPlayFabResponse(e,S,p,a);x.code===200?r(x,null):r(null,x)}},S.onerror=function(){if(r!=null){var x=J._internalSettings.GetPlayFabResponse(e,S,p,a);r(null,x)}},S.send(m),S.onreadystatechange=function(){if(this.readyState===4){var x=J._internalSettings.GetPlayFabResponse(e,this,p,a);this.status===200?c(x):d(x)}}});return o},GetPlayFabResponse:function(t,e,i,n){var r=null;try{r=JSON.parse(e.responseText)}catch{r={code:503,status:"Service Unavailable",error:"Connection error",errorCode:2,errorMessage:e.responseText}}return r.CallBackTimeMS=new Date-i,r.Request=t,r.CustomData=n,r},authenticationContext:{PlayFabId:null,EntityId:null,EntityType:null,SessionTicket:null,EntityToken:null},UpdateAuthenticationContext:function(t,e){var i={};return e.data.PlayFabId!==null&&(J._internalSettings.authenticationContext.PlayFabId=e.data.PlayFabId,i.PlayFabId=e.data.PlayFabId),e.data.SessionTicket!==null&&(J._internalSettings.authenticationContext.SessionTicket=e.data.SessionTicket,i.SessionTicket=e.data.SessionTicket),e.data.EntityToken!==null&&(J._internalSettings.authenticationContext.EntityId=e.data.EntityToken.Entity.Id,i.EntityId=e.data.EntityToken.Entity.Id,J._internalSettings.authenticationContext.EntityType=e.data.EntityToken.Entity.Type,i.EntityType=e.data.EntityToken.Entity.Type,J._internalSettings.authenticationContext.EntityToken=e.data.EntityToken.EntityToken,i.EntityToken=e.data.EntityToken.EntityToken),t=Object.assign(t,i),t},AuthInfoMap:{"X-EntityToken":{authAttr:"entityToken",authError:"errorEntityToken"},"X-Authorization":{authAttr:"sessionTicket",authError:"errorLoggedIn"},"X-SecretKey":{authAttr:"developerSecretKey",authError:"errorSecretKey"}},GetAuthInfo:function(t,e){var i=J._internalSettings.AuthInfoMap[e].authError,n=J._internalSettings.AuthInfoMap[e].authAttr,r=null;n==="entityToken"?r=J._internalSettings.entityToken:n==="sessionTicket"?r=J._internalSettings.sessionTicket:n==="developerSecretKey"&&(r=J.settings.developerSecretKey);var a=t.AuthenticationContext?t.AuthenticationContext[n]:r;return{authKey:e,authValue:a,authError:i}},ExecuteRequestWrapper:function(t,e,i,n,r,a){var s=null;if(i!==null){var o=J._internalSettings.GetAuthInfo(e,i=i),i=o.authKey,s=o.authValue,c=o.authError;if(!s)throw c}return J._internalSettings.ExecuteRequest(J._internalSettings.GetServerUrl()+t,e,i,s,n,r,a)}});J.buildIdentifier="adobuild_javascriptsdk_114";J.sdkVersion="1.136.230206";J.GenerateErrorReport=function(t){if(t==null)return"";var e=t.errorMessage;for(var i in t.errorDetails)for(var n in t.errorDetails[i])e+=`
`+i+": "+t.errorDetails[i][n];return e};J.ClientApi={IsClientLoggedIn:function(){return J._internalSettings.sessionTicket!=null&&J._internalSettings.sessionTicket.length>0},ForgetAllCredentials:function(){J._internalSettings.sessionTicket=null,J._internalSettings.entityToken=null},AcceptTrade:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AcceptTrade",t,"X-Authorization",e,i,n)},AddFriend:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AddFriend",t,"X-Authorization",e,i,n)},AddGenericID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AddGenericID",t,"X-Authorization",e,i,n)},AddOrUpdateContactEmail:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AddOrUpdateContactEmail",t,"X-Authorization",e,i,n)},AddSharedGroupMembers:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AddSharedGroupMembers",t,"X-Authorization",e,i,n)},AddUsernamePassword:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AddUsernamePassword",t,"X-Authorization",e,i,n)},AddUserVirtualCurrency:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AddUserVirtualCurrency",t,"X-Authorization",e,i,n)},AndroidDevicePushNotificationRegistration:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AndroidDevicePushNotificationRegistration",t,"X-Authorization",e,i,n)},AttributeInstall:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/AttributeInstall",t,"X-Authorization",e,i,n)},CancelTrade:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/CancelTrade",t,"X-Authorization",e,i,n)},ConfirmPurchase:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ConfirmPurchase",t,"X-Authorization",e,i,n)},ConsumeItem:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ConsumeItem",t,"X-Authorization",e,i,n)},ConsumeMicrosoftStoreEntitlements:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ConsumeMicrosoftStoreEntitlements",t,"X-Authorization",e,i,n)},ConsumePS5Entitlements:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ConsumePS5Entitlements",t,"X-Authorization",e,i,n)},ConsumePSNEntitlements:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ConsumePSNEntitlements",t,"X-Authorization",e,i,n)},ConsumeXboxEntitlements:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ConsumeXboxEntitlements",t,"X-Authorization",e,i,n)},CreateSharedGroup:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/CreateSharedGroup",t,"X-Authorization",e,i,n)},ExecuteCloudScript:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ExecuteCloudScript",t,"X-Authorization",e,i,n)},GetAccountInfo:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetAccountInfo",t,"X-Authorization",e,i,n)},GetAdPlacements:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetAdPlacements",t,"X-Authorization",e,i,n)},GetAllUsersCharacters:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetAllUsersCharacters",t,"X-Authorization",e,i,n)},GetCatalogItems:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCatalogItems",t,"X-Authorization",e,i,n)},GetCharacterData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterData",t,"X-Authorization",e,i,n)},GetCharacterInventory:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterInventory",t,"X-Authorization",e,i,n)},GetCharacterLeaderboard:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterLeaderboard",t,"X-Authorization",e,i,n)},GetCharacterReadOnlyData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterReadOnlyData",t,"X-Authorization",e,i,n)},GetCharacterStatistics:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterStatistics",t,"X-Authorization",e,i,n)},GetContentDownloadUrl:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetContentDownloadUrl",t,"X-Authorization",e,i,n)},GetCurrentGames:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetCurrentGames",t,"X-Authorization",e,i,n)},GetFriendLeaderboard:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetFriendLeaderboard",t,"X-Authorization",e,i,n)},GetFriendLeaderboardAroundPlayer:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetFriendLeaderboardAroundPlayer",t,"X-Authorization",e,i,n)},GetFriendsList:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetFriendsList",t,"X-Authorization",e,i,n)},GetGameServerRegions:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetGameServerRegions",t,"X-Authorization",e,i,n)},GetLeaderboard:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboard",t,"X-Authorization",e,i,n)},GetLeaderboardAroundCharacter:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardAroundCharacter",t,"X-Authorization",e,i,n)},GetLeaderboardAroundPlayer:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardAroundPlayer",t,"X-Authorization",e,i,n)},GetLeaderboardForUserCharacters:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardForUserCharacters",t,"X-Authorization",e,i,n)},GetPaymentToken:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPaymentToken",t,"X-Authorization",e,i,n)},GetPhotonAuthenticationToken:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPhotonAuthenticationToken",t,"X-Authorization",e,i,n)},GetPlayerCombinedInfo:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerCombinedInfo",t,"X-Authorization",e,i,n)},GetPlayerProfile:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerProfile",t,"X-Authorization",e,i,n)},GetPlayerSegments:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerSegments",t,"X-Authorization",e,i,n)},GetPlayerStatistics:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerStatistics",t,"X-Authorization",e,i,n)},GetPlayerStatisticVersions:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerStatisticVersions",t,"X-Authorization",e,i,n)},GetPlayerTags:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerTags",t,"X-Authorization",e,i,n)},GetPlayerTrades:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerTrades",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromFacebookIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromFacebookIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromFacebookInstantGamesIds:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromFacebookInstantGamesIds",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromGameCenterIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGameCenterIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromGenericIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGenericIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromGoogleIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGoogleIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromGooglePlayGamesPlayerIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGooglePlayGamesPlayerIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromKongregateIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromKongregateIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromNintendoServiceAccountIds:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromNintendoServiceAccountIds",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromNintendoSwitchDeviceIds:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromNintendoSwitchDeviceIds",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromPSNAccountIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromPSNAccountIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromSteamIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromSteamIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromTwitchIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromTwitchIDs",t,"X-Authorization",e,i,n)},GetPlayFabIDsFromXboxLiveIDs:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromXboxLiveIDs",t,"X-Authorization",e,i,n)},GetPublisherData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPublisherData",t,"X-Authorization",e,i,n)},GetPurchase:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetPurchase",t,"X-Authorization",e,i,n)},GetSharedGroupData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetSharedGroupData",t,"X-Authorization",e,i,n)},GetStoreItems:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetStoreItems",t,"X-Authorization",e,i,n)},GetTime:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetTime",t,"X-Authorization",e,i,n)},GetTitleData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetTitleData",t,"X-Authorization",e,i,n)},GetTitleNews:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetTitleNews",t,"X-Authorization",e,i,n)},GetTitlePublicKey:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetTitlePublicKey",t,null,e,i,n)},GetTradeStatus:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetTradeStatus",t,"X-Authorization",e,i,n)},GetUserData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetUserData",t,"X-Authorization",e,i,n)},GetUserInventory:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetUserInventory",t,"X-Authorization",e,i,n)},GetUserPublisherData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetUserPublisherData",t,"X-Authorization",e,i,n)},GetUserPublisherReadOnlyData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetUserPublisherReadOnlyData",t,"X-Authorization",e,i,n)},GetUserReadOnlyData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GetUserReadOnlyData",t,"X-Authorization",e,i,n)},GrantCharacterToUser:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/GrantCharacterToUser",t,"X-Authorization",e,i,n)},LinkAndroidDeviceID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkAndroidDeviceID",t,"X-Authorization",e,i,n)},LinkApple:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkApple",t,"X-Authorization",e,i,n)},LinkCustomID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkCustomID",t,"X-Authorization",e,i,n)},LinkFacebookAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkFacebookAccount",t,"X-Authorization",e,i,n)},LinkFacebookInstantGamesId:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkFacebookInstantGamesId",t,"X-Authorization",e,i,n)},LinkGameCenterAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkGameCenterAccount",t,"X-Authorization",e,i,n)},LinkGoogleAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkGoogleAccount",t,"X-Authorization",e,i,n)},LinkGooglePlayGamesServicesAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkGooglePlayGamesServicesAccount",t,"X-Authorization",e,i,n)},LinkIOSDeviceID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkIOSDeviceID",t,"X-Authorization",e,i,n)},LinkKongregate:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkKongregate",t,"X-Authorization",e,i,n)},LinkNintendoServiceAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkNintendoServiceAccount",t,"X-Authorization",e,i,n)},LinkNintendoSwitchDeviceId:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkNintendoSwitchDeviceId",t,"X-Authorization",e,i,n)},LinkOpenIdConnect:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkOpenIdConnect",t,"X-Authorization",e,i,n)},LinkPSNAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkPSNAccount",t,"X-Authorization",e,i,n)},LinkSteamAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkSteamAccount",t,"X-Authorization",e,i,n)},LinkTwitch:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkTwitch",t,"X-Authorization",e,i,n)},LinkXboxAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/LinkXboxAccount",t,"X-Authorization",e,i,n)},LoginWithAndroidDeviceID:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithAndroidDeviceID",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithApple:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithApple",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithCustomID:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithCustomID",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithEmailAddress:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithEmailAddress",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithFacebook:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithFacebook",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithFacebookInstantGamesId:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithFacebookInstantGamesId",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithGameCenter:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGameCenter",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithGoogleAccount:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGoogleAccount",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithGooglePlayGamesServices:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGooglePlayGamesServices",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithIOSDeviceID:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithIOSDeviceID",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithKongregate:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithKongregate",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithNintendoServiceAccount:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithNintendoServiceAccount",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithNintendoSwitchDeviceId:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithNintendoSwitchDeviceId",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithOpenIdConnect:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithOpenIdConnect",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithPlayFab:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithPlayFab",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithPSN:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithPSN",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithSteam:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithSteam",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithTwitch:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithTwitch",t,null,a,i,n),new Promise(function(s){s(r)})},LoginWithXbox:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;var r=JSON.parse(JSON.stringify(J._internalSettings.authenticationContext)),a=function(s,o){s!=null&&(s.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=s.data.SessionTicket),s.data.EntityToken!=null&&(J._internalSettings.entityToken=s.data.EntityToken.EntityToken),r=J._internalSettings.UpdateAuthenticationContext(r,s)),e!=null&&typeof e=="function"&&e(s,o)};return J._internalSettings.ExecuteRequestWrapper("/Client/LoginWithXbox",t,null,a,i,n),new Promise(function(s){s(r)})},Matchmake:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/Matchmake",t,"X-Authorization",e,i,n)},OpenTrade:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/OpenTrade",t,"X-Authorization",e,i,n)},PayForPurchase:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/PayForPurchase",t,"X-Authorization",e,i,n)},PurchaseItem:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/PurchaseItem",t,"X-Authorization",e,i,n)},RedeemCoupon:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RedeemCoupon",t,"X-Authorization",e,i,n)},RefreshPSNAuthToken:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RefreshPSNAuthToken",t,"X-Authorization",e,i,n)},RegisterForIOSPushNotification:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RegisterForIOSPushNotification",t,"X-Authorization",e,i,n)},RegisterPlayFabUser:function(t,e,i,n){if(t.TitleId=J.settings.titleId?J.settings.titleId:t.TitleId,!t.TitleId)throw J._internalSettings.errorTitleId;JSON.parse(JSON.stringify(J._internalSettings.authenticationContext));var r=function(a,s){a!=null&&a.data.SessionTicket!=null&&(J._internalSettings.sessionTicket=a.data.SessionTicket),e!=null&&typeof e=="function"&&e(a,s)};return J._internalSettings.ExecuteRequestWrapper("/Client/RegisterPlayFabUser",t,null,r,i,n)},RemoveContactEmail:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RemoveContactEmail",t,"X-Authorization",e,i,n)},RemoveFriend:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RemoveFriend",t,"X-Authorization",e,i,n)},RemoveGenericID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RemoveGenericID",t,"X-Authorization",e,i,n)},RemoveSharedGroupMembers:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RemoveSharedGroupMembers",t,"X-Authorization",e,i,n)},ReportAdActivity:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ReportAdActivity",t,"X-Authorization",e,i,n)},ReportDeviceInfo:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ReportDeviceInfo",t,"X-Authorization",e,i,n)},ReportPlayer:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ReportPlayer",t,"X-Authorization",e,i,n)},RestoreIOSPurchases:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RestoreIOSPurchases",t,"X-Authorization",e,i,n)},RewardAdActivity:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/RewardAdActivity",t,"X-Authorization",e,i,n)},SendAccountRecoveryEmail:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/SendAccountRecoveryEmail",t,null,e,i,n)},SetFriendTags:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/SetFriendTags",t,"X-Authorization",e,i,n)},SetPlayerSecret:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/SetPlayerSecret",t,"X-Authorization",e,i,n)},StartPurchase:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/StartPurchase",t,"X-Authorization",e,i,n)},SubtractUserVirtualCurrency:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/SubtractUserVirtualCurrency",t,"X-Authorization",e,i,n)},UnlinkAndroidDeviceID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkAndroidDeviceID",t,"X-Authorization",e,i,n)},UnlinkApple:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkApple",t,"X-Authorization",e,i,n)},UnlinkCustomID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkCustomID",t,"X-Authorization",e,i,n)},UnlinkFacebookAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkFacebookAccount",t,"X-Authorization",e,i,n)},UnlinkFacebookInstantGamesId:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkFacebookInstantGamesId",t,"X-Authorization",e,i,n)},UnlinkGameCenterAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGameCenterAccount",t,"X-Authorization",e,i,n)},UnlinkGoogleAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGoogleAccount",t,"X-Authorization",e,i,n)},UnlinkGooglePlayGamesServicesAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGooglePlayGamesServicesAccount",t,"X-Authorization",e,i,n)},UnlinkIOSDeviceID:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkIOSDeviceID",t,"X-Authorization",e,i,n)},UnlinkKongregate:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkKongregate",t,"X-Authorization",e,i,n)},UnlinkNintendoServiceAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkNintendoServiceAccount",t,"X-Authorization",e,i,n)},UnlinkNintendoSwitchDeviceId:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkNintendoSwitchDeviceId",t,"X-Authorization",e,i,n)},UnlinkOpenIdConnect:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkOpenIdConnect",t,"X-Authorization",e,i,n)},UnlinkPSNAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkPSNAccount",t,"X-Authorization",e,i,n)},UnlinkSteamAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkSteamAccount",t,"X-Authorization",e,i,n)},UnlinkTwitch:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkTwitch",t,"X-Authorization",e,i,n)},UnlinkXboxAccount:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlinkXboxAccount",t,"X-Authorization",e,i,n)},UnlockContainerInstance:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlockContainerInstance",t,"X-Authorization",e,i,n)},UnlockContainerItem:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UnlockContainerItem",t,"X-Authorization",e,i,n)},UpdateAvatarUrl:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateAvatarUrl",t,"X-Authorization",e,i,n)},UpdateCharacterData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateCharacterData",t,"X-Authorization",e,i,n)},UpdateCharacterStatistics:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateCharacterStatistics",t,"X-Authorization",e,i,n)},UpdatePlayerStatistics:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdatePlayerStatistics",t,"X-Authorization",e,i,n)},UpdateSharedGroupData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateSharedGroupData",t,"X-Authorization",e,i,n)},UpdateUserData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserData",t,"X-Authorization",e,i,n)},UpdateUserPublisherData:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserPublisherData",t,"X-Authorization",e,i,n)},UpdateUserTitleDisplayName:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserTitleDisplayName",t,"X-Authorization",e,i,n)},ValidateAmazonIAPReceipt:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ValidateAmazonIAPReceipt",t,"X-Authorization",e,i,n)},ValidateGooglePlayPurchase:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ValidateGooglePlayPurchase",t,"X-Authorization",e,i,n)},ValidateIOSReceipt:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ValidateIOSReceipt",t,"X-Authorization",e,i,n)},ValidateWindowsStoreReceipt:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/ValidateWindowsStoreReceipt",t,"X-Authorization",e,i,n)},WriteCharacterEvent:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/WriteCharacterEvent",t,"X-Authorization",e,i,n)},WritePlayerEvent:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/WritePlayerEvent",t,"X-Authorization",e,i,n)},WriteTitleEvent:function(t,e,i,n){return J._internalSettings.ExecuteRequestWrapper("/Client/WriteTitleEvent",t,"X-Authorization",e,i,n)}};J.ClientApi;J.RegisterWithPhaser=function(){typeof Phaser>"u"||typeof Phaser.Plugin>"u"||(Phaser.Plugin.PlayFab=function(t,e){Phaser.Plugin.call(this,t,e)},Phaser.Plugin.PlayFab.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.PlayFab.prototype.constructor=Phaser.Plugin.PlayFab,Phaser.Plugin.PlayFab.prototype.PlayFab=J,Phaser.Plugin.PlayFab.prototype.settings=J.settings,Phaser.Plugin.PlayFab.prototype.ClientApi=J.ClientApi)};J.RegisterWithPhaser();const hc=J.ClientApi;J.settings.titleId="59813";function BL(){return au(hc.GetUserData)}function JJ(t){return au(hc.UpdateUserData,{Data:t})}function eee(){return au(hc.GetUserInventory)}function tee(t,e,i){return au(hc.PurchaseItem,{ItemId:t,Price:e,VirtualCurrency:i})}function iee(t,e,i){return au(hc.StartPurchase,{Items:[{ItemId:t,Quantity:e,Annotation:i}]})}function nee(t,e,i){return au(hc.PayForPurchase,{OrderId:t,Currency:e,ProviderName:i})}function ree(t){return au(hc.ConfirmPurchase,{OrderId:t})}function aee(t,e){return au(hc.ConsumeItem,{ItemInstanceId:t,ConsumeCount:e})}function see(t,e){return au(hc.AddUserVirtualCurrency,{Amount:t,VirtualCurrency:e})}function au(t,e){return hc.IsClientLoggedIn()?oee(t,e):Promise.reject("PlayFab Client is not logged in.")}function oee(t,e){return new Promise((i,n)=>{t(e??{},(r,a)=>{!a&&(r!=null&&r.data)?i(r.data):n(a??r)})})}function $L(t){LL()?KJ(t):window.open(t,"_blank").focus()}async function lee(t){const e=`${t}STD`,a=(await iee(e,1,"Purchased via in-game store")).OrderId,c=await nee(a,"RM","Steam");if(av.push(c.OrderId),tG){const d=c.ProviderData;$L(`https://store.steampowered.com/checkout/approvetxn/${d}/?returnurl=steam`)}}let MM=0,av=[],XT=!1,KT=!1;async function FL(){if(XT){KT=!0;return}clearTimeout(MM),XT=!0;const t=[...av];for(const i of t)try{await cee(i)}catch{}XT=!1,MM=setTimeout(FL,KT?0:2e3),KT=!1}async function cee(t){const e=await ree(t),i=e.Items[0].ItemId,n=e.Items[0].ItemInstanceId;await aee(n,1);const r=Number(i.replace("STD",""));av=av.filter(a=>a!==t),await see(r,"ST"),GameUI.notify.info(`${r} STDs Obtained!`),HL()}function uee(){return tG&&av.length>0}async function HL(){var i,n,r;const t=await eee();ShopPurchaseData.totalSTD=((i=t.VirtualCurrency)==null?void 0:i.ST)??0;for(const a of Object.keys(GameDatabase.shopPurchases)){const s=t.Inventory.find(o=>o.ItemId===a);ShopPurchaseData[a]=(s==null?void 0:s.RemainingUses)??0}GameUI.update();const e=await BL();ShopPurchaseData.unlockedCosmetics=((r=(n=e.Data.Cosmetics)==null?void 0:n.Value)==null?void 0:r.split(","))??[],GameUI.update()}async function dee(t,e,i){await tee(t,e,"ST"),i!==void 0&&await hee(i),HL()}async function hee(t){var r,a,s;const e=await BL(),i=new Set(((s=(a=(r=e.Data)==null?void 0:r.Cosmetics)==null?void 0:a.Value)==null?void 0:s.split(","))??[]);i.add(t);const n=[...i];await JJ({Cosmetics:n.join(",")}),ShopPurchaseData.unlockedCosmetics=n,GameUI.update()}const VL=new UL("greenworks");function fee(){return VL.safeCall(t=>t.getSteamId())}function pee(t){return VL.makePromise((e,i,n)=>e.activateAchievement(t,i,n))}let ZT=!1,mee=!1,yee=[];const df={initialize(){if(ZT)throw Error("Steam Runtime was initialized already.");ZT=!0},get isActive(){if(!ZT)throw Error("Steam Runtime was called before init.");return mee},get screenName(){var t;return this.isActive?((t=fee())==null?void 0:t.screenName)??"Steam user":"Non-Steam user"},activateAchievement(t){if(!this.isActive)return;const e=`Achievement${t}`;yee.includes(e)&&pee(e)},async purchaseIAP(t){this.isActive&&await lee(t)},validatePurchases(){this.isActive&&FL()},async purchaseShopItem(t,e,i){if(!this.isActive)return GameUI.notify.error("Shop purchases are not available."),!1;try{return await dee(t,e,i),!0}catch(n){return GameUI.notify.error(n.errorMessage??n),!1}},get hasPendingPurchaseConfirmations(){return this.isActive?uee():!1}},YL=[{name:"Toggle Autobuyers",keys:["a"],type:"bindHotkey",function:()=>gee(),visible:!0},{name:"Buy one Tickspeed",keys:["shift","t"],type:"bindRepeatableHotkey",function:()=>buyTickSpeed(),visible:!0},{name:"Buy max Tickspeed",keys:["t"],type:"bindRepeatableHotkey",function:()=>buyMaxTickSpeed(),visible:!0},{name:"Max all",keys:["m"],type:"bindRepeatableHotkey",function:()=>maxAll(),visible:!0},{name:"Dimensional Sacrifice",keys:["s"],type:"bindRepeatableHotkey",function:()=>sacrificeBtnClick(),visible:!0},{name:"Dimension Boost",keys:["d"],type:"bindRepeatableHotkey",function:()=>manualRequestDimensionBoost(!0),visible:!0},{name:"Single Dimension Boost",keys:["shift","d"],type:"bindRepeatableHotkey",function:()=>manualRequestDimensionBoost(!1),visible:!1},{name:"Antimatter Galaxy",keys:["g"],type:"bindRepeatableHotkey",function:()=>manualRequestGalaxyReset(!0),visible:!0},{name:"Single Antimatter Galaxy",keys:["shift","g"],type:"bindRepeatableHotkey",function:()=>manualRequestGalaxyReset(!1),visible:!1},{name:"Big Crunch",keys:["c"],type:"bindRepeatableHotkey",function:()=>manualBigCrunchResetRequest(),visible:!0},{name:"Replicanti Galaxy",keys:["r"],type:"bindHotkey",function:()=>{replicantiGalaxyRequest(),setHoldingR(!0)},visible:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked()},{name:"Eternity",keys:["e"],type:"bindRepeatableHotkey",function:()=>eternityResetRequest(),visible:()=>PlayerProgress.eternityUnlocked()||Player.canEternity},{name:"Toggle Time Study respec",keys:["shift","e"],type:"bindHotkey",function:()=>{player.respec=!player.respec,GameUI.notify.info(`Time Study respec is now ${player.respec?"active":"inactive"}`)},visible:()=>PlayerProgress.eternityUnlocked()},{name:"Enter/Exit Dilation",keys:["l"],type:"bindRepeatableHotkey",function:()=>startDilatedEternityRequest(),visible:()=>PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()},{name:"Reality",keys:["y"],type:"bindRepeatableHotkey",function:()=>requestManualReality(),visible:()=>PlayerProgress.realityUnlocked()||isRealityAvailable()},{name:"Toggle Glyph unequip",keys:["shift","y"],type:"bindHotkey",function:()=>{player.reality.respec=!player.reality.respec,GameUI.notify.info(`Glyph respec is now ${player.reality.respec?"active":"inactive"}`)},visible:()=>PlayerProgress.realityUnlocked()},{name:"Start/Pause Automator",keys:["u"],type:"bindHotkey",function:()=>bee(),visible:()=>Player.automatorUnlocked},{name:"Restart Automator",keys:["shift","u"],type:"bindHotkey",function:()=>_ee(),visible:()=>Player.automatorUnlocked},{name:"Undo Edit (Automator)",keys:["mod","z"],type:"bind",function:()=>AutomatorData.undoScriptEdit(),visible:()=>Player.automatorUnlocked},{name:"Redo Edit (Automator)",keys:["mod","y"],type:"bind",function:()=>AutomatorData.redoScriptEdit(),visible:()=>Player.automatorUnlocked},{name:"Toggle Black Hole",keys:["b"],type:"bindHotkey",function:()=>BlackHoles.togglePause(),visible:()=>PlayerProgress.realityUnlocked()},{name:"Toggle Continuum",keys:["alt","a"],type:"bindHotkey",function:()=>vee(),visible:()=>Laitela.continuumUnlocked},{name:"Armageddon",keys:["z"],type:"bindRepeatableHotkey",function:()=>wee(),visible:()=>Pelle.isDoomed},{name:"Toggle Glyph unequip (Pelle)",keys:["shift","z"],type:"bindHotkey",function:()=>{Pelle.isDoomed&&(player.reality.respec=!player.reality.respec,GameUI.notify.info(`Glyph respec is now ${player.reality.respec?"active":"inactive"}`))},visible:()=>Pelle.isDoomed},{name:"Save game",keys:["mod","s"],type:"bind",function:()=>(GameStorage.save(!1,!0),!1),visible:!0},{name:"Export game",keys:["mod","e"],type:"bind",function:()=>(GameStorage.export(),!1),visible:!0},{name:"Open Hotkey List Modal",keys:["?"],type:"bind",function:()=>(Tee(),!1),visible:!0},{name:"Open How To Play Modal",keys:["h"],type:"bind",function:()=>(Cee(),!1),visible:!0},{name:"Modify visible tabs",keys:["tab"],type:"bind",function:()=>(See(),!1),visible:!0},{name:"Confirm Modal",keys:["enter"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ENTER_PRESSED),!0),visible:!0},{name:"Close Modal or open Options",keys:["esc"],type:"bind",function:()=>(Eee(),!1),visible:!0},{name:"Paying respects",keys:["f"],type:"bindRepeatable",function:()=>{GameUI.notify.info("Paying respects"),SecretAchievement(13).unlock()},visible:!1},{name:"Change Tab",keys:["up"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"up"),!1),visible:!1},{name:"Change Tab",keys:["down"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"down"),!1),visible:!1},{name:"Change Subtab",keys:["left"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"left"),!1),visible:!1},{name:"Change Subtab",keys:["right"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"right"),!1),visible:!1},{name:"Doesn't exist",keys:["9"],type:"bind",function:()=>SecretAchievement(41).unlock(),visible:!1},{name:"Adjust Autobuyers",keys:["mod","alt","a"],type:"bind",function:()=>kee(),visible:()=>Autobuyers.hasAutobuyersForEditModal},{name:"Fullscreen",keys:["F10"],type:"bind",function:()=>{},visible:()=>!1},{name:"Zoom In",keys:["ctrl","="],type:"bind",function:()=>$h.increaseZoom(),visible:()=>!1},{name:"Zoom In",keys:["ctrl","+"],type:"bind",function:()=>$h.increaseZoom(),visible:()=>!1},{name:"Zoom Out",keys:["ctrl","-"],type:"bind",function:()=>$h.decreaseZoom(),visible:()=>!1},{name:"Reset Zoom",keys:["ctrl","0"],type:"bind",function:()=>$h.resetZoom(),visible:()=>!1}];for(const t of YL)Ji[t.type](t.keys.join("+"),t.function);Ji.bind("r",()=>setHoldingR(!1),"keyup");Ji.bind("shift",()=>setShiftKey(!0),"keydown");Ji.bind("shift",()=>setShiftKey(!1),"keyup");Ji.bind("ctrl+shift",()=>setShiftKey(!0),"keydown");Ji.bind("ctrl+shift",()=>setShiftKey(!1),"keyup");Ji.bind("alt+shift",()=>setShiftKey(!0),"keydown");Ji.bind("alt+shift",()=>setShiftKey(!1),"keyup");Ji.bindHotkey("alt+t",()=>sc(Autobuyer.tickspeed));Ji.bindHotkey("shift+alt+t",()=>WC(Autobuyer.tickspeed));Ji.bindHotkey("alt+s",()=>sc(Autobuyer.sacrifice));Ji.bindHotkey("alt+d",()=>sc(Autobuyer.dimboost));Ji.bindHotkey("alt+g",()=>sc(Autobuyer.galaxy));Ji.bindHotkey("alt+r",()=>sc(Autobuyer.replicantiGalaxy));Ji.bindHotkey("alt+c",()=>sc(Autobuyer.bigCrunch));Ji.bindHotkey("alt+e",()=>sc(Autobuyer.eternity));Ji.bindHotkey("alt+y",()=>sc(Autobuyer.reality));(function(){function t(e){Ji.bindRepeatableHotkey(`${e}`,()=>buyManyDimension(e)),Ji.bindRepeatableHotkey(`num${e}`,()=>buyManyDimension(e)),Ji.bindRepeatableHotkey(`shift+${e}`,()=>buyOneDimension(e)),Ji.bindRepeatableHotkey(`shift+num${e}`,()=>buyOneDimension(e)),Ji.bindHotkey(`alt+${e}`,()=>sc(Autobuyer.antimatterDimension(e))),Ji.bindHotkey(`alt+num${e}`,()=>sc(Autobuyer.antimatterDimension(e))),Ji.bindHotkey(`shift+alt+${e}`,()=>WC(Autobuyer.antimatterDimension(e))),Ji.bindHotkey(`shift+alt+num${e}`,()=>WC(Autobuyer.antimatterDimension(e)))}for(let e=1;e<9;e++)t(e)})();Ji.bind(["mod+shift+c","mod+shift+i","mod+shift+j","f12"],()=>SecretAchievement(23).unlock());function sc(t){const e=t===Autobuyer.tickspeed&&t.isBought;return t.disabledByContinuum?GameUI.notify.info("Continuum is enabled, you cannot alter this autobuyer"):(t.isUnlocked||e)&&(t.toggle(),GameUI.notify.info(`${t.name} Autobuyer toggled ${t.isActive?"on":"off"}`)),!1}function WC(t){if(t.disabledByContinuum)GameUI.notify.info("Continuum is enabled, you cannot alter this autobuyer");else if(t.isUnlocked&&t.toggleMode!==null){t.toggleMode();const e=t.name==="Tickspeed"||t.hasUnlimitedBulk?"max":"10";GameUI.notify.info(`${t.name} Autobuyer set to buy ${t.mode===1?"singles":e}`)}return!1}function gee(){Tab.automation.isUnlocked&&(Autobuyers.toggle(),GameUI.notify.info(`Autobuyers ${player.auto.autobuyersOn?"resumed":"paused"}`))}function vee(){if(Laitela.continuumUnlocked){if(ImaginaryUpgrade(21).isLockingMechanics&&player.auto.disableContinuum){ImaginaryUpgrade(21).tryShowWarningModal();return}Laitela.setContinuum(player.auto.disableContinuum),GameUI.notify.info(`${player.auto.disableContinuum?"Disabled":"Enabled"} Continuum`)}}function bee(){if(Player.automatorUnlocked){if(AutomatorBackend.isRunning)AutomatorBackend.pause();else if(AutomatorBackend.isOn)AutomatorBackend.mode=AUTOMATOR_MODE.RUN;else{const i=player.reality.automator.state.editorScript;AutomatorBackend.restart(),AutomatorBackend.start(i),AutomatorData.currentErrors().length===0?GameUI.notify.automator(`Starting script "${AutomatorBackend.scriptName}"`):GameUI.notify.error(`Cannot start script "${AutomatorBackend.scriptName}" (has errors)`);return}const t=AutomatorBackend.isRunning?"Resuming":"Pausing",e=AutomatorBackend.currentLineNumber;GameUI.notify.automator(`${t} script "${AutomatorBackend.scriptName}" at line ${e}`)}}function _ee(){if(Player.automatorUnlocked){const t=AutomatorBackend.isOn?"Restarting":"Starting";GameUI.notify.automator(`${t} script "${AutomatorBackend.scriptName}"`),AutomatorBackend.restart(),AutomatorBackend.start()}}function wee(){Pelle.canArmageddon&&Pelle.armageddon(!0)}function Eee(){Quote.isOpen||Quote.isHistoryOpen?Quote.clearAll():Modal.isOpen?Modal.hideAll():Tab.options.show(!0)}function Tee(){if(Modal.hotkeys.isOpen){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL);return}Modal.isOpen&&Modal.hideAll(),Modal.hotkeys.show()}function Cee(){if(Modal.h2p.isOpen){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL);return}Modal.isOpen&&Modal.hideAll(),Modal.h2p.show()}function kee(){if(Modal.autobuyerEditModal.isOpen){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL);return}Autobuyers.hasAutobuyersForEditModal&&(Modal.isOpen&&Modal.hideAll(),Modal.autobuyerEditModal.show())}function See(){if(Modal.hiddenTabs.isOpen){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL);return}Modal.isOpen&&Modal.hideAll(),Modal.hiddenTabs.show()}EventHub.logic.on(GAME_EVENT.ARROW_KEY_PRESSED,t=>{if(Quote.isOpen||Quote.isHistoryOpen)return;const e=Tabs.current.key;if(t[0]==="up"||t[0]==="down"){const i=Tabs.currentUIFormat.flatMap(r=>r.isAvailable?[r.key]:[]);let n=i.indexOf(e);t[0]==="up"?n--:n++,n=(n+i.length)%i.length,Tab[i[n]].show(!0)}else if(t[0]==="left"||t[0]==="right"){const i=Tabs.current._currentSubtab.key,n=Tabs.current.subtabs.flatMap(a=>a.isAvailable?[a.key]:[]);let r=n.indexOf(i);t[0]==="left"?r--:r++,r=(r+n.length)%n.length,Tab[e][n[r]].show(!0)}});const QT=["up","up","down","down","left","right","left","right","b","a","enter"];let Th=0;function Aee(t){SecretAchievement(17).isUnlocked||(QT[Th]===t?Th++:Th===2&&t==="up"?Th=2:t===QT[0]?Th=1:Th=0,QT.length<=Th&&(SecretAchievement(17).unlock(),Currency.antimatter.bumpTo(30),Speedrun.startTimer()))}const xee=Hl.prototype.handleKey;Hl.prototype.handleKey=function(t,e,i){return i.type==="keydown"&&Aee(t),xee.apply(this,[t,e,i])};const $u={NORMAL:0,DISTANT:1,REMOTE:2};class Dee{constructor(e,i){this.tier=e,this.amount=i}get isSatisfied(){return AntimatterDimension(this.tier).totalAmount.gte(this.amount)}}let gd=class xh{static get remoteStart(){return RealityUpgrade(21).effectOrDefault(800)}static get requirement(){return this.requirementAt(player.galaxies)}static buyableGalaxies(e){const i=bulkBuyBinarySearch(new Decimal(e),{costFunction:n=>this.requirementAt(n).amount,cumulative:!1},player.galaxies);if(!i)throw new Error("Unexpected failure to calculate galaxy purchase");return player.galaxies+i.quantity}static requirementAt(e){let i=xh.baseCost+e*xh.costMult;const n=xh.typeAt(e);if(n===$u.DISTANT&&EternityChallenge(5).isRunning)i+=Math.pow(e,2)+e;else if(n===$u.DISTANT||n===$u.REMOTE){const a=this.costScalingStart,s=Math.clampMin(e-a+1,0);i+=Math.pow(s,2)+s}n===$u.REMOTE&&(i*=Math.pow(1.002,e-(xh.remoteStart-1))),i-=Effects.sum(InfinityUpgrade.resetBoost),InfinityChallenge(5).isCompleted&&(i-=1),GlyphAlteration.isAdded("power")&&(i*=getSecondaryGlyphEffect("powerpow")),i=Math.floor(i);const r=xh.requiredTier;return new Dee(r,i)}static get costMult(){return Effects.min(NormalChallenge(10).isRunning?90:60,TimeStudy(42))}static get baseCost(){return NormalChallenge(10).isRunning?99:80}static get requiredTier(){return NormalChallenge(10).isRunning?6:8}static get canBeBought(){return!(EternityChallenge(6).isRunning&&!Enslaved.isRunning||NormalChallenge(8).isRunning||InfinityChallenge(7).isRunning||player.records.thisInfinity.maxAM.gt(Player.infinityGoal)&&(!player.break||Player.isInAntimatterChallenge))}static get lockText(){return this.canBeBought?null:EternityChallenge(6).isRunning?"Locked (Eternity Challenge 6)":InfinityChallenge(7).isRunning?"Locked (Infinity Challenge 7)":InfinityChallenge(1).isRunning?"Locked (Infinity Challenge 1)":NormalChallenge(8).isRunning?"Locked (8th Antimatter Dimension Autobuyer Challenge)":null}static get costScalingStart(){return 100+TimeStudy(302).effectOrDefault(0)+Effects.sum(TimeStudy(223),TimeStudy(224),EternityChallenge(5).reward,GlyphSacrifice.power)}static get type(){return this.typeAt(player.galaxies)}static typeAt(e){return e>=xh.remoteStart?$u.REMOTE:EternityChallenge(5).isRunning||e>=this.costScalingStart?$u.DISTANT:$u.NORMAL}};function qL(){EventHub.dispatch(GAME_EVENT.GALAXY_RESET_BEFORE),player.galaxies++,(!Achievement(143).isUnlocked||Pelle.isDoomed&&!PelleUpgrade.dimBoostResetsNothing.canBeApplied)&&(player.dimensionBoosts=0),softReset(0),Notations.current===Notation.emoji&&player.requirementChecks.permanent.emojiGalaxies++,player.requirementChecks.infinity.noSacrifice=!0,EventHub.dispatch(GAME_EVENT.GALAXY_RESET_AFTER)}function Iee(t){if(!(!gd.canBeBought||!gd.requirement.isSatisfied)&&!GameEnd.creditsEverClosed){if(RealityUpgrade(7).isLockingMechanics&&player.galaxies>0){RealityUpgrade(7).tryShowWarningModal();return}if(player.options.confirmations.antimatterGalaxy){Modal.antimatterGalaxy.show({bulk:t&&(EternityMilestone.autobuyMaxGalaxies.isReached||BreakInfinityUpgrade.autobuyMaxDimboosts.isBought)});return}WL(t)}}function WL(t,e=Number.MAX_VALUE){const i=RealityUpgrade(7).isLockingMechanics?1:e;return(EternityMilestone.autobuyMaxGalaxies.isReached||BreakInfinityUpgrade.autobuyMaxDimboosts.isBought)&&t?Ree(i):player.galaxies>=i||!gd.canBeBought||!gd.requirement.isSatisfied?!1:(Tutorial.turnOffEffect(TUTORIAL_STATE.GALAXY),qL(),!0)}function Ree(t=Number.MAX_VALUE){if(player.galaxies>=t||!gd.canBeBought)return!1;const e=gd.requirement;if(!e.isSatisfied)return!1;const i=AntimatterDimension(e.tier),n=Math.clampMax(gd.buyableGalaxies(Math.round(i.totalAmount.toNumber())),t);return Notations.current===Notation.emoji&&(player.requirementChecks.permanent.emojiGalaxies+=n-player.galaxies),player.galaxies=n-1,qL(),Enslaved.isRunning&&player.galaxies>1&&EnslavedProgress.c10.giveProgress(),Tutorial.turnOffEffect(TUTORIAL_STATE.GALAXY),!0}class Mee{constructor(e){this.name=e.name,this.forcedName=e.forcedName,this.isUnlocked=()=>e.isUnlocked()||player.records.fullGameCompletions>0,this.awayOption=e.awayOption??this.name,this.showOption=e.showOption??!0,this.reference=e.reference??[this.name],this.applyFn=e.applyFn??(i=>i),this.classObjectReference=e.classObjectReference??this.name,this.appearsInAwayModal=e.appearsInAwayModal??!0}get option(){return player.options.awayProgress[this.awayOption]}set option(e){player.options.awayProgress[this.awayOption]=e}get classObject(){return`c-modal-away-progress__${this.classObjectReference.replace(/[A-Z]/gu,e=>`-${e.toLowerCase()}`)}`}get formatName(){return this.forcedName?this.forcedName:this.name.replace(/[A-Z]/gu,e=>` ${e}`).replace(/^\w/u,e=>e.toUpperCase())}navigateTo(e){let i=e;for(const n of this.reference)i=i[n];return this.applyFn(i)}}const fg={all:{},index:[],showOption:[],appearsInAwayModal:[]};for(let t=0;t<io.awayProgressTypes.length;t++){const e=new Mee(io.awayProgressTypes[t]),i=e.name;fg.all[i]=e,fg.index.push(i),e.showOption&&fg.showOption.push(i),e.appearsInAwayModal&&fg.appearsInAwayModal.push(i)}class Pee{constructor(e){this.name=e.name,this._confirmationSetting=e.option,this.isUnlocked=()=>e.isUnlocked()||player.records.fullGameCompletions>0}get option(){return player.options.confirmations[this._confirmationSetting]}set option(e){player.options.confirmations[this._confirmationSetting]=e}}const jC=io.confirmationTypes.mapToObject(t=>t.option,t=>new Pee(t));jC.index=Object.values(jC);class ao{constructor(e=null){this._id=e}get data(){throw new NotImplementedError}get isUnlocked(){throw new NotImplementedError}get id(){return this._id}get canTick(){const e=!player.auto.autobuyersOn||!this.constructor.isActive;return this.isActive&&!e&&(this.isUnlocked||this.isBought)}get isActive(){return this.data.isActive}set isActive(e){this.data.isActive=e}get bulk(){return 1}toggle(){this.isActive=!this.isActive}tick(){throw new NotImplementedError}reset(){}static get entryCount(){return 1}static get autobuyerGroupName(){throw new NotImplementedError}static get isActive(){return!0}static set isActive(e){throw new NotImplementedError}static createAccessor(){const e=this.entryCount,i=Array.range(1,e).map(a=>new this(a)),n=[null,...i],r=a=>n[a];return Object.defineProperties(r,{oneIndexed:{get:()=>n},zeroIndexed:{get:()=>i},entryCount:{get:()=>e},anyUnlocked:{get:()=>i.some(a=>a.isUnlocked)},allUnlocked:{get:()=>i.every(a=>a.isUnlocked)},allActive:{get:()=>i.every(a=>a.isActive)},groupName:{get:()=>this.autobuyerGroupName},isActive:{get:()=>this.isActive,set:a=>{this.isActive=a}}}),r.toggle=()=>this.isActive=!this.isActive,r}}class Bf extends ao{get interval(){return this.data.interval}get canTick(){return super.canTick&&this.timeSinceLastTick>=this.interval}get timeSinceLastTick(){return player.records.realTimePlayed-this.data.lastTick}tick(){this.data.lastTick=player.records.realTimePlayed}get resetTickOn(){}resetTick(e){e>=this.resetTickOn&&(this.data.lastTick=0)}reset(){}}class Xv extends Bf{get baseInterval(){throw new NotImplementedError}get cost(){return this.data.cost}get interval(){const e=this.data.interval;return BreakInfinityUpgrade.autobuyerSpeed.isBought?e/2:e}get hasMaxedInterval(){return this.data.interval<=100}upgradeInterval(e){this.hasMaxedInterval||!e&&!Currency.infinityPoints.purchase(this.cost)||(this.data.cost*=2,this.data.interval=Math.clampMin(this.data.interval*.6,100),Achievement(52).tryUnlock(),Achievement(53).tryUnlock(),GameUI.update())}maxIntervalForFree(){for(;!this.hasMaxedInterval;)this.upgradeInterval(!0)}reset(){EternityMilestone.keepAutobuyers.isReached||PelleUpgrade.keepAutobuyers.canBeApplied||(this.data.interval=this.baseInterval,this.data.cost=1)}static createAccessor(){const e=super.createAccessor();return Object.defineProperty(e,"allMaxedInterval",{get:()=>e.zeroIndexed.every(i=>i.hasMaxedInterval)}),Object.defineProperty(e,"hasInstant",{get:()=>e.zeroIndexed.some(i=>i.interval<player.options.updateRate)}),e}}class Oee extends ao{get data(){return player.auto.ipMultBuyer}get name(){return"Infinity Point Multiplier"}get isUnlocked(){return EternityMilestone.autobuyerIPMult.isReached&&!Pelle.isDoomed}get hasUnlimitedBulk(){return!0}tick(){InfinityUpgrade.ipMult.buyMax()}}class Nee extends ao{get data(){return player.auto.epMultBuyer}get name(){return"Eternity Point Multiplier"}get isUnlocked(){return RealityUpgrade(13).isBought&&!Pelle.isDoomed}get hasUnlimitedBulk(){return!0}tick(){this.isActive&&(applyEU2(),EternityUpgrade.epMult.buyMax(!0))}}class Gee extends ao{get data(){return player.auto.annihilation}get name(){return"Annihilation"}get isUnlocked(){return SingularityMilestone.annihilationAutobuyer.canBeApplied}get multiplier(){return this.data.multiplier}set multiplier(e){this.data.multiplier=e}get bulk(){return 0}get hasInput(){return!0}get inputType(){return"float"}get inputEntry(){return"multiplier"}tick(){Laitela.darkMatterMultGain>=this.multiplier&&Laitela.annihilate()}}class Uee extends Xv{get tier(){return this.id}get name(){return AntimatterDimension(this.tier).shortDisplayName}get fullName(){return`${this.name} Antimatter Dimension`}get data(){return player.auto.antimatterDims.all[this.tier-1]}get baseInterval(){return Player.defaultStart.auto.antimatterDims.all[this.tier-1].interval}get isUnlocked(){return Pelle.isDisabled(`antimatterDimAutobuyer${this.tier}`)?!1:this.data.isBought||this.canBeUpgraded}get isBought(){return this.data.isBought}get antimatterCost(){return DC.E10.pow(this.tier-1).times(DC.E40)}get canBeBought(){return!Pelle.isDisabled(`antimatterDimAutobuyer${this.tier}`)}get canBeUpgraded(){return NormalChallenge(this.tier).isCompleted}get disabledByContinuum(){return Laitela.continuumActive}get bulk(){return this.hasUnlimitedBulk?1e100:Math.clampMax(this.data.bulk,this.bulkCap)}get hasUnlimitedBulk(){return Achievement(61).isUnlocked}get bulkCap(){return 512}get hasMaxedBulk(){return this.bulk>=this.bulkCap}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get canUnlockSlowVersion(){return player.records.thisEternity.maxAM.gte(this.antimatterCost)}toggleMode(){this.mode=[AUTOBUYER_MODE.BUY_SINGLE,AUTOBUYER_MODE.BUY_10].nextSibling(this.mode)}get canTick(){const e=player.auto.antimatterDims,i=e.all[this.tier-1],n=e.isActive,r=i&&(Autobuyer.antimatterDimension.collapseDisplay?n:!0),a=AntimatterDimension(this.tier),s=a.isAvailableForPurchase&&a.isAffordable,o=this.timeSinceLastTick>=this.interval,c=player.auto.autobuyersOn&&this.isActive&&(this.isUnlocked||this.isBought);return r&&s&&o&&c}tick(){super.tick();const e=this.tier;switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:buyOneDimension(e);break;case AUTOBUYER_MODE.BUY_10:buyMaxDimension(e,this.bulk);break}}upgradeBulk(){this.hasMaxedBulk||Currency.infinityPoints.purchase(this.cost)&&(this.data.bulk=Math.clampMax(this.bulk*2,this.bulkCap),this.data.cost=Math.ceil(2.4*this.cost),Achievement(61).tryUnlock(),GameUI.update())}purchase(){this.canUnlockSlowVersion&&(this.data.isBought=!0)}get resetTickOn(){return Perk.antimatterNoReset.canBeApplied?PRESTIGE_EVENT.ANTIMATTER_GALAXY:PRESTIGE_EVENT.DIMENSION_BOOST}reset(){super.reset(),!(EternityMilestone.keepAutobuyers.isReached||PelleUpgrade.keepAutobuyers.canBeApplied)&&(this.data.isUnlocked=!1,this.data.isBought=!1,this.data.bulk=1,TabNotification.newAutobuyer.clearTrigger())}static get entryCount(){return 8}static get autobuyerGroupName(){return"Antimatter Dimension"}static get isActive(){return player.auto.antimatterDims.isActive}static set isActive(e){player.auto.antimatterDims.isActive=e}static createAccessor(){const e=super.createAccessor();return Object.defineProperties(e,{allBought:{get:()=>e.zeroIndexed.every(i=>i.isBought)},allUnlimitedBulk:{get:()=>e.zeroIndexed[0].hasUnlimitedBulk},bulkCap:{get:()=>e.zeroIndexed[0].bulkCap},collapseDisplay:{get:()=>e.allMaxedInterval&&e.allUnlocked&&e.allUnlimitedBulk}}),e}}class Lee extends Xv{get data(){return player.auto.bigCrunch}get name(){return"Infinity"}get isUnlocked(){return Pelle.isDoomed?PelleStrikes.infinity.hasStrike:this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(12).isCompleted}get baseInterval(){return Player.defaultStart.auto.bigCrunch.interval}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get hasAdditionalModes(){return EternityMilestone.bigCrunchModes.isReached}get increaseWithMult(){return this.data.increaseWithMult}set increaseWithMult(e){this.data.increaseWithMult=e}get amount(){return this.data.amount}get bulk(){return 0}set amount(e){this.data.amount=e}get time(){return this.data.time}set time(e){this.data.time=e}get xHighest(){return this.data.xHighest}set xHighest(e){this.data.xHighest=e}autoInfinitiesAvailable(e){return(e||EternityMilestone.autoInfinities.isReached)&&!EternityChallenge(4).isRunning&&!EternityChallenge(12).isRunning&&!Player.isInAntimatterChallenge&&player.auto.autobuyersOn&&this.data.isActive&&!Autobuyer.eternity.isActive&&this.mode===AUTO_CRUNCH_MODE.TIME&&this.time<=5&&!Autobuyer.eternity.autoEternitiesAvailable()}upgradeInterval(e){super.upgradeInterval(e),TabNotification.breakInfinity.tryTrigger()}bumpAmount(e){this.isUnlocked&&this.increaseWithMult&&(this.amount=this.amount.times(e))}get canTick(){return Player.canCrunch&&super.canTick}get resetTickOn(){return PRESTIGE_EVENT.ETERNITY}get highestPrevPrestige(){return player.records.thisEternity.maxIP}get timeToNextTick(){return Math.clampMin(this.time-Time.thisInfinityRealTime.totalSeconds,0)}get willInfinity(){if(!player.break||Player.isInAntimatterChallenge)return!0;switch(this.mode){case AUTO_CRUNCH_MODE.AMOUNT:return gainedInfinityPoints().gte(this.amount);case AUTO_CRUNCH_MODE.TIME:return Time.thisInfinityRealTime.totalSeconds>this.time;case AUTO_CRUNCH_MODE.X_HIGHEST:default:return gainedInfinityPoints().gte(this.highestPrevPrestige.times(this.xHighest))}}tick(){super.tick(),this.willInfinity&&bigCrunchResetRequest(!0)}reset(){super.reset(),!EternityMilestone.bigCrunchModes.isReached&&(this.mode=AUTO_CRUNCH_MODE.AMOUNT)}}class Bee extends ao{get data(){return player.auto.blackHolePower.all[this.id-1]}get name(){return`Black Hole ${this.id} Power`}get isUnlocked(){return Ra.unlocks.blackHolePowerAutobuyers.canBeApplied}get hasUnlimitedBulk(){return!0}tick(){const e=BlackHole(this.id);for(;Currency.realityMachines.gte(e.powerUpgrade.cost);)e.powerUpgrade.purchase()}static get entryCount(){return 2}static get autobuyerGroupName(){return"Black Hole Power"}static get isActive(){return player.auto.blackHolePower.isActive}static set isActive(e){player.auto.blackHolePower.isActive=e}}class $ee extends Bf{get data(){return player.auto.ascension}get name(){return"Dark Matter Dimension Ascension"}get isUnlocked(){return SingularityMilestone.ascensionAutobuyers.canBeApplied}get interval(){return 1e3*SingularityMilestone.darkAutobuyerSpeed.effectValue}get hasUnlimitedBulk(){return!0}tick(){super.tick();for(let e=1;e<=SingularityMilestone.ascensionAutobuyers.effectValue;e++)DarkMatterDimension(e).ascend()}}class Fee extends Bf{get data(){return player.auto.darkMatterDims}get name(){return"Dark Matter Dimensions"}get isUnlocked(){return SingularityMilestone.darkDimensionAutobuyers.canBeApplied}get interval(){return 1e3*SingularityMilestone.darkAutobuyerSpeed.effectValue}get hasUnlimitedBulk(){return!0}tick(){super.tick(),Laitela.maxAllDMDimensions(SingularityMilestone.darkDimensionAutobuyers.effectValue)}}class Hee extends Bf{get _upgradeName(){return["dtGain","galaxyThreshold","tachyonGain"][this.id-1]}get data(){return player.auto.dilationUpgrades.all[this.id-1]}get name(){return["Dilated Time Multiplier","Tachyon Galaxy Threshold","Tachyon Particle Multiplier"][this.id-1]}get interval(){return 1e3*Perk.autobuyerFasterDilation.effectOrDefault(1)/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return Perk.autobuyerDilation.isEffectActive&&!Pelle.isDoomed}get resetTickOn(){return PRESTIGE_EVENT.REALITY}get bulk(){return Effects.product(PerkShopUpgrade.bulkDilation,Perk.dilationAutobuyerBulk)}tick(){super.tick();const e=this._upgradeName;DilationUpgrade[e].purchase(this.bulk)}static get entryCount(){return 3}static get autobuyerGroupName(){return"Dilation Upgrade"}static get isActive(){return player.auto.dilationUpgrades.isActive}static set isActive(e){player.auto.dilationUpgrades.isActive=e}}class Vee extends Xv{get data(){return player.auto.dimBoost}get name(){return"Dimension Boost"}get isUnlocked(){return Pelle.isDisabled("dimBoostAutobuyer")?!1:this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(10).isCompleted}get baseInterval(){return Player.defaultStart.auto.dimBoost.interval}get limitDimBoosts(){return this.data.limitDimBoosts}set limitDimBoosts(e){this.data.limitDimBoosts=e}get maxDimBoosts(){return this.data.maxDimBoosts}set maxDimBoosts(e){this.data.maxDimBoosts=e}get limitUntilGalaxies(){return this.data.limitUntilGalaxies}set limitUntilGalaxies(e){this.data.limitUntilGalaxies=e}get galaxies(){return this.data.galaxies}set galaxies(e){this.data.galaxies=e}get bulk(){return this.data.bulk}set bulk(e){this.data.bulk=e}get buyMaxInterval(){return this.data.buyMaxInterval}set buyMaxInterval(e){this.data.buyMaxInterval=e}get isBuyMaxUnlocked(){return BreakInfinityUpgrade.autobuyMaxDimboosts.isBought}get interval(){return this.isBuyMaxUnlocked?TimeSpan.fromSeconds(this.buyMaxInterval).totalMilliseconds:super.interval}get canTick(){return DimBoost.canBeBought&&DimBoost.requirement.isSatisfied&&super.canTick}get resetTickOn(){return this.isBuyMaxUnlocked?PRESTIGE_EVENT.INFINITY:PRESTIGE_EVENT.ANTIMATTER_GALAXY}tick(){if(this.isBuyMaxUnlocked){const n=!this.limitUntilGalaxies||player.galaxies>=this.galaxies;if(!DimBoost.canUnlockNewDimension&&!n)return;requestDimensionBoost(!0),super.tick();return}const e=!this.limitDimBoosts||DimBoost.purchasedBoosts<this.maxDimBoosts,i=this.limitUntilGalaxies&&player.galaxies>=this.galaxies;(e||i)&&(requestDimensionBoost(!1),super.tick())}}class Yee extends ao{get data(){return player.auto.eternity}get name(){return"Eternity"}get isUnlocked(){return EternityMilestone.autobuyerEternity.isReached}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get amount(){return this.data.amount}get increaseWithMult(){return this.data.increaseWithMult}set increaseWithMult(e){this.data.increaseWithMult=e}set amount(e){this.data.amount=e}get time(){return this.data.time}set time(e){this.data.time=e}get xHighest(){return this.data.xHighest}set xHighest(e){this.data.xHighest=e}get hasAdditionalModes(){return RealityUpgrade(13).isBought}autoEternitiesAvailable(e){return(e||EternityMilestone.autoEternities.isReached)&&!Player.isInAnyChallenge&&!player.dilation.active&&player.auto.autobuyersOn&&this.data.isActive&&this.mode===AUTO_ETERNITY_MODE.AMOUNT&&this.amount.equals(0)}bumpAmount(e){this.isUnlocked&&this.increaseWithMult&&(this.amount=this.amount.times(e))}get highestPrevPrestige(){return player.records.thisReality.maxEP}get timeToNextTick(){return Math.clampMin(this.time-Time.thisEternityRealTime.totalSeconds,0)}get willEternity(){var e;if(EternityChallenge.isRunning)return!((e=EternityChallenge.current)!=null&&e.gainedCompletionStatus.hasMoreCompletions);switch(this.mode){case AUTO_ETERNITY_MODE.AMOUNT:return gainedEternityPoints().gte(this.amount);case AUTO_ETERNITY_MODE.TIME:return Time.thisEternityRealTime.totalSeconds>this.time;case AUTO_ETERNITY_MODE.X_HIGHEST:default:return gainedEternityPoints().gte(this.highestPrevPrestige.times(this.xHighest))}}tick(){this.willEternity&&eternity(!1,!0)}reset(){EternityMilestone.autobuyerEternity.isReached||(this.isActive=!1)}}class qee extends Xv{get data(){return player.auto.galaxy}get name(){return"Antimatter Galaxy"}get isUnlocked(){return Pelle.isDisabled("galaxyAutobuyer")?!1:this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(11).isCompleted}get baseInterval(){return Player.defaultStart.auto.galaxy.interval}get limitGalaxies(){return this.data.limitGalaxies}set limitGalaxies(e){this.data.limitGalaxies=e}get maxGalaxies(){return this.data.maxGalaxies}set maxGalaxies(e){this.data.maxGalaxies=e}get buyMaxInterval(){return this.data.buyMaxInterval}set buyMaxInterval(e){this.data.buyMaxInterval=e}get isBuyMaxUnlocked(){return EternityMilestone.autobuyMaxGalaxies.isReached||BreakInfinityUpgrade.autobuyMaxDimboosts.isBought}get interval(){return this.isBuyMaxUnlocked?TimeSpan.fromSeconds(this.buyMaxInterval).totalMilliseconds:super.interval}get canTick(){return Galaxy.canBeBought&&Galaxy.requirement.isSatisfied&&super.canTick}get resetTickOn(){return PRESTIGE_EVENT.INFINITY}tick(){super.tick();const e=this.limitGalaxies?this.maxGalaxies:Number.MAX_VALUE;requestGalaxyReset(this.isBuyMaxUnlocked,e)}}class Wee extends ao{get name(){return ImaginaryUpgrade(this.id).config.name}get data(){return player.auto.imaginaryUpgrades.all[this.id-1]}get isUnlocked(){return ImaginaryUpgrade(20).canBeApplied}get hasUnlimitedBulk(){return!0}tick(){const e=ImaginaryUpgrade(this.id);for(;Currency.imaginaryMachines.gte(e.cost);)e.purchase()}static get entryCount(){return 10}static get autobuyerGroupName(){return"Imaginary Upgrade"}static get isActive(){return player.auto.imaginaryUpgrades.isActive}static set isActive(e){player.auto.imaginaryUpgrades.isActive=e}}class jee extends Bf{get tier(){return this.id}get dimension(){return InfinityDimension(this.tier)}get name(){return this.dimension.shortDisplayName}get fullName(){return`${this.name} Infinity Dimension`}get data(){return player.auto.infinityDims.all[this.tier-1]}get interval(){return 1e3*Perk.autobuyerFasterID.effectOrDefault(1)/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return EternityMilestone[`autobuyerID${this.tier}`].isReached||PelleUpgrade.IDAutobuyers.canBeApplied}get resetTickOn(){return PRESTIGE_EVENT.ETERNITY}get hasUnlimitedBulk(){return!0}get canTick(){return InfinityDimensions.canAutobuy()&&this.dimension.isAvailableForPurchase&&super.canTick}tick(){super.tick(),this.dimension.buyMax(!0)}static get entryCount(){return 8}static get autobuyerGroupName(){return"Infinity Dimension"}static get isActive(){return player.auto.infinityDims.isActive}static set isActive(e){player.auto.infinityDims.isActive=e}}class zee extends ao{get data(){return player.auto.reality}get name(){return"Reality"}get isUnlocked(){return RealityUpgrade(25).isBought}get canTick(){return super.canTick&&!GlyphSelection.active}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get rm(){return this.data.rm}set rm(e){this.data.rm=e}get glyph(){return this.data.glyph}set glyph(e){this.data.glyph=e}get time(){return this.data.time}set time(e){this.data.time=e}get shard(){return this.data.shard}set shard(e){this.data.shard=e.clamp(0,Number.MAX_VALUE).toNumber()}toggleMode(){this.mode=[AUTO_REALITY_MODE.RM,AUTO_REALITY_MODE.GLYPH,AUTO_REALITY_MODE.EITHER,AUTO_REALITY_MODE.BOTH,AUTO_REALITY_MODE.TIME,AUTO_REALITY_MODE.RELIC_SHARD].nextSibling(this.mode)}bumpAmount(e){this.isUnlocked&&(this.rm=this.rm.times(e))}tick(){const e=[AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,AUTO_GLYPH_SCORE.LOWEST_ALCHEMY,AUTO_GLYPH_SCORE.ALCHEMY_VALUE],i=EffarigUnlock.glyphFilter.isUnlocked&&!player.reality.hasCheckedFilter&&!e.includes(AutoGlyphProcessor.scoreMode);if(isRealityAvailable()&&player.options.autoRealityForFilter&&i){const o=gainedGlyphLevel(),d=[AUTO_REALITY_MODE.GLYPH,AUTO_REALITY_MODE.EITHER,AUTO_REALITY_MODE.BOTH].includes(this.mode)?{actualLevel:Math.min(this.glyph,Glyphs.levelCap),rawLevel:1}:o,p=GlyphSelection.glyphList(GlyphSelection.choiceCount,d,{isChoosingGlyph:!1}),m=AutoGlyphProcessor.pick(p);if(player.reality.hasCheckedFilter=!0,!AutoGlyphProcessor.wouldKeep(m)){autoReality();return}}let n=!1;const r=simulatedRealityCount(!1)+1,a=MachineHandler.gainedRealityMachines.times(r).gte(this.rm),s=gainedGlyphLevel().actualLevel>=Math.min(this.glyph,Glyphs.levelCap);switch(this.mode){case AUTO_REALITY_MODE.RM:n=a;break;case AUTO_REALITY_MODE.GLYPH:n=s;break;case AUTO_REALITY_MODE.EITHER:n=a||s;break;case AUTO_REALITY_MODE.BOTH:n=a&&s;break;case AUTO_REALITY_MODE.TIME:n=player.records.thisReality.realTime/1e3>this.time;break;case AUTO_REALITY_MODE.RELIC_SHARD:n=Effarig.shardsGained*r>this.shard;break}n&&autoReality()}}class Xee extends ao{get name(){return RealityUpgrade(this.id).config.name}get data(){return player.auto.realityUpgrades.all[this.id-1]}get isUnlocked(){return Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied}get hasUnlimitedBulk(){return!0}tick(){const e=RealityUpgrade(this.id);for(;Currency.realityMachines.gte(e.cost);)e.purchase()}static get entryCount(){return 5}static get autobuyerGroupName(){return"Reality Upgrade"}static get isActive(){return player.auto.realityUpgrades.isActive}static set isActive(e){player.auto.realityUpgrades.isActive=e}}class Kee extends ao{get data(){return player.auto.replicantiGalaxies}get name(){return"Replicanti Galaxy"}get isUnlocked(){return EternityMilestone.autobuyerReplicantiGalaxy.isReached}get isEnabled(){return Achievement(138).isUnlocked||!TimeStudy(131).isBought}get hasUnlimitedBulk(){return Achievement(126).isUnlocked}tick(){this.isEnabled&&replicantiGalaxy(!0)}}class Zee extends Bf{get _upgradeName(){return["chance","interval","galaxies"][this.id-1]}get name(){return`Replicanti ${["Chance","Interval","Max Galaxies"][this.id-1]}`}get data(){return player.auto.replicantiUpgrades.all[this.id-1]}get interval(){return 1e3*Perk.autobuyerFasterReplicanti.effectOrDefault(1)/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return ReplicantiUpgrade[this._upgradeName].autobuyerMilestone.isReached||PelleUpgrade.replicantiAutobuyers.canBeApplied}get resetTickOn(){return PRESTIGE_EVENT.ETERNITY}get hasUnlimitedBulk(){return!0}tick(){EternityChallenge(8).isRunning||(super.tick(),ReplicantiUpgrade[this._upgradeName].autobuyerTick())}static get entryCount(){return 3}static get autobuyerGroupName(){return"Replicanti Upgrade"}static get isActive(){return player.auto.replicantiUpgrades.isActive}static set isActive(e){player.auto.replicantiUpgrades.isActive=e}}class Qee extends ao{get data(){return player.auto.sacrifice}get name(){return"Dimensional Sacrifice"}get isUnlocked(){return EternityMilestone.autoIC.isReached||InfinityChallenge(2).isCompleted}get multiplier(){return this.data.multiplier}set multiplier(e){this.data.multiplier=e}get bulk(){return 0}get hasInput(){return!0}get inputType(){return"decimal"}get inputEntry(){return"multiplier"}tick(){(Achievement(118).canBeApplied||Sacrifice.nextBoost.gte(Decimal.max(this.multiplier,1.01)))&&sacrificeReset()}}class Jee extends ao{get data(){return player.auto.singularity}get name(){return"Singularity"}get isUnlocked(){return SingularityMilestone.autoCondense.canBeApplied}get bulk(){return Singularity.singularitiesGained}tick(){Currency.darkEnergy.value>=Singularity.cap*SingularityMilestone.autoCondense.effectValue&&Singularity.perform()}}class ete extends Xv{get data(){return player.auto.tickspeed}get name(){return"Tickspeed"}get isUnlocked(){return Pelle.isDisabled("tickspeedAutobuyer")?!1:this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(9).isCompleted}get baseInterval(){return Player.defaultStart.auto.tickspeed.interval}get isBought(){return this.data.isBought}get antimatterCost(){return DC.E140}get canBeBought(){return!Pelle.isDoomed}get disabledByContinuum(){return Laitela.continuumActive}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get hasUnlimitedBulk(){return this.mode===AUTOBUYER_MODE.BUY_MAX}get canUnlockSlowVersion(){return player.records.thisEternity.maxAM.gte(this.antimatterCost)}toggleMode(){this.mode=[AUTOBUYER_MODE.BUY_SINGLE,AUTOBUYER_MODE.BUY_MAX].nextSibling(this.mode)}get canTick(){return Tickspeed.isAvailableForPurchase&&Tickspeed.isAffordable&&super.canTick}tick(){switch(super.tick(),this.mode){case AUTOBUYER_MODE.BUY_SINGLE:buyTickSpeed();break;case AUTOBUYER_MODE.BUY_MAX:buyMaxTickSpeed();break}}purchase(){this.canUnlockSlowVersion&&(this.data.isBought=!0)}get resetTickOn(){return Perk.antimatterNoReset.canBeApplied?PRESTIGE_EVENT.ANTIMATTER_GALAXY:PRESTIGE_EVENT.DIMENSION_BOOST}reset(){super.reset(),!(EternityMilestone.keepAutobuyers.isReached||PelleUpgrade.keepAutobuyers.canBeApplied)&&(this.data.mode=AUTOBUYER_MODE.BUY_SINGLE,this.data.isUnlocked=!1,this.data.isBought=!1,TabNotification.newAutobuyer.clearTrigger())}}class tte extends Bf{get tier(){return this.id}get name(){return TimeDimension(this.tier).shortDisplayName}get fullName(){return`${this.name} Time Dimension`}get data(){return player.auto.timeDims.all[this.tier-1]}get interval(){return 1e3/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return RealityUpgrade(13).isBought&&(!Pelle.isDoomed||PelleUpgrade.TDAutobuyers.canBeApplied)}get resetTickOn(){return PRESTIGE_EVENT.REALITY}get hasUnlimitedBulk(){return!0}tick(){applyEU2(),Autobuyer.epMult.tick();const e=this.tier;TimeDimension(e).isAvailableForPurchase&&(super.tick(),Currency.eternityPoints.exponent>=10?buyMaxTimeDimension(e,1,!0):buySingleTimeDimension(e,!0))}static get entryCount(){return 8}static get autobuyerGroupName(){return"Time Dimension"}static get isActive(){return player.auto.timeDims.isActive}static set isActive(e){player.auto.timeDims.isActive=e}}class ite extends ao{get data(){return player.auto.timeTheorems}get name(){return"Time Theorem"}get isUnlocked(){return Perk.ttBuySingle.isBought&&!Pelle.isDisabled("timeTheoremAutobuyer")}get hasUnlimitedBulk(){return Perk.ttBuyMax.canBeApplied}tick(){this.hasUnlimitedBulk?TimeTheorems.buyMax(!0):TimeTheorems.buyOneOfEach()}}const Kt={annihilation:new Gee,antimatterDimension:Uee.createAccessor(),bigCrunch:new Lee,blackHolePower:Bee.createAccessor(),darkMatterDimsAscension:new $ee,darkMatterDims:new Fee,dilationUpgrade:Hee.createAccessor(),dimboost:new Vee,eternity:new Yee,galaxy:new qee,imaginaryUpgrade:Wee.createAccessor(),infinityDimension:jee.createAccessor(),ipMult:new Oee,epMult:new Nee,reality:new zee,realityUpgrade:Xee.createAccessor(),replicantiGalaxy:new Kee,replicantiUpgrade:Zee.createAccessor(),sacrifice:new Qee,singularity:new Jee,tickspeed:new ete,timeDimension:tte.createAccessor(),timeTheorem:new ite},wo=function(){const t=Kt.antimatterDimension.zeroIndexed,e=Kt.infinityDimension.zeroIndexed,i=Kt.timeDimension.zeroIndexed,n=[t,e,i],r=[Kt.bigCrunch,Kt.eternity,Kt.reality],a=[Kt.sacrifice,Kt.replicantiGalaxy,Kt.timeTheorem,Kt.ipMult,Kt.epMult,Kt.darkMatterDims,Kt.darkMatterDimsAscension,Kt.singularity,Kt.annihilation],s=[Kt.tickspeed,Kt.galaxy,Kt.dimboost].concat(a),o=[Kt.replicantiUpgrade.zeroIndexed,Kt.dilationUpgrade.zeroIndexed,Kt.blackHolePower.zeroIndexed,Kt.realityUpgrade.zeroIndexed,Kt.imaginaryUpgrade.zeroIndexed],c=n.concat(r,s,o),d=[Kt.antimatterDimension,Kt.infinityDimension,Kt.timeDimension,Kt.replicantiUpgrade,Kt.dilationUpgrade,Kt.blackHolePower,Kt.realityUpgrade,Kt.imaginaryUpgrade];return{all:c.flat(),display:[d,a],upgradeable:t.concat(Kt.tickspeed,Kt.dimboost,Kt.galaxy,Kt.bigCrunch),get unlocked(){return wo.all.filter(p=>p.isUnlocked||p.isBought)},get hasAutobuyersForEditModal(){return[Kt.dimboost,Kt.galaxy,Kt.bigCrunch,Kt.eternity,Kt.reality].some(p=>p.isUnlocked)},toggle(){player.auto.autobuyersOn=!player.auto.autobuyersOn},tick(){if(player.auto.autobuyersOn){PerformanceStats.start("Autobuyers");for(const p of wo.all)p.canTick&&p.tick();PerformanceStats.end()}},resetTick(p){const m=wo.all.filter(y=>y.resetTick!==void 0);for(const y of m)y.resetTick(p)},reset(){for(const p of wo.all)p.reset()}}}();EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_AFTER,()=>wo.reset());EventHub.logic.on(GAME_EVENT.REALITY_RESET_AFTER,()=>wo.reset());EventHub.logic.on(GAME_EVENT.DIMBOOST_AFTER,()=>wo.resetTick(PRESTIGE_EVENT.DIMENSION_BOOST));EventHub.logic.on(GAME_EVENT.GALAXY_RESET_AFTER,()=>wo.resetTick(PRESTIGE_EVENT.ANTIMATTER_GALAXY));EventHub.logic.on(GAME_EVENT.BIG_CRUNCH_AFTER,()=>wo.resetTick(PRESTIGE_EVENT.INFINITY));EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_AFTER,()=>wo.resetTick(PRESTIGE_EVENT.ETERNITY));EventHub.logic.on(GAME_EVENT.REALITY_RESET_AFTER,()=>wo.resetTick(PRESTIGE_EVENT.REALITY));/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const nte=4,PM=0,OM=1,rte=2;function Bm(t){let e=t.length;for(;--e>=0;)t[e]=0}const ate=0,jL=1,ste=2,ote=3,lte=258,rA=29,Kv=256,sv=Kv+1+rA,Qp=30,aA=19,zL=2*sv+1,Fh=15,JT=16,cte=7,sA=256,XL=16,KL=17,ZL=18,zC=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ute=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),QL=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dte=512,Gc=new Array((sv+2)*2);Bm(Gc);const Ng=new Array(Qp*2);Bm(Ng);const ov=new Array(dte);Bm(ov);const lv=new Array(lte-ote+1);Bm(lv);const oA=new Array(rA);Bm(oA);const q0=new Array(Qp);Bm(q0);function e1(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}let JL,eB,tB;function t1(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const iB=t=>t<256?ov[t]:ov[256+(t>>>7)],cv=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},vs=(t,e,i)=>{t.bi_valid>JT-i?(t.bi_buf|=e<<t.bi_valid&65535,cv(t,t.bi_buf),t.bi_buf=e>>JT-t.bi_valid,t.bi_valid+=i-JT):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},ql=(t,e,i)=>{vs(t,i[e*2],i[e*2+1])},nB=(t,e)=>{let i=0;do i|=t&1,t>>>=1,i<<=1;while(--e>0);return i>>>1},hte=t=>{t.bi_valid===16?(cv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},fte=(t,e)=>{const i=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let d,p,m,y,_,w,C=0;for(y=0;y<=Fh;y++)t.bl_count[y]=0;for(i[t.heap[t.heap_max]*2+1]=0,d=t.heap_max+1;d<zL;d++)p=t.heap[d],y=i[i[p*2+1]*2+1]+1,y>c&&(y=c,C++),i[p*2+1]=y,!(p>n)&&(t.bl_count[y]++,_=0,p>=o&&(_=s[p-o]),w=i[p*2],t.opt_len+=w*(y+_),a&&(t.static_len+=w*(r[p*2+1]+_)));if(C!==0){do{for(y=c-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[c]--,C-=2}while(C>0);for(y=c;y!==0;y--)for(p=t.bl_count[y];p!==0;)m=t.heap[--d],!(m>n)&&(i[m*2+1]!==y&&(t.opt_len+=(y-i[m*2+1])*i[m*2],i[m*2+1]=y),p--)}},rB=(t,e,i)=>{const n=new Array(Fh+1);let r=0,a,s;for(a=1;a<=Fh;a++)n[a]=r=r+i[a-1]<<1;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=nB(n[o]++,o))}},pte=()=>{let t,e,i,n,r;const a=new Array(Fh+1);for(i=0,n=0;n<rA-1;n++)for(oA[n]=i,t=0;t<1<<zC[n];t++)lv[i++]=n;for(lv[i-1]=n,r=0,n=0;n<16;n++)for(q0[n]=r,t=0;t<1<<a0[n];t++)ov[r++]=n;for(r>>=7;n<Qp;n++)for(q0[n]=r<<7,t=0;t<1<<a0[n]-7;t++)ov[256+r++]=n;for(e=0;e<=Fh;e++)a[e]=0;for(t=0;t<=143;)Gc[t*2+1]=8,t++,a[8]++;for(;t<=255;)Gc[t*2+1]=9,t++,a[9]++;for(;t<=279;)Gc[t*2+1]=7,t++,a[7]++;for(;t<=287;)Gc[t*2+1]=8,t++,a[8]++;for(rB(Gc,sv+1,a),t=0;t<Qp;t++)Ng[t*2+1]=5,Ng[t*2]=nB(t,5);JL=new e1(Gc,zC,Kv+1,sv,Fh),eB=new e1(Ng,a0,0,Qp,Fh),tB=new e1(new Array(0),ute,0,aA,cte)},aB=t=>{let e;for(e=0;e<sv;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Qp;e++)t.dyn_dtree[e*2]=0;for(e=0;e<aA;e++)t.bl_tree[e*2]=0;t.dyn_ltree[sA*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},sB=t=>{t.bi_valid>8?cv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},mte=(t,e,i,n)=>{sB(t),cv(t,i),cv(t,~i),t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i},NM=(t,e,i,n)=>{const r=e*2,a=i*2;return t[r]<t[a]||t[r]===t[a]&&n[e]<=n[i]},i1=(t,e,i)=>{const n=t.heap[i];let r=i<<1;for(;r<=t.heap_len&&(r<t.heap_len&&NM(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!NM(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n},GM=(t,e,i)=>{let n,r,a=0,s,o;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+a*2]<<8|t.pending_buf[t.d_buf+a*2+1],r=t.pending_buf[t.l_buf+a],a++,n===0?ql(t,r,e):(s=lv[r],ql(t,s+Kv+1,e),o=zC[s],o!==0&&(r-=oA[s],vs(t,r,o)),n--,s=iB(n),ql(t,s,i),o=a0[s],o!==0&&(n-=q0[s],vs(t,n,o)));while(a<t.last_lit);ql(t,sA,e)},XC=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,c=-1,d;for(t.heap_len=0,t.heap_max=zL,s=0;s<a;s++)i[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):i[s*2+1]=0;for(;t.heap_len<2;)d=t.heap[++t.heap_len]=c<2?++c:0,i[d*2]=1,t.depth[d]=0,t.opt_len--,r&&(t.static_len-=n[d*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)i1(t,i,s);d=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],i1(t,i,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,i[d*2]=i[s*2]+i[o*2],t.depth[d]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,i[s*2+1]=i[o*2+1]=d,t.heap[1]=d++,i1(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],fte(t,e),rB(i,c,t.bl_count)},UM=(t,e,i)=>{let n,r=-1,a,s=e[0*2+1],o=0,c=7,d=4;for(s===0&&(c=138,d=3),e[(i+1)*2+1]=65535,n=0;n<=i;n++)a=s,s=e[(n+1)*2+1],!(++o<c&&a===s)&&(o<d?t.bl_tree[a*2]+=o:a!==0?(a!==r&&t.bl_tree[a*2]++,t.bl_tree[XL*2]++):o<=10?t.bl_tree[KL*2]++:t.bl_tree[ZL*2]++,o=0,r=a,s===0?(c=138,d=3):a===s?(c=6,d=3):(c=7,d=4))},LM=(t,e,i)=>{let n,r=-1,a,s=e[0*2+1],o=0,c=7,d=4;for(s===0&&(c=138,d=3),n=0;n<=i;n++)if(a=s,s=e[(n+1)*2+1],!(++o<c&&a===s)){if(o<d)do ql(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==r&&(ql(t,a,t.bl_tree),o--),ql(t,XL,t.bl_tree),vs(t,o-3,2)):o<=10?(ql(t,KL,t.bl_tree),vs(t,o-3,3)):(ql(t,ZL,t.bl_tree),vs(t,o-11,7));o=0,r=a,s===0?(c=138,d=3):a===s?(c=6,d=3):(c=7,d=4)}},yte=t=>{let e;for(UM(t,t.dyn_ltree,t.l_desc.max_code),UM(t,t.dyn_dtree,t.d_desc.max_code),XC(t,t.bl_desc),e=aA-1;e>=3&&t.bl_tree[QL[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},gte=(t,e,i,n)=>{let r;for(vs(t,e-257,5),vs(t,i-1,5),vs(t,n-4,4),r=0;r<n;r++)vs(t,t.bl_tree[QL[r]*2+1],3);LM(t,t.dyn_ltree,e-1),LM(t,t.dyn_dtree,i-1)},vte=t=>{let e=4093624447,i;for(i=0;i<=31;i++,e>>>=1)if(e&1&&t.dyn_ltree[i*2]!==0)return PM;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return OM;for(i=32;i<Kv;i++)if(t.dyn_ltree[i*2]!==0)return OM;return PM};let BM=!1;const bte=t=>{BM||(pte(),BM=!0),t.l_desc=new t1(t.dyn_ltree,JL),t.d_desc=new t1(t.dyn_dtree,eB),t.bl_desc=new t1(t.bl_tree,tB),t.bi_buf=0,t.bi_valid=0,aB(t)},oB=(t,e,i,n)=>{vs(t,(ate<<1)+(n?1:0),3),mte(t,e,i)},_te=t=>{vs(t,jL<<1,3),ql(t,sA,Gc),hte(t)},wte=(t,e,i,n)=>{let r,a,s=0;t.level>0?(t.strm.data_type===rte&&(t.strm.data_type=vte(t)),XC(t,t.l_desc),XC(t,t.d_desc),s=yte(t),r=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=r&&(r=a)):r=a=i+5,i+4<=r&&e!==-1?oB(t,e,i,n):t.strategy===nte||a===r?(vs(t,(jL<<1)+(n?1:0),3),GM(t,Gc,Ng)):(vs(t,(ste<<1)+(n?1:0),3),gte(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),GM(t,t.dyn_ltree,t.dyn_dtree)),aB(t),n&&sB(t)},Ete=(t,e,i)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=i&255,t.last_lit++,e===0?t.dyn_ltree[i*2]++:(t.matches++,e--,t.dyn_ltree[(lv[i]+Kv+1)*2]++,t.dyn_dtree[iB(e)*2]++),t.last_lit===t.lit_bufsize-1);var Tte=bte,Cte=oB,kte=wte,Ste=Ete,Ate=_te,xte={_tr_init:Tte,_tr_stored_block:Cte,_tr_flush_block:kte,_tr_tally:Ste,_tr_align:Ate};const Dte=(t,e,i,n)=>{let r=t&65535|0,a=t>>>16&65535|0,s=0;for(;i!==0;){s=i>2e3?2e3:i,i-=s;do r=r+e[n++]|0,a=a+r|0;while(--s);r%=65521,a%=65521}return r|a<<16|0};var uv=Dte;const Ite=()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[i]=t}return e},Rte=new Uint32Array(Ite()),Mte=(t,e,i,n)=>{const r=Rte,a=n+i;t^=-1;for(let s=n;s<a;s++)t=t>>>8^r[(t^e[s])&255];return t^-1};var Nr=Mte,hf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$f={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Pte,_tr_stored_block:Ote,_tr_flush_block:Nte,_tr_tally:vd,_tr_align:Gte}=xte,{Z_NO_FLUSH:Ff,Z_PARTIAL_FLUSH:Ute,Z_FULL_FLUSH:Lte,Z_FINISH:bd,Z_BLOCK:$M,Z_OK:Wl,Z_STREAM_END:FM,Z_STREAM_ERROR:So,Z_DATA_ERROR:Bte,Z_BUF_ERROR:n1,Z_DEFAULT_COMPRESSION:$te,Z_FILTERED:Fte,Z_HUFFMAN_ONLY:R_,Z_RLE:Hte,Z_FIXED:Vte,Z_DEFAULT_STRATEGY:Yte,Z_UNKNOWN:qte,Z_DEFLATED:Zw}=$f,Wte=9,jte=15,zte=8,Xte=29,Kte=256,KC=Kte+1+Xte,Zte=30,Qte=19,Jte=2*KC+1,eie=15,vi=3,dd=258,ll=dd+vi+1,tie=32,Qw=42,ZC=69,s0=73,o0=91,l0=103,Hh=113,pg=666,Tr=1,Zv=2,ff=3,$m=4,iie=3,hd=(t,e)=>(t.msg=hf[e],e),HM=t=>(t<<1)-(t>4?9:0),ed=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let nie=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask,_d=nie;const Fu=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),i!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,e.pending===0&&(e.pending_out=0))},na=(t,e)=>{Nte(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Fu(t.strm)},Di=(t,e)=>{t.pending_buf[t.pending++]=e},Wy=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},rie=(t,e,i,n)=>{let r=t.avail_in;return r>n&&(r=n),r===0?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),i),t.state.wrap===1?t.adler=uv(t.adler,e,r,i):t.state.wrap===2&&(t.adler=Nr(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)},lB=(t,e)=>{let i=t.max_chain_length,n=t.strstart,r,a,s=t.prev_length,o=t.nice_match;const c=t.strstart>t.w_size-ll?t.strstart-(t.w_size-ll):0,d=t.window,p=t.w_mask,m=t.prev,y=t.strstart+dd;let _=d[n+s-1],w=d[n+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do if(r=e,!(d[r+s]!==w||d[r+s-1]!==_||d[r]!==d[n]||d[++r]!==d[n+1])){n+=2,r++;do;while(d[++n]===d[++r]&&d[++n]===d[++r]&&d[++n]===d[++r]&&d[++n]===d[++r]&&d[++n]===d[++r]&&d[++n]===d[++r]&&d[++n]===d[++r]&&d[++n]===d[++r]&&n<y);if(a=dd-(y-n),n=y-dd,a>s){if(t.match_start=e,s=a,a>=o)break;_=d[n+s-1],w=d[n+s]}}while((e=m[e&p])>c&&--i!==0);return s<=t.lookahead?s:t.lookahead},pf=t=>{const e=t.w_size;let i,n,r,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ll)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,i=n;do r=t.head[--i],t.head[i]=r>=e?r-e:0;while(--n);n=e,i=n;do r=t.prev[--i],t.prev[i]=r>=e?r-e:0;while(--n);a+=e}if(t.strm.avail_in===0)break;if(n=rie(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=vi)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=_d(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=_d(t,t.ins_h,t.window[s+vi-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<vi)););}while(t.lookahead<ll&&t.strm.avail_in!==0)},aie=(t,e)=>{let i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(pf(t),t.lookahead===0&&e===Ff)return Tr;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+i;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,na(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-ll&&(na(t,!1),t.strm.avail_out===0))return Tr}return t.insert=0,e===bd?(na(t,!0),t.strm.avail_out===0?ff:$m):(t.strstart>t.block_start&&(na(t,!1),t.strm.avail_out===0),Tr)},r1=(t,e)=>{let i,n;for(;;){if(t.lookahead<ll){if(pf(t),t.lookahead<ll&&e===Ff)return Tr;if(t.lookahead===0)break}if(i=0,t.lookahead>=vi&&(t.ins_h=_d(t,t.ins_h,t.window[t.strstart+vi-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),i!==0&&t.strstart-i<=t.w_size-ll&&(t.match_length=lB(t,i)),t.match_length>=vi)if(n=vd(t,t.strstart-t.match_start,t.match_length-vi),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=vi){t.match_length--;do t.strstart++,t.ins_h=_d(t,t.ins_h,t.window[t.strstart+vi-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=_d(t,t.ins_h,t.window[t.strstart+1]);else n=vd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(na(t,!1),t.strm.avail_out===0))return Tr}return t.insert=t.strstart<vi-1?t.strstart:vi-1,e===bd?(na(t,!0),t.strm.avail_out===0?ff:$m):t.last_lit&&(na(t,!1),t.strm.avail_out===0)?Tr:Zv},bp=(t,e)=>{let i,n,r;for(;;){if(t.lookahead<ll){if(pf(t),t.lookahead<ll&&e===Ff)return Tr;if(t.lookahead===0)break}if(i=0,t.lookahead>=vi&&(t.ins_h=_d(t,t.ins_h,t.window[t.strstart+vi-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=vi-1,i!==0&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-ll&&(t.match_length=lB(t,i),t.match_length<=5&&(t.strategy===Fte||t.match_length===vi&&t.strstart-t.match_start>4096)&&(t.match_length=vi-1)),t.prev_length>=vi&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-vi,n=vd(t,t.strstart-1-t.prev_match,t.prev_length-vi),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=_d(t,t.ins_h,t.window[t.strstart+vi-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=vi-1,t.strstart++,n&&(na(t,!1),t.strm.avail_out===0))return Tr}else if(t.match_available){if(n=vd(t,0,t.window[t.strstart-1]),n&&na(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Tr}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=vd(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<vi-1?t.strstart:vi-1,e===bd?(na(t,!0),t.strm.avail_out===0?ff:$m):t.last_lit&&(na(t,!1),t.strm.avail_out===0)?Tr:Zv},sie=(t,e)=>{let i,n,r,a;const s=t.window;for(;;){if(t.lookahead<=dd){if(pf(t),t.lookahead<=dd&&e===Ff)return Tr;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=vi&&t.strstart>0&&(r=t.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){a=t.strstart+dd;do;while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);t.match_length=dd-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=vi?(i=vd(t,1,t.match_length-vi),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=vd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(na(t,!1),t.strm.avail_out===0))return Tr}return t.insert=0,e===bd?(na(t,!0),t.strm.avail_out===0?ff:$m):t.last_lit&&(na(t,!1),t.strm.avail_out===0)?Tr:Zv},oie=(t,e)=>{let i;for(;;){if(t.lookahead===0&&(pf(t),t.lookahead===0)){if(e===Ff)return Tr;break}if(t.match_length=0,i=vd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(na(t,!1),t.strm.avail_out===0))return Tr}return t.insert=0,e===bd?(na(t,!0),t.strm.avail_out===0?ff:$m):t.last_lit&&(na(t,!1),t.strm.avail_out===0)?Tr:Zv};function Gl(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}const mg=[new Gl(0,0,0,0,aie),new Gl(4,4,8,4,r1),new Gl(4,5,16,8,r1),new Gl(4,6,32,32,r1),new Gl(4,4,16,16,bp),new Gl(8,16,32,32,bp),new Gl(8,16,128,128,bp),new Gl(8,32,128,256,bp),new Gl(32,128,258,1024,bp),new Gl(32,258,258,4096,bp)],lie=t=>{t.window_size=2*t.w_size,ed(t.head),t.max_lazy_match=mg[t.level].max_lazy,t.good_match=mg[t.level].good_length,t.nice_match=mg[t.level].nice_length,t.max_chain_length=mg[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=vi-1,t.match_available=0,t.ins_h=0};function cie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zw,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jte*2),this.dyn_dtree=new Uint16Array((2*Zte+1)*2),this.bl_tree=new Uint16Array((2*Qte+1)*2),ed(this.dyn_ltree),ed(this.dyn_dtree),ed(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(eie+1),this.heap=new Uint16Array(2*KC+1),ed(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*KC+1),ed(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const cB=t=>{if(!t||!t.state)return hd(t,So);t.total_in=t.total_out=0,t.data_type=qte;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Qw:Hh,t.adler=e.wrap===2?0:1,e.last_flush=Ff,Pte(e),Wl},uB=t=>{const e=cB(t);return e===Wl&&lie(t.state),e},uie=(t,e)=>!t||!t.state||t.state.wrap!==2?So:(t.state.gzhead=e,Wl),dB=(t,e,i,n,r,a)=>{if(!t)return So;let s=1;if(e===$te&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>Wte||i!==Zw||n<8||n>15||e<0||e>9||a<0||a>Vte)return hd(t,So);n===8&&(n=9);const o=new cie;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+vi-1)/vi),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=a,o.method=i,uB(t)},die=(t,e)=>dB(t,e,Zw,jte,zte,Yte),hie=(t,e)=>{let i,n;if(!t||!t.state||e>$M||e<0)return t?hd(t,So):So;const r=t.state;if(!t.output||!t.input&&t.avail_in!==0||r.status===pg&&e!==bd)return hd(t,t.avail_out===0?n1:So);r.strm=t;const a=r.last_flush;if(r.last_flush=e,r.status===Qw)if(r.wrap===2)t.adler=0,Di(r,31),Di(r,139),Di(r,8),r.gzhead?(Di(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Di(r,r.gzhead.time&255),Di(r,r.gzhead.time>>8&255),Di(r,r.gzhead.time>>16&255),Di(r,r.gzhead.time>>24&255),Di(r,r.level===9?2:r.strategy>=R_||r.level<2?4:0),Di(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Di(r,r.gzhead.extra.length&255),Di(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Nr(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=ZC):(Di(r,0),Di(r,0),Di(r,0),Di(r,0),Di(r,0),Di(r,r.level===9?2:r.strategy>=R_||r.level<2?4:0),Di(r,iie),r.status=Hh);else{let s=Zw+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=R_||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=tie),s+=31-s%31,r.status=Hh,Wy(r,s),r.strstart!==0&&(Wy(r,t.adler>>>16),Wy(r,t.adler&65535)),t.adler=1}if(r.status===ZC)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=Nr(t.adler,r.pending_buf,r.pending-i,i)),Fu(t),i=r.pending,r.pending===r.pending_buf_size));)Di(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=Nr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=s0)}else r.status=s0;if(r.status===s0)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=Nr(t.adler,r.pending_buf,r.pending-i,i)),Fu(t),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.name.length?n=r.gzhead.name.charCodeAt(r.gzindex++)&255:n=0,Di(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Nr(t.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.gzindex=0,r.status=o0)}else r.status=o0;if(r.status===o0)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=Nr(t.adler,r.pending_buf,r.pending-i,i)),Fu(t),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.comment.length?n=r.gzhead.comment.charCodeAt(r.gzindex++)&255:n=0,Di(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Nr(t.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.status=l0)}else r.status=l0;if(r.status===l0&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Fu(t),r.pending+2<=r.pending_buf_size&&(Di(r,t.adler&255),Di(r,t.adler>>8&255),t.adler=0,r.status=Hh)):r.status=Hh),r.pending!==0){if(Fu(t),t.avail_out===0)return r.last_flush=-1,Wl}else if(t.avail_in===0&&HM(e)<=HM(a)&&e!==bd)return hd(t,n1);if(r.status===pg&&t.avail_in!==0)return hd(t,n1);if(t.avail_in!==0||r.lookahead!==0||e!==Ff&&r.status!==pg){let s=r.strategy===R_?oie(r,e):r.strategy===Hte?sie(r,e):mg[r.level].func(r,e);if((s===ff||s===$m)&&(r.status=pg),s===Tr||s===ff)return t.avail_out===0&&(r.last_flush=-1),Wl;if(s===Zv&&(e===Ute?Gte(r):e!==$M&&(Ote(r,0,0,!1),e===Lte&&(ed(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Fu(t),t.avail_out===0))return r.last_flush=-1,Wl}return e!==bd?Wl:r.wrap<=0?FM:(r.wrap===2?(Di(r,t.adler&255),Di(r,t.adler>>8&255),Di(r,t.adler>>16&255),Di(r,t.adler>>24&255),Di(r,t.total_in&255),Di(r,t.total_in>>8&255),Di(r,t.total_in>>16&255),Di(r,t.total_in>>24&255)):(Wy(r,t.adler>>>16),Wy(r,t.adler&65535)),Fu(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Wl:FM)},fie=t=>{if(!t||!t.state)return So;const e=t.state.status;return e!==Qw&&e!==ZC&&e!==s0&&e!==o0&&e!==l0&&e!==Hh&&e!==pg?hd(t,So):(t.state=null,e===Hh?hd(t,Bte):Wl)},pie=(t,e)=>{let i=e.length;if(!t||!t.state)return So;const n=t.state,r=n.wrap;if(r===2||r===1&&n.status!==Qw||n.lookahead)return So;if(r===1&&(t.adler=uv(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){r===0&&(ed(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(e.subarray(i-n.w_size,i),0),e=c,i=n.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,pf(n);n.lookahead>=vi;){let c=n.strstart,d=n.lookahead-(vi-1);do n.ins_h=_d(n,n.ins_h,n.window[c+vi-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--d);n.strstart=c,n.lookahead=vi-1,pf(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=vi-1,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=r,Wl};var mie=die,yie=dB,gie=uB,vie=cB,bie=uie,_ie=hie,wie=fie,Eie=pie,Tie="pako deflate (from Nodeca project)",Gg={deflateInit:mie,deflateInit2:yie,deflateReset:gie,deflateResetKeep:vie,deflateSetHeader:bie,deflate:_ie,deflateEnd:wie,deflateSetDictionary:Eie,deflateInfo:Tie};const Cie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var kie=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const n in i)Cie(i,n)&&(t[n]=i[n])}}return t},Sie=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const i=new Uint8Array(e);for(let n=0,r=0,a=t.length;n<a;n++){let s=t[n];i.set(s,r),r+=s.length}return i},Jw={assign:kie,flattenChunks:Sie};let hB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hB=!1}const dv=new Uint8Array(256);for(let t=0;t<256;t++)dv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;dv[254]=dv[254]=1;var Aie=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,i,n,r,a,s=t.length,o=0;for(r=0;r<s;r++)i=t.charCodeAt(r),(i&64512)===55296&&r+1<s&&(n=t.charCodeAt(r+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),r++)),o+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(o),a=0,r=0;a<o;r++)i=t.charCodeAt(r),(i&64512)===55296&&r+1<s&&(n=t.charCodeAt(r+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|i&63):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|i&63):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|i&63);return e};const xie=(t,e)=>{if(e<65534&&t.subarray&&hB)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i};var Die=(t,e)=>{const i=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,r;const a=new Array(i*2);for(r=0,n=0;n<i;){let s=t[n++];if(s<128){a[r++]=s;continue}let o=dv[s];if(o>4){a[r++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<i;)s=s<<6|t[n++]&63,o--;if(o>1){a[r++]=65533;continue}s<65536?a[r++]=s:(s-=65536,a[r++]=55296|s>>10&1023,a[r++]=56320|s&1023)}return xie(a,r)},Iie=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let i=e-1;for(;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?e:i+dv[t[i]]>e?i:e},hv={string2buf:Aie,buf2string:Die,utf8border:Iie};function Rie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fB=Rie;const pB=Object.prototype.toString,{Z_NO_FLUSH:Mie,Z_SYNC_FLUSH:Pie,Z_FULL_FLUSH:Oie,Z_FINISH:Nie,Z_OK:W0,Z_STREAM_END:Gie,Z_DEFAULT_COMPRESSION:Uie,Z_DEFAULT_STRATEGY:Lie,Z_DEFLATED:Bie}=$f;function Qv(t){this.options=Jw.assign({level:Uie,method:Bie,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lie},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fB,this.strm.avail_out=0;let i=Gg.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==W0)throw new Error(hf[i]);if(e.header&&Gg.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=hv.string2buf(e.dictionary):pB.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,i=Gg.deflateSetDictionary(this.strm,n),i!==W0)throw new Error(hf[i]);this._dict_set=!0}}Qv.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let r,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Nie:Mie,typeof t=="string"?i.input=hv.string2buf(t):pB.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(a===Pie||a===Oie)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(r=Gg.deflate(i,a),r===Gie)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Gg.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===W0;if(i.avail_out===0){this.onData(i.output);continue}if(a>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};Qv.prototype.onData=function(t){this.chunks.push(t)};Qv.prototype.onEnd=function(t){t===W0&&(this.result=Jw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function lA(t,e){const i=new Qv(e);if(i.push(t,!0),i.err)throw i.msg||hf[i.err];return i.result}function $ie(t,e){return e=e||{},e.raw=!0,lA(t,e)}function Fie(t,e){return e=e||{},e.gzip=!0,lA(t,e)}var Hie=Qv,Vie=lA,Yie=$ie,qie=Fie,Wie=$f,jie={Deflate:Hie,deflate:Vie,deflateRaw:Yie,gzip:qie,constants:Wie};const M_=30,zie=12;var Xie=function(e,i){let n,r,a,s,o,c,d,p,m,y,_,w,C,k,S,x,O,D,B,P,R,I,F,$;const L=e.state;n=e.next_in,F=e.input,r=n+(e.avail_in-5),a=e.next_out,$=e.output,s=a-(i-e.avail_out),o=a+(e.avail_out-257),c=L.dmax,d=L.wsize,p=L.whave,m=L.wnext,y=L.window,_=L.hold,w=L.bits,C=L.lencode,k=L.distcode,S=(1<<L.lenbits)-1,x=(1<<L.distbits)-1;e:do{w<15&&(_+=F[n++]<<w,w+=8,_+=F[n++]<<w,w+=8),O=C[_&S];t:for(;;){if(D=O>>>24,_>>>=D,w-=D,D=O>>>16&255,D===0)$[a++]=O&65535;else if(D&16){B=O&65535,D&=15,D&&(w<D&&(_+=F[n++]<<w,w+=8),B+=_&(1<<D)-1,_>>>=D,w-=D),w<15&&(_+=F[n++]<<w,w+=8,_+=F[n++]<<w,w+=8),O=k[_&x];i:for(;;){if(D=O>>>24,_>>>=D,w-=D,D=O>>>16&255,D&16){if(P=O&65535,D&=15,w<D&&(_+=F[n++]<<w,w+=8,w<D&&(_+=F[n++]<<w,w+=8)),P+=_&(1<<D)-1,P>c){e.msg="invalid distance too far back",L.mode=M_;break e}if(_>>>=D,w-=D,D=a-s,P>D){if(D=P-D,D>p&&L.sane){e.msg="invalid distance too far back",L.mode=M_;break e}if(R=0,I=y,m===0){if(R+=d-D,D<B){B-=D;do $[a++]=y[R++];while(--D);R=a-P,I=$}}else if(m<D){if(R+=d+m-D,D-=m,D<B){B-=D;do $[a++]=y[R++];while(--D);if(R=0,m<B){D=m,B-=D;do $[a++]=y[R++];while(--D);R=a-P,I=$}}}else if(R+=m-D,D<B){B-=D;do $[a++]=y[R++];while(--D);R=a-P,I=$}for(;B>2;)$[a++]=I[R++],$[a++]=I[R++],$[a++]=I[R++],B-=3;B&&($[a++]=I[R++],B>1&&($[a++]=I[R++]))}else{R=a-P;do $[a++]=$[R++],$[a++]=$[R++],$[a++]=$[R++],B-=3;while(B>2);B&&($[a++]=$[R++],B>1&&($[a++]=$[R++]))}}else if(D&64){e.msg="invalid distance code",L.mode=M_;break e}else{O=k[(O&65535)+(_&(1<<D)-1)];continue i}break}}else if(D&64)if(D&32){L.mode=zie;break e}else{e.msg="invalid literal/length code",L.mode=M_;break e}else{O=C[(O&65535)+(_&(1<<D)-1)];continue t}break}}while(n<r&&a<o);B=w>>3,n-=B,w-=B<<3,_&=(1<<w)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=a<o?257+(o-a):257-(a-o),L.hold=_,L.bits=w};const _p=15,VM=852,YM=592,qM=0,a1=1,WM=2,Kie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Qie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Jie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ene=(t,e,i,n,r,a,s,o)=>{const c=o.bits;let d=0,p=0,m=0,y=0,_=0,w=0,C=0,k=0,S=0,x=0,O,D,B,P,R,I=null,F=0,$;const L=new Uint16Array(_p+1),W=new Uint16Array(_p+1);let j=null,z=0,re,ce,ge;for(d=0;d<=_p;d++)L[d]=0;for(p=0;p<n;p++)L[e[i+p]]++;for(_=c,y=_p;y>=1&&L[y]===0;y--);if(_>y&&(_=y),y===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<y&&L[m]===0;m++);for(_<m&&(_=m),k=1,d=1;d<=_p;d++)if(k<<=1,k-=L[d],k<0)return-1;if(k>0&&(t===qM||y!==1))return-1;for(W[1]=0,d=1;d<_p;d++)W[d+1]=W[d]+L[d];for(p=0;p<n;p++)e[i+p]!==0&&(s[W[e[i+p]]++]=p);if(t===qM?(I=j=s,$=19):t===a1?(I=Kie,F-=257,j=Zie,z-=257,$=256):(I=Qie,j=Jie,$=-1),x=0,p=0,d=m,R=a,w=_,C=0,B=-1,S=1<<_,P=S-1,t===a1&&S>VM||t===WM&&S>YM)return 1;for(;;){re=d-C,s[p]<$?(ce=0,ge=s[p]):s[p]>$?(ce=j[z+s[p]],ge=I[F+s[p]]):(ce=96,ge=0),O=1<<d-C,D=1<<w,m=D;do D-=O,r[R+(x>>C)+D]=re<<24|ce<<16|ge|0;while(D!==0);for(O=1<<d-1;x&O;)O>>=1;if(O!==0?(x&=O-1,x+=O):x=0,p++,--L[d]===0){if(d===y)break;d=e[i+s[p]]}if(d>_&&(x&P)!==B){for(C===0&&(C=_),R+=m,w=d-C,k=1<<w;w+C<y&&(k-=L[w+C],!(k<=0));)w++,k<<=1;if(S+=1<<w,t===a1&&S>VM||t===WM&&S>YM)return 1;B=x&P,r[B]=_<<24|w<<16|R-a|0}}return x!==0&&(r[R+x]=d-C<<24|64<<16|0),o.bits=_,0};var Ug=ene;const tne=0,mB=1,yB=2,{Z_FINISH:jM,Z_BLOCK:ine,Z_TREES:P_,Z_OK:mf,Z_STREAM_END:nne,Z_NEED_DICT:rne,Z_STREAM_ERROR:Do,Z_DATA_ERROR:gB,Z_MEM_ERROR:vB,Z_BUF_ERROR:ane,Z_DEFLATED:zM}=$f,bB=1,XM=2,KM=3,ZM=4,QM=5,JM=6,eP=7,tP=8,iP=9,nP=10,j0=11,Mc=12,s1=13,rP=14,o1=15,aP=16,sP=17,oP=18,lP=19,O_=20,N_=21,cP=22,uP=23,dP=24,hP=25,fP=26,l1=27,pP=28,mP=29,bn=30,_B=31,sne=32,one=852,lne=592,cne=15,une=cne,yP=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function dne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wB=t=>{if(!t||!t.state)return Do;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=bB,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(one),e.distcode=e.distdyn=new Int32Array(lne),e.sane=1,e.back=-1,mf},EB=t=>{if(!t||!t.state)return Do;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wB(t)},TB=(t,e)=>{let i;if(!t||!t.state)return Do;const n=t.state;return e<0?(i=0,e=-e):(i=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Do:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,EB(t))},CB=(t,e)=>{if(!t)return Do;const i=new dne;t.state=i,i.window=null;const n=TB(t,e);return n!==mf&&(t.state=null),n},hne=t=>CB(t,une);let gP=!0,c1,u1;const fne=t=>{if(gP){c1=new Int32Array(512),u1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ug(mB,t.lens,0,288,c1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ug(yB,t.lens,0,32,u1,0,t.work,{bits:5}),gP=!1}t.lencode=c1,t.lenbits=9,t.distcode=u1,t.distbits=5},kB=(t,e,i,n)=>{let r;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(i-a.wsize,i),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),a.window.set(e.subarray(i-n,i-n+r),a.wnext),n-=r,n?(a.window.set(e.subarray(i-n,i),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},pne=(t,e)=>{let i,n,r,a,s,o,c,d,p,m,y,_,w,C,k=0,S,x,O,D,B,P,R,I;const F=new Uint8Array(4);let $,L;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Do;i=t.state,i.mode===Mc&&(i.mode=s1),s=t.next_out,r=t.output,c=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,d=i.hold,p=i.bits,m=o,y=c,I=mf;e:for(;;)switch(i.mode){case bB:if(i.wrap===0){i.mode=s1;break}for(;p<16;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(i.wrap&2&&d===35615){i.check=0,F[0]=d&255,F[1]=d>>>8&255,i.check=Nr(i.check,F,2,0),d=0,p=0,i.mode=XM;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",i.mode=bn;break}if((d&15)!==zM){t.msg="unknown compression method",i.mode=bn;break}if(d>>>=4,p-=4,R=(d&15)+8,i.wbits===0)i.wbits=R;else if(R>i.wbits){t.msg="invalid window size",i.mode=bn;break}i.dmax=1<<i.wbits,t.adler=i.check=1,i.mode=d&512?nP:Mc,d=0,p=0;break;case XM:for(;p<16;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(i.flags=d,(i.flags&255)!==zM){t.msg="unknown compression method",i.mode=bn;break}if(i.flags&57344){t.msg="unknown header flags set",i.mode=bn;break}i.head&&(i.head.text=d>>8&1),i.flags&512&&(F[0]=d&255,F[1]=d>>>8&255,i.check=Nr(i.check,F,2,0)),d=0,p=0,i.mode=KM;case KM:for(;p<32;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}i.head&&(i.head.time=d),i.flags&512&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,i.check=Nr(i.check,F,4,0)),d=0,p=0,i.mode=ZM;case ZM:for(;p<16;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}i.head&&(i.head.xflags=d&255,i.head.os=d>>8),i.flags&512&&(F[0]=d&255,F[1]=d>>>8&255,i.check=Nr(i.check,F,2,0)),d=0,p=0,i.mode=QM;case QM:if(i.flags&1024){for(;p<16;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}i.length=d,i.head&&(i.head.extra_len=d),i.flags&512&&(F[0]=d&255,F[1]=d>>>8&255,i.check=Nr(i.check,F,2,0)),d=0,p=0}else i.head&&(i.head.extra=null);i.mode=JM;case JM:if(i.flags&1024&&(_=i.length,_>o&&(_=o),_&&(i.head&&(R=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(a,a+_),R)),i.flags&512&&(i.check=Nr(i.check,n,_,a)),o-=_,a+=_,i.length-=_),i.length))break e;i.length=0,i.mode=eP;case eP:if(i.flags&2048){if(o===0)break e;_=0;do R=n[a+_++],i.head&&R&&i.length<65536&&(i.head.name+=String.fromCharCode(R));while(R&&_<o);if(i.flags&512&&(i.check=Nr(i.check,n,_,a)),o-=_,a+=_,R)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=tP;case tP:if(i.flags&4096){if(o===0)break e;_=0;do R=n[a+_++],i.head&&R&&i.length<65536&&(i.head.comment+=String.fromCharCode(R));while(R&&_<o);if(i.flags&512&&(i.check=Nr(i.check,n,_,a)),o-=_,a+=_,R)break e}else i.head&&(i.head.comment=null);i.mode=iP;case iP:if(i.flags&512){for(;p<16;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(d!==(i.check&65535)){t.msg="header crc mismatch",i.mode=bn;break}d=0,p=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Mc;break;case nP:for(;p<32;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}t.adler=i.check=yP(d),d=0,p=0,i.mode=j0;case j0:if(i.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,i.hold=d,i.bits=p,rne;t.adler=i.check=1,i.mode=Mc;case Mc:if(e===ine||e===P_)break e;case s1:if(i.last){d>>>=p&7,p-=p&7,i.mode=l1;break}for(;p<3;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}switch(i.last=d&1,d>>>=1,p-=1,d&3){case 0:i.mode=rP;break;case 1:if(fne(i),i.mode=O_,e===P_){d>>>=2,p-=2;break e}break;case 2:i.mode=sP;break;case 3:t.msg="invalid block type",i.mode=bn}d>>>=2,p-=2;break;case rP:for(d>>>=p&7,p-=p&7;p<32;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",i.mode=bn;break}if(i.length=d&65535,d=0,p=0,i.mode=o1,e===P_)break e;case o1:i.mode=aP;case aP:if(_=i.length,_){if(_>o&&(_=o),_>c&&(_=c),_===0)break e;r.set(n.subarray(a,a+_),s),o-=_,a+=_,c-=_,s+=_,i.length-=_;break}i.mode=Mc;break;case sP:for(;p<14;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(i.nlen=(d&31)+257,d>>>=5,p-=5,i.ndist=(d&31)+1,d>>>=5,p-=5,i.ncode=(d&15)+4,d>>>=4,p-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=bn;break}i.have=0,i.mode=oP;case oP:for(;i.have<i.ncode;){for(;p<3;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}i.lens[W[i.have++]]=d&7,d>>>=3,p-=3}for(;i.have<19;)i.lens[W[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,$={bits:i.lenbits},I=Ug(tne,i.lens,0,19,i.lencode,0,i.work,$),i.lenbits=$.bits,I){t.msg="invalid code lengths set",i.mode=bn;break}i.have=0,i.mode=lP;case lP:for(;i.have<i.nlen+i.ndist;){for(;k=i.lencode[d&(1<<i.lenbits)-1],S=k>>>24,x=k>>>16&255,O=k&65535,!(S<=p);){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(O<16)d>>>=S,p-=S,i.lens[i.have++]=O;else{if(O===16){for(L=S+2;p<L;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(d>>>=S,p-=S,i.have===0){t.msg="invalid bit length repeat",i.mode=bn;break}R=i.lens[i.have-1],_=3+(d&3),d>>>=2,p-=2}else if(O===17){for(L=S+3;p<L;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}d>>>=S,p-=S,R=0,_=3+(d&7),d>>>=3,p-=3}else{for(L=S+7;p<L;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}d>>>=S,p-=S,R=0,_=11+(d&127),d>>>=7,p-=7}if(i.have+_>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=bn;break}for(;_--;)i.lens[i.have++]=R}}if(i.mode===bn)break;if(i.lens[256]===0){t.msg="invalid code -- missing end-of-block",i.mode=bn;break}if(i.lenbits=9,$={bits:i.lenbits},I=Ug(mB,i.lens,0,i.nlen,i.lencode,0,i.work,$),i.lenbits=$.bits,I){t.msg="invalid literal/lengths set",i.mode=bn;break}if(i.distbits=6,i.distcode=i.distdyn,$={bits:i.distbits},I=Ug(yB,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,$),i.distbits=$.bits,I){t.msg="invalid distances set",i.mode=bn;break}if(i.mode=O_,e===P_)break e;case O_:i.mode=N_;case N_:if(o>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,i.hold=d,i.bits=p,Xie(t,y),s=t.next_out,r=t.output,c=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,d=i.hold,p=i.bits,i.mode===Mc&&(i.back=-1);break}for(i.back=0;k=i.lencode[d&(1<<i.lenbits)-1],S=k>>>24,x=k>>>16&255,O=k&65535,!(S<=p);){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(x&&!(x&240)){for(D=S,B=x,P=O;k=i.lencode[P+((d&(1<<D+B)-1)>>D)],S=k>>>24,x=k>>>16&255,O=k&65535,!(D+S<=p);){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}d>>>=D,p-=D,i.back+=D}if(d>>>=S,p-=S,i.back+=S,i.length=O,x===0){i.mode=fP;break}if(x&32){i.back=-1,i.mode=Mc;break}if(x&64){t.msg="invalid literal/length code",i.mode=bn;break}i.extra=x&15,i.mode=cP;case cP:if(i.extra){for(L=i.extra;p<L;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,p-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=uP;case uP:for(;k=i.distcode[d&(1<<i.distbits)-1],S=k>>>24,x=k>>>16&255,O=k&65535,!(S<=p);){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(!(x&240)){for(D=S,B=x,P=O;k=i.distcode[P+((d&(1<<D+B)-1)>>D)],S=k>>>24,x=k>>>16&255,O=k&65535,!(D+S<=p);){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}d>>>=D,p-=D,i.back+=D}if(d>>>=S,p-=S,i.back+=S,x&64){t.msg="invalid distance code",i.mode=bn;break}i.offset=O,i.extra=x&15,i.mode=dP;case dP:if(i.extra){for(L=i.extra;p<L;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,p-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=bn;break}i.mode=hP;case hP:if(c===0)break e;if(_=y-c,i.offset>_){if(_=i.offset-_,_>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=bn;break}_>i.wnext?(_-=i.wnext,w=i.wsize-_):w=i.wnext-_,_>i.length&&(_=i.length),C=i.window}else C=r,w=s-i.offset,_=i.length;_>c&&(_=c),c-=_,i.length-=_;do r[s++]=C[w++];while(--_);i.length===0&&(i.mode=N_);break;case fP:if(c===0)break e;r[s++]=i.length,c--,i.mode=N_;break;case l1:if(i.wrap){for(;p<32;){if(o===0)break e;o--,d|=n[a++]<<p,p+=8}if(y-=c,t.total_out+=y,i.total+=y,y&&(t.adler=i.check=i.flags?Nr(i.check,r,y,s-y):uv(i.check,r,y,s-y)),y=c,(i.flags?d:yP(d))!==i.check){t.msg="incorrect data check",i.mode=bn;break}d=0,p=0}i.mode=pP;case pP:if(i.wrap&&i.flags){for(;p<32;){if(o===0)break e;o--,d+=n[a++]<<p,p+=8}if(d!==(i.total&4294967295)){t.msg="incorrect length check",i.mode=bn;break}d=0,p=0}i.mode=mP;case mP:I=nne;break e;case bn:I=gB;break e;case _B:return vB;case sne:default:return Do}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,i.hold=d,i.bits=p,(i.wsize||y!==t.avail_out&&i.mode<bn&&(i.mode<l1||e!==jM))&&kB(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,i.total+=y,i.wrap&&y&&(t.adler=i.check=i.flags?Nr(i.check,r,y,t.next_out-y):uv(i.check,r,y,t.next_out-y)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Mc?128:0)+(i.mode===O_||i.mode===o1?256:0),(m===0&&y===0||e===jM)&&I===mf&&(I=ane),I},mne=t=>{if(!t||!t.state)return Do;let e=t.state;return e.window&&(e.window=null),t.state=null,mf},yne=(t,e)=>{if(!t||!t.state)return Do;const i=t.state;return i.wrap&2?(i.head=e,e.done=!1,mf):Do},gne=(t,e)=>{const i=e.length;let n,r,a;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==j0)?Do:n.mode===j0&&(r=1,r=uv(r,e,i,0),r!==n.check)?gB:(a=kB(t,e,i,i),a?(n.mode=_B,vB):(n.havedict=1,mf))};var vne=EB,bne=TB,_ne=wB,wne=hne,Ene=CB,Tne=pne,Cne=mne,kne=yne,Sne=gne,Ane="pako inflate (from Nodeca project)",Uc={inflateReset:vne,inflateReset2:bne,inflateResetKeep:_ne,inflateInit:wne,inflateInit2:Ene,inflate:Tne,inflateEnd:Cne,inflateGetHeader:kne,inflateSetDictionary:Sne,inflateInfo:Ane};function xne(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dne=xne;const SB=Object.prototype.toString,{Z_NO_FLUSH:Ine,Z_FINISH:Rne,Z_OK:fv,Z_STREAM_END:d1,Z_NEED_DICT:h1,Z_STREAM_ERROR:Mne,Z_DATA_ERROR:vP,Z_MEM_ERROR:Pne}=$f;function Jv(t){this.options=Jw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fB,this.strm.avail_out=0;let i=Uc.inflateInit2(this.strm,e.windowBits);if(i!==fv)throw new Error(hf[i]);if(this.header=new Dne,Uc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hv.string2buf(e.dictionary):SB.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=Uc.inflateSetDictionary(this.strm,e.dictionary),i!==fv)))throw new Error(hf[i])}Jv.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Rne:Ine,SB.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),a=Uc.inflate(i,s),a===h1&&r&&(a=Uc.inflateSetDictionary(i,r),a===fv?a=Uc.inflate(i,s):a===vP&&(a=h1));i.avail_in>0&&a===d1&&i.state.wrap>0&&t[i.next_in]!==0;)Uc.inflateReset(i),a=Uc.inflate(i,s);switch(a){case Mne:case vP:case h1:case Pne:return this.onEnd(a),this.ended=!0,!1}if(o=i.avail_out,i.next_out&&(i.avail_out===0||a===d1))if(this.options.to==="string"){let c=hv.utf8border(i.output,i.next_out),d=i.next_out-c,p=hv.buf2string(i.output,c);i.next_out=d,i.avail_out=n-d,d&&i.output.set(i.output.subarray(c,c+d),0),this.onData(p)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(a===fv&&o===0)){if(a===d1)return a=Uc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};Jv.prototype.onData=function(t){this.chunks.push(t)};Jv.prototype.onEnd=function(t){t===fv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function cA(t,e){const i=new Jv(e);if(i.push(t),i.err)throw i.msg||hf[i.err];return i.result}function One(t,e){return e=e||{},e.raw=!0,cA(t,e)}var Nne=Jv,Gne=cA,Une=One,Lne=cA,Bne=$f,$ne={Inflate:Nne,inflate:Gne,inflateRaw:Une,ungzip:Lne,constants:Bne};const{Deflate:Fne,deflate:Hne,deflateRaw:Vne,gzip:Yne}=jie,{Inflate:qne,inflate:Wne,inflateRaw:jne,ungzip:zne}=$ne;var Xne=Fne,Kne=Hne,Zne=Vne,Qne=Yne,Jne=qne,ere=Wne,tre=jne,ire=zne,nre=$f,QC={Deflate:Xne,deflate:Kne,deflateRaw:Zne,gzip:Qne,Inflate:Jne,inflate:ere,inflateRaw:tre,ungzip:ire,constants:nre};const Hu={serialize(t){const e=JSON.stringify(t,this.jsonConverter);return this.encodeText(e,"savefile")},jsonConverter(t,e){return e===1/0?"Infinity":e instanceof Set?Array.from(e.keys()):e},deserialize(t){if(typeof t=="string")try{const e=this.decodeText(t,"savefile");return JSON.parse(e,(i,n)=>n===1/0?"Infinity":n)}catch{return}},encoder:new TextEncoder,decoder:new TextDecoder,startingString:{savefile:"AntimatterDimensionsSavefileFormat","automator script":"AntimatterDimensionsAutomatorScriptFormat","automator data":"AntimatterDimensionsAutomatorDataFormat","glyph filter":"AntimatterDimensionsGlyphFilterFormat"},endingString:{savefile:"EndOfSavefile","automator script":"EndOfAutomatorScript","automator data":"EndOfAutomatorData","glyph filter":"EndOfGlyphFilter"},version:"AAB",steps:[{encode:t=>Hu.encoder.encode(t),decode:t=>Hu.decoder.decode(t)},{encode:t=>QC.deflate(t),decode:t=>QC.inflate(t)},{encode:t=>Array.from(t).map(e=>String.fromCharCode(e)).join(""),decode:t=>Uint8Array.from(Array.from(t).map(e=>e.charCodeAt(0)))},{encode:t=>btoa(t),decode:t=>atob(t)},{encode:t=>t.replace(/=+$/gu,"").replace(/0/gu,"0a").replace(/\+/gu,"0b").replace(/\//gu,"0c"),decode:t=>t.replace(/0b/gu,"+").replace(/0c/gu,"/").replace(/0a/gu,"0")},{encode:(t,e)=>t+Hu.endingString[e],decode:(t,e)=>t.slice(0,t.length-Hu.endingString[e].length),condition:t=>t>="AAB"}],getSteps(t,e){return this.steps.filter(i=>!i.condition||i.condition(e)).concat({encode:i=>`${Hu.startingString[t]+Hu.version}${i}`,decode:i=>i.slice(Hu.startingString[t].length+3)})},encodeText(t,e){return this.getSteps(e,this.version).reduce((i,n)=>n.encode(i,e),t)},decodeText(t,e){if(t.startsWith(this.startingString[e])){const i=this.startingString[e].length,n=t.slice(i,i+3);return this.getSteps(e,n).reduceRight((r,a)=>a.decode(r,e),t)}return atob(t)}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JC=function(t,e){return JC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},JC(t,e)};function On(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");JC(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function uA(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}var Es={isInfinite:function(e){return e.gte(ci.MAX_VALUE)},exponentCommas:{show:!0,min:1e5,max:1e9},exponentDefaultPlaces:3};function rre(t,e){return e===0?t.slice(-3):t.slice(-3*(e+1),-3*e)}function are(t){return Array.from(Array(Math.ceil(t.length/3))).map(function(e,i){return rre(t,i)}).reverse().join(",")}function dA(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\w+$/g,are),e.join(".")}function sre(t){var e=t.exponent%3;return ci.fromMantissaExponent_noNormalize(t.mantissa*Math.pow(10,e),t.exponent-e)}var bP=["K","M","B","T","Qa","Qt","Sx","Sp","Oc","No"],ore=[["","U","D","T","Qa","Qt","Sx","Sp","O","N"],["","Dc","Vg","Tg","Qd","Qi","Se","St","Og","Nn"],["","Ce","Dn","Tc","Qe","Qu","Sc","Si","Oe","Ne"]],lre=["","MI-","MC-","NA-","PC-","FM-","AT-","ZP-"];function AB(t){var e=t-1;if(e===-1)return"";if(e<bP.length)return bP[e];for(var i=[],n=e;n>0;)i.push(ore[i.length%3][n%10]),n=Math.floor(n/10);for(;i.length%3!==0;)i.push("");for(var r="",a=i.length/3-1;a>=0;a--)r+=i.slice(a*3,a*3+3).join("")+lre[a];return r.replace(/-[A-Z]{2}-/g,"-").replace(/U([A-Z]{2}-)/g,"$1").replace(/-$/,"")}function xB(t){return t<Es.exponentCommas.min}function DB(t){return Es.exponentCommas.show&&t<Es.exponentCommas.max}function cre(t){return xB(t)||DB(t)}function Fm(t,e,i,n,r,a,s){return a===void 0&&(a="e"),s===void 0&&(s=!1),function(o,c,d){var p=Math.pow(i,n),m=Math.floor(o.log(p))*n;s&&(m=Math.max(m,0));var y=o.div(ci.pow(i,m)).toNumber();if(!(1<=y&&y<p)){var _=Math.floor(Math.log(y)/Math.log(p));y/=Math.pow(p,_),m+=n*_}var w=t(y,c);if(w===t(p,c)&&(w=t(1,c),m+=n),m===0)return w;var C=e(m,d);return r&&!cre(m)&&(w=""),"".concat(w).concat(a).concat(C)}}function Hm(t,e){return t.toFixed(Math.max(0,e))}function ure(t,e){return function(i,n){for(var r=Math.round(i*Math.pow(t,Math.max(0,n))),a=[];r>0||a.length===0;)a.push(e[r%t]),r=Math.floor(r/t);var s=a.reverse().join("");return n>0&&(s=s.padStart(n+1,"0"),s="".concat(s.slice(0,-n),".").concat(s.slice(-n))),s}}var Kn=function(){function t(){}return t.prototype.format=function(e,i,n,r){if(i===void 0&&(i=0),n===void 0&&(n=0),r===void 0&&(r=i),typeof e=="number"&&!Number.isFinite(e))return this.infinite;var a=ci.fromValue_noAlloc(e);if(a.exponent<-300)return a.sign()<0?this.formatVerySmallNegativeDecimal(a.abs(),n):this.formatVerySmallDecimal(a,n);if(a.exponent<3){var s=a.toNumber();return s<0?this.formatNegativeUnder1000(Math.abs(s),n):this.formatUnder1000(s,n)}return Es.isInfinite(a.abs())?a.sign()<0?this.negativeInfinite:this.infinite:a.sign()<0?this.formatNegativeDecimal(a.abs(),i,r):this.formatDecimal(a,i,r)},Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"-".concat(this.infinite)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Infinite"},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(e,i){return"-".concat(this.formatVerySmallDecimal(e,i))},t.prototype.formatVerySmallDecimal=function(e,i){return this.formatUnder1000(e.toNumber(),i)},t.prototype.formatNegativeUnder1000=function(e,i){return"-".concat(this.formatUnder1000(e,i))},t.prototype.formatUnder1000=function(e,i){return e.toFixed(i)},t.prototype.formatNegativeDecimal=function(e,i,n){return"-".concat(this.formatDecimal(e,i,n))},t.prototype.formatExponent=function(e,i,n,r){return i===void 0&&(i=Es.exponentDefaultPlaces),n===void 0&&(n=function(s,o){return s.toString()}),r===void 0&&(r=Math.max(2,i)),xB(e)?n(e,Math.max(i,1)):DB(e)?dA(n(e,0)):this.formatDecimal(new ci(e),r,r)},t}(),IB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Scientific"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n,r){return Fm(Hm,this.formatExponent.bind(this),10,1,!1)(i,n,r)},e}(Kn),RB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Engineering"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n,r){return Fm(Hm,this.formatExponent.bind(this),10,3,!1)(i,n,r)},e}(Kn),hA=function(t){On(e,t);function e(i,n,r){n===void 0&&(n=""),r===void 0&&(r="");var a=this;if(i.length<2)throw new Error("The supplied letter sequence must contain at least 2 letters");return a=t.call(this)||this,a.letters=i,a.mantissaExponentSeparator=n,a.separator=r,a}return Object.defineProperty(e.prototype,"name",{get:function(){return"Custom"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n){var r=sre(i),a=r.mantissa.toFixed(n);return a+this.mantissaExponentSeparator+this.transcribe(r.exponent).join(this.separator)},e.prototype.transcribe=function(i){var n=i/3,r=this.letters.length;if(n<=r)return[this.letters[n-1]];for(var a=[];n>r;){var s=n%r,o=(s===0?r:s)-1;a.push(this.letters[o]),n=(n-s)/r,s===0&&n--}return a.push(this.letters[n-1]),a.reverse()},e}(RB),dre="abcdefghijklmnopqrstuvwxyz",MB=function(t){On(e,t);function e(){return t.call(this,dre)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Letters"},enumerable:!1,configurable:!0}),e}(hA),hre=["😠","🎂","🎄","💀","🍆","👪","🌈","💯","🍦","🎃","💋","😂","🌙","⛔","🐙","💩","❓","☢","🙈","👍","☂","✌","⚠","❌","😋","⚡"],fre=function(t){On(e,t);function e(){return t.call(this,hre)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Emoji"},enumerable:!1,configurable:!0}),e}(hA),eE=function(t){On(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.name="Standard",i}return e.prototype.formatDecimal=function(i,n,r){return Fm(Hm,AB,1e3,1,!1," ",!0)(i,n,r)},e}(Kn),pre=new eE,mre=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed scientific"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n,r){return i.exponent<33?pre.formatDecimal(i,n,r):Fm(Hm,this.formatExponent.bind(this),10,1,!1)(i,n,r)},e}(Kn),yre=new eE,gre=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Mixed engineering"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n,r){return i.exponent<33?yre.formatDecimal(i,n,r):Fm(Hm,this.formatExponent.bind(this),10,3,!1)(i,n,r)},e}(Kn),PB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Logarithm"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n,r){var a=i.log10();return"e".concat(this.formatExponent(a,n,function(s,o){return s.toFixed(o)},r))},e}(Kn),OB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Brackets"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i){for(var n=[")","[","{","]","(","}"],r=Math.LN10/Math.log(6)*i.log10(),a=Math.floor(r),s=r-a,o=Math.floor(s*36),c="";a>=6;){var d=a%6;a-=d,a/=6,c=n[d]+c}return c="e".concat(n[a]).concat(c,"."),c+=n[Math.floor(o/6)],c+=n[o%6],c},e}(Kn),vre=Math.log10(Number.MAX_VALUE),NB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Infinity"},enumerable:!1,configurable:!0}),e.prototype.formatDecimal=function(i,n){var r=i.log10(),a=r/vre,s=a<1e3?4:3,o=a.toFixed(Math.max(s,n));return Es.exponentCommas.show?"".concat(dA(o),"∞"):"".concat(o,"∞")},e}(Kn),bre=[[1e6,"M̄"],[9e5,"C̄M̄"],[5e5,"D̄"],[4e5,"C̄D̄"],[1e5,"C̄"],[9e4,"X̄C̄"],[5e4,"L̄"],[4e4,"X̄L̄"],[1e4,"X̄"],[9e3,"ⅯX̄"],[5e3,"V̄"],[4e3,"ⅯV̄"],[1e3,"Ⅿ"],[900,"ⅭⅯ"],[500,"Ⅾ"],[400,"ⅭⅮ"],[100,"Ⅽ"],[90,"ⅩⅭ"],[50,"Ⅼ"],[40,"ⅩⅬ"],[10,"Ⅹ"],[9,"ⅠⅩ"],[5,"Ⅴ"],[4,"ⅠⅤ"],[1,"Ⅰ"]],_re=["","·",":","∴","∷","⁙"],ek=4e6,wre=Math.log10(ek),GB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Roman"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Infinitus"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.romanize(i)},e.prototype.formatDecimal=function(i){if(i.lt(ek))return this.romanize(i.toNumber());var n=i.log10(),r=n/wre,a=Math.pow(ek,r-Math.floor(r));return"".concat(this.romanize(a),"↑").concat(this.formatDecimal(new ci(r)))},e.prototype.romanize=function(i){for(var n="",r=0,a=bre;r<a.length;r++)for(var s=a[r],o=s[0],c=s[1];o<=i;)n+=c,i-=o;var d=Math.round(Math.floor(i*10)*1.2);return d===0?n===""?"nulla":n:(d>5&&(d-=6,n+="Ｓ"),n+=_re[d],n)},e}(Kn),f1="⠀⠁⠂⠃⠄⠅⠆⠇⠈⠉⠊⠋⠌⠍⠎⠏⠐⠑⠒⠓⠔⠕⠖⠗⠘⠙⠚⠛⠜⠝⠞⠟⠠⠡⠢⠣⠤⠥⠦⠧⠨⠩⠪⠫⠬⠭⠮⠯⠰⠱⠲⠳⠴⠵⠶⠷⠸⠹⠺⠻⠼⠽⠾⠿⡀⡁⡂⡃⡄⡅⡆⡇⡈⡉⡊⡋⡌⡍⡎⡏⡐⡑⡒⡓⡔⡕⡖⡗⡘⡙⡚⡛⡜⡝⡞⡟⡠⡡⡢⡣⡤⡥⡦⡧⡨⡩⡪⡫⡬⡭⡮⡯⡰⡱⡲⡳⡴⡵⡶⡷⡸⡹⡺⡻⡼⡽⡾⡿⢀⢁⢂⢃⢄⢅⢆⢇⢈⢉⢊⢋⢌⢍⢎⢏⢐⢑⢒⢓⢔⢕⢖⢗⢘⢙⢚⢛⢜⢝⢞⢟⢠⢡⢢⢣⢤⢥⢦⢧⢨⢩⢪⢫⢬⢭⢮⢯⢰⢱⢲⢳⢴⢵⢶⢷⢸⢹⢺⢻⢼⢽⢾⢿⣀⣁⣂⣃⣄⣅⣆⣇⣈⣉⣊⣋⣌⣍⣎⣏⣐⣑⣒⣓⣔⣕⣖⣗⣘⣙⣚⣛⣜⣝⣞⣟⣠⣡⣢⣣⣤⣥⣦⣧⣨⣩⣪⣫⣬⣭⣮⣯⣰⣱⣲⣳⣴⣵⣶⣷⣸⣹⣺⣻⣼⣽⣾⣿",UB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Dots"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"⣿⠀⣿"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.dotify(i*254)},e.prototype.formatDecimal=function(i){if(i.lt(163870639980315e-7))return this.dotify(i.toNumber()*254);var n=i.log(254),r=Math.floor(n-2),a=Math.pow(254,n-r);return"".concat(this.dotify(r),"⣿").concat(this.dotify(a*254))},e.prototype.dotify=function(i,n){n===void 0&&(n=!1);var r=Math.round(i);return!n&&r<254?f1[r+1]:r<64516?f1[Math.floor(r/254)+1]+f1[r%254+1]:this.dotify(Math.floor(r/64516))+this.dotify(r%64516,!0)},e}(Kn),_P=["̍","̶","͓","̿","҉","̰","̚","̸","͚","̷"],Ere=["H","E"," ","C","O","M","E","S"];function Tre(t){return t[Math.floor(Math.random()*t.length)]}var LB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Zalgo"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return Ere.map(function(n){return n+Tre(_P)}).join("")},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.heComes(new ci(i))},e.prototype.formatDecimal=function(i){return this.heComes(i)},e.prototype.heComes=function(i){for(var n=i.plus(1).log10()/66666*1e3,r=Number(n.toFixed(2)),a=Math.floor(Math.abs(Math.pow(2,30)*(n-r))),s=Array.from(dA(r)),o=Array.from(a.toString()+n.toFixed(0)),c=0;c<o.length;c++){var d=parseInt(o[c],10),p=37*c%s.length;s[p]+=_P[d]}return s.join("")},e}(Kn),p1={positive:0,negative:1},BB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Hex"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"00000000"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"FFFFFFFF"},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(i){return this.formatDecimal(i.negate())},e.prototype.formatVerySmallDecimal=function(i){return this.formatDecimal(i)},e.prototype.formatNegativeUnder1000=function(i){return this.formatDecimal(new ci(-i))},e.prototype.formatUnder1000=function(i){return this.formatDecimal(new ci(i))},e.prototype.formatNegativeDecimal=function(i){return this.formatDecimal(i.negate())},e.prototype.formatDecimal=function(i){return this.rawValue(i,32).toString(16).toUpperCase().padStart(8,"0")},e.prototype.modifiedLogarithm=function(i){var n=Math.floor(ci.log2(i)),r=ci.pow(2,n),a=ci.div(i,r).toNumber()-1;return n+a},e.prototype.isFinite=function(i){return typeof i=="number"?isFinite(i):isFinite(i.e)&&isFinite(i.mantissa)},e.prototype.rawValue=function(i,n){for(var r=i,a=[],s=0;s<n&&this.isFinite(r);s++)ci.lt(r,0)?(a.push(p1.negative),r=-this.modifiedLogarithm(ci.times(r,-1))):(a.push(p1.positive),r=this.modifiedLogarithm(r));var o=parseInt(a.map(function(c){return c===p1.positive?1:0}).join("").padEnd(n,"0"),2);return o!==Math.pow(2,n)-1&&(r>0||r===0&&o%2===1)&&(o+=1),o},e}(Kn),Pr=[[0,"pL",0],[61611520,"minim",0],[61611520*60,"dram",1],[61611520*60*8,"ounce",2],[61611520*60*8*4,"gill",2],[61611520*60*8*4*2,"cup",3],[61611520*60*8*4*2*2,"pint",4],[61611520*60*8*4*2*2*2,"quart",4],[61611520*60*8*4*2*2*2*4,"gallon",4],[61611520*60*8*4*2*2*2*4*4.5,"pin",3],[61611520*60*8*4*2*2*2*4*9,"firkin",3],[61611520*60*8*4*2*2*2*4*18,"kilderkin",4],[61611520*60*8*4*2*2*2*4*36,"barrel",4],[61611520*60*8*4*2*2*2*4*54,"hogshead",5],[61611520*60*8*4*2*2*2*4*72,"puncheon",6],[61611520*60*8*4*2*2*2*4*108,"butt",7],[61611520*60*8*4*2*2*2*4*216,"tun",7]],Vu=Pr[1],wP=["minute ","tiny ","petite ","small ","modest ","medium ","generous ","large ","great ","grand ","huge ","gigantic ","immense ","colossal ","vast ","galactic ","cosmic ","infinite ","eternal "],Cre=new Set("aeiouAEIOU"),fA=10*Pr[Pr.length-1][0],kre=Math.log10(fA),EP=Math.log10(fA/Vu[0]),$B=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Imperial"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.formatDecimal(new ci(i))},e.prototype.formatDecimal=function(i){if(i.lt(fA))return this.convertToVolume(i.toNumber(),wP[0]);for(var n=i.log10()-kre,r=1;n>EP;)r++,n/=EP;return this.convertToVolume(Math.pow(10,n)*Vu[0],wP[r])},e.prototype.convertToVolume=function(i,n){var r=this.findVolumeUnit(i);if(r===0)return this.formatMetric(i);var a=this.checkSmallUnits(n,i,r);if(a!==void 0)return a;var s=Pr[r],o=Math.floor(i/s[0]),c=i-o*s[0];if(r<Pr.length-1){var d=this.checkAlmost(n,i,0,r+1);if(d!==void 0)return d}var p=this.checkAlmost(n,c,o,r);if(p!==void 0)return p;if(c<Pr[r-s[2]][0])return this.pluralOrArticle(o,n+s[1]);for(var m=Math.floor(c/Pr[r-1][0]),y=r-1,_=c-m*Pr[r-1][0],w=r-2;w>0&&w>r-s[2];--w){var C=Pr[w],k=Math.floor(c/C[0]);if(k>9&&w!==1)break;var S=c-k*C[0];S<.99*_&&(m=k,y=w,_=S)}return this.bigAndSmall(n,o,s,m,Pr[y])},e.prototype.formatMetric=function(i){return i<1e3?"".concat(i<10||i===Math.round(i)?i.toFixed(2):i.toFixed(0),"pL"):i<1e6?"".concat((i/1e3).toPrecision(4),"nL"):"".concat((i/1e6).toPrecision(4),"μL")},e.prototype.checkSmallUnits=function(i,n,r){var a=Pr[r];if(r<=3&&n+9.5*Vu[0]>Pr[r+1][0])return this.almostOrShortOf(n,i,1,Pr[r+1],Vu);if(r===1){var s=Math.round(n*10/a[0]);if(s===10)return this.addArticle(i+a[1]);var o=s<100?1:0;return"".concat((s/10).toFixed(o)," ").concat(i).concat(a[1],"s")}if(r===2){var c=Math.floor(n/a[0]),d=n-c*a[0];if(d>50.5*Vu[0])return this.almostOrShortOf(n,i,c+1,a,Vu);var p=Math.round(d/Vu[0]);return this.bigAndSmall(i,c,a,p,Vu)}},e.prototype.findVolumeUnit=function(i){for(var n=0,r=Pr.length,a=0;r-n>1;)a=Math.floor((n+r)/2),Pr[a][0]>i?r=a:n=a;return n},e.prototype.checkAlmost=function(i,n,r,a){var s=Pr[a];if(n+Pr[a-s[2]][0]>=s[0])return this.almost(i,r+1,s);var o=Pr[a+1-s[2]];if(n+o[0]>=s[0])return this.shortOf(i,r+1,s,1,o)},e.prototype.bigAndSmall=function(i,n,r,a,s){var o=this.pluralOrArticle(n,i+r[1]);return a===0?o:"".concat(o," and ").concat(this.pluralOrArticle(a,s[1]))},e.prototype.almost=function(i,n,r){return"almost ".concat(this.pluralOrArticle(n,i+r[1]))},e.prototype.almostOrShortOf=function(i,n,r,a,s){var o=Math.round((r*a[0]-i)/s[0]);return o===0?this.almost(n,r,a):this.shortOf(n,r,a,o,s)},e.prototype.shortOf=function(i,n,r,a,s){return"".concat(this.pluralOrArticle(a,s[1])," short of ").concat(this.pluralOrArticle(n,i+r[1]))},e.prototype.pluralOrArticle=function(i,n){return i===1?this.addArticle(n):"".concat(i," ").concat(n,"s")},e.prototype.addArticle=function(i){return(Cre.has(i[0])?"an ":"a ")+i},e}(Kn),Sre=["🕛","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚"],Are=Math.log10(12),FB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Clock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"🕛🕡"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.clockwise(new ci(i))},e.prototype.formatDecimal=function(i){return this.clockwise(i)},e.prototype.clockwise=function(i){if(i.lt(12))return this.hour(i.toNumber());var n=i.log10()/Are,r=Math.floor(n);if(n<301){var a=(Math.pow(12,n-r+1)-12)/11;if(r<13)return this.hour(r-1)+this.hour(a);r-=13;var s="";return r>=144&&(s=this.hour(0),r-=144),s+this.hour(r/12)+this.hour(r%12)+this.hour(a)}r-=301;for(var o=1;r>=1728;)r=(r-1728)/12,++o;return this.hour(o)+this.hour(r/144)+this.hour(r%144/12)+this.hour(r%12)},e.prototype.hour=function(i){return Sre[Math.max(Math.min(Math.floor(i),11),0)]},e}(Kn),nl=10006,xre=new ci(nl),Dre=Math.log10(nl),Jh=[],tk=new Array(nl).fill(!1),HB=Math.ceil(Math.sqrt(nl));for(var el=2;el<HB;el++)if(!tk[el]){Jh.push(el);for(var m1=el;m1<=nl;m1+=el)tk[m1]=!0}for(var el=HB;el<nl;el++)tk[el]||Jh.push(el);var ik=Jh.length-1,Ire=Jh[ik],y1=["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","¹⁰","¹¹","¹²","¹³"],VB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Prime"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Primefinity?"},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.primify(new ci(i))},e.prototype.formatDecimal=function(i){return this.primify(i)},e.prototype.primify=function(i){if(i.lte(xre)){var n=Math.floor(i.toNumber());return n===0?"0":n===1?"1":this.formatFromList(this.primesFromInt(n))}var r=i.log10()/Dre,a=Math.pow(nl,r/Math.ceil(r));if(r<=nl)return this.formatBaseExp(a,r);var s=Math.log10(r)/Math.log10(nl),o=Math.ceil(s);r=Math.pow(nl,s/o),a=Math.pow(nl,r/Math.ceil(r));var c=this.primesFromInt(o),d=c.length===1?y1[c[0]]:"^(".concat(this.formatFromList(c),")");return this.formatBaseExp(a,r)+d},e.prototype.formatBaseExp=function(i,n){var r=this.formatFromList(this.primesFromInt(Math.floor(i))),a=this.formatFromList(this.primesFromInt(Math.ceil(n)));return"(".concat(r,")^(").concat(a,")")},e.prototype.formatFromList=function(i){for(var n=[],r=0,a=0,s=0;s<i.length;s++)i[s]===r?a++:(r>0&&(a>1?n.push("".concat(r).concat(y1[a])):n.push(r)),r=i[s],a=1),s===i.length-1&&(a>1?n.push("".concat(i[s]).concat(y1[a])):n.push(i[s]));return n.join("×")},e.prototype.findGreatestLtePrimeIndex=function(i){if(i>=Ire)return ik;for(var n=0,r=ik;r!==n+1;){var a=Math.floor((r+n)/2),s=Jh[a];if(s===i)return a;i<s?r=a:n=a}return n},e.prototype.primesFromInt=function(i){for(var n=[],r=i;r!==1;){var a=this.findGreatestLtePrimeIndex(r),s=Jh[a];if(s===r){n.push(r);break}for(var o=r/2,c=this.findGreatestLtePrimeIndex(o),d=void 0;d===void 0;){var p=Jh[c--];r%p===0&&(d=p)}r/=d,n.push(d)}return n.reverse()},e}(Kn),jy=["","","","","","","",""],Rre=["","","","","","","",""],Mre=Math.log(8),YB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Bar"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return""},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(i){return this.flipBars(this.formatDecimal(i))},e.prototype.formatVerySmallDecimal=function(i){return this.formatDecimal(i)},e.prototype.formatNegativeUnder1000=function(i){return this.flipBars(this.formatDecimal(new ci(i)))},e.prototype.formatUnder1000=function(i){return this.formatDecimal(new ci(i))},e.prototype.formatNegativeDecimal=function(i){return this.flipBars(this.formatDecimal(i))},e.prototype.formatDecimal=function(i){if(i.eq(0))return"0";if(i.lessThan(1)&&i.greaterThan(0))return"/".concat(this.formatDecimal(ci.div(1,i)));for(var n=Math.LN10/Mre*i.log10(),r=Math.floor(n),a=n-r,s=Math.floor(a*64),o=[jy[s%8],jy[Math.floor(s/8)]];r>=8;){var c=r%8;r=(r-c)/8,o.push(jy[c])}return o.push(jy[r]),o.join("")},e.prototype.flipBars=function(i){for(var n=[],r=0,a=i;r<a.length;r++){var s=a[r];n.push(Rre[jy.indexOf(s)])}return n.join("")},e}(Kn),g1="世使侍勢十史嗜士始室實屍市恃拭拾施是時氏濕獅矢石視試詩誓識逝適釋食",qB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Shi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return this.shi(ci.NUMBER_MAX_VALUE)},enumerable:!1,configurable:!0}),e.prototype.formatUnder1000=function(i){return this.shi(new ci(i))},e.prototype.formatDecimal=function(i){return this.shi(i)},e.prototype.getShiCharacter=function(i){return g1[Math.floor(i)%g1.length]},e.prototype.shi=function(i){for(var n=Math.pow(i.plus(1).log10()*1e3,.08),r="",a=0;a<3;a++)r+=this.getShiCharacter(n*Math.pow(g1.length,a));return r},e}(Kn),v1,Yu=23,Pre="",Ore=(v1=Pre.codePointAt(0))!==null&&v1!==void 0?v1:65,TP="",b1="",yg=[];for(var _1=0;_1<Yu;_1++){var Nre=String.fromCharCode(Ore+_1);yg.push(Nre)}var Gre=Math.log10(3),WB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Blobs"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"".concat(TP)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"".concat(b1).concat(TP)},enumerable:!1,configurable:!0}),e.prototype.formatNegativeUnder1000=function(i){return"".concat(b1).concat(this.blobify(new ci(i-1)))},e.prototype.formatNegativeDecimal=function(i){return"".concat(b1).concat(this.blobify(i.minus(1)))},e.prototype.formatUnder1000=function(i){return this.blobify(new ci(i))},e.prototype.formatDecimal=function(i){return this.blobify(i)},e.prototype.blobify=function(i){var n=this.reduceNumber(i.abs());return n<Yu?yg[Math.floor(n)]:Math.floor(n/Yu)<Yu+1?yg[Math.floor(n/Yu)-1]+yg[Math.floor(n%Yu)]:this.blobify(ci.floor(n/Yu-1))+yg[Math.floor(n%Yu)]},e.prototype.reduceNumber=function(i){return i.lte(1e3)?i.toNumber():(Math.log10(i.log10())-Gre)/Math.log10(1.0002)+1e3},e}(Kn),jB=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"Blind"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return" "},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return" "},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(){return" "},e.prototype.formatVerySmallDecimal=function(){return" "},e.prototype.formatNegativeUnder1000=function(){return" "},e.prototype.formatUnder1000=function(){return" "},e.prototype.formatNegativeDecimal=function(){return" "},e.prototype.formatDecimal=function(){return" "},e}(Kn),CP=[new IB,new MB,new eE,new PB,new OB,new NB,new GB,new UB,new LB,new BB,new $B,new FB,new VB,new YB,new qB,new WB,new jB],Ure=function(t){On(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"ALL"},enumerable:!1,configurable:!0}),e.prototype.formatNegativeUnder1000=function(i,n){return this.formatDecimal(new ci(-i),n)},e.prototype.formatUnder1000=function(i,n){return this.formatDecimal(new ci(i),n)},e.prototype.formatNegativeDecimal=function(i,n){return this.formatDecimal(new ci(-i),n)},e.prototype.formatDecimal=function(i,n){var r=Math.floor(Math.log2(i.abs().plus(2).log2())),a=CP[r%CP.length];return a.format(i,n,n)},e}(Kn);const Lre=Object.freeze(Object.defineProperty({__proto__:null,AllNotation:Ure,BarNotation:YB,BlindNotation:jB,BlobsNotation:WB,BracketsNotation:OB,ClockNotation:FB,CustomNotation:hA,DotsNotation:UB,EmojiNotation:fre,EngineeringNotation:RB,HexNotation:BB,ImperialNotation:$B,InfinityNotation:NB,LettersNotation:MB,LogarithmNotation:PB,MixedEngineeringNotation:gre,MixedScientificNotation:mre,Notation:Kn,PrimeNotation:VB,RomanNotation:GB,ScientificNotation:IB,Settings:Es,ShiNotation:qB,StandardNotation:eE,ZalgoNotation:LB,abbreviateStandard:AB,formatMantissa:ure,formatMantissaBaseTen:Hm,formatMantissaWithExponent:Fm},Symbol.toStringTag,{value:"Module"})),Ge={firstRealityMigration:13,patches:{1:t=>{for(let e=0;e<t.autobuyers.length;e++)t.autobuyers[e]%1!==0&&(t.infinityPoints=t.infinityPoints.plus(t.autobuyers[e].cost-1));t.autobuyers=[1,2,3,4,5,6,7,8,9,10,11,12]},2:t=>{t.dimensionMultDecrease!==10&&(t.dimensionMultDecrease===9&&(t.dimensionMultDecrease=10,t.dimensionMultDecreaseCost=1e8,t.infinityPoints=t.infinityPoints.plus(1e8)),t.dimensionMultDecrease===8&&(t.dimensionMultDecrease=10,t.dimensionMultDecreaseCost=1e8,t.infinityPoints=t.infinityPoints.plus(21e8)),t.dimensionMultDecrease===7&&(t.dimensionMultDecrease=10,t.dimensionMultDecreaseCost=1e8,t.infinityPoints=t.infinityPoints.plus(421e8)))},5:t=>{t.newsArray=[]},9:t=>{const e=[];t.achievements.delete("r22")&&e.push("r35"),t.achievements.delete("r35")&&e.push("r76"),t.achievements.delete("r41")&&e.push("r22"),t.achievements.delete("r76")&&e.push("r41");for(const i of e)t.achievements.add(i);t.replicanti.intervalCost=t.replicanti.intervalCost.dividedBy(1e20)},9.5:t=>{t.timestudy.studies.includes(191)&&(t.timestudy.theorem=t.timestudy.theorem.plus(100))},10:t=>{if(t.timestudy.studies.includes(72))for(let e=4;e<8;e++)t[`infinityDimension${e}`].amount=Decimal.div(t[`infinityDimension${e}`].amount,Sacrifice.totalBoost.pow(.02))},12:t=>{const e=[null,1,5,100,1e3],i=[null,3,9,27,81];if(t.timeDimension1)for(let n=1;n<5;n++)new Decimal("1e300").lt(t[`timeDimension${n}`].cost)&&(t[`timeDimension${n}`].cost=Decimal.pow(i[n]*2.2,t[`timeDimension${n}`].bought).times(e[n]))},12.1:t=>{for(const e of t.achievements)if(e.includes("s")&&e.length<=3){t.achievements.splice(t.achievements.indexOf("r36"),1);break}},13:t=>{t.realTimePlayed=t.totalTimePlayed,t.thisReality=t.totalTimePlayed,t.thisInfinityRealTime=t.thisInfinityTime*100,t.thisEternityRealTime=t.thisEternity*100,t.thisRealityRealTime=t.thisReality*100,t.thisInfinityLastBuyTime=t.thisInfinityTime*100;for(let e=0;e<10;e++)t.lastTenEternities[e][2]=t.lastTenEternities[e][0],t.lastTenRuns[e][2]=t.lastTenRuns[e][0];t.options.newUI=!1,window.uiChoiceModalInterval=setInterval(()=>{GameUI.initialized&&(Modal.uiChoice.show(),clearInterval(window.uiChoiceModalInterval))},1e3),Ge.normalizeTimespans(t),Ge.convertAutobuyerMode(t),Ge.fixChallengeIds(t),Ge.adjustMultCosts(t),Ge.convertAchivementsToNumbers(t),Ge.adjustGameCreatedTime(t),Ge.moveSavedStudyTrees(t),Ge.convertEPMult(t),Ge.moveChallengeInfo(t),Ge.infinitiedConversion(t),Ge.adjustWhy(t),Ge.removeAchPow(t),Ge.adjustSacrificeConfirmation(t),Ge.migrateNotation(t),Ge.fixAutobuyers(t),Ge.removeAutoIPProperties(t),Ge.adjustAchievementVars(t),Ge.uniformDimensions(t),Ge.removeEternityChallGoal(t),Ge.removeTickspeed(t),Ge.removePostC3Reward(t),Ge.renameMoney(t),Ge.moveAutobuyers(t),Ge.convertEternityCountToDecimal(t),Ge.renameDimboosts(t),Ge.migrateConfirmations(t),Ge.removeOtherTickspeedProps(t),Ge.renameNewsOption(t),Ge.removeDimensionCosts(t),Ge.changeC8Handling(t),Ge.convertAchievementsToBits(t),Ge.setNoInfinitiesOrEternitiesThisReality(t),Ge.setTutorialState(t),Ge.migrateLastTenRuns(t),Ge.migrateIPGen(t),Ge.renameCloudVariable(t),Ge.standardizeUncompletedTimes(t),Ge.makeRecords(t),Ge.deleteOldRecords(t),Ge.migrateAutobuyers(t),Ge.migratePlayerVars(t),Ge.consolidateAuto(t),Ge.convertTimeTheoremPurchases(t),Ge.deleteDimboostBulk(t),Ge.deleteFloatingTextOption(t),Ge.refactorDoubleIPRebuyable(t),Ge.infMultNameConversion(t),Ge.convertNews(t),Ge.etercreqConversion(t),Ge.moveTS33(t),Ge.addBestPrestigeCurrency(t),Ge.migrateTheme(t)},14:t=>{Ge.reworkBHPulsing(t),t.reality.autoSort!==0&&t.reality.autoSort++},15:t=>{for(let e=0;e<10;e++){if(t.records.lastTenInfinities){const i=t.records.lastTenInfinities[e];t.records.recentInfinities[e]=[i[0]??Number.MAX_VALUE,Number(i[3]??Number.MAX_VALUE),new Decimal(i[1]??1),new Decimal(i[2]??1),""]}if(t.records.lastTenEternities){const i=t.records.lastTenEternities[e];t.records.recentEternities[e]=[i[0]??Number.MAX_VALUE,Number(i[3]??Number.MAX_VALUE),new Decimal(i[1]??1),new Decimal(i[2]??1),"",new Decimal(0)]}if(t.records.lastTenRealities){const i=t.records.lastTenRealities[e];t.records.recentRealities[e]=[i[0]??Number.MAX_VALUE,Number(i[3]??Number.MAX_VALUE),new Decimal(i[1]??1),i[2]??1,"",0,0]}}if(delete t.records.lastTenInfinities,delete t.records.lastTenEternities,delete t.records.lastTenRealities,delete t.options.showLastTenResourceGain,t.news.seen){let e=0;for(const i of Object.values(t.news.seen))for(const n of i)e+=countValuesFromBitmask(n);t.news.totalSeen=Math.max(t.news.totalSeen,e)}},16:t=>{t.options.perkLayout=t.options.fixedPerkStartingPos?0:1,delete t.options.fixedPerkStartingPos,t.reality.initialSeed=t.reality.seed,t.reality.initialSeed===0&&(t.reality.initialSeed=1);const e=Array.repeat(0,26);for(const i of GameDatabase.speedrunMilestones)e[i.id]=t.speedrun.records[i.key];for(t.speedrun.records=e,t.speedrun.seedSelection=SPEEDRUN_SEED_STATE.UNKNOWN,delete t.speedrun.milestones;t.reality.glyphs.sets.length<7;)t.reality.glyphs.sets.push({name:"",glyphs:[]})},17:t=>{const e=t.options.currentMultiplierSubtab??0;t.options.multiplierTab.currTab=e+(e>5?1:0),delete t.options.currentMultiplierSubtab},18:t=>{t.reality.automator.constantSortOrder=Object.keys(t.reality.automator.constants)},19:t=>{delete t.options.confirmations.resetCelestial},20:t=>{var o;const e=t.celestials.effarig;t.reality.glyphs.filter={select:(e==null?void 0:e.mode)??0,trash:(e==null?void 0:e.glyphTrashMode)??0,simple:(e==null?void 0:e.simpleEffectCount)??0};const i={},n=Object.values(GameDatabase.reality.glyphEffects);for(const c of ALCHEMY_BASIC_GLYPH_TYPES){const d=(o=e.glyphScoreSettings)==null?void 0:o.types[c],p=n.filter(m=>m.glyphTypes.includes(c)).sort((m,y)=>m.bitmaskIndex-y.bitmaskIndex);if(i[c]={rarity:(d==null?void 0:d.rarityThreshold)??0,score:(d==null?void 0:d.scoreThreshold)??0,effectCount:(d==null?void 0:d.effectCount)??0},i[c].specifiedMask=0,i[c].effectScores=[],!!d)for(const m of p)m&&(i[c].specifiedMask|=d.effectChoices[m.id]?1<<m.bitmaskIndex:0,i[c].effectScores.push(d.effectScores[m.id]))}t.reality.glyphs.filter.types=i,delete t.celestials.effarig.glyphScoreSettings,delete t.celestials.effarig.glyphTrashMode;const r=c=>{const d=[20,21,22].map(y=>1<<y).sum(),p=[20,21,22].map(y=>(c&1<<y)!==0);p.push(p.shift());let m=0;for(let y=20;y<=22;y++)p[y-20]&&(m|=1<<y);return c&~d|m},a=t.reality.glyphs.active.concat(t.reality.glyphs.inventory);for(const c of a)c.effects=r(c.effects);const s=["RMSet","RMminSet","glyphLevelSet","bestEPSet","speedSet","iMCapSet","laitelaSet"];for(const c of s){const d=t.records.bestReality[c];for(const p of d)p.effects=r(p.effects)}t.options.glyphBG=t.options.lightGlyphs?1:2,delete t.options.lightGlyphs},21:t=>{for(let e=1;e<=12;e++)t.eternityChalls[`eterc${e}`]>0&&(t.reality.unlockedEC|=1<<e);t.reality.maxRM=new Decimal(t.reality.realityMachines)},22:t=>{t.options.perkLayout>2&&(t.options.perkLayout+=3),t.options.statTabResources=t.options.showRecentRate?1:0,delete t.options.showRecentRate;for(let i=0;i<t.records.recentRealities.length;i++)t.records.recentRealities[i].push(0);t.options.themeClassic===void 0&&(t.options.themeClassic="Normal"),t.options.themeModern===void 0&&(t.options.themeModern="Normal");const e=Math.floor(Date.now()*Math.random()+1);t.reality.seed===1&&(t.reality.seed=e),t.reality.initialSeed===1&&(t.reality.initialSeed=e)},23:t=>{const e=i=>{const n=[20,21,22].map(s=>1<<s).sum(),r=[20,21,22].map(s=>(i&1<<s)!==0);r.push(r.shift());let a=0;for(let s=20;s<=22;s++)r[s-20]&&(a|=1<<s);return i&~n|a};for(const i of t.reality.glyphs.sets)for(const n of i.glyphs)n.effects=e(n.effects)},24:t=>{const e=Object.keys(t.reality.automator.constants);e.length!==t.reality.automator.constantSortOrder.length&&(t.reality.automator.constantSortOrder=[...e])},25:t=>{t.achievementBits[13]&32&&!t.reality.perks.has(107)&&t.reality.perks.add(107),t.celestials.pelle.doomed&&(t.dilation.rebuyables[3]=0)}},normalizeTimespans(t){t.realTimePlayed*=100,t.totalTimePlayed*=100,t.thisInfinityTime*=100,t.thisEternity*=100,t.thisReality*=100,t.bestInfinityTime=t.bestInfinityTime===9999999999?999999999999:t.bestInfinityTime*100,t.bestEternity=t.bestEternity===9999999999?999999999999:t.bestEternity*100;for(let e=0;e<10;e++)t.lastTenEternities[e][0]*=100,t.lastTenRuns[e][0]*=100,t.lastTenEternities[e][2]*=100,t.lastTenRuns[e][2]*=100;t.challengeTimes&&(t.challengeTimes=t.challengeTimes.map(e=>e*100)),t.infchallengeTimes&&(t.infchallengeTimes=t.infchallengeTimes.map(e=>e*100))},convertAutobuyerMode(t){for(let i=0;i<8;i++){const n=t.autobuyers[i];n%1!==0&&(n.target<10?n.target=AUTOBUYER_MODE.BUY_SINGLE:n.target=AUTOBUYER_MODE.BUY_10)}const e=t.autobuyers[8];e%1!==0&&(e.target<10?e.target=AUTOBUYER_MODE.BUY_SINGLE:e.target=AUTOBUYER_MODE.BUY_MAX)},fixChallengeIds(t){let e=!1;function i(n){if(!n.startsWith("challenge"))return n;e=!0;const r=parseInt(n.substr(9),10);return`challenge${GameDatabase.challenges.normal.find(s=>s.legacyId===r).id}`}t.currentChallenge=i(t.currentChallenge),t.challenges=t.challenges.map(i),e&&t.challengeTimes&&(t.challengeTimes=GameDatabase.challenges.normal.slice(1).map(n=>t.challengeTimes[n.legacyId-2]))},adjustMultCosts(t){t.tickSpeedMultDecreaseCost!==void 0&&(t.infinityRebuyables[0]=Math.round(Math.log(t.tickSpeedMultDecreaseCost/3e6)/Math.log(5))),t.dimensionMultDecreaseCost!==void 0&&(t.infinityRebuyables[1]=Math.round(Math.log(t.dimensionMultDecreaseCost/1e8)/Math.log(5e3))),delete t.tickSpeedMultDecrease,delete t.tickSpeedMultDecreaseCost,delete t.dimensionMultDecrease,delete t.dimensionMultDecreaseCost},convertAchivementsToNumbers(t){if(t.achievements.length>0&&t.achievements.every(i=>typeof i=="number"))return;const e=t.achievements;t.achievements=new Set,t.secretAchievements=new Set;for(const i of e){const n=GameDatabase.achievements.normal.find(a=>a.name===i);if(n!==void 0){t.achievements.add(n.id);continue}const r=parseInt(i.slice(1),10);if(isNaN(r))throw new Error(`Could not parse achievement id ${i}`);if(i.startsWith("r")){if(GameDatabase.achievements.normal.find(a=>a.id===r)===void 0)throw new Error(`Unrecognized achievement ${i}`);t.achievements.add(r)}else if(i.startsWith("s")){if(GameDatabase.achievements.secret.find(a=>a.id===r)===void 0)throw new Error(`Unrecognized secret achievement ${r}`);t.secretAchievements.add(r)}}},adjustGameCreatedTime(t){t.gameCreatedTime=t.lastUpdate-t.realTimePlayed},moveSavedStudyTrees(t){for(let e=1;e<=3;++e){const i=localStorage.getItem(`studyTree${e}`);i&&(t.timestudy.presets[e-1].studies=i)}},convertEPMult(t){if(t.epmult===void 0)return;const e=new Decimal(t.epmult);if(delete t.epmultCost,delete t.epmult,e.lte(1)){t.epmultUpgrades=0;return}t.epmultUpgrades=e.log(5)},moveChallengeInfo(t){function e(i){if(i.startsWith("challenge"))return{type:"normal",id:parseInt(i.slice(9),10)};if(i.startsWith("postc"))return{type:"infinity",id:parseInt(i.slice(5),10)};if(i!=="")throw new Error(`Unrecognized challenge ID ${i}`);return null}if(t.challengeTimes){for(let i=0;i<t.challengeTimes.length;++i)t.challenge.normal.bestTimes[i]=Math.min(t.challenge.normal.bestTimes[i],t.challengeTimes[i]);delete t.challengeTimes}if(t.infchallengeTimes){for(let i=0;i<t.infchallengeTimes.length;++i)t.challenge.infinity.bestTimes[i]=Math.min(t.challenge.infinity.bestTimes[i],t.infchallengeTimes[i]);delete t.infchallengeTimes}if(t.currentChallenge!==void 0){const i=e(t.currentChallenge);delete t.currentChallenge,i&&(t.challenge[i.type].current=i.id)}if(t.challenges){for(const i of t.challenges){const n=e(i);t.challenge[n.type].completedBits|=1<<n.id}delete t.challenges}if(t.currentEternityChall!==void 0){const i=t.currentEternityChall;if(delete t.currentEternityChall,i.startsWith("eterc"))t.challenge.eternity.current=parseInt(i.slice(5),10);else if(i!=="")throw new Error(`Unrecognized eternity challenge ${i}`)}t.eternityChallUnlocked!==void 0&&(t.challenge.eternity.unlocked=t.eternityChallUnlocked,delete t.eternityChallUnlocked),delete t.challengeTarget},adjustWhy(t){t.requirementChecks.permanent.singleTickspeed=t.why??0,delete t.why},adjustAchievementVars(t){t.requirementChecks.eternity.onlyAD1=t.dead,delete t.dead,t.requirementChecks.eternity.onlyAD8=t.dimlife,delete t.dimlife,t.requirementChecks.reality.noAM=!1,t.requirementChecks.eternity.noAD1=!1,t.requirementChecks.infinity.noAD8=!1,t.requirementChecks.eternity.noRG=t.replicanti.gal===0,(t.timestudy.theorem.gt(0)||t.timestudy.studies.length>0||t.challenge.eternity.unlocked!==0)&&(t.requirementChecks.reality.noPurchasedTT=!1),t.sacrificed.gt(0)&&(t.requirementChecks.infinity.noSacrifice=!1),t.requirementChecks.permanent.emojiGalaxies=t.spreadingCancer,delete t.spreadingCancer},removeAchPow(t){delete t.achPow},adjustSacrificeConfirmation(t){t.options.sacrificeConfirmation!==void 0&&(t.options.confirmations.sacrifice=t.options.sacrificeConfirmation,delete t.options.sacrificeConfirmation)},migrateNotation(t){const e=t.options.notation;e===void 0&&(t.options.notation="Standard");const i={Mixed:"Mixed scientific",Default:"Brackets",Emojis:"Cancer"};i[e]!==void 0&&(t.options.notation=i[e])},fixAutobuyers(t){for(let e=0;e<12;e++)t.autobuyers[e]%1!==0&&t.autobuyers[e].target%1!==0&&(t.autobuyers[e].target=AUTOBUYER_MODE.BUY_SINGLE),t.autobuyers[e]%1!==0&&(t.autobuyers[e].bulk===void 0||isNaN(t.autobuyers[e].bulk)||t.autobuyers[e].bulk===null)&&(t.autobuyers[e].bulk=1);typeof t.autobuyers[9]!="number"&&typeof t.autobuyers[9].bulk!="number"&&(t.autobuyers[9].bulk=1),t.autobuyers[11]%1!==0&&t.autobuyers[11].priority!==void 0&&t.autobuyers[11].priority!==null&&t.autobuyers[11].priority!=="undefined"&&(t.autobuyers[11].priority=new Decimal(t.autobuyers[11].priority))},removeAutoIPProperties(t){delete t.autoIP,delete t.autoTime},removeEternityChallGoal(t){delete t.eternityChallGoal},removeTickspeed(t){delete t.tickspeed,t.tickSpeedCost=new Decimal(1e3),t.tickspeedMultiplier=new Decimal(10)},removeOtherTickspeedProps(t){delete t.tickSpeedCost,delete t.tickspeedMultiplier},renameNewsOption(t){t.options.news.enabled=!t.options.newsHidden,delete t.options.newsHidden},removeDimensionCosts(t){for(const e of t.dimensions.antimatter)delete e.cost,delete e.costMultiplier},renameTickspeedPurchaseBumps(t){t.chall9TickspeedPurchaseBumps!==void 0&&(t.chall9TickspeedCostBumps=t.chall9TickspeedPurchaseBumps,delete t.chall9TickspeedPurchaseBumps)},removePostC3Reward(t){delete t.postC3Reward},renameMoney(t){t.antimatter=new Decimal(t.money),t.totalAntimatter=new Decimal(t.totalmoney),delete t.money,delete t.totalmoney},uniformDimensions(t){for(let e=1;e<=8;e++){const i=[null,"first","second","third","fourth","fifth","sixth","seventh","eight"][e],n={cost:`${i}Cost`,amount:`${i}Amount`,bought:`${i}Bought`,pow:`${i}Pow`},r=t.dimensions.antimatter[e-1];r.cost=new Decimal(t[n.cost]),r.amount=new Decimal(t[n.amount]),r.bought=t[n.bought],t.costmultipliers&&(r.costMultiplier=new Decimal(t.costMultipliers[e-1])),delete t[n.cost],delete t[n.amount],delete t[n.bought],delete t[n.pow]}if(delete t.costMultipliers,t.infinityDimension1){for(let e=1;e<=8;e++){const i=t.dimensions.infinity[e-1],n=`infinityDimension${e}`,r=t[n];i.cost=new Decimal(r.cost),i.amount=new Decimal(r.amount),i.bought=r.bought,i.baseAmount=r.baseAmount,i.isUnlocked=t.infDimensionsUnlocked[e-1],delete t[n]}delete t.infDimensionsUnlocked}if(t.timeDimension1)for(let e=1;e<=8;e++){const i=t.dimensions.time[e-1],n=`timeDimension${e}`,r=t[n];r!==void 0&&(i.cost=new Decimal(r.cost),i.amount=new Decimal(r.amount),i.bought=r.bought,delete t[n])}},moveAutobuyers(t){t.autobuyers[11]%1!==0&&t.autobuyers[11].priority!==void 0&&t.autobuyers[11].priority!==null&&t.autobuyers[11].priority!=="undefined"&&(t.autobuyers[11].priority=new Decimal(t.autobuyers[11].priority));for(let e=0;e<8;e++){const i=t.autobuyers[e];if(i%1===0)continue;const n=t.auto.antimatterDims.all[e];n.cost=i.cost,n.interval=i.interval,n.bulk=i.bulk,n.mode=i.target,n.priority=i.priority,n.isActive=i.isOn,n.lastTick=t.realTimePlayed}if(t.autobuyers[8]%1!==0){const e=t.autobuyers[8],i=t.auto.tickspeed;i.cost=e.cost,i.interval=e.interval,i.mode=e.target,i.priority=e.priority,i.isActive=e.isOn,i.lastTick=t.realTimePlayed}if(t.autobuyers[9]%1!==0){const e=t.autobuyers[9],i=t.auto.dimBoost;i.cost=e.cost,i.interval=e.interval,i.maxDimBoosts=e.priority,i.galaxies=t.overXGalaxies,i.bulk=e.bulk,i.buyMaxInterval=e.bulk,i.isActive=e.isOn,i.lastTick=t.realTimePlayed}if(delete t.overXGalaxies,t.autobuyers[10]%1!==0){const e=t.autobuyers[10],i=t.auto.galaxy;i.cost=e.cost,i.interval=e.interval,i.maxGalaxies=e.priority,i.buyMaxInterval=e.bulk,i.buyMax=e.bulk>0,i.isActive=e.isOn,i.lastTick=t.realTimePlayed}if(t.autobuyers[11]%1!==0){const e=t.autobuyers[11],i=t.auto.bigCrunch;i.cost=e.cost,i.interval=e.interval,i.mode=["amount","time","relative"].indexOf(t.autoCrunchMode);const n=new Decimal(e.priority);switch(t.autoCrunchMode){case"amount":i.amount=n;break;case"time":i.time=n.lt(Decimal.NUMBER_MAX_VALUE)?n.toNumber():i.time;break;case"relative":i.xHighest=n;break}i.isActive=e.isOn,i.lastTick=t.realTimePlayed}if(delete t.autoCrunchMode,delete t.autobuyers,t.autoSacrifice&&t.autoSacrifice%1!==0){const e=t.autoSacrifice,i=t.auto.sacrifice;i.multiplier=new Decimal(e.priority),i.isActive=e.isOn}if(delete t.autoSacrifice,t.eternityBuyer!==void 0){const e=t.eternityBuyer,i=t.auto.eternity;t.autoEternityMode===void 0&&(i.time=Number(e.limit)),i.isActive=e.isOn}delete t.eternityBuyer},convertNews(t){t.newsArray===void 0?t.newsArray=[]:t.newsArray=t.newsArray.map(n=>typeof n=="number"?`a${n}`:n);const e=new Set(t.newsArray);t.news={},t.news.seen={},t.news.specialTickerData={uselessNewsClicks:0,paperclips:0,newsQueuePosition:1e3,eiffelTowerChapter:0};const i=NewsHandler.BITS_PER_MASK;for(const n of e){const r=n.match(/([a-z]+)(\d+)/u),a=r[1],s=parseInt(r[2],10);for(t.news.seen[a]||(t.news.seen[a]=[]);i*t.news.seen[a].length<s;)t.news.seen[a].push(0);t.news.seen[a][Math.floor(s/i)]|=1<<s%i}t.news.totalSeen=NewsHandler.uniqueTickersSeen,delete t.newsArray},convertEternityCountToDecimal(t){t.eternities=new Decimal(t.eternities),t.reality.partEternitied=new Decimal(t.reality.partEternitied)},renameDimboosts(t){t.dimensionBoosts=t.resets,delete t.resets},migrateConfirmations(t){t.options.confirmations.challenges=!t.options.challConf,delete t.options.challConf,t.options.confirmations.eternity=t.options.eternityconfirm,delete t.options.eternityconfirm,delete t.tickDecrease},changeC8Handling(t){t.chall8TotalSacrifice=Decimal.pow(t.chall11Pow,2),delete t.chall11Pow},convertAchievementsToBits(t){const e={"4,3":"6,4","6,4":"7,7","7,7":"4,3","10,1":"11,7","11,7":"10,1","11,3":"12,4","12,4":"11,3"},i=(n,r,a)=>{for(const s of r){let o=Math.floor(s/10),c=s%10;!a&&[o,c].join(",")in e&&([o,c]=e[[o,c].join(",")].split(",")),n[o-1]|=1<<c-1}!a&&(t.infinityUpgrades.size>=16||t.eternities.gt(0)||t.realities>0)?n[3]|=1:n[3]&=-2,a&&(n[2]&=-129)};t.achievementBits=Array.repeat(0,15),i(t.achievementBits,t.achievements,!1),delete t.achievements,t.secretAchievementBits=Array.repeat(0,4),i(t.secretAchievementBits,t.secretAchievements,!0),delete t.secretAchievements},setNoInfinitiesOrEternitiesThisReality(t){t.requirementChecks.reality.noInfinities=t.infinities.eq(0)&&t.eternities.eq(0),t.requirementChecks.reality.noEternities=t.eternities.eq(0)},setTutorialState(t){t.infinities.gt(0)||t.eternities.gt(0)||t.realities>0||t.galaxies>0?t.tutorialState=4:t.dimensionBoosts>0&&(t.tutorialState=TUTORIAL_STATE.GALAXY)},migrateLastTenRuns(t){t.lastTenRuns=t.lastTenRuns.map(e=>[e[0],e[1],new Decimal(e[3]),new Decimal(e[2]).toNumber()]),t.lastTenEternities=t.lastTenEternities.map(e=>[e[0],e[1],new Decimal(1),new Decimal(e[2]).toNumber()])},migrateIPGen(t){t.infinityRebuyables[2]=t.offlineProd/5,delete t.offlineProd,delete t.offlineProdCost},renameCloudVariable(t){t.options.cloudEnabled=t.options.cloud,delete t.options.cloud},standardizeUncompletedTimes(t){t.bestInfinityTime===999999999999&&(t.bestInfinityTime=Number.MAX_VALUE),t.bestInfinityRealTime===999999999999&&(t.bestInfinityRealTime=Number.MAX_VALUE),t.bestEternity===999999999999&&(t.bestEternity=Number.MAX_VALUE);for(let e=0;e<t.challenge.normal.bestTimes.length;e++)t.challenge.normal.bestTimes[e]===26784e5&&(t.challenge.normal.bestTimes[e]=Number.MAX_VALUE);for(let e=0;e<t.challenge.infinity.bestTimes.length;e++)t.challenge.infinity.bestTimes[e]===26784e5&&(t.challenge.infinity.bestTimes[e]=Number.MAX_VALUE);for(let e=0;e<10;e++)t.lastTenRuns[e][0]===26784e5&&(t.lastTenRuns[e][0]=Number.MAX_VALUE),t.lastTenRuns[e][3]===26784e3&&(t.lastTenRuns[e][3]=Number.MAX_VALUE),t.lastTenEternities[e][0]===26784e5&&(t.lastTenEternities[e][0]=Number.MAX_VALUE),t.lastTenEternities[e][3]===26784e3&&(t.lastTenEternities[e][3]=Number.MAX_VALUE)},makeRecords(t){t.records.gameCreatedTime=t.gameCreatedTime,t.records.totalTimePlayed=t.totalTimePlayed,t.records.realTimePlayed=t.realTimePlayed,t.records.totalAntimatter=new Decimal(t.totalAntimatter),t.records.lastTenInfinities=t.lastTenRuns,t.records.lastTenEternities=t.lastTenEternities;for(let e=0;e<10;e++)t.records.lastTenInfinities[e][1]=new Decimal(t.lastTenRuns[e][1]),t.records.lastTenEternities[e][1]=new Decimal(t.lastTenEternities[e][1]);t.records.thisInfinity.time=t.thisInfinityTime,t.records.thisInfinity.realTime=t.thisInfinityTime,t.records.bestInfinity.time=t.bestInfinityTime,t.records.thisEternity.time=t.thisEternity,t.records.thisEternity.realTime=t.thisEternity,t.records.bestEternity.time=t.bestEternity,t.records.thisReality.time=t.thisReality,t.records.thisReality.realTime=t.thisReality},deleteOldRecords(t){delete t.gameCreatedTime,delete t.totalTimePlayed,delete t.realTimePlayed,delete t.totalAntimatter,delete t.lastTenRuns,delete t.lastTenEternities,delete t.thisInfinityTime,delete t.bestInfinityTime,delete t.thisEternity,delete t.bestEternity,delete t.thisReality},migrateAutobuyers(t){t.auto.autobuyerOn=t.options.autobuyerOn,delete t.options.bulkOn,delete t.options.autobuyerOn},migratePlayerVars(t){t.replicanti.boughtGalaxyCap=t.replicanti.gal,t.dilation.totalTachyonGalaxies=t.dilation.freeGalaxies,delete t.replicanti.gal,delete t.dilation.freeGalaxies},consolidateAuto(t){for(let e=0;e<8;e++)t.auto.infinityDims.all[e].isActive=t.infDimBuyers[e];for(let e=0;e<3;e++)t.auto.replicantiUpgrades.all[e].isActive=t.replicanti.auto[e];t.auto.replicantiGalaxies.isActive=t.replicanti.galaxybuyer,t.auto.ipMultBuyer.isActive=t.infMultBuyer,delete t.infDimBuyers,delete t.auto.infDimTimer,delete t.replicanti.galaxybuyer,delete t.replicanti.auto,delete t.auto.repUpgradeTimer,delete t.infMultBuyer},convertTimeTheoremPurchases(t){t.timestudy.amBought=new Decimal(t.timestudy.amcost).exponent/2e4-1,t.timestudy.ipBought=new Decimal(t.timestudy.ipcost).exponent/100,t.timestudy.epBought=Math.round(new Decimal(t.timestudy.epcost).log2()),delete t.timestudy.amcost,delete t.timestudy.ipcost,delete t.timestudy.epcost},infinitiedConversion(t){t.infinities=new Decimal(t.infinitied),t.infinitiesBanked=new Decimal(t.infinitiedBank),delete t.infinitied,delete t.infinitiedBank},deleteDimboostBulk(t){delete t.auto.dimBoost.bulk,t.infinityUpgrades.delete("bulkBoost")&&t.infinityUpgrades.add("autobuyMaxDimboosts")},removePriority(t){const e=t.auto.antimatterDims.all??t.auto.antimatterDims;for(let i=0;i<8;i++)delete e[i].priority;delete t.auto.tickspeed.priority},deleteFloatingTextOption(t){delete t.options.animations.floatingText},refactorDoubleIPRebuyable(t){const e=new Decimal(t.infMult).log2();delete t.infMult,t.infMult=Math.round(e),delete t.infMultCost},deletePostChallUnlocked(t){delete t.postChallUnlocked},infMultNameConversion(t){t.IPMultPurchases=t.infMult,delete t.infMult},etercreqConversion(t){t.etercreq&&(t.challenge.eternity.requirementBits|=1<<t.etercreq),delete t.etercreq},moveTS33(t){t.timestudy.studies.includes(33)&&!t.timestudy.studies.includes(22)&&(t.timestudy.studies.splice(t.timestudy.studies.indexOf(33),1),t.timestudy.theorem=new Decimal(t.timestudy.theorem).plus(2))},addBestPrestigeCurrency(t){t.records.thisReality.maxEP=t.eternityPoints,t.records.bestReality.bestEP=t.eternityPoints,t.records.thisEternity.maxIP=t.infinityPoints,t.records.thisReality.maxIP=t.infinityPoints},migrateTheme(t){t.options.themeClassic=t.options.theme===void 0?"Normal":t.options.theme,delete t.options.themes,delete t.options.secretThemeKey},reworkBHPulsing(t){delete t.celestials.enslaved.storedFraction},prePatch(t){t.totalAntimatter=t.totalAntimatter||t.totalmoney||t.money,t.thisEternity=t.thisEternity||t.totalTimePlayed,t.version=t.version||0},patch(t,e){this.prePatch(t);const i=Lf([Player.defaultStart,t]),n=Object.keys(this.patches).map(parseFloat).sort();let r;for(;(r=n.find(a=>i.version<a&&a<e))!==void 0;){const a=this.patches[r];a(i),i.version=r}return i},patchPreReality(t){return this.patch(t,this.firstRealityMigration)},patchPostReality(t){return this.patch(t,Object.keys(Ge.patches).map(e=>Number(e)).max()+1)}};function kP(t){let e=0;for(const i of t)e|=1<<i;return e}Ge.convertAutobuyerMode,Ge.fixChallengeIds,Ge.adjustMultCosts,Ge.convertAchivementsToNumbers,Ge.adjustGameCreatedTime,Ge.moveSavedStudyTrees,Ge.convertEPMult,Ge.moveChallengeInfo,Ge.adjustWhy,Ge.adjustThemes,Ge.removeAchPow,Ge.adjustSacrificeConfirmation,Ge.migrateNotation,Ge.fixAutobuyers,Ge.removeAutoIPProperties,Ge.uniformDimensions,Ge.removeEternityChallGoal,Ge.renameMoney,Ge.convertNews,Ge.convertEternityCountToDecimal,Ge.renameDimboosts,Ge.migrateConfirmations,Ge.removeOtherTickspeedProps,Ge.renameNewsOption,Ge.removeDimensionCosts,Ge.renameTickspeedPurchaseBumps,Ge.changeC8Handling,Ge.convertAchievementsToBits,Ge.convertTimeTheoremPurchases,Ge.infinitiedConversion,Ge.deleteDimboostBulk,Ge.removePriority,Ge.deleteFloatingTextOption,Ge.refactorDoubleIPRebuyable,Ge.deletePostChallUnlocked,Ge.infMultNameConversion,Ge.etercreqConversion,Ge.moveTS33;const Ya={ONLINE:0,OFFLINE:1,RESERVE:2},Oh=[{id:1,type:Ya.ONLINE,intervalStr:()=>`${formatInt(1)} minute`,interval:60},{id:2,type:Ya.ONLINE,intervalStr:()=>`${formatInt(5)} minutes`,interval:5*60},{id:3,type:Ya.ONLINE,intervalStr:()=>`${formatInt(20)} minutes`,interval:20*60},{id:4,type:Ya.ONLINE,intervalStr:()=>`${formatInt(1)} hour`,interval:3600},{id:5,type:Ya.OFFLINE,intervalStr:()=>`${formatInt(10)} minutes`,interval:10*60},{id:6,type:Ya.OFFLINE,intervalStr:()=>`${formatInt(1)} hour`,interval:3600},{id:7,type:Ya.OFFLINE,intervalStr:()=>`${formatInt(5)} hours`,interval:5*3600},{id:8,type:Ya.RESERVE}],c0={currentSlot:0,saves:{0:void 0,1:void 0,2:void 0},saved:0,lastSaveTime:Date.now(),lastCloudSave:Date.now(),offlineEnabled:void 0,offlineTicks:void 0,lastUpdateOnLoad:0,lastBackupTimes:[],oldBackupTimer:0,ignoreBackupTimer:!0,maxOfflineTicks(t,e=this.offlineTicks){const i=Math.clampMax(Math.floor(t/33),1e6);return Math.clampMax(e,i)},get localStorageKey(){return"dimensionSave"},backupDataKey(t,e){return`backupSave-${t}-${e}`},backupTimeKey(t){return`backupTimes-${t}`},load(){const t=localStorage.getItem(this.localStorageKey),e=GameSaveSerializer.deserialize(t);this.loadRoot(e),Achievements.updateSteamStatus()},loadRoot(t){if(t===void 0){this.currentSlot=0,this.loadPlayerObject(Player.defaultStart);return}if(t.saves===void 0){this.saves={0:t,1:void 0,2:void 0},this.currentSlot=0,this.loadPlayerObject(t),this.loadBackupTimes(),this.backupOfflineSlots(),this.save(!0);return}this.saves=t.saves,this.currentSlot=t.current,this.loadPlayerObject(this.saves[this.currentSlot]),this.loadBackupTimes(),this.backupOfflineSlots()},loadSlot(t){this.currentSlot=t,this.save(!0),this.loadPlayerObject(this.saves[t]??Player.defaultStart),this.loadBackupTimes(),this.backupOfflineSlots(),Tabs.all.find(e=>e.id===player.options.lastOpenTab).show(!1),Modal.hideAll(),Cloud.resetTempState(),GameUI.notify.info("Game loaded"),Achievements.updateSteamStatus()},import(t){var i;if(tryImportSecret(t)||Theme.tryUnlock(t))return;const e=GameSaveSerializer.deserialize(t);if(this.checkPlayerObject(e)!==""){Modal.message.show("Could not load the save (format unrecognized or invalid).");return}this.oldBackupTimer=player.backupTimer,Modal.hideAll(),Quote.clearAll(),AutomatorBackend.clearEditor(),this.loadPlayerObject(e),GlyphAppearanceHandler.clearInvalidCosmetics(),(i=player.speedrun)!=null&&i.isActive&&Speedrun.setSegmented(!0),this.save(!0),Cloud.resetTempState(),this.resetBackupTimer(),Tab.options.subtabs[0].show(),GameUI.notify.info("Game imported"),Achievements.updateSteamStatus()},importAsFile(){if(GameEnd.creditsEverClosed)return;const e=new FileReader().readAsText(file);this.import(e)},overwriteSlot(t,e){this.saves[t]=e,t===this.currentSlot&&this.loadPlayerObject(e),this.save(!0)},checkPlayerObject(t){if(t==null)return"Save decoding failed (invalid format)";if(t.money===void 0&&t.antimatter===void 0)return"Save does not have antimatter property";const e=[];function i(n,r){let a=!1;for(const s in n){const o=n[s];let c;switch(typeof o){case"object":c=i(o,`${r}.${s}`),a=a||c;break;case"number":c=Number.isNaN(o),a=a||c,c&&e.push(`${r}.${s}`);break;case"string":c=o==="NaN",a=a||c,c&&e.push(`${r}.${s}`);break}}return a}return i(t,"player"),e.length===0?"":`${quantify("NaN player property",e.length)} found:
      ${e.join(", ")}`},canSave(t=!1){const e=GlyphSelection.active,i=ui.$viewModel.modal.progressBar!==void 0&&!t;return!(GameEnd.endState>=END_STATE_MARKERS.SAVE_DISABLED&&!GameEnd.removeAdditionalEnd||GameEnd.endState>=END_STATE_MARKERS.INTERACTIVITY_DISABLED)&&!(e||i)},save(t=!0,e=!1){if(!this.canSave())return;this.lastSaveTime=Date.now(),GameIntervals.save.restart(),e&&++this.saved>99&&SecretAchievement(12).unlock();const i={current:this.currentSlot,saves:this.saves};localStorage.setItem(this.localStorageKey,GameSaveSerializer.serialize(i)),t||GameUI.notify.info("Game saved")},saveToBackup(t,e){this.canSave(!0)&&(localStorage.setItem(this.backupDataKey(this.currentSlot,t),GameSaveSerializer.serialize(player)),this.lastBackupTimes[t]={backupTimer:e,date:Date.now()},localStorage.setItem(this.backupTimeKey(this.currentSlot),GameSaveSerializer.serialize(this.lastBackupTimes)))},loadFromBackup(t){const e=localStorage.getItem(this.backupDataKey(this.currentSlot,t));return GameSaveSerializer.deserialize(e)},backupOfflineSlots(){const e=Date.now()-this.lastUpdateOnLoad,i=Oh.filter(n=>n.type===Ya.OFFLINE).sort((n,r)=>r.interval-n.interval);for(const n of i)if(e>1e3*n.interval){this.saveToBackup(n.id,player.backupTimer);break}},backupOnlineSlots(t){const e=player.backupTimer;for(const i of t)this.saveToBackup(i,e)},loadBackupTimes(){this.lastBackupTimes=GameSaveSerializer.deserialize(localStorage.getItem(this.backupTimeKey(this.currentSlot))),this.lastBackupTimes||(this.lastBackupTimes={});for(const t of Oh){const e=t.id;this.lastBackupTimes[e]||(this.lastBackupTimes[e]={backupTimer:0,date:0})}},tryOnlineBackups(){var e;const t=[];for(const i of Oh.filter(n=>n.type===Ya.ONLINE)){const n=i.id,r=player.backupTimer-(((e=this.lastBackupTimes[n])==null?void 0:e.backupTimer)??0);1e3*i.interval-r<=800&&t.push(n)}this.backupOnlineSlots(t)},resetBackupTimer(){const t=Object.values(this.lastBackupTimes).map(e=>e&&e.backupTimer).max();player.backupTimer=Math.max(this.oldBackupTimer,player.backupTimer,t)},saveToReserveSlot(){const t=Oh.find(e=>e.type===Ya.RESERVE).id;this.saveToBackup(t,player.backupTimer)},export(){copyToClipboard(this.exportModifiedSave()),GameUI.notify.info("Exported current savefile to your clipboard")},get exportDateString(){const t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return`${e}-${i}-${n}`},exportAsFile(){if(!this.canSave())return;player.options.exportedFileCount++,this.save(!0);const t=player.options.saveFileName?` - ${player.options.saveFileName},`:"",e=this.exportModifiedSave();SP(`AD Save, Slot ${c0.currentSlot+1}${t} #${player.options.exportedFileCount} (${this.exportDateString}).txt`,e),GameUI.notify.info("Successfully downloaded current save file to your computer")},exportBackupsAsFile(){player.options.exportedFileCount++;const t={};for(const e of Oh.map(i=>i.id)){const i=this.loadFromBackup(e);i&&(t[e]=i)}t.time=GameSaveSerializer.deserialize(localStorage.getItem(this.backupTimeKey(this.currentSlot))),SP(`AD Save Backups, Slot ${c0.currentSlot+1} #${player.options.exportedFileCount} (${this.exportDateString}).txt`,GameSaveSerializer.serialize(t)),GameUI.notify.info("Successfully downloaded save file backups to your computer")},importBackupsFromFile(t){const e=GameSaveSerializer.deserialize(t);localStorage.setItem(this.backupTimeKey(this.currentSlot),GameSaveSerializer.serialize(e.time));for(const i of Object.keys(e)){if(i==="time")continue;const n=Number(i),r=this.backupDataKey(this.currentSlot,n);localStorage.setItem(r,GameSaveSerializer.serialize(e[i])),this.backupTimeData[n]={backupTimer:e.time[n].backupTimer,date:e.time[n].date}}this.resetBackupTimer(),GameUI.notify.info("Successfully imported save file backups from file")},exportModifiedSave(){const t=player.speedrun.isSegmented;Speedrun.setSegmented(!0);const e=GameSaveSerializer.serialize(player);return Speedrun.setSegmented(t),e},hardReset(){this.loadPlayerObject(Player.defaultStart),this.save(!0),Tab.dimensions.antimatter.show(),Cloud.resetTempState()},loadPlayerObject(t){this.saved=0;const e=this.checkPlayerObject(t);if(t===Player.defaultStart||e!=="")player=Lf([{},Player.defaultStart]),player.records.gameCreatedTime=Date.now(),player.lastUpdate=Date.now();else{const r=t.version<Ge.firstRealityMigration;player=Ge.patchPreReality(t),r&&EventHub.dispatch(GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION),player=Ge.patchPostReality(player)}this.saves[this.currentSlot]=player,this.lastUpdateOnLoad=player.lastUpdate,ui.view.news=player.options.news.enabled,ui.view.newUI=player.options.newUI,ui.view.tutorialState=player.tutorialState,ui.view.tutorialActive=player.tutorialActive,ECTimeStudyState.invalidateCachedRequirements(),recalculateAllGlyphs(),checkPerkValidity(),V.updateTotalRunUnlocks(),Enslaved.boostReality=!1,GameEnd.additionalEnd=0,Theme.set(Theme.currentName()),Glyphs.unseen=[],Glyphs.unequipped=[],Notations.find(player.options.notation).setAsCurrent(!0),Es.exponentCommas.min=10**player.options.notationDigits.comma,Es.exponentCommas.max=10**player.options.notationDigits.notation,EventHub.dispatch(GAME_EVENT.GAME_LOAD),AutomatorBackend.initializeFromSave(),Lazy.invalidateAll();const i=Date.now()-player.lastUpdate;if((this.offlineEnabled??player.options.offlineProgress)&&!Speedrun.isPausedAtStart()){let r=i;player.speedrun.offlineTimeUsed+=r,r>5*60*1e3&&player.celestials.enslaved.autoStoreReal&&(r=Enslaved.autoStoreRealTime(r)),r>1e4?simulateTime(r/1e3,!1,r<50*1e3):this.postLoadStuff()}else Speedrun.isPausedAtStart()||Achievement(35).tryUnlock(),player.lastUpdate=Date.now(),this.postLoadStuff();i>1e3*86400*14&&(["S4","S9"].includes(Theme.current().name)&&Theme.set("Normal"),setTimeout(()=>{Notations.current.isPainful&&Notation.mixedScientific.setAsCurrent()},2500),setTimeout(()=>Modal.catchup.show(i),5e3))},postLoadStuff(){GameIntervals.restart(),c0.ignoreBackupTimer=!1,Enslaved.nextTickDiff=player.options.updateRate,player.celestials.enslaved.storedReal>24*60*60*1e3&&SecretAchievement(46).unlock(),GameUI.update();for(const t of AlchemyResources.all)t.before=t.amount}};function SP(t,e){const i=document.createElement("a");if(i.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(e)}`),i.setAttribute("download",t),document.createEvent){const n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),i.dispatchEvent(n)}else i.click()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=function(t,e){if(!t)throw Vm(e)},Vm=function(t){return new Error("Firebase Database ("+zB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},Bre=function(t){const e=[];let i=0,n=0;for(;i<t.length;){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[i++];e[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[i++],s=t[i++],o=t[i++],c=((r&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[i++],s=t[i++];e[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return e.join("")},pA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const a=t[r],s=r+1<t.length,o=s?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,p=a>>2,m=(a&3)<<4|o>>4;let y=(o&15)<<2|d>>6,_=d&63;c||(_=64,s||(y=64)),n.push(i[p],i[m],i[y],i[_])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const a=i[t.charAt(r++)],o=r<t.length?i[t.charAt(r)]:0;++r;const d=r<t.length?i[t.charAt(r)]:64;++r;const m=r<t.length?i[t.charAt(r)]:64;if(++r,a==null||o==null||d==null||m==null)throw Error();const y=a<<2|o>>4;if(n.push(y),d!==64){const _=o<<4&240|d>>2;if(n.push(_),m!==64){const w=d<<6&192|m;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$re=function(t){const e=XB(t);return pA.encodeByteArray(e,!0)},nk=function(t){try{return pA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fre(t){return KB(void 0,t)}function KB(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!Hre(i)||(t[i]=KB(t[i],e[i]));return t}function Hre(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ca())}function Vre(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yre(){const t=Ca();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QB(){return zB.NODE_ADMIN===!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qre="FirebaseError";class Ym extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=qre,Object.setPrototypeOf(this,Ym.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eb.prototype.create)}}class eb{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},r=`${this.service}/${e}`,a=this.errors[e],s=a?Wre(a,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new Ym(r,o,n)}}function Wre(t,e){return t.replace(jre,(i,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const jre=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return JSON.parse(t)}function Br(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=function(t){let e={},i={},n={},r="";try{const a=t.split(".");e=pv(nk(a[0])||""),i=pv(nk(a[1])||""),r=a[2],n=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:n,signature:r}},zre=function(t){const e=JB(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Xre=function(t){const e=JB(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ym(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function z0(t,e,i){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e.call(i,t[r],r,t));return n}function e$(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const a=t[r],s=e[r];if(AP(a)&&AP(s)){if(!e$(a,s))return!1}else if(a!==s)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function AP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){const e=[];for(const[i,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function gg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,a]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function vg(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const n=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)n[m]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let m=0;m<16;m++)n[m]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let m=16;m<80;m++){const y=n[m-3]^n[m-8]^n[m-14]^n[m-16];n[m]=(y<<1|y>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],s=this.chain_[2],o=this.chain_[3],c=this.chain_[4],d,p;for(let m=0;m<80;m++){m<40?m<20?(d=o^a&(s^o),p=1518500249):(d=a^s^o,p=1859775393):m<60?(d=a&s|o&(a|s),p=2400959708):(d=a^s^o,p=3395469782);const y=(r<<5|r>>>27)+d+c+p+n[m]&4294967295;c=o,o=s,s=(a<<30|a>>>2)&4294967295,a=r,r=y}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const n=i-this.blockSize;let r=0;const a=this.buf_;let s=this.inbuf_;for(;r<i;){if(s===0)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<i;)if(a[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(a),s=0;break}}else for(;r<i;)if(a[s]=e[r],++s,++r,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=i&255,i/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)e[n]=this.chain_[r]>>a&255,++n;return e}}function Zre(t,e){const i=new Qre(t,e);return i.subscribe.bind(i)}class Qre{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,n){let r;if(e===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");Jre(e,["next","error","complete"])?r=e:r={next:e,error:i,complete:n},r.next===void 0&&(r.next=w1),r.error===void 0&&(r.error=w1),r.complete===void 0&&(r.complete=w1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jre(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function w1(){}function gA(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319){const a=r-55296;n++,it(n<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(n)-56320;r=65536+(a<<10)+s}r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):r<65536?(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},tE=function(t){let e=0;for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return t&&t._delegate?t._delegate:t}class mv{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qi||(Qi={}));const tae={debug:Qi.DEBUG,verbose:Qi.VERBOSE,info:Qi.INFO,warn:Qi.WARN,error:Qi.ERROR,silent:Qi.SILENT},iae=Qi.INFO,nae={[Qi.DEBUG]:"log",[Qi.VERBOSE]:"log",[Qi.INFO]:"info",[Qi.WARN]:"warn",[Qi.ERROR]:"error"},rae=(t,e,...i)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=nae[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vA{constructor(e){this.name=e,this._logLevel=iae,this._logHandler=rae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qi.DEBUG,...e),this._logHandler(this,Qi.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qi.VERBOSE,...e),this._logHandler(this,Qi.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qi.INFO,...e),this._logHandler(this,Qi.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qi.WARN,...e),this._logHandler(this,Qi.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qi.ERROR,...e),this._logHandler(this,Qi.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sae(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function sae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ak="@firebase/app",xP="0.7.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new vA("@firebase/app"),oae="@firebase/app-compat",lae="@firebase/analytics-compat",cae="@firebase/analytics",uae="@firebase/app-check-compat",dae="@firebase/app-check",hae="@firebase/auth",fae="@firebase/auth-compat",pae="@firebase/database",mae="@firebase/database-compat",yae="@firebase/functions",gae="@firebase/functions-compat",vae="@firebase/installations",bae="@firebase/installations-compat",_ae="@firebase/messaging",wae="@firebase/messaging-compat",Eae="@firebase/performance",Tae="@firebase/performance-compat",Cae="@firebase/remote-config",kae="@firebase/remote-config-compat",Sae="@firebase/storage",Aae="@firebase/storage-compat",xae="@firebase/firestore",Dae="@firebase/firestore-compat",Iae="firebase",Rae="9.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae="[DEFAULT]",Pae={[ak]:"fire-core",[oae]:"fire-core-compat",[cae]:"fire-analytics",[lae]:"fire-analytics-compat",[dae]:"fire-app-check",[uae]:"fire-app-check-compat",[hae]:"fire-auth",[fae]:"fire-auth-compat",[pae]:"fire-rtdb",[mae]:"fire-rtdb-compat",[yae]:"fire-fn",[gae]:"fire-fn-compat",[vae]:"fire-iid",[bae]:"fire-iid-compat",[_ae]:"fire-fcm",[wae]:"fire-fcm-compat",[Eae]:"fire-perf",[Tae]:"fire-perf-compat",[Cae]:"fire-rc",[kae]:"fire-rc-compat",[Sae]:"fire-gcs",[Aae]:"fire-gcs-compat",[xae]:"fire-fst",[Dae]:"fire-fst-compat","fire-js":"fire-js",[Iae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=new Map,DP=new Map;function Oae(t,e){try{t.container.addComponent(e)}catch(i){bA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function yv(t){const e=t.name;if(DP.has(e))return bA.debug(`There were multiple attempts to register component ${e}.`),!1;DP.set(e,t);for(const i of t$.values())Oae(i,t);return!0}function i$(t,e){return t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nae={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."},Gae=new eb("app","Firebase",Nae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=Rae;function Uae(t=Mae){const e=t$.get(t);if(!e)throw Gae.create("no-app",{appName:t});return e}function wd(t,e,i){var n;let r=(n=Pae[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${r}" with version "${e}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bA.warn(o.join(" "));return}yv(new mv(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(t){yv(new mv("platform-logger",e=>new aae(e),"PRIVATE")),wd(ak,xP,t),wd(ak,xP,"esm2017"),wd("fire-js","")}Lae("");function n$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bae=n$,r$=new eb("auth","Firebase",n$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new vA("@firebase/auth");function u0(t,...e){IP.logLevel<=Qi.ERROR&&IP.error(`Auth (${tb}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,...e){throw _A(t,...e)}function nc(t,...e){return _A(t,...e)}function a$(t,e,i){const n=Object.assign(Object.assign({},Bae()),{[e]:i});return new eb("auth","Firebase",n).create(e,{appName:t.name})}function $ae(t,e,i){const n=i;if(!(e instanceof n))throw n.name!==e.constructor.name&&Io(t,"argument-error"),a$(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _A(t,...e){if(typeof t!="string"){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return r$.create(t,...e)}function Ut(t,e,...i){if(!t)throw _A(e,...i)}function Yc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw u0(e),new Error(e)}function Jc(t,e){t||Yc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Map;function qc(t){Jc(t instanceof Function,"Expected a class definition");let e=RP.get(t);return e?(Jc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RP.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fae(t,e){const i=i$(t,"auth");if(i.isInitialized()){const r=i.getImmediate(),a=i.getOptions();if(e$(a,e??{}))return r;Io(r,"already-initialized")}return i.initialize({options:e})}function Hae(t,e){const i=(e==null?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(qc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vae(){return MP()==="http:"||MP()==="https:"}function MP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vae()||Vre()||"connection"in navigator)?navigator.onLine:!0}function qae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i){this.shortDelay=e,this.longDelay=i,Jc(i>e,"Short delay should be less than long delay!"),this.isMobile=yA()||ZB()}get(){return Yae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e){Jc(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${static initialize(e,i,n){this.fetchImpl=e,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Yc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Yc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Yc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae=new ib(3e4,6e4);function nb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rb(t,e,i,n,r={}){return o$(t,r,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=qm(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),s$.fetch()(l$(t,t.config.apiHost,i,o),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},a))})}async function o$(t,e,i){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Wae),e);try{const r=new zae(t),a=await Promise.race([i(),r.promise]);r.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw E1(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,d]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw E1(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw E1(t,"email-already-in-use",s);const p=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw a$(t,p,d);Io(t,p)}}catch(r){if(r instanceof Ym)throw r;Io(t,"network-request-failed")}}async function ab(t,e,i,n,r={}){const a=await rb(t,e,i,n,r);return"mfaPendingCredential"in a&&Io(t,"multi-factor-auth-required",{_serverResponse:a}),a}function l$(t,e,i,n){const r=`${e}${i}?${n}`;return t.config.emulator?wA(t.config,r):`${t.config.apiScheme}://${r}`}class zae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(nc(this.auth,"network-request-failed")),jae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function E1(t,e,i){const n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const r=nc(t,e,n);return r.customData._tokenResponse=i,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xae(t,e){return rb(t,"POST","/v1/accounts:delete",e)}async function Kae(t,e){return rb(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zae(t,e=!1){const i=yl(t),n=await i.getIdToken(e),r=EA(n);Ut(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:r,token:n,authTime:Lg(T1(r.auth_time)),issuedAtTime:Lg(T1(r.iat)),expirationTime:Lg(T1(r.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function T1(t){return Number(t)*1e3}function EA(t){const[e,i,n]=t.split(".");if(e===void 0||i===void 0||n===void 0)return u0("JWT malformed, contained fewer than 3 sections"),null;try{const r=nk(i);return r?JSON.parse(r):(u0("Failed to decode base64 JWT payload"),null)}catch(r){return u0("Caught error parsing JWT payload as JSON",r),null}}function Qae(t){const e=EA(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gv(t,e,i=!1){if(i)return e;try{return await e}catch(n){throw n instanceof Ym&&Jae(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Jae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lg(this.lastLoginAt),this.creationTime=Lg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t){var e;const i=t.auth,n=await t.getIdToken(),r=await gv(t,Kae(i,{idToken:n}));Ut(r==null?void 0:r.users.length,i,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?nse(a.providerUserInfo):[],o=ise(t.providerData,s),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),p=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new c$(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function tse(t){const e=yl(t);await X0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ise(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function nse(t){return t.map(e=>{var{providerId:i}=e,n=uA(e,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rse(t,e){const i=await o$(t,{},async()=>{const n=qm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,s=l$(t,r,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",s$.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qae(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}async getToken(e,i=!1){return Ut(!this.accessToken||this.refreshToken,e,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:n,refreshToken:r,expiresIn:a}=await rse(e,i);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,i,n){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,i){const{refreshToken:n,accessToken:r,expirationTime:a}=i,s=new vv;return n&&(Ut(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),r&&(Ut(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),a&&(Ut(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vv,this.toJSON())}_performRefresh(){return Yc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ef{constructor(e){var{uid:i,auth:n,stsTokenManager:r}=e,a=uA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ese(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new c$(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await gv(this,this.stsTokenManager.getToken(this.auth,e));return Ut(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Zae(this,e)}reload(){return tse(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ef(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),i&&await X0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gv(this,Xae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var n,r,a,s,o,c,d,p;const m=(n=i.displayName)!==null&&n!==void 0?n:void 0,y=(r=i.email)!==null&&r!==void 0?r:void 0,_=(a=i.phoneNumber)!==null&&a!==void 0?a:void 0,w=(s=i.photoURL)!==null&&s!==void 0?s:void 0,C=(o=i.tenantId)!==null&&o!==void 0?o:void 0,k=(c=i._redirectEventId)!==null&&c!==void 0?c:void 0,S=(d=i.createdAt)!==null&&d!==void 0?d:void 0,x=(p=i.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:D,isAnonymous:B,providerData:P,stsTokenManager:R}=i;Ut(O&&R,e,"internal-error");const I=vv.fromJSON(this.name,R);Ut(typeof O=="string",e,"internal-error"),Gu(m,e.name),Gu(y,e.name),Ut(typeof D=="boolean",e,"internal-error"),Ut(typeof B=="boolean",e,"internal-error"),Gu(_,e.name),Gu(w,e.name),Gu(C,e.name),Gu(k,e.name),Gu(S,e.name),Gu(x,e.name);const F=new ef({uid:O,auth:e,email:y,emailVerified:D,displayName:m,isAnonymous:B,photoURL:w,phoneNumber:_,tenantId:C,stsTokenManager:I,createdAt:S,lastLoginAt:x});return P&&Array.isArray(P)&&(F.providerData=P.map($=>Object.assign({},$))),k&&(F._redirectEventId=k),F}static async _fromIdTokenResponse(e,i,n=!1){const r=new vv;r.updateFromServerResponse(i);const a=new ef({uid:i.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X0(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}u$.type="NONE";const PP=u$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t,e,i){return`firebase:${t}:${e}:${i}`}class Jp{constructor(e,i,n){this.persistence=e,this.auth=i,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=d0(this.userKey,r.apiKey,a),this.fullPersistenceKey=d0("persistence",r.apiKey,a),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ef._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,n="authUser"){if(!i.length)return new Jp(qc(PP),e,n);const r=(await Promise.all(i.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||qc(PP);const s=d0(n,e.config.apiKey,e.name);let o=null;for(const d of i)try{const p=await d._get(s);if(p){const m=ef._fromJSON(e,p);d!==a&&(o=m),a=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Jp(a,e,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(i.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Jp(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m$(e))return"Blackberry";if(y$(e))return"Webos";if(TA(e))return"Safari";if((e.includes("chrome/")||h$(e))&&!e.includes("edge/"))return"Chrome";if(p$(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(i);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function d$(t=Ca()){return/firefox\//i.test(t)}function TA(t=Ca()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h$(t=Ca()){return/crios\//i.test(t)}function f$(t=Ca()){return/iemobile/i.test(t)}function p$(t=Ca()){return/android/i.test(t)}function m$(t=Ca()){return/blackberry/i.test(t)}function y$(t=Ca()){return/webos/i.test(t)}function iE(t=Ca()){return/iphone|ipad|ipod/i.test(t)}function ase(t=Ca()){var e;return iE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sse(){return Yre()&&document.documentMode===10}function g$(t=Ca()){return iE(t)||p$(t)||y$(t)||m$(t)||/windows phone/i.test(t)||f$(t)}function ose(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e=[]){let i;switch(t){case"Browser":i=OP(Ca());break;case"Worker":i=`${OP(Ca())}-${t}`;break;default:i=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${tb}/${n}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e,i){this.app=e,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NP(this),this.idTokenSubscription=new NP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r$,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=qc(i)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Jp.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var i;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,a=n==null?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);(!r||r===a)&&(s!=null&&s.user)&&(n=s.user)}return n?n._redirectEventId?(Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await X0(e)}catch(i){if(i.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const i=e?yl(e):null;return i&&Ut(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qc(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eb("auth","Firebase",e())}onAuthStateChanged(e,i,n){return this.registerStateListener(this.authStateSubscription,e,i,n)}onIdTokenChanged(e,i,n){return this.registerStateListener(this.idTokenSubscription,e,i,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const n=await this.getOrInitRedirectPersistenceManager(i);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&qc(e)||this._popupRedirectResolver;Ut(i,this,"argument-error"),this.redirectPersistenceManager=await Jp.create(this,[qc(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,n;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,n,r){if(this._deleted)return()=>{};const a=typeof i=="function"?i:i.next.bind(i),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ut(s,this,"internal-error"),s.then(()=>a(this.currentUser)),typeof i=="function"?e.addObserver(i,n,r):e.addObserver(i)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function sb(t){return yl(t)}class NP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zre(i=>this.observer=i)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Yc("not implemented")}_getIdTokenResponse(e){return Yc("not implemented")}_linkToIdToken(e,i){return Yc("not implemented")}_getReauthenticationResolver(e){return Yc("not implemented")}}async function cse(t,e){return rb(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function use(t,e){return ab(t,"POST","/v1/accounts:signInWithPassword",nb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dse(t,e){return ab(t,"POST","/v1/accounts:signInWithEmailLink",nb(t,e))}async function hse(t,e){return ab(t,"POST","/v1/accounts:signInWithEmailLink",nb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends CA{constructor(e,i,n,r=null){super("password",n),this._email=e,this._password=i,this._tenantId=r}static _fromEmailAndPassword(e,i){return new bv(e,i,"password")}static _fromEmailAndCode(e,i,n=null){return new bv(e,i,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return use(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return dse(e,{email:this._email,oobCode:this._password});default:Io(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":return cse(e,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return hse(e,{idToken:i,email:this._email,oobCode:this._password});default:Io(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(t,e){return ab(t,"POST","/v1/accounts:signInWithIdp",nb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse="http://localhost";class yf extends CA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new yf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Io("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=i,a=uA(i,["providerId","signInMethod"]);if(!n||!r)return null;const s=new yf(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const i=this.buildRequest();return em(e,i)}_linkToIdToken(e,i){const n=this.buildRequest();return n.idToken=i,em(e,n)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,em(e,i)}buildRequest(){const e={requestUri:fse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=qm(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mse(t){const e=gg(vg(t)).link,i=e?gg(vg(e)).deep_link_id:null,n=gg(vg(t)).deep_link_id;return(n?gg(vg(n)).link:null)||n||i||e||t}class kA{constructor(e){var i,n,r,a,s,o;const c=gg(vg(e)),d=(i=c.apiKey)!==null&&i!==void 0?i:null,p=(n=c.oobCode)!==null&&n!==void 0?n:null,m=pse((r=c.mode)!==null&&r!==void 0?r:null);Ut(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=c.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const i=mse(e);try{return new kA(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.providerId=Wm.PROVIDER_ID}static credential(e,i){return bv._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const n=kA.parseLink(i);return Ut(n,"argument-error"),bv._fromEmailAndCode(e,n.code,n.tenantId)}}Wm.PROVIDER_ID="password";Wm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends SA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends ob{constructor(){super("facebook.com")}static credential(e){return yf._fromParams({providerId:td.PROVIDER_ID,signInMethod:td.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return td.credentialFromTaggedObject(e)}static credentialFromError(e){return td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return td.credential(e.oauthAccessToken)}catch{return null}}}td.FACEBOOK_SIGN_IN_METHOD="facebook.com";td.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends ob{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return yf._fromParams({providerId:id.PROVIDER_ID,signInMethod:id.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return id.credentialFromTaggedObject(e)}static credentialFromError(e){return id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:n}=e;if(!i&&!n)return null;try{return id.credential(i,n)}catch{return null}}}id.GOOGLE_SIGN_IN_METHOD="google.com";id.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends ob{constructor(){super("github.com")}static credential(e){return yf._fromParams({providerId:nd.PROVIDER_ID,signInMethod:nd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nd.credentialFromTaggedObject(e)}static credentialFromError(e){return nd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nd.credential(e.oauthAccessToken)}catch{return null}}}nd.GITHUB_SIGN_IN_METHOD="github.com";nd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends ob{constructor(){super("twitter.com")}static credential(e,i){return yf._fromParams({providerId:rd.PROVIDER_ID,signInMethod:rd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return rd.credentialFromTaggedObject(e)}static credentialFromError(e){return rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:n}=e;if(!i||!n)return null;try{return rd.credential(i,n)}catch{return null}}}rd.TWITTER_SIGN_IN_METHOD="twitter.com";rd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yse(t,e){return ab(t,"POST","/v1/accounts:signUp",nb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,n,r=!1){const a=await ef._fromIdTokenResponse(e,n,r),s=GP(n);return new gf({user:a,providerId:s,_tokenResponse:n,operationType:i})}static async _forOperation(e,i,n){await e._updateTokensIfNecessary(n,!0);const r=GP(n);return new gf({user:e,providerId:r,_tokenResponse:n,operationType:i})}}function GP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Ym{constructor(e,i,n,r){var a;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,K0.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,i,n,r){return new K0(e,i,n,r)}}function b$(t,e,i,n){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?K0._fromErrorAndOperation(t,a,e,n):a})}async function gse(t,e,i=!1){const n=await gv(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return gf._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vse(t,e,i=!1){const{auth:n}=t,r="reauthenticate";try{const a=await gv(t,b$(n,r,e,t),i);Ut(a.idToken,n,"internal-error");const s=EA(a.idToken);Ut(s,n,"internal-error");const{sub:o}=s;return Ut(t.uid===o,n,"user-mismatch"),gf._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Io(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e,i=!1){const n="signIn",r=await b$(t,n,e),a=await gf._fromIdTokenResponse(t,n,r);return i||await t._updateCurrentUser(a.user),a}async function bse(t,e){return _$(sb(t),e)}async function _se(t,e,i){const n=sb(t),r=await yse(n,{returnSecureToken:!0,email:e,password:i}),a=await gf._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(a.user),a}function wse(t,e,i){return bse(yl(t),Wm.credential(e,i))}function Ese(t){return yl(t).signOut()}const Z0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Z0,"1"),this.storage.removeItem(Z0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(){const t=Ca();return TA(t)||iE(t)}const Cse=1e3,kse=10;class E$ extends w${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Tse()&&ose(),this.fallbackToPolling=g$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const n=this.storage.getItem(i),r=this.localCache[i];n!==r&&e(i,r,n)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(n);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!i)return}const r=()=>{const s=this.storage.getItem(n);!i&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);sse()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,kse):r()}notifyListeners(e,i){this.localCache[e]=i;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:n}),!0)})},Cse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}E$.type="LOCAL";const Sse=E$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T$ extends w${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}T$.type="SESSION";const C$=T$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ase(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(r=>r.isListeningto(e));if(i)return i;const n=new nE(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:n,eventType:r,data:a}=i.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;i.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async d=>d(i.origin,a)),c=await Ase(o);i.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:c})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const d=AA("",20);r.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:i},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(){return window}function Dse(t){rc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(){return typeof rc().WorkerGlobalScope<"u"&&typeof rc().importScripts=="function"}async function Ise(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Mse(){return k$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="firebaseLocalStorageDb",Pse=1,Q0="firebaseLocalStorage",A$="fbase_key";class lb{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rE(t,e){return t.transaction([Q0],e?"readwrite":"readonly").objectStore(Q0)}function Ose(){const t=indexedDB.deleteDatabase(S$);return new lb(t).toPromise()}function ok(){const t=indexedDB.open(S$,Pse);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Q0,{keyPath:A$})}catch(r){i(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Q0)?e(n):(n.close(),await Ose(),e(await ok()))})})}async function UP(t,e,i){const n=rE(t,!0).put({[A$]:e,value:i});return new lb(n).toPromise()}async function Nse(t,e){const i=rE(t,!1).get(e),n=await new lb(i).toPromise();return n===void 0?null:n.value}function LP(t,e){const i=rE(t,!0).delete(e);return new lb(i).toPromise()}const Gse=800,Use=3;class x${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ok(),this.db)}async _withRetries(e){let i=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(i++>Use)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nE._getInstance(Mse()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await Ise(),!this.activeServiceWorker)return;this.sender=new xse(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((i=n[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ok();return await UP(e,Z0,"1"),await LP(e,Z0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(n=>UP(n,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(n=>Nse(n,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>LP(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=rE(r,!1).getAll();return new lb(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],n=new Set;for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),i.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),i.push(r));return i}notifyListeners(e,i){this.localCache[e]=i;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x$.type="LOCAL";const Lse=x$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function $se(t){return new Promise((e,i)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{const a=nc("internal-error");a.customData=r,i(a)},n.type="text/javascript",n.charset="UTF-8",Bse().appendChild(n)})}function Fse(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ib(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e){return e?qc(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends CA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return em(e,this._buildIdpRequest())}_linkToIdToken(e,i){return em(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return em(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Hse(t){return _$(t.auth,new xA(t),t.bypassAuthState)}function Vse(t){const{auth:e,user:i}=t;return Ut(i,e,"internal-error"),vse(i,new xA(t),t.bypassAuthState)}async function Yse(t){const{auth:e,user:i}=t;return Ut(i,e,"internal-error"),gse(i,new xA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,i,n,r,a=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:n,postBody:r,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:i,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hse;case"linkViaPopup":case"linkViaRedirect":return Yse;case"reauthViaPopup":case"reauthViaRedirect":return Vse;default:Io(this.auth,"internal-error")}}resolve(e){Jc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=new ib(2e3,1e4);async function Wse(t,e,i){const n=sb(t);$ae(t,e,SA);const r=D$(n,i);return new Vh(n,"signInViaPopup",e,r).executeNotNull()}class Vh extends I${constructor(e,i,n,r,a){super(e,i,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Vh.currentPopupAction&&Vh.currentPopupAction.cancel(),Vh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){Jc(this.filter.length===1,"Popup operations only handle one event");const e=AA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(nc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,n;if(!((n=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nc(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,qse.get())};e()}}Vh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jse="pendingRedirect",C1=new Map;class zse extends I${constructor(e,i,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}async execute(){let e=C1.get(this.auth._key());if(!e){try{const n=await Xse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(i){e=()=>Promise.reject(i)}C1.set(this.auth._key(),e)}return this.bypassAuthState||C1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xse(t,e){const i=Zse(e),n=Kse(t);if(!await n._isAvailable())return!1;const r=await n._get(i)==="true";return await n._remove(i),r}function Kse(t){return qc(t._redirectPersistence)}function Zse(t){return d0(jse,t.config.apiKey,t.name)}async function Qse(t,e,i=!1){const n=sb(t),r=D$(n,e),s=await new zse(n,r,i).execute();return s&&!i&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=10*60*1e3;class eoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(i=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!toe(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var n;if(e.error&&!R$(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(nc(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const n=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jse&&this.cachedEventUids.clear(),this.cachedEventUids.has(BP(e))}saveEventToCache(e){this.cachedEventUids.add(BP(e)),this.lastProcessedEventTime=Date.now()}}function BP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function R$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function toe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ioe(t,e={}){return rb(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,roe=/^https?/;async function aoe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ioe(t);for(const i of e)try{if(soe(i))return}catch{}Io(t,"unauthorized-domain")}function soe(t){const e=sk(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&s.hostname===n}if(!roe.test(i))return!1;if(noe.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ooe=new ib(3e4,6e4);function $P(){const t=rc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function loe(t){return new Promise((e,i)=>{var n,r,a;function s(){$P(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$P(),i(nc(t,"network-request-failed"))},timeout:ooe.get()})}if(!((r=(n=rc().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=rc().gapi)===null||a===void 0)&&a.load)s();else{const o=Fse("iframefcb");return rc()[o]=()=>{gapi.load?s():i(nc(t,"network-request-failed"))},$se(`https://apis.google.com/js/api.js?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw h0=null,e})}let h0=null;function coe(t){return h0=h0||loe(t),h0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe=new ib(5e3,15e3),doe="__/auth/iframe",hoe="emulator/auth/iframe",foe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},poe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function moe(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?wA(e,hoe):`https://${t.config.authDomain}/${doe}`,n={apiKey:e.apiKey,appName:t.name,v:tb},r=poe.get(t.config.apiHost);r&&(n.eid=r);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${i}?${qm(n).slice(1)}`}async function yoe(t){const e=await coe(t),i=rc().gapi;return Ut(i,t,"internal-error"),e.open({where:document.body,url:moe(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:foe,dontclear:!0},n=>new Promise(async(r,a)=>{await n.restyle({setHideOnLeave:!1});const s=nc(t,"network-request-failed"),o=rc().setTimeout(()=>{a(s)},uoe.get());function c(){rc().clearTimeout(o),r(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},voe=500,boe=600,_oe="_blank",woe="http://localhost";class FP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Eoe(t,e,i,n=voe,r=boe){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c=Object.assign(Object.assign({},goe),{width:n.toString(),height:r.toString(),top:a,left:s}),d=Ca().toLowerCase();i&&(o=h$(d)?_oe:i),d$(d)&&(e=e||woe,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[_,w])=>`${y}${_}=${w},`,"");if(ase(d)&&o!=="_self")return Toe(e||"",o),new FP(null);const m=window.open(e||"",o,p);Ut(m,t,"popup-blocked");try{m.focus()}catch{}return new FP(m)}function Toe(t,e){const i=document.createElement("a");i.href=t,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe="__/auth/handler",koe="emulator/auth/handler";function HP(t,e,i,n,r,a){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:tb,eventId:r};if(e instanceof SA){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof ob){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];return`${Soe(t)}?${qm(o).slice(1)}`}function Soe({config:t}){return t.emulator?wA(t,koe):`https://${t.authDomain}/${Coe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="webStorageSupport";class Aoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C$,this._completeRedirectFn=Qse}async _openPopup(e,i,n,r){var a;Jc((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=HP(e,i,n,sk(),r);return Eoe(e,s,AA())}async _openRedirect(e,i,n,r){return await this._originValidation(e),Dse(HP(e,i,n,sk(),r)),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:r,promise:a}=this.eventManagers[i];return r?Promise.resolve(r):(Jc(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}async initAndGetManager(e){const i=await yoe(e),n=new eoe(e);return i.register("authEvent",r=>(Ut(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=i,n}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(k1,{type:k1},r=>{var a;const s=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[k1];s!==void 0&&i(!!s),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=aoe(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return g$()||TA()||iE()}}const xoe=Aoe;var VP="@firebase/auth",YP="0.19.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(n=>{var r;e(((r=n)===null||r===void 0?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ioe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Roe(t){yv(new mv("auth",(e,{options:i})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:a}=n.options;return(s=>{Ut(r&&!r.includes(":"),"invalid-api-key",{appName:s.name}),Ut(!(a!=null&&a.includes(":")),"argument-error",{appName:s.name});const o={apiKey:r,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v$(t)},c=new lse(s,o);return Hae(c,i),c})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,n)=>{e.getProvider("auth-internal").initialize()})),yv(new mv("auth-internal",e=>{const i=sb(e.getProvider("auth").getImmediate());return(n=>new Doe(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wd(VP,YP,Ioe(t)),wd(VP,YP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(t=Uae()){const e=i$(t,"auth");return e.isInitialized()?e.getImmediate():Fae(t,{popupRedirectResolver:xoe,persistence:[Lse,Sse,C$]})}Roe("Browser");var Poe={};const qP="@firebase/database",WP="0.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M$="";function Ooe(t){M$=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Br(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:pv(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return su(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Noe(e)}}catch{}return new Goe},Yh=P$("localStorage"),Uoe=P$("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new vA("@firebase/database"),Loe=function(){let t=1;return function(){return t++}}(),O$=function(t){const e=eae(t),i=new Kre;i.update(e);const n=i.digest();return pA.encodeByteArray(n)},cb=function(...t){let e="";for(let i=0;i<t.length;i++){const n=t[i];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=cb.apply(null,n):typeof n=="object"?e+=Br(n):e+=n,e+=" "}return e};let Bg=null,jP=!0;const Boe=function(t,e){it(!e,"Can't turn on custom loggers persistently."),tm.logLevel=Qi.VERBOSE,Bg=tm.log.bind(tm)},_a=function(...t){if(jP===!0&&(jP=!1,Bg===null&&Uoe.get("logging_enabled")===!0&&Boe()),Bg){const e=cb.apply(null,t);Bg(e)}},ub=function(t){return function(...e){_a(t,...e)}},lk=function(...t){const e="FIREBASE INTERNAL ERROR: "+cb(...t);tm.error(e)},vf=function(...t){const e=`FIREBASE FATAL ERROR: ${cb(...t)}`;throw tm.error(e),new Error(e)},_s=function(...t){const e="FIREBASE WARNING: "+cb(...t);tm.warn(e)},$oe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_s("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},N$=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Foe=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},gm="[MIN_NAME]",bf="[MAX_NAME]",jm=function(t,e){if(t===e)return 0;if(t===gm||e===bf)return-1;if(e===gm||t===bf)return 1;{const i=zP(t),n=zP(e);return i!==null?n!==null?i-n===0?t.length-e.length:i-n:-1:n!==null?1:t<e?-1:1}},Hoe=function(t,e){return t===e?0:t<e?-1:1},zy=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Br(e))},DA=function(t){if(typeof t!="object"||t===null)return Br(t);const e=[];for(const n in t)e.push(n);e.sort();let i="{";for(let n=0;n<e.length;n++)n!==0&&(i+=","),i+=Br(e[n]),i+=":",i+=DA(t[e[n]]);return i+="}",i},G$=function(t,e){const i=t.length;if(i<=e)return[t];const n=[];for(let r=0;r<i;r+=e)r+e>i?n.push(t.substring(r,i)):n.push(t.substring(r,r+e));return n};function Ro(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const U$=function(t){it(!N$(t),"Invalid JSON number");const e=11,i=52,n=(1<<e-1)-1;let r,a,s,o,c;t===0?(a=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),n),a=o+n,s=Math.round(t*Math.pow(2,i-o)-Math.pow(2,i))):(a=0,s=Math.round(t/Math.pow(2,1-n-i))));const d=[];for(c=i;c;c-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);d.push(r?1:0),d.reverse();const p=d.join("");let m="";for(c=0;c<64;c+=8){let y=parseInt(p.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},Voe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yoe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},qoe=new RegExp("^-?(0*)\\d{1,10}$"),Woe=-2147483648,joe=2147483647,zP=function(t){if(qoe.test(t)){const e=Number(t);if(e>=Woe&&e<=joe)return e}return null},zm=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw _s("Exception was thrown by user callback.",i),e},Math.floor(0))}},zoe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$g=function(t,e){const i=setTimeout(t,e);return typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e,i){this.appName_=e,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(n=>this.appCheck=n)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((i,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,n):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){_s(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,i,n){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(_a("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,n):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_s(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="5",L$="v",B$="s",$$="r",F$="f",H$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,V$="ls",Zoe="p",ck="ac",Y$="websocket",q$="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(e,i,n,r,a=!1,s="",o=!1){this.secure=i,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function Joe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function W$(t,e,i){it(typeof e=="string","typeof type must == string"),it(typeof i=="object","typeof params must == object");let n;if(e===Y$)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===q$)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Joe(t)&&(i.ns=t.namespace);const r=[];return Ro(i,(a,s)=>{r.push(a+"="+s)}),n+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(){this.counters_={}}incrementCounter(e,i=1){su(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return Fre(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={},A1={};function RA(t){const e=t.toString();return S1[e]||(S1[e]=new ele),S1[e]}function tle(t,e){const i=t.toString();return A1[i]||(A1[i]=e()),A1[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&zm(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="start",nle="close",rle="pLPCommand",ale="pRTLPCB",j$="id",z$="pw",X$="ser",sle="cb",ole="seg",lle="ts",cle="d",ule="dframe",K$=1870,Z$=30,dle=K$-Z$,hle=25e3,fle=3e4;class Yp{constructor(e,i,n,r,a,s,o){this.connId=e,this.repoInfo=i,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ub(e),this.stats_=RA(i),this.urlFn=c=>(this.appCheckToken&&(c[ck]=this.appCheckToken),W$(i,q$,c))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new ile(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fle)),Foe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new MA((...a)=>{const[s,o,c,d,p]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===XP)this.id=o,this.password=c;else if(s===nle)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{const[s,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,o)},()=>{this.onClosed_()},this.urlFn);const n={};n[XP]="t",n[X$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[sle]=this.scriptTagHolder.uniqueCallbackIdentifier),n[L$]=IA,this.transportSessionId&&(n[B$]=this.transportSessionId),this.lastSessionId&&(n[V$]=this.lastSessionId),this.applicationId&&(n[Zoe]=this.applicationId),this.appCheckToken&&(n[ck]=this.appCheckToken),typeof location<"u"&&location.hostname&&H$.test(location.hostname)&&(n[$$]=F$);const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yp.forceAllow_=!0}static forceDisallow(){Yp.forceDisallow_=!0}static isAvailable(){return Yp.forceAllow_?!0:!Yp.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Voe()&&!Yoe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Br(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const n=$re(i),r=G$(n,dle);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const n={};n[ule]="t",n[j$]=e,n[z$]=i,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Br(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class MA{constructor(e,i,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Loe(),window[rle+this.uniqueCallbackIdentifier]=e,window[ale+this.uniqueCallbackIdentifier]=i,this.myIFrame=MA.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(o){_a("frame writing exception"),o.stack&&_a(o.stack),_a(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_a("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[j$]=this.myID,e[z$]=this.myPW,e[X$]=this.currentSerial;let i=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Z$+n.length<=K$;){const s=this.pendingSegs.shift();n=n+"&"+ole+r+"="+s.seg+"&"+lle+r+"="+s.ts+"&"+cle+r+"="+s.d,r++}return i=i+n,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,n){this.pendingSegs.push({seg:e,ts:i,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const n=()=>{this.outstandingRequests.delete(i),this.newRequest_()},r=setTimeout(n,Math.floor(hle)),a=()=>{clearTimeout(r),n()};this.addTag(e,a)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||r==="loaded"||r==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),i())},n.onerror=()=>{_a("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple=16384,mle=45e3;let J0=null;typeof MozWebSocket<"u"?J0=MozWebSocket:typeof WebSocket<"u"&&(J0=WebSocket);class rl{constructor(e,i,n,r,a,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ub(this.connId),this.stats_=RA(i),this.connURL=rl.connectionURL_(i,s,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,n,r){const a={};return a[L$]=IA,typeof location<"u"&&location.hostname&&H$.test(location.hostname)&&(a[$$]=F$),i&&(a[B$]=i),n&&(a[V$]=n),r&&(a[ck]=r),W$(e,Y$,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yh.set("previous_websocket_failure",!0);try{if(!QB()){const n={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new J0(this.connURL,[],n)}}catch(n){this.log_("Error instantiating WebSocket.");const r=n.message||n.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const r=n.message||n.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){rl.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(i);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&J0!==null&&!rl.forceDisallow_}static previouslyFailed(){return Yh.isInMemoryStorage||Yh.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const n=pv(i);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(it(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const n=this.extractFrameCount_(i);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const i=Br(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const n=G$(i,ple);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mle))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rl.responsesRequiredToBeHealthy=2;rl.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Yp,rl]}initTransports_(e){const i=rl&&rl.isAvailable();let n=i&&!rl.previouslyFailed();if(e.webSocketOnly&&(i||_s("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[rl];else{const r=this.transports_=[];for(const a of PA.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle=6e4,gle=5e3,vle=10*1024,ble=100*1024,x1="t",KP="d",_le="s",ZP="r",wle="e",QP="o",JP="a",eO="n",tO="p",Ele="h";class Tle{constructor(e,i,n,r,a,s,o,c,d,p){this.id=e,this.repoInfo_=i,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ub("c:"+this.id+":"),this.transportManager_=new PA(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=$g(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ble?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>vle?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(x1 in e){const i=e[x1];i===JP?this.upgradeIfSecondaryHealthy_():i===ZP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===QP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=zy("t",e),n=zy("d",e);if(i==="c")this.onSecondaryControl_(n);else if(i==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tO,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:JP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:eO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=zy("t",e),n=zy("d",e);i==="c"?this.onControl_(n):i==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=zy(x1,e);if(KP in e){const n=e[KP];if(i===Ele)this.onHandshake_(n);else if(i===eO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_le?this.onConnectionShutdown_(n):i===ZP?this.onReset_(n):i===wle?lk("Server Error: "+n):i===QP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lk("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),IA!==n&&_s("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,n),$g(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yle))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$g(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gle))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tO,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${put(e,i,n,r){}merge(e,i,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,n){}onDisconnectMerge(e,i,n){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.allowedEvents_=e,this.listeners_={},it(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,i)}}on(e,i,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:n});const r=this.getInitialEvent(e);r&&i.apply(n,r)}off(e,i,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===i&&(!n||n===r[a].context)){r.splice(a,1);return}}validateEventType_(e){it(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends J${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yA()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ew}getInitialEvent(e){return it(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=32,nO=768;class en{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ui(){return new en("")}function pi(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pd(t){return t.pieces_.length-t.pieceNum_}function pn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new en(t.pieces_,e)}function eF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Cle(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function tF(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function iF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new en(e,0)}function Cr(t,e){const i=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)i.push(t.pieces_[n]);if(e instanceof en)for(let n=e.pieceNum_;n<e.pieces_.length;n++)i.push(e.pieces_[n]);else{const n=e.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&i.push(n[r])}return new en(i,0)}function bi(t){return t.pieceNum_>=t.pieces_.length}function Js(t,e){const i=pi(t),n=pi(e);if(i===null)return e;if(i===n)return Js(pn(t),pn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function OA(t,e){if(Pd(t)!==Pd(e))return!1;for(let i=t.pieceNum_,n=e.pieceNum_;i<=t.pieces_.length;i++,n++)if(t.pieces_[i]!==e.pieces_[n])return!1;return!0}function sl(t,e){let i=t.pieceNum_,n=e.pieceNum_;if(Pd(t)>Pd(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[n])return!1;++i,++n}return!0}class kle{constructor(e,i){this.errorPrefix_=i,this.parts_=tF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=tE(this.parts_[n]);nF(this)}}function Sle(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tE(e),nF(t)}function Ale(t){const e=t.parts_.pop();t.byteLength_-=tE(e),t.parts_.length>0&&(t.byteLength_-=1)}function nF(t){if(t.byteLength_>nO)throw new Error(t.errorPrefix_+"has a key path longer than "+nO+" bytes ("+t.byteLength_+").");if(t.parts_.length>iO)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+iO+") or object contains a cycle "+Dh(t))}function Dh(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA extends J${constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new NA}getInitialEvent(e){return it(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=1e3,xle=60*5*1e3,Dle=3*1e3,rO=30*1e3,Ile=1.3,Rle=3e4,Mle="server_kill",aO=3;class Zc extends Q${constructor(e,i,n,r,a,s,o,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=c,this.id=Zc.nextPersistentConnectionId_++,this.log_=ub("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xy,this.maxReconnectDelay_=xle,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!QB())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NA.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ew.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,n){const r=++this.requestNumber_,a={r,a:e,b:i};this.log_(Br(a)),it(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const i=new mA,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:s=>{const o=s.d;s.s==="ok"?(this.onDataUpdate_(n.p,o,!1,null),i.resolve(o)):i.reject(o)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const s=this.outstandingGets_[a];s===void 0||r!==s||(delete this.outstandingGets_[a],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},Dle),this.connected_&&this.sendGet_(a),i.promise}listen(e,i,n,r){this.initConnection_();const a=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),it(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),it(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:i,query:e,tag:n};this.listens.get(s).set(a,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(n)})}sendListen_(e){const i=e.query,n=i._path.toString(),r=i._queryIdentifier;this.log_("Listen on "+n+" for "+r);const a={p:n},s="q";e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(s,a,o=>{const c=o.d,d=o.s;Zc.warnOnListenWarnings_(c,i),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),d!=="ok"&&this.removeListen_(n,r),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&su(e,"w")){const n=ym(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const r='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();_s(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Xre(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rO)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=zre(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(i,n,r=>{const a=r.s,s=r.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,n=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,n)})}unlisten(e,i){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),it(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,i)}sendUnlisten_(e,i,n,r){this.log_("Unlisten on "+e+" for "+i);const a={p:e},s="n";r&&(a.q=n,a.t=r),this.sendRequest(s,a)}onDisconnectPut(e,i,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:n})}onDisconnectMerge(e,i,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:n})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,n,r){const a={p:i,d:n};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,s=>{r&&setTimeout(()=>{r(s.s,s.d)},Math.floor(0))})}put(e,i,n,r){this.putInternal("p",e,i,n,r)}merge(e,i,n,r){this.putInternal("m",e,i,n,r)}putInternal(e,i,n,r,a){this.initConnection_();const s={p:i,d:n};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,n,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Br(e));const i=e.r,n=this.requestCBHash_[i];n&&(delete this.requestCBHash_[i],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):lk("Unrecognized action received from server: "+Br(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){it(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Rle&&(this.reconnectDelay_=Xy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ile)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Zc.nextConnectionId_++,a=this.lastSessionId;let s=!1,o=null;const c=function(){o?o.close():(s=!0,n())},d=function(m){it(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(m)};this.realtime_={close:c,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);s?_a("getToken() completed but was canceled"):(_a("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,o=new Tle(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,n,_=>{_s(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Mle)},a))}catch(m){this.log_("Failed to get token: "+m),s||(this.repoInfo_.nodeAdmin&&_s(m),c())}}}interrupt(e){_a("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_a("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rk(this.interruptReasons_)&&(this.reconnectDelay_=Xy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let n;i?n=i.map(a=>DA(a)).join("$"):n="default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,i){const n=new en(e).toString();let r;if(this.listens.has(n)){const a=this.listens.get(n);r=a.get(i),a.delete(i),a.size===0&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,i){_a("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=aO&&(this.reconnectDelay_=rO,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){_a("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=aO&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+M$.replace(/\./g,"-")]=1,yA()?e["framework.cordova"]=1:ZB()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ew.getInstance().currentlyOnline();return rk(this.interruptReasons_)&&e}}Zc.nextPersistentConnectionId_=0;Zc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ri(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const n=new ri(gm,e),r=new ri(gm,i);return this.compare(n,r)!==0}minPost(){return ri.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G_;class rF extends aE{static get __EMPTY_NODE(){return G_}static set __EMPTY_NODE(e){G_=e}compare(e,i){return jm(e.name,i.name)}isDefinedOn(e){throw Vm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ri.MIN}maxPost(){return new ri(bf,G_)}makePost(e,i){return it(typeof e=="string","KeyIndex indexValue must always be a string."),new ri(e,G_)}toString(){return".key"}}const im=new rF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,i,n,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=i?n(e.key,i):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ur{constructor(e,i,n,r,a){this.key=e,this.value=i,this.color=n??Ur.RED,this.left=r??bs.EMPTY_NODE,this.right=a??bs.EMPTY_NODE}copy(e,i,n,r,a){return new Ur(e??this.key,i??this.value,n??this.color,r??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this;const a=n(e,r.key);return a<0?r=r.copy(null,null,null,r.left.insert(e,i,n),null):a===0?r=r.copy(null,i,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let n,r;if(n=this,i(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,i),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),i(e,n.key)===0){if(n.right.isEmpty())return bs.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,i))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ur.RED=!0;Ur.BLACK=!1;class Ple{copy(e,i,n,r,a){return this}insert(e,i,n){return new Ur(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bs{constructor(e,i=bs.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new bs(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Ur.BLACK,null,null))}remove(e){return new bs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ur.BLACK,null,null))}get(e){let i,n=this.root_;for(;!n.isEmpty();){if(i=this.comparator_(e,n.key),i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}getPredecessorKey(e){let i,n=this.root_,r=null;for(;!n.isEmpty();)if(i=this.comparator_(e,n.key),i===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else i<0?n=n.left:i>0&&(r=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new U_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new U_(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new U_(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new U_(this.root_,null,this.comparator_,!0,e)}}bs.EMPTY_NODE=new Ple;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ole(t,e){return jm(t.name,e.name)}function GA(t,e){return jm(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uk;function Nle(t){uk=t}const aF=function(t){return typeof t=="number"?"number:"+U$(t):"string:"+t},sF=function(t){if(t.isLeafNode()){const e=t.val();it(typeof e=="string"||typeof e=="number"||typeof e=="object"&&su(e,".sv"),"Priority must be a string or number.")}else it(t===uk||t.isEmpty(),"priority of unexpected type.");it(t===uk||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sO;class Gr{constructor(e,i=Gr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,it(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sF(this.priorityNode_)}static set __childrenNodeConstructor(e){sO=e}static get __childrenNodeConstructor(){return sO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bi(e)?this:pi(e)===".priority"?this.priorityNode_:Gr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Gr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const n=pi(e);return n===null?i:i.isEmpty()&&n!==".priority"?this:(it(n!==".priority"||Pd(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Gr.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aF(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=U$(this.value_):e+=this.value_,this.lazyHash_=O$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gr.__childrenNodeConstructor?-1:(it(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,n=typeof this.value_,r=Gr.VALUE_TYPE_ORDER.indexOf(i),a=Gr.VALUE_TYPE_ORDER.indexOf(n);return it(r>=0,"Unknown leaf type: "+i),it(a>=0,"Unknown leaf type: "+n),r===a?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Gr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oF,lF;function Gle(t){oF=t}function Ule(t){lF=t}class Lle extends aE{compare(e,i){const n=e.node.getPriority(),r=i.node.getPriority(),a=n.compareTo(r);return a===0?jm(e.name,i.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ri.MIN}maxPost(){return new ri(bf,new Gr("[PRIORITY-POST]",lF))}makePost(e,i){const n=oF(e);return new ri(i,new Gr("[PRIORITY-POST]",n))}toString(){return".priority"}}const Xn=new Lle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=Math.log(2);class $le{constructor(e){const i=a=>parseInt(Math.log(a)/Ble,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tw=function(t,e,i,n){t.sort(e);const r=function(c,d){const p=d-c;let m,y;if(p===0)return null;if(p===1)return m=t[c],y=i?i(m):m,new Ur(y,m.node,Ur.BLACK,null,null);{const _=parseInt(p/2,10)+c,w=r(c,_),C=r(_+1,d);return m=t[_],y=i?i(m):m,new Ur(y,m.node,Ur.BLACK,w,C)}},a=function(c){let d=null,p=null,m=t.length;const y=function(w,C){const k=m-w,S=m;m-=w;const x=r(k+1,S),O=t[k],D=i?i(O):O;_(new Ur(D,O.node,C,null,x))},_=function(w){d?(d.left=w,d=w):(p=w,d=w)};for(let w=0;w<c.count;++w){const C=c.nextBitIsOne(),k=Math.pow(2,c.count-(w+1));C?y(k,Ur.BLACK):(y(k,Ur.BLACK),y(k,Ur.RED))}return p},s=new $le(t.length),o=a(s);return new bs(n||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D1;const wp={};class Wc{constructor(e,i){this.indexes_=e,this.indexSet_=i}static get Default(){return it(wp&&Xn,"ChildrenNode.ts has not been loaded"),D1=D1||new Wc({".priority":wp},{".priority":Xn}),D1}get(e){const i=ym(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof bs?i:null}hasIndex(e){return su(this.indexSet_,e.toString())}addIndex(e,i){it(e!==im,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const a=i.getIterator(ri.Wrap);let s=a.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=a.getNext();let o;r?o=tw(n,e.getCompare()):o=wp;const c=e.toString(),d=Object.assign({},this.indexSet_);d[c]=e;const p=Object.assign({},this.indexes_);return p[c]=o,new Wc(p,d)}addToIndexes(e,i){const n=z0(this.indexes_,(r,a)=>{const s=ym(this.indexSet_,a);if(it(s,"Missing index implementation for "+a),r===wp)if(s.isDefinedOn(e.node)){const o=[],c=i.getIterator(ri.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&o.push(d),d=c.getNext();return o.push(e),tw(o,s.getCompare())}else return wp;else{const o=i.get(e.name);let c=r;return o&&(c=c.remove(new ri(e.name,o))),c.insert(e,e.node)}});return new Wc(n,this.indexSet_)}removeFromIndexes(e,i){const n=z0(this.indexes_,r=>{if(r===wp)return r;{const a=i.get(e.name);return a?r.remove(new ri(e.name,a)):r}});return new Wc(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky;class Mt{constructor(e,i,n){this.children_=e,this.priorityNode_=i,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&sF(this.priorityNode_),this.children_.isEmpty()&&it(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ky||(Ky=new Mt(new bs(GA),null,Wc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ky}updatePriority(e){return this.children_.isEmpty()?this:new Mt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Ky:i}}getChild(e){const i=pi(e);return i===null?this:this.getImmediateChild(i).getChild(pn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(it(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const n=new ri(e,i);let r,a;i.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Ky:this.priorityNode_;return new Mt(r,s,a)}}updateChild(e,i){const n=pi(e);if(n===null)return i;{it(pi(e)!==".priority"||Pd(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(pn(e),i);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let n=0,r=0,a=!0;if(this.forEachChild(Xn,(s,o)=>{i[s]=o.val(e),n++,a&&Mt.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):a=!1}),!e&&a&&r<2*n){const s=[];for(const o in i)s[o]=i[o];return s}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aF(this.getPriority().val())+":"),this.forEachChild(Xn,(i,n)=>{const r=n.hash();r!==""&&(e+=":"+i+":"+r)}),this.lazyHash_=e===""?"":O$(e)}return this.lazyHash_}getPredecessorChildName(e,i,n){const r=this.resolveIndex_(n);if(r){const a=r.getPredecessorKey(new ri(e,i));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const n=i.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ri(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const n=i.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ri(i,this.children_.get(i)):null}forEachChild(e,i){const n=this.resolveIndex_(e);return n?n.inorderTraversal(r=>i(r.name,r.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const n=this.resolveIndex_(i);if(n)return n.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ri.Wrap);let a=r.peek();for(;a!=null&&i.compare(a,e)<0;)r.getNext(),a=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const n=this.resolveIndex_(i);if(n)return n.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ri.Wrap);let a=r.peek();for(;a!=null&&i.compare(a,e)>0;)r.getNext(),a=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===db?-1:0}withIndex(e){if(e===im||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new Mt(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===im||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const n=this.getIterator(Xn),r=i.getIterator(Xn);let a=n.getNext(),s=r.getNext();for(;a&&s;){if(a.name!==s.name||!a.node.equals(s.node))return!1;a=n.getNext(),s=r.getNext()}return a===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===im?null:this.indexMap_.get(e.toString())}}Mt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Fle extends Mt{constructor(){super(new bs(GA),Mt.EMPTY_NODE,Wc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Mt.EMPTY_NODE}isEmpty(){return!1}}const db=new Fle;Object.defineProperties(ri,{MIN:{value:new ri(gm,Mt.EMPTY_NODE)},MAX:{value:new ri(bf,db)}});rF.__EMPTY_NODE=Mt.EMPTY_NODE;Gr.__childrenNodeConstructor=Mt;Nle(db);Ule(db);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle=!0;function Lr(t,e=null){if(t===null)return Mt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),it(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new Gr(i,Lr(e))}if(!(t instanceof Array)&&Hle){const i=[];let n=!1;if(Ro(t,(s,o)=>{if(s.substring(0,1)!=="."){const c=Lr(o);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),i.push(new ri(s,c)))}}),i.length===0)return Mt.EMPTY_NODE;const a=tw(i,Ole,s=>s.name,GA);if(n){const s=tw(i,Xn.getCompare());return new Mt(a,Lr(e),new Wc({".priority":s},{".priority":Xn}))}else return new Mt(a,Lr(e),Wc.Default)}else{let i=Mt.EMPTY_NODE;return Ro(t,(n,r)=>{if(su(t,n)&&n.substring(0,1)!=="."){const a=Lr(r);(a.isLeafNode()||!a.isEmpty())&&(i=i.updateImmediateChild(n,a))}}),i.updatePriority(Lr(e))}}Gle(Lr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle extends aE{constructor(e){super(),this.indexPath_=e,it(!bi(e)&&pi(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const n=this.extractChild(e.node),r=this.extractChild(i.node),a=n.compareTo(r);return a===0?jm(e.name,i.name):a}makePost(e,i){const n=Lr(e),r=Mt.EMPTY_NODE.updateChild(this.indexPath_,n);return new ri(i,r)}maxPost(){const e=Mt.EMPTY_NODE.updateChild(this.indexPath_,db);return new ri(bf,e)}toString(){return tF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yle extends aE{compare(e,i){const n=e.node.compareTo(i.node);return n===0?jm(e.name,i.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ri.MIN}maxPost(){return ri.MAX}makePost(e,i){const n=Lr(e);return new ri(i,n)}toString(){return".value"}}const qle=new Yle;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(t){return{type:"value",snapshotNode:t}}function _v(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function wv(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ev(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function jle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.index_=e}updateChild(e,i,n,r,a,s){it(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(i);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()||(s!=null&&(n.isEmpty()?e.hasChild(i)?s.trackChildChange(wv(i,o)):it(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(_v(i,n)):s.trackChildChange(Ev(i,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(i,n).withIndex(this.index_)}updateFullNode(e,i,n){return n!=null&&(e.isLeafNode()||e.forEachChild(Xn,(r,a)=>{i.hasChild(r)||n.trackChildChange(wv(r,a))}),i.isLeafNode()||i.forEachChild(Xn,(r,a)=>{if(e.hasChild(r)){const s=e.getImmediateChild(r);s.equals(a)||n.trackChildChange(Ev(r,a,s))}else n.trackChildChange(_v(r,a))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?Mt.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.indexedFilter_=new UA(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Tv.getStartPost_(e),this.endPost_=Tv.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,i,n,r,a,s){return this.matches(new ri(i,n))||(n=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,n,r,a,s)}updateFullNode(e,i,n){i.isLeafNode()&&(i=Mt.EMPTY_NODE);let r=i.withIndex(this.index_);r=r.updatePriority(Mt.EMPTY_NODE);const a=this;return i.forEachChild(Xn,(s,o)=>{a.matches(new ri(s,o))||(r=r.updateImmediateChild(s,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(e){this.rangedFilter_=new Tv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,i,n,r,a,s){return this.rangedFilter_.matches(new ri(i,n))||(n=Mt.EMPTY_NODE),e.getImmediateChild(i).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,n,r,a,s):this.fullLimitUpdateChild_(e,i,n,a,s)}updateFullNode(e,i,n){let r;if(i.isLeafNode()||i.isEmpty())r=Mt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){r=Mt.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){const o=a.getNext();let c;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:c=this.index_.compare(o,this.rangedFilter_.getEndPost())<=0,c)r=r.updateImmediateChild(o.name,o.node),s++;else break}}else{r=i.withIndex(this.index_),r=r.updatePriority(Mt.EMPTY_NODE);let a,s,o,c;if(this.reverse_){c=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();const m=this.index_.getCompare();o=(y,_)=>m(_,y)}else c=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),o=this.index_.getCompare();let d=0,p=!1;for(;c.hasNext();){const m=c.getNext();!p&&o(a,m)<=0&&(p=!0),p&&d<this.limit_&&o(m,s)<=0?d++:r=r.updateImmediateChild(m.name,Mt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,n,r,a){let s;if(this.reverse_){const m=this.index_.getCompare();s=(y,_)=>m(_,y)}else s=this.index_.getCompare();const o=e;it(o.numChildren()===this.limit_,"");const c=new ri(i,n),d=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(o.hasChild(i)){const m=o.getImmediateChild(i);let y=r.getChildAfterChild(this.index_,d,this.reverse_);for(;y!=null&&(y.name===i||o.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);const _=y==null?1:s(y,c);if(p&&!n.isEmpty()&&_>=0)return a!=null&&a.trackChildChange(Ev(i,n,m)),o.updateImmediateChild(i,n);{a!=null&&a.trackChildChange(wv(i,m));const C=o.updateImmediateChild(i,Mt.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(a!=null&&a.trackChildChange(_v(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}}else return n.isEmpty()?e:p&&s(d,c)>=0?(a!=null&&(a.trackChildChange(wv(d.name,d.node)),a.trackChildChange(_v(i,n))),o.updateImmediateChild(i,n).updateImmediateChild(d.name,Mt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return it(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return it(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gm}hasEnd(){return this.endSet_}getIndexEndValue(){return it(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return it(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return it(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xn}copy(){const e=new LA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Xle(t){return t.loadsAllData()?new UA(t.getIndex()):t.hasLimit()?new zle(t):new Tv(t)}function oO(t){const e={};if(t.isDefault())return e;let i;return t.index_===Xn?i="$priority":t.index_===qle?i="$value":t.index_===im?i="$key":(it(t.index_ instanceof Vle,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=Br(i),t.startSet_&&(e.startAt=Br(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Br(t.indexStartName_))),t.endSet_&&(e.endAt=Br(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Br(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lO(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==Xn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends Q${constructor(e,i,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=ub("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(it(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,i,n,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const s=iw.getListenId_(e,n),o={};this.listens_[s]=o;const c=oO(e._queryParams);this.restRequest_(a+".json",c,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(a,m,!1,n),ym(this.listens_,s)===o){let y;d?d===401?y="permission_denied":y="rest_error:"+d:y="ok",r(y,null)}})}unlisten(e,i){const n=iw.getListenId_(e,i);delete this.listens_[n]}get(e){const i=oO(e._queryParams),n=e._path.toString(),r=new mA;return this.restRequest_(n+".json",i,(a,s)=>{let o=s;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,i={},n){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(i.auth=r.accessToken),a&&a.token&&(i.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qm(i);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let c=null;if(o.status>=200&&o.status<300){try{c=pv(o.responseText)}catch{_s("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,c)}else o.status!==401&&o.status!==404&&_s("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(){this.rootNode_=Mt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return{value:null,children:new Map}}function cF(t,e,i){if(bi(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const n=pi(e);t.children.has(n)||t.children.set(n,nw());const r=t.children.get(n);e=pn(e),cF(r,e,i)}}function dk(t,e,i){t.value!==null?i(e,t.value):Zle(t,(n,r)=>{const a=new en(e.toString()+"/"+n);dk(r,a,i)})}function Zle(t,e){t.children.forEach((i,n)=>{e(n,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Ro(this.last_,(n,r)=>{i[n]=i[n]-r}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=10*1e3,Jle=30*1e3,ece=5*60*1e3;class tce{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Qle(e);const n=cO+(Jle-cO)*Math.random();$g(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),i={};let n=!1;Ro(e,(r,a)=>{a>0&&su(this.statsToReport_,r)&&(i[r]=a,n=!0)}),n&&this.server_.reportStats(i),$g(this.reportStats_.bind(this),Math.floor(Math.random()*2*ece))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ql||(Ql={}));function uF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,i,n){this.path=e,this.affectedTree=i,this.revert=n,this.type=Ql.ACK_USER_WRITE,this.source=uF()}operationForChild(e){if(bi(this.path)){if(this.affectedTree.value!=null)return it(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new en(e));return new rw(Ui(),i,this.revert)}}else return it(pi(this.path)===e,"operationForChild called for unrelated child."),new rw(pn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,i,n){this.source=e,this.path=i,this.snap=n,this.type=Ql.OVERWRITE}operationForChild(e){return bi(this.path)?new _f(this.source,Ui(),this.snap.getImmediateChild(e)):new _f(this.source,pn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,i,n){this.source=e,this.path=i,this.children=n,this.type=Ql.MERGE}operationForChild(e){if(bi(this.path)){const i=this.children.subtree(new en(e));return i.isEmpty()?null:i.value?new _f(this.source,Ui(),i.value):new Cv(this.source,Ui(),i)}else return it(pi(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cv(this.source,pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,n){this.node_=e,this.fullyInitialized_=i,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bi(e))return this.isFullyInitialized()&&!this.filtered_;const i=pi(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nce(t,e,i,n){const r=[],a=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(jle(s.childName,s.snapshotNode))}),Zy(t,r,"child_removed",e,n,i),Zy(t,r,"child_added",e,n,i),Zy(t,r,"child_moved",a,n,i),Zy(t,r,"child_changed",e,n,i),Zy(t,r,"value",e,n,i),r}function Zy(t,e,i,n,r,a){const s=n.filter(o=>o.type===i);s.sort((o,c)=>ace(t,o,c)),s.forEach(o=>{const c=rce(t,o,a);r.forEach(d=>{d.respondsTo(o.type)&&e.push(d.createEvent(c,t.query_))})})}function rce(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ace(t,e,i){if(e.childName==null||i.childName==null)throw Vm("Should only compare child_ events.");const n=new ri(e.childName,e.snapshotNode),r=new ri(i.childName,i.snapshotNode);return t.index_.compare(n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){return{eventCache:t,serverCache:e}}function Fg(t,e,i,n){return sE(new Od(e,i,n),t.serverCache)}function fF(t,e,i,n){return sE(t.eventCache,new Od(e,i,n))}function aw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1;const sce=()=>(I1||(I1=new bs(Hoe)),I1);class fn{constructor(e,i=sce()){this.value=e,this.children=i}static fromObject(e){let i=new fn(null);return Ro(e,(n,r)=>{i=i.set(new en(n),r)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ui(),value:this.value};if(bi(e))return null;{const n=pi(e),r=this.children.get(n);if(r!==null){const a=r.findRootMostMatchingPathAndValue(pn(e),i);return a!=null?{path:Cr(new en(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bi(e))return this;{const i=pi(e),n=this.children.get(i);return n!==null?n.subtree(pn(e)):new fn(null)}}set(e,i){if(bi(e))return new fn(i,this.children);{const n=pi(e),a=(this.children.get(n)||new fn(null)).set(pn(e),i),s=this.children.insert(n,a);return new fn(this.value,s)}}remove(e){if(bi(e))return this.children.isEmpty()?new fn(null):new fn(null,this.children);{const i=pi(e),n=this.children.get(i);if(n){const r=n.remove(pn(e));let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),this.value===null&&a.isEmpty()?new fn(null):new fn(this.value,a)}else return this}}get(e){if(bi(e))return this.value;{const i=pi(e),n=this.children.get(i);return n?n.get(pn(e)):null}}setTree(e,i){if(bi(e))return i;{const n=pi(e),a=(this.children.get(n)||new fn(null)).setTree(pn(e),i);let s;return a.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,a),new fn(this.value,s)}}fold(e){return this.fold_(Ui(),e)}fold_(e,i){const n={};return this.children.inorderTraversal((r,a)=>{n[r]=a.fold_(Cr(e,r),i)}),i(e,this.value,n)}findOnPath(e,i){return this.findOnPath_(e,Ui(),i)}findOnPath_(e,i,n){const r=this.value?n(i,this.value):!1;if(r)return r;if(bi(e))return null;{const a=pi(e),s=this.children.get(a);return s?s.findOnPath_(pn(e),Cr(i,a),n):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ui(),i)}foreachOnPath_(e,i,n){if(bi(e))return this;{this.value&&n(i,this.value);const r=pi(e),a=this.children.get(r);return a?a.foreachOnPath_(pn(e),Cr(i,r),n):new fn(null)}}foreach(e){this.foreach_(Ui(),e)}foreach_(e,i){this.children.inorderTraversal((n,r)=>{r.foreach_(Cr(e,n),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,n)=>{n.value&&e(i,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.writeTree_=e}static empty(){return new cl(new fn(null))}}function Hg(t,e,i){if(bi(e))return new cl(new fn(i));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const r=n.path;let a=n.value;const s=Js(r,e);return a=a.updateChild(s,i),new cl(t.writeTree_.set(r,a))}else{const r=new fn(i),a=t.writeTree_.setTree(e,r);return new cl(a)}}}function uO(t,e,i){let n=t;return Ro(i,(r,a)=>{n=Hg(n,Cr(e,r),a)}),n}function dO(t,e){if(bi(e))return cl.empty();{const i=t.writeTree_.setTree(e,new fn(null));return new cl(i)}}function hk(t,e){return Hf(t,e)!=null}function Hf(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Js(i.path,e)):null}function hO(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Xn,(n,r)=>{e.push(new ri(n,r))}):t.writeTree_.children.inorderTraversal((n,r)=>{r.value!=null&&e.push(new ri(n,r.value))}),e}function Ed(t,e){if(bi(e))return t;{const i=Hf(t,e);return i!=null?new cl(new fn(i)):new cl(t.writeTree_.subtree(e))}}function fk(t){return t.writeTree_.isEmpty()}function vm(t,e){return pF(Ui(),t.writeTree_,e)}function pF(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((r,a)=>{r===".priority"?(it(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):i=pF(Cr(t,r),a,i)}),!i.getChild(t).isEmpty()&&n!==null&&(i=i.updateChild(Cr(t,".priority"),n)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){return vF(e,t)}function oce(t,e,i,n,r){it(n>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:i,writeId:n,visible:r}),r&&(t.visibleWrites=Hg(t.visibleWrites,e,i)),t.lastWriteId=n}function lce(t,e){for(let i=0;i<t.allWrites.length;i++){const n=t.allWrites[i];if(n.writeId===e)return n}return null}function cce(t,e){const i=t.allWrites.findIndex(o=>o.writeId===e);it(i>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[i];t.allWrites.splice(i,1);let r=n.visible,a=!1,s=t.allWrites.length-1;for(;r&&s>=0;){const o=t.allWrites[s];o.visible&&(s>=i&&uce(o,n.path)?r=!1:sl(n.path,o.path)&&(a=!0)),s--}if(r){if(a)return dce(t),!0;if(n.snap)t.visibleWrites=dO(t.visibleWrites,n.path);else{const o=n.children;Ro(o,c=>{t.visibleWrites=dO(t.visibleWrites,Cr(n.path,c))})}return!0}else return!1}function uce(t,e){if(t.snap)return sl(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&sl(Cr(t.path,i),e))return!0;return!1}function dce(t){t.visibleWrites=mF(t.allWrites,hce,Ui()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hce(t){return t.visible}function mF(t,e,i){let n=cl.empty();for(let r=0;r<t.length;++r){const a=t[r];if(e(a)){const s=a.path;let o;if(a.snap)sl(i,s)?(o=Js(i,s),n=Hg(n,o,a.snap)):sl(s,i)&&(o=Js(s,i),n=Hg(n,Ui(),a.snap.getChild(o)));else if(a.children){if(sl(i,s))o=Js(i,s),n=uO(n,o,a.children);else if(sl(s,i))if(o=Js(s,i),bi(o))n=uO(n,Ui(),a.children);else{const c=ym(a.children,pi(o));if(c){const d=c.getChild(pn(o));n=Hg(n,Ui(),d)}}}else throw Vm("WriteRecord should have .snap or .children")}}return n}function yF(t,e,i,n,r){if(!n&&!r){const a=Hf(t.visibleWrites,e);if(a!=null)return a;{const s=Ed(t.visibleWrites,e);if(fk(s))return i;if(i==null&&!hk(s,Ui()))return null;{const o=i||Mt.EMPTY_NODE;return vm(s,o)}}}else{const a=Ed(t.visibleWrites,e);if(!r&&fk(a))return i;if(!r&&i==null&&!hk(a,Ui()))return null;{const s=function(d){return(d.visible||r)&&(!n||!~n.indexOf(d.writeId))&&(sl(d.path,e)||sl(e,d.path))},o=mF(t.allWrites,s,e),c=i||Mt.EMPTY_NODE;return vm(o,c)}}}function fce(t,e,i){let n=Mt.EMPTY_NODE;const r=Hf(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Xn,(a,s)=>{n=n.updateImmediateChild(a,s)}),n;if(i){const a=Ed(t.visibleWrites,e);return i.forEachChild(Xn,(s,o)=>{const c=vm(Ed(a,new en(s)),o);n=n.updateImmediateChild(s,c)}),hO(a).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}else{const a=Ed(t.visibleWrites,e);return hO(a).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}}function pce(t,e,i,n,r){it(n||r,"Either existingEventSnap or existingServerSnap must exist");const a=Cr(e,i);if(hk(t.visibleWrites,a))return null;{const s=Ed(t.visibleWrites,a);return fk(s)?r.getChild(i):vm(s,r.getChild(i))}}function mce(t,e,i,n){const r=Cr(e,i),a=Hf(t.visibleWrites,r);if(a!=null)return a;if(n.isCompleteForChild(i)){const s=Ed(t.visibleWrites,r);return vm(s,n.getNode().getImmediateChild(i))}else return null}function yce(t,e){return Hf(t.visibleWrites,e)}function gce(t,e,i,n,r,a,s){let o;const c=Ed(t.visibleWrites,e),d=Hf(c,Ui());if(d!=null)o=d;else if(i!=null)o=vm(c,i);else return[];if(o=o.withIndex(s),!o.isEmpty()&&!o.isLeafNode()){const p=[],m=s.getCompare(),y=a?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s);let _=y.getNext();for(;_&&p.length<r;)m(_,n)!==0&&p.push(_),_=y.getNext();return p}else return[]}function vce(){return{visibleWrites:cl.empty(),allWrites:[],lastWriteId:-1}}function sw(t,e,i,n){return yF(t.writeTree,t.treePath,e,i,n)}function $A(t,e){return fce(t.writeTree,t.treePath,e)}function fO(t,e,i,n){return pce(t.writeTree,t.treePath,e,i,n)}function ow(t,e){return yce(t.writeTree,Cr(t.treePath,e))}function bce(t,e,i,n,r,a){return gce(t.writeTree,t.treePath,e,i,n,r,a)}function FA(t,e,i){return mce(t.writeTree,t.treePath,e,i)}function gF(t,e){return vF(Cr(t.treePath,e),t.writeTree)}function vF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,n=e.childName;it(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),it(n!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const a=r.type;if(i==="child_added"&&a==="child_removed")this.changeMap.set(n,Ev(n,e.snapshotNode,r.snapshotNode));else if(i==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(i==="child_removed"&&a==="child_changed")this.changeMap.set(n,wv(n,r.oldSnap));else if(i==="child_changed"&&a==="child_added")this.changeMap.set(n,_v(n,e.snapshotNode));else if(i==="child_changed"&&a==="child_changed")this.changeMap.set(n,Ev(n,e.snapshotNode,r.oldSnap));else throw Vm("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{getCompleteChild(e){return null}getChildAfterChild(e,i,n){return null}}const bF=new wce;class HA{constructor(e,i,n=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=n}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new Od(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FA(this.writes_,e,n)}}getChildAfterChild(e,i,n){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wf(this.viewCache_),a=bce(this.writes_,r,i,1,n,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ece(t){return{filter:t}}function Tce(t,e){it(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),it(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Cce(t,e,i,n,r){const a=new _ce;let s,o;if(i.type===Ql.OVERWRITE){const d=i;d.source.fromUser?s=pk(t,e,d.path,d.snap,n,r,a):(it(d.source.fromServer,"Unknown source."),o=d.source.tagged||e.serverCache.isFiltered()&&!bi(d.path),s=lw(t,e,d.path,d.snap,n,r,o,a))}else if(i.type===Ql.MERGE){const d=i;d.source.fromUser?s=Sce(t,e,d.path,d.children,n,r,a):(it(d.source.fromServer,"Unknown source."),o=d.source.tagged||e.serverCache.isFiltered(),s=mk(t,e,d.path,d.children,n,r,o,a))}else if(i.type===Ql.ACK_USER_WRITE){const d=i;d.revert?s=Dce(t,e,d.path,n,r,a):s=Ace(t,e,d.path,d.affectedTree,n,r,a)}else if(i.type===Ql.LISTEN_COMPLETE)s=xce(t,e,i.path,n,a);else throw Vm("Unknown operation type: "+i.type);const c=a.getChanges();return kce(e,s,c),{viewCache:s,changes:c}}function kce(t,e,i){const n=e.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=aw(t);(i.length>0||!t.eventCache.isFullyInitialized()||r&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&i.push(Wle(aw(e)))}}function _F(t,e,i,n,r,a){const s=e.eventCache;if(ow(n,i)!=null)return e;{let o,c;if(bi(i))if(it(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=wf(e),p=d instanceof Mt?d:Mt.EMPTY_NODE,m=$A(n,p);o=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const d=sw(n,wf(e));o=t.filter.updateFullNode(e.eventCache.getNode(),d,a)}else{const d=pi(i);if(d===".priority"){it(Pd(i)===1,"Can't have a priority with additional path components");const p=s.getNode();c=e.serverCache.getNode();const m=fO(n,i,p,c);m!=null?o=t.filter.updatePriority(p,m):o=s.getNode()}else{const p=pn(i);let m;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();const y=fO(n,i,s.getNode(),c);y!=null?m=s.getNode().getImmediateChild(d).updateChild(p,y):m=s.getNode().getImmediateChild(d)}else m=FA(n,d,e.serverCache);m!=null?o=t.filter.updateChild(s.getNode(),d,m,p,r,a):o=s.getNode()}}return Fg(e,o,s.isFullyInitialized()||bi(i),t.filter.filtersNodes())}}function lw(t,e,i,n,r,a,s,o){const c=e.serverCache;let d;const p=s?t.filter:t.filter.getIndexedFilter();if(bi(i))d=p.updateFullNode(c.getNode(),n,null);else if(p.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(i,n);d=p.updateFullNode(c.getNode(),_,null)}else{const _=pi(i);if(!c.isCompleteForPath(i)&&Pd(i)>1)return e;const w=pn(i),k=c.getNode().getImmediateChild(_).updateChild(w,n);_===".priority"?d=p.updatePriority(c.getNode(),k):d=p.updateChild(c.getNode(),_,k,w,bF,null)}const m=fF(e,d,c.isFullyInitialized()||bi(i),p.filtersNodes()),y=new HA(r,m,a);return _F(t,m,i,r,y,o)}function pk(t,e,i,n,r,a,s){const o=e.eventCache;let c,d;const p=new HA(r,e,a);if(bi(i))d=t.filter.updateFullNode(e.eventCache.getNode(),n,s),c=Fg(e,d,!0,t.filter.filtersNodes());else{const m=pi(i);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),n),c=Fg(e,d,o.isFullyInitialized(),o.isFiltered());else{const y=pn(i),_=o.getNode().getImmediateChild(m);let w;if(bi(y))w=n;else{const C=p.getCompleteChild(m);C!=null?eF(y)===".priority"&&C.getChild(iF(y)).isEmpty()?w=C:w=C.updateChild(y,n):w=Mt.EMPTY_NODE}if(_.equals(w))c=e;else{const C=t.filter.updateChild(o.getNode(),m,w,y,p,s);c=Fg(e,C,o.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function pO(t,e){return t.eventCache.isCompleteForChild(e)}function Sce(t,e,i,n,r,a,s){let o=e;return n.foreach((c,d)=>{const p=Cr(i,c);pO(e,pi(p))&&(o=pk(t,o,p,d,r,a,s))}),n.foreach((c,d)=>{const p=Cr(i,c);pO(e,pi(p))||(o=pk(t,o,p,d,r,a,s))}),o}function mO(t,e,i){return i.foreach((n,r)=>{e=e.updateChild(n,r)}),e}function mk(t,e,i,n,r,a,s,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;bi(i)?d=n:d=new fn(null).setTree(i,n);const p=e.serverCache.getNode();return d.children.inorderTraversal((m,y)=>{if(p.hasChild(m)){const _=e.serverCache.getNode().getImmediateChild(m),w=mO(t,_,y);c=lw(t,c,new en(m),w,r,a,s,o)}}),d.children.inorderTraversal((m,y)=>{const _=!e.serverCache.isCompleteForChild(m)&&y.value===void 0;if(!p.hasChild(m)&&!_){const w=e.serverCache.getNode().getImmediateChild(m),C=mO(t,w,y);c=lw(t,c,new en(m),C,r,a,s,o)}}),c}function Ace(t,e,i,n,r,a,s){if(ow(r,i)!=null)return e;const o=e.serverCache.isFiltered(),c=e.serverCache;if(n.value!=null){if(bi(i)&&c.isFullyInitialized()||c.isCompleteForPath(i))return lw(t,e,i,c.getNode().getChild(i),r,a,o,s);if(bi(i)){let d=new fn(null);return c.getNode().forEachChild(im,(p,m)=>{d=d.set(new en(p),m)}),mk(t,e,i,d,r,a,o,s)}else return e}else{let d=new fn(null);return n.foreach((p,m)=>{const y=Cr(i,p);c.isCompleteForPath(y)&&(d=d.set(p,c.getNode().getChild(y)))}),mk(t,e,i,d,r,a,o,s)}}function xce(t,e,i,n,r){const a=e.serverCache,s=fF(e,a.getNode(),a.isFullyInitialized()||bi(i),a.isFiltered());return _F(t,s,i,n,bF,r)}function Dce(t,e,i,n,r,a){let s;if(ow(n,i)!=null)return e;{const o=new HA(n,e,r),c=e.eventCache.getNode();let d;if(bi(i)||pi(i)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=sw(n,wf(e));else{const m=e.serverCache.getNode();it(m instanceof Mt,"serverChildren would be complete if leaf node"),p=$A(n,m)}p=p,d=t.filter.updateFullNode(c,p,a)}else{const p=pi(i);let m=FA(n,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=c.getImmediateChild(p)),m!=null?d=t.filter.updateChild(c,p,m,pn(i),o,a):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(c,p,Mt.EMPTY_NODE,pn(i),o,a):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=sw(n,wf(e)),s.isLeafNode()&&(d=t.filter.updateFullNode(d,s,a)))}return s=e.serverCache.isFullyInitialized()||ow(n,Ui())!=null,Fg(e,d,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new UA(n.getIndex()),a=Xle(n);this.processor_=Ece(a);const s=i.serverCache,o=i.eventCache,c=r.updateFullNode(Mt.EMPTY_NODE,s.getNode(),null),d=a.updateFullNode(Mt.EMPTY_NODE,o.getNode(),null),p=new Od(c,s.isFullyInitialized(),r.filtersNodes()),m=new Od(d,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=sE(m,p),this.eventGenerator_=new ice(this.query_)}get query(){return this.query_}}function Rce(t){return aw(t.viewCache_)}function Mce(t,e){const i=wf(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!bi(e)&&!i.getImmediateChild(pi(e)).isEmpty())?i.getChild(e):null}function yO(t,e,i,n){e.type===Ql.MERGE&&e.source.queryId!==null&&(it(wf(t.viewCache_),"We should always have a full cache before handling merges"),it(aw(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,a=Cce(t.processor_,r,e,i,n);return Tce(t.processor_,a.viewCache),it(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Pce(t,a.changes,a.viewCache.eventCache.getNode())}function Pce(t,e,i,n){const r=t.eventRegistrations_;return nce(t.eventGenerator_,e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gO;class Oce{constructor(){this.views=new Map}}function Nce(t){it(!gO,"__referenceConstructor has already been defined"),gO=t}function VA(t,e,i,n){const r=e.source.queryId;if(r!==null){const a=t.views.get(r);return it(a!=null,"SyncTree gave us an op for an invalid query."),yO(a,e,i,n)}else{let a=[];for(const s of t.views.values())a=a.concat(yO(s,e,i,n));return a}}function Gce(t,e,i,n,r){const a=e._queryIdentifier,s=t.views.get(a);if(!s){let o=sw(i,r?n:null),c=!1;o?c=!0:n instanceof Mt?(o=$A(i,n),c=!1):(o=Mt.EMPTY_NODE,c=!1);const d=sE(new Od(o,c,!1),new Od(n,r,!1));return new Ice(e,d)}return s}function kv(t,e){let i=null;for(const n of t.views.values())i=i||Mce(n,e);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vO;function Uce(t){it(!vO,"__referenceConstructor has already been defined"),vO=t}class bO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fn(null),this.pendingWriteTree_=vce(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wF(t,e,i,n,r){return oce(t.pendingWriteTree_,e,i,n,r),r?oE(t,new _f(uF(),e,i)):[]}function qh(t,e,i=!1){const n=lce(t.pendingWriteTree_,e);if(cce(t.pendingWriteTree_,e)){let a=new fn(null);return n.snap!=null?a=a.set(Ui(),!0):Ro(n.children,s=>{a=a.set(new en(s),!0)}),oE(t,new rw(n.path,a,i))}else return[]}function hb(t,e,i){return oE(t,new _f(dF(),e,i))}function Lce(t,e,i){const n=fn.fromObject(i);return oE(t,new Cv(dF(),e,n))}function Bce(t,e,i,n){const r=CF(t,n);if(r!=null){const a=kF(r),s=a.path,o=a.queryId,c=Js(s,e),d=new _f(hF(o),c,i);return SF(t,s,d)}else return[]}function $ce(t,e,i,n){const r=CF(t,n);if(r){const a=kF(r),s=a.path,o=a.queryId,c=Js(s,e),d=fn.fromObject(i),p=new Cv(hF(o),c,d);return SF(t,s,p)}else return[]}function YA(t,e,i){const r=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(s,o)=>{const c=Js(s,e),d=kv(o,c);if(d)return d});return yF(r,e,a,i,!0)}function Fce(t,e){const i=e._path;let n=null;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=Js(d,i);n=n||kv(p,m)});let r=t.syncPointTree_.get(i);r?n=n||kv(r,Ui()):(r=new Oce,t.syncPointTree_=t.syncPointTree_.set(i,r));const a=n!=null,s=a?new Od(n,!0,!1):null,o=BA(t.pendingWriteTree_,e._path),c=Gce(r,e,o,a?s.getNode():Mt.EMPTY_NODE,a);return Rce(c)}function oE(t,e){return EF(e,t.syncPointTree_,null,BA(t.pendingWriteTree_,Ui()))}function EF(t,e,i,n){if(bi(t.path))return TF(t,e,i,n);{const r=e.get(Ui());i==null&&r!=null&&(i=kv(r,Ui()));let a=[];const s=pi(t.path),o=t.operationForChild(s),c=e.children.get(s);if(c&&o){const d=i?i.getImmediateChild(s):null,p=gF(n,s);a=a.concat(EF(o,c,d,p))}return r&&(a=a.concat(VA(r,t,n,i))),a}}function TF(t,e,i,n){const r=e.get(Ui());i==null&&r!=null&&(i=kv(r,Ui()));let a=[];return e.children.inorderTraversal((s,o)=>{const c=i?i.getImmediateChild(s):null,d=gF(n,s),p=t.operationForChild(s);p&&(a=a.concat(TF(p,o,c,d)))}),r&&(a=a.concat(VA(r,t,n,i))),a}function CF(t,e){return t.tagToQueryMap.get(e)}function kF(t){const e=t.indexOf("$");return it(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new en(t.substr(0,e))}}function SF(t,e,i){const n=t.syncPointTree_.get(e);it(n,"Missing sync point for query tag that we're tracking");const r=BA(t.pendingWriteTree_,e);return VA(n,i,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new qA(i)}node(){return this.node_}}class WA{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Cr(this.path_,e);return new WA(this.syncTree_,i)}node(){return YA(this.syncTree_,this.path_)}}const Hce=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_O=function(t,e,i){if(!t||typeof t!="object")return t;if(it(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Vce(t[".sv"],e,i);if(typeof t[".sv"]=="object")return Yce(t[".sv"],e);it(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Vce=function(t,e,i){switch(t){case"timestamp":return i.timestamp;default:it(!1,"Unexpected server value: "+t)}},Yce=function(t,e,i){t.hasOwnProperty("increment")||it(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&it(!1,"Unexpected increment value: "+n);const r=e.node();if(it(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const s=r.getValue();return typeof s!="number"?n:s+n},qce=function(t,e,i,n){return jA(e,new WA(i,t),n)},AF=function(t,e,i){return jA(t,new qA(e),i)};function jA(t,e,i){const n=t.getPriority().val(),r=_O(n,e.getImmediateChild(".priority"),i);let a;if(t.isLeafNode()){const s=t,o=_O(s.getValue(),e,i);return o!==s.getValue()||r!==s.getPriority().val()?new Gr(o,Lr(r)):t}else{const s=t;return a=s,r!==s.getPriority().val()&&(a=a.updatePriority(new Gr(r))),s.forEachChild(Xn,(o,c)=>{const d=jA(c,e.getImmediateChild(o),i);d!==c&&(a=a.updateImmediateChild(o,d))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e="",i=null,n={children:{},childCount:0}){this.name=e,this.parent=i,this.node=n}}function XA(t,e){let i=e instanceof en?e:new en(e),n=t,r=pi(i);for(;r!==null;){const a=ym(n.node.children,r)||{children:{},childCount:0};n=new zA(r,n,a),i=pn(i),r=pi(i)}return n}function Xm(t){return t.node.value}function xF(t,e){t.node.value=e,yk(t)}function DF(t){return t.node.childCount>0}function Wce(t){return Xm(t)===void 0&&!DF(t)}function lE(t,e){Ro(t.node.children,(i,n)=>{e(new zA(i,t,n))})}function IF(t,e,i,n){i&&!n&&e(t),lE(t,r=>{IF(r,e,!0,n)}),i&&n&&e(t)}function jce(t,e,i){let n=t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function fb(t){return new en(t.parent===null?t.name:fb(t.parent)+"/"+t.name)}function yk(t){t.parent!==null&&zce(t.parent,t.name,t)}function zce(t,e,i){const n=Wce(i),r=su(t.node.children,e);n&&r?(delete t.node.children[e],t.node.childCount--,yk(t)):!n&&!r&&(t.node.children[e]=i.node,t.node.childCount++,yk(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce=/[\[\].#$\/\u0000-\u001F\u007F]/,Kce=/[\[\].#$\u0000-\u001F\u007F]/,R1=10*1024*1024,RF=function(t){return typeof t=="string"&&t.length!==0&&!Xce.test(t)},MF=function(t){return typeof t=="string"&&t.length!==0&&!Kce.test(t)},Zce=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MF(t)},Qce=function(t,e,i,n){KA(gA(t,"value"),e,i)},KA=function(t,e,i){const n=i instanceof en?new kle(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+Dh(n));if(typeof e=="function")throw new Error(t+"contains a function "+Dh(n)+" with contents = "+e.toString());if(N$(e))throw new Error(t+"contains "+e.toString()+" "+Dh(n));if(typeof e=="string"&&e.length>R1/3&&tE(e)>R1)throw new Error(t+"contains a string greater than "+R1+" utf8 bytes "+Dh(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,a=!1;if(Ro(e,(s,o)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!RF(s)))throw new Error(t+" contains an invalid key ("+s+") "+Dh(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Sle(n,s),KA(t,o,n),Ale(n)}),r&&a)throw new Error(t+' contains ".value" child '+Dh(n)+" in addition to actual children.")}},PF=function(t,e,i,n){if(!MF(i))throw new Error(gA(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Jce=function(t,e,i,n){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),PF(t,e,i)},eue=function(t,e){if(pi(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},tue=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!RF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!Zce(i))throw new Error(gA(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ZA(t,e){let i=null;for(let n=0;n<e.length;n++){const r=e[n],a=r.getPath();i!==null&&!OA(a,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:a}),i.events.push(r)}i&&t.eventLists_.push(i)}function nue(t,e,i){ZA(t,i),OF(t,n=>OA(n,e))}function eu(t,e,i){ZA(t,i),OF(t,n=>sl(n,e)||sl(e,n))}function OF(t,e){t.recursionDepth_++;let i=!0;for(let n=0;n<t.eventLists_.length;n++){const r=t.eventLists_[n];if(r){const a=r.path;e(a)?(rue(t.eventLists_[n]),t.eventLists_[n]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function rue(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const n=i.getEventRunner();Bg&&_a("event: "+i.toString()),zm(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aue="repo_interrupt",sue=25;class oue{constructor(e,i,n,r){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nw(),this.transactionQueueTree_=new zA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lue(t,e,i){if(t.stats_=RA(t.repoInfo_),t.forceRestClient_||zoe())t.server_=new iw(t.repoInfo_,(n,r,a,s)=>{wO(t,n,r,a,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>EO(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Br(i)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new Zc(t.repoInfo_,e,(n,r,a,s)=>{wO(t,n,r,a,s)},n=>{EO(t,n)},n=>{uue(t,n)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=tle(t.repoInfo_,()=>new tce(t.stats_,t.server_)),t.infoData_=new Kle,t.infoSyncTree_=new bO({startListening:(n,r,a,s)=>{let o=[];const c=t.infoData_.getNode(n._path);return c.isEmpty()||(o=hb(t.infoSyncTree_,n._path,c),setTimeout(()=>{s("ok")},0)),o},stopListening:()=>{}}),JA(t,"connected",!1),t.serverSyncTree_=new bO({startListening:(n,r,a,s)=>(t.server_.listen(n,a,r,(o,c)=>{const d=s(o,c);eu(t.eventQueue_,n._path,d)}),[]),stopListening:(n,r)=>{t.server_.unlisten(n,r)}})}function cue(t){const i=t.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function QA(t){return Hce({timestamp:cue(t)})}function wO(t,e,i,n,r){t.dataUpdateCount++;const a=new en(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let s=[];if(r)if(n){const c=z0(i,d=>Lr(d));s=$ce(t.serverSyncTree_,a,c,r)}else{const c=Lr(i);s=Bce(t.serverSyncTree_,a,c,r)}else if(n){const c=z0(i,d=>Lr(d));s=Lce(t.serverSyncTree_,a,c)}else{const c=Lr(i);s=hb(t.serverSyncTree_,a,c)}let o=a;s.length>0&&(o=uE(t,a)),eu(t.eventQueue_,o,s)}function EO(t,e){JA(t,"connected",e),e===!1&&fue(t)}function uue(t,e){Ro(e,(i,n)=>{JA(t,i,n)})}function JA(t,e,i){const n=new en("/.info/"+e),r=Lr(i);t.infoData_.updateSnapshot(n,r);const a=hb(t.infoSyncTree_,n,r);eu(t.eventQueue_,n,a)}function NF(t){return t.nextWriteId_++}function due(t,e){const i=Fce(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(n=>{const r=Lr(n).withIndex(e._queryParams.getIndex()),a=hb(t.serverSyncTree_,e._path,r);return nue(t.eventQueue_,e._path,a),Promise.resolve(r)},n=>(cE(t,"get for query "+Br(e)+" failed: "+n),Promise.reject(new Error(n))))}function hue(t,e,i,n,r){cE(t,"set",{path:e.toString(),value:i,priority:n});const a=QA(t),s=Lr(i,n),o=YA(t.serverSyncTree_,e),c=AF(s,o,a),d=NF(t),p=wF(t.serverSyncTree_,e,c,d,!0);ZA(t.eventQueue_,p),t.server_.put(e.toString(),s.val(!0),(y,_)=>{const w=y==="ok";w||_s("set at "+e+" failed: "+y);const C=qh(t.serverSyncTree_,d,!w);eu(t.eventQueue_,e,C),mue(t,r,y,_)});const m=$F(t,e);uE(t,m),eu(t.eventQueue_,m,[])}function fue(t){cE(t,"onDisconnectEvents");const e=QA(t),i=nw();dk(t.onDisconnect_,Ui(),(r,a)=>{const s=qce(r,a,t.serverSyncTree_,e);cF(i,r,s)});let n=[];dk(i,Ui(),(r,a)=>{n=n.concat(hb(t.serverSyncTree_,r,a));const s=$F(t,r);uE(t,s)}),t.onDisconnect_=nw(),eu(t.eventQueue_,Ui(),n)}function pue(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aue)}function cE(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),_a(i,...e)}function mue(t,e,i,n){e&&zm(()=>{if(i==="ok")e(null);else{const r=(i||"error").toUpperCase();let a=r;n&&(a+=": "+n);const s=new Error(a);s.code=r,e(s)}})}function GF(t,e,i){return YA(t.serverSyncTree_,e,i)||Mt.EMPTY_NODE}function ex(t,e=t.transactionQueueTree_){if(e||dE(t,e),Xm(e)){const i=LF(t,e);it(i.length>0,"Sending zero length transaction queue"),i.every(r=>r.status===0)&&yue(t,fb(e),i)}else DF(e)&&lE(e,i=>{ex(t,i)})}function yue(t,e,i){const n=i.map(d=>d.currentWriteId),r=GF(t,e,n);let a=r;const s=r.hash();for(let d=0;d<i.length;d++){const p=i[d];it(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Js(e,p.path);a=a.updateChild(m,p.currentOutputSnapshotRaw)}const o=a.val(!0),c=e;t.server_.put(c.toString(),o,d=>{cE(t,"transaction put response",{path:c.toString(),status:d});let p=[];if(d==="ok"){const m=[];for(let y=0;y<i.length;y++)i[y].status=2,p=p.concat(qh(t.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&m.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();dE(t,XA(t.transactionQueueTree_,e)),ex(t,t.transactionQueueTree_),eu(t.eventQueue_,e,p);for(let y=0;y<m.length;y++)zm(m[y])}else{if(d==="datastale")for(let m=0;m<i.length;m++)i[m].status===3?i[m].status=4:i[m].status=0;else{_s("transaction at "+c.toString()+" failed: "+d);for(let m=0;m<i.length;m++)i[m].status=4,i[m].abortReason=d}uE(t,e)}},s)}function uE(t,e){const i=UF(t,e),n=fb(i),r=LF(t,i);return gue(t,r,n),n}function gue(t,e,i){if(e.length===0)return;const n=[];let r=[];const s=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const c=e[o],d=Js(i,c.path);let p=!1,m;if(it(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,m=c.abortReason,r=r.concat(qh(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=sue)p=!0,m="maxretry",r=r.concat(qh(t.serverSyncTree_,c.currentWriteId,!0));else{const y=GF(t,c.path,s);c.currentInputSnapshot=y;const _=e[o].update(y.val());if(_!==void 0){KA("transaction failed: Data returned ",_,c.path);let w=Lr(_);typeof _=="object"&&_!=null&&su(_,".priority")||(w=w.updatePriority(y.getPriority()));const k=c.currentWriteId,S=QA(t),x=AF(w,y,S);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=x,c.currentWriteId=NF(t),s.splice(s.indexOf(k),1),r=r.concat(wF(t.serverSyncTree_,c.path,x,c.currentWriteId,c.applyLocally)),r=r.concat(qh(t.serverSyncTree_,k,!0))}else p=!0,m="nodata",r=r.concat(qh(t.serverSyncTree_,c.currentWriteId,!0))}eu(t.eventQueue_,i,r),r=[],p&&(e[o].status=2,function(y){setTimeout(y,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(m==="nodata"?n.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):n.push(()=>e[o].onComplete(new Error(m),!1,null))))}dE(t,t.transactionQueueTree_);for(let o=0;o<n.length;o++)zm(n[o]);ex(t,t.transactionQueueTree_)}function UF(t,e){let i,n=t.transactionQueueTree_;for(i=pi(e);i!==null&&Xm(n)===void 0;)n=XA(n,i),e=pn(e),i=pi(e);return n}function LF(t,e){const i=[];return BF(t,e,i),i.sort((n,r)=>n.order-r.order),i}function BF(t,e,i){const n=Xm(e);if(n)for(let r=0;r<n.length;r++)i.push(n[r]);lE(e,r=>{BF(t,r,i)})}function dE(t,e){const i=Xm(e);if(i){let n=0;for(let r=0;r<i.length;r++)i[r].status!==2&&(i[n]=i[r],n++);i.length=n,xF(e,i.length>0?i:void 0)}lE(e,n=>{dE(t,n)})}function $F(t,e){const i=fb(UF(t,e)),n=XA(t.transactionQueueTree_,e);return jce(n,r=>{M1(t,r)}),M1(t,n),IF(n,r=>{M1(t,r)}),i}function M1(t,e){const i=Xm(e);if(i){const n=[];let r=[],a=-1;for(let s=0;s<i.length;s++)i[s].status===3||(i[s].status===1?(it(a===s-1,"All SENT items should be at beginning of queue."),a=s,i[s].status=3,i[s].abortReason="set"):(it(i[s].status===0,"Unexpected transaction status in abort"),i[s].unwatcher(),r=r.concat(qh(t.serverSyncTree_,i[s].currentWriteId,!0)),i[s].onComplete&&n.push(i[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?xF(e,void 0):i.length=a+1,eu(t.eventQueue_,fb(e),r);for(let s=0;s<n.length;s++)zm(n[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(t){let e="";const i=t.split("/");for(let n=0;n<i.length;n++)if(i[n].length>0){let r=i[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function bue(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const n=i.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):_s(`Invalid query segment '${i}' in query '${t}'`)}return e}const TO=function(t,e){const i=_ue(t),n=i.namespace;i.domain==="firebase.com"&&vf(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&i.domain!=="localhost"&&vf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||$oe();const r=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Qoe(i.host,i.secure,n,e,r,"",n!==i.subdomain),path:new en(i.pathString)}},_ue=function(t){let e="",i="",n="",r="",a="",s=!0,o="https",c=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(o=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(r=vue(t.substring(p,m)));const y=bue(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(s=o==="https"||o==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const _=e.slice(0,d);if(_.toLowerCase()==="localhost")i="localhost";else if(_.split(".").length<=2)i=_;else{const w=e.indexOf(".");n=e.substring(0,w).toLowerCase(),i=e.substring(w+1),a=n}"ns"in y&&(a=y.ns)}return{host:e,port:c,domain:i,subdomain:n,secure:s,scheme:o,pathString:r,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,i,n,r){this._repo=e,this._path=i,this._queryParams=n,this._orderByCalled=r}get key(){return bi(this._path)?null:eF(this._path)}get ref(){return new Hd(this._repo,this._path)}get _queryIdentifier(){const e=lO(this._queryParams),i=DA(e);return i==="{}"?"default":i}get _queryObject(){return lO(this._queryParams)}isEqual(e){if(e=yl(e),!(e instanceof tx))return!1;const i=this._repo===e._repo,n=OA(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return i&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Cle(this._path)}}class Hd extends tx{constructor(e,i){super(e,i,new LA,!1)}get parent(){const e=iF(this._path);return e===null?null:new Hd(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class cw{constructor(e,i,n){this._node=e,this.ref=i,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new en(e),n=gk(this.ref,e);return new cw(this._node.getChild(i),n,Xn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>e(new cw(r,gk(this.ref,n),Xn)))}hasChild(e){const i=new en(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function P1(t,e){return t=yl(t),t._checkNotDeleted("ref"),e!==void 0?gk(t._root,e):t._root}function gk(t,e){return t=yl(t),pi(t._path)===null?Jce("child","path",e):PF("child","path",e),new Hd(t._repo,Cr(t._path,e))}function wue(t,e){t=yl(t),eue("set",t._path),Qce("set",e,t._path);const i=new mA;return hue(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}function CO(t){return t=yl(t),due(t._repo,t).then(e=>new cw(e,new Hd(t._repo,t._path),t._queryParams.getIndex()))}Nce(Hd);Uce(Hd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue="FIREBASE_DATABASE_EMULATOR_HOST",vk={};let Tue=!1;function Cue(t,e,i,n,r){let a=n||t.options.databaseURL;a===void 0&&(t.options.projectId||vf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_a("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=TO(a,r),o=s.repoInfo,c;typeof process<"u"&&(c=Poe[Eue]),c?(a=`http://${c}?ns=${o.namespace}`,s=TO(a,r),o=s.repoInfo):s.repoInfo.secure;const d=new Koe(t.name,t.options,e);tue("Invalid Firebase Database URL",s),bi(s.path)||vf("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Sue(o,t,d,new Xoe(t.name,i));return new Aue(p,t)}function kue(t,e){const i=vk[e];(!i||i[t.key]!==t)&&vf(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pue(t),delete i[t.key]}function Sue(t,e,i,n){let r=vk[e.name];r||(r={},vk[e.name]=r);let a=r[t.toURLString()];return a&&vf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new oue(t,Tue,i,n),r[t.toURLString()]=a,a}class Aue{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lue(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hd(this._repo,Ui())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kue(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&vf("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xue(t){Ooe(tb),yv(new mv("database",(e,{instanceIdentifier:i})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return Cue(n,r,a,i)},"PUBLIC").setMultipleInstances(!0)),wd(qP,WP,t),wd(qP,WP,"esm2017")}Zc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};xue();var Due="firebase",Iue="9.6.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wd(Due,Iue,"app");var FF={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",i="finalize already called",n=typeof window=="object",r=n?window:{};r.JS_SHA512_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",s=!r.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Ci:a&&(r=self);var o=!r.JS_SHA512_NO_COMMON_JS&&!0&&t.exports,c=!r.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),p=[-2147483648,8388608,32768,128],m=[24,16,8,0],y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=["hex","array","digest","arrayBuffer"],w=[];(r.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),c&&(r.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});var C=function(P,R){return function(I){return new O(R,!0).update(I)[P]()}},k=function(P){var R=C("hex",P);R.create=function(){return new O(P)},R.update=function($){return R.create().update($)};for(var I=0;I<_.length;++I){var F=_[I];R[F]=C(F,P)}return R},S=function(P,R){return function(I,F){return new D(I,R,!0).update(F)[P]()}},x=function(P){var R=S("hex",P);R.create=function($){return new D($,P)},R.update=function($,L){return R.create($).update(L)};for(var I=0;I<_.length;++I){var F=_[I];R[F]=S(F,P)}return R};function O(P,R){R?(w[0]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=w[16]=w[17]=w[18]=w[19]=w[20]=w[21]=w[22]=w[23]=w[24]=w[25]=w[26]=w[27]=w[28]=w[29]=w[30]=w[31]=w[32]=0,this.blocks=w):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):P==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):P==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=P,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}O.prototype.update=function(P){if(this.finalized)throw new Error(i);var R,I=typeof P;if(I!=="string"){if(I==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);R=!0}for(var F,$=0,L,W=P.length,j=this.blocks;$<W;){if(this.hashed&&(this.hashed=!1,j[0]=this.block,j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=j[16]=j[17]=j[18]=j[19]=j[20]=j[21]=j[22]=j[23]=j[24]=j[25]=j[26]=j[27]=j[28]=j[29]=j[30]=j[31]=j[32]=0),R)for(L=this.start;$<W&&L<128;++$)j[L>>2]|=P[$]<<m[L++&3];else for(L=this.start;$<W&&L<128;++$)F=P.charCodeAt($),F<128?j[L>>2]|=F<<m[L++&3]:F<2048?(j[L>>2]|=(192|F>>6)<<m[L++&3],j[L>>2]|=(128|F&63)<<m[L++&3]):F<55296||F>=57344?(j[L>>2]|=(224|F>>12)<<m[L++&3],j[L>>2]|=(128|F>>6&63)<<m[L++&3],j[L>>2]|=(128|F&63)<<m[L++&3]):(F=65536+((F&1023)<<10|P.charCodeAt(++$)&1023),j[L>>2]|=(240|F>>18)<<m[L++&3],j[L>>2]|=(128|F>>12&63)<<m[L++&3],j[L>>2]|=(128|F>>6&63)<<m[L++&3],j[L>>2]|=(128|F&63)<<m[L++&3]);this.lastByteIndex=L,this.bytes+=L-this.start,L>=128?(this.block=j[32],this.start=L-128,this.hash(),this.hashed=!0):this.start=L}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,R=this.lastByteIndex;P[32]=this.block,P[R>>2]|=p[R&3],this.block=P[32],R>=112&&(this.hashed||this.hash(),P[0]=this.block,P[1]=P[2]=P[3]=P[4]=P[5]=P[6]=P[7]=P[8]=P[9]=P[10]=P[11]=P[12]=P[13]=P[14]=P[15]=P[16]=P[17]=P[18]=P[19]=P[20]=P[21]=P[22]=P[23]=P[24]=P[25]=P[26]=P[27]=P[28]=P[29]=P[30]=P[31]=P[32]=0),P[30]=this.hBytes<<3|this.bytes>>>29,P[31]=this.bytes<<3,this.hash()}},O.prototype.hash=function(){var P=this.h0h,R=this.h0l,I=this.h1h,F=this.h1l,$=this.h2h,L=this.h2l,W=this.h3h,j=this.h3l,z=this.h4h,re=this.h4l,ce=this.h5h,ge=this.h5l,be=this.h6h,ue=this.h6l,se=this.h7h,Z=this.h7l,K=this.blocks,q,ie,le,Q,fe,de,he,ve,ne,Bt,It,ht,Se,Jt,$t,St,xt,Ct,nt,De,Ve,Pt,st,_i,mi;for(q=32;q<160;q+=2)De=K[q-30],Ve=K[q-29],ie=(De>>>1|Ve<<31)^(De>>>8|Ve<<24)^De>>>7,le=(Ve>>>1|De<<31)^(Ve>>>8|De<<24)^(Ve>>>7|De<<25),De=K[q-4],Ve=K[q-3],Q=(De>>>19|Ve<<13)^(Ve>>>29|De<<3)^De>>>6,fe=(Ve>>>19|De<<13)^(De>>>29|Ve<<3)^(Ve>>>6|De<<26),De=K[q-32],Ve=K[q-31],Pt=K[q-14],st=K[q-13],de=(st&65535)+(Ve&65535)+(le&65535)+(fe&65535),he=(st>>>16)+(Ve>>>16)+(le>>>16)+(fe>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(ie&65535)+(Q&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(ie>>>16)+(Q>>>16)+(ve>>>16),K[q]=ne<<16|ve&65535,K[q+1]=he<<16|de&65535;var wi=P,Ei=R,di=I,Xi=F,Rt=$,jt=L,Xe=W,zt=j,ut=z,Ot=re,ye=ce,Pe=ge,Le=be,lt=ue,tt=se,at=Z;for(St=di&Rt,xt=Xi&jt,q=0;q<160;q+=8)ie=(wi>>>28|Ei<<4)^(Ei>>>2|wi<<30)^(Ei>>>7|wi<<25),le=(Ei>>>28|wi<<4)^(wi>>>2|Ei<<30)^(wi>>>7|Ei<<25),Q=(ut>>>14|Ot<<18)^(ut>>>18|Ot<<14)^(Ot>>>9|ut<<23),fe=(Ot>>>14|ut<<18)^(Ot>>>18|ut<<14)^(ut>>>9|Ot<<23),Bt=wi&di,It=Ei&Xi,Ct=Bt^wi&Rt^St,nt=It^Ei&jt^xt,_i=ut&ye^~ut&Le,mi=Ot&Pe^~Ot&lt,De=K[q],Ve=K[q+1],Pt=y[q],st=y[q+1],de=(st&65535)+(Ve&65535)+(mi&65535)+(fe&65535)+(at&65535),he=(st>>>16)+(Ve>>>16)+(mi>>>16)+(fe>>>16)+(at>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(_i&65535)+(Q&65535)+(tt&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(_i>>>16)+(Q>>>16)+(tt>>>16)+(ve>>>16),De=ne<<16|ve&65535,Ve=he<<16|de&65535,de=(nt&65535)+(le&65535),he=(nt>>>16)+(le>>>16)+(de>>>16),ve=(Ct&65535)+(ie&65535)+(he>>>16),ne=(Ct>>>16)+(ie>>>16)+(ve>>>16),Pt=ne<<16|ve&65535,st=he<<16|de&65535,de=(zt&65535)+(Ve&65535),he=(zt>>>16)+(Ve>>>16)+(de>>>16),ve=(Xe&65535)+(De&65535)+(he>>>16),ne=(Xe>>>16)+(De>>>16)+(ve>>>16),tt=ne<<16|ve&65535,at=he<<16|de&65535,de=(st&65535)+(Ve&65535),he=(st>>>16)+(Ve>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(ve>>>16),Xe=ne<<16|ve&65535,zt=he<<16|de&65535,ie=(Xe>>>28|zt<<4)^(zt>>>2|Xe<<30)^(zt>>>7|Xe<<25),le=(zt>>>28|Xe<<4)^(Xe>>>2|zt<<30)^(Xe>>>7|zt<<25),Q=(tt>>>14|at<<18)^(tt>>>18|at<<14)^(at>>>9|tt<<23),fe=(at>>>14|tt<<18)^(at>>>18|tt<<14)^(tt>>>9|at<<23),ht=Xe&wi,Se=zt&Ei,Ct=ht^Xe&di^Bt,nt=Se^zt&Xi^It,_i=tt&ut^~tt&ye,mi=at&Ot^~at&Pe,De=K[q+2],Ve=K[q+3],Pt=y[q+2],st=y[q+3],de=(st&65535)+(Ve&65535)+(mi&65535)+(fe&65535)+(lt&65535),he=(st>>>16)+(Ve>>>16)+(mi>>>16)+(fe>>>16)+(lt>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(_i&65535)+(Q&65535)+(Le&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(_i>>>16)+(Q>>>16)+(Le>>>16)+(ve>>>16),De=ne<<16|ve&65535,Ve=he<<16|de&65535,de=(nt&65535)+(le&65535),he=(nt>>>16)+(le>>>16)+(de>>>16),ve=(Ct&65535)+(ie&65535)+(he>>>16),ne=(Ct>>>16)+(ie>>>16)+(ve>>>16),Pt=ne<<16|ve&65535,st=he<<16|de&65535,de=(jt&65535)+(Ve&65535),he=(jt>>>16)+(Ve>>>16)+(de>>>16),ve=(Rt&65535)+(De&65535)+(he>>>16),ne=(Rt>>>16)+(De>>>16)+(ve>>>16),Le=ne<<16|ve&65535,lt=he<<16|de&65535,de=(st&65535)+(Ve&65535),he=(st>>>16)+(Ve>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(ve>>>16),Rt=ne<<16|ve&65535,jt=he<<16|de&65535,ie=(Rt>>>28|jt<<4)^(jt>>>2|Rt<<30)^(jt>>>7|Rt<<25),le=(jt>>>28|Rt<<4)^(Rt>>>2|jt<<30)^(Rt>>>7|jt<<25),Q=(Le>>>14|lt<<18)^(Le>>>18|lt<<14)^(lt>>>9|Le<<23),fe=(lt>>>14|Le<<18)^(lt>>>18|Le<<14)^(Le>>>9|lt<<23),Jt=Rt&Xe,$t=jt&zt,Ct=Jt^Rt&wi^ht,nt=$t^jt&Ei^Se,_i=Le&tt^~Le&ut,mi=lt&at^~lt&Ot,De=K[q+4],Ve=K[q+5],Pt=y[q+4],st=y[q+5],de=(st&65535)+(Ve&65535)+(mi&65535)+(fe&65535)+(Pe&65535),he=(st>>>16)+(Ve>>>16)+(mi>>>16)+(fe>>>16)+(Pe>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(_i&65535)+(Q&65535)+(ye&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(_i>>>16)+(Q>>>16)+(ye>>>16)+(ve>>>16),De=ne<<16|ve&65535,Ve=he<<16|de&65535,de=(nt&65535)+(le&65535),he=(nt>>>16)+(le>>>16)+(de>>>16),ve=(Ct&65535)+(ie&65535)+(he>>>16),ne=(Ct>>>16)+(ie>>>16)+(ve>>>16),Pt=ne<<16|ve&65535,st=he<<16|de&65535,de=(Xi&65535)+(Ve&65535),he=(Xi>>>16)+(Ve>>>16)+(de>>>16),ve=(di&65535)+(De&65535)+(he>>>16),ne=(di>>>16)+(De>>>16)+(ve>>>16),ye=ne<<16|ve&65535,Pe=he<<16|de&65535,de=(st&65535)+(Ve&65535),he=(st>>>16)+(Ve>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(ve>>>16),di=ne<<16|ve&65535,Xi=he<<16|de&65535,ie=(di>>>28|Xi<<4)^(Xi>>>2|di<<30)^(Xi>>>7|di<<25),le=(Xi>>>28|di<<4)^(di>>>2|Xi<<30)^(di>>>7|Xi<<25),Q=(ye>>>14|Pe<<18)^(ye>>>18|Pe<<14)^(Pe>>>9|ye<<23),fe=(Pe>>>14|ye<<18)^(Pe>>>18|ye<<14)^(ye>>>9|Pe<<23),St=di&Rt,xt=Xi&jt,Ct=St^di&Xe^Jt,nt=xt^Xi&zt^$t,_i=ye&Le^~ye&tt,mi=Pe&lt^~Pe&at,De=K[q+6],Ve=K[q+7],Pt=y[q+6],st=y[q+7],de=(st&65535)+(Ve&65535)+(mi&65535)+(fe&65535)+(Ot&65535),he=(st>>>16)+(Ve>>>16)+(mi>>>16)+(fe>>>16)+(Ot>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(_i&65535)+(Q&65535)+(ut&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(_i>>>16)+(Q>>>16)+(ut>>>16)+(ve>>>16),De=ne<<16|ve&65535,Ve=he<<16|de&65535,de=(nt&65535)+(le&65535),he=(nt>>>16)+(le>>>16)+(de>>>16),ve=(Ct&65535)+(ie&65535)+(he>>>16),ne=(Ct>>>16)+(ie>>>16)+(ve>>>16),Pt=ne<<16|ve&65535,st=he<<16|de&65535,de=(Ei&65535)+(Ve&65535),he=(Ei>>>16)+(Ve>>>16)+(de>>>16),ve=(wi&65535)+(De&65535)+(he>>>16),ne=(wi>>>16)+(De>>>16)+(ve>>>16),ut=ne<<16|ve&65535,Ot=he<<16|de&65535,de=(st&65535)+(Ve&65535),he=(st>>>16)+(Ve>>>16)+(de>>>16),ve=(Pt&65535)+(De&65535)+(he>>>16),ne=(Pt>>>16)+(De>>>16)+(ve>>>16),wi=ne<<16|ve&65535,Ei=he<<16|de&65535;de=(R&65535)+(Ei&65535),he=(R>>>16)+(Ei>>>16)+(de>>>16),ve=(P&65535)+(wi&65535)+(he>>>16),ne=(P>>>16)+(wi>>>16)+(ve>>>16),this.h0h=ne<<16|ve&65535,this.h0l=he<<16|de&65535,de=(F&65535)+(Xi&65535),he=(F>>>16)+(Xi>>>16)+(de>>>16),ve=(I&65535)+(di&65535)+(he>>>16),ne=(I>>>16)+(di>>>16)+(ve>>>16),this.h1h=ne<<16|ve&65535,this.h1l=he<<16|de&65535,de=(L&65535)+(jt&65535),he=(L>>>16)+(jt>>>16)+(de>>>16),ve=($&65535)+(Rt&65535)+(he>>>16),ne=($>>>16)+(Rt>>>16)+(ve>>>16),this.h2h=ne<<16|ve&65535,this.h2l=he<<16|de&65535,de=(j&65535)+(zt&65535),he=(j>>>16)+(zt>>>16)+(de>>>16),ve=(W&65535)+(Xe&65535)+(he>>>16),ne=(W>>>16)+(Xe>>>16)+(ve>>>16),this.h3h=ne<<16|ve&65535,this.h3l=he<<16|de&65535,de=(re&65535)+(Ot&65535),he=(re>>>16)+(Ot>>>16)+(de>>>16),ve=(z&65535)+(ut&65535)+(he>>>16),ne=(z>>>16)+(ut>>>16)+(ve>>>16),this.h4h=ne<<16|ve&65535,this.h4l=he<<16|de&65535,de=(ge&65535)+(Pe&65535),he=(ge>>>16)+(Pe>>>16)+(de>>>16),ve=(ce&65535)+(ye&65535)+(he>>>16),ne=(ce>>>16)+(ye>>>16)+(ve>>>16),this.h5h=ne<<16|ve&65535,this.h5l=he<<16|de&65535,de=(ue&65535)+(lt&65535),he=(ue>>>16)+(lt>>>16)+(de>>>16),ve=(be&65535)+(Le&65535)+(he>>>16),ne=(be>>>16)+(Le>>>16)+(ve>>>16),this.h6h=ne<<16|ve&65535,this.h6l=he<<16|de&65535,de=(Z&65535)+(at&65535),he=(Z>>>16)+(at>>>16)+(de>>>16),ve=(se&65535)+(tt&65535)+(he>>>16),ne=(se>>>16)+(tt>>>16)+(ve>>>16),this.h7h=ne<<16|ve&65535,this.h7l=he<<16|de&65535},O.prototype.hex=function(){this.finalize();var P=this.h0h,R=this.h0l,I=this.h1h,F=this.h1l,$=this.h2h,L=this.h2l,W=this.h3h,j=this.h3l,z=this.h4h,re=this.h4l,ce=this.h5h,ge=this.h5l,be=this.h6h,ue=this.h6l,se=this.h7h,Z=this.h7l,K=this.bits,q=d[P>>28&15]+d[P>>24&15]+d[P>>20&15]+d[P>>16&15]+d[P>>12&15]+d[P>>8&15]+d[P>>4&15]+d[P&15]+d[R>>28&15]+d[R>>24&15]+d[R>>20&15]+d[R>>16&15]+d[R>>12&15]+d[R>>8&15]+d[R>>4&15]+d[R&15]+d[I>>28&15]+d[I>>24&15]+d[I>>20&15]+d[I>>16&15]+d[I>>12&15]+d[I>>8&15]+d[I>>4&15]+d[I&15]+d[F>>28&15]+d[F>>24&15]+d[F>>20&15]+d[F>>16&15]+d[F>>12&15]+d[F>>8&15]+d[F>>4&15]+d[F&15]+d[$>>28&15]+d[$>>24&15]+d[$>>20&15]+d[$>>16&15]+d[$>>12&15]+d[$>>8&15]+d[$>>4&15]+d[$&15]+d[L>>28&15]+d[L>>24&15]+d[L>>20&15]+d[L>>16&15]+d[L>>12&15]+d[L>>8&15]+d[L>>4&15]+d[L&15]+d[W>>28&15]+d[W>>24&15]+d[W>>20&15]+d[W>>16&15]+d[W>>12&15]+d[W>>8&15]+d[W>>4&15]+d[W&15];return K>=256&&(q+=d[j>>28&15]+d[j>>24&15]+d[j>>20&15]+d[j>>16&15]+d[j>>12&15]+d[j>>8&15]+d[j>>4&15]+d[j&15]),K>=384&&(q+=d[z>>28&15]+d[z>>24&15]+d[z>>20&15]+d[z>>16&15]+d[z>>12&15]+d[z>>8&15]+d[z>>4&15]+d[z&15]+d[re>>28&15]+d[re>>24&15]+d[re>>20&15]+d[re>>16&15]+d[re>>12&15]+d[re>>8&15]+d[re>>4&15]+d[re&15]+d[ce>>28&15]+d[ce>>24&15]+d[ce>>20&15]+d[ce>>16&15]+d[ce>>12&15]+d[ce>>8&15]+d[ce>>4&15]+d[ce&15]+d[ge>>28&15]+d[ge>>24&15]+d[ge>>20&15]+d[ge>>16&15]+d[ge>>12&15]+d[ge>>8&15]+d[ge>>4&15]+d[ge&15]),K==512&&(q+=d[be>>28&15]+d[be>>24&15]+d[be>>20&15]+d[be>>16&15]+d[be>>12&15]+d[be>>8&15]+d[be>>4&15]+d[be&15]+d[ue>>28&15]+d[ue>>24&15]+d[ue>>20&15]+d[ue>>16&15]+d[ue>>12&15]+d[ue>>8&15]+d[ue>>4&15]+d[ue&15]+d[se>>28&15]+d[se>>24&15]+d[se>>20&15]+d[se>>16&15]+d[se>>12&15]+d[se>>8&15]+d[se>>4&15]+d[se&15]+d[Z>>28&15]+d[Z>>24&15]+d[Z>>20&15]+d[Z>>16&15]+d[Z>>12&15]+d[Z>>8&15]+d[Z>>4&15]+d[Z&15]),q},O.prototype.toString=O.prototype.hex,O.prototype.digest=function(){this.finalize();var P=this.h0h,R=this.h0l,I=this.h1h,F=this.h1l,$=this.h2h,L=this.h2l,W=this.h3h,j=this.h3l,z=this.h4h,re=this.h4l,ce=this.h5h,ge=this.h5l,be=this.h6h,ue=this.h6l,se=this.h7h,Z=this.h7l,K=this.bits,q=[P>>24&255,P>>16&255,P>>8&255,P&255,R>>24&255,R>>16&255,R>>8&255,R&255,I>>24&255,I>>16&255,I>>8&255,I&255,F>>24&255,F>>16&255,F>>8&255,F&255,$>>24&255,$>>16&255,$>>8&255,$&255,L>>24&255,L>>16&255,L>>8&255,L&255,W>>24&255,W>>16&255,W>>8&255,W&255];return K>=256&&q.push(j>>24&255,j>>16&255,j>>8&255,j&255),K>=384&&q.push(z>>24&255,z>>16&255,z>>8&255,z&255,re>>24&255,re>>16&255,re>>8&255,re&255,ce>>24&255,ce>>16&255,ce>>8&255,ce&255,ge>>24&255,ge>>16&255,ge>>8&255,ge&255),K==512&&q.push(be>>24&255,be>>16&255,be>>8&255,be&255,ue>>24&255,ue>>16&255,ue>>8&255,ue&255,se>>24&255,se>>16&255,se>>8&255,se&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255),q},O.prototype.array=O.prototype.digest,O.prototype.arrayBuffer=function(){this.finalize();var P=this.bits,R=new ArrayBuffer(P/8),I=new DataView(R);return I.setUint32(0,this.h0h),I.setUint32(4,this.h0l),I.setUint32(8,this.h1h),I.setUint32(12,this.h1l),I.setUint32(16,this.h2h),I.setUint32(20,this.h2l),I.setUint32(24,this.h3h),P>=256&&I.setUint32(28,this.h3l),P>=384&&(I.setUint32(32,this.h4h),I.setUint32(36,this.h4l),I.setUint32(40,this.h5h),I.setUint32(44,this.h5l)),P==512&&(I.setUint32(48,this.h6h),I.setUint32(52,this.h6l),I.setUint32(56,this.h7h),I.setUint32(60,this.h7l)),R},O.prototype.clone=function(){var P=new O(this.bits,!1);return this.copyTo(P),P},O.prototype.copyTo=function(P){var R=0,I=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(R=0;R<I.length;++R)P[I[R]]=this[I[R]];for(R=0;R<this.blocks.length;++R)P.blocks[R]=this.blocks[R]};function D(P,R,I){var F,$=typeof P;if($!=="string"){if($==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);F=!0}var L=P.length;if(!F){for(var W=[],L=P.length,j=0,z,re=0;re<L;++re)z=P.charCodeAt(re),z<128?W[j++]=z:z<2048?(W[j++]=192|z>>6,W[j++]=128|z&63):z<55296||z>=57344?(W[j++]=224|z>>12,W[j++]=128|z>>6&63,W[j++]=128|z&63):(z=65536+((z&1023)<<10|P.charCodeAt(++re)&1023),W[j++]=240|z>>18,W[j++]=128|z>>12&63,W[j++]=128|z>>6&63,W[j++]=128|z&63);P=W}P.length>128&&(P=new O(R,!0).update(P).array());for(var ce=[],ge=[],re=0;re<128;++re){var be=P[re]||0;ce[re]=92^be,ge[re]=54^be}O.call(this,R,I),this.update(ge),this.oKeyPad=ce,this.inner=!0,this.sharedMemory=I}D.prototype=new O,D.prototype.finalize=function(){if(O.prototype.finalize.call(this),this.inner){this.inner=!1;var P=this.array();O.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(P),O.prototype.finalize.call(this)}},D.prototype.clone=function(){var P=new D([],this.bits,!1);this.copyTo(P),P.inner=this.inner;for(var R=0;R<this.oKeyPad.length;++R)P.oKeyPad[R]=this.oKeyPad[R];return P};var B=k(512);B.sha512=B,B.sha384=k(384),B.sha512_256=k(256),B.sha512_224=k(224),B.sha512.hmac=x(512),B.sha384.hmac=x(384),B.sha512_256.hmac=x(256),B.sha512_224.hmac=x(224),o?t.exports=B:(r.sha512=B.sha512,r.sha384=B.sha384,r.sha512_256=B.sha512_256,r.sha512_224=B.sha512_224)})()})(FF);var bm=FF.exports;const bg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kO(t){return bg.indexOf(t.charAt(t.length-1))===64?t.substring(0,t.length-1):t}function Rue(t,e){t=kO(t),t=kO(t);const i=parseInt(t.length/4*3,10);let n,r,a,s,o,c,d,p,m=0,y=0;for(n=new Uint8Array(i),t=t.replace(/[^A-Za-z0-9+/=]/gu,""),m=0;m<i;m+=3)o=bg.indexOf(t.charAt(y++)),c=bg.indexOf(t.charAt(y++)),d=bg.indexOf(t.charAt(y++)),p=bg.indexOf(t.charAt(y++)),r=o<<2|c>>4,a=(c&15)<<4|d>>2,s=(d&3)<<6|p,n[m]=r,d!==64&&(n[m+1]=a),p!==64&&(n[m+2]=s);return n}const Mue={apiKey:null,authDomain:null,databaseURL:null,projectId:null,storageBucket:null,messagingSenderId:null,appId:null};class Pue extends mn{get id(){return this.config.id}get name(){return this.config.name}get suggestedResource(){return typeof this.config.suggestedResource=="function"?this.config.suggestedResource():this.config.suggestedResource}}const uw=Pue.createAccessor(GameDatabase.progressStages);uw.all=GameDatabase.progressStages;class Oue extends mn{get requiredStage(){return this.config.requiredStage}get name(){return this.config.name}get description(){return typeof this.config.description=="function"?this.config.description():this.config.description}}const Nue=mapGameDataToObject(GameDatabase.catchupResources,t=>new Oue(t)),dw={getProgressStage(t){const e=uw.all;for(let i=e.length-1;i>=0;i--)if(e[i].hasReached(t))return e[i];throw Error("No valid progress stage found")},getCompositeProgress(t){if(!t)return 0;const e=this.getProgressStage(t);return e.id+Math.clampMax(e.subProgressValue(t),1)},compareSaveProgress(t,e){const i=this.getCompositeProgress(t)-this.getCompositeProgress(e);return i>.05?-1:i<-.05?1:0},compareSaveTimes(t,e){var n,r;return!t||!e?0:((n=t.records)==null?void 0:n.realTimePlayed)-((r=e.records)==null?void 0:r.realTimePlayed)>=0?-1:1}},Gue=Mue.apiKey!==null,hw={provider:null,auth:null,db:null,user:null,lastCloudHash:null,get isAvailable(){return Gue},resetTempState(){this.lastCloudHash=null,GameStorage.lastCloudSave=Date.now(),GameIntervals.checkCloudSave.restart()},get loggedIn(){return this.user!==null},async login(){if(this.isAvailable)try{await Wse(this.auth,this.provider),ShopPurchaseData.syncSTD(),player.options.hideGoogleName?GameUI.notify.success("Successfully logged in to Google Account"):GameUI.notify.success(`Successfully logged in as ${this.user.displayName}`),ShopPurchaseData.isIAPEnabled&&Speedrun.setSTDUse(!0)}catch{GameUI.notify.error("Google Account login failed")}},async loginWithSteam(t,e,i){if(!this.isAvailable)return;if(this.loggedIn){hw.user.displayName=i;return}const n=`${t}@ad.com`,r=e;let a;if(await wse(this.auth,n,r).catch(()=>_se(this.auth,n,r)).catch(s=>a=s),a!==void 0){console.log(`Firebase Login Error: ${a}`);return}hw.user.displayName=i},async loadMobile(){if(!this.user)return;const t=await CO(P1(this.db,`users/${this.user.id}/player`));if(t.exists){const e=t.val(),i=Rue(e.replace(/-/gu,"+").replace(/_/gu,"/"));QC.ungzip(i,{to:"string"})}},compareSaves(t,e,i){try{return{farther:dw.compareSaveProgress(t,e),older:dw.compareSaveTimes(t,e),differentName:(t==null?void 0:t.options.saveFileName)!==(e==null?void 0:e.options.saveFileName),hashMismatch:this.lastCloudHash&&this.lastCloudHash!==i}}catch{return null}},async saveCheck(t=!1){if(!this.isAvailable)return;const e=GameStorage.currentSlot,i=await this.load();if(i===null)this.save();else{const n=bm.sha512_256(GameSaveSerializer.serialize(i));this.lastCloudHash||(this.lastCloudHash=n);const r=GameStorage.saves[e],a=this.compareSaves(i,r,n),s=()=>this.save();if(!a){Modal.addCloudConflict(e,a,i,r,s),Modal.cloudInvalidData.show({isSaving:!0});return}const c=i&&r&&a&&(a.older===-1||a.farther===-1||a.differentName||a.hashMismatch);t||c&&player.options.showCloudModal?(Modal.addCloudConflict(e,a,i,r,s),Modal.cloudSaveConflict.show()):(!c||player.options.forceCloudOverwrite)&&s()}},save(){if(!this.user||GlyphSelection.active||ui.$viewModel.modal.progressBar!==void 0)return;player.options.syncSaveIntervals&&GameStorage.save();const t=GameSaveSerializer.serialize(GameStorage.saves[GameStorage.currentSlot]);this.lastCloudHash=bm.sha512_256(t),GameStorage.lastCloudSave=Date.now(),GameIntervals.checkCloudSave.restart();const e=GameStorage.currentSlot;this.writeToCloudDB(e,t),player.options.hideGoogleName?GameUI.notify.info(`Game saved (slot ${e+1}) to cloud`):GameUI.notify.info(`Game saved (slot ${e+1}) to cloud as user ${this.user.displayName}`)},async loadCheck(){if(!this.isAvailable)return;const t=await this.load();if(t===null)player.options.hideGoogleName?GameUI.notify.info("No cloud save for current Google Account"):GameUI.notify.info(`No cloud save for user ${this.user.displayName}`);else{const e=t,i=GameStorage.currentSlot,n=GameStorage.saves[i],r=this.compareSaves(e,n),a=()=>{GameStorage.overwriteSlot(i,e),player.options.hideGoogleName?GameUI.notify.info(`Cloud save (slot ${i+1}) loaded`):GameUI.notify.info(`Cloud save (slot ${i+1}) loaded for user ${this.user.displayName}`)};if(!r){Modal.addCloudConflict(i,r,e,n,a),Modal.cloudInvalidData.show({isSaving:!1});return}e&&n&&(r.older===1||r.farther!==-1||r.differentName)?(Modal.addCloudConflict(i,r,e,n,a),Modal.cloudLoadConflict.show()):a()}},async load(){let t=await this.readFromCloudDB(GameStorage.currentSlot);return t.exists()||(await this.separateSaveSlots(),t=await this.readFromCloudDB(GameStorage.currentSlot),t.exists())?GameSaveSerializer.deserialize(t.val()):null},async separateSaveSlots(){const t=await this.readFromCloudDB(null);if(!t.exists())return;const e=GameSaveSerializer.deserialize(t.val());if(e)for(const i of Object.keys(e.saves)){const n=GameSaveSerializer.serialize(e.saves[i]);await this.writeToCloudDB(Number(i),n)}},readFromCloudDB(t){const e=t===null?"":`/${t}`;return CO(P1(this.db,`users/${this.user.id}/web${e}`))},writeToCloudDB(t,e){const i=t===null?"":`/${t}`;return wue(P1(this.db,`users/${this.user.id}/web${i}`),e)},logout(){this.isAvailable&&(Ese(this.auth),ShopPurchaseData.clearLocalSTD())},init(){this.isAvailable&&Moe().onAuthStateChanged(t=>{t?(this.user={id:t.uid,displayName:t.displayName,email:t.email},ShopPurchaseData.syncSTD()):this.user=null})}},qi=function(){const t=Lre,e=n=>{const r=new n;return r.setAsCurrent=()=>{player.options.notation=r.name,ui.notationName=r.name},r},i=n=>(n.isPainful=!0,n);return{scientific:e(t.ScientificNotation),engineering:e(t.EngineeringNotation),letters:e(t.LettersNotation),standard:i(e(t.StandardNotation)),emoji:i(e(t.EmojiNotation)),mixedScientific:e(t.MixedScientificNotation),mixedEngineering:e(t.MixedEngineeringNotation),logarithm:e(t.LogarithmNotation),brackets:i(e(t.BracketsNotation)),infinity:e(t.InfinityNotation),roman:i(e(t.RomanNotation)),dots:i(e(t.DotsNotation)),zalgo:i(e(t.ZalgoNotation)),hex:i(e(t.HexNotation)),imperial:i(e(t.ImperialNotation)),clock:i(e(t.ClockNotation)),prime:i(e(t.PrimeNotation)),bar:i(e(t.BarNotation)),shi:i(e(t.ShiNotation)),blind:i(e(t.BlindNotation)),blobs:i(e(t.BlobsNotation)),all:i(e(t.AllNotation))}}();qi.emoji.setAsCurrent=(t=!1)=>{player.options.notation=qi.emoji.name,ui.notationName=qi.emoji.name,t||GameUI.notify.success("😂😂😂")};const HF={all:[qi.scientific,qi.engineering,qi.letters,qi.standard,qi.emoji,qi.mixedScientific,qi.mixedEngineering,qi.logarithm,qi.brackets,qi.infinity,qi.roman,qi.dots,qi.zalgo,qi.hex,qi.imperial,qi.clock,qi.prime,qi.bar,qi.shi,qi.blind,qi.blobs,qi.all],find:t=>{const e=HF.all.find(i=>i.name===t);return e===void 0?qi.mixedScientific:e},get current(){return GameUI.initialized?ui.notation:qi.mixedScientific}};Es.isInfinite=t=>ui.formatPreBreak&&t.gte(Decimal.NUMBER_MAX_VALUE);EventHub.logic.on(GAME_EVENT.GAME_TICK_AFTER,()=>{ui.formatPreBreak=!PlayerProgress.hasBroken()||NormalChallenge.isRunning&&!Enslaved.isRunning});const Xu={DIM1:0,DIM2:1,TICKSPEED:2,DIMBOOST:3,GALAXY:4,AUTOMATOR:5},Uue=[{id:Xu.DIM1,condition:()=>!0},{id:Xu.DIM2,condition:()=>Currency.antimatter.gte(100)},{id:Xu.TICKSPEED,condition:()=>AntimatterDimension(2).bought>0},{id:Xu.DIMBOOST,condition:()=>AntimatterDimension(4).amount.gte(20)},{id:Xu.GALAXY,condition:()=>AntimatterDimension(8).amount.gte(80)},{id:Xu.AUTOMATOR,condition:()=>Player.automatorUnlocked}],Lue={isActive(t){return player.records.fullGameCompletions===0&&ui.view.tutorialState===t&&ui.view.tutorialActive},emphasizeH2P(){const t=player.tutorialState>Xu.DIMBOOST||player.dimensionBoosts>0;return player.records.fullGameCompletions===0&&!t},turnOffEffect(t){t===player.tutorialState&&(player.tutorialActive=!1,ui.view.tutorialActive=!1,this.tutorialLoop())},moveOn(t){t===player.tutorialState&&(player.tutorialState++,ui.view.tutorialState++,player.tutorialActive=!0,ui.view.tutorialActive=!0)},tutorialLoop(){const t=Uue.find(e=>e.id===player.tutorialState+1);t&&t.condition()&&this.moveOn(player.tutorialState)}},Bue={startNewGame(){GameEnd.creditsClosed=!1,GameEnd.creditsEverClosed=!1,player.isGameEnd=!1,player.celestials.pelle.doomed=!1;const t=player.speedrun;if(t.isActive){player.speedrun.previousRuns[player.records.fullGameCompletions+1]={isSegmented:t.isSegmented,usedSTD:t.usedSTD,startDate:t.startDate,name:t.name,offlineTimeUsed:t.offlineTimeUsed,records:[...t.records],achievementTimes:JSON.parse(JSON.stringify(t.achievementTimes)),seedSelection:t.seedSelection,initialSeed:t.initialSeed};const e=Object.keys(t.previousRuns).map(i=>Number(i));e.length>100&&(player.speedrun.previousRuns[e.min()]=void 0)}player.records.fullGameCompletions++,GlyphAppearanceHandler.unlockSet(),this.restartWithCarryover(),GameEnd.removeAdditionalEnd=!0,GameEnd.additionalEnd=15,setTimeout(()=>GameStorage.save(),1e4)},restartWithCarryover(){const t=JSON.stringify(player.options),e=player.secretUnlocks,i=JSON.stringify(player.secretAchievementBits),n=JSON.stringify(player.reality.automator.constants),r=JSON.stringify(player.reality.automator.constantSortOrder),a=JSON.stringify(player.reality.automator.scripts),s=player.records.fullGameCompletions,o=player.records.previousRunRealTime+player.records.realTimePlayed,c=JSON.stringify(player.reality.glyphs.cosmetics),d=JSON.stringify(player.speedrun.previousRuns),p=player.speedrun.isUnlocked,m=JSON.stringify(player.timestudy.presets),y=JSON.stringify(Glyphs.allGlyphs.filter(_=>_.type==="companion"));Modal.hideAll(),Quote.clearAll(),GameStorage.hardReset(),player.options=JSON.parse(t),player.options.confirmations.glyphSelection=!0,player.secretUnlocks=e,player.secretAchievementBits=JSON.parse(i),player.reality.automator.constants=JSON.parse(n),player.reality.automator.constantSortOrder=JSON.parse(r),player.reality.automator.scripts=JSON.parse(a),player.records.fullGameCompletions=s,player.records.previousRunRealTime=o,ui.view.newUI=player.options.newUI,ui.view.news=player.options.news.enabled,player.reality.glyphs.cosmetics=JSON.parse(c),player.speedrun.previousRuns=JSON.parse(d),player.speedrun.isUnlocked=p,player.timestudy.presets=JSON.parse(m),JSON.parse(y).forEach(_=>{Glyphs.addToInventory(_)}),Themes.find(Theme.currentName()).set(),Notations.all.find(_=>_.name===player.options.notation).setAsCurrent(),Es.exponentCommas.min=10**player.options.notationDigits.comma,Es.exponentCommas.max=10**player.options.notationDigits.notation,player.lastUpdate=Date.now()}},VF={addToQueue(t){ui.view.quotes.queue.push(t),ui.view.quotes.current||this.advanceQueue()},advanceQueue(){ui.view.quotes.current=ui.view.quotes.queue.shift()},showHistory(t){ui.view.quotes.history=t},clearQueue(){ui.view.quotes.queue=[],ui.view.quotes.current=void 0},clearHistory(){ui.view.quotes.history=void 0},clearAll(){this.clearQueue(),this.clearHistory()},get isOpen(){return ui.view.quotes.current!==void 0},get isHistoryOpen(){return ui.view.quotes.history!==void 0}};function $ue(t){const e=t.map(a=>a[1]).sum(),i=Date.now()/1e3%e,n=t[0][1]/2;let r=0;for(let a=0;a<t.length;a++){const s=t[(a+t.length-1)%t.length],o=t[a],c=t[(a+1)%t.length],d=i-r,p=d-o[1];if(p>0){r+=o[1];continue}if(d<=n){const m=.5*d/n;return[[s[0],.5-m],[o[0],.5+m]]}if(-p<=n){const m=.5*p/n;return[[o[0],.5-m],[c[0],.5+m]]}return[[o[0],1]]}throw new Error("Could not blend celestial fractions in Quote modal")}class Fue{constructor(e,i){this._parent=i,this._showCelestialName=e.showCelestialName??!0,this._celestialArray=e.background?()=>$ue(e.background):[[i.celestial,1]];const n=/\$(\d+)/gu;this._line=typeof e=="string"?e:()=>e.text.replaceAll(n,(r,a)=>zn.wordCycle(e[a]))}get line(){return typeof this._line=="function"?this._line():this._line}get celestials(){return typeof this._celestialArray=="function"?this._celestialArray():this._celestialArray}get celestialSymbols(){return this.celestials.map(e=>Celestials[e[0]].symbol)}get showCelestialName(){return this._showCelestialName}get celestialName(){return Celestials[this._parent.celestial].displayName}}class Ch extends Bd{constructor(e,i){super(e),this._celestial=i,this._lines=e.lines.map(n=>new Fue(n,this))}get bits(){return player.celestials[this._celestial].quoteBits}set bits(e){player.celestials[this._celestial].quoteBits=e}get requirement(){var e,i;return(i=(e=this.config).requirement)==null?void 0:i.call(e)}get celestial(){return this._celestial}line(e){return this._lines[e]}get totalLines(){return this._lines.length}show(){this.unlock()}onUnlock(){this.present()}present(){VF.addToQueue(this)}}const Vd={teresa:mapGameDataToObject(GameDatabase.celestials.quotes.teresa,t=>new Ch(t,"teresa")),effarig:mapGameDataToObject(GameDatabase.celestials.quotes.effarig,t=>new Ch(t,"effarig")),enslaved:mapGameDataToObject(GameDatabase.celestials.quotes.enslaved,t=>new Ch(t,"enslaved")),v:mapGameDataToObject(GameDatabase.celestials.quotes.v,t=>new Ch(t,"v")),ra:mapGameDataToObject(GameDatabase.celestials.quotes.ra,t=>new Ch(t,"ra")),laitela:mapGameDataToObject(GameDatabase.celestials.quotes.laitela,t=>new Ch(t,"laitela")),pelle:mapGameDataToObject(GameDatabase.celestials.quotes.pelle,t=>new Ch(t,"pelle"))},Ef={timePoured:0,lastUnlock:"effarig",pouredAmountCap:1e24,displayName:"Teresa",possessiveName:"Teresa's",get isUnlocked(){return Achievement(147).isUnlocked},pourRM(t){if(this.pouredAmount>=Ef.pouredAmountCap)return;this.timePoured+=t;const e=Currency.realityMachines.value,i=Math.min((this.pouredAmount+1e6)*.01*Math.pow(this.timePoured,2),e.toNumber());this.pouredAmount+=Math.min(i,Ef.pouredAmountCap-this.pouredAmount),Currency.realityMachines.subtract(i),this.checkForUnlocks()},checkForUnlocks(){for(const t of YF.all)t.unlock()},initializeRun(){clearCelestialRuns(),player.celestials.teresa.run=!0},rewardMultiplier(t){return Decimal.max(Decimal.pow(t.plus(1).log10()/15e7,12),1).toNumber()},get pouredAmount(){return player.celestials.teresa.pouredAmount},set pouredAmount(t){player.celestials.teresa.pouredAmount=t},get fill(){return Math.min(Math.log10(this.pouredAmount)/24,1)},get possibleFill(){return Math.min(Currency.realityMachines.value.plus(this.pouredAmount).log10()/24,1)},get rmMultiplier(){return Math.max(250*Math.pow(this.pouredAmount/1e24,.1),1)},get runRewardMultiplier(){return this.rewardMultiplier(player.celestials.teresa.bestRunAM)},get isRunning(){return player.celestials.teresa.run},get runCompleted(){return player.celestials.teresa.bestRunAM.gt(1)},quotes:Vd.teresa,symbol:"Ϟ"};class Hue extends tu{constructor(e){super(e),this.costCap=e.costCap}get currency(){return Currency.perkPoints}get boughtAmount(){return player.celestials.teresa.perkShop[this.id]}set boughtAmount(e){player.celestials.teresa.perkShop[this.id]=e}get isCapped(){return this.cost===this.costCap(this.bought)}get isAvailableForPurchase(){const e=this.config.otherReq?this.config.otherReq():!0;return this.cost<=this.currency.value&&e}onPurchased(){if(this.id===0&&GameCache.staticGlyphWeights.invalidate(),this.id===1&&Autobuyer.reality.bumpAmount(2),this.id===4&&!Pelle.isDoomed&&(GameCache.glyphInventorySpace.value===0?(Currency.perkPoints.add(1),GameUI.notify.error("You have no empty inventory space!")):(Glyphs.addToInventory(GlyphGenerator.musicGlyph()),GameUI.notify.success("Created a Music Glyph"))),this.id===5&&!Pelle.isDoomed){const e=GameCache.glyphInventorySpace.value;for(let i=0;i<e;i++)Glyphs.addToInventory(GlyphGenerator.musicGlyph());GameUI.notify.success(`Created ${quantifyInt("Music Glyph",e)}`)}}}class Yue extends Bd{get bits(){return player.celestials.teresa.unlockBits}set bits(e){player.celestials.teresa.unlockBits=e}get price(){return this.config.price}get pelleDisabled(){return Pelle.isDoomed&&this.config.isDisabledInDoomed}get isEffectActive(){return!this.pelleDisabled}get canBeUnlocked(){return!this.isUnlocked&&Ef.pouredAmount>=this.price}get description(){return typeof this.config.description=="function"?this.config.description():this.config.description}onUnlock(){var e,i;(i=(e=this.config).onUnlock)==null||i.call(e)}}const YF=mapGameDataToObject(io.celestials.teresa.unlocks,t=>new Yue(t)),que=mapGameDataToObject(io.celestials.perkShop,t=>new Hue(t));EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{Tab.celestials.teresa.isOpen&&Ef.quotes.initial.show()});EventHub.logic.on(GAME_EVENT.GAME_LOAD,()=>Ef.checkForUnlocks());const $a={INFINITY:1,ETERNITY:2,REALITY:3,COMPLETED:4},Nd={displayName:"Effarig",possessiveName:"Effarig's",initializeRun(){clearCelestialRuns(),player.celestials.effarig.run=!0,recalculateAllGlyphs(),Tab.reality.glyphs.show(!1)},get isRunning(){return player.celestials.effarig.run},get currentStage(){return f0.infinity.isUnlocked?f0.eternity.isUnlocked?f0.reality.isUnlocked?$a.COMPLETED:$a.REALITY:$a.ETERNITY:$a.INFINITY},get currentStageName(){switch(this.currentStage){case $a.INFINITY:return"Infinity";case $a.ETERNITY:return"Eternity";case $a.REALITY:default:return"Reality"}},get eternityCap(){return this.isRunning&&this.currentStage===$a.ETERNITY?DC.E50:void 0},get glyphLevelCap(){switch(this.currentStage){case $a.INFINITY:return 100;case $a.ETERNITY:return 1500;case $a.REALITY:default:return 2e3}},get glyphEffectAmount(){const t=Glyphs.activeWithoutCompanion.filter(i=>generatedTypes.includes(i.type)).reduce((i,n)=>i|n.effects,0),e=Glyphs.activeWithoutCompanion.filter(i=>!generatedTypes.includes(i.type)).reduce((i,n)=>i|n.effects,0);return countValuesFromBitmask(t)+countValuesFromBitmask(e)},get shardsGained(){return TeresaUnlocks.effarig.canBeApplied?Math.floor(Math.pow(Currency.eternityPoints.exponent/7500,this.glyphEffectAmount))*AlchemyResource.effarig.effectValue*1e3:0},get maxRarityBoost(){return 5*Math.log10(Math.log10(Currency.relicShards.value+10))},nerfFactor(t){let e;switch(this.currentStage){case $a.INFINITY:e=1500;break;case $a.ETERNITY:e=29.29;break;case $a.REALITY:default:e=25;break}return 3*(1-e/(e+Math.sqrt(t.pLog10())))},get tickDilation(){return .7+.1*this.nerfFactor(Currency.timeShards.value)},get multDilation(){return .25+.25*this.nerfFactor(Currency.infinityPower.value)},get tickspeed(){const t=3+Tickspeed.baseValue.reciprocal().log10();return Decimal.pow10(Math.pow(t,this.tickDilation)).reciprocal()},multiplier(t){const e=new Decimal(t).pLog10();return Decimal.pow10(Math.pow(e,this.multDilation))},get bonusRG(){return Math.floor(replicantiCap().pLog10()/LOG10_MAX_VALUE-1)},quotes:Vd.effarig,symbol:"Ϙ"};class Wue extends Bd{get bits(){return player.celestials.effarig.unlockBits}set bits(e){player.celestials.effarig.unlockBits=e}get cost(){return this.config.cost}get isEffectActive(){return!Pelle.isDisabled("effarig")}purchase(){var e,i;this.isUnlocked||!Currency.relicShards.purchase(this.cost)||(this.unlock(),(i=(e=this.config).onPurchased)==null||i.call(e))}}const f0=mapGameDataToObject(io.celestials.effarig.unlocks,t=>new Wue(t));EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{Tab.celestials.effarig.isOpen&&Nd.quotes.initial.show()});EventHub.logic.on(GAME_EVENT.BIG_CRUNCH_BEFORE,()=>{Nd.isRunning&&Nd.quotes.completeInfinity.show()});EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_BEFORE,()=>{Nd.isRunning&&Nd.quotes.completeEternity.show()});const bk={FREE_TICKSPEED_SOFTCAP:{id:0,price:TimeSpan.fromYears(1e35).totalMilliseconds,secondaryRequirement:()=>!0,description:()=>`Increase the softcap to Tickspeed upgrades from Time Dimensions by ${formatInt(1e5)}`},RUN:{id:1,price:TimeSpan.fromYears(1e40).totalMilliseconds,secondaryRequirement(){const t=player.records.bestReality.glyphLevel>=5e3,e=strengthToRarity(player.records.bestReality.glyphStrength)>=100;return t&&e},description(){const t=player.records.bestReality.glyphLevel>=5e3,e=strengthToRarity(player.records.bestReality.glyphStrength)>=100;return`Unlock The Nameless Ones' Reality (requires ${t?"[✓]":"[✗]"} a level
      ${formatInt(5e3)} Glyph and ${e?"[✓]":"[✗]"} a ${formatRarity(100)} rarity Glyph)`}}},fs={displayName:"The Nameless Ones",possessiveName:"The Nameless Ones'",boostReality:!1,BROKEN_CHALLENGES:[2,3,4,5,7,8,10,11,12],nextTickDiff:50,isReleaseTick:!1,autoReleaseTick:0,autoReleaseSpeed:0,timeCap:1e300,glyphLevelMin:5e3,currentBlackHoleStoreAmountPerMs:0,tachyonNerf:.3,toggleStoreBlackHole(){this.canModifyGameTimeStorage&&(player.celestials.enslaved.isStoring=!player.celestials.enslaved.isStoring,player.celestials.enslaved.isStoringReal=!1)},toggleStoreReal(){!this.canModifyRealTimeStorage&&!this.isStoredRealTimeCapped||(player.celestials.enslaved.isStoringReal=!player.celestials.enslaved.isStoringReal,player.celestials.enslaved.isStoring=!1)},toggleAutoStoreReal(){this.canModifyRealTimeStorage&&(player.celestials.enslaved.autoStoreReal=!player.celestials.enslaved.autoStoreReal)},get canModifyGameTimeStorage(){return fs.isUnlocked&&!Pelle.isDoomed&&!BlackHoles.arePaused&&!EternityChallenge(12).isRunning&&!fs.isRunning&&!Laitela.isRunning},get canModifyRealTimeStorage(){return fs.isUnlocked&&!Pelle.isDoomed},get isStoredRealTimeCapped(){return player.celestials.enslaved.storedReal<this.storedRealTimeCap},get isStoringGameTime(){return this.canModifyGameTimeStorage&&(this.isAutoReleasing||player.celestials.enslaved.isStoring)},get isStoringRealTime(){return this.canModifyRealTimeStorage&&player.celestials.enslaved.isStoringReal},get storedRealTimeEfficiency(){return 1},get storedRealTimeCap(){const t=Ra.unlocks.improvedStoredTime.effects.realTimeCap.effectOrDefault(0);return 1e3*3600*8+t},get isAutoReleasing(){return player.celestials.enslaved.isAutoReleasing&&!BlackHoles.areNegative&&!Pelle.isDisabled("blackhole")},storeRealTime(){if(Pelle.isDoomed)return;const t=Date.now(),e=Math.max(t-player.lastUpdate,0),i=this.storedRealTimeEfficiency,n=this.storedRealTimeCap;player.celestials.enslaved.storedReal+=e*i,player.celestials.enslaved.storedReal>n&&(player.celestials.enslaved.isStoringReal=!1,player.celestials.enslaved.storedReal=n),player.celestials.enslaved.storedReal>24*60*60*1e3&&SecretAchievement(46).unlock(),player.lastUpdate=t},autoStoreRealTime(t){const e=this.storedRealTimeCap-player.celestials.enslaved.storedReal,i=Math.min(t,Math.max(0,e/this.storedRealTimeEfficiency));return player.celestials.enslaved.storedReal+=i*this.storedRealTimeEfficiency,player.lastUpdate+=i,t-i},canRelease(t){return!fs.isStoringRealTime&&!EternityChallenge(12).isRunning&&!Laitela.isRunning&&!(fs.isRunning&&t)&&!Pelle.isDoomed},useStoredTime(t){if(!this.canRelease(t))return;const e=player.requirementChecks.reality.slowestBH<=1e-300;if(ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&e){t||ImaginaryUpgrade(24).tryShowWarningModal("discharge your Black Hole");return}player.requirementChecks.reality.slowestBH=1;let i=player.celestials.enslaved.stored;fs.isRunning&&(i=fs.storedTimeInsideEnslaved(i),Time.thisReality.totalYears+TimeSpan.fromMilliseconds(i).totalYears>1&&p0.storedTime.giveProgress()),t&&(i*=.01),this.nextTickDiff=Math.clampMax(i,this.timeCap),this.isReleaseTick=!0;const n=i/50;player.celestials.ra.peakGamespeed=Math.max(player.celestials.ra.peakGamespeed,n),this.autoReleaseSpeed=i/player.options.updateRate/5,player.celestials.enslaved.stored*=t?.99:0},has(t){return player.celestials.enslaved.unlocks.includes(t.id)},canBuy(t){return player.celestials.enslaved.stored>=t.price&&t.secondaryRequirement()&&!this.has(t)},buyUnlock(t){return this.canBuy(t)?(t.id===bk.RUN.id&&this.quotes.unlockRun.show(),player.celestials.enslaved.stored-=t.price,player.celestials.enslaved.unlocks.push(t.id),!0):!1},initializeRun(){clearCelestialRuns(),player.celestials.enslaved.run=!0,player.celestials.enslaved.hasSecretStudy=!1,this.feltEternity=!1,AutomatorData.recalculateErrors(),AutomatorBackend.state.mode===AUTOMATOR_MODE.RUN&&AutomatorData.currentErrors().length&&(AutomatorBackend.stop(),GameUI.notify.error("This Reality forbids Black Holes! (Automator stopped)")),this.quotes.startRun.show()},get isRunning(){return player.celestials.enslaved.run},completeRun(){player.celestials.enslaved.completed=!0,this.quotes.completeReality.show()},get isCompleted(){return player.celestials.enslaved.completed},get canTickHintTimer(){return!p0.hintsUnlocked.hasProgress&&fs.has(bk.RUN)&&!fs.isCompleted},get isUnlocked(){return EffarigUnlock.eternity.isUnlocked},get realityBoostRatio(){return Math.max(1,Math.floor(player.celestials.enslaved.storedReal/Math.max(1e3,Time.thisRealityRealTime.totalMilliseconds)))},get canAmplify(){return this.realityBoostRatio>1&&!Pelle.isDoomed&&!isInCelestialReality()},storedTimeInsideEnslaved(t){return t<=1e3?t:Math.pow(10,Math.pow(Math.log10(t/1e3),.55))*1e3},feelEternity(){this.feltEternity?Modal.message.show(`You have already exposed this crack in the Reality. Time in this Eternity is being multiplied
        by your Eternity count, up to a maximum of ${formatX(1e66)}.`,{closeEvent:GAME_EVENT.REALITY_RESET_AFTER},1):(p0.feelEternity.giveProgress(),this.feltEternity=!0,Modal.message.show(`Time in this Eternity will be multiplied by your Eternity count,
        up to a maximum of ${formatX(1e66)}.`,{closeEvent:GAME_EVENT.REALITY_RESET_AFTER},1))},get feltEternity(){return player.celestials.enslaved.feltEternity},set feltEternity(t){player.celestials.enslaved.feltEternity=t},get nextHintCost(){return TimeSpan.fromYears(1e40*Math.pow(3,this.hintCostIncreases)).totalMilliseconds},get hintCostIncreases(){const t=player.celestials.enslaved.zeroHintTime-Date.now();return Math.clampMin(t/TimeSpan.fromDays(1).totalMilliseconds,0)},spendTimeForHint(){return player.celestials.enslaved.stored<this.nextHintCost?!1:(player.celestials.enslaved.stored-=this.nextHintCost,fs.hintCostIncreases===0?player.celestials.enslaved.zeroHintTime=Date.now()+TimeSpan.fromDays(1).totalMilliseconds:player.celestials.enslaved.zeroHintTime+=TimeSpan.fromDays(1).totalMilliseconds,!0)},quotes:Vd.enslaved,symbol:""};class jue extends Bd{get bits(){return player.celestials.enslaved.hintBits}set bits(e){player.celestials.enslaved.hintBits=e}get hasProgress(){return!!(player.celestials.enslaved.progressBits&1<<this.id)}get hasHint(){return this.hasProgress||this.isUnlocked}get hintInfo(){return this.config.hint}get completedInfo(){return typeof this.config.condition=="function"?this.config.condition():this.config.condition}giveProgress(){this.hasHint&&!this.hasProgress&&(player.celestials.enslaved.zeroHintTime-=Math.log(2)/Math.log(3)*TimeSpan.fromDays(1).totalMilliseconds,GameUI.notify.success("You found a crack in The Nameless Ones' Reality!",1e4)),player.celestials.enslaved.progressBits|=1<<this.id}}const p0=mapGameDataToObject(io.celestials.enslaved.progress,t=>new jue(t)),qF={get bought(){return player.celestials.enslaved.tesseracts},get extra(){return this.bought*(SingularityMilestone.tesseractMultFromSingularities.effectOrDefault(1)-1)},get effectiveCount(){return this.bought+this.extra},buyTesseract(){this.canBuyTesseract&&(GameEnd.creditsEverClosed||player.celestials.enslaved.tesseracts++)},BASE_COSTS:[2,4,6,12,48,288,2304,23040,276480,3870720,61931520,1114767360],costs(t){return t>=this.BASE_COSTS.length?Decimal.pow10(Number.MAX_VALUE):Decimal.pow10(1e7*this.BASE_COSTS[Math.floor(t)])},get nextCost(){return this.costs(this.bought)},get canBuyTesseract(){return fs.isCompleted&&Currency.infinityPoints.gte(qF.nextCost)},capIncrease(t=this.bought){const e=t*SingularityMilestone.tesseractMultFromSingularities.effectOrDefault(1);return(e<1?0:25e4*Math.pow(2,e))*(AlchemyResource.boundless.effectValue+1)},get nextTesseractIncrease(){return this.capIncrease(this.bought+1)-this.capIncrease(this.bought)}};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{Tab.celestials.enslaved.isOpen&&fs.quotes.initial.show()});const zue={officialFixedSeed:69420,unlock(){player.speedrun.isUnlocked||(Modal.message.show(`You have unlocked Speedrun Mode! This allows you to start a new save file with some slight
      changes which can be helpful if you're trying to complete the game as quickly as possible. The option to
      start a Speedrun Save is now available in the Options tab, under Saving. Choosing to start a Speedrun Save
      will provide you with another modal with more in-depth information.`,{},3),player.speedrun.isUnlocked=!0)},canModifySeed(){return player.realities<1},modifySeed(t,e){player.speedrun.seedSelection=t;let i;switch(t){case SPEEDRUN_SEED_STATE.FIXED:player.reality.initialSeed=this.officialFixedSeed,player.speedrun.initialSeed=this.officialFixedSeed;return;case SPEEDRUN_SEED_STATE.RANDOM:i=Math.floor(1e13*Math.random()),player.reality.initialSeed=i,player.speedrun.initialSeed=i;return;case SPEEDRUN_SEED_STATE.PLAYER:player.reality.initialSeed=e,player.speedrun.initialSeed=e;return;default:throw new Error("Unrecognized speedrun seed setting option")}},seedModeText(t){const e=t??player.speedrun;switch(e.seedSelection){case SPEEDRUN_SEED_STATE.UNKNOWN:return"No seed data (old save)";case SPEEDRUN_SEED_STATE.FIXED:return`Official fixed seed (${e.initialSeed})`;case SPEEDRUN_SEED_STATE.RANDOM:return`Random seed (${e.initialSeed})`;case SPEEDRUN_SEED_STATE.PLAYER:return`Player seed (${e.initialSeed})`;default:throw new Error("Unrecognized speedrun seed option in seedModeText")}},generateName(t){if(t.trim()===""){const e=Math.floor(9999999*Math.random())+1;return`AD Player #${"0".repeat(6-Math.floor(Math.log10(e)))}${e}`}return t.length>40?`${t.slice(0,37)}...`:t},prepareSave(t){NG.restartWithCarryover(),player.speedrun.isUnlocked=!0,player.speedrun.isActive=!0,this.modifySeed(SPEEDRUN_SEED_STATE.FIXED),player.speedrun.name=t;for(const e of Object.keys(player.options.confirmations))player.options.confirmations[e]=!1;player.options.confirmations.glyphSelection=!0;for(const e of Object.keys(player.options.animations))typeof player.options.animations[e]=="boolean"&&(player.options.animations[e]=!1);Achievement(22).unlock(),Achievement(35).unlock(),Achievement(76).unlock(),player.speedrun.offlineTimeUsed=0,GameStorage.save()},startTimer(){if(player.speedrun.hasStarted)return;player.speedrun.hasStarted=!0,player.speedrun.startDate=Date.now(),player.lastUpdate=Date.now();let t=0;for(const e of ShopPurchase.all)e.config.instantPurchase||(t+=e.purchases*e.cost);this.setSTDUse(ShopPurchaseData.isIAPEnabled&&t>0)},isPausedAtStart(){return player.speedrun.isActive&&!player.speedrun.hasStarted},setSegmented(t){this.isPausedAtStart()||(player.speedrun.isSegmented=t)},setSTDUse(t){this.isPausedAtStart()||ShopPurchaseData.spentSTD===0||(player.speedrun.usedSTD=t)},mostRecentMilestone(){const t=player.speedrun.records.max();return t===0?0:player.speedrun.records.indexOf(t)}};class Xue extends mn{constructor(e){super(e),this.registerEvents(e.checkEvent,i=>this.tryComplete(i))}get name(){return this.config.name}get isReached(){return player.speedrun.records[this.config.id]!==0}tryComplete(e){this.config.checkRequirement(e)&&this.complete()}complete(){this.isReached||!player.speedrun.isActive||(player.speedrun.records[this.config.id]=Math.round(player.records.realTimePlayed),GameUI.notify.success(`Speedrun Milestone Reached: ${this.name}`))}}const pb=mapGameDataToObject(io.speedrunMilestones,t=>new Xue(t));class Kue extends mn{get completions(){const e=player.celestials.v.runUnlocks[this.id];return e===void 0?0:e}get conditionBaseValue(){const e=this.config.values[this.completions];return e===void 0?this.config.values[this.completions-1]:e}get canBeReduced(){return this.completions<this.config.values.length&&this.completions!==0&&new Decimal(this.reduction).neq(this.config.maxShardReduction(this.conditionBaseValue))}get isReduced(){return player.celestials.v.goalReductionSteps[this.id]===0?!1:ad.shardReduction.canBeApplied&&this.reduction>0}get reductionCost(){const e=this.config.reductionStepSize?this.config.reductionStepSize:1;return this.config.isHard?(Math.pow(1.15,e)-1)/.15*jl.nextHardReductionCost(player.celestials.v.goalReductionSteps[this.id]):e*jl.nextNormalReductionCost()}get tiersReduced(){return player.celestials.v.goalReductionSteps[this.id]/100}get reduction(){const e=this.conditionBaseValue;return Math.clamp(this.config.shardReduction(this.tiersReduced),0,this.config.maxShardReduction(e))}get conditionValue(){let e=this.conditionBaseValue;return this.isReduced&&(e-=this.reduction),e}get formattedDescription(){return this.config.description(this.conditionValue)}set completions(e){player.celestials.v.runUnlocks[this.id]=e}tryComplete(){const e=player.celestials.v,i=this.config.currentValue();for(this.config.condition()&&Decimal.gte(i,e.runRecords[this.id])&&(e.runRecords[this.id]=i,e.runGlyphs[this.id]=Glyphs.copyForRecords(Glyphs.active.filter(n=>n!==null)));this.completions<this.config.values.length&&Decimal.gte(e.runRecords[this.id],this.conditionValue);)if(!(!jl.isFlipped&&this.config.isHard)){this.completions++,GameUI.notify.success(`You have unlocked V-Achievement
        '${this.config.name}' tier ${formatInt(this.completions)}`),jl.updateTotalRunUnlocks();for(const n of jl.quotes.all)n.requirement&&n.show()}}}class Zue extends Bd{get bits(){return player.celestials.v.unlockBits}set bits(e){player.celestials.v.unlockBits=e}get pelleDisabled(){return Pelle.isDoomed&&this!==ad.vAchievementUnlock}get isEffectActive(){return this.isUnlocked&&!this.pelleDisabled}get description(){return typeof this.config.description=="function"?this.config.description():this.config.description}get rewardText(){return typeof this.config.reward=="function"?this.config.reward():this.config.reward}get canBeUnlocked(){return this.config.requirement()&&!this.isUnlocked}get formattedEffect(){return!this.config.effect||!this.config.format?"":this.config.format(this.effectValue)}onUnlock(){GameUI.notify.success(this.description)}}const WF=Kue.createAccessor(io.celestials.v.runUnlocks),jF={all:WF.index.compact()},ad=mapGameDataToObject(io.celestials.v.unlocks,t=>new Zue(t)),jl={displayName:"V",possessiveName:"V's",spaceTheorems:0,checkForUnlocks(){for(const t of ad.all)t!==ad.vAchievementUnlock&&t.unlock();if(this.isRunning){for(const t of jF.all)t.tryComplete();this.spaceTheorems>=36&&pb.complete36VAchievement.tryComplete()}ad.raUnlock.canBeApplied&&!Ra.unlocks.autoTP.canBeApplied&&Ra.checkForUnlocks()},get canUnlockCelestial(){return ad.vAchievementUnlock.canBeUnlocked},unlockCelestial(){player.celestials.v.unlockBits|=1<<ad.vAchievementUnlock.id,GameUI.notify.success("You have unlocked V, The Celestial Of Achievements!",1e4),jl.quotes.unlock.show()},initializeRun(){clearCelestialRuns(),player.celestials.v.run=!0,this.quotes.realityEnter.show()},updateTotalRunUnlocks(){let t=0;for(let e=0;e<player.celestials.v.runUnlocks.length;e++)e<6?t+=player.celestials.v.runUnlocks[e]:t+=player.celestials.v.runUnlocks[e]*2;this.spaceTheorems=t},reset(){player.celestials.v={unlockBits:0,run:!1,quotes:[],runUnlocks:[0,0,0,0,0,0,0,0,0],goalReductionSteps:[0,0,0,0,0,0,0,0,0],STSpent:0,runGlyphs:[[],[],[],[],[],[],[],[],[]],runRecords:[-10,0,0,0,0,0,0,0,0]},this.spaceTheorems=0},get availableST(){return jl.spaceTheorems-player.celestials.v.STSpent},get isRunning(){return player.celestials.v.run},get isFlipped(){return Ra.unlocks.unlockHardV.isUnlocked},get isFullyCompleted(){return this.spaceTheorems>=66},nextNormalReductionCost(){return 1e3},nextHardReductionCost(t){return 1e3*Math.pow(1.15,t)},quotes:Vd.v,symbol:"⌬"};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{Tab.celestials.v.isOpen&&jl.quotes.initial.show()});class Que extends Bd{get bits(){return player.celestials.ra.unlockBits}set bits(e){player.celestials.ra.unlockBits=e}get disabledByPelle(){return Pelle.isDoomed&&this.config.disabledByPelle}get isEffectActive(){return this.isUnlocked&&!this.disabledByPelle}get requirementText(){const e=this.pet.name;return this.level===1?`Unlock ${e}`:`Get ${e} to level ${this.level}`}get reward(){return typeof this.config.reward=="function"?this.config.reward():this.config.reward}get displayIcon(){return this.disabledByPelle?'<span class="fas fa-ban"></span>':this.config.displayIcon}get pet(){return li.pets[this.config.pet]}get level(){return this.config.level}get canBeUnlocked(){return this.pet.level>=this.level&&!this.isUnlocked}onUnlock(){var e,i;(i=(e=this.config).onUnlock)==null||i.call(e)}}const Jue=mapGameDataToObject(GameDatabase.celestials.ra.unlocks,t=>new Que(t));class ede extends mn{get data(){return player.celestials.ra.pets[this.id]}get name(){return this.config.name}get chunkGain(){return this.config.chunkGain}get memoryGain(){return this.config.memoryGain}get color(){return this.config.color}get requiredUnlock(){var e,i;return(i=(e=this.config).requiredUnlock)==null?void 0:i.call(e)}get rawMemoryChunksPerSecond(){return this.config.rawMemoryChunksPerSecond()}get memoryProductionMultiplier(){return this.config.memoryProductionMultiplier()}get isUnlocked(){return this.requiredUnlock===void 0||this.requiredUnlock.isUnlocked}get isCapped(){return this.level>=li.levelCap}get level(){return this.isUnlocked?this.data.level:0}set level(e){this.data.level=e}get memories(){return this.data.memories}set memories(e){this.data.memories=e}get memoryChunks(){return this.data.memoryChunks}set memoryChunks(e){this.data.memoryChunks=e}get requiredMemories(){return li.requiredMemoriesForLevel(this.level)}get memoryChunksPerSecond(){if(!this.canGetMemoryChunks)return 0;let e=this.rawMemoryChunksPerSecond*this.chunkUpgradeCurrentMult*Effects.product(li.unlocks.continuousTTBoost.effects.memoryChunks,GlyphSacrifice.reality);return this.hasRemembrance?e*=li.remembrance.multiplier:li.petWithRemembrance&&(e*=li.remembrance.nerf),e}get canGetMemoryChunks(){return this.isUnlocked&&li.isRunning}get hasRemembrance(){return li.petWithRemembrance===this.name}get memoryUpgradeCurrentMult(){return Math.pow(1.3,this.data.memoryUpgrades)}get chunkUpgradeCurrentMult(){return Math.pow(1.5,this.data.chunkUpgrades)}get memoryUpgradeCost(){return 1e3*Math.pow(5,this.data.memoryUpgrades)}get chunkUpgradeCost(){return 5e3*Math.pow(25,this.data.chunkUpgrades)}get canBuyMemoryUpgrade(){return this.memoryUpgradeCost<=this.memories}get canBuyChunkUpgrade(){return this.chunkUpgradeCost<=this.memories}get memoryUpgradeCapped(){return this.memoryUpgradeCost>=.5*li.requiredMemoriesForLevel(li.levelCap-1)}get chunkUpgradeCapped(){return this.chunkUpgradeCost>=.5*li.requiredMemoriesForLevel(li.levelCap-1)}purchaseMemoryUpgrade(){!this.canBuyMemoryUpgrade||this.memoryUpgradeCapped||(this.memories-=this.memoryUpgradeCost,this.data.memoryUpgrades++)}purchaseChunkUpgrade(){!this.canBuyChunkUpgrade||this.chunkUpgradeCapped||(this.memories-=this.chunkUpgradeCost,this.data.chunkUpgrades++)}levelUp(){this.memories<this.requiredMemories||(this.memories-=this.requiredMemories,this.level++,li.checkForUnlocks())}get unlocks(){return li.unlocks.all.filter(e=>e.pet===this).sort((e,i)=>e.level-i.level)}tick(e,i){const n=e/1e3,r=i?n*this.memoryChunksPerSecond:0,a=n*(this.memoryChunks+r/2)*li.productionPerMemoryChunk*this.memoryUpgradeCurrentMult;this.memoryChunks+=r,this.memories+=a}reset(){this.data.level=1,this.data.memories=0,this.data.memoryChunks=0,this.data.memoryUpgrades=0,this.data.chunkUpgrades=0}}const tde=mapGameDataToObject(GameDatabase.celestials.ra.pets,t=>new ede(t)),li={displayName:"Ra",possessiveName:"Ra's",unlocks:Jue,pets:tde,remembrance:{multiplier:5,nerf:.5,requiredLevels:20,get isUnlocked(){return li.totalPetLevel>=this.requiredLevels}},reset(){const t=player.celestials.ra;t.unlockBits=0,t.run=!1,t.charged=new Set,t.disCharge=!1,t.peakGamespeed=1;for(const e of li.pets.all)e.reset()},memoryTick(t,e){if(this.isUnlocked)for(const i of li.pets.all)i.tick(t,e)},get productionPerMemoryChunk(){let t=Effects.product(li.unlocks.continuousTTBoost.effects.memories,Achievement(168));t*=1e3;for(const e of li.pets.all)e.isUnlocked&&(t*=e.memoryProductionMultiplier);return t},get memoryBoostResources(){const t=[];for(const e of li.pets.all)e.memoryProductionMultiplier!==1&&t.push(e.memoryGain);return Achievement(168).isUnlocked&&t.push("Achievement 168"),li.unlocks.continuousTTBoost.canBeApplied&&t.push("current TT"),t.length===1?`${t[0]}`:t.length===2?`${t[0]} and ${t[1]}`:`${t.slice(0,-1).join(", ")}, and ${t[t.length-1]}`},requiredMemoriesForLevel(t){if(t>=li.levelCap)return 1/0;const e=t+Math.pow(t,2)/10,i=Math.pow(1.5,Math.max(0,t-15));return Math.floor(Math.pow(e,5.52)*i*1e6)},timeToGoalString(t,e){const i=Enslaved.isStoringRealTime?0:li.productionPerMemoryChunk*t.memoryUpgradeCurrentMult*t.memoryChunksPerSecond/2,n=li.productionPerMemoryChunk*t.memoryUpgradeCurrentMult*t.memoryChunks,r=-e,a=i===0?-r/n:(Math.sqrt(Math.pow(n,2)-4*i*r)-n)/(2*i);return Number.isFinite(a)?`in ${TimeSpan.fromSeconds(a).toStringShort()}`:""},get totalPetLevel(){return this.pets.all.map(t=>t.isUnlocked?t.level:0).sum()},get levelCap(){return 25},get maxTotalPetLevel(){return this.levelCap*this.pets.all.length},checkForUnlocks(){if(VUnlocks.raUnlock.canBeApplied){for(const t of li.unlocks.all)t.unlock();li.checkForQuotes()}},checkForQuotes(){for(const t of li.quotes.all)t.requirement&&t.show()},initializeRun(){clearCelestialRuns(),player.celestials.ra.run=!0,this.quotes.realityEnter.show()},toggleMode(){player.celestials.ra.activeMode=!player.celestials.ra.activeMode},get isUnlocked(){return V.spaceTheorems>=36},get isRunning(){return player.celestials.ra.run},get totalCharges(){return li.unlocks.chargedInfinityUpgrades.effectOrDefault(0)},get chargesLeft(){return this.totalCharges-player.celestials.ra.charged.size},get canBuyTriad(){return li.unlocks.unlockHardV.canBeApplied},get petWithRemembrance(){return player.celestials.ra.petWithRemembrance},set petWithRemembrance(t){player.celestials.ra.petWithRemembrance=t},updateAlchemyFlow(t){const e=1e3/t;for(const i of AlchemyResources.all)i.ema.addValue((i.amount-i.before)*e),i.before=i.amount},applyAlchemyReactions(t){if(!li.unlocks.effarigUnlock.canBeApplied)return;const e=AlchemyReactions.all.compact().sort((i,n)=>n.priority-i.priority);for(const i of e)i.combineReagents();this.updateAlchemyFlow(t)},get alchemyResourceCap(){return 25e3},get momentumValue(){const t=TimeSpan.fromMilliseconds(player.celestials.ra.momentumTime).totalHours;return Math.clampMax(1+5*t,AlchemyResource.momentum.effectValue)},quotes:Vd.ra,symbol:"<i class='fas fa-sun'></i>"},ide={get additionThreshold(){return 1e36},get empowermentThreshold(){return 1e43},get boostingThreshold(){return 1e60},getSacrificePower(t){if(Pelle.isDisabled("alteration"))return 0;const e=player.reality.glyphs.sac[t];if(e===void 0)throw new Error("Unknown sacrifice type");return e},get isUnlocked(){return Pelle.isDisabled("alteration")?!1:li.unlocks.alteredGlyphs.canBeApplied},isAdded(t){return this.isUnlocked&&this.getSacrificePower(t)>=this.additionThreshold},isEmpowered(t){return this.isUnlocked&&this.getSacrificePower(t)>=this.empowermentThreshold},isBoosted(t){return this.isUnlocked&&this.getSacrificePower(t)>=this.boostingThreshold},sacrificeBoost(t){const e=Math.clampMax(this.getSacrificePower(t),GlyphSacrificeHandler.maxSacrificeForEffects);return Math.log10(Math.clampMin(e/this.boostingThreshold,1))/2},baseAdditionColor(t=Theme.current().isDark()){return t?"#CCCCCC":"black"},baseEmpowermentColor(t=Theme.current().isDark()){return t?"#EEEE30":"#C6C610"},baseBoostColor(t=Theme.current().isDark()){return t?"#60DDDD":"#28BDBD"},getAdditionColor(t){const e=CosmeticGlyphTypes[t].currentColor.bg==="black";return this.isAdded(t)?this.baseAdditionColor(e):void 0},getEmpowermentColor(t){const e=CosmeticGlyphTypes[t].currentColor.bg==="black";return this.isEmpowered(t)?this.baseEmpowermentColor(e):void 0},getBoostColor(t){const e=CosmeticGlyphTypes[t].currentColor.bg==="black";return this.isBoosted(t)?this.baseBoostColor(e):void 0}};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{Tab.celestials.ra.isOpen&&li.quotes.unlock.show()});class zF extends mn{constructor(e){super(e),this.ema=new ExponentialMovingAverage(.01,10,100,.01),this._before=0}get name(){return this.config.name}get symbol(){return this.config.symbol}get description(){return this.config.description}get isBaseResource(){return this.config.isBaseResource===!0}get data(){return player.celestials.ra.alchemy[this.id]}get amount(){return this.data.amount}set amount(e){this.data.amount=e}get before(){return this._before}set before(e){this._before=e}get flow(){return this.ema.average}get fillFraction(){return Math.clamp(this.amount/this.cap,0,1)}get unlockedWith(){return Ra.pets.effarig}get unlockedAt(){return this.config.unlockedAt}get isUnlocked(){return this.unlockedWith.level>=this.unlockedAt}get lockText(){return`${this.unlockedWith.name} Level ${formatInt(this.unlockedAt)}`}get isCustomEffect(){return!0}get effectValue(){return V.isRunning&&this.config.id===14?0:this.config.effect(Pelle.isDisabled("alchemy")?0:this.amount)}get reaction(){return XF.all[this.id]}get cap(){throw new NotImplementedError}get capped(){return this.amount>=this.cap}}class nde extends zF{constructor(e){super(e),this._name=e.name.toLowerCase()}get highestRefinementValue(){return player.celestials.ra.highestRefinementValue[this._name]}set highestRefinementValue(e){player.celestials.ra.highestRefinementValue[this._name]=Math.max(this.highestRefinementValue,e)}get cap(){return Math.clampMax(Ra.alchemyResourceCap,this.highestRefinementValue)}}class rde extends zF{get cap(){const e=this.reaction.reagents.map(i=>i.resource.cap);return Math.min(...e)}}class ade{constructor(e,i){this._product=e,this._reagents=i}get product(){return this._product}get reagents(){return this._reagents}get reactionYield(){if(!this._product.isUnlocked||this._reagents.some(n=>!n.resource.isUnlocked))return 0;const e=(this._reagents.map(n=>n.resource.amount).min()-this._product.amount)/100,i=this._reagents.map(n=>n.resource.amount/n.cost).min();return Math.min(i,Math.max(e,1))}get actualYield(){const e=this.baseProduction*this.reactionYield*this.reactionEfficiency,i=this._product.amount,n=i+e;let r=this.reactionYield;for(const a of this._reagents){const s=a.resource.amount,o=a.resource.amount-this.reactionYield*a.cost,c=s-i,d=o-n;r=Math.min(r,this.reactionYield*c/(c-d))}return Math.clampMin(r,0)}get priority(){let e=Glyphs.levelCap;for(const i of this._reagents){const n=i.resource.amount-i.cost*this.actualYield;e=Math.min(e,n)}return e}get isActive(){return this._product.data.reaction}set isActive(e){this._product.data.reaction=e}get isReality(){return this._product.id===ALCHEMY_RESOURCE.REALITY}get baseProduction(){return this.isReality?1:5}get reactionEfficiency(){return this.isReality?2.5:Sv.synergism.effectValue}get reactionProduction(){return this.baseProduction*this.reactionEfficiency}combineReagents(){if(!this.isActive||this.reactionYield===0)return;const e=Sv.unpredictability.effectValue,i=1+poissonDistribution(e/(1-e)),n=this._product.cap;for(let r=0;r<i;r++){const a=this.actualYield;for(const o of this._reagents)o.resource.amount-=a*o.cost;const s=Math.clampMin(a*this.reactionProduction,.5);this._product.amount=Math.clampMax(this._product.amount+s,n)}}}const Sv=mapGameDataToObject(GameDatabase.celestials.alchemy.resources,t=>t.isBaseResource?new nde(t):new rde(t)),_k={all:Sv.all,base:Sv.all.filter(t=>t.isBaseResource)},XF=function(){function t(e){return e.config.reagents.map(i=>({resource:_k.all.find(n=>n.id===i.resource),cost:i.amount}))}return{all:_k.all.map(e=>e.isBaseResource?null:new ade(e,t(e)))}}();class hE{constructor(e,i){this._tier=i,this._getData=e;const n=[null,"First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth"];this._displayName=n[i];const r=[null,"1st","2nd","3rd","4th","5th","6th","7th","8th"];this._shortDisplayName=r[i]}get tier(){return this._tier}get displayName(){return this._displayName}get shortDisplayName(){return this._shortDisplayName}get data(){return this._getData()[this.tier-1]}get amount(){return this.data.amount}set amount(e){this.data.amount=e}get bought(){return this.data.bought}set bought(e){this.data.bought=e}get productionPerSecond(){throw new NotImplementedError}get productionPerRealSecond(){return this.productionPerSecond.times(getGameSpeedupForDisplay())}productionForDiff(e){return this.productionPerSecond.times(e/1e3)}produceCurrency(e,i){e.add(this.productionForDiff(i))}produceDimensions(e,i){e.amount=e.amount.plus(this.productionForDiff(i))}static get dimensionCount(){return 8}static createAccessor(){const e=Array.range(1,this.dimensionCount).map(n=>new this(n));e.unshift(null);const i=n=>e[n];return i.index=e,i}}const sde=5,ode=10,lde=[1.65,1.6,1.55,1.5],cde=10,ude=10,dde=10,O1=.92,KF=500,ZF=500,hde=1200;class QF extends hE{constructor(e){super(()=>player.celestials.laitela.dimensions,e)}get productionPerSecond(){return this.powerDE*1e3/this.interval}get unlockUpgrade(){return ImaginaryUpgrade(this.tier+14)}get isUnlocked(){return this.unlockUpgrade.isBought}get ascensions(){return this.data.ascensionCount}get intervalPurchaseCap(){return 10}get rawInterval(){const e=O1;return 1e3*Math.pow(4,this.tier-1)*Math.pow(e,this.data.intervalUpgrades)*Math.pow(SingularityMilestone.ascensionIntervalScaling.effectOrDefault(1200),this.ascensions)*SingularityMilestone.darkDimensionIntervalReduction.effectOrDefault(1)}get interval(){return Math.clampMin(this.intervalPurchaseCap,this.rawInterval)}get commonDarkMult(){return DC.D1.timesEffectsOf(SingularityMilestone.darkFromTesseracts,SingularityMilestone.darkFromGlyphLevel,SingularityMilestone.darkFromTheorems,SingularityMilestone.darkFromDM4,SingularityMilestone.darkFromGamespeed,SingularityMilestone.darkFromDilatedTime)}get powerDMPerAscension(){return KF+SingularityMilestone.improvedAscensionDM.effectOrDefault(0)}get powerDM(){return this.isUnlocked?new Decimal(1+2*Math.pow(1.15,this.data.powerDMUpgrades)).times(1e3).times(Laitela.realityReward).times(Laitela.darkMatterMult).times(this.commonDarkMult).times(Math.pow(this.powerDMPerAscension,this.ascensions)).timesEffectsOf(SingularityMilestone.darkMatterMult,SingularityMilestone.multFromInfinitied).dividedBy(Math.pow(1e4,Math.pow(this.tier-1,.5))):new Decimal(0)}get powerDE(){if(!this.isUnlocked||Pelle.isDoomed)return 0;const e=Math.pow(15,this.tier-1),i=Laitela.isFullyDestabilized?8:1;return new Decimal((1+this.data.powerDEUpgrades*.1)*Math.pow(1.005,this.data.powerDEUpgrades)*e/1e3).times(this.commonDarkMult).times(Math.pow(ZF,this.ascensions)).times(1e3).timesEffectsOf(SingularityMilestone.darkEnergyMult,SingularityMilestone.realityDEMultiplier,SingularityMilestone.multFromInfinitied).toNumber()*i}get intervalAfterAscension(){const e=Decimal.affordGeometricSeries(Currency.darkMatter.value,this.rawIntervalCost,this.intervalCostIncrease,0).toNumber();return Math.clampMin(this.intervalPurchaseCap,SingularityMilestone.ascensionIntervalScaling.effectOrDefault(1200)*this.rawInterval*Math.pow(O1,e))}get adjustedStartingCost(){return 10*Math.pow(hde,[null,0,2,5,13][this.tier])*SingularityMilestone.darkDimensionCostReduction.effectOrDefault(1)}get rawIntervalCost(){return Decimal.pow(this.intervalCostIncrease,this.data.intervalUpgrades).times(this.adjustedStartingCost).times(cde)}get intervalCost(){return this.rawIntervalCost.floor()}get intervalCostIncrease(){return Math.pow(sde,SingularityMilestone.intervalCostScalingReduction.effectOrDefault(1))}get rawPowerDMCost(){return Decimal.pow(this.powerDMCostIncrease,this.data.powerDMUpgrades).times(this.adjustedStartingCost).times(ude)}get powerDMCost(){return this.rawPowerDMCost.floor()}get powerDMCostIncrease(){return ode}get rawPowerDECost(){return Decimal.pow(this.powerDECostIncrease,this.data.powerDEUpgrades).times(this.adjustedStartingCost).times(dde)}get powerDECost(){return this.rawPowerDECost.floor()}get powerDECostIncrease(){return lde[this.tier-1]}get timeSinceLastUpdate(){return this.data.timeSinceLastUpdate}set timeSinceLastUpdate(e){this.data.timeSinceLastUpdate=e}get canBuyInterval(){return Currency.darkMatter.gte(this.intervalCost)&&this.interval>this.intervalPurchaseCap}get canBuyPowerDM(){return Currency.darkMatter.gte(this.powerDMCost)}get canBuyPowerDE(){return Currency.darkMatter.gte(this.powerDECost)}get maxIntervalPurchases(){return Math.ceil(Math.log(this.intervalPurchaseCap/this.interval)/Math.log(O1))}buyManyInterval(e){if(e>this.maxIntervalPurchases)return!1;const i=this.rawIntervalCost.times(Decimal.pow(this.intervalCostIncrease,e).minus(1)).div(this.intervalCostIncrease-1).floor();return Currency.darkMatter.purchase(i)?(this.data.intervalUpgrades+=e,!0):!1}buyManyPowerDM(e){const i=this.rawPowerDMCost.times(Decimal.pow(this.powerDMCostIncrease,e).minus(1)).div(this.powerDMCostIncrease-1).floor();return Currency.darkMatter.purchase(i)?(this.data.powerDMUpgrades+=e,!0):!1}buyManyPowerDE(e){const i=this.rawPowerDECost.times(Decimal.pow(this.powerDECostIncrease,e).minus(1)).div(this.powerDECostIncrease-1).floor();return Currency.darkMatter.purchase(i)?(this.data.powerDEUpgrades+=e,!0):!1}buyInterval(){return this.buyManyInterval(1)}buyPowerDM(){return this.buyManyPowerDM(1)}buyPowerDE(){return this.buyManyPowerDE(1)}ascend(){if(!(this.interval>this.intervalPurchaseCap))for(this.data.ascensionCount++;this.buyInterval(););}static get dimensionCount(){return 4}reset(){this.data.amount=DC.D1,this.data.intervalUpgrades=0,this.data.powerDMUpgrades=0,this.data.powerDEUpgrades=0,this.data.timeSinceLastUpdate=0,this.data.ascensionCount=0}}const Ih=QF.createAccessor(),fw={all:Ih.index.compact(),tick(t){if(Laitela.isUnlocked){for(let e=4;e>=1;e--){const i=Ih(e);if(i.isUnlocked&&(i.timeSinceLastUpdate+=t,i.interval<i.timeSinceLastUpdate)){const n=Math.floor(i.timeSinceLastUpdate/i.interval),r=i.amount.times(n).times(i.powerDM);e===1?Currency.darkMatter.add(r):Ih(e-1).amount=Ih(e-1).amount.plus(r),Currency.darkEnergy.add(n*i.powerDE),i.timeSinceLastUpdate-=i.interval*n}}SingularityMilestone.dim4Generation.canBeApplied&&Laitela.annihilationUnlocked&&(Ih(4).amount=Ih(4).amount.plus(SingularityMilestone.dim4Generation.effectValue*t/1e3))}},reset(){for(const t of fw.all)t.reset();Currency.darkMatter.reset()}},Td={displayName:"Lai'tela",possessiveName:"Lai'tela's",get celestial(){return player.celestials.laitela},get isUnlocked(){return ImaginaryUpgrade(15).isBought},initializeRun(){clearCelestialRuns(),this.celestial.run=!0},get isRunning(){return this.celestial.run},get difficultyTier(){return player.celestials.laitela.difficultyTier},set difficultyTier(t){player.celestials.laitela.difficultyTier=t},get maxAllowedDimension(){return 8-this.difficultyTier},get isFullyDestabilized(){return Td.maxAllowedDimension===0},get continuumUnlocked(){return ImaginaryUpgrade(15).isBought&&!Pelle.isDisabled("continuum")},get continuumActive(){return this.continuumUnlocked&&!player.auto.disableContinuum&&!Pelle.isDisabled("continuum")},setContinuum(t){player.auto.disableContinuum=!t,player.auto.disableContinuum||(player.requirementChecks.reality.noContinuum=!1)},get matterExtraPurchaseFactor(){return 1+.5*Math.pow(Decimal.pLog10(Currency.darkMatter.max)/50,.4)*(1+SingularityMilestone.continuumMult.effectOrDefault(0))},get realityReward(){return Math.clampMin(Math.pow(100,this.difficultyTier)*Math.pow(360/player.celestials.laitela.fastestCompletion,2),1)},get entropyGainPerSecond(){return Math.clamp(Math.pow(Currency.antimatter.value.add(1).log10()/1e11,2),0,100)/200},get darkMatterMultGain(){return Decimal.pow(Currency.darkMatter.value.dividedBy(this.annihilationDMRequirement).plus(1).log10(),1.5).toNumber()*ImaginaryUpgrade(21).effectOrDefault(1)*1e3},get darkMatterMult(){return this.celestial.darkMatterMult},get darkMatterMultRatio(){return(this.celestial.darkMatterMult+this.darkMatterMultGain)/this.celestial.darkMatterMult},get annihilationUnlocked(){return ImaginaryUpgrade(19).isBought},get annihilationDMRequirement(){return 1e60},get canAnnihilate(){return Td.annihilationUnlocked&&Currency.darkMatter.gte(this.annihilationDMRequirement)},annihilate(t){return!t&&!this.canAnnihilate?!1:(this.celestial.darkMatterMult+=this.darkMatterMultGain,fw.reset(),Td.quotes.annihilation.show(),Achievement(176).unlock(),!0)},maxAllDMDimensions(t){const i=fw.all.filter(a=>a.isUnlocked&&a.tier<=t).map(a=>[[a.rawIntervalCost,a.intervalCostIncrease,a.maxIntervalPurchases,s=>a.buyManyInterval(s)],[a.rawPowerDMCost,a.powerDMCostIncrease,1/0,s=>a.buyManyPowerDM(s)],[a.rawPowerDECost,a.powerDECostIncrease,1/0,s=>a.buyManyPowerDE(s)]]).flat(1),n=function(a,s){a[3](s),a[0]=a[0].times(Decimal.pow(a[1],s)),a[2]-=s},r=Currency.darkMatter.value;for(const a of i){const s=Math.clamp(Math.floor(r.times(.02).div(a[0]).log(a[1])),0,a[2]);n(a,s)}for(;i.some(a=>a[0].lte(r)&&a[2]>0);){const a=i.filter(s=>s[2]>0).sort((s,o)=>s[0].minus(o[0]).sign())[0];n(a,1)}},reset(){this.annihilate(!0),this.celestial.darkMatterMult=1,Currency.darkMatter.max=DC.D1,Currency.darkMatter.reset(),Currency.singularities.reset(),this.celestial.fastestCompletion=3600,this.celestial.difficultyTier=0,this.celestial.singularityCapIncreases=0},quotes:Vd.laitela,symbol:"ᛝ"};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{Tab.celestials.laitela.isOpen&&Td.quotes.unlock.show()});class fde extends mn{constructor(e){const i=e.effect,n=Lf([{},e]);n.effect=()=>i(this.completions),super(n),this._rawEffect=i}get start(){return this.config.start}get repeat(){return this.config.repeat}get limit(){return this.config.limit}get isUnique(){return this.repeat===0}get isUnlocked(){return Currency.singularities.gte(this.start)}get increaseThreshold(){return this.config.increaseThreshold}nerfCompletions(e){const i=this.increaseThreshold;return!i||e<i?e:i+(e-i)/3}unnerfCompletions(e){const i=this.increaseThreshold;return!i||e<i?e:i+(e-i)*3}get previousGoal(){return this.isUnique?1:this.isUnlocked?this.start*Math.pow(this.repeat,this.unnerfCompletions(this.completions)-1):0}get nextGoal(){return this.isUnique?this.start:this.start*Math.pow(this.repeat,this.unnerfCompletions(this.completions+1)-1)}get rawCompletions(){return this.isUnique?this.isUnlocked?1:0:this.isUnlocked?1+(Math.log(Currency.singularities.value)-Math.log(this.start))/Math.log(this.repeat):0}get completions(){return Math.min(Math.floor(this.nerfCompletions(this.rawCompletions)),this.limit)}get remainingSingularities(){return this.nextGoal-Currency.singularities.value}get progressToNext(){const e=(Currency.singularities.value-this.previousGoal)/this.nextGoal;return formatPercents(Math.clampMax(e,1))}get isMaxed(){return this.isUnique&&this.isUnlocked||this.completions>=this.limit}get effectDisplay(){return Number.isFinite(this.effectValue)?this.config.effectFormat(this.effectValue):"N/A"}get nextEffectDisplay(){return this.config.effectFormat(this._rawEffect(this.completions+1))}get description(){return this.config.description}get canBeApplied(){return this.isUnlocked&&!Pelle.isDisabled("singularity")}}const Vg=mapGameDataToObject(GameDatabase.celestials.singularityMilestones,t=>new fde(t)),Av={all:Vg.all,lastNotified:player.celestials.laitela.lastCheckedMilestones,get sorted(){return this.all.sort((t,e)=>t.remainingSingularities-e.remainingSingularities)},sortedForCompletions(t){const e=player.celestials.laitela.singularitySorting;let i;switch(e.sortResource){case SINGULARITY_MILESTONE_SORT.SINGULARITIES_TO_NEXT:i=s=>s.isMaxed?1+Math.log10(s.isUnique?s.nextGoal:s.previousGoal)/1e3:Math.log10(s.remainingSingularities)/100;break;case SINGULARITY_MILESTONE_SORT.CURRENT_COMPLETIONS:i=s=>{const o=Math.clampMin(s.previousGoal,1),c=Math.clamp(Math.log(Currency.singularities.value/o)/Math.log(s.nextGoal/o),0,1);return(s.completions+c)/20};break;case SINGULARITY_MILESTONE_SORT.PERCENT_COMPLETIONS:i=s=>{const o=Number.isFinite(s.limit)?s.limit:100,c=Math.log(Currency.singularities.value/s.previousGoal)/Math.log(s.nextGoal/s.previousGoal);return Math.clampMax((s.completions+c)/o,1)+(Number.isFinite(s.limit)?0:1)};break;case SINGULARITY_MILESTONE_SORT.FINAL_COMPLETION:i=s=>{const o=Number.isFinite(s.limit)?s.limit:50;return Math.log10(s.config.start*Math.pow(s.config.repeat,o-1))/100};break;case SINGULARITY_MILESTONE_SORT.MOST_RECENT:i=s=>s.isUnlocked?Math.log10(s.isUnique?s.nextGoal:s.previousGoal)/100:1+Math.log10(s.start)/1e3;break;default:throw new Error("Unrecognized Singularity Milestone sorting option (order)")}let n;switch(e.showCompleted){case COMPLETED_MILESTONES.FIRST:n=10;break;case COMPLETED_MILESTONES.LAST:n=-10;break;case COMPLETED_MILESTONES.IGNORED:n=0;break;default:throw new Error("Unrecognized Singularity Milestone sorting option (completed milestones)")}const r=s=>s.previousGoal>player.celestials.laitela.lastCheckedMilestones&&t?20:0,a=s=>(s.isMaxed?n:0)+(e.sortOrder?i(s):-i(s))+r(s);return this.sorted.sort((s,o)=>a(o)-a(s))},get nextMilestoneGroup(){return this.sortedForCompletions(!1).filter(t=>!t.isMaxed).slice(0,6)},get unseenMilestones(){const t=player.celestials.laitela;return SO.filter(e=>e>t.lastCheckedMilestones&&Currency.singularities.gte(e))},get unnotifiedMilestones(){return SO.filter(t=>t>this.lastNotified&&Currency.singularities.gte(t))}},SO=function(){return Av.all.map(t=>Array.range(0,Math.min(50,t.limit)).filter(e=>!t.increaseThreshold||e<=t.increaseThreshold||e>t.increaseThreshold&&(e-t.increaseThreshold)%3===2).map(e=>t.start*Math.pow(t.repeat,e))).flat(1/0).filter(t=>t<1e100).sort((t,e)=>t-e)}(),pde={get cap(){return 200*Math.pow(10,player.celestials.laitela.singularityCapIncreases)},get gainPerCapIncrease(){return Vg.improvedSingularityCap.effectOrDefault(11)},get singularitiesGained(){return Math.floor(Math.pow(this.gainPerCapIncrease,player.celestials.laitela.singularityCapIncreases)*Vg.singularityMult.effectOrDefault(1)*(1+ImaginaryUpgrade(10).effectOrDefault(0))*1e3)},get timePerCondense(){return this.cap/Currency.darkEnergy.productionPerSecond},get timeUntilCap(){return(this.cap-Currency.darkEnergy.value)/Currency.darkEnergy.productionPerSecond},get timeDelayFromAuto(){return this.timePerCondense*(Vg.autoCondense.effectOrDefault(1/0)-1)},get capIsReached(){return Currency.darkEnergy.gte(this.cap)},increaseCap(){player.celestials.laitela.singularityCapIncreases>=50||player.celestials.laitela.singularityCapIncreases++},decreaseCap(){player.celestials.laitela.singularityCapIncreases!==0&&player.celestials.laitela.singularityCapIncreases--},perform(){if(!(!this.capIsReached||Pelle.isDoomed)){EventHub.dispatch(GAME_EVENT.SINGULARITY_RESET_BEFORE),Currency.darkEnergy.reset(),Currency.singularities.add(this.singularitiesGained);for(const t of Laitela.quotes.all)t.requirement&&t.show();EventHub.dispatch(GAME_EVENT.SINGULARITY_RESET_AFTER)}}};EventHub.logic.on(GAME_EVENT.GAME_LOAD,()=>Av.lastNotified=Currency.singularities.value);EventHub.logic.on(GAME_EVENT.SINGULARITY_RESET_AFTER,()=>{const t=Av.unnotifiedMilestones.length;t!==0&&(t===1?GameUI.notify.blackHole("You reached a Singularity milestone!"):GameUI.notify.blackHole(`You reached ${formatInt(t)} Singularity milestones!`),Av.lastNotified=Currency.singularities.value)});const Rp={chars:{0:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈́","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],1:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],2:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͏","͜","͝","͞","͟","͠","͢","̸","̷","͡","҉"]},random(t,e){if(t==1)return 0;const i=66669*e%981/997;return t?Math.floor(i*t+1)-1:i},generate(t,e=0){const i=t.split("");let n=i.reduce((r,a)=>r+a.charCodeAt(0),0);return i.map(r=>{if(r==" ")return r;for(let a=0;a<e;a++){const s=Rp.random(3,n++);Rp.random(10,n++)/10>=.5&&(r+=Rp.chars[s][Rp.random(Rp.chars[s].length,n++)])}return r}).join("")}},mde=Rp.generate,AO={achievements:()=>({}),IPMults:()=>({}),EPMults:()=>({}),galaxies:()=>({}),InfinitiedMults:()=>({}),infinitiedGen:()=>({}),eternityGain:()=>({}),eternityMults:()=>({}),studies:()=>({}),EPgen:()=>({}),autoec:()=>({}),replicantiIntervalMult:()=>({}),tpMults:()=>({}),glyphs:()=>!PelleRifts.vacuum.milestones[0].canBeApplied,V:()=>({}),singularity:()=>({}),continuum:()=>({}),alchemy:()=>({}),achievementMult:()=>({}),blackhole:()=>({}),effarig:()=>({}),imaginaryUpgrades:()=>({}),glyphsac:()=>({}),antimatterDimAutobuyer1:()=>ea.antimatterDimAutobuyers1,antimatterDimAutobuyer2:()=>ea.antimatterDimAutobuyers1,antimatterDimAutobuyer3:()=>ea.antimatterDimAutobuyers1,antimatterDimAutobuyer4:()=>ea.antimatterDimAutobuyers1,antimatterDimAutobuyer5:()=>ea.antimatterDimAutobuyers2,antimatterDimAutobuyer6:()=>ea.antimatterDimAutobuyers2,antimatterDimAutobuyer7:()=>ea.antimatterDimAutobuyers2,antimatterDimAutobuyer8:()=>ea.antimatterDimAutobuyers2,tickspeedAutobuyer:()=>ea.tickspeedAutobuyer,dimBoostAutobuyer:()=>ea.dimBoostAutobuyer,galaxyAutobuyer:()=>ea.galaxyAutobuyer,timeTheoremAutobuyer:()=>({}),rupg10:()=>({}),dtMults:()=>({}),chargedInfinityUpgrades:()=>({}),alteration:()=>({}),timeTheorems:()=>({})},Ea={symbol:"♅",possessiveName:"Pelle's",initializeRun(){if(this.isDoomed){Ea.armageddon(!0);return}if(Glyphs.harshAutoClean(),!Glyphs.unequipAll()){Modal.hideAll(),Modal.message.show(`Dooming your Reality will unequip your Glyphs. Some of your
        Glyphs could not be unequipped due to lack of inventory space.`,1);return}if(Glyphs.harshAutoClean(),Glyphs.freeInventorySpace<5){Modal.hideAll(),Modal.message.show(`You must have enough empty unprotected Glyph slots for
        ${formatInt(5)} additional Glyphs in order to Doom your Reality.`,1);return}for(const n of BASIC_GLYPH_TYPES)Glyphs.addToInventory(GlyphGenerator.doomedGlyph(n));Glyphs.refreshActive(),player.options.confirmations.glyphReplace=!0,player.reality.automator.state.repeat=!1,player.reality.automator.state.forceRestart=!1,BlackHoles.arePaused&&BlackHoles.togglePause(),player.celestials.pelle.doomed=!0,Ea.armageddon(!1),respecTimeStudies(!0),ni.infinityPoints.reset(),player.IPMultPurchases=0,Autobuyer.bigCrunch.mode=AUTO_CRUNCH_MODE.AMOUNT,disChargeAll(),clearCelestialRuns(),player.auto.antimatterDims.isActive=!0,player.buyUntil10=!0,player.records.realTimeDoomed=0;for(const n of AlchemyResources.all)n.amount=0;AutomatorBackend.stop();const t=-2&1<<GameDatabase.tabs.find(n=>n.key==="shop").id;player.options.hiddenTabBits&=t;const e=["statistics","achievements","reality","celestials"],i=GameDatabase.tabs.filter(n=>e.includes(n.key)).map(n=>n.id);for(let n=0;n<GameDatabase.tabs.length;n++)player.options.hiddenSubtabBits[n]&=i.includes(n)?-1:0;Ea.quotes.initial.show(),GameStorage.save(!0)},get displayName(){return Date.now()%4e3>500?"Pelle":zn.randomCrossWords("Pelle")},get isUnlocked(){return ImaginaryUpgrade(25).isBought},isDisabled(t){if(!this.isDoomed)return!1;if(!t)return!0;if(!AO[t])return console.error(`Mechanic ${t} isn't present in the disabledMechanicUnlocks!`),!0;const e=AO[t]();return typeof e=="boolean"?e:!e.canBeApplied},get canArmageddon(){return this.remnantsGain>=1},armageddon(t){!this.canArmageddon&&t||(EventHub.dispatch(GAME_EVENT.ARMAGEDDON_BEFORE,t),t&&(this.cel.remnants+=this.remnantsGain),finishProcessReality({reset:!0,armageddon:!0}),disChargeAll(),player.celestials.enslaved.isStoringReal=!1,player.celestials.enslaved.autoStoreReal=!1,PelleStrikes.dilation.hasStrike&&(player.dilation.active=!0),EventHub.dispatch(GAME_EVENT.ARMAGEDDON_AFTER,t))},gameLoop(t){this.isDoomed&&(ni.realityShards.add(this.realityShardGainPerSecond.times(t).div(1e3)),PelleRifts.all.forEach(e=>e.fill(t)))},get cel(){return player.celestials.pelle},get isDoomed(){return this.cel.doomed},get disabledAchievements(){return[164,156,143,142,141,137,134,133,132,131,126,125,118,117,116,113,111,104,103,95,93,92,91,87,85,78,76,74,65,55,54,37]},get uselessInfinityUpgrades(){return["passiveGen","ipMult","infinitiedGeneration"]},get uselessTimeStudies(){return[32,33,41,51,61,62,121,122,123,141,142,143,192,213]},get disabledRUPGs(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,19,20,22,23,24]},get uselessPerks(){return[10,12,13,14,15,16,17,30,40,41,42,43,44,45,46,51,52,53,60,61,62,80,81,82,83,100,103,104,105,106,201,202,203,204]},get specialGlyphEffect(){const t=this.isDoomed&&PelleRifts.chaos.milestones[1].canBeApplied,e=this.getSpecialGlyphEffectDescription(this.activeGlyphType),i=n=>t&&this.activeGlyphType===n;return{isUnlocked:t,description:e,infinity:i("infinity")&&player.challenge.eternity.current<=8?ni.infinityPoints.value.plus(1).pow(.2):DC.D1,time:i("time")?ni.eternityPoints.value.plus(1).pow(.3):DC.D1,replication:i("replication")?10**53**PelleRifts.vacuum.percentage:1,dilation:i("dilation")?Decimal.pow(player.dilation.totalTachyonGalaxies,1.5).max(1):DC.D1,power:i("power")?1.02:1,companion:i("companion")?1.34:1,isScaling:()=>["infinity","time","replication","dilation"].includes(this.activeGlyphType)}},getSpecialGlyphEffectDescription(t){switch(t){case"infinity":return`Infinity Point gain ${player.challenge.eternity.current<=8?formatX(ni.infinityPoints.value.plus(1).pow(.2),2):formatX(DC.D1,2)} (based on current IP)`;case"time":return`Eternity Point gain ${formatX(ni.eternityPoints.value.plus(1).pow(.3),2)}
          (based on current EP)`;case"replication":return`Replication speed ${formatX(10**53**PelleRifts.vacuum.percentage,2)}         (based on ${zn.wordCycle(PelleRifts.vacuum.name)})`;case"dilation":return`Dilated Time gain ${formatX(Decimal.pow(player.dilation.totalTachyonGalaxies,1.5).max(1),2)}
          (based on Tachyon Galaxies)`;case"power":return`Galaxies are ${formatPercents(.02)} stronger`;case"companion":return`You feel ${formatPercents(.34)} better`;case void 0:return"No Glyph equipped!";default:return"You cannot equip this Glyph while Doomed!"}},get remnantRequirementForDilation(){return 38e6},get canDilateInPelle(){return this.cel.remnants>=this.remnantRequirementForDilation},resetResourcesForDilation(){this.cel.records.totalAntimatter=new Decimal("1e180000"),this.cel.records.totalInfinityPoints=new Decimal("1e60000"),ni.eternityPoints.reset(),this.cel.records.totalEternityPoints=new Decimal("1e1050")},get remnantsGain(){let t=this.cel.records.totalAntimatter.plus(1).log10(),e=this.cel.records.totalInfinityPoints.plus(1).log10(),i=this.cel.records.totalEternityPoints.plus(1).log10();PelleStrikes.dilation.hasStrike&&(t*=500,e*=10,i*=5);const n=((Math.log10(t+2)+Math.log10(e+2)+Math.log10(i+2))/1.64)**7.5;return n<1?n:Math.floor(n-this.cel.remnants)},realityShardGain(t){return Decimal.pow(10,t**(1/7.5)*4).minus(1)},get realityShardGainPerSecond(){return this.realityShardGain(this.cel.remnants)},get nextRealityShardGain(){return this.realityShardGain(this.remnantsGain+this.cel.remnants)},get riftDrainPercent(){return .3},get glyphMaxLevel(){return ea.glyphLevels.effectValue},get glyphStrength(){return 1},antimatterDimensionMult(t){return Decimal.pow(10,Math.log10(t+1)+t**5.1/1e3+4**t/1e19)},get activeGlyphType(){var t;return(t=Glyphs.active.filter(Boolean)[0])==null?void 0:t.type},get hasGalaxyGenerator(){return player.celestials.pelle.galaxyGenerator.unlocked},transitionText(t,e,i=0){const n=Math.round((t.length*(1-i)+e.length*i)*1e8)/1e8,r=n*(1-i);let a=r,s="";for(let o=0;o<n;o++)if(o>=a){const c=Math.floor(o*(e.length/n));s+=e[c],a+=r}else{const c=Math.floor(o*(t.length/n));s+=t[c]}return mde(s,Math.floor(i**2*7))},endTabNames:"End Is Nigh Destruction Is Imminent Help Us Good Bye Forever".split(" "),quotes:Vd.pelle};EventHub.logic.on(GAME_EVENT.ARMAGEDDON_AFTER,()=>{ni.remnants.gte(1)&&Ea.quotes.arm.show()});EventHub.logic.on(GAME_EVENT.PELLE_STRIKE_UNLOCKED,()=>{PelleStrikes.infinity.hasStrike&&Ea.quotes.strike1.show(),PelleStrikes.powerGalaxies.hasStrike&&Ea.quotes.strike2.show(),PelleStrikes.eternity.hasStrike&&Ea.quotes.strike3.show(),PelleStrikes.ECs.hasStrike&&Ea.quotes.strike4.show(),PelleStrikes.dilation.hasStrike&&Ea.quotes.strike5.show()});class JF extends tu{get currency(){return ni.realityShards}get boughtAmount(){return player.celestials.pelle.rebuyables[this.id]}set boughtAmount(e){player.celestials.pelle.rebuyables[this.id]=e}get isCapped(){return this.boughtAmount>=this.config.cap}get isCustomEffect(){return!0}get effectValue(){return this.config.effect(this.boughtAmount)}onPurchased(){this.id==="glyphLevels"&&EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)}}class e3 extends Df{get set(){return player.celestials.pelle.upgrades}get currency(){return ni.realityShards}get description(){return this.config.description}get cost(){return this.config.cost}get isAvailableForPurchase(){return Ea.isDoomed}}const ea=mapGameDataToObject(GameDatabase.celestials.pelle.upgrades,t=>t.rebuyable?new JF(t):new e3(t));ea.rebuyables=ea.all.filter(t=>t.isRebuyable);ea.singles=ea.all.filter(t=>!t.isRebuyable).sort((t,e)=>t.cost-e.cost);class yde extends Bd{get bits(){return player.celestials.pelle.progressBits}set bits(e){player.celestials.pelle.progressBits=e}get hasStrike(){return this.isUnlocked}get canBeUnlocked(){return Pelle.isDoomed&&!this.hasStrike}get requirement(){const e=this.config.requirementDescription;return typeof e=="function"?e():e}get penalty(){const e=this.config.penaltyDescription;return typeof e=="function"?e():e}reward(){return this.config.rewardDescription()}get rift(){return this.config.rift()}trigger(){this.unlock()}onUnlock(){GameUI.notify.strike(`You encountered a Pelle Strike: ${this.requirement}`),player.celestials.pelle.collapsed.rifts=!1,this.id===5&&Pelle.resetResourcesForDilation(),Tab.celestials.pelle.show(),EventHub.dispatch(GAME_EVENT.PELLE_STRIKE_UNLOCKED)}}const gde=mapGameDataToObject(GameDatabase.celestials.pelle.strikes,t=>new yde(t));class vde extends mn{constructor(e){super(e),this.lastChecked=!1}get requirement(){return this.config.requirement}get resource(){return this.config.resource}checkMilestoneState(){var e,i;this.lastChecked!==this.isUnlocked&&((i=(e=this.config).onStateChange)==null||i.call(e)),this.lastChecked=this.isUnlocked}get isUnlocked(){return this.resource==="decay"&&Ks.chaos.milestones[0].isEffectActive?!0:this.requirement<=Ks[this.resource].percentage}get isEffectActive(){return this.isUnlocked}get description(){const e=this.config.description;return typeof e=="function"?e():e}get formattedEffect(){return this.canBeApplied?this.config.formatEffect(this.effectValue):!1}}class bde extends mn{constructor(e){super(e),this._milestones=this.config.milestones.map(i=>new vde(i))}get fillCurrency(){return this.config.currency()}get strike(){return this.config.strike()}get canBeApplied(){return this.strike.hasStrike}get name(){return this.config.name}get reducedTo(){return this.rift.reducedTo}set reducedTo(e){this.rift.reducedTo=e}get rift(){return player.celestials.pelle.rifts[this.config.key]}get totalFill(){return this.rift.fill}set totalFill(e){this.rift.fill=e}get isActive(){return this.rift.active}get realPercentage(){return this.config.percentage(this.totalFill)}get spentPercentage(){return this.rift.percentageSpent||0}get percentage(){return this.reducedTo>1?this.reducedTo:this.config.spendable?Math.min(this.config.percentage(this.totalFill)-this.spentPercentage,this.reducedTo):Math.min(this.realPercentage,this.reducedTo)}get milestones(){return this._milestones}get description(){return this.config.description}get drainResource(){return this.config.drainResource}get effects(){var n,r;const e=this.config.baseEffect(this.effectValue),i=((r=(n=this.config).additionalEffects)==null?void 0:r.call(n).map(a=>a.formattedEffect))??[];return[e,...i]}get isCustomEffect(){return!0}get effectValue(){return this.config.effect(this.config.percentageToFill(this.percentage))}get maxValue(){return this.config.percentageToFill(1+this.spentPercentage)}get isMaxed(){return this.percentage>=1}get galaxyGeneratorText(){return this.config.galaxyGeneratorText}toggle(){const e=Ks.all.filter(i=>i.isActive).length;!this.isActive&&e===2?GameUI.notify.error("You can only have 2 rifts active at the same time!"):this.rift.active=!this.rift.active}checkMilestoneStates(){this.milestones.forEach(e=>e.checkMilestoneState())}fill(e){if(this.isActive&&this.isMaxed){this.rift.active=!1;return}if(!(!this.isActive||this.isMaxed)){if(this.fillCurrency.value instanceof Decimal){if(this.fillCurrency.value.lte(1))return;const i=this.fillCurrency.value.times((1-Pelle.riftDrainPercent)**(e/1e3)),n=this.fillCurrency.value.minus(i);this.fillCurrency.value=this.fillCurrency.value.minus(n).max(1),this.totalFill=this.totalFill.plus(n).min(this.maxValue)}else{const i=this.fillCurrency.value*(1-Pelle.riftDrainPercent)**(e/1e3),n=this.fillCurrency.value-i;this.fillCurrency.value=Math.max(this.fillCurrency.value-n,0),this.totalFill=Math.clampMax(this.totalFill+n,this.maxValue)}Ks.vacuum.milestones[0].canBeApplied&&Glyphs.refreshActive(),this.checkMilestoneStates()}}}const Ks=mapGameDataToObject(GameDatabase.celestials.pelle.rifts,t=>new bde(t));Ks.totalMilestones=()=>Ks.all.flatMap(t=>t.milestones).countWhere(t=>t.canBeApplied);const _de={hasReturnedGlyphSlot:!1,get generationCaps(){return Ks.all.map(t=>({rift:t.config.key,cap:t.config.galaxyGeneratorThreshold})).sort((t,e)=>t.cap-e.cap)},get spentGalaxies(){return player.celestials.pelle.galaxyGenerator.spentGalaxies},get generatedGalaxies(){return player.celestials.pelle.galaxyGenerator.generatedGalaxies},get galaxies(){return this.generatedGalaxies-this.spentGalaxies},get gainPerSecond(){return Pelle.hasGalaxyGenerator?new Decimal(Mp.additive.effectValue).timesEffectsOf(Mp.multiplicative,Mp.antimatterMult,Mp.IPMult,Mp.EPMult).toNumber():0},get capObj(){return this.generationCaps[player.celestials.pelle.galaxyGenerator.phase]},get generationCap(){return this.capObj?this.capObj.cap:1/0},get capRift(){var t;return Ks[(t=this.capObj)==null?void 0:t.rift]},get isCapped(){return this.generationCap===this.generatedGalaxies},get sacrificeActive(){return player.celestials.pelle.galaxyGenerator.sacrificeActive},startSacrifice(){player.celestials.pelle.collapsed.rifts=!1,player.celestials.pelle.galaxyGenerator.sacrificeActive=!0},loop(t){if(this.isCapped&&Pelle.quotes.galaxyGeneratorRifts.show(),this.sacrificeActive){if(this.capRift.reducedTo=Math.max(this.capRift.reducedTo-.3*t/1e3,0),this.capRift.reducedTo===0){player.celestials.pelle.galaxyGenerator.sacrificeActive=!1,player.celestials.pelle.galaxyGenerator.phase++;const e=player.celestials.pelle.galaxyGenerator.phase;e===1?Pelle.quotes.galaxyGeneratorPhase1.show():e===4&&Pelle.quotes.galaxyGeneratorPhase4.show(),this.capObj||Pelle.quotes.end.show()}Ks.all.forEach(e=>e.checkMilestoneStates()),!Ks.vacuum.milestones[0].canBeApplied&&Glyphs.active.filter(e=>e).length>0&&(Glyphs.unequipAll(player.options.respecIntoProtected&&Glyphs.findFreeIndex(!0)===-1),Glyphs.refreshActive())}player.celestials.pelle.galaxyGenerator.generatedGalaxies+=this.gainPerSecond*t/1e3,player.celestials.pelle.galaxyGenerator.generatedGalaxies=Math.min(player.celestials.pelle.galaxyGenerator.generatedGalaxies,this.generationCap),this.capRift||(Ks.all.forEach(e=>e.reducedTo=Math.min(e.reducedTo+.3*t/1e3,2)),Ks.vacuum.milestones[0].canBeApplied&&!this.hasReturnedGlyphSlot&&(Glyphs.refreshActive(),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),this.hasReturnedGlyphSlot=!0))}};class t3 extends tu{get currency(){return this.config.currency()}get boughtAmount(){return player.celestials.pelle.rebuyables[this.id]}set boughtAmount(e){player.celestials.pelle.rebuyables[this.id]=e}get isCustomEffect(){return!0}get effectValue(){return this.config.effect(this.boughtAmount)}}const Mp=mapGameDataToObject(GameDatabase.celestials.pelle.galaxyGeneratorUpgrades,t=>new t3(t)),i3={GAME_END:1,TAB_START_HIDE:1.5,INTERACTIVITY_DISABLED:2.5,FADE_AWAY:2.5,SAVE_DISABLED:4,END_NUMBERS:4.2,CREDITS_START:4.5,SHOW_NEW_GAME:13.5,SPECTATE_GAME:13.9,SONG_END:13.7,CREDITS_END:14.5},wde={get endState(){return this.removeAdditionalEnd?this.additionalEnd:Math.max((Math.log10(player.celestials.pelle.records.totalAntimatter.plus(1).log10()+1)-8.7)/(Math.log10(9e15)-8.7)+this.additionalEnd,0)},_additionalEnd:0,get additionalEnd(){return player.isGameEnd||this.removeAdditionalEnd?this._additionalEnd:0},set additionalEnd(t){this._additionalEnd=player.isGameEnd||this.removeAdditionalEnd?t:0},removeAdditionalEnd:!1,creditsClosed:!1,creditsEverClosed:!1,gameLoop(t){this.removeAdditionalEnd&&(this.additionalEnd-=Math.min(t/200,.5),this.additionalEnd<4&&(this.additionalEnd=0,this.removeAdditionalEnd=!1)),!this.removeAdditionalEnd&&this.endState>=i3.GAME_END&&ui.$viewModel.modal.progressBar===void 0&&(player.isGameEnd=!0,this.additionalEnd+=Math.min(t/1e3/20,.1))}},Ede={teresa:Ef,effarig:Nd,enslaved:fs,v:jl,ra:li,laitela:Td,pelle:Ea};GameDatabase.celestials.descriptions=[{name:"Teresa",effects(){return`Glyph Time Theorem generation is disabled.
      You gain less Infinity Points and Eternity Points (x^${format(.55,2,2)}).`}},{name:"Effarig",effects(){return`All Dimension multipliers, game speed, and tickspeed are severely lowered, like Dilation.
      Infinity Power reduces the production and game speed penalties and Time Shards reduce the tickspeed penalty.
      Glyph levels are temporarily capped to ${formatInt(Nd.glyphLevelCap)}, rarity is unaffected.`},description(){return"You will exit Effarig's Reality when you complete a Layer of it for the first time."}},{name:"The Nameless Ones",effects(){return`Glyph levels are boosted to a minimum of ${formatInt(5e3)}.
      Infinity, Time, and 8th Antimatter Dimension purchases are limited to ${formatInt(1)} each.
      Antimatter Dimension multipliers are always Dilated (the Glyph effect still only applies in actual Dilation).
      Time Study 192 (uncapped Replicanti) is locked.
      The Black Hole is disabled.
      Tachyon Particle production and Dilated Time production are severely reduced.
      Time Theorem generation from Dilation Glyphs is disabled.
      Certain challenge goals are increased.
      Stored game time is discharged at a reduced effectiveness (exponent^${format(.55,2,2)}).`}},{name:"V",effects(){const t=`All Dimension multipliers, Eternity Point gain, Infinity Point gain, and Dilated Time gain      per second are square-rooted. 
      The Replicanti interval is squared.`;return li.unlocks.unlockGlyphAlchemy.canBeApplied?t+`
      The Exponential Glyph Alchemy effect is disabled.`:t}},{name:"Ra",effects(){return`You only have ${formatInt(4)} Dimension Boosts and can not gain any more.
      The Tickspeed purchase multiplier is fixed at ${formatX(1.1245,0,3)}.`}},{name:"Lai'tela",effects(){let t;const e=8-Td.difficultyTier;switch(e){case 0:t="all Dimensions";break;case 1:t="2nd and higher Dimensions";break;case 2:t="3rd and higher Dimensions";break;case 7:t="8th Dimensions";break;default:t=`${e+1}th and higher Dimensions`;break}const i=e===8?"":`Production from ${t} is disabled.`;return`Infinity Point and Eternity Point gain are Dilated.
      Game speed is reduced to ${formatInt(1)} and gradually comes back over ${formatInt(1)} minute.
      Black Hole storing, discharging, pulsing, and inversion are all disabled.
      ${i}`},description(){return`Antimatter generates entropy inside of this Reality.      At ${formatPercents(1)} entropy, the Reality becomes destabilized      and you gain a reward based on how quickly you reached ${formatPercents(1)}.
      Destabilizing the Reality in less than ${formatInt(30)} seconds makes it become significantly more difficult,      in exchange for giving a much stronger reward.      Doing this ${formatInt(8)} times will also give a ${formatX(8)} to Dark Energy gain.`}}];const Tde={name:"ModalCloseButton",components:{PrimaryButton:mt}};var Cde=function(){var e=this,i=e._self._c;return i("PrimaryButton",{staticClass:"o-primary-btn--modal-close c-modal__close-btn",on:{click:e.emitClick}},[e._v(" × ")])},kde=[],Sde=X(Tde,Cde,kde,!1,null,null);const Km=Sde.exports,Ade={name:"ModalConfirmationCheck",props:{option:{type:String,required:!0}},data(){return{setting:!0}},computed:{confirmation(){return ConfirmationTypes[this.option]},confirmationClass(){return{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":!this.setting}},tooltipText(){return`${this.setting?"Disable":"Reenable"} the ${this.confirmation.name} confirmation`}},created(){this.setting=this.confirmation.option},methods:{toggle(){this.setting=!this.setting,this.confirmation.option=this.setting}}};var xde=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal__confirmation-toggle",on:{click:e.toggle}},[i("div",{class:e.confirmationClass},[e.setting?e._e():i("span",{staticClass:"fas fa-check"}),i("div",{staticClass:"c-modal__confirmation-toggle__tooltip"},[e._v(" "+e._s(e.tooltipText)+" ")])]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Don't show this message again ")])])},Dde=[],Ide=X(Ade,xde,Dde,!1,null,null);const Rde=Ide.exports,Mde={name:"ModalWrapperChoice",components:{PrimaryButton:mt,ModalConfirmationCheck:Rde,ModalCloseButton:Km},props:{cancelClass:{type:String,required:!1,default:"o-primary-btn--width-medium c-modal-message__okay-btn"},confirmClass:{type:String,required:!1,default:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn"},showCancel:{type:Boolean,required:!1,default:!0},showConfirm:{type:Boolean,required:!1,default:!0},option:{type:String,required:!1,default:void 0},confirmFn:{type:Function,required:!1,default:void 0},cancelFn:{type:Function,required:!1,default:void 0}},created(){this.on$(GAME_EVENT.ENTER_PRESSED,this.doConfirm)},methods:{doConfirm(){this.confirmFn?this.confirmFn():(this.$emit("confirm"),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL))},doCancel(){this.cancelFn?this.cancelFn():(this.$emit("cancel"),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL))},closeModal(){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}};var Pde=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal-message l-modal-content--centered"},[i("span",{staticClass:"c-modal__header"},[i("ModalCloseButton",{on:{click:e.closeModal}}),e.$slots.header?i("span",{staticClass:"c-modal__title"},[e._t("header")],2):e._e()],1),e._t("default"),e.option?i("ModalConfirmationCheck",{attrs:{option:e.option}}):e._e(),i("div",{staticClass:"l-modal-buttons"},[e.showCancel?i("PrimaryButton",{class:e.cancelClass,on:{click:e.doCancel}},[e._t("cancel-text",function(){return[e._v(" Cancel ")]})],2):e._e(),e._t("extra-buttons"),e.showConfirm?i("PrimaryButton",{class:e.confirmClass,on:{click:e.doConfirm}},[e._t("confirm-text",function(){return[e._v(" Confirm ")]})],2):e._e()],2)],2)},Ode=[],Nde=X(Mde,Pde,Ode,!1,null,"59023ed2");const Ht=Nde.exports,Gde={name:"CloudInvalidDataModal",components:{ModalWrapperChoice:Ht},props:{isSaving:{type:Boolean,required:!0}},computed:{conflict(){return this.$viewModel.modal.cloudConflict},overwriteText(){return this.isSaving?"Overwrite Cloud Save":"Load save from Cloud"}},methods:{ignore(){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)},overwrite(){var t,e;(e=(t=this.conflict).onAccept)==null||e.call(t),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}};var Ude=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{staticClass:"c-modal-options__large",attrs:{"cancel-class":"c-modal-message__okay-btn","confirm-class":"c-modal-message__okay-btn c-modal__confirm-btn","cancel-fn":e.overwrite},on:{confirm:function(n){return e.ignore()}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Could not compare with Cloud Save ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" "+e._s(e.overwriteText)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Do not overwrite ")]},proxy:!0}])},[e._v(" While attempting to compare your saves, the game was unable to properly process the data in your Cloud save. This is most likely due to the Cloud save being very outdated, using a data format from a much older version of the game. "),i("br"),i("br"),e.isSaving?i("span",[e._v(' It is probably safe to overwrite your Cloud save. You can click "Cloud load" and force the save to be loaded if you would like to attempt to convert it to a valid save format that you can use. ')]):i("span",[e._v(" You can try to load your data from the Cloud if desired. The game will attempt to load in your Cloud data by converting its format, but this may not work and in the worst case may require you to reset this save slot in order for the game to work again. ")]),i("br"),e._v(" Note: This modal will show up regardless of your settings, because this issue will continue to prevent the 10-minute autosave until it is resolved. ")])},Lde=[],Bde=X(Gde,Ude,Lde,!1,null,null);const $de=Bde.exports,Fde={name:"SaveInfoEntry",props:{saveId:{type:Number,required:!1,default:0},saveData:{type:Object,required:!0},otherData:{type:Object,required:!0},showName:{type:Boolean,required:!1,default:!0},saveType:{type:String,required:!0}},computed:{timePlayed(){return`Time Played: ${TimeSpan.fromMilliseconds(this.saveData.realTimePlayed).toString()}`},antimatter(){return this.compareLayeredValues(["pelleAM","totalAntimatter"],["Total Doomed Antimatter:","Total Antimatter:"],[format,format],"")},prestigeCount(){return this.compareLayeredValues(["remnants","realities","eternities","infinities"],["Remnants:","Realities:","Eternities:","Infinities:"],[format,this.formatSmall,this.formatSmall,this.formatSmall],"(No prestige layers reached yet.)")},prestigeResource(){return this.compareLayeredValues(["realityShards","imaginaryMachines","realityMachines","eternityPoints","infinityPoints"],["Reality Shards:","Reality Machines:","Reality Machines:","Eternity Points:","Infinity Points:"],[format,t=>formatMachines(this.saveData.realityMachines,t),format,format,format],"")},extraProgressIndicator(){return this.compareLayeredValues(["pelleLore","bestLevel","dilatedTime"],["Your Reality is Doomed.","Best Glyph Level:","Dilated Time:"],[()=>"",formatInt,format],"")},name(){return this.saveData.saveName}},methods:{formatSmall(t){return Decimal.gt(t,1e4)?format(t,2):formatInt(t)},compareLayeredValues(t,e,i,n){let r,a;for(let p=0;p<t.length;p++){const m=t[p];if(!(Decimal.eq(this.saveData[m],0)&&Decimal.eq(this.otherData[m],0)))if(Decimal.eq(this.saveData[m],this.otherData[m])){r=!0,a=0;break}else if(Decimal.neq(this.saveData[m],0)&&Decimal.neq(this.otherData[m],0)){r=!0,a=Decimal.gt(this.saveData[m],this.otherData[m])?1:-1;break}else{r=!1,a=Decimal.gt(this.saveData[m],0)?1:-1;break}}let s=n,o="";for(let p=0;p<t.length;p++){const m=t[p];if(Decimal.gt(this.saveData[m],0)){s=e[p],o=i[p](this.saveData[m],2);break}}if(a===0)return`${s} ${o}`;const d=`<span style="color:#${(p=>getComputedStyle(document.body).getPropertyValue(`--color-${p}`).split("#")[1])(a===1?"good":"infinity")}">`;return r?`${s} ${d}${o}</span>`:`${d}${s} ${o}</span>`}}};var Hde=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-modal-options__save-record"},[i("h3",[e._v(e._s(e.saveType)+" "),e.saveId?i("span",[e._v("(Slot #"+e._s(e.saveId+1)+"):")]):e._e()]),e.showName?i("span",[e.name?i("span",[e._v(" Save Name: "+e._s(e.name)+" ")]):i("span",[e._v(" Unnamed Save ")]),i("br")]):e._e(),e._v(" "+e._s(e.timePlayed)+" "),i("br"),i("span",{domProps:{innerHTML:e._s(e.antimatter)}}),i("span",{domProps:{innerHTML:e._s(e.prestigeCount)}}),i("span",{domProps:{innerHTML:e._s(e.prestigeResource)}}),i("span",{domProps:{innerHTML:e._s(e.extraProgressIndicator)}}),i("br"),e._t("default")],2)},Vde=[],Yde=X(Fde,Hde,Vde,!1,null,null);const n3=Yde.exports,qde={name:"CloudLoadConflictModal",components:{ModalWrapperChoice:Ht,SaveInfoEntry:n3},computed:{conflict(){return this.$viewModel.modal.cloudConflict},older(){return this.conflict.saveComparison.older===1},farther(){return this.conflict.saveComparison.farther===1},hasDifferentName(){return this.conflict.cloud.saveName!==this.conflict.local.saveName},suggestionText(){const t='style="color: var(--color-good)"',e='style="color: var(--color-bad)"',i=["Loading this Cloud save "],n=this.conflict.cloud.compositeProgress,r=this.conflict.local.compositeProgress,a=this.farther&&Math.abs(n-r)>.15;return i.push(a?`<b ${e}>would cause your local save to lose significant progress</b>`:`<b ${t}>is probably safe</b>`),this.hasDifferentName&&i.push(`<br>${a?"Additionally":"However"}, the Cloud save
          <b ${e}>may be a save from a different device</b>.`),(a||this.hasDifferentName)&&i.push(`<br><b ${e}>Are you sure you wish to overwrite your local save?</b>`),i.join("")}},methods:{confirm(){var t,e;(e=(t=this.conflict).onAccept)==null||e.call(t),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}};var Wde=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{staticClass:"c-modal-options__large",attrs:{"cancel-class":"c-modal-message__okay-btn","confirm-class":"c-modal-message__okay-btn c-modal__confirm-btn","confirm-fn":e.confirm},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Load Game from Cloud ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" Keep Local Save ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Overwrite Local with Cloud Save ")]},proxy:!0}])},[e.hasDifferentName?i("span",[e._v(" Your Local and Cloud Saves have "),i("b",[e._v("different names")]),e._v(". ")]):e.older?i("span",[e._v(" Loading from the Cloud would "),i("b",[e._v("load a save with less playtime")]),e._v(". ")]):e.farther?i("span",[e._v(" Loading from the Cloud would "),i("b",[e._v("cause you to lose progress")]),e._v(". ")]):i("span",[e._v(" Your Local Save and Cloud Save "),i("b",[e._v("appear to have similar amounts of progress")]),e._v(". ")]),e._v(" Please select the save you want to load. "),i("br"),i("br"),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.local,"other-data":e.conflict.cloud,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Local Save"}}),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.cloud,"other-data":e.conflict.local,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Cloud Save"}}),i("span",{domProps:{innerHTML:e._s(e.suggestionText)}})],1)},jde=[],zde=X(qde,Wde,jde,!1,null,null);const Xde=zde.exports,Kde={name:"CloudSaveConflictModal",components:{ModalWrapperChoice:Ht,SaveInfoEntry:n3},computed:{conflict(){return this.$viewModel.modal.cloudConflict},older(){return this.conflict.saveComparison.older===-1},farther(){return this.conflict.saveComparison.farther===-1},hasDifferentName(){return this.conflict.cloud.saveName!==this.conflict.local.saveName},wrongHash(){return this.conflict.saveComparison.hashMismatch},suggestionText(){const t='style="color: var(--color-good)"',e='style="color: var(--color-infinity)"',i=["Saving to the Cloud "],n=this.conflict.cloud.compositeProgress,r=this.conflict.local.compositeProgress,a=this.farther&&Math.abs(n-r)>.15;return i.push(a?`<b ${e}>would overwrite a save with significantly more progress</b>`:`<b ${t}>is probably safe</b>`),(this.hasDifferentName||this.wrongHash)&&i.push(` ${a?"Additionally":"However"}, you may be overwriting a 
          <b ${e}>save from a different device</b>.`),(a||this.hasDifferentName||this.wrongHash)&&i.push(`<br><b ${e}>Are you sure you wish to overwrite the Cloud save?</b>`),i.join("")},noOverwriteInfo(){return"Save conflicts will keep occurring without overwriting."},overwriteInfo(){return`If another device is also saving to the cloud on this Google Account at the same time,
        this modal may appear repeatedly.`}},methods:{doNotSave(){player.options.cloudEnabled=!1,EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)},overwrite(){var t,e;(e=(t=this.conflict).onAccept)==null||e.call(t),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}};var Zde=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{staticClass:"c-modal-options__large",attrs:{"cancel-class":"c-modal-message__okay-btn","confirm-class":"c-modal-message__okay-btn c-modal__confirm-btn","cancel-fn":e.overwrite},on:{confirm:function(n){return e.doNotSave()}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Save Game to Cloud ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" Overwrite Cloud Save ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Do not overwrite ")]},proxy:!0}])},[e.wrongHash?i("span",[e._v(" Your Cloud Save has been "),i("b",[e._v("changed by a different device")]),e._v(" since you last saved to the Cloud this session. ")]):e.hasDifferentName?i("span",[e._v(" Your Local and Cloud Saves have "),i("b",[e._v("different names")]),e._v(". ")]):e.older?i("span",[e._v(" Saving to the Cloud would "),i("b",[e._v("overwrite an older save")]),e._v(". ")]):e.farther?i("span",[e._v(" Saving to the Cloud would "),i("b",[e._v("overwrite a save with more progress")]),e._v(". ")]):i("span",[e._v(" Your Local Save and Cloud Save "),i("b",[e._v("appear to have similar amounts of progress")]),e._v(". ")]),i("br"),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.local,"other-data":e.conflict.cloud,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Local Save"}}),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.cloud,"other-data":e.conflict.local,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Cloud Save"}}),i("span",{domProps:{innerHTML:e._s(e.suggestionText)}}),i("br"),i("span",[e._v(" Not overwriting will turn off Cloud saving and you will need to manually turn it back on again if you want to use it. "),i("span",{attrs:{"ach-tooltip":e.noOverwriteInfo}},[i("i",{staticClass:"fas fa-question-circle"})])]),i("span",[e._v(" Overwriting will force a save to the Cloud in this particular instance; in most cases this should prevent this modal from reappearing afterwards. "),i("span",{attrs:{"ach-tooltip":e.overwriteInfo}},[i("i",{staticClass:"fas fa-question-circle"})])])],1)},Qde=[],Jde=X(Kde,Zde,Qde,!1,null,null);const ehe=Jde.exports,the={name:"EternityChallengeStartModal",components:{ModalWrapperChoice:Ht},props:{id:{type:Number,required:!0}},computed:{challenge(){return EternityChallenge(this.id)},challengeIsCompleted(){return this.challenge.isFullyCompleted},message(){return`You will Eternity (if possible) and start a new Eternity within the Challenge, with all the
        Challenge-specific restrictions and modifiers active.
        To complete the Challenge${this.challengeIsCompleted?"":" and gain its reward"},
        you must reach the Challenge goal of
        ${format(this.challenge.currentGoal)} Infinity Points. You can complete Eternity Challenges up to
        ${formatInt(5)} times, with increasing goals and bonuses.`},entranceLabel(){return`You are about to enter Eternity Challenge ${this.id}`},reward(){let t=this.challenge._config.reward.description;return typeof t=="function"&&(t=t()),`The reward for completing this challenge is: ${t}`},condition(){let t=this.challenge._config.description;return typeof t=="function"&&(t=t()),`Inside this Eternity Challenge, ${t}`}},created(){this.on$(GAME_EVENT.ETERNITY_RESET_AFTER,this.emitClose),this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.emitClose)},methods:{handleYesClick(){this.challenge.start(!0),EventHub.ui.offAll(this)}}};var ihe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"challenges"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Begin ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),e._v(" "+e._s(e.condition)+" ")]),e.challengeIsCompleted?e._e():i("div",{staticClass:"c-modal-message__text"},[i("br"),e._v(" "+e._s(e.reward)+" ")])])},nhe=[],rhe=X(the,ihe,nhe,!1,null,null);const ahe=rhe.exports,she={name:"InfinityChallengeStartModal",components:{ModalWrapperChoice:Ht},props:{id:{type:Number,required:!0}},computed:{challenge(){return InfinityChallenge(this.id)},challengeIsCompleted(){return this.challenge.isCompleted},message(){return`You will Big Crunch (if possible) and start a new Infinity within the Challenge with all the
        Challenge-specific restrictions and modifiers active.
        To complete the Challenge${this.challengeIsCompleted?"":" and gain its reward"},
        you must reach the Challenge goal of
        ${format(InfinityChallenge(this.id).goal)} Antimatter.
        You do not start with any Dimension Boosts or Galaxies, regardless of upgrades.`},entranceLabel(){return`You are about to enter Infinity Challenge ${this.id}`},reward(){let t=this.challenge._config.reward.description;return typeof t=="function"&&(t=t()),`The reward for completing this challenge is: ${t}`},condition(){let t=this.challenge._config.description;return typeof t=="function"&&(t=t()),`Inside this Infinity Challenge, ${t}`}},created(){this.on$(GAME_EVENT.ETERNITY_RESET_AFTER,this.emitClose),this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.emitClose)},methods:{handleYesClick(){this.challenge.start()}}};var ohe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"challenges"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Begin ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),e._v(" "+e._s(e.condition)+" ")]),e.challengeIsCompleted?e._e():i("div",{staticClass:"c-modal-message__text"},[i("br"),e._v(" "+e._s(e.reward)+" ")])])},lhe=[],che=X(she,ohe,lhe,!1,null,null);const uhe=che.exports,dhe={name:"MessageModal",components:{PrimaryButton:mt,ModalCloseButton:Km},data(){return{message:""}},computed:{modal(){return this.$viewModel.modal.current},isThemeS12(){return this.$viewModel.theme==="S12"}},created(){this.on$(GAME_EVENT.ENTER_PRESSED,this.handleClick)},methods:{update(){var t;this.message=(t=this.modal)==null?void 0:t.message},handleClick(){var t,e;(e=(t=this.modal).callback)==null||e.call(t),this.emitClose(),EventHub.ui.offAll(this)}}};var hhe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal-message l-modal-content--centered"},[e.modal.closeButton?i("ModalCloseButton",{class:e.isThemeS12?"c-modal__close-btn":"c-modal__close-btn--tiny",on:{click:e.emitClose}}):e.isThemeS12?i("ModalCloseButton",{staticClass:"c-modal__close-btn c-modal__close-btn--disabled"}):e._e(),i("div",{staticClass:"c-modal-message__text",domProps:{innerHTML:e._s(e.message)}}),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.handleClick}},[e._v(" Okay ")]),e.isThemeS12?i("div",{staticClass:"c-modal__title"},[e._v(" Message ")]):e._e()],1)},fhe=[],phe=X(dhe,hhe,fhe,!1,null,null);const mhe=phe.exports,yhe={name:"NormalChallengeStartModal",components:{ModalWrapperChoice:Ht},props:{id:{type:Number,required:!0}},computed:{challenge(){return NormalChallenge(this.id)},challengeIsCompleted(){return this.challenge.isCompleted},message(){return`You will Big Crunch (if possible) and start a new Infinity within the Challenge with all the
        Challenge-specific restrictions and modifiers active.
        To complete the Challenge${this.challengeIsCompleted?"":" and gain its reward"},
        you must reach Infinity again.
        You do not start with any Dimension Boosts or Galaxies, regardless of upgrades.`},entranceLabel(){return`You are about to enter Challenge ${this.id}`},reward(){return`The reward for completing this challenge is: ${this.challenge._config.reward}`},condition(){let t=this.challenge._config.description;return typeof t=="function"&&(t=t()),`Inside this Challenge, ${t}`}},created(){this.on$(GAME_EVENT.ETERNITY_RESET_AFTER,this.emitClose),this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.emitClose)},methods:{handleYesClick(){this.challenge.start()}}};var ghe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"challenges"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Begin ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),e._v(" "+e._s(e.condition)+" ")]),e.challengeIsCompleted?e._e():i("div",{staticClass:"c-modal-message__text"},[i("br"),e._v(" "+e._s(e.reward)+" ")])])},vhe=[],bhe=X(yhe,ghe,vhe,!1,null,null);const _he=bhe.exports,whe={name:"AntimatterGalaxyModal",components:{ModalWrapperChoice:Ht},props:{bulk:{type:Boolean,required:!0}},data(){return{newGalaxies:0,keepAntimatter:!1,perkANRBought:!1,keepDimBoost:!1}},computed:{topLabel(){return this.bulk?`You are about to purchase ${quantifyInt("Antimatter Galaxy",this.newGalaxies)}`:"You are about to purchase an Antimatter Galaxy"},message(){const t=[];Pelle.isDoomed&&t.push("Antimatter","Antimatter Dimensions","Tickspeed"),this.perkANRBought||t.push("Antimatter Dimensions","Tickspeed"),this.keepDimBoost||t.push("Dimension Boosts"),!this.keepAntimatter&&!this.perkANRBought&&t.push("Antimatter");const e=makeEnumeration(t);let i="";InfinityChallenge(3).isRunning?i=`Infinity Challenge ${InfinityChallenge(3).id}`:Ra.isRunning&&(i=`${Ra.displayName}'s Reality`);const n=i===""?"you will receive a small boost to Tickspeed Upgrades.":`you will not receive a boost to Tickspeed Upgrades, because you are in ${i}.`,r=e===""?`This will reset nothing, and ${n}`:`This will reset your ${e}. However, ${n}`;return this.bulk?`Are you sure you want to purchase
      ${quantifyInt("Antimatter Galaxy",this.newGalaxies)}? ${r}`:`Are you sure you want to purchase an Antimatter Galaxy? ${r}`}},created(){this.on$(GAME_EVENT.DIMBOOST_AFTER,()=>BreakInfinityUpgrade.autobuyMaxDimboosts.isBought?void 0:this.emitClose())},methods:{update(){if(this.bulk){const t=Galaxy.requirement,e=AntimatterDimension(t.tier);bulkBuyBinarySearch(e.totalAmount,{costFunction:n=>Galaxy.requirementAt(n).amount,cumulative:!1},player.galaxies)&&(this.newGalaxies=Galaxy.buyableGalaxies(Math.round(e.totalAmount.toNumber()))-player.galaxies)}this.keepAntimatter=Achievement(111).isUnlocked,this.perkANRBought=Perk.antimatterNoReset.canBeApplied,this.keepDimBoost=Achievement(143).isUnlocked&&!Pelle.isDoomed||PelleUpgrade.dimBoostResetsNothing.canBeApplied},handleYesClick(){requestGalaxyReset(this.bulk),EventHub.ui.offAll(this)}}};var Ehe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"antimatterGalaxy"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},The=[],Che=X(whe,Ehe,The,!1,null,null);const khe=Che.exports,She={name:"ArmageddonModal",components:{ModalWrapperChoice:Ht},data(){return{isDoomed:!1,remnantsGain:0,realityShardGain:new Decimal(0),nextRealityShardGain:new Decimal(0),canArmageddon:!1}},computed:{topLabel(){return this.isDoomed?"You are about to perform an Armageddon reset":"You are about to Doom your Reality"},message(){const t=Currency.remnants.eq(0)?`which will produce ${format(this.nextRealityShardGain,2,2)} Reality Shards/s`:`which will increase your Reality Shards gain from ${format(this.realityShardGain,2,2)}/s
          to ${format(this.nextRealityShardGain,2,2)}/s`;return`Armageddon will start a new Doomed Reality. You will gain
      ${quantify("Remnant",this.remnantsGain,2,0)} ${t}`}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.remnantsGain=Pelle.remnantsGain,this.realityShardGain.copyFrom(Pelle.realityShardGainPerSecond),this.nextRealityShardGain.copyFrom(Pelle.nextRealityShardGain),this.canArmageddon=Pelle.canArmageddon},handleYesClick(){Pelle.initializeRun()}}};var Ahe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:e.isDoomed?"armageddon":void 0},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[e.isDoomed?i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]):i("div",{staticClass:"c-modal-message__text"},[e._v(" Dooming your Reality will reset everything except Challenge records, Celestial progress and anything under the General and Reality header on the Statistics tab. You will not gain any rewards from your progress in your current Reality. Dooming your Reality will also purge most of your unprotected Glyphs and disable certain game mechanics. "),i("br"),i("br"),e._v(" Are you sure you want to do this? ")])])},xhe=[],Dhe=X(She,Ahe,xhe,!1,null,null);const Ihe=Dhe.exports,Rhe={name:"ResetModal",components:{ModalWrapperChoice:Ht},props:{header:{type:String,required:!0},message:{type:String,required:!0},gainedResources:{type:String,required:!0},startingResources:{type:String,required:!1,default:void 0},confirmOption:{type:String,required:!1,default:void 0},confirmFn:{type:Function,required:!0},alternateText:{type:String,required:!1,default:void 0},alternateCondition:{type:Boolean,required:!1,default:!1}}};var Mhe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:e.confirmOption},on:{confirm:e.confirmFn},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.header)+" ")]},proxy:!0}])},[e.alternateCondition?i("div",[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.alternateText)+" ")])]):i("div",[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br")]),i("br"),i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.gainedResources)+" ")]),i("br"),e.startingResources?i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.startingResources)+" ")]):e._e()])])},Phe=[],Ohe=X(Rhe,Mhe,Phe,!1,null,null);const r3=Ohe.exports,Nhe={name:"BigCrunchModal",components:{ResetModal:r3},data(){return{gainedInfinities:new Decimal,gainedInfinityPoints:new Decimal,startingBoosts:0,startingAM:10,willStartWithGalaxy:!1}},computed:{isFirstInfinity(){return!PlayerProgress.infinityUnlocked()},message(){return`Upon Infinity, all Dimensions, Dimension Boosts, and Antimatter Galaxies are reset. ${this.isFirstInfinity?this.firstInfinityInfo:""}`},firstInfinityInfo(){return`In return, you gain an Infinity Point (IP). This allows you to buy multiple upgrades that you can
        find in the Infinity tab. You will also gain one Infinity, which is the stat shown in the Statistics tab.`},ipGainInfo(){return`You will gain ${quantify("Infinity",this.gainedInfinities,2,0)}
        and ${quantify("Infinity Point",this.gainedInfinityPoints,2,0)}.`},startingResources(){const t=[];return this.startingAM.gte(10)&&t.push(`${quantify("Antimatter",this.startingAM,2,1)}`),this.startingBoosts>0&&t.push(`${quantify("Dimension Boost",this.startingBoosts)}`),this.willStartWithGalaxy&&t.push(`${quantify("Galaxy",1)}`),`You will start your next Infinity with ${makeEnumeration(t)}.`}},methods:{update(){this.gainedInfinities=gainedInfinities().round(),this.gainedInfinityPoints=gainedInfinityPoints().round(),this.startingBoosts=DimBoost.startingDimensionBoosts,this.startingAM=Currency.antimatter.startingValue,this.willStartWithGalaxy=InfinityUpgrade.skipResetGalaxy.isBought},handleYesClick(){bigCrunchResetRequest(),EventHub.ui.offAll(this),this.isFirstInfinity&&setTimeout(()=>Modal.message.show(`This animation will occur after every manually-triggered Infinity. If
          you would like to disable it, there is a setting to do so in the Options tab. This can be done for any
          visual animation effect in the game after seeing it for the first time.`,{},3),2e3)}}};var Ghe=function(){var e=this,i=e._self._c;return i("ResetModal",{attrs:{header:"You are about to Infinity",message:e.message,"gained-resources":e.ipGainInfo,"starting-resources":e.startingResources,"confirm-fn":e.handleYesClick,"alternate-condition":e.isFirstInfinity,"alternate-text":e.message,"confirm-option":e.isFirstInfinity?void 0:"bigCrunch"}})},Uhe=[],Lhe=X(Nhe,Ghe,Uhe,!1,null,null);const Bhe=Lhe.exports,$he={name:"DimensionBoostModal",components:{ModalWrapperChoice:Ht},props:{bulk:{type:Boolean,required:!0}},computed:{topLabel(){return"You are about to do a Dimension Boost Reset"},message(){return`This will ${Perk.antimatterNoReset.canBeApplied||Achievement(111).canBeApplied||PelleUpgrade.dimBoostResetsNothing.isBought?`not actually reset anything due to an upgrade you have which prevents Antimatter and Antimatter Dimensions
          from being reset in this situation. You will still gain the multiplier from the Boost, as usual.`:"reset your Antimatter and Antimatter Dimensions. Are you sure you want to do this?"}`}},methods:{handleYesClick(){requestDimensionBoost(this.bulk),EventHub.ui.offAll(this)}}};var Fhe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"dimensionBoost"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},Hhe=[],Vhe=X($he,Fhe,Hhe,!1,null,null);const Yhe=Vhe.exports,qhe={name:"EnterCelestialsRaPet",props:{petId:{type:Number,required:!0}},data(){return{isUnlocked:!1}},computed:{pet(){return Ra.pets.all[this.petId]},name(){return this.pet.name},color(){return`color: ${this.pet.color}`},gainText(){const t=this.pet.id==="enslaved",e=t?"gain":"gains",i=t?"have":"has";return this.pet.level===25?`${i} regained all Memories`:`${e} Memory Chunks based on ${this.chunkGain}`},chunkGain(){return this.pet.chunkGain}},methods:{update(){this.isUnlocked=this.pet.isUnlocked}}};var Whe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("span",{style:e.color},[e._v(" "+e._s(e.name)+" "+e._s(e.gainText)+". "),i("br")]):e._e()},jhe=[],zhe=X(qhe,Whe,jhe,!1,null,null);const Xhe=zhe.exports,Khe={name:"EnterCelestialsModal",components:{ModalWrapperChoice:Ht,EnterCelestialsRaPet:Xhe},props:{number:{type:Number,required:!0},name:{type:String,required:!0}},data(){return{laitelaFastest:3600,teresaBestAM:new Decimal,teresaRunMult:0,effarigDone:!1,effarigLayer:"",enslavedDone:!1,laitelaTime:""}},computed:{effects(){return GameDatabase.celestials.descriptions[this.number].effects().split(`
`)},description(){const t=GameDatabase.celestials.descriptions[this.number].description;return t?t():""},topLabel(){return`${this.name} Reality`},message(){return`Perform a Reality reset and enter ${this.name} Reality, in which:`},extraLine(){switch(this.number){case 0:return this.teresaBestAM.eq(1)?`You have not unlocked the reward for Teresa's Reality yet. Unlocking the reward requires
              purchasing the Reality study and completing the Reality for the first time.`:`Your highest Teresa completion was for ${format(this.teresaBestAM,2,2)} antimatter,
              gaining you a ${formatX(this.teresaRunMult,2)} multiplier to Glyph Sacrifice power.`;case 1:return this.effarigDone?"Effarig is completed!":`You are currently on the ${this.effarigLayer} Layer.`;case 2:return this.enslavedDone?"Have... we... not helped enough...":"We... can help... Let us... help...";case 3:return"";case 4:return`Within Ra's Reality, some resources will generate Memory Chunks
          for Celestial Memories based on their amounts:`;case 5:return this.laitelaFastest>=300?"You have not completed Lai'tela at this tier.":`Your fastest completion on this tier is ${this.laitelaTime}.`;case 6:return"";default:throw new Error("Attempted to start an Unknown Celestial in Celestial Modal Confirmation.")}}},methods:{update(){this.teresaBestAM.copyFrom(player.celestials.teresa.bestRunAM),this.teresaRunMult=Teresa.runRewardMultiplier;const t=Effarig.currentStage;this.effarigDone=t===EFFARIG_STAGES.COMPLETED,this.effarigLayer=[null,"Infinity","Eternity","Reality"][t],this.enslavedDone=Enslaved.isCompleted,this.laitelaFastest=player.celestials.laitela.fastestCompletion,this.laitelaTime=TimeSpan.fromSeconds(this.laitelaFastest).toStringShort()},handleYesClick(){switch(beginProcessReality(getRealityProps(!0)),this.number){case 0:return Teresa.initializeRun();case 1:return Effarig.initializeRun();case 2:return Enslaved.initializeRun();case 3:return V.initializeRun();case 4:return Ra.initializeRun();case 5:return Laitela.initializeRun();case 6:throw new Error("Attempted to start Pelle through EnterCelestialsModal instead of ArmageddonModal");default:throw new Error("Attempted to start an Unknown Celestial in Celestial Modal Confirmation.")}}}};var Zhe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Begin ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),i("div",{staticClass:"c-modal-celestial__run-effects"},e._l(e.effects,function(n,r){return i("div",{key:r,staticClass:"c-modal-celestial__run-effects__line"},[n.trim()?i("b",[e._v("•")]):e._e(),i("b",[e._v(" ")]),e._v(" "+e._s(n)+" ")])}),0),e.description?i("div",{staticClass:"reality-description"},[i("br"),i("br"),e._v(" "+e._s(e.description)+" ")]):e._e(),i("br"),i("br"),i("div",[e._v(" "+e._s(e.extraLine)+" ")]),e.number===4?i("span",e._l(4,function(n){return i("EnterCelestialsRaPet",{key:n,attrs:{"pet-id":n-1}})}),1):e._e()])])},Qhe=[],Jhe=X(Khe,Zhe,Qhe,!1,null,"7eed0e8e");const efe=Jhe.exports,gl={isDisplaying:!1,displayForce(t,e){document.body.style.animation=`${t} ${e}s 1`,this.isDisplaying=!0,setTimeout(()=>{document.body.style.animation="",this.isDisplaying=!1},e*1e3)},display(t,e){this.isDisplaying||this.displayForce(t,e)}},tfe={name:"EnterDilationModal",components:{ModalWrapperChoice:Ht},computed:{message(){return`Dilating time will start a new Eternity, and all Dimension multiplier's exponents and
        tickspeed multiplier's exponent will be reduced to ${formatPow(.75,2,2)}. If you can Eternity while Dilated,
        your Tachyon Particles will be increased to a value based on your highest antimatter and any Tachyon Particle
        multipliers you have.`},entranceLabel(){return"You are about to enter Dilation"},EPSinceLabel(){return player.dilation.lastEP.eq(-1)?"This is your first Dilation":!isInCelestialReality()&&Ra.unlocks.unlockDilationStartingTP.canBeApplied?`You already have the maximum feasible amount of Tachyon Particles you can attain due to
          Teresa's Level ${formatInt(25)} reward.`:`You last completed Dilation at ${format(player.dilation.lastEP,2,2)} Eternity Points.`}},methods:{handleYesClick(){player.dilation.active||(player.options.animations.dilation&&!gl.isDisplaying?animateAndDilate():(startDilatedEternity(),Pelle.isDoomed&&PelleStrikes.dilation.trigger()))}}};var ife=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"dilation"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Enter ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.EPSinceLabel)+" "),i("br"),i("br"),e._v(" "+e._s(e.message)+" ")])])},nfe=[],rfe=X(tfe,ife,nfe,!1,null,null);const afe=rfe.exports,sfe={name:"EternityModal",components:{ResetModal:r3},data(){return{exitingEC:!1,startingIP:new Decimal,gainedEternityPoints:new Decimal,gainedEternities:new Decimal}},computed:{message(){return PlayerProgress.eternityUnlocked()?`Eternity will reset everything except Achievements, Challenge records, and anything under the General header
          on the Statistics tab.`:`Eternity will reset everything except Achievements, Challenge records, and anything under the General header
          on the Statistics tab. You will also gain an Eternity Point and unlock various upgrades.`},gainedEPOnEternity(){return`You will gain ${quantify("Eternity",this.gainedEternities,2)} 
      and ${quantify("Eternity Point",this.gainedEternityPoints,2)} on Eternity.`},startWithIP(){return this.startingIP.gt(0)?`You will start your next Eternity with ${quantify("Infinity Point",this.startingIP,2)}.`:""},eternityChallenge(){const t=EternityChallenge.current;if(t.isFullyCompleted)return`Eternity Challenge ${t.id} is already fully completed.`;if(!Perk.studyECBulk.isBought)return`You will gain one completion of Eternity Challenge ${t.id}.`;const e=t.gainedCompletionStatus.gainedCompletions;return`You will gain ${quantifyInt("completion",e)} for Eternity Challenge ${t.id}.`}},methods:{update(){this.exitingEC=EternityChallenge.isRunning,this.startingIP=Currency.infinityPoints.startingValue,this.gainedEternityPoints=gainedEternityPoints(),this.gainedEternities=gainedEternities()},handleYesClick(){animateAndEternity(),EventHub.ui.offAll(this)}}};var ofe=function(){var e=this,i=e._self._c;return i("ResetModal",{attrs:{header:e.exitingEC?"Complete Eternity Challenge":"You are about to Eternity",message:e.message,"gained-resources":e.gainedEPOnEternity,"starting-resources":e.startWithIP,"confirm-fn":e.handleYesClick,"alternate-condition":e.exitingEC,"alternate-text":e.exitingEC?e.eternityChallenge:void 0,"confirm-option":"eternity"}})},lfe=[],cfe=X(sfe,ofe,lfe,!1,null,null);const ufe=cfe.exports,dfe={name:"ExitChallengeModal",components:{ModalWrapperChoice:Ht},props:{challengeName:{type:String,required:!0},normalName:{type:String,required:!0},hasHigherLayers:{type:Boolean,required:!0},exitFn:{type:Function,required:!0}},computed:{isCelestial(){return this.challengeName.match("Reality")},isRestarting(){return this.isCelestial?player.options.retryCelestial:player.options.retryChallenge}},methods:{handleYesClick(){this.exitFn(),EventHub.ui.offAll(this)}}};var hfe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"exitChallenge"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to "+e._s(e.isRestarting?"restart":"exit")+" "+e._s(e.challengeName)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" "+e._s(e.isRestarting?"Restart":"Exit")+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e.isRestarting?i("span",[e._v(" You will immediately re-enter "+e._s(e.challengeName)+" again after confirming this modal. ")]):i("span",[e._v(" This will place you back into a regular "+e._s(e.normalName)+" without any restrictions. ")]),e.hasHigherLayers?i("span",[e._v(" Other effects coming from higher-layer restrictions will still continue to apply. ")]):e._e()])])},ffe=[],pfe=X(dfe,hfe,ffe,!1,null,null);const mfe=pfe.exports,yfe={name:"ExitDilationModal",components:{ModalWrapperChoice:Ht},data(){return{tachyonGain:new Decimal(0),isDoomed:!1}},computed:{gainText(){return this.tachyonGain.lte(0)?"not gain anything":`gain ${quantify("Tachyon Particle",this.tachyonGain,2,1)}`},isInEC(){return Player.anyChallenge instanceof EternityChallengeState},confirmText(){return this.isDoomed?"Okay":"Exit"}},methods:{update(){player.dilation.active||this.emitClose(),this.tachyonGain.copyFrom(getTachyonGain(!0)),this.isDoomed=Pelle.isDoomed},handleYesClick(){if(!player.dilation.active)return;player.options.animations.dilation&&!gl.isDisplaying?animateAndUndilate():eternity(!1,!1,{switchingDilation:!0})}}};var gfe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"dilation"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e.isDoomed?i("span",[e._v(" You cannot exit Dilation while Doomed ")]):i("span",[e._v(" You are about to exit Dilation ")])]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" "+e._s(e.confirmText)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e.isDoomed?i("span",[e._v(" Dilation is permanent. You will "+e._s(e.gainText)+" and reset your current Eternity. ")]):i("span",[e._v(" If you exit Dilation now, you will "+e._s(e.gainText)+". ")]),e.isInEC?i("div",[e._v(" You will also exit your current Eternity Challenge as well. ")]):e._e(),i("br"),e._v(" Are you sure you want to proceed? ")])])},vfe=[],bfe=X(yfe,gfe,vfe,!1,null,null);const _fe=bfe.exports,wfe={name:"HardResetModal",components:{ModalWrapperChoice:Ht},data(){return{input:""}},computed:{willHardReset(){return this.input==="Shrek is love, Shrek is life"},hasExtraNG(){return player.records.fullGameCompletions>0},hasSpeedrun(){return player.speedrun.isUnlocked}},destroyed(){this.willHardReset&&SecretAchievement(38).unlock()},methods:{hardReset(){this.willHardReset&&GameStorage.hardReset(),this.input=""}}};var Efe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.willHardReset,"show-confirm":e.willHardReset,"confirm-class":"o-primary-btn--width-medium c-modal__confirm-btn c-modal-hard-reset-btn"},on:{confirm:e.hardReset},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" HARD RESET ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" HARD RESET ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Please confirm your desire to hard reset this save slot. "),i("span",{staticClass:"c-modal-hard-reset-danger"},[e._v("Deleting your save will not unlock anything secret.")]),e._v(' Type in "Shrek is love, Shrek is life" to confirm. '),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" THIS WILL WIPE YOUR SAVE. "),e.hasExtraNG?i("span",[i("br"),e._v(" This will also remove any Glyph cosmetics you have unlocked from completing the game! ")]):e._e(),e.hasSpeedrun?i("span",[i("br"),e._v(' You will lose the ability to do a Speedrun. To restart your run, use the "Start Speedrun" button instead. ')]):e._e()])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-hard-reset__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(n){n.target.composing||(e.input=n.target.value)}}}),i("div",{staticClass:"c-modal-hard-reset-info"},[e.willHardReset?i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" Phrase confirmed - continuing will irreversibly delete your save! ")]):i("div",[e._v(" Type in the correct phrase to hard reset. ")])])])},Tfe=[],Cfe=X(wfe,Efe,Tfe,!1,null,null);const kfe=Cfe.exports,Sfe={name:"GlyphTooltipEffect",props:{effect:{type:String,required:!0},value:{type:[Number,Object],required:!0}},computed:{effectConfig(){return GlyphEffects[this.effect]},boostColor(){return this.effectConfig.alterationType!==void 0&&this.effectConfig.alterationType!==ALTERATION_TYPE.ADDITION?this.effectConfig.alteredColor():void 0},additionColor(){return this.effectConfig.alterationType===ALTERATION_TYPE.ADDITION?this.effectConfig.alteredColor():void 0},effectStringTemplate(){return this.effectConfig.singleDesc},primaryEffectText(){const t=this.effectConfig.formatSingleEffect(this.value);return this.boostColor?`⯅${t}`:t},secondaryEffectText(){const t=this.effectConfig.formatSingleSecondaryEffect(this.effectConfig.conversion(this.value));return this.boostColor?`⯅${t}`:t},textSplits(){const t=this.effectStringTemplate.split("{value}"),e=t[1]?t[1].split("{value2}"):"";return e.length!==1?[t[0]].concat(e):t},hasValue(){return this.effectStringTemplate.includes("{value}")},hasSecondaryValue(){return this.textSplits[2]!==void 0},isPelleDisabled(){return this.effectConfig.isDisabledByDoomed},convertedParts(){const t=[];for(const e of this.textSplits)t.push(this.convertToHTML(e));return t},valueStyle(){return this.boostColor?{color:this.boostColor,"text-shadow":`0 0 0.4rem ${this.boostColor}`}:{color:"#76EE76"}},textShadowColor(){return GlyphAppearanceHandler.getBaseColor(!0)}},methods:{convertToHTML(t){return t.replace(`
`,"<br>").replace("]","</span>").replace("[",`<span style="${GlyphAppearanceHandler.isLightBG?"":"text-shadow: white 0 0 0.6rem;"}
            font-weight: bold;">`)}}};var Afe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-glyph-tooltip__effect",class:{"o-pelle-disabled":e.isPelleDisabled}},[i("span",{domProps:{innerHTML:e._s(e.convertedParts[0])}}),e.hasValue?i("span",{style:e.valueStyle},[e._v(e._s(e.primaryEffectText))]):e._e(),i("span",{domProps:{innerHTML:e._s(e.convertedParts[1])}}),e.hasSecondaryValue?i("span",{style:e.valueStyle},[e._v(e._s(e.secondaryEffectText))]):e._e(),e.hasSecondaryValue?i("span",{domProps:{innerHTML:e._s(e.convertedParts[2])}}):e._e()])},xfe=[],Dfe=X(Sfe,Afe,xfe,!1,null,null);const Ife=Dfe.exports,Rfe={name:"GlyphTooltip",components:{GlyphTooltipEffect:Ife},props:{type:{type:String,required:!0},strength:{type:Number,required:!0},level:{type:Number,required:!0},effects:{type:Number,required:!0},id:{type:Number,required:!1,default:0},sacrificeReward:{type:Number,required:!1,default:0},refineReward:{type:Number,required:!1,default:0},uncappedRefineReward:{type:Number,required:!1,default:0},currentAction:{type:String,required:!0},scoreMode:{type:Number,required:!0},showDeletionText:{type:Boolean,required:!1,default:!0},displayLevel:{type:Number,required:!1,default:0},changeWatcher:{type:Number,required:!0}},data(){return{showChaosText:!1,chaosDescription:""}},computed:{onTouchDevice(){return GameUI.touchDevice},effectiveLevel(){return this.displayLevel?this.displayLevel:this.level},sortedEffects(){return getGlyphEffectValuesFromBitmask(this.effects,this.effectiveLevel,this.strength,this.type).filter(t=>GlyphEffects[t.id].isGenerated===generatedTypes.includes(this.type))},rarityInfo(){return getRarity(this.strength)},baseColor(){return CosmeticGlyphTypes[this.type].currentColor.bg},textColor(){return this.baseColor==="black"?"white":"black"},mainBorderColor(){return GlyphAppearanceHandler.getBorderColor(this.type)},descriptionStyle(){const t=GlyphAppearanceHandler.getRarityColor(this.strength,this.type),e=GlyphAppearanceHandler.isLightBG?"white":"black";return{color:this.type==="cursed"?e:t,animation:this.type==="reality"?"a-reality-glyph-name-cycle 10s infinite":void 0}},description(){const t=`${this.type.capitalize()}`;switch(this.type){case"companion":return"Companion Glyph";case"cursed":return"Cursed Glyph";case"reality":return`Pure Glyph of ${t}`;default:return`${this.rarityInfo.name} Glyph of ${t}`}},isLevelCapped(){return this.displayLevel&&this.displayLevel<this.level},isLevelBoosted(){return this.displayLevel&&this.displayLevel>this.level},rarityText(){if(!GlyphTypes[this.type].hasRarity)return"";const t=Pelle.isDoomed?Pelle.glyphStrength:this.strength;return`| Rarity:
        <span style="color: ${this.descriptionStyle.color}">${formatRarity(strengthToRarity(t))}</span>`},levelText(){if(this.type==="companion")return"";const t=this.isLevelCapped?"<i class='fas fa-sort-down'></i>":this.isLevelBoosted?"<i class='fas fa-sort-up'></i>":"";return`Level: <span style="color: ${this.isLevelCapped?"#ff4444":this.isLevelBoosted?"#44FF44":void 0}">
              ${t}${formatInt(this.effectiveLevel)}${t}
              </span>`},eventHandlers(){return GameUI.touchDevice?{touchstart:this.touchStart,dragstart:this.dragStart,dragEnd:this.dragEnd}:{}},glyphTooltipStyle(){const t=this.type==="cursed"?this.textColor:GlyphAppearanceHandler.getBorderColor(this.type);return{"pointer-events":this.onTouchDevice?void 0:"none","border-color":t,"box-shadow":`0 0 0.5rem ${t}, 0 0 0.5rem ${t} inset`,animation:this.type==="reality"?"a-reality-glyph-tooltip-cycle 10s infinite":void 0,color:this.textColor,background:this.baseColor}},glyphHeaderStyle(){const t=this.type==="cursed",e=this.type==="reality";let i=GlyphAppearanceHandler.getRarityColor(this.strength,this.type);return t&&(i=this.textColor),this.type==="companion"&&(i=GlyphAppearanceHandler.getBorderColor(this.type)),{"border-color":i,"box-shadow":`0 0 0.5rem 0.1rem ${i}, 0 0 0.8rem ${i} inset`,animation:e?"a-reality-glyph-tooltip-header-cycle 10s infinite":void 0,color:this.textColor,background:this.baseColor}}},watch:{changeWatcher(){this.$recompute("sortedEffects")}},mounted(){document.body.appendChild(this.$el)},destroyed(){try{document.body.removeChild(this.$el)}catch{}},methods:{update(){this.showChaosText=Pelle.specialGlyphEffect.isUnlocked,this.showChaosText&&(this.chaosDescription=Pelle.getSpecialGlyphEffectDescription(this.type))},touchStart(){this.$parent.$emit("tooltip-touched")},dragStart(t){t.preventDefault(),t.stopPropagation()},dragEnd(t){t.preventDefault(),t.stopPropagation()},removeGlyph(){GlyphSacrificeHandler.removeGlyph(Glyphs.findById(this.id),!1)},getFontColor(){return Theme.current().isDark()?"#cccccc":"black"},sacrificeText(){if(this.type==="companion"||this.type==="cursed")return"";const t=`${format(this.sacrificeReward,2,2)}`;return`<span style="font-weight: ${this.currentAction==="sacrifice"?"bold":""};">
              Sacrifice: ${t}
              </span>`},refineText(){if(this.type==="companion"||this.type==="cursed"||this.type==="reality"||!AlchemyResource[this.type].isUnlocked)return"";let t=`${format(this.uncappedRefineReward,2,2)} ${GLYPH_SYMBOLS[this.type]}`;return this.uncappedRefineReward!==this.refineReward&&(t+=` (Actual value due to cap: ${format(this.refineReward,2,2)} ${GLYPH_SYMBOLS[this.type]})`),`<span style="font-weight: ${this.currentAction==="refine"?"bold":""};">
              Refine: ${t}
              </span>`},scoreText(){return this.type==="companion"||this.type==="cursed"||this.type==="reality"||![AUTO_GLYPH_SCORE.SPECIFIED_EFFECT,AUTO_GLYPH_SCORE.EFFECT_SCORE].includes(this.scoreMode)?"":`Score: ${format(AutoGlyphProcessor.filterValue(this.$parent.glyph),1,1)}`}}};var Mfe=function(){var e=this,i=e._self._c;return i("div",e._g({staticClass:"l-glyph-tooltip c-glyph-tooltip",style:e.glyphTooltipStyle},e.eventHandlers),[i("div",{staticClass:"c-glyph-tooltip__header",style:e.glyphHeaderStyle},[i("span",{staticClass:"c-glyph-tooltip__description",style:e.descriptionStyle,domProps:{innerHTML:e._s(e.description)}}),i("span",{staticClass:"l-glyph-tooltip__info"},[i("span",{domProps:{innerHTML:e._s(e.levelText)}}),i("span",{domProps:{innerHTML:e._s(e.rarityText)}})]),e.showDeletionText?i("span",[i("span",e._g({staticClass:"c-glyph-tooltip__sacrifice"},e.onTouchDevice?{click:e.removeGlyph}:{}),[i("span",{domProps:{innerHTML:e._s(e.sacrificeText())}}),e.sacrificeText()&&e.refineText()?i("span",[e._v(" | ")]):e._e(),i("span",{domProps:{innerHTML:e._s(e.refineText())}})])]):e._e(),i("span",{staticClass:"c-glyph-tooltip__sacrifice"},[e._v(e._s(e.scoreText()))])]),i("div",{staticClass:"l-glyph-tooltip__effects"},[e._l(e.sortedEffects,function(n){return i("GlyphTooltipEffect",{key:n.id+e.changeWatcher,attrs:{effect:n.id,value:n.value}})}),e.showChaosText?i("div",{staticClass:"pelle-current-glyph-effects c-glyph-tooltip__effect"},[e._v(" "+e._s(e.chaosDescription)+" ")]):e._e()],2)])},Pfe=[],Ofe=X(Rfe,Mfe,Pfe,!1,null,"c320f820");const Nfe=Ofe.exports,N1={common:[],uncommon:[{lineType:"linear",angles:[45],colorSplit:[14,16,84,86]}],rare:[{lineType:"linear",angles:[45,135],colorSplit:[14,16,84,86]}],epic:[{lineType:"linear",angles:[45,135],colorSplit:[12,14,16,18,82,84,86,88]}],legendary:[{lineType:"bump",colorSplit:[15,25]}],mythical:[{lineType:"bump",colorSplit:[15,25]},{lineType:"linear",angles:[45,135],colorSplit:[10,13,87,90]}],transcendent:[{lineType:"bump",colorSplit:[15,35]},{lineType:"linear",angles:[45,135],colorSplit:[10,12,14,16,84,86,88,90]}],celestial:[{lineType:"bump",colorSplit:[15,35]},{lineType:"radial",colorSplit:[65,85]}],cursed:[{lineType:"spike",center:[40,40],angles:[305,325]},{lineType:"spike",center:[60,40],angles:[35,55]},{lineType:"spike",center:[60,60],angles:[125,145]},{lineType:"spike",center:[40,60],angles:[215,235]}],companion:[{lineType:"companion"}]};function Gfe(t,e,i,n){let r,a,s,o,c=!1;const d=[],p=[];switch(t.lineType){case"linear":r=[0,...t.colorSplit,100],a=m=>n?50+.7*(m-50):m;for(const m of t.angles){for(let y=0;y<r.length-1;y++)d.push(`${c?e:"transparent"} ${a(r[y])}% ${a(r[y+1])}%`),c=!c;p.push(`repeating-linear-gradient(${m}deg, ${d.join(",")})`)}return p.join(",");case"bump":o=i.type==="effarig"?`${e}60`:e,s=["50% -25%","50% 125%","-25% 50%","125% 50%"],a=m=>n?m:.9*m;for(let m=0;m<4;m++)d.push(`radial-gradient(at ${s[m]}, transparent, ${o} ${a(t.colorSplit[0])}%,
          transparent ${a(t.colorSplit[1])}%)`);return d.join(",");case"radial":r=[50,...t.colorSplit,100],a=m=>n?.9*m:100-(100-m)/2;for(const m of r)d.push(`${c?e:"transparent"} ${a(m)}%`),c=!c;return`radial-gradient(${d.join(",")})`;case"spike":return d.push(`transparent ${t.angles[0]-5}deg`),d.push(`${e}b0 ${t.angles[0]+5}deg`),d.push(`${e}b0 ${t.angles[1]-5}deg`),d.push(`transparent ${t.angles[1]+5}deg`),`conic-gradient(from 0deg at ${t.center[0]}% ${t.center[1]}%, ${d.join(",")})`;case"companion":r=[0,30,330,360],o=[e,"transparent","transparent",e];for(let m=0;m<4;m++)d.push(`${o[m]} ${r[m]}deg`);p.push(`conic-gradient(${d.join(",")})`),s=["125% 125%","-25% 125%"],a=m=>n?.9*(m+10):m;for(let m=0;m<2;m++)p.push(`radial-gradient(at ${s[m]}, transparent, ${e} ${a(30)}%,
          transparent ${a(50)}%)`);return p.join(",");default:throw new Error("Unrecognized glyph border data")}}const Ufe={name:"GlyphComponent",components:{GlyphTooltip:Nfe},props:{glyph:{type:Object,required:!0},isInModal:{type:Boolean,required:!1,default:!1},isNew:{type:Boolean,required:!1,default:!1},isUnequipped:{type:Boolean,required:!1,default:!1},showSacrifice:{type:Boolean,required:!1,default:!1},ignoreModifiedLevel:{type:Boolean,required:!1,default:!1},realityGlyphBoost:{type:Number,required:!1,default:0},isInventoryGlyph:{type:Boolean,required:!1,default:!1},isActiveGlyph:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"5rem"},glowBlur:{type:String,required:!1,default:"1rem"},glowSpread:{type:String,required:!1,default:"0.2rem"},bottomPadding:{type:String,required:!1,default:"0.3rem"},textProportion:{type:Number,required:!1,default:.5},circular:{type:Boolean,required:!1,default:!1},draggable:{type:Boolean,required:!1,default:!1},flipTooltip:{type:Boolean,required:!1,default:!1}},data(){return{componentID:UIID.next(),isDragging:!1,suppressTooltip:!1,isTouched:!1,tooltipEnabled:!1,sacrificeReward:0,uncappedRefineReward:0,refineReward:0,displayLevel:0,tooltipLoaded:!1,logTotalSacrifice:0,realityColor:""}},computed:{hasTooltip(){return!!this.glyph.effects},typeConfig(){return GlyphTypes[this.glyph.type]},cosmeticConfig(){return CosmeticGlyphTypes[this.glyph.cosmetic??this.glyph.type]},isBlobHeart(){return this.$viewModel.theme==="S11"&&this.glyph.type==="companion"},symbol(){const t=this.glyph.symbol;return this.isBlobHeart?"":t||(this.$viewModel.theme==="S4"&&!this.glyph.cosmetic?CANCER_GLYPH_SYMBOLS[this.glyph.type]:this.cosmeticConfig.currentSymbol.symbol)},symbolBlur(){return this.isBlobHeart?!1:this.glyph.symbol?!GlyphAppearanceHandler.unblurredSymbols.includes(this.symbol):this.cosmeticConfig.currentSymbol.blur},zIndexStyle(){return{"z-index":this.isInModal?7:6}},colorObj(){let t;this.glyph.color&&(t=GlyphAppearanceHandler.getColorProps(this.glyph.color)),this.glyph.cosmetic&&(this.glyph.cosmetic===this.glyph.type?t=this.glyph.type==="cursed"?GlyphAppearanceHandler.getBaseColor(!0):this.cosmeticConfig.currentColor:t=this.cosmeticConfig.currentColor);let e;return this.isRealityGlyph&&this.realityColor?e=this.realityColor:e=this.cosmeticConfig.ignoreRarityColor?GlyphAppearanceHandler.getBorderColor(this.glyph.type):GlyphAppearanceHandler.getRarityColor(this.glyph.strength,this.glyph.type),{border:(t==null?void 0:t.border)??GlyphAppearanceHandler.getBorderColor(this.glyph.type),symbol:(t==null?void 0:t.border)??e,bg:(t==null?void 0:t.bg)??this.cosmeticConfig.currentColor.bg}},symbolColor(){return player.options.swapGlyphColors?this.colorObj.border:this.colorObj.symbol},borderColor(){return player.options.swapGlyphColors?this.colorObj.symbol:this.colorObj.border},bgColor(){return this.colorObj.bg},overStyle(){return{width:this.size,height:this.size,position:"absolute","background-color":"rgba(0, 0, 0, 0)","box-shadow":`0 0 ${this.glowBlur} calc(${this.glowSpread} + 0.1rem) ${this.borderColor} inset`,"border-radius":this.circular?"50%":"0"}},outerStyle(){return{width:this.size,height:this.size,"background-color":this.borderColor,"box-shadow":`0 0 ${this.glowBlur} ${this.glowSpread} ${this.borderColor}`,"border-radius":this.circular?"50%":"0","-webkit-user-drag":this.draggable?"":"none"}},innerStyle(){const t=this.symbolColor;return{width:`calc(${this.size} - 0.2rem)`,height:`calc(${this.size} - 0.2rem)`,"font-size":`calc( ${this.size} * ${this.textProportion} )`,color:t,"text-shadow":this.symbolBlur?`-0.04em 0.04em 0.08em ${t}`:void 0,"border-radius":this.circular?"50%":"0","padding-bottom":this.bottomPadding,background:this.bgColor}},mouseEventHandlers(){const t=this.hasTooltip?{mouseenter:this.mouseEnter,"&mousemove":this.mouseMove,mouseleave:this.mouseLeave,mousedown:this.mouseDown,touchstart:this.touchStart,touchend:this.touchEnd}:{};return(this.hasTooltip||this.draggable)&&(t.touchmove=this.touchMove),t},isCurrentTooltip(){return this.$viewModel.tabs.reality.currentGlyphTooltip===this.componentID},tooltipDirectionClass(){let t=this.$viewModel.tabs.reality.glyphTooltipDirection;switch(this.flipTooltip&&(t+=1),t){case-1:return"l-glyph-tooltip--down-left";case 0:return"l-glyph-tooltip--down-right";case 1:return"l-glyph-tooltip--up-left";case 2:return"l-glyph-tooltip--up-right";default:return""}},glyphEffects(){let t=0;switch(this.glyph.type){case"time":case"cursed":case"companion":t=0;break;case"dilation":case"reality":t=4;break;case"replication":t=8;break;case"infinity":t=12;break;case"power":t=16;break;case"effarig":t=20;break;default:throw new Error(`Unrecognized glyph type "${this.glyph.type}" in glyph effect icons`)}const e=[];let i=this.glyph.effects>>t;for(let n=0;i>0;n++)(i&1)===1&&e.push(n),i>>=1;return e},isRealityGlyph(){return this.glyph.type==="reality"},isCursedGlyph(){return this.glyph.type==="cursed"},isCompanionGlyph(){return this.glyph.type==="companion"},showGlyphEffectDots(){return player.options.showHintText.glyphEffectDots},displayedInfo(){const t=["companion","cursed"];if(!this.isInventoryGlyph||t.includes(this.glyph.type))return null;const e=player.options.showHintText;if(e.glyphInfoType===pm.types.NONE||!e.showGlyphInfoByDefault&&!this.$viewModel.shiftDown)return null;const i=pm.types;switch(e.glyphInfoType){case i.LEVEL:return this.updateDisplayLevel(),formatInt(this.displayLevel===0?this.glyph.level:this.displayLevel);case i.RARITY:return formatRarity(strengthToRarity(Pelle.isDoomed?Pelle.glyphStrength:this.glyph.strength));case i.SAC_VALUE:return format(this.sacrificeReward,2,2);case i.FILTER_SCORE:return format(AutoGlyphProcessor.filterValue(this.glyph),1,1);case i.CURRENT_REFINE:return`${format(this.refineReward,2,2)} ${this.symbol}`;case i.MAX_REFINE:return`${format(this.uncappedRefineReward,2,2)} ${this.symbol}`;default:throw new Error("Unrecognized Glyph info type in info text")}},showBorders(){return player.options.glyphBorders}},watch:{logTotalSacrifice(){this.tooltipLoaded=!1,this.isCurrentTooltip&&this.showTooltip()}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,()=>{this.$recompute("typeConfig"),this.$recompute("cosmeticConfig"),this.$recompute("innerStyle"),this.$recompute("overrideColor"),this.$recompute("showGlyphEffectDots"),this.$recompute("displayedInfo"),this.$recompute("showBorders")}),this.on$("tooltip-touched",()=>this.hideTooltip()),this.on$(GAME_EVENT.TAB_CHANGED,()=>this.hideTooltip()),setTimeout(()=>this.tooltipEnabled=!0,10)},beforeDestroy(){this.isCurrentTooltip&&this.hideTooltip(),this.$viewModel.draggingUIID===this.componentID&&(this.$viewModel.draggingUIID=-1)},methods:{update(){this.logTotalSacrifice=GameCache.logTotalGlyphSacrifice.value,this.realityColor=player.reality.glyphs.cosmetics.colorMap.reality?null:GlyphAppearanceHandler.realityColor,this.sacrificeReward=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph),this.uncappedRefineReward=ALCHEMY_BASIC_GLYPH_TYPES.includes(this.glyph.type)?GlyphSacrificeHandler.glyphRawRefinementGain(this.glyph):0,this.refineReward=ALCHEMY_BASIC_GLYPH_TYPES.includes(this.glyph.type)?GlyphSacrificeHandler.glyphRefinementGain(this.glyph):0,this.tooltipLoaded&&this.updateDisplayLevel()},updateDisplayLevel(){if(this.ignoreModifiedLevel){this.displayLevel=0;return}this.isActiveGlyph?this.displayLevel=getAdjustedGlyphLevel(this.glyph):this.isInventoryGlyph?this.displayLevel=getAdjustedGlyphLevel(this.glyph,0):this.displayLevel=this.glyph.level+(BASIC_GLYPH_TYPES.includes(this.glyph.type)?this.realityGlyphBoost:0)},hideTooltip(){this.tooltipLoaded=!1,this.$viewModel.tabs.reality.mouseoverGlyphInfo.type="",this.$viewModel.tabs.reality.mouseoverGlyphInfo.inInventory=!1,this.$viewModel.tabs.reality.currentGlyphTooltip=-1},showTooltip(){if(!this.tooltipEnabled)return;Glyphs.removeVisualFlag("unseen",this.glyph),Glyphs.removeVisualFlag("unequipped",this.glyph),this.tooltipLoaded=!0,this.$viewModel.tabs.reality.mouseoverGlyphInfo.inInventory=!this.circular;const t=this.$viewModel.tabs.reality.mouseoverGlyphInfo;t.type=this.glyph.type,t.sacrificeValue=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph),t.refineValue=GlyphSacrificeHandler.glyphRawRefinementGain(this.glyph),this.$viewModel.tabs.reality.currentGlyphTooltip=this.componentID,AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.SACRIFICE||AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE_TO_CAP&&this.refineReward===0?this.currentAction="sacrifice":this.currentAction="refine",this.scoreMode=AutoGlyphProcessor.scoreMode},moveTooltipTo(t,e){if(!this.$refs.tooltip)return;const i=this.$refs.tooltip.$el;if(i){const n=document.body.getBoundingClientRect();i.style.left=`${t-n.left}px`,i.style.top=`${e-n.top}px`,this.$viewModel.tabs.reality.glyphTooltipDirection===1?e-i.offsetHeight<=0&&e+i.offsetHeight<n.height&&(this.$viewModel.tabs.reality.glyphTooltipDirection=-1):e+i.offsetHeight>=n.height&&(this.$viewModel.tabs.reality.glyphTooltipDirection=1)}},mouseEnter(t){this.$viewModel.draggingUIID===-1&&(this.moveTooltipTo(t.clientX,t.clientY),this.showTooltip())},mouseLeave(){this.isCurrentTooltip&&this.hideTooltip()},mouseDown(){this.isTouched||this.hideTooltip()},mouseMove(t){this.isTouched||this.moveTooltipTo(t.clientX,t.clientY)},dragStart(t){this.hideTooltip(),this.isDragging=!0,this.suppressTooltip=!0,t.dataTransfer.setData(GLYPH_MIME_TYPE,this.glyph.id.toString()),t.dataTransfer.dropEffect="move";const e=this.$refs.over.getBoundingClientRect();t.dataTransfer.setDragImage(this.$refs.over,t.clientX-e.left,t.clientY-e.top),this.$viewModel.draggingUIID=this.componentID;const i=this.$viewModel.tabs.reality.draggingGlyphInfo;i.id=this.glyph.id,i.type=this.glyph.type,i.sacrificeValue=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph)},dragEnd(){this.isDragging=!1,this.suppressTooltip=!1,this.$viewModel.scrollWindow=0;const t=this.$viewModel.tabs.reality.draggingGlyphInfo;t.id=-1,t.type="",this.$viewModel.draggingUIID===this.componentID&&(this.$viewModel.draggingUIID=-1)},drag(t){if(t.screenX===0&&t.screenY===0){this.$viewModel.scrollWindow=0;return}const e=100;t.clientY<e?this.$viewModel.scrollWindow=-1+.9*t.clientY/e:t.clientY>window.innerHeight-e?this.$viewModel.scrollWindow=1-.9*(window.innerHeight-t.clientY)/e:this.$viewModel.scrollWindow=0},touchStart(){this.isTouched=!0},touchEnd(t){this.isCurrentTooltip?(t.preventDefault(),this.hideTooltip()):this.suppressTooltip||(t.preventDefault(),this.showTooltip(),this.moveTooltipTo(t.changedTouches[0].clientX,t.changedTouches[0].clientY)),this.suppressTooltip=!1,this.isTouched=!1},touchMove(t){const e=t.changedTouches[0],i=this.$refs.over.getBoundingClientRect();(e.clientX<i.left||e.clientY<i.top||e.clientX>i.left+i.width||e.clientY>i.top+i.height)&&(this.suppressTooltip=!0),this.isDragging&&this.drag(e)},effectIconPos(t){const e=this.glyph.type==="effarig"?Math.PI/4*(t+1):Math.PI/2*(t+.5),i=.28*this.size.replace("rem",""),n=-i*Math.sin(e),r=i*(Math.cos(e)+.15);return{dx:n,dy:r}},glyphEffectDots(t){if(["companion","cursed"].includes(this.glyph.type))return{};const e=this.effectIconPos(t);return{position:"absolute",width:"0.3rem",height:"0.3rem","border-radius":"50%",background:this.symbolColor,transform:`translate(${e.dx-.15*.3}rem, ${e.dy-.15*.3}rem)`,opacity:Theme.current().name==="S9"?0:.8}},glyphBorderStyle(){if(!this.showBorders)return null;let t;this.isCursedGlyph?t=N1.cursed:this.isCompanionGlyph?t=N1.companion:t=N1[getRarity(this.glyph.strength).name.toLowerCase()];const e=t.map(i=>Gfe(i,this.borderColor,this.glyph,this.circular));return{position:"absolute",left:"2%",width:"96%",height:"96%","border-radius":this.circular?"50%":"0",background:e.filter(i=>i).join(",")}}}};var Lfe=function(){var e=this,i=e._self._c;return i("div",e._g({class:["l-glyph-component",{"c-glyph-component--dragging":e.isDragging}],style:e.outerStyle,attrs:{draggable:e.draggable}},e.draggable?{dragstart:e.dragStart,dragend:e.dragEnd,drag:e.drag}:{}),[i("div",{ref:"glyph",class:["l-glyph-component","c-glyph-component"],style:e.innerStyle},[e._v(" "+e._s(e.symbol)+" "),e.$viewModel.shiftDown||e.showGlyphEffectDots?e._l(e.glyphEffects,function(n){return i("div",{key:n,style:e.glyphEffectDots(n)})}):e._e()],2),i("div",{style:e.glyphBorderStyle()}),e.hasTooltip&&e.tooltipLoaded?i("GlyphTooltip",e._b({directives:[{name:"show",rawName:"v-show",value:e.isCurrentTooltip,expression:"isCurrentTooltip"}],ref:"tooltip",class:e.tooltipDirectionClass,style:e.zIndexStyle,attrs:{"sacrifice-reward":e.sacrificeReward,"refine-reward":e.refineReward,"uncapped-refine-reward":e.uncappedRefineReward,"current-action":e.currentAction,"score-mode":e.scoreMode,"show-deletion-text":e.showSacrifice,"display-level":e.displayLevel,component:e.componentID,"change-watcher":e.logTotalSacrifice}},"GlyphTooltip",e.glyph,!1)):e._e(),e.isNew?i("div",{staticClass:"l-corner-icon l-new-glyph"},[e._v(" New! ")]):e.isUnequipped?i("div",{staticClass:"l-corner-icon l-unequipped-glyph fas fa-arrow-up-from-bracket"}):e._e(),e.displayedInfo?i("div",{staticClass:"l-glyph-info"},[e._v(" "+e._s(e.displayedInfo)+" ")]):e._e(),i("div",e._g({ref:"over",style:e.overStyle,on:{click:[function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.$emit("shiftClicked",e.glyph.id)},function(n){return!n.ctrlKey||!n.shiftKey||n.altKey||n.metaKey?null:e.$emit("ctrlShiftClicked",e.glyph.id)},function(n){return!n.metaKey||!n.shiftKey||n.ctrlKey||n.altKey?null:e.$emit("ctrlShiftClicked",e.glyph.id)},function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.$emit("clicked",e.glyph.id)}]}},e.mouseEventHandlers))],1)},Bfe=[],$fe=X(Ufe,Lfe,Bfe,!1,null,"4cde4479");const ou=$fe.exports,Ffe={name:"RealityModal",components:{PrimaryButton:mt,ModalWrapperChoice:Ht,GlyphComponent:ou},data(){return{firstReality:!1,hasSpace:!0,hasChoice:!1,hasFilter:!1,glyphs:[],bestLevel:0,levelDifference:0,selectedGlyph:void 0,canRefresh:!1,level:0,simRealities:0,realityMachines:new Decimal,shardsGained:0,effarigUnlocked:!1,willAutoPurge:!1}},computed:{firstRealityText(){return`Reality will reset everything except Challenge records and anything under the General header on the
        Statistics tab. The first ${formatInt(13)} rows of Achievements are also reset,
        but you will automatically get one Achievement back every
        ${timeDisplayNoDecimals(30*6e4)}. You will also gain Reality Machines based on your Eternity Points, a
        Glyph with a level based on your Eternity Points, Replicanti, and Dilated Time, a Perk Point to spend
        on quality of life upgrades, and unlock various upgrades.`},canSacrifice(){return RealityUpgrade(19).isEffectActive},warnText(){return this.hasChoice?this.hasFilter&&this.selectedGlyph===void 0?"If you do not choose a Glyph, one will be automatically selected using your Glyph filter.":this.selectedGlyph===void 0?"You must select a Glyph in order to continue.":null:`You currently only have a single option for new Glyphs every
          Reality. You can unlock the ability to choose from multiple Glyphs by canceling out of this modal and
          purchasing the START Perk.`},gained(){const t=[];return t.push(`${quantifyInt("Reality",this.simRealities*1e3)}`),t.push(`${quantifyInt("Perk Point",this.simRealities*1e3)}`),t.push(`${quantify("Reality Machine",this.realityMachines,2)}`),this.effarigUnlocked&&t.push(`${quantify("Relic Shard",this.shardsGained,2)}`),`You will gain ${makeEnumeration(t)}`},levelStats(){return`You will get a level ${formatInt(this.level)} Glyph on Reality, which is
        ${this.level===this.bestLevel?"equal to":`
        ${quantifyInt("level",this.levelDifference)}
        ${this.level>this.bestLevel?"higher":"lower"} than`} your best.`},confirmationToDisable(){return ConfirmationTypes.glyphSelection.isUnlocked()?"glyphSelection":void 0},canConfirm(){return this.firstReality||this.selectedGlyph!==void 0||this.hasFilter}},created(){this.getGlyphs(),GlyphSelection.realityProps=getRealityProps(!1,!1)},methods:{update(){this.firstReality=player.realities===0,this.hasChoice=Perk.firstPerk.isEffectActive,this.effarigUnlocked=TeresaUnlocks.effarig.canBeApplied,this.hasFilter=EffarigUnlock.glyphFilter.isUnlocked,this.level=gainedGlyphLevel().actualLevel,this.simRealities=1+simulatedRealityCount(!1),this.hasSpace=GameCache.glyphInventorySpace.value>=this.simRealities;const t=MachineHandler.gainedRealityMachines.times(this.simRealities);if(this.realityMachines.copyFrom(t.clampMax(MachineHandler.distanceToRMCap)),this.shardsGained=Effarig.shardsGained*(simulatedRealityCount(!1)+1),this.willAutoPurge=player.reality.autoAutoClean,!this.firstReality){for(let e=0;e<this.glyphs.length;++e){const i=this.glyphs[e],n=GlyphSelection.glyphList(GlyphSelection.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1})[e];i.level!==n.level&&(i.level=n.level,i.effects=n.effects)}this.bestLevel=player.records.bestReality.glyphLevel,this.levelDifference=Math.abs(this.bestLevel-this.level)}},glyphClass(t){return{"l-modal-glyph-selection__glyph":!0,"l-modal-glyph-selection__glyph--selected":this.selectedGlyph===t}},getGlyphs(){this.canRefresh=!0,this.glyphs=GlyphSelection.upcomingGlyphs},select(t){this.selectedGlyph=t},confirmModal(t){this.canConfirm&&(t&&this.emitClose(),startManualReality(t,this.selectedGlyph))}}};var Hfe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:e.confirmationToDisable,"show-confirm":e.canConfirm},on:{confirm:function(n){return e.confirmModal(!1)}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to Reality ")]},proxy:!0},e.canSacrifice&&e.canConfirm?{key:"extra-buttons",fn:function(){return[i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:function(n){return e.confirmModal(!0)}}},[e._v(" Sacrifice ")])]},proxy:!0}:null],null,!0)},[e.firstReality?i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.firstRealityText)+" ")]):e._e(),i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.gained)+" ")]),e.firstReality?e._e():i("div",{staticClass:"l-glyph-selection__row"},e._l(e.glyphs,function(n,r){return i("GlyphComponent",{key:r,class:e.glyphClass(r),attrs:{glyph:n,"is-in-modal":!0,"ignore-modified-level":!0,"show-sacrifice":e.canSacrifice},nativeOn:{click:function(a){return e.select(r)}}})}),1),e.firstReality?e._e():i("div",[e._v(" "+e._s(e.levelStats)+" "),i("br"),i("b",{staticClass:"o-warning"},[e._v(" "+e._s(e.warnText)+" ")])]),e.simRealities>1?i("div",[i("br"),e._v(" After choosing this Glyph the game will simulate the rest of your Realities, "),i("br"),e._v(" automatically choosing another "+e._s(e.quantifyInt("Glyph",e.simRealities-1))+" based on your Glyph filter settings. ")]):e._e(),e.willAutoPurge?i("div",[i("br"),e._v(" Auto-purge is currently enabled; your selected Glyph "),i("br"),e._v(" may not appear in your inventory after it triggers. ")]):e._e(),e.hasSpace?e._e():i("div",{staticClass:"o-warning"},[e.simRealities>1?i("span",[e._v(" You will be simulating more Realities than you have open inventory space for; this may result in some Glyphs being Sacrificed. ")]):i("span",[e._v(" You do not have any free inventory space - your selected Glyph will be automatically "+e._s(e.canSacrifice?"Sacrificed":"deleted")+"! ")])]),e.confirmationToDisable?i("div",[i("br"),e._v(" You can force this modal to appear (even if disabled) by Shift-clicking the Reality button. ")]):e._e()])},Vfe=[],Yfe=X(Ffe,Hfe,Vfe,!1,null,"0fb0303e");const qfe=Yfe.exports,Wfe={name:"ReplicantiGalaxyModal",components:{ModalWrapperChoice:Ht},data(){return{replicanti:new Decimal,divideReplicanti:!1,canBeBought:0}},computed:{topLabel(){return`You are about to purchase ${quantifyInt("Replicanti Galaxy",this.canBeBought)}`},message(){return`A Replicanti Galaxy boosts Tickspeed the same way an Antimatter Galaxy does. However, it does not
        increase the cost of Antimatter Galaxies, nor is it affected by multipliers to Antimatter Galaxies specifically.
        It will ${this.divideReplicanti?`divide your Replicanti by ${format(Number.MAX_VALUE,2,2)} for each Replicanti Galaxy purchased
          (${format(this.replicanti,2,2)} to
          ${format(this.replicanti.divide(Decimal.NUMBER_MAX_VALUE.pow(this.canBeBought)),2,2)})`:`reset your Replicanti to ${formatInt(1)}`}.`}},methods:{update(){this.replicanti.copyFrom(player.replicanti.amount),this.divideReplicanti=Achievement(126).isUnlocked,this.canBeBought=Replicanti.galaxies.gain,this.replicanti.lt(Number.MAX_VALUE)&&this.emitClose()},handleYesClick(){replicantiGalaxy(!1)}}};var jfe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"replicantiGalaxy"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},zfe=[],Xfe=X(Wfe,jfe,zfe,!1,null,null);const Kfe=Xfe.exports,Zfe={name:"ResetRealityModal",components:{ModalWrapperChoice:Ht},data(){return{isDoomed:!1,canReality:!1}},computed:{resetTerm(){return this.isDoomed?"Armageddon":"Reality"}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.canReality=isRealityAvailable()},handleYesClick(){beginProcessReality(getRealityProps(!0)),EventHub.ui.offAll(this)}}};var Qfe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"resetReality"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to reset your "+e._s(e.resetTerm)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Reset ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" This will reset you to the start of your "+e._s(e.resetTerm)+", giving you no rewards from your progress in your current "+e._s(e.resetTerm)+". "),i("br"),i("br"),e._v(" Are you sure you want to do this? "),e.canReality?i("div",{staticClass:"c-has-rewards"},[i("br"),e._v(' You can currently complete a Reality for all its normal rewards, which you will not receive if you Reset here. To get rewards, use the "Make a new Reality" button. ')]):e._e(),i("br")])])},Jfe=[],epe=X(Zfe,Qfe,Jfe,!1,null,"4d996ee1");const tpe=epe.exports,ipe={name:"PrimaryToggleButton",components:{PrimaryButton:mt},props:{label:{type:String,required:!1,default:""},on:{type:String,required:!1,default:"ON"},off:{type:String,required:!1,default:"OFF"},value:{type:Boolean,required:!0}},computed:{displayText(){return`${this.label} ${this.value?this.on:this.off}`.trim()}}};var npe=function(){var e=this,i=e._self._c;return i("PrimaryButton",e._b({on:{click:function(n){return e.emitInput(!e.value)}}},"PrimaryButton",e.$attrs,!1),[e._v(" "+e._s(e.displayText)+" ")])},rpe=[],ape=X(ipe,npe,rpe,!1,null,null);const ln=ape.exports,spe={name:"ModalOptionsToggleButton",components:{PrimaryToggleButton:ln},props:{value:{type:Boolean,required:!1,default:!1},text:{type:String,required:!0}},computed:{styleObject(){return{"background-color":this.value?"var(--color-good)":"var(--color-gh-purple)"}}}};var ope=function(){var e=this,i=e._self._c;return i("PrimaryToggleButton",{staticClass:"o-primary-btn--modal-option",style:e.styleObject,attrs:{value:e.value,label:e.text},on:{input:e.emitInput}})},lpe=[],cpe=X(spe,ope,lpe,!1,null,null);const Zm=cpe.exports,upe={name:"ModalWrapper",components:{ModalCloseButton:Km},methods:{closeModal(){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}};var dpe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal__inner"},[i("div",{staticClass:"c-modal__header"},[i("ModalCloseButton",{on:{click:e.closeModal}}),e.$slots.header?i("span",{staticClass:"c-modal__title"},[e._t("header")],2):e._e()],1),e._t("default")],2)},hpe=[],fpe=X(upe,dpe,hpe,!1,null,"dd0f3bed");const ka=fpe.exports,ppe={name:"ModalWrapperOptions",components:{ModalWrapper:ka}};var mpe=function(){var e=this,i=e._self._c;return i("ModalWrapper",{staticClass:"c-modal-options l-modal-options",scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0}],null,!0)},[e._t("default")],2)},ype=[],gpe=X(ppe,mpe,ype,!1,null,null);const lu=gpe.exports,vpe={name:"PlusMinusButton",props:{type:{type:String,required:!0}},computed:{iconClass(){return`fas fa-${this.type}`}}};var bpe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"repeating-click",rawName:"v-repeating-click",value:{delay:500},expression:"{ delay: 500 }"}],staticClass:"c-ad-slider__button",on:{firstclick:function(n){return e.$emit("click")},repeatclick:function(n){return e.$emit("click")}}},[i("div",{class:e.iconClass})])},_pe=[],wpe=X(vpe,bpe,_pe,!1,null,"ffb6ef41");const Epe=wpe.exports,Tpe=function(){const t=typeof window>"u"?1:window.devicePixelRatio||1;return e=>Math.round(e*t)/t}(),Cpe={name:"SliderComponent",components:{PlusMinusButton:Epe},props:{width:{type:String,default:"auto"},height:{type:String,default:"6px"},data:{type:Array,default:null},dotSize:{type:[String,Number],default:"16px"},dotWidth:{type:String,required:!1},dotHeight:{type:String,required:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},show:{type:Boolean,default:!0},disabled:{type:[Boolean,Array],default:!1},piecewise:{type:Boolean,default:!1},tooltip:{type:[String,Boolean],default:"always"},eventType:{type:String,default:"auto"},direction:{type:String,default:"horizontal"},reverse:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},speed:{type:Number,default:.5},realTime:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1},value:{type:[String,Number,Array,Object],default:0},piecewiseLabel:{type:Boolean,default:!1},debug:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},minRange:{type:Number},maxRange:{type:Number},processDraggable:{type:Boolean,default:!1},useKeyboard:{type:Boolean,default:!1},actionsKeyboard:{type:Array,default(){return[t=>t-1,t=>t+1]}},piecewiseFilter:{type:Function},tooltipMerge:{type:Boolean,default:!0},startAnimation:{type:Boolean,default:!1},enableCross:{type:Boolean,default:!0},valueInDot:{type:Boolean,default:!1},plusMinusButtons:{type:Boolean,default:!1},sliderStyle:[Array,Object,Function],focusStyle:[Array,Object,Function],tooltipDir:[Array,String],xformatter:[String,Function],mergeFormatter:[String,Function],piecewiseStyle:Object,disabledStyle:Object,piecewiseActiveStyle:Object,processStyle:Object,processClass:String,bgStyle:Object,bgClass:String,tooltipStyle:[Array,Object,Function],disabledDotStyle:[Array,Object,Function],labelStyle:Object,labelActiveStyle:Object,dotClass:[String,Array]},data(){return{flag:!1,dragFlag:!1,crossFlag:!1,keydownFlag:null,focusFlag:!1,processFlag:!1,processSign:null,size:0,fixedValue:0,focusSlider:0,currentValue:0,currentSlider:0,isComponentExists:!0,isMounted:!1,dotAxialSizePx:1}},computed:{tooltipFormatHelper(){return this.mergeFormatter?this.mergeFormatting(this.val[0],this.val[1]):this.xformatter?this.val[0]===this.val[1]?this.formatting(this.val[0]):`${this.formatting(this.val[0])}-${this.formatting(this.val[1])}`:this.val[0]===this.val[1]?this.val[0]:`${this.val[0]}-${this.val[1]}`},dotWidthVal(){return this.dotWidth||this.dotSize},dotHeightVal(){return this.dotHeight||this.dotSize},flowDirection(){return`l-ad-slider--${this.direction+(this.reverse?"-reverse":"")}`},tooltipMergedPosition(){if(!this.isMounted)return{};const t=this.tooltipDirection[0];if(this.$refs.dot0){const e={};return e[t]=`-${this.dotAxialSizePx/2-this.size/2+9}px`,e.left="50%",e}},tooltipDirection(){const t=this.tooltipDir||(this.direction==="vertical"?"left":"top");return Array.isArray(t)?this.isRange?t:t[1]:this.isRange?[t,t]:t},tooltipStatus(){return this.tooltip==="hover"&&this.flag?"ad-slider-always":this.tooltip?`ad-slider-${this.tooltip}`:""},tooltipClass(){return[`ad-slider-tooltip-${this.tooltipDirection}`,"ad-slider-tooltip"]},disabledArray(){return Array.isArray(this.disabled)?this.disabled:[this.disabled,this.disabled]},boolDisabled(){return this.disabledArray.every(t=>t===!0)},isDisabled(){return this.eventType==="none"?!0:this.boolDisabled},disabledClass(){return this.boolDisabled?"l-ad-slider--disabled":""},stateClass(){return{"ad-slider-state-process-drag":this.processFlag,"ad-slider-state-drag":this.flag&&!this.processFlag&&!this.keydownFlag,"ad-slider-state-focus":this.focusFlag}},isRange(){return Array.isArray(this.value)},slider(){return this.isRange?[this.$refs.dot0,this.$refs.dot1]:[this.$refs.dot0]},minimum(){return this.data?0:this.min},val:{get(){return this.data?this.isRange?[this.data[this.currentValue[0]],this.data[this.currentValue[1]]]:this.data[this.currentValue]:this.currentValue},set(t){if(this.data)if(this.isRange){const e=this.data.indexOf(t[0]),i=this.data.indexOf(t[1]);e>-1&&i>-1&&(this.currentValue=[e,i])}else{const e=this.data.indexOf(t);e>-1&&(this.currentValue=e)}else this.currentValue=t}},currentIndex(){return this.isRange?this.data?this.currentValue:[this.getIndexByValue(this.currentValue[0]),this.getIndexByValue(this.currentValue[1])]:this.getIndexByValue(this.currentValue)},indexRange(){return this.isRange?this.currentIndex:[0,this.currentIndex]},maximum(){return this.data?this.data.length-1:this.max},multiple(){const t=`${this.interval}`.split(".")[1];return t?Math.pow(10,t.length):1},spacing(){return this.data?1:this.interval},total(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!==0&&this.printError("Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},usableSize(){return this.size-this.dotAxialSizePx},gap(){return this.usableSize/this.total},position(){return this.isRange?[(this.currentValue[0]-this.minimum)/this.spacing*this.gap+this.dotAxialSizePx/2,(this.currentValue[1]-this.minimum)/this.spacing*this.gap+this.dotAxialSizePx/2]:(this.currentValue-this.minimum)/this.spacing*this.gap+this.dotAxialSizePx/2},isFixed(){return this.fixed||this.minRange},limit(){return this.isRange?this.isFixed?[[this.dotAxialSizePx/2,this.dotAxialSizePx/2+(this.total-this.fixedValue)*this.gap],[this.fixedValue*this.gap+this.dotAxialSizePx/2,this.size-this.dotAxialSizePx/2]]:[[this.dotAxialSizePx/2,this.position[1]],[this.position[0],this.size-this.dotAxialSizePx/2]]:[this.dotAxialSizePx/2,this.size-this.dotAxialSizePx/2]},valueLimit(){return this.isRange?this.isFixed?[[this.minimum,this.maximum-this.fixedValue*(this.spacing*this.multiple)/this.multiple],[this.minimum+this.fixedValue*(this.spacing*this.multiple)/this.multiple,this.maximum]]:[[this.minimum,this.currentValue[1]],[this.currentValue[0],this.maximum]]:[this.minimum,this.maximum]},idleSlider(){return this.currentSlider===0?1:0},wrapStyles(){const t=this.direction==="vertical"?{height:this.height}:{width:this.width};return this.plusMinusButtons&&(t[this.direction==="vertical"?"margin-top":"margin-right"]="0.5rem",t[this.direction==="vertical"?"margin-bottom":"margin-left"]="0.5rem"),t},sliderStyles(){return Array.isArray(this.sliderStyle)?this.isRange?this.sliderStyle:this.sliderStyle[1]:typeof this.sliderStyle=="function"?this.sliderStyle(this.val,this.currentIndex):this.isRange?[this.sliderStyle,this.sliderStyle]:this.sliderStyle},focusStyles(){return Array.isArray(this.focusStyle)?this.isRange?this.focusStyle:this.focusStyle[1]:typeof this.focusStyle=="function"?this.focusStyle(this.val,this.currentIndex):this.isRange?[this.focusStyle,this.focusStyle]:this.focusStyle},disabledDotStyles(){const t=this.disabledDotStyle;if(Array.isArray(t))return t;if(typeof t=="function"){const e=t(this.val,this.currentIndex);return Array.isArray(e)?e:[e,e]}return t?[t,t]:[{backgroundColor:"#ccc"},{backgroundColor:"#ccc"}]},tooltipStyles(){return Array.isArray(this.tooltipStyle)?this.isRange?this.tooltipStyle:this.tooltipStyle[1]:typeof this.tooltipStyle=="function"?this.tooltipStyle(this.val,this.currentIndex):this.isRange?[this.tooltipStyle,this.tooltipStyle]:this.tooltipStyle},elemStyles(){return this.direction==="vertical"?{width:this.width,height:"100%",position:"relative"}:{height:this.height,position:"relative"}},draggableStyle(){return{cursor:this.boolDisabled?"default":"pointer"}},dotStyles(){const t={width:this.dotWidthVal,height:this.dotHeightVal,position:"absolute"};return this.direction==="vertical"?t.left="50%":t.top="50%",t},piecewiseDotStyle(){return{width:this.width,height:this.height}},piecewiseDotWrap(){if(!this.piecewise&&!this.piecewiseLabel)return!1;const t=[];for(let e=0;e<=this.total;e++){const i=this.direction==="vertical"?{bottom:`${this.gap*e-this.usableSize/2}px`,left:0}:{left:`${this.gap*e-this.usableSize/2}px`,top:0},n=this.reverse?this.total-e:e,r=this.data?this.data[n]:this.spacing*n+this.min;this.piecewiseFilter&&!this.piecewiseFilter({index:n,label:r})||t.push({style:i,index:n,label:this.xformatter?this.formatting(r):r})}return t}},watch:{value(t){this.flag||this.setValue(t,!0)},max(t){if(t<this.min)return this.printError("The maximum value can not be less than the minimum value.");const e=this.limitValue(this.val);this.setValue(e),this.refresh()},min(t){if(t>this.max)return this.printError("The minimum value can not be greater than the maximum value.");const e=this.limitValue(this.val);this.setValue(e),this.refresh()},show(t){t&&!this.size&&this.$nextTick(()=>{this.refresh()})},fixed(){this.computedFixedValue()},minRange(){this.computedFixedValue()},reverse(){this.$refs.process.style.cssText="",this.refresh()}},mounted(){if(this.isComponentExists=!0,typeof window>"u"||typeof document>"u")return this.printError("window or document is undefined, can not be initialization.");this.$nextTick(()=>{this.isComponentExists&&(this.getStaticData(),this.setValue(this.limitValue(this.value),!0,this.startAnimation?this.speed:0),this.bindEvents(),this.isRange&&this.tooltipMerge&&!this.startAnimation&&this.$nextTick(()=>{this.handleOverlapTooltip()}))}),this.isMounted=!0},beforeDestroy(){this.isComponentExists=!1,this.unbindEvents()},methods:{bindEvents(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousedown",this.blurSlider),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup),window.addEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.addEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.addEventListener("transitionend",this.handleOverlapTooltip))},unbindEvents(){document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousedown",this.blurSlider),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd),document.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("keyup",this.handleKeyup),window.removeEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.removeEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.removeEventListener("transitionend",this.handleOverlapTooltip))},handleKeydown(t){if(!this.useKeyboard||!this.focusFlag)return!1;switch(t.keyCode){case 37:case 40:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[0]);break;case 38:case 39:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[1]);break}},handleKeyup(){this.keydownFlag&&(this.keydownFlag=!1,this.flag=!1)},changeFocusSlider(t){if(this.isRange){let e=this.currentIndex.map((i,n)=>{if(n===this.focusSlider||this.fixed){const r=t(i),a=this.fixed?this.valueLimit[n]:[0,this.total];if(r<=a[1]&&r>=a[0])return r}return i});e[0]>e[1]&&(this.focusSlider=this.focusSlider===0?1:0,e=e.reverse()),this.setIndex(e)}else this.setIndex(t(this.currentIndex))},blurSlider(t){const e=this.isRange?this.$refs[`dot${this.focusSlider}`]:this.$refs.dot;if(!e||e===t.target||e.contains(t.target))return!1;this.focusFlag=!1},formatting(t){return typeof this.xformatter=="string"?this.xformatter.replace(/\{value\}/u,t):this.xformatter(t)},mergeFormatting(t,e){return typeof this.mergeFormatter=="string"?this.mergeFormatter.replace(/\{(value1|value2)\}/gu,(i,n)=>n==="value1"?t:e):this.mergeFormatter(t,e)},getPos(t){this.realTime&&this.getStaticData();const e=this.$refs.elem.getBoundingClientRect();return this.direction==="vertical"?this.reverse?t.clientY-e.top:this.size-(t.clientY-e.top):this.reverse?this.size-(t.clientX-e.left):t.clientX-e.left},processClick(t){this.fixed&&t.stopPropagation()},wrapClick(t){if(this.isDisabled||!this.clickable||this.processFlag||this.dragFlag)return!1;const e=this.getPos(t);if(this.isRange){if(this.disabledArray.every(i=>i===!1))this.currentSlider=e>(this.position[1]-this.position[0])/2+this.position[0]?1:0;else if(this.disabledArray[0]){if(e<this.position[0])return!1;this.currentSlider=1}else if(this.disabledArray[1]){if(e>this.position[1])return!1;this.currentSlider=0}}if(this.disabledArray[this.currentSlider])return!1;if(this.setValueOnPos(e),this.isRange&&this.tooltipMerge){const i=setInterval(()=>this.handleOverlapTooltip(),16.7);setTimeout(()=>window.clearInterval(i),this.speed*1e3)}},moveStart(t,e=0,i){if(this.disabledArray[e])return!1;if(this.stopPropagation&&t.stopPropagation(),this.isRange){if(this.currentSlider=e,i){if(!this.processDraggable)return!1;this.processFlag=!0,this.processSign={pos:this.position,start:this.getPos(t.targetTouches&&t.targetTouches[0]?t.targetTouches[0]:t)}}!this.enableCross&&this.val[0]===this.val[1]&&(this.crossFlag=!0)}!i&&this.useKeyboard&&(this.focusFlag=!0,this.focusSlider=e),this.flag=!0,this.$emit("drag-start",this)},moving(t){if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;t.preventDefault(),t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.processFlag?(this.currentSlider=0,this.setValueOnPos(this.processSign.pos[0]+this.getPos(t)-this.processSign.start,!0),this.currentSlider=1,this.setValueOnPos(this.processSign.pos[1]+this.getPos(t)-this.processSign.start,!0)):(this.dragFlag=!0,this.setValueOnPos(this.getPos(t),!0)),this.isRange&&this.tooltipMerge&&this.handleOverlapTooltip()},moveEnd(t){if(this.stopPropagation&&t.stopPropagation(),this.flag)this.$emit("drag-end",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue();else return!1;this.flag=!1,window.setTimeout(()=>{this.crossFlag=!1,this.dragFlag=!1,this.processFlag=!1},0),this.setPosition()},setValueOnPos(t,e){const i=this.isRange?this.limit[this.currentSlider]:this.limit,n=this.isRange?this.valueLimit[this.currentSlider]:this.valueLimit,r=Math.round((t-this.dotAxialSizePx/2)/this.gap);if(t>=i[0]&&t<=i[1]){const a=this.getValueByIndex(r);this.setTransform(t),this.setCurrentValue(a,e),this.isRange&&(this.fixed||this.isLessRange(t,r))&&(this.setTransform(t+this.fixedValue*this.gap*(this.currentSlider===0?1:-1),!0),this.setCurrentValue((a*this.multiple+this.fixedValue*this.spacing*this.multiple*(this.currentSlider===0?1:-1))/this.multiple,e,!0))}else{const a=t<i[0]?0:1,s=a===0?1:0;this.setTransform(i[a]),this.setCurrentValue(n[a]),this.isRange&&(this.fixed||this.isLessRange(t,r))?(this.setTransform(this.limit[this.idleSlider][a],!0),this.setCurrentValue(this.valueLimit[this.idleSlider][a],e,!0)):this.isRange&&(this.enableCross||this.crossFlag)&&!this.isFixed&&!this.disabledArray[a]&&this.currentSlider===s&&(this.focusSlider=a,this.currentSlider=a)}this.crossFlag=!1},isLessRange(t,e){if(!this.isRange||!this.minRange&&!this.maxRange)return!1;const i=this.currentSlider===0?this.currentIndex[1]-e:e-this.currentIndex[0];return this.minRange&&i<=this.minRange?(this.fixedValue=this.minRange,!0):this.maxRange&&i>=this.maxRange?(this.fixedValue=this.maxRange,!0):(this.computedFixedValue(),!1)},isDiff(t,e){return Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)?!0:Array.isArray(t)&&t.length===e.length?t.some((i,n)=>i!==e[n]):t!==e},setCurrentValue(t,e,i){const n=i?this.idleSlider:this.currentSlider;if(t<this.minimum||t>this.maximum)return!1;this.isRange?this.isDiff(this.currentValue[n],t)&&(this.currentValue.splice(n,1,t),(!this.lazy||!this.flag)&&this.syncValue()):this.isDiff(this.currentValue,t)&&(this.currentValue=t,(!this.lazy||!this.flag)&&this.syncValue()),e||this.setPosition()},getValueByIndex(t){return(this.spacing*this.multiple*t+this.minimum*this.multiple)/this.multiple},getIndexByValue(t){return Math.round((t-this.minimum)*this.multiple)/(this.spacing*this.multiple)},setIndex(t){if(Array.isArray(t)&&this.isRange){let e;this.data?e=[this.data[t[0]],this.data[t[1]]]:e=[this.getValueByIndex(t[0]),this.getValueByIndex(t[1])],this.setValue(e)}else t=this.getValueByIndex(t),this.isRange&&(this.currentSlider=t>(this.currentValue[1]-this.currentValue[0])/2+this.currentValue[0]?1:0),this.setCurrentValue(t)},increment(t){if(this.boolDisabled)return;const e=this.getValue()+t*this.interval;e>this.max||e<this.min||this.setValue(e)},setValue(t,e,i){if(this.isDiff(this.val,t)){const n=this.limitValue(t);this.val=this.isRange?n.concat():n,this.computedFixedValue(),this.syncValue(e)}this.$nextTick(()=>this.setPosition(i))},computedFixedValue(){if(!this.isFixed)return this.fixedValue=0,!1;this.fixedValue=Math.max(this.fixed?this.currentIndex[1]-this.currentIndex[0]:0,this.minRange||0)},setPosition(t){this.flag||this.setTransitionTime(t===void 0?this.speed:t),this.isRange?(this.setTransform(this.position[0],this.currentSlider===1),this.setTransform(this.position[1],this.currentSlider===0)):this.setTransform(this.position),this.flag||this.setTransitionTime(0)},setTransform(t,e){const i=e?this.idleSlider:this.currentSlider,n=Tpe((this.direction==="vertical"?this.dotAxialSizePx/2-t:t-this.dotAxialSizePx/2)*(this.reverse?-1:1)),r=this.direction==="vertical"?`translate(-50%, ${n}px)`:`translate(${n}px, -50%)`,a=this.fixed?`${this.fixedValue*this.gap}px`:`${i===0?this.position[1]-t:t-this.position[0]}px`,s=this.fixed?`${i===0?t:t-this.fixedValue*this.gap}px`:`${i===0?t:this.position[0]}px`;this.slider[i].style.transform=r,this.slider[i].style.WebkitTransform=r,this.slider[i].style.msTransform=r,this.isRange?this.direction==="vertical"?(this.$refs.process.style.height=a,this.$refs.process.style[this.reverse?"top":"bottom"]=s):(this.$refs.process.style.width=a,this.$refs.process.style[this.reverse?"right":"left"]=s):this.direction==="vertical"?(this.$refs.process.style.height=`${t}px`,this.$refs.process.style[this.reverse?"top":"bottom"]=0):(this.$refs.process.style.width=`${t}px`,this.$refs.process.style[this.reverse?"right":"left"]=0)},setTransitionTime(t){t||this.$refs.process.offsetWidth;for(let e=0;e<this.slider.length;e++)this.slider[e].style.transitionDuration=`${t}s`,this.slider[e].style.WebkitTransitionDuration=`${t}s`;this.isRange?(this.$refs.process.style.transitionDuration=`${t}s`,this.$refs.process.style.WebkitTransitionDuration=`${t}s`):(this.$refs.process.style.transitionDuration=`${t}s`,this.$refs.process.style.WebkitTransitionDuration=`${t}s`)},limitValue(t){if(this.data)return t;const e=i=>i<this.min?(this.printError(`The value of the slider is ${t}, the minimum value is ${this.min}, the value of this slider can not be less than the minimum value`),this.min):i>this.max?(this.printError(`The value of the slider is ${t}, the maximum value is ${this.max}, the value of this slider can not be greater than the maximum value`),this.max):i;return this.isRange?t.map(i=>e(i)):e(t)},isActive(t){return t>=this.indexRange[0]&&t<=this.indexRange[1]},syncValue(t){const e=this.isRange?this.val.concat():this.val;this.$emit("input",e),this.keydownFlag&&this.$emit("on-keypress",e),t||this.$emit("callback",e)},getValue(){return this.val},getIndex(){return this.currentIndex},getStaticData(){this.$refs.elem&&(this.size=this.direction==="vertical"?this.$refs.elem.offsetHeight:this.$refs.elem.offsetWidth,this.dotAxialSizePx=this.direction==="vertical"?this.$refs.dot0.clientHeight:this.$refs.dot0.clientWidth)},refresh(){this.$refs.elem&&(this.getStaticData(),this.computedFixedValue(),this.setPosition(0))},printError(t){this.debug&&console.error(`[VueSlider error]: ${t}`)},handleOverlapTooltip(){const t=this.tooltipDirection[0]===this.tooltipDirection[1];if(this.isRange&&t){const e=this.reverse?this.$refs.tooltip1:this.$refs.tooltip0,i=this.reverse?this.$refs.tooltip0:this.$refs.tooltip1,n=e.getBoundingClientRect(),r=i.getBoundingClientRect(),a=n.right,s=r.left,o=n.top,c=r.top+r.height,d=this.direction==="horizontal"&&a>s,p=this.direction==="vertical"&&c>o;d||p?this.handleDisplayMergedTooltip(!0):this.handleDisplayMergedTooltip(!1)}},handleDisplayMergedTooltip(t){const e=this.$refs.tooltip0,i=this.$refs.tooltip1,n=this.$refs.process.getElementsByClassName("vue-merged-tooltip")[0];t?(e.style.visibility="hidden",i.style.visibility="hidden",n.style.visibility="visible"):(e.style.visibility="visible",i.style.visibility="visible",n.style.visibility="hidden")},dotContents(){return Notations.current.name==="Blind"||Theme.current().name==="S9"?"":this.valueInDot?Math.round(this.getValue()):""}}};var kpe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:["l-ad-slider",e.flowDirection,e.disabledClass,{"l-ad-slider--has-label":e.piecewiseLabel}]},[e.plusMinusButtons?i("PlusMinusButton",{attrs:{type:"minus"},on:{click:function(n){return e.increment(-1)}}}):e._e(),i("div",{ref:"wrap",class:["l-ad-slider__wrap",e.stateClass],style:[e.wrapStyles,e.boolDisabled?e.disabledStyle:null],on:{click:e.wrapClick}},[i("div",{ref:"elem",class:["l-ad-slider__bg","c-ad-slider__bg",e.bgClass],style:[e.elemStyles,e.bgStyle,e.draggableStyle],attrs:{"aria-hidden":"true"},on:{mousedown:function(n){return e.moveStart(n,0,!0)},touchstart:function(n){return e.moveStart(n,0,!0)}}},[e.isRange?[i("div",{key:"dot0",ref:"dot0",class:[e.tooltipStatus,"l-ad-slider__dot","c-ad-slider__dot",{"l-ad-slider__dot--focus":e.focusFlag&&e.focusSlider===0,"l-ad-slider__dot--dragging":e.flag&&e.currentSlider===0,"l-ad-slider__dot--disabled":!e.boolDisabled&&e.disabledArray[0]}],style:e.dotStyles,on:{mousedown:e.moveStart,touchstart:e.moveStart}},[i("div",{class:["l-ad-slider__dot-handle","c-ad-slider__dot-handle",e.dotClass],style:[!e.boolDisabled&&e.disabledArray[0]?e.disabledDotStyles[0]:null,e.sliderStyles[0],e.focusFlag&&e.focusSlider===0?e.focusStyles[0]:null]}),i("div",{ref:"tooltip0",class:["ad-slider-tooltip-"+e.tooltipDirection[0],"ad-slider-tooltip-wrap"]},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles[0]},[e._v(e._s(e.xformatter?e.formatting(e.val[0]):e.val[0]))])])]),i("div",{key:"dot1",ref:"dot1",class:[e.tooltipStatus,"l-ad-slider__dot","c-ad-slider__dot",{"l-ad-slider__dot--focus":e.focusFlag&&e.focusSlider===1,"l-ad-slider__dot--dragging":e.flag&&e.currentSlider===1,"l-ad-slider__dot--disabled":!e.boolDisabled&&e.disabledArray[1]}],style:e.dotStyles,on:{mousedown:function(n){return e.moveStart(n,1)},touchstart:function(n){return e.moveStart(n,1)}}},[i("div",{class:["l-ad-slider__dot-handle","c-ad-slider__dot-handle",e.dotClass],style:[!e.boolDisabled&&e.disabledArray[1]?e.disabledDotStyles[1]:null,e.sliderStyles[1],e.focusFlag&&e.focusSlider===1?e.focusStyles[1]:null]}),i("div",{ref:"tooltip1",class:["ad-slider-tooltip-"+e.tooltipDirection[1],"ad-slider-tooltip-wrap"]},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles[1]},[e._v(e._s(e.xformatter?e.formatting(e.val[1]):e.val[1]))])])])]:[i("div",{key:"dot0",ref:"dot0",class:[e.tooltipStatus,"l-ad-slider__dot","c-ad-slider__dot",{"l-ad-slider__dot--focus":e.focusFlag&&e.focusSlider===0,"l-ad-slider__dot--dragging":e.flag&&e.currentSlider===0}],style:e.dotStyles,on:{mousedown:e.moveStart,touchstart:e.moveStart}},[i("div",{class:["l-ad-slider__dot-handle","c-ad-slider__dot-handle",e.dotClass],style:[e.sliderStyles,e.focusFlag&&e.focusSlider===0?e.focusStyles:null]},[e._v(" "+e._s(e.dotContents(0))+" ")]),i("div",{class:["ad-slider-tooltip-"+e.tooltipDirection,"ad-slider-tooltip-wrap"]},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles},[e._v(e._s(e.xformatter?e.formatting(e.val):e.val))])])])],i("ul",{staticClass:"ad-slider-piecewise"},e._l(e.piecewiseDotWrap,function(n,r){return i("li",{key:r,staticClass:"ad-slider-piecewise-item",style:[e.piecewiseDotStyle,n.style]},[e.piecewise?i("span",{staticClass:"ad-slider-piecewise-dot",style:[e.piecewiseStyle,e.isActive(n.index)?e.piecewiseActiveStyle:null]}):e._e(),e.piecewiseLabel?i("span",{staticClass:"ad-slider-piecewise-label",style:[e.labelStyle,e.isActive(n.index)?e.labelActiveStyle:null]},[e._v(" "+e._s(n.label)+" ")]):e._e()])}),0),i("div",{ref:"process",class:["l-ad-slider__process","c-ad-slider__process",{"ad-slider-process-draggable":e.isRange&&e.processDraggable},e.processClass],style:[e.elemStyles,e.bgStyle,e.draggableStyle],on:{click:e.processClick}},[i("div",{ref:"mergedTooltip",class:["vue-merged-tooltip","ad-slider-tooltip-"+e.tooltipDirection[0],"ad-slider-tooltip-wrap"],style:e.tooltipMergedPosition},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles},[e._v(" "+e._s(e.tooltipFormatHelper)+" ")])])])],2)]),e.plusMinusButtons?i("PlusMinusButton",{attrs:{type:"plus"},on:{click:function(n){return e.increment(1)}}}):e._e()],1)},Spe=[],Ape=X(Cpe,kpe,Spe,!1,null,null);const cu=Ape.exports,xpe={name:"AnimationOptionsModal",components:{ModalOptionsToggleButton:Zm,ModalWrapperOptions:lu,SliderComponent:cu},data(){return{infinityUnlocked:!1,eternityUnlocked:!1,dilationUnlocked:!1,tachyonsUnlocked:!1,realityUnlocked:!1,animatedThemeUnlocked:!1,bigCrunch:!1,eternity:!1,dilation:!1,tachyonParticles:!1,reality:!1,background:!1,blobSnowflakes:16,isS11Active:!1,isBlackHoleUnlocked:!1,blobHole:!1,isS11Unlocked:!1}},computed:{sliderProps(){return{min:1,max:500,interval:1,width:"100%",tooltip:!1}},fullCompletion(){return player.records.fullGameCompletions>0}},watch:{bigCrunch(t){player.options.animations.bigCrunch=t},eternity(t){player.options.animations.eternity=t},dilation(t){player.options.animations.dilation=t},tachyonParticles(t){player.options.animations.tachyonParticles=t},reality(t){player.options.animations.reality=t},background(t){player.options.animations.background=t},blobSnowflakes(t){player.options.animations.blobSnowflakes=parseInt(t,10)},blobHole(t){player.options.animations.blobHole=t}},methods:{update(){const t=PlayerProgress.current;this.infinityUnlocked=this.fullCompletion||t.isInfinityUnlocked,this.eternityUnlocked=this.fullCompletion||t.isEternityUnlocked,this.realityUnlocked=this.fullCompletion||t.isRealityUnlocked,this.dilationUnlocked=this.realityUnlocked||Achievement(136).canBeApplied,this.tachyonsUnlocked=this.realityUnlocked||Currency.tachyonParticles.gt(0),this.animatedThemeUnlocked=Theme.animatedThemeUnlocked,this.isS11Active=Theme.currentName()==="S11",this.isS11Unlocked=Themes.available().map(i=>i.name).includes("S11"),this.isBlackHoleUnlocked=BlackHoles.areUnlocked;const e=player.options.animations;this.bigCrunch=e.bigCrunch,this.eternity=e.eternity,this.dilation=e.dilation,this.tachyonParticles=e.tachyonParticles,this.reality=e.reality,this.background=e.background,this.blobSnowflakes=e.blobSnowflakes,this.blobHole=e.blobHole},adjustSliderValue(t){this.blobSnowflakes=t,player.options.blobSnowflakes=this.blobSnowflakes}}};var Dpe=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Animation Options ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},[e.infinityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Big Crunch:"},model:{value:e.bigCrunch,callback:function(n){e.bigCrunch=n},expression:"bigCrunch"}}):e._e(),e.eternityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Eternity:"},model:{value:e.eternity,callback:function(n){e.eternity=n},expression:"eternity"}}):e._e(),e.dilationUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Dilation:"},model:{value:e.dilation,callback:function(n){e.dilation=n},expression:"dilation"}}):e._e(),e.tachyonsUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Tachyon particles:"},model:{value:e.tachyonParticles,callback:function(n){e.tachyonParticles=n},expression:"tachyonParticles"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Reality:"},model:{value:e.reality,callback:function(n){e.reality=n},expression:"reality"}}):e._e(),e.isS11Unlocked&&e.isBlackHoleUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Always use Blobhole:"},model:{value:e.blobHole,callback:function(n){e.blobHole=n},expression:"blobHole"}}):e._e(),e.isS11Active?i("div",[e.animatedThemeUnlocked?i("ModalOptionsToggleButton",{attrs:{onclick:"Themes.find(Theme.currentName()).set();",text:"Blobsnow:"},model:{value:e.background,callback:function(n){e.background=n},expression:"background"}}):e._e()],1):i("div",[e.animatedThemeUnlocked?i("ModalOptionsToggleButton",{attrs:{onclick:"Themes.find(Theme.currentName()).set();",text:"Background:"},model:{value:e.background,callback:function(n){e.background=n},expression:"background"}}):e._e()],1),e.isS11Active?i("div",{staticClass:"c-blobflake-slider o-primary-btn o-primary-btn--modal-option o-primary-btn--slider"},[i("b",[e._v(e._s(e.quantifyInt("Blobflake",parseInt(e.blobSnowflakes))))]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.blobSnowflakes},on:{input:function(n){return e.adjustSliderValue(n)}}},"SliderComponent",e.sliderProps,!1))],1):e._e()],1)])},Ipe=[],Rpe=X(xpe,Dpe,Ipe,!1,null,"b02b39ed");const Mpe=Rpe.exports,Ppe={name:"AwayProgressOptionsEntry",components:{ModalOptionsToggleButton:Zm},props:{name:{type:String,required:!0}},data(){return{setting:!1,isVisible:!1}},computed:{type(){return AwayProgressTypes.all[this.name]},text(){return`${this.type.formatName}:`}},watch:{setting(t){this.type.option=t}},methods:{update(){const t=this.type;this.setting=t.option,this.isVisible=t.isUnlocked()}}};var Ope=function(){var e=this,i=e._self._c;return e.isVisible?i("ModalOptionsToggleButton",{attrs:{text:e.text},model:{value:e.setting,callback:function(n){e.setting=n},expression:"setting"}}):e._e()},Npe=[],Gpe=X(Ppe,Ope,Npe,!1,null,null);const Upe=Gpe.exports,Lpe={name:"AwayProgressOptionsModal",components:{AwayProgressOptionsEntry:Upe,ModalWrapperOptions:lu},computed:{all(){return AwayProgressTypes.showOption}}};var Bpe=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"l-wrapper",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Away Progress Options ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},e._l(e.all,function(n){return i("AwayProgressOptionsEntry",{key:n,attrs:{name:n}})}),1),e._v(" Note: Selected resources will only show if they've increased. ")])},$pe=[],Fpe=X(Lpe,Bpe,$pe,!1,null,"e790f04e");const Hpe=Fpe.exports,Vpe={name:"BackupEntry",components:{PrimaryButton:mt},props:{slotData:{type:Object,required:!0}},data(){return{currTime:0}},computed:{save(){return GameStorage.loadFromBackup(this.slotData.id)},progressStr(){if(!this.save)return"(Empty)";const t=[this.save.celestials.pelle.realityShards,this.save.reality.iMCap,this.save.reality.realityMachines,this.save.eternityPoints,this.save.infinityPoints,this.save.antimatter],e=["Reality Shards","Imaginary Machine Cap","Reality Machines","Eternity Points","Infinity Points","Antimatter"];for(let i=0;i<t.length;i++){const n=new Decimal(t[i]);if(n.gt(0))return`${e[i]}: ${formatPostBreak(n,2)}`}return"No resources"},slotType(){var e,i;const t=(i=(e=this.slotData).intervalStr)==null?void 0:i.call(e);switch(this.slotData.type){case Ya.ONLINE:return`Saves every ${t} online`;case Ya.OFFLINE:return`Saves after ${t} offline`;case Ya.RESERVE:return"Pre-loading save";default:throw new Error("Unrecognized backup save type")}},lastSaved(){var e;const t=((e=GameStorage.lastBackupTimes[this.slotData.id])==null?void 0:e.date)??0;return t?`Last saved: ${TimeSpan.fromMilliseconds(this.currTime-t)} ago`:"Slot not currently in use"}},methods:{update(){this.currTime=Date.now()},load(){if(!this.save)return;Modal.hide();const t=this.save;GameStorage.saveToReserveSlot(),GameStorage.ignoreBackupTimer=!0,GameStorage.offlineEnabled=player.options.loadBackupWithoutOffline?!1:void 0,GameStorage.oldBackupTimer=player.backupTimer,GameStorage.loadPlayerObject(t),GameUI.notify.info(`Game loaded from backup slot #${this.slotData.id}`),GameStorage.loadBackupTimes(),GameStorage.ignoreBackupTimer=!1,GameStorage.offlineEnabled=void 0,GameStorage.resetBackupTimer(),GameStorage.save(!0)}}};var Ype=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-bordered-entry"},[i("h3",[e._v("Slot #"+e._s(e.slotData.id)+":")]),i("span",[e._v(e._s(e.progressStr))]),i("span",[e._v(" "+e._s(e.slotType)+" ")]),i("span",{staticClass:"c-fixed-height"},[e._v(e._s(e.lastSaved))]),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium",class:{"o-primary-btn--disabled":!e.save},on:{click:function(n){return e.load()}}},[e._v(" Load ")])],1)},qpe=[],Wpe=X(Vpe,Ype,qpe,!1,null,"72d3802e");const jpe=Wpe.exports,zpe={name:"BackupWindowModal",components:{ModalWrapper:ka,BackupEntry:jpe,PrimaryButton:mt},data(){return{nextSave:0,ignoreOffline:!1}},computed:{backupSlots:()=>Oh,deleteText:()=>"clearing your browser cookies"},watch:{ignoreOffline(t){player.options.loadBackupWithoutOffline=t}},methods:{update(){this.nextSave=Object.values(GameStorage.lastBackupTimes).map(t=>t&&t.backupTimer).sum(),this.ignoreOffline=player.options.loadBackupWithoutOffline},offlineOptionClass(){return{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":this.ignoreOffline}},toggleOffline(){this.ignoreOffline=!this.ignoreOffline},importAsFile(t){if(t.target.files.length===0)return;const e=new FileReader;e.onload=function(){GameStorage.importBackupsFromFile(e.result)},e.readAsText(t.target.files[0])}}};var Xpe=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Automatic Backup Saves ")]},proxy:!0}])},[i("div",{staticClass:"c-info c-modal--short"},[e._v(" The game makes automatic backups based on time you have spent online or offline. Timers for online backups only run when the game is open, and offline backups only save to the slot with the longest applicable timer. Additionally, your current save is saved into the last slot any time a backup from here is loaded. "),i("div",{staticClass:"c-modal__confirmation-toggle",on:{click:e.toggleOffline}},[i("div",{class:e.offlineOptionClass()},[e.ignoreOffline?i("span",{staticClass:"fas fa-check"}):e._e()]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Load with offline progress disabled ")])]),i("div",{staticClass:"c-entry-container"},e._l(e.backupSlots,function(n){return i("BackupEntry",{key:e.nextSave+n.id,staticClass:"l-backup-entry",attrs:{"slot-data":n}})}),1),e._v(" These backups are still stored in the same place as your game save and can still be lost if you do anything external to the game which would delete your save itself, such as "+e._s(e.deleteText)+". You can import/export all backups at once as files, using these buttons: "),i("div",{staticClass:"c-backup-file-ops"},[i("PrimaryButton",{staticClass:"o-btn-file-ops",attrs:{onclick:"GameStorage.exportBackupsAsFile()"}},[e._v(" Export as file ")]),i("PrimaryButton",{staticClass:"o-btn-file-ops"},[i("input",{staticClass:"c-file-import",attrs:{type:"file",accept:".txt"},on:{change:e.importAsFile}}),i("label",{attrs:{for:"file"}},[e._v("Import from file")])])],1),e._v(" Each of your three save slots has its own separate set of backups. ")])])},Kpe=[],Zpe=X(zpe,Xpe,Kpe,!1,null,"440dd19e");const Qpe=Zpe.exports,Jpe={name:"ConfirmationOptionsEntry",components:{ModalOptionsToggleButton:Zm},props:{index:{type:Number,required:!0}},data(){return{isUnlocked:!1,option:!1}},computed:{entry(){return ConfirmationTypes.index[this.index]},name(){return`${this.entry.name}:`},styleObject(){return{"background-color":this.option?"var(--color-good)":"var(--color-gh-purple)"}}},watch:{option(t){this.entry.option=t}},created(){this.option=this.entry.option},methods:{update(){const t=this.entry;this.isUnlocked=t.isUnlocked()}}};var eme=function(){var e=this,i=e._self._c;return e.isUnlocked?i("ModalOptionsToggleButton",{style:e.styleObject,attrs:{text:e.name},model:{value:e.option,callback:function(n){e.option=n},expression:"option"}}):e._e()},tme=[],ime=X(Jpe,eme,tme,!1,null,null);const nme=ime.exports,rme={name:"ConfirmationOptionsModal",components:{ModalWrapperOptions:lu,ConfirmationOptionsEntry:nme},computed:{count(){return ConfirmationTypes.index.length},noConfirmations(){return ConfirmationTypes.index.every(t=>!t.isUnlocked())}}};var ame=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Confirmation Options ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},[e.noConfirmations?i("span",[e._v(" You do not have anything that requires confirmation, but if you did it would appear here. ")]):e._e(),e._l(e.count,function(n){return i("ConfirmationOptionsEntry",{key:n,attrs:{index:n-1}})})],2)])},sme=[],ome=X(rme,ame,sme,!1,null,null);const lme=ome.exports,cme={name:"CosmeticSetDropdown",computed:{lockedSets(){return GlyphAppearanceHandler.lockedSets.map(t=>GameDatabase.reality.glyphCosmeticSets[t])}},methods:{select(t){GlyphAppearanceHandler.setInModal=t,this.$parent.openRequest=!1}}};var ume=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},e._l(e.lockedSets,function(n){return i("div",{key:n.id,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(r){return e.select(n)}}},[e._v(" "+e._s(n.name)+" ")])}),0)])},dme=[],hme=X(cme,ume,dme,!1,null,null);const fme=hme.exports,pme={name:"CosmeticSetChoiceModal",components:{ModalWrapperChoice:Ht,ExpandingControlBox:dc,CosmeticSetDropdown:fme,GlyphComponent:ou},data(){return{initialSet:"",currentSet:""}},computed:{lockedSets(){return GlyphAppearanceHandler.lockedSets},cosmeticTypes(){return CosmeticGlyphTypes.list.filter(t=>t.isCosmetic&&t.isUnlocked).map(t=>t.id)},setName(){var t;return((t=this.currentSet)==null?void 0:t.name)??"None Selected"},setContents(){const t=[];return this.symbols&&t.push(quantify("symbol",this.symbols.length,0,0,e=>e)),this.colors&&t.push(quantify("color scheme",this.colors.length,0,0,e=>e)),t.join(" and ")},symbols(){return this.currentSet.symbol},colors(){return this.currentSet.color},glyphIconProps(){return{size:"3rem","glow-blur":"0.3rem","glow-spread":"0.1rem","text-proportion":.66}}},created(){this.initialSet=GlyphAppearanceHandler.chosenFromModal,GlyphAppearanceHandler.setInModal=this.initialSet},methods:{update(){this.currentSet=GlyphAppearanceHandler.setInModal},chooseSet(){GlyphAppearanceHandler.chosenFromModal=this.currentSet},cancelSet(){GlyphAppearanceHandler.chosenFromModal=this.initialSet,this.emitClose()},fakeGlyph(t){return{type:"power",strength:1,color:t}}}};var mme=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"cancel-fn":e.cancelSet},on:{confirm:e.chooseSet},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Choose a Glyph Cosmetic Set ")]},proxy:!0}])},[i("div",{staticClass:"c-center"},[i("ExpandingControlBox",{staticClass:"o-primary-btn c-dropdown-btn",scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-dropdown-header"},[e._v(" ▼ Available Sets ▼ "),i("br"),e._v(" "+e._s(e.setName)+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("CosmeticSetDropdown")]},proxy:!0}])}),e.currentSet?i("div",[e._v(' The "'+e._s(e.currentSet.name)+'" Set contains the following '+e._s(e.setContents)+": "),i("br"),e._l(e.symbols,function(n){return i("span",{key:n,staticClass:"o-single-symbol"},[e._v(" "+e._s(n)+" ")])}),i("br"),e._l(e.colors,function(n){return i("span",{key:n,staticClass:"o-single-glyph"},[i("GlyphComponent",e._b({attrs:{glyph:e.fakeGlyph(n)}},"GlyphComponent",e.glyphIconProps,!1))],1)})],2):e._e()],1)])},yme=[],gme=X(pme,mme,yme,!1,null,"34186476");const vme=gme.exports,bme={name:"GlyphCustomizationSlidingWindow",props:{type:{type:String,required:!0},isSymbol:{type:Boolean,required:!0},options:{type:Array,required:!0},glyphId:{type:Number,required:!1,default:-1}},data(){return{isActive:!1,selected:"",leftmostIndex:0,realityColor:"",darkKeySwap:!1}},computed:{isSingleGlyph(){return this.glyphId!==-1},attrString(){return this.isSymbol?"symbol":"color"},typeObject(){return CosmeticGlyphTypes},defaultOption(){if(this.realityColor)return this.realityColor;const t=this.typeObject[this.type],e=`${this.isSingleGlyph?"current":"default"}${this.attrString.capitalize()}`;return this.isSymbol?t[e].symbol:t[e].border},canScroll(){return this.options.length>this.windowSize},windowSize(){return 17}},created(){this.updateSelected()},methods:{update(){if(this.isSingleGlyph){const t=Glyphs.findById(this.glyphId);this.isActive=!t.cosmetic}else this.isActive=player.reality.glyphs.cosmetics.active;this.type==="reality"&&!this.isSymbol&&(this.realityColor=GlyphAppearanceHandler.realityColor),this.darkKeySwap=player.options.glyphBG},select(t){if(!(!this.isSingleGlyph&&!this.isActive)){if(this.isSingleGlyph){const e=Glyphs.findById(this.glyphId);e[this.attrString]=t,this.active||(e.cosmetic=void 0)}else player.reality.glyphs.cosmetics[`${this.attrString}Map`][this.type]=t;this.updateSelected(),EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}},updateSelected(){if(this.isSingleGlyph){const t=Glyphs.findById(this.glyphId);this.selected=t[this.attrString]}else this.selected=this.isSymbol?this.typeObject[this.type].currentSymbol.symbol:this.typeObject[this.type].currentColor.str},containerClassObject(){return{"c-all-options":!0,"o-option--inactive":!this.isActive}},defaultOptionClassObject(){const t=this.isSingleGlyph?void 0:this.defaultOption;return{"o-symbol":this.isSymbol,"o-color":!this.isSymbol,"o-clickable":this.isActive,"o-option--inactive":this.isSymbol&&t!==this.selected}},optionClassObject(t){return{"o-symbol":this.isSymbol,"o-color":!this.isSymbol,"o-clickable":this.isActive,"o-option--inactive":this.isSymbol&&t!==this.selected}},boxStyle(t){if(this.isSymbol||!t)return{};const e=GlyphAppearanceHandler.getColorProps(t);return{background:e.bg,color:this.invertBW(e.bg),"box-shadow":`0 0 0.4rem 0.1rem ${e.border}`}},windowStyle(){return{transform:`translate(${2-2.5*this.leftmostIndex}rem)`,"transition-duration":"0.3s"}},leftClass(){return{"o-arrow o-arrow--left":!0,"o-arrow--disabled":this.leftmostIndex===0||!this.canScroll}},rightClass(){return{"o-arrow o-arrow--right":!0,"o-arrow--disabled":this.leftmostIndex===this.options.length-this.windowSize||!this.canScroll}},slideWindow(t){this.canScroll&&(this.leftmostIndex=Math.clamp(this.leftmostIndex+t,0,this.options.length-this.windowSize))},optionChar(t){return this.isSymbol?t:t===this.selected||!this.selected&&t===this.defaultOption?"✓":""},invertBW(t){return t==="black"?"white":"black"}}};var _me=function(){var e=this,i=e._self._c;return i("div",[e.options.length>0?i("div",{class:e.containerClassObject()},[i("div",{staticClass:"o-default-option"},[i("div",{key:"default"+e.darkKeySwap,class:e.defaultOptionClassObject(),style:e.boxStyle(e.defaultOption),on:{click:function(n){return e.select(void 0)}}},[e._v(" "+e._s(e.optionChar(e.defaultOption))+" ")])]),i("div",{staticClass:"c-extra-options"},[i("div",{class:e.leftClass(),on:{click:function(n){return e.slideWindow(-5)}}},[e._v(" ⇐ ")]),i("div",{class:e.rightClass(),on:{click:function(n){return e.slideWindow(5)}}},[e._v(" ⇒ ")]),i("div",{staticClass:"c-sliding-window",style:e.windowStyle()},e._l(e.options,function(n){return i("div",{key:n[0]+n[1]},[i("div",{staticClass:"c-single-set"},e._l(n,function(r){return i("div",{key:r,class:e.optionClassObject(r),style:e.boxStyle(r),on:{click:function(a){return e.select(r)}}},[e._v(" "+e._s(e.optionChar(r))+" ")])}),0)])}),0)])]):i("div",{staticClass:"c-no-options"},[e._v(" You have no custom options for changing Glyph "+e._s(e.attrString)+"s. ")])])},wme=[],Eme=X(bme,_me,wme,!1,null,"1a61af7a");const Tme=Eme.exports,Cme={name:"GlyphCustomizationSingleType",components:{GlyphCustomizationSlidingWindow:Tme},props:{type:{type:String,required:!0},glyphId:{type:Number,required:!1,default:-1}},computed:{name(){return this.type.capitalize()},symbols(){return GlyphAppearanceHandler.availableSymbols},colors(){return GlyphAppearanceHandler.availableColors}}};var kme=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-glyph-customization-entry"},[e.glyphId===-1?i("span",{staticClass:"c-name"},[e._v(" Appearance Options for "+e._s(e.name)+" Glyphs ")]):e._e(),e.type==="companion"?i("div",[e._v(" Companion Glyphs cannot have their symbol modified. ")]):i("GlyphCustomizationSlidingWindow",{attrs:{type:e.type,"is-symbol":!0,options:e.symbols,"glyph-id":e.glyphId}}),i("GlyphCustomizationSlidingWindow",{attrs:{type:e.type,"is-symbol":!1,options:e.colors,"glyph-id":e.glyphId}})],1)},Sme=[],Ame=X(Cme,kme,Sme,!1,null,"c4a4cd4e");const a3=Ame.exports,xme={name:"GlyphCustomization",components:{GlyphCustomizationSingleType:a3,PrimaryButton:mt,PrimaryToggleButton:ln,GlyphComponent:ou},data(){return{enabled:!1,defaultKeySwap:!1,selectedIndex:0}},computed:{cosmeticTypes(){const t=CosmeticGlyphTypes.list.filter(i=>i.canCustomize).map(i=>i.id).slice(5);return["power","infinity","replication","time","dilation"].concat(t)},glyphIconProps(){return{size:"2.5rem","glow-blur":"0.3rem","glow-spread":"0.1rem","text-proportion":.7}},hasCustomSets(){return GlyphAppearanceHandler.unlockedSets.length>0},hasSpecialTypes(){return GlyphAppearanceHandler.availableTypes.length>0}},watch:{enabled(t){player.reality.glyphs.cosmetics.active=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}},methods:{update(){this.enabled=player.reality.glyphs.cosmetics.active,this.defaultKeySwap=!0},resetAll(){const t=player.reality.glyphs.cosmetics;t.symbolMap={},t.colorMap={},this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},resetSingle(){const t=player.reality.glyphs.cosmetics,e=this.cosmeticTypes[this.selectedIndex];t.symbolMap[e]=void 0,t.colorMap[e]=void 0,this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},fakeGlyph(t){let e="power";return t==="reality"&&(e="reality"),t==="cursed"&&(e="cursed"),{type:e,strength:1,cosmetic:t}},typeClass(t){return{"c-single-type":!0,"o-disabled-cosmetics":!this.enabled,"c-type-current":this.selectedIndex===t,"c-type-other":this.selectedIndex!==t}},resetIndividual(){for(const t of Glyphs.allGlyphs)t.fixedCosmetic||(t.cosmetic=void 0);this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}}};var Dme=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-glyph-customization-group"},[i("b",[e._v("Custom Glyph Appearance")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{on:"Enabled",off:"Disabled"},model:{value:e.enabled,callback:function(n){e.enabled=n},expression:"enabled"}}),i("br"),e.hasCustomSets?i("div",[e._v(" Reset Appearances to Default: "),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",class:{"o-primary-btn--disabled":!e.enabled},on:{click:e.resetAll}},[e._v(" All Types ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",class:{"o-primary-btn--disabled":!e.enabled},on:{click:e.resetSingle}},[e._v(" This Type ")]),i("br"),i("i",[e._v("This will not reset any individually-modified Glyphs.")]),i("br"),i("br"),e._v(" Glyph Type: "),i("br"),i("div",{staticClass:"c-type-selection"},e._l(e.cosmeticTypes,function(n,r){return i("div",{key:n,class:e.typeClass(r),on:{click:function(a){e.selectedIndex=r}}},[i("GlyphComponent",e._b({directives:[{name:"tooltip",rawName:"v-tooltip",value:n.capitalize(),expression:"type.capitalize()"}],attrs:{glyph:e.fakeGlyph(n)}},"GlyphComponent",e.glyphIconProps,!1))],1)}),0),i("GlyphCustomizationSingleType",{key:e.selectedIndex+e.enabled+e.defaultKeySwap,attrs:{type:e.cosmeticTypes[e.selectedIndex]}}),e._v(" Note: Some options may cause very poor color contrast or readability on certain themes with certain Glyph types. ")],1):i("div",[e._v(" You currently have no available options for changing the default appearance of your Glyphs. To unlock some, visit the Shop Tab or beat the game. "),i("br"),i("br"),e.hasSpecialTypes?i("span",[e._v(" Enabling this setting will allow you to change individual Glyphs to special cosmetic types you have unlocked. ")]):i("span",[e._v(" Enabling or disabling this option will currently do nothing. ")])]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.resetIndividual}},[e._v(" Reset all individual Glyph cosmetics ")])],1)},Ime=[],Rme=X(xme,Dme,Ime,!1,null,"41369ecd");const Mme=Rme.exports,Pme={name:"GlyphDisplayOptionsModal",components:{ExpandingControlBox:dc,ModalOptionsToggleButton:Zm,ModalWrapperOptions:lu,SelectGlyphInfoDropdown:HJ,GlyphCustomization:Mme},data(){return{newGlyphs:!1,showUnequippedGlyphIcon:!1,glyphEffectDots:!1,glyphBG:0,glyphInfoType:0,showGlyphInfoByDefault:!1,glyphBorders:!1,highContrastRarity:!1,swapGlyphColors:!1}},computed:{infoLabel(){return pm.labels[this.glyphInfoType]},glyphBGStr(){switch(this.glyphBG){case GLYPH_BG_SETTING.AUTO:return"Auto";case GLYPH_BG_SETTING.LIGHT:return"Light";case GLYPH_BG_SETTING.DARK:return"Dark";default:throw new Error("Unrecognized Glyph BG setting")}}},watch:{newGlyphs(t){player.options.showNewGlyphIcon=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},showUnequippedGlyphIcon(t){player.options.showUnequippedGlyphIcon=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},glyphEffectDots(t){player.options.showHintText.glyphEffectDots=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},showGlyphInfoByDefault(t){player.options.showHintText.showGlyphInfoByDefault=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},glyphBorders(t){player.options.glyphBorders=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},highContrastRarity(t){player.options.highContrastRarity=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},swapGlyphColors(t){player.options.swapGlyphColors=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}},methods:{update(){const t=player.options;this.newGlyphs=t.showNewGlyphIcon,this.showUnequippedGlyphIcon=t.showUnequippedGlyphIcon,this.glyphEffectDots=t.showHintText.glyphEffectDots,this.glyphBG=player.options.glyphBG,this.glyphInfoType=t.showHintText.glyphInfoType,this.showGlyphInfoByDefault=t.showHintText.showGlyphInfoByDefault,this.glyphBorders=t.glyphBorders,this.highContrastRarity=t.highContrastRarity,this.swapGlyphColors=t.swapGlyphColors},noEffectStyle(){return this.glyphInfoType!==0?null:{"background-color":"var(--color-disabled)"}},cycleBG(){player.options.glyphBG=(player.options.glyphBG+1)%Object.keys(GLYPH_BG_SETTING).length,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}}};var Ome=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"c-modal-options__glyph",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Glyph Display Options ")]},proxy:!0}])},[i("div",{staticClass:"c-glyph-visual-options c-modal--short"},[i("div",{staticClass:"c-modal-options__button-container"},[i("ModalOptionsToggleButton",{attrs:{text:"New Glyph identifier:"},model:{value:e.newGlyphs,callback:function(n){e.newGlyphs=n},expression:"newGlyphs"}}),i("ModalOptionsToggleButton",{attrs:{text:"Unequipped Glyph identifier:"},model:{value:e.showUnequippedGlyphIcon,callback:function(n){e.showUnequippedGlyphIcon=n},expression:"showUnequippedGlyphIcon"}}),i("ModalOptionsToggleButton",{attrs:{text:"Always show Glyph effect dots:"},model:{value:e.glyphEffectDots,callback:function(n){e.glyphEffectDots=n},expression:"glyphEffectDots"}}),i("ModalOptionsToggleButton",{attrs:{text:"Fancy Glyph borders:"},model:{value:e.glyphBorders,callback:function(n){e.glyphBorders=n},expression:"glyphBorders"}}),i("button",{staticClass:"o-primary-btn o-primary-btn--modal-option",on:{click:function(n){return e.cycleBG()}}},[e._v(" Glyph BG color: "+e._s(e.glyphBGStr)+" ")]),i("ModalOptionsToggleButton",{style:e.noEffectStyle(),attrs:{text:"Always show Glyph Info:"},model:{value:e.showGlyphInfoByDefault,callback:function(n){e.showGlyphInfoByDefault=n},expression:"showGlyphInfoByDefault"}}),i("ModalOptionsToggleButton",{attrs:{text:"High-contrast rarity colors:"},model:{value:e.highContrastRarity,callback:function(n){e.highContrastRarity=n},expression:"highContrastRarity"}}),i("ModalOptionsToggleButton",{attrs:{text:"Swap border and symbol colors:"},model:{value:e.swapGlyphColors,callback:function(n){e.swapGlyphColors=n},expression:"swapGlyphColors"}}),i("ExpandingControlBox",{staticClass:"o-primary-btn c-dropdown-btn",scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-dropdown-header"},[e._v(" ▼ Additional Glyph Info: ▼ "),i("br"),e._v(" "+e._s(e.infoLabel)+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("SelectGlyphInfoDropdown")]},proxy:!0}])})],1),i("GlyphCustomization")],1)])},Nme=[],Gme=X(Pme,Ome,Nme,!1,null,"7b22458d");const Ume=Gme.exports,Lme={name:"HiddenSubtabsButton",props:{subtab:{type:Object,required:!0},tab:{type:Object,required:!0},changeEnabled:{type:Boolean,required:!0}},data(){return{hidable:!1,hidden:!1}},computed:{isCurrentSubtab(){return this.tab.id===Tabs.current.id&&this.subtab.id===Tabs.current._currentSubtab.id},classObject(){return{"c-hide-modal-tab-button":!0,"c-hide-modal-button--active":!this.hidden,"c-hide-modal-button--inactive":this.hidden,"c-hide-modal-button--always-visible":!this.hidable||this.isCurrentSubtab,[`c-hide-modal-tab-button--${this.tab.key}`]:!this.isCurrentSubtab}},isModernUI(){return this.$viewModel.newUI}},methods:{update(){this.hidable=this.subtab.hidable,this.hidden=this.subtab.isHidden&&this.hidable},toggleVisibility(){this.changeEnabled&&this.subtab.toggleVisibility()}}};var Bme=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.hidable?e.isCurrentSubtab?"You cannot hide the tab you are on":"":"Options tabs cannot be hidden",expression:"hidable ? isCurrentSubtab ? 'You cannot hide the tab you are on' : '' : 'Options tabs cannot be hidden'"}],class:e.classObject,on:{click:e.toggleVisibility}},[i("div",{staticClass:"l-hide-modal-button"},[e.isModernUI?i("div",{staticClass:"l-hide-modal-button__subtab-icon",domProps:{innerHTML:e._s(e.subtab.symbol)}}):e._e(),i("div",{staticClass:"l-hide-modal-button__subtab-name"},[e._v(" "+e._s(e.subtab.name)+" ")])])])},$me=[],Fme=X(Lme,Bme,$me,!1,null,"20575b99");const Hme=Fme.exports,Vme={name:"HiddenTabGroup",components:{HiddenSubtabsButton:Hme},props:{tab:{type:Object,required:!0},changeEnabled:{type:Boolean,required:!0}},data(){return{isVisible:!1,isHidable:!1,isHidden:!1,unlockedSubtabs:[]}},computed:{tabName(){return this.tab.name},subtabs(){return this.tab.subtabs},isCurrentTab(){return this.tab.id===Tabs.current.id},alwaysVisible(){return!this.isHidable||this.isCurrentTab},rowClass(){return{"c-hide-modal-all-subtab-container":!0,"l-hide-modal-subtab-container":!0,"c-hidden-tabs-background__visible":!this.isHidden,"c-hidden-tabs-background__hidden":this.isHidden,"c-hidden-tabs-background__always-visible":this.alwaysVisible}},rowVisibleIndicatorClass(){return{"c-indicator-icon":!0,fas:!0,"fa-check":!this.isHidden,"fa-times":this.isHidden,"fa-exclamation":this.alwaysVisible}},rowVisibleIndicatorTooltip(){return this.isHidden?"Click to unhide tab":this.alwaysVisible?"This tab cannot be hidden":"Click to hide tab"}},methods:{update(){const t=this.tab;this.isVisible=t.isUnlocked,this.isHidable=t.hidable,this.isHidden=t.isHidden&&this.isHidable,this.unlockedSubtabs=this.subtabs.filter(e=>e.isUnlocked)},toggleVisibility(){if(this.changeEnabled)if(this.tab.isHidden&&this.unlockedSubtabs.every(t=>t.isHidden)){for(const t of this.unlockedSubtabs)t.toggleVisibility();this.tab.unhideTab()}else this.tab.toggleVisibility()}}};var Yme=function(){var e=this,i=e._self._c;return e.isVisible?i("div",{class:e.rowClass,on:{click:function(n){return n.target!==n.currentTarget?null:e.toggleVisibility.apply(null,arguments)}}},[e._l(e.unlockedSubtabs,function(n,r){return i("HiddenSubtabsButton",{key:r,attrs:{subtab:n,tab:e.tab,"change-enabled":e.changeEnabled}})}),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.rowVisibleIndicatorTooltip,expression:"rowVisibleIndicatorTooltip"}],class:e.rowVisibleIndicatorClass,on:{click:e.toggleVisibility}})],2):e._e()},qme=[],Wme=X(Vme,Yme,qme,!1,null,"96b0e91b");const jme=Wme.exports,zme={name:"HiddenTabsModal",components:{HiddenTabGroup:jme,ModalWrapperOptions:lu,PrimaryButton:mt},data(){return{isEnslaved:!1,isAlmostEnd:!1}},computed:{tabs:()=>Tabs.currentUIFormat},methods:{update(){this.isEnslaved=Enslaved.isRunning,this.isAlmostEnd=Pelle.hasGalaxyGenerator},showAllTabs(){for(const t of this.tabs){t.unhideTab();for(const e of t.subtabs)e.unhideTab()}}}};var Xme=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"l-wrapper",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Modify Visible Tabs ")]},proxy:!0}])},[i("div",{staticClass:"c-modal--short"},[e._v(" Click a button to toggle showing a tab on/off. "),i("br"),e._v(" Some tabs cannot be hidden, and you cannot hide your current tab. "),i("br"),e._v(" Unhiding a tab in which all subtabs are hidden will also unhide all subtabs, and hiding all subtabs will also hide the tab. "),i("br"),e.isAlmostEnd?i("div",[e._v(" You cannot hide your tabs after unlocking the Galaxy Generator. ")]):e._e(),e.isEnslaved?i("div",[i("br"),i("i",[e._v("You must... see everywhere...")]),i("br"),e._v(" (You cannot hide your tabs within this Reality) ")]):e._e(),i("PrimaryButton",{on:{click:e.showAllTabs}},[e._v(" Show all tabs ")]),e._l(e.tabs,function(n,r){return i("HiddenTabGroup",{key:r,staticClass:"l-hide-modal-tab-container",attrs:{tab:n,"change-enabled":!e.isEnslaved&&!e.isAlmostEnd}})})],2)])},Kme=[],Zme=X(zme,Xme,Kme,!1,null,"c64a42ef");const Qme=Zme.exports,Jme={name:"HotkeysModal",components:{ModalWrapper:ka},data(){return{updateIndicies:[],visible:[],timeStudyUnlocked:!1,glyphSacUnlocked:!1,isElectron:!1}},computed:{moreShiftKeyInfo(){const t=[];this.timeStudyUnlocked&&(t.push("while buying Time Studies to buy all up until that point"),t.push("to save Time Study Trees")),this.glyphSacUnlocked&&t.push("to purge Glyphs");const e=makeEnumeration(t);return e===""?"":`You can hold Shift ${e}.`},hotkeyCount(){return shortcuts.length},shortcutNames(){return shortcuts.map(t=>t.name)},shortcutKeys(){return shortcuts.map(t=>t.keys.map(e=>this.format(e)))}},created(){for(let t=0;t<this.hotkeyCount;t++){const e=shortcuts[t].visible;typeof e=="function"?this.updateIndicies.push(t):this.visible[t]=e}},methods:{update(){for(const e of this.updateIndicies)this.$set(this.visible,e,shortcuts[e].visible());const t=PlayerProgress.current;this.timeStudyUnlocked=t.isEternityUnlocked,this.glyphSacUnlocked=RealityUpgrade(19).isBought;try{this.isElectron=ElectronRuntime.isActive}catch{this.isElectron=!1}},format(t){switch(t){case"mod":return"CTRL/⌘";default:return t.toUpperCase()}}}};var eye=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Hotkey List ")]},proxy:!0}])},[i("span",{staticClass:"c-modal-hotkeys l-modal-hotkeys"},[i("div",{staticClass:"l-modal-hotkeys__column"},[i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Buy 1 Dimension")]),i("kbd",[e._v("SHIFT")]),i("kbd",[e._v("1")]),e._v("-"),i("kbd",[e._v("SHIFT")]),i("kbd",[e._v("8")])]),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Buy 10 Dimensions")]),i("kbd",[e._v("1")]),e._v("-"),i("kbd",[e._v("8")])]),e._l(e.hotkeyCount,function(n){return i("div",{key:n},[e.visible[n-1]?i("span",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v(e._s(e.shortcutNames[n-1]))]),e._l(e.shortcutKeys[n-1],function(r,a){return i("kbd",{key:a},[e._v(" "+e._s(r)+" ")])})],2):e._e()])})],2),i("div",{staticClass:"l-modal-hotkeys__column l-modal-hotkeys__column--right"},[i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Modifier Key")]),i("kbd",[e._v("SHIFT")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Shift is a modifier key that shows additional information on certain things and adjusts the function of certain buttons. "),i("br"),e._v(" "+e._s(e.moreShiftKeyInfo)+" ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Autobuyer Controls")]),i("kbd",[e._v("ALT")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Alt is a modifier key that, when pressed in conjunction with any key that has a corresponding autobuyer, will toggle said autobuyer. "),i("br"),e._v(" When pressing both Alt and Shift, you can toggle buying singles or buying max for the Antimatter Dimension and Tickspeed Autobuyers instead. ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Tab Movement")]),i("div",[i("kbd",[e._v("←")]),i("kbd",[e._v("↓")]),i("kbd",[e._v("↑")]),i("kbd",[e._v("→")])])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Using the Arrow Keys will cycle you through the game's pages. The Up and Down arrows cycle you through tabs, and the Left and Right arrows cycle you through that tab's subtabs. ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Numpad Support")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Due to technical reasons, pressing a numpad key will purchase 10 of a Dimension if possible, but pressing a numpad key with "),i("kbd",[e._v("SHIFT")]),e._v(" will not buy a single Dimension. It may instead, depending on your device, cause the page to scroll or change game tabs. "),i("kbd",[e._v("ALT")]),e._v(" will still work as expected. ")]),e.isElectron?[i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Window Zoom")]),i("kbd",[e._v("-")]),i("kbd",[e._v("0")]),i("kbd",[e._v("+")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" To adjust zoom level, hold "),i("kbd",[e._v("ctrl")]),e._v(" and press either "),i("kbd",[e._v("-")]),e._v(" or "),i("kbd",[e._v("+")]),e._v(" to decrease or increase zoom. "),i("kbd",[e._v("ctrl")]),i("kbd",[e._v("0")]),e._v(" will reset zoom to 100%. ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Fullscreen")]),i("kbd",[e._v("F10")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" To enter or exit fullscreen, press "),i("kbd",[e._v("F10")]),e._v(". ")])]:e._e()],2)])])},tye=[],iye=X(Jme,eye,tye,!1,null,"65010ad3");const nye=iye.exports,rye={name:"InfoDisplayOptionsModal",components:{ModalOptionsToggleButton:Zm,ModalWrapperOptions:lu},data(){return{infinityUnlocked:!1,eternityUnlocked:!1,realityUnlocked:!1,alchemyUnlocked:!1,showPercentage:!1,achievements:!1,achievementUnlockStates:!1,challenges:!1,studies:!1,glyphEffectDots:!1,realityUpgrades:!1,perks:!1,alchemy:!1}},computed:{fullCompletion(){return player.records.fullGameCompletions>0}},watch:{showPercentage(t){player.options.showHintText.showPercentage=t},achievements(t){player.options.showHintText.achievements=t},achievementUnlockStates(t){player.options.showHintText.achievementUnlockStates=t},challenges(t){player.options.showHintText.challenges=t},studies(t){player.options.showHintText.studies=t},glyphEffectDots(t){player.options.showHintText.glyphEffectDots=t},realityUpgrades(t){player.options.showHintText.realityUpgrades=t},perks(t){player.options.showHintText.perks=t},alchemy(t){player.options.showHintText.alchemy=t}},methods:{update(){const t=PlayerProgress.current;this.infinityUnlocked=this.fullCompletion||t.isInfinityUnlocked,this.eternityUnlocked=this.fullCompletion||t.isEternityUnlocked,this.realityUnlocked=this.fullCompletion||t.isRealityUnlocked,this.alchemyUnlocked=this.fullCompletion||Ra.unlocks.effarigUnlock.canBeApplied;const e=player.options.showHintText;this.showPercentage=e.showPercentage,this.achievements=e.achievements,this.achievementUnlockStates=e.achievementUnlockStates,this.challenges=e.challenges,this.studies=e.studies,this.glyphEffectDots=e.glyphEffectDots,this.realityUpgrades=e.realityUpgrades,this.perks=e.perks,this.alchemy=e.alchemy}}};var aye=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Info Display Options ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},[i("ModalOptionsToggleButton",{attrs:{text:"Show % gain:"},model:{value:e.showPercentage,callback:function(n){e.showPercentage=n},expression:"showPercentage"}}),i("ModalOptionsToggleButton",{attrs:{text:"Achievement IDs:"},model:{value:e.achievements,callback:function(n){e.achievements=n},expression:"achievements"}}),i("ModalOptionsToggleButton",{attrs:{text:"Achievement unlock state indicators:"},model:{value:e.achievementUnlockStates,callback:function(n){e.achievementUnlockStates=n},expression:"achievementUnlockStates"}}),e.infinityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Challenge IDs:"},model:{value:e.challenges,callback:function(n){e.challenges=n},expression:"challenges"}}):e._e(),e.eternityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Time Study IDs:"},model:{value:e.studies,callback:function(n){e.studies=n},expression:"studies"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Glyph effect dots:"},model:{value:e.glyphEffectDots,callback:function(n){e.glyphEffectDots=n},expression:"glyphEffectDots"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Reality Upgrade names:"},model:{value:e.realityUpgrades,callback:function(n){e.realityUpgrades=n},expression:"realityUpgrades"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Perk IDs:"},model:{value:e.perks,callback:function(n){e.perks=n},expression:"perks"}}):e._e(),e.alchemyUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Alchemy resource amounts:"},model:{value:e.alchemy,callback:function(n){e.alchemy=n},expression:"alchemy"}}):e._e()],1),e._v(" Note: All types of additional info above will always display when holding shift. ")])},sye=[],oye=X(rye,aye,sye,!1,null,null);const lye=oye.exports,cye={name:"NewsOptionsModal",components:{ModalOptionsToggleButton:Zm,ModalWrapperOptions:lu,PrimaryButton:mt,SliderComponent:cu},data(){return{enabled:!1,repeatBuffer:40,AIChance:0,speed:1,includeAnimated:!1}},computed:{newsOnOffLabel(){return`News: ${this.enabled?"On":"Off"}`},sliderPropsRepeatBuffer(){return{min:0,max:80,interval:1,width:"98%",tooltip:!1}},sliderPropsAIChance(){return{min:0,max:1,interval:.01,width:"98%",tooltip:!1}},sliderPropsSpeed(){return{min:.5,max:10,interval:.01,width:"98%",tooltip:!1}}},watch:{type(t){player.options.news.type=t},repeatBuffer(t){player.options.news.repeatBuffer=parseInt(t,10)},AIChance(t){player.options.news.AIChance=parseFloat(t,10)},speed(t){player.options.news.speed=parseFloat(t,10)},includeAnimated(t){player.options.news.includeAnimated=t}},methods:{update(){const t=player.options.news;this.enabled=t.enabled,this.repeatBuffer=t.repeatBuffer,this.AIChance=t.AIChance,this.speed=t.speed,this.includeAnimated=t.includeAnimated},adjustSliderValueRepeatBuffer(t){this.repeatBuffer=t,player.options.repeatBuffer=this.repeatBuffer},adjustSliderValueAIChance(t){this.AIChance=t,player.options.AIChance=this.AIChance},adjustSliderValueSpeed(t){this.speed=t,player.options.speed=this.speed}}};var uye=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" News Options ")]},proxy:!0}])},[i("PrimaryButton",{staticClass:"o-primary-btn o-primary-btn--option-wide",attrs:{onclick:"GameOptions.toggleNews()"}},[e._v(" "+e._s(e.newsOnOffLabel)+" ")]),i("div",{staticClass:"o-primary-btn o-primary-btn--option-wide o-primary-btn--slider"},[i("b",[e._v(e._s(e.formatInt(parseInt(e.repeatBuffer)))+" message repeat buffer")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.repeatBuffer},on:{input:function(n){return e.adjustSliderValueRepeatBuffer(n)}}},"SliderComponent",e.sliderPropsRepeatBuffer,!1))],1),i("div",{staticClass:"o-primary-btn o-primary-btn--option-wide o-primary-btn--slider"},[i("b",[e._v(e._s(e.formatPercents(parseFloat(e.AIChance)))+" AI messages")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.AIChance},on:{input:function(n){return e.adjustSliderValueAIChance(n)}}},"SliderComponent",e.sliderPropsAIChance,!1))],1),i("div",{staticClass:"o-primary-btn o-primary-btn--option-wide o-primary-btn--slider"},[i("b",[e._v(e._s(e.formatPercents(parseFloat(e.speed)))+" scroll speed")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.speed},on:{input:function(n){return e.adjustSliderValueSpeed(n)}}},"SliderComponent",e.sliderPropsSpeed,!1))],1),i("ModalOptionsToggleButton",{staticClass:"o-primary-btn o-primary-btn--option-wide",attrs:{text:"Animation Effects:"},model:{value:e.includeAnimated,callback:function(n){e.includeAnimated=n},expression:"includeAnimated"}})],1)},dye=[],hye=X(cye,uye,dye,!1,null,null);const fye=hye.exports,pye={name:"NotationModal",components:{ModalWrapper:ka,SliderComponent:cu},data(){return{commaDigits:0,notationDigits:0}},computed:{sampleNums(){const t="1234567890123456",e=[];for(let i=4;i<17;i++)e.push(Decimal.pow10(t.substring(0,i)));return e},sliderProps(){return{min:3,max:16,interval:1,width:"100%",tooltip:!1}}},watch:{commaDigits(t){player.options.notationDigits.comma=t,Es.exponentCommas.min=10**t},notationDigits(t){player.options.notationDigits.notation=t,Es.exponentCommas.max=10**t}},created(){const t=player.options.notationDigits;this.commaDigits=t.comma,this.notationDigits=t.notation},methods:{update(){const t=player.options.notationDigits;this.commaDigits=t.comma,this.notationDigits=t.notation},adjustSliderComma(t){this.commaDigits=t,player.options.notationDigits.comma=t,t>this.notationDigits&&this.adjustSliderNotation(t)},adjustSliderNotation(t){this.notationDigits=t,player.options.notationDigits.notation=t,t<this.commaDigits&&this.adjustSliderComma(t)}}};var mye=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Exponent Notation Settings ")]},proxy:!0}])},[e._v(" You can adjust what your numbers look like when very large. With small values, the exponent will be directly displayed with no additional formatting. Larger values will have commas inserted into the exponent for clarity, and the largest values will apply notation formatting to the exponent in order to shorten it. You can adjust the two thresholds between these regions below: "),i("br"),i("br"),i("div",{staticClass:"c-single-slider"},[i("b",{staticClass:"o-digit-text"},[e._v("Minimum for commas in exponent: "+e._s(e.formatInt(e.commaDigits))+" digits")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider o-slider",attrs:{value:e.commaDigits},on:{input:function(n){return e.adjustSliderComma(n)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"c-single-slider"},[i("b",{staticClass:"o-digit-text"},[e._v("Minimum for notation in exponent: "+e._s(e.formatInt(e.notationDigits))+" digits")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider o-slider",attrs:{value:e.notationDigits},on:{input:function(n){return e.adjustSliderNotation(n)}}},"SliderComponent",e.sliderProps,!1))],1),i("br"),e._v(" Sample numbers for exponent formatting: "),i("div",{staticClass:"c-sample-numbers"},e._l(e.sampleNums,function(n,r){return i("span",{key:r,staticClass:"o-single-number"},[e._v(" "+e._s(e.formatPostBreak(n))+" ")])}),0),i("br"),e._v(" Note: The interface is generally optimized for Scientific notation with settings of "+e._s(e.formatInt(5))+" and "+e._s(e.formatInt(9))+" digits. Some text may look odd or overflow out of boxes if you differ significantly from these values. Additionally, these settings might not cause any visual changes when using certain notations. ")])},yye=[],gye=X(pye,mye,yye,!1,null,"ca1ba62b");const vye=gye.exports,bye={name:"PreferredTreeModal",components:{ModalWrapperChoice:Ht},data(){return{dimensionPath:null,pacePath:null}},computed:{dimensionOptions(){return{Antimatter:TIME_STUDY_PATH.ANTIMATTER_DIM,Infinity:TIME_STUDY_PATH.INFINITY_DIM,Time:TIME_STUDY_PATH.TIME_DIM}},paceOptions(){return{Active:TIME_STUDY_PATH.ACTIVE,Passive:TIME_STUDY_PATH.PASSIVE,Idle:TIME_STUDY_PATH.IDLE}},usePriority(){return TimeStudy.preferredPaths.dimension.usePriority}},created(){this.dimensionPath=[...TimeStudy.preferredPaths.dimension.path],this.pacePath=TimeStudy.preferredPaths.pace.path},methods:{isPreferred(t){return this.paceOptions[t]===this.pacePath||this.dimensionPath.indexOf(this.dimensionOptions[t])+1},select(t){this.dimensionOptions[t]&&((!this.usePriority||this.dimensionPath.length>1)&&this.dimensionPath.shift(),this.dimensionPath.includes(this.dimensionOptions[t])||this.dimensionPath.push(this.dimensionOptions[t])),this.paceOptions[t]&&(this.pacePath=this.paceOptions[t])},confirmPrefs(){TimeStudy.preferredPaths.dimension.path=this.dimensionPath,TimeStudy.preferredPaths.pace.path=this.pacePath},classList(t){const e=this.isPreferred(t);return["o-time-study-selection-btn",`o-time-study-${{Antimatter:"antimatter-dim",Infinity:"infinity-dim",Time:"time-dim",Active:"active",Passive:"passive",Idle:"idle"}[t]}--${e?"bought":"available"}`,`o-time-study--${e?"bought":"available"}`]}}};var _ye=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.confirmPrefs}},[i("h2",[e._v("Dimension Split Preference")]),i("div",{staticClass:"l-modal-split-preferences"},e._l(e.dimensionOptions,function(n,r){return i("button",{key:r,class:e.classList(r),on:{click:function(a){return e.select(r)}}},[e.isPreferred(r)?i("div",{staticClass:"l-dim-path-priority o-dim-path-priority"},[e._v(" "+e._s(e.isPreferred(r))+" ")]):e._e(),i("div",[e._v(" "+e._s(r)+" ")])])}),0),i("br"),i("h2",[e._v("Pace Split Preference")]),i("div",{staticClass:"l-modal-split-preferences"},e._l(e.paceOptions,function(n,r){return i("button",{key:r,class:e.classList(r),on:{click:function(a){return e.select(r)}}},[i("div",[e._v(" "+e._s(r)+" ")])])}),0)])},wye=[],Eye=X(bye,_ye,wye,!1,null,null);const Tye=Eye.exports,Cye={name:"SingleGlyphAppearanceModal",components:{ModalWrapperOptions:lu,GlyphCustomizationSingleType:a3,PrimaryButton:mt},props:{glyphId:{type:Number,required:!0}},data(){return{defaultKeySwap:!1}},computed:{glyphType(){return Glyphs.findById(this.glyphId).type},cosmeticTypes(){return GlyphAppearanceHandler.availableTypes},glyph(){return Glyphs.findById(this.glyphId)}},created(){EventHub.logic.on(GAME_EVENT.GLYPH_VISUAL_CHANGE,()=>{this.$recompute("glyph"),this.defaultKeySwap||this.emitClose()})},methods:{update(){this.defaultKeySwap=!0},setType(t){t&&this.glyph.fixedCosmetic||(this.glyph.color=void 0,this.glyph.symbol=void 0,this.glyph.fixedCosmetic?this.glyph.cosmetic=this.glyph.fixedCosmetic:this.glyph.cosmetic=t,this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))},cosmeticTypeClass(t){return{"o-primary-btn--subtab-option":!0,"o-active-type":t===this.glyph.cosmetic}}}};var kye=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Modifying Single Glyph Appearance ")]},proxy:!0}])},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(n){return e.setType(void 0)}}},[e._v(" Reset this Glyph's appearance ")]),i("GlyphCustomizationSingleType",{key:e.defaultKeySwap,attrs:{type:e.glyphType,"glyph-id":e.glyphId}}),e.cosmeticTypes&&e.glyph.fixedCosmetic?i("div",[e._v(" This Glyph's Cosmetic Type cannot be changed! ")]):e.cosmeticTypes?i("div",{staticClass:"c-special-type"},[e._v(" Apply Special Cosmetic Type: "),e._l(e.cosmeticTypes,function(n){return i("PrimaryButton",{key:n,class:e.cosmeticTypeClass(n),on:{click:function(r){return e.setType(n)}}},[e._v(" "+e._s(n.capitalize())+" ")])})],2):e._e()],1)},Sye=[],Aye=X(Cye,kye,Sye,!1,null,"1bb2fab0");const xye=Aye.exports,Dye={name:"DeleteCompanionGlyphModal",components:{PrimaryButton:mt},data(){return{messageIndex:0}},computed:{message(){switch(this.messageIndex){case 0:return"Are you sure you want to get rid of your Companion Glyph?";case 1:return"You will not receive any cake.";case 2:return"This is permanent! You will not get another Companion Glyph!";case 3:return`You deleted your faithful Companion Glyph more quickly than any
                        other test subject on record. Congratulations.`;default:return"Invalid message index"}}},methods:{handleLeftButtonClick(){this.messageIndex<2?this.handleYesClick():this.handleNoClick()},handleRightButtonClick(){this.messageIndex>=2?this.handleYesClick():this.handleNoClick()},handleYesClick(){this.messageIndex++,this.messageIndex===3&&this.deleteCompanion()},handleNoClick(){this.messageIndex=0,this.emitClose()},deleteCompanion(){const t=player.reality.glyphs.inventory.filter(e=>e.type==="companion")[0];Glyphs.removeFromInventory(t)}}};var Iye=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal-message l-modal-content--centered"},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),e.messageIndex<3?i("div",[i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:e.handleLeftButtonClick}},[e._v(" "+e._s(e.messageIndex<2?"Delete":"Cancel")+" ")]),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:e.handleRightButtonClick}},[e._v(" "+e._s(e.messageIndex>=2?"Delete":"Cancel")+" ")])],1):i("div",[i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:e.handleNoClick}},[e._v(" Thank you ")])],1)])},Rye=[],Mye=X(Dye,Iye,Rye,!1,null,null);const Pye=Mye.exports,Oye={name:"DeleteGlyphModal",components:{ModalWrapperChoice:Ht},props:{idx:{type:Number,required:!0}},data(){return{confirmedDelete:!1}},computed:{glyph(){return Glyphs.findByInventoryIndex(this.idx)}},methods:{update(){const t=Glyphs.findByInventoryIndex(this.idx);this.glyph!==t&&!this.confirmedDelete&&(this.emitClose(),Modal.message.show("The selected Glyph changed position or was otherwise changed!"))},handleYesClick(){this.confirmedDelete=!0,Glyphs.removeFromInventory(this.glyph)}}};var Nye=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to delete a Glyph ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Deleting a Glyph will remove the Glyph from your inventory! "),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" There is no benefit in deleting a Glyph before you have unlocked Glyph Sacrifice! ")])])])},Gye=[],Uye=X(Oye,Nye,Gye,!1,null,null);const Lye=Uye.exports,Bye={name:"PurgeAllRejectedGlyphsModal",components:{ModalWrapperChoice:Ht},data(){return{isRefining:!1}},computed:{refiningOrSacrificing(){return this.isRefining?"Refine":"Sacrifice"},topLabel(){return`You are about to ${this.refiningOrSacrificing} all rejected Glyphs`},message(){const t=AutoGlyphProcessor.hasNegativeEffectScore()?` Note that some of your Effect Filter scores are negative, which may cause you to lose some Glyphs
          you normally want to keep.`:"";return`Are you sure you want to ${this.refiningOrSacrificing} all rejected Glyphs? This will remove
        all Glyphs that would be rejected by your current Glyph Filter settings.${t}`},extraMessage(){return this.glyphsDeleted===0?"This will remove no Glyphs.":this.glyphsDeleted===this.glyphsTotal?"This will remove all your Glyphs.":`This process will remove ${this.glyphsDeleted}/${this.glyphsTotal} Glyphs.`},glyphsTotal(){return Glyphs.inventory.filter(t=>t!==null).length},glyphsDeleted(){return Glyphs.deleteAllRejected(!1)}},methods:{update(){this.isRefining=GlyphSacrificeHandler.isRefining},handleYesClick(){Glyphs.deleteAllRejected(!0)}}};var $ye=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"sacrificeAll"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" "+e._s(e.extraMessage)+" ")])])},Fye=[],Hye=X(Bye,$ye,Fye,!1,null,null);const Vye=Hye.exports,Yye={name:"PurgeAllUnprotectedGlyphsModal",components:{ModalWrapperChoice:Ht},data(){return{isRefining:!1,isSacrificing:!1}},computed:{refiningSacrificingOrDeleting(){return this.isRefining?"Refine":this.isSacrificing?"Sacrifice":"delete"},topLabel(){return`You are about to ${this.refiningSacrificingOrDeleting} all unprotected Glyphs`},message(){return`Are you sure you want to ${this.refiningSacrificingOrDeleting} all unprotected Glyphs
        in your inventory?`},extraMessage(){return this.glyphsDeleted===0?`This will ${this.refiningSacrificingOrDeleting} no Glyphs.`:this.glyphsDeleted===this.glyphsTotal?`This will ${this.refiningSacrificingOrDeleting} all your Glyphs.`:`This will ${this.refiningSacrificingOrDeleting} 
        ${formatInt(this.glyphsDeleted)}/${formatInt(this.glyphsTotal)} of your Glyphs.`},glyphsTotal(){return Glyphs.inventory.filter(t=>t!==null).length},glyphsDeleted(){return Glyphs.autoClean(0,!1)}},methods:{update(){this.isRefining=GlyphSacrificeHandler.isRefining,this.isSacrificing=GlyphSacrificeHandler.canSacrifice},handleYesClick(){Glyphs.deleteAllUnprotected()}}};var qye=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"sacrificeAll"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" "+e._s(e.extraMessage)+" ")])])},Wye=[],jye=X(Yye,qye,Wye,!1,null,null);const zye=jye.exports,Xye={name:"PurgeGlyphModal",components:{ModalWrapperChoice:Ht},props:{harsh:{type:Boolean,required:!0}},computed:{threshold(){return this.harsh?1:5},extraMessage(){return this.glyphsDeleted===0?"This will Purge no Glyphs.":this.glyphsDeleted===this.glyphsTotal?"This will Purge all your Glyphs.":`${this.harsh?"Harsh Purging":"Purging"} will delete
        ${formatInt(this.glyphsDeleted)}/${formatInt(this.glyphsTotal)}
      of your Glyphs.`},explanation(){return this.harsh?`Harsh Purging deletes Glyphs that are strictly worse than any other Glyph in your
        inventory. For example, if a Glyph has all the same effects as another Glyph, but the values
        of ALL of the effects are worse, then it will be deleted.`:`Purging deletes Glyphs that are strictly worse than other Glyphs, while keeping enough to equip a full
        set with those effects. This behaves like Harsh Purge, except that regular Purge will not delete any given
        Glyph unless it finds five Glyphs which are better (instead of only one).`},topLabel(){return`You are about to ${this.harsh?"Harsh Purge":"Purge"} your Glyphs`},glyphsTotal(){return Glyphs.inventory.filter(t=>t!==null).length},glyphsDeleted(){return Glyphs.autoClean(this.threshold,!1)}},methods:{handleYesClick(){Glyphs.autoClean(this.threshold,!0)}}};var Kye=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"autoClean"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" This could delete Glyphs in your inventory that are good enough that you might want to use them later. Purging will Purge Glyphs based on your Purge mode. Are you sure you want to do this? "),i("br"),i("br"),e._v(" "+e._s(e.explanation)+" ")]),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" "+e._s(e.extraMessage)+" ")])])},Zye=[],Qye=X(Xye,Kye,Zye,!1,null,null);const Jye=Qye.exports,ege={name:"RefineGlyphModal",components:{ModalWrapperChoice:Ht},props:{idx:{type:Number,required:!0}},data(){return{resourceAmount:0,resourceUnlocked:!1,gain:0,after:0,cap:0,confirmedRefine:!1}},computed:{glyph(){return Glyphs.findByInventoryIndex(this.idx)},resource(){return GlyphSacrificeHandler.glyphAlchemyResource(this.glyph)},resourceName(){return this.resource.name}},methods:{update(){const t=this.resource;this.resourceAmount=t.amount,this.resourceUnlocked=t.isUnlocked,this.gain=GlyphSacrificeHandler.glyphRefinementGain(this.glyph),this.cap=GlyphSacrificeHandler.glyphEffectiveCap(this.glyph),this.after=this.resourceAmount+this.gain;const e=Glyphs.findByInventoryIndex(this.idx);this.glyph!==e&&!this.confirmedRefine&&(this.emitClose(),Modal.message.show("The selected Glyph changed position or was otherwise changed!"))},handleYesClick(){this.confirmedRefine=!0,GlyphSacrificeHandler.refineGlyph(this.glyph)}}};var tge=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"glyphRefine"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to refine a Glyph ")]},proxy:!0}])},[e.resourceUnlocked?i("div",{staticClass:"c-modal-message__text"},[e._v(" Refining a Glyph will remove the Glyph from your inventory, and in return, you will increase your "+e._s(e.resourceName)+" Alchemy resource from "+e._s(e.format(e.resourceAmount,2,2))+" to "+e._s(e.format(e.after,2,2))+". This Glyph can raise your "+e._s(e.resourceName)+" resource to at most "+e._s(e.format(e.cap,2,2))+". ")]):i("div",{staticClass:"c-modal-message__text"},[e._v(" You cannot gain any "+e._s(e.resourceName)+" alchemy resource because you have not unlocked this Glyph's resource yet. You can still refine it anyway, but nothing will happen. Consider sacrificing the Glyph instead. ")])])},ige=[],nge=X(ege,tge,ige,!1,null,null);const rge=nge.exports,age={name:"SacrificeGlyphModal",components:{ModalWrapperChoice:Ht},props:{idx:{type:Number,required:!0}},data(){return{currentGlyphSacrifice:0,gain:0,confirmedSacrifice:!1}},computed:{glyph(){return Glyphs.findByInventoryIndex(this.idx)},message(){return`Do you really want to sacrifice this Glyph? Your total power of sacrificed ${this.glyph.type}
      Glyphs will increase from ${format(this.currentGlyphSacrifice,2,2)} to
      ${format(this.currentGlyphSacrifice+this.gain,2,2)}.`}},methods:{update(){this.currentGlyphSacrifice=player.reality.glyphs.sac[this.glyph.type],this.gain=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph);const t=Glyphs.findByInventoryIndex(this.idx);this.glyph!==t&&!this.confirmedSacrifice&&(this.emitClose(),Modal.message.show("The selected Glyph changed position or was otherwise changed!"))},handleYesClick(){this.confirmedSacrifice=!0,GlyphSacrificeHandler.sacrificeGlyph(this.glyph,!0)}}};var sge=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"glyphSacrifice"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to sacrifice a Glyph ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},oge=[],lge=X(age,sge,oge,!1,null,null);const cge=lge.exports,uge={name:"AutobuyerIntervalLabel",props:{autobuyer:{type:Object,required:!1,default:null},intervalIn:{type:Number,required:!1,default:null},bulkIn:{type:Number,required:!1,default:null}},data(){return{interval:0,bulk:0,isShowingBulk:!1}},computed:{intervalText(){return this.interval<player.options.updateRate&&this.autobuyer.name!=="Infinity"?"Instant":`${format(TimeSpan.fromMilliseconds(this.interval).totalSeconds,2,2)} seconds`},bulkText(){return`Current bulk: ${Number.isFinite(this.bulk)?formatX(this.bulk,2):"Unlimited"}`}},methods:{update(){const t=this.autobuyer;this.interval=(this.intervalIn||(t==null?void 0:t.interval))??0,this.bulk=this.bulkIn??(t.hasUnlimitedBulk?1/0:t.bulk),this.isShowingBulk=this.bulk!==0&&Number.isFinite(this.bulk)}}};var dge=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Current interval: "+e._s(e.intervalText)+" "),e.isShowingBulk?i("span",[i("br"),e._v(" "+e._s(e.bulkText)+" ")]):e._e()])},hge=[],fge=X(uge,dge,hge,!1,null,"0aa2fc23");const fE=fge.exports,pge={name:"AutobuyerBox",components:{AutobuyerIntervalLabel:fE},props:{autobuyer:{type:Object,required:!0},name:{type:String,required:!0},showInterval:{type:Boolean,required:!1,default:!1},isModal:{type:Boolean,required:!1,default:!1}},data(){return{isUnlocked:!1,isActive:!1,globalToggle:!1,canBeBought:!1,isUnlockable:!1,antimatterCost:new Decimal,isBought:!1,antimatter:new Decimal,currMode:0,nextValue:0,nextTime:0}},computed:{autobuyerBuyBoxClass(){return{"c-autobuyer-buy-box":!0,"o-primary-btn":!0,"o-primary-btn--enabled":this.isUnlockable,"o-primary-btn--disabled":!this.isUnlockable}},autobuyerBoxRowClass(){return{"c-autobuyer-box-row":!0,"c-autobuyer-box-row__modal":this.isModal}},autobuyerToggleClass(){return this.globalToggle?this.isActive?"fas fa-check":"fas fa-times":this.isActive?"fas fa-pause":"fas fa-times"},autobuyerStateClass(){return this.globalToggle?{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label-modal":this.isModal,"o-autobuyer-toggle-checkbox__label--active":this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":!this.globalToggle}:{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label-modal":this.isModal,"o-autobuyer-toggle-checkbox__label--active-paused":this.isActive,"o-autobuyer-toggle-checkbox__label--deactive-paused":!this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":!this.globalToggle}},showEternity(){return PlayerProgress.eternityUnlocked()?"this Eternity":""},isShowingStateInfo(){return this.isActive&&["Infinity","Eternity"].includes(this.autobuyer.name)&&this.currMode!==0},extraInfo(){switch(this.currMode){case AUTO_ETERNITY_MODE.TIME:return this.nextTime>0?`Will trigger in ${TimeSpan.fromSeconds(this.nextTime).toStringShort()}`:"Will trigger ASAP";case AUTO_ETERNITY_MODE.X_HIGHEST:default:return`Will trigger at ${format(this.nextValue,2)} ${this.autobuyer.name==="Infinity"?"IP":"EP"}`}}},watch:{isActive(t){this.autobuyer.isActive=t}},methods:{update(){const t=this.autobuyer;this.isUnlocked=t.isUnlocked,this.isActive=t.isActive,this.globalToggle=player.auto.autobuyersOn,this.canBeBought=t.canBeBought,this.isUnlockable=t.canUnlockSlowVersion,this.antimatterCost=t.antimatterCost,this.isBought=t.isBought,this.antimatter.copyFrom(player.records.thisEternity.maxAM),this.currMode=t.mode,this.isShowingStateInfo&&(this.nextValue=new Decimal(t.highestPrevPrestige).times(t.xHighest),this.nextTime=t.timeToNextTick)},toggle(){this.isActive=!this.isActive},purchase(){this.autobuyer.purchase(),TabNotification.newAutobuyer.clearTrigger(),GameCache.cheapestAntimatterAutobuyer.invalidate()}}};var mge=function(){var e=this,i=e._self._c;return e.isUnlocked||e.isBought?i("div",{class:e.autobuyerBoxRowClass},[i("div",{staticClass:"l-autobuyer-box__header"},[e._v(" "+e._s(e.name)+" "),e.showInterval?i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyer}}):e._e(),e.isShowingStateInfo?i("div",[e._v(" "+e._s(e.extraInfo)+" ")]):e._e()],1),i("div",{staticClass:"c-autobuyer-box-row__intervalSlot"},[e._t("intervalSlot")],2),i("div",{staticClass:"c-autobuyer-box-row__toggleSlot"},[e._t("toggleSlot")],2),i("div",{staticClass:"c-autobuyer-box-row__checkboxSlot"},[e._t("checkboxSlot")],2),i("div",{staticClass:"c-autobuyer-box-row__optionSlot"},[e._t("optionSlot")],2),i("div",{staticClass:"l-autobuyer-box__footer",on:{click:e.toggle}},[i("label",{class:e.autobuyerStateClass},[i("span",{class:e.autobuyerToggleClass})]),i("input",{attrs:{disabled:!e.globalToggle,name:e.name,type:"checkbox"},domProps:{checked:e.isActive&&e.globalToggle}})])]):e.canBeBought?i("div",{class:e.autobuyerBuyBoxClass,on:{click:e.purchase}},[e._v(" "+e._s(e.name)+" "),i("br"),e._v(" Requirement: "+e._s(e.format(e.antimatterCost))+" Total Antimatter "+e._s(e.showEternity)+" ")]):e._e()},yge=[],gge=X(pge,mge,yge,!1,null,"bc92c868");const Vf=gge.exports,vge={name:"AutobuyerDropdownEntry",props:{autobuyer:{type:Object,required:!0},modes:{type:Array,required:!0},modeNameFn:{type:Function,required:!0}},data(){return{mode:0}},methods:{update(){this.mode=this.autobuyer.mode},changeMode(t){this.autobuyer.mode=t,this.mode=t,this.$parent.openRequest=!1}}};var bge=function(){var e=this,i=e._self._c;return i("div",e._l(e.modes,function(n){return i("div",{key:n,staticClass:"o-primary-btn c-autobuyer-box__mode-select l-autobuyer-choice",attrs:{value:n},on:{click:function(r){return e.changeMode(n)}}},[e._v(" "+e._s(e.modeNameFn(n))+" ")])}),0)},_ge=[],wge=X(vge,bge,_ge,!1,null,"d403e6e5");const ix=wge.exports,Ege={name:"AutobuyerIntervalButton",props:{autobuyer:{type:Object,required:!0}},data(){return{cost:0,isMaxed:!1,isUpgradeable:!1,isAffordable:!1}},computed:{classObject(){return{"o-autobuyer-btn":!0,"l-autobuyer-box__button":!0,"o-autobuyer-btn--unavailable":!this.isAffordable}}},methods:{update(){this.cost=this.autobuyer.cost,this.isMaxed=this.autobuyer.hasMaxedInterval,this.isUpgradeable=this.autobuyer.canBeUpgraded,this.isAffordable=Currency.infinityPoints.gte(this.cost)},upgradeInterval(){this.autobuyer.upgradeInterval()}}};var Tge=function(){var e=this,i=e._self._c;return!e.isMaxed&&e.isUpgradeable?i("button",{class:e.classObject,on:{click:e.upgradeInterval}},[e._v(" "+e._s(e.formatPercents(.4))+" smaller interval "),i("br"),e._v(" Cost: "+e._s(e.format(e.cost,2))+" IP ")]):e.isMaxed?e._e():i("button",{staticClass:"o-autobuyer-btn l-autobuyer-box__button o-autobuyer-btn--unavailable"},[e._v(" Complete the challenge to upgrade interval ")])},Cge=[],kge=X(Ege,Tge,Cge,!1,null,"ecc839cf");const mb=kge.exports,Sge={name:"BigCrunchAutobuyerBox",components:{AutobuyerBox:Vf,AutobuyerIntervalButton:mb,AutobuyerInput:Nm,ExpandingControlBox:dc,AutobuyerDropdownEntry:ix},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{isDoomed:!1,postBreak:!1,hasMaxedInterval:!1,mode:AUTO_CRUNCH_MODE.AMOUNT,hasAdditionalModes:!1,increaseWithMult:!0}},computed:{autobuyer:()=>Autobuyer.bigCrunch,modes:()=>[AUTO_CRUNCH_MODE.AMOUNT,AUTO_CRUNCH_MODE.TIME,AUTO_CRUNCH_MODE.X_HIGHEST],amountMode:()=>AUTO_ETERNITY_MODE.AMOUNT},watch:{increaseWithMult(t){this.autobuyer.increaseWithMult=t}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.postBreak=player.break,this.hasMaxedInterval=this.autobuyer.hasMaxedInterval,this.mode=this.autobuyer.mode,this.hasAdditionalModes=this.autobuyer.hasAdditionalModes,this.increaseWithMult=this.autobuyer.increaseWithMult},modeProps(t){switch(t){case AUTO_CRUNCH_MODE.AMOUNT:return{title:"Big Crunch at X IP",input:{property:"amount",type:"decimal"}};case AUTO_CRUNCH_MODE.TIME:return{title:"Seconds between Crunches",input:{property:"time",type:"float"}};case AUTO_CRUNCH_MODE.X_HIGHEST:return{title:"X times highest IP",input:{property:"xHighest",type:"decimal"}}}throw new Error("Unknown Auto Crunch mode")},modeName(t){return this.modeProps(t).title}}};var Age=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"show-interval":!e.postBreak,"is-modal":e.isModal,name:"Automatic Big Crunch"},scopedSlots:e._u([e.hasMaxedInterval?e.postBreak?{key:"intervalSlot",fn:function(){return[e.hasAdditionalModes?i("ExpandingControlBox",{attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"o-primary-btn c-autobuyer-box__mode-select c-autobuyer-box__mode-select-header"},[e._v(" ▼ Current Setting: ▼ "),i("br"),e._v(" "+e._s(e.modeName(e.mode))+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutobuyerDropdownEntry",{attrs:{autobuyer:e.autobuyer,modes:e.modes,"mode-name-fn":e.modeName}})]},proxy:!0}],null,!1,2761615181)}):i("span",[e._v(" "+e._s(e.modeProps(e.mode).title)+": ")])]},proxy:!0}:null:{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},e.postBreak?{key:"toggleSlot",fn:function(){return[i("AutobuyerInput",e._b({key:e.mode,attrs:{autobuyer:e.autobuyer}},"AutobuyerInput",e.modeProps(e.mode).input,!1))]},proxy:!0}:null,e.postBreak&&e.mode===e.amountMode?{key:"checkboxSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.increaseWithMult,expression:"increaseWithMult"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.increaseWithMult)?e._i(e.increaseWithMult,null)>-1:e.increaseWithMult},on:{change:function(n){var r=e.increaseWithMult,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=null,c=e._i(r,o);a.checked?c<0&&(e.increaseWithMult=r.concat([o])):c>-1&&(e.increaseWithMult=r.slice(0,c).concat(r.slice(c+1)))}else e.increaseWithMult=s}}}),e._v(" Dynamic amount ")])]},proxy:!0}:null],null,!0)})},xge=[],Dge=X(Sge,Age,xge,!1,null,"1d502c00");const s3=Dge.exports,Ige={name:"DimensionBoostAutobuyerBox",components:{AutobuyerBox:Vf,AutobuyerIntervalButton:mb,AutobuyerInput:Nm},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{hasMaxedInterval:!1,limitDimBoosts:!1,limitUntilGalaxies:!1,isBuyMaxUnlocked:!1}},computed:{autobuyer:()=>Autobuyer.dimboost},watch:{limitDimBoosts(t){this.autobuyer.limitDimBoosts=t},limitUntilGalaxies(t){this.autobuyer.limitUntilGalaxies=t}},methods:{update(){const t=this.autobuyer;this.hasMaxedInterval=t.hasMaxedInterval,this.isBuyMaxUnlocked=t.isBuyMaxUnlocked,this.limitDimBoosts=t.limitDimBoosts,this.limitUntilGalaxies=t.limitUntilGalaxies}}};var Rge=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,"show-interval":!e.isBuyMaxUnlocked,name:"Automatic Dimension Boosts"},scopedSlots:e._u([e.hasMaxedInterval?e.isBuyMaxUnlocked?{key:"intervalSlot",fn:function(){return[i("div",{staticClass:"c-autobuyer-box__small-text"},[i("br"),e._v(" Activates every X seconds: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"float",property:"buyMaxInterval"}})]},proxy:!0}:null:{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},e.isBuyMaxUnlocked?null:{key:"checkboxSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox c-autobuyer-box__small-text l-top-margin o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.limitDimBoosts,expression:"limitDimBoosts"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitDimBoosts)?e._i(e.limitDimBoosts,null)>-1:e.limitDimBoosts},on:{change:function(n){var r=e.limitDimBoosts,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=null,c=e._i(r,o);a.checked?c<0&&(e.limitDimBoosts=r.concat([o])):c>-1&&(e.limitDimBoosts=r.slice(0,c).concat(r.slice(c+1)))}else e.limitDimBoosts=s}}}),e._v(" Limit Dimension Boosts to: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"int",property:"maxDimBoosts"}})]},proxy:!0},{key:"toggleSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox c-autobuyer-box__small-text l-autobuyer-text-area o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.limitUntilGalaxies,expression:"limitUntilGalaxies"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitUntilGalaxies)?e._i(e.limitUntilGalaxies,null)>-1:e.limitUntilGalaxies},on:{change:function(n){var r=e.limitUntilGalaxies,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=null,c=e._i(r,o);a.checked?c<0&&(e.limitUntilGalaxies=r.concat([o])):c>-1&&(e.limitUntilGalaxies=r.slice(0,c).concat(r.slice(c+1)))}else e.limitUntilGalaxies=s}}}),e.isBuyMaxUnlocked?i("span",[e._v(" Only Dimboost to unlock new"),i("br"),e._v(" Dimensions until X Galaxies: ")]):i("span",[e._v(" Galaxies required to always"),i("br"),e._v(" Dimboost, ignoring the limit: ")])]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"int",property:"galaxies"}})]},proxy:!0}],null,!0)})},Mge=[],Pge=X(Ige,Rge,Mge,!1,null,"8dfc06a3");const o3=Pge.exports,Oge={name:"EternityAutobuyerBox",components:{AutobuyerBox:Vf,AutobuyerInput:Nm,ExpandingControlBox:dc,AutobuyerDropdownEntry:ix},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{isDoomed:!1,mode:AUTO_ETERNITY_MODE.AMOUNT,hasAdditionalModes:!1,increaseWithMult:!0}},computed:{autobuyer:()=>Autobuyer.eternity,modes:()=>[AUTO_ETERNITY_MODE.AMOUNT,AUTO_ETERNITY_MODE.TIME,AUTO_ETERNITY_MODE.X_HIGHEST],amountMode:()=>AUTO_ETERNITY_MODE.AMOUNT},watch:{increaseWithMult(t){this.autobuyer.increaseWithMult=t}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.mode=this.autobuyer.mode,this.hasAdditionalModes=this.autobuyer.hasAdditionalModes,this.increaseWithMult=this.autobuyer.increaseWithMult},modeProps(t){switch(t){case AUTO_ETERNITY_MODE.AMOUNT:return{title:"Eternity at X EP",input:{property:"amount",type:"decimal"}};case AUTO_ETERNITY_MODE.TIME:return{title:"Seconds between Eternities",input:{property:"time",type:"float"}};case AUTO_ETERNITY_MODE.X_HIGHEST:return{title:"X times highest EP",input:{property:"xHighest",type:"decimal"}}}throw new Error("Unknown Auto Eternity mode")},modeName(t){return this.modeProps(t).title}}};var Nge=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,name:"Automatic Eternity"},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[e.hasAdditionalModes?i("ExpandingControlBox",{attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"o-primary-btn c-autobuyer-box__mode-select c-autobuyer-box__mode-select-header"},[e._v(" ▼ Current Setting: ▼ "),i("br"),e._v(" "+e._s(e.modeName(e.mode))+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutobuyerDropdownEntry",{attrs:{autobuyer:e.autobuyer,modes:e.modes,"mode-name-fn":e.modeName}})]},proxy:!0}],null,!1,2761615181)}):i("span",[e._v(e._s(e.modeProps(e.mode).title)+":")])]},proxy:!0},{key:"toggleSlot",fn:function(){return[i("AutobuyerInput",e._b({key:e.mode,attrs:{autobuyer:e.autobuyer}},"AutobuyerInput",e.modeProps(e.mode).input,!1))]},proxy:!0},e.mode===e.amountMode?{key:"checkboxSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.increaseWithMult,expression:"increaseWithMult"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.increaseWithMult)?e._i(e.increaseWithMult,null)>-1:e.increaseWithMult},on:{change:function(n){var r=e.increaseWithMult,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=null,c=e._i(r,o);a.checked?c<0&&(e.increaseWithMult=r.concat([o])):c>-1&&(e.increaseWithMult=r.slice(0,c).concat(r.slice(c+1)))}else e.increaseWithMult=s}}}),e._v(" Dynamic amount ")])]},proxy:!0}:null],null,!0)})},Gge=[],Uge=X(Oge,Nge,Gge,!1,null,"a6d6d074");const l3=Uge.exports,Lge={name:"GalaxyAutobuyerBox",components:{AutobuyerBox:Vf,AutobuyerIntervalButton:mb,AutobuyerInput:Nm},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{hasMaxedInterval:!1,limitGalaxies:!1,isBuyMaxUnlocked:!1,buyMax:!1}},computed:{autobuyer:()=>Autobuyer.galaxy,limitGalaxiesSlot(){return this.hasMaxedInterval&&!this.isBuyMaxUnlocked?"intervalSlot":"toggleSlot"}},watch:{limitGalaxies(t){this.autobuyer.limitGalaxies=t}},methods:{update(){this.hasMaxedInterval=this.autobuyer.hasMaxedInterval,this.isBuyMaxUnlocked=this.autobuyer.isBuyMaxUnlocked,this.limitGalaxies=this.autobuyer.limitGalaxies}}};var Bge=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,name:"Automatic Antimatter Galaxies","show-interval":!e.isBuyMaxUnlocked},scopedSlots:e._u([e.hasMaxedInterval?e.isBuyMaxUnlocked?{key:"intervalSlot",fn:function(){return[i("div",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Activates every X seconds: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"float",property:"buyMaxInterval"}})]},proxy:!0}:null:{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},{key:e.limitGalaxiesSlot,fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox c-autobuyer-box__small-text o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.limitGalaxies,expression:"limitGalaxies"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitGalaxies)?e._i(e.limitGalaxies,null)>-1:e.limitGalaxies},on:{change:function(n){var r=e.limitGalaxies,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=null,c=e._i(r,o);a.checked?c<0&&(e.limitGalaxies=r.concat([o])):c>-1&&(e.limitGalaxies=r.slice(0,c).concat(r.slice(c+1)))}else e.limitGalaxies=s}}}),e._v(" Limit Antimatter Galaxies to: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"int",property:"maxGalaxies"}})]},proxy:!0}],null,!0)})},$ge=[],Fge=X(Lge,Bge,$ge,!1,null,"44660f09");const c3=Fge.exports,Hge={name:"RealityAutobuyerBox",components:{AutobuyerBox:Vf,AutobuyerInput:Nm,ExpandingControlBox:dc,AutobuyerDropdownEntry:ix},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{mode:AUTO_REALITY_MODE.RM,levelCap:0,isOverCap:!1,hasAlternateInputs:!1}},computed:{autobuyer:()=>Autobuyer.reality,hasRelicMode:()=>TeresaUnlocks.effarig.canBeApplied,modes(){const t=[AUTO_REALITY_MODE.RM,AUTO_REALITY_MODE.GLYPH,AUTO_REALITY_MODE.EITHER,AUTO_REALITY_MODE.BOTH,AUTO_REALITY_MODE.TIME];return this.hasRelicMode&&t.push(AUTO_REALITY_MODE.RELIC_SHARD),t}},methods:{update(){this.mode=this.autobuyer.mode,this.levelCap=Glyphs.levelCap,this.isOverCap=this.autobuyer.glyph>this.levelCap,this.hasAlternateInputs=Autobuyer.reality.mode>AUTO_REALITY_MODE.BOTH},modeName(t){switch(t){case AUTO_REALITY_MODE.RM:return"Reality Machines";case AUTO_REALITY_MODE.GLYPH:return"Glyph level";case AUTO_REALITY_MODE.EITHER:return"RM OR Level";case AUTO_REALITY_MODE.BOTH:return"RM AND Level";case AUTO_REALITY_MODE.TIME:return"Real-time seconds";case AUTO_REALITY_MODE.RELIC_SHARD:return"Relic Shards"}throw new Error("Unknown Auto Reality mode")}}};var Vge=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,name:"Automatic Reality"},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[i("ExpandingControlBox",{attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"o-primary-btn c-autobuyer-box__mode-select c-autobuyer-box__mode-select-header"},[e._v(" ▼ Current Setting: ▼ "),i("br"),e._v(" "+e._s(e.modeName(e.mode))+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutobuyerDropdownEntry",{attrs:{autobuyer:e.autobuyer,modes:e.modes,"mode-name-fn":e.modeName}})]},proxy:!0}])})]},proxy:!0},{key:"toggleSlot",fn:function(){return[e.hasAlternateInputs?i("div",[e._v(" Target Time (seconds): ")]):i("div",[e._v(" Target Reality Machines: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:e.hasAlternateInputs?"float":"decimal",property:e.hasAlternateInputs?"time":"rm"}})]},proxy:!0},{key:"checkboxSlot",fn:function(){return[e.hasAlternateInputs&&e.hasRelicMode?i("div",[e._v(" Target Relic Shards: ")]):i("div",[e._v(" Target Glyph level: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:e.hasAlternateInputs&&e.hasRelicMode?"decimal":"int",property:e.hasAlternateInputs&&e.hasRelicMode?"shard":"glyph"}}),e.isOverCap?i("div",[e._v(" Autobuyer will trigger at the Glyph level cap of "+e._s(e.formatInt(e.levelCap))+". ")]):e._e()]},proxy:!0}])})},Yge=[],qge=X(Hge,Vge,Yge,!1,null,"fe3f1ee5");const u3=qge.exports,Wge={name:"AutobuyerEditModal",components:{BigCrunchAutobuyerBox:s3,DimensionBoostAutobuyerBox:o3,EternityAutobuyerBox:l3,GalaxyAutobuyerBox:c3,ModalWrapper:ka,RealityAutobuyerBox:u3},computed:{header(){return"Edit Autobuyers"},message(){return Autobuyers.hasAutobuyersForEditModal?"Using this modal, you can edit various values inside your autobuyers.":"You currently have no autobuyers which could be shown here."}}};var jge=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.header)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text-fit"},[i("span",[e._v(" "+e._s(e.message)+" ")])]),i("RealityAutobuyerBox",{staticClass:"c-reality-pos",attrs:{"is-modal":""}}),i("EternityAutobuyerBox",{staticClass:"c-eternity-pos",attrs:{"is-modal":""}}),i("BigCrunchAutobuyerBox",{staticClass:"c-infinity-pos",attrs:{"is-modal":""}}),i("GalaxyAutobuyerBox",{attrs:{"is-modal":""}}),i("DimensionBoostAutobuyerBox",{attrs:{"is-modal":""}})],1)},zge=[],Xge=X(Wge,jge,zge,!1,null,"b811f720");const Kge=Xge.exports,Zge={name:"AutomatorScriptTemplate",components:{ModalWrapper:ka},props:{warnings:{type:Function,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},inputs:{type:Array,required:!0}},data(){return{templateInputs:{},buttonTextStrings:[],invalidInputCount:0,templateProps:null,currentPreset:"",isBlock:!1}},computed:{presets:()=>player.timestudy.presets,params:()=>GameDatabase.reality.automator.templates.paramTypes,validWarnings(){var t;return this.invalidInputCount===0?this.warnings().concat((t=this.templateScript)==null?void 0:t.warnings):this.warnings()},templateScript(){return this.invalidInputCount!==0?null:new ScriptTemplate(this.templateProps,this.name)}},created(){for(const t of this.inputs){const e=this.paramTypeObject(t.type).boolDisplay;e?(this.$set(this.templateInputs,t.name,!1),this.buttonTextStrings[t.name]=e[1]):(this.$set(this.templateInputs,t.name,""),this.invalidInputCount++)}},methods:{update(){this.isBlock=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK},paramTypeObject(t){return this.params.find(e=>e.name===t)},isValid(t){const e=this.paramTypeObject(t.type);return e.isValidString?e.isValidString(this.templateInputs[t.name]):!0},validityClass(t){return t.name==="treeStudies"&&this.currentPreset!==""?"c-automator-template-textbox--preset":this.isValid(t)?void 0:"c-automator-template-textbox--invalid"},loadPreset(t,e){this.templateInputs.treeStudies=t?`NAME ${t}`:`ID ${e}`,this.updateTemplateProps()},loadCurrent(){this.templateInputs.treeStudies=GameCache.currentStudyTree.value.exportString,this.updateTemplateProps()},updateTemplateProps(){this.templateProps={},this.invalidInputCount=0;for(const i of this.inputs){const n=this.paramTypeObject(i.type),r=a=>n.map?n.map(a):a;this.templateProps[i.name]=r(this.templateInputs[i.name]),this.isValid(i)||this.invalidInputCount++}const t=this.templateProps.treeStudies.match(/^NAME (.{1,4})$/u),e=this.templateProps.treeStudies.match(/^ID (\d)$/u);if(t){const i=t?t[1]:"";this.currentPreset=this.presets.find(n=>n.name===i).name}else if(e){const i=e?e[1]:"";this.currentPreset=this.presets.some((n,r)=>r===i-1)?i:""}this.templateProps.treePreset=this.currentPreset===""?null:this.currentPreset},updateButton(t){this.templateInputs[t.name]=!this.templateInputs[t.name];const e=this.paramTypeObject(t.type).boolDisplay;this.buttonTextStrings[t.name]=e[this.templateInputs[t.name]?0:1],this.updateTemplateProps()},copyAndClose(){if(this.isBlock){const t={name:`Template: ${this.name}`,blocks:Zg(this.templateScript.script).blocks};AutomatorData.blockTemplates.push(t),GameUI.notify.info("Custom template block created")}else copyToClipboard(this.templateScript.script),GameUI.notify.info("Template copied to clipboard");this.emitClose()}}};var Qge=function(){var e=this,i=e._self._c;return i("ModalWrapper",{staticClass:"c-automator-template-container",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.name)+" Template ")]},proxy:!0}])},[i("div",{staticClass:"c-automator-template-description"},[e._v(" "+e._s(e.description)+" ")]),i("div",{staticClass:"c-automator-template-inputs"},[i("b",[e._v("Required Information:")]),i("br"),e._v(" Use a preset Study Tree: "),e._l(e.presets,function(n,r){return i("button",{key:n.name,staticClass:"o-primary-btn o-load-preset-button-margin",on:{click:function(a){return e.loadPreset(n.name,r+1)}}},[e._v(" "+e._s(n.name?n.name:r+1)+" ")])}),i("button",{staticClass:"o-primary-btn o-load-preset-button-margin",on:{click:e.loadCurrent}},[i("i",[e._v("Current Tree")])]),e._l(e.inputs,function(n){return i("div",{key:n.name,staticClass:"c-automator-template-entry"},[e._v(" "+e._s(n.prompt)+": "),e.paramTypeObject(n.type).boolDisplay?i("span",[i("button",{staticClass:"o-primary-btn",on:{click:function(r){return e.updateButton(n)}}},[e._v(" "+e._s(e.buttonTextStrings[n.name])+" ")])]):i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.templateInputs[n.name],expression:"templateInputs[input.name]"}],ref:"templateInputs[input.name]",refInFor:!0,staticClass:"c-automator-template-textbox",class:e.validityClass(n),attrs:{type:"text"},domProps:{value:e.templateInputs[n.name]},on:{input:[function(r){r.target.composing||e.$set(e.templateInputs,n.name,r.target.value)},e.updateTemplateProps]}})])])})],2),i("div",{staticClass:"c-automator-template-warnings"},[i("b",[e._v("Possible things to consider:")]),e.validWarnings.length!==0?i("div",e._l(e.validWarnings,function(n){return i("div",{key:n,staticClass:"c-automator-template-entry"},[e._v(" "+e._s(n)+" ")])}),0):i("div",[e._v(" (If something seems wrong with the template inputs, it will show up here) ")]),i("br"),i("br")]),e.invalidInputCount===0?i("button",{staticClass:"o-primary-btn",on:{click:e.copyAndClose}},[e._v(" "+e._s(e.isBlock?"Create custom template block":"Copy this template to your clipboard")+" and close this modal ")]):i("button",{staticClass:"o-primary-btn o-primary-btn--disabled"},[e._v(" Cannot generate template (You have "+e._s(e.quantifyInt("invalid input",e.invalidInputCount))+") ")])])},Jge=[],eve=X(Zge,Qge,Jge,!1,null,"a6742a9d");const tve=eve.exports,ive={name:"AwayProgressEntry",props:{name:{type:String,required:!0},playerBefore:{type:Object,required:!0},playerAfter:{type:Object,required:!0}},data(){return{removed:!1}},computed:{item(){return AwayProgressTypes.all[this.name]},before(){return this.item.navigateTo(this.playerBefore)},after(){return this.item.navigateTo(this.playerAfter)},formatBefore(){return this.formatPseudo(this.before)},formatAfter(){return this.formatPseudo(this.after)},classObject(){return{[this.item.classObject]:!this.removed,"c-modal-away-progress__disabled":this.removed}},formattedName(){return this.item.formatName},increased(){if(this.formatAfter===this.formatBefore)return!1;const t=this.before,e=this.after;return e instanceof Decimal?e.gt(t):e>t},show(){if(!this.item.appearsInAwayModal)return!1;const t=this.increased&&this.item.option&&this.item.isUnlocked();return t&&this.$emit("something-happened"),t},isBlackHole(){return this.item.name.includes("BlackHole")},formatBlackHoleActivations(){const t=this.after-this.before;return quantifyInt("time",t)},isVeryLarge(){return this.isBlackHole?!1:Decimal.gt(this.before,Decimal.pow10(1e9))}},methods:{formatPseudo(t){if(t===void 0)return"";if(this.isVeryLarge)return formatInt(Math.floor(t.log10()));if(Decimal.lt(t,1e9)){const e=new Decimal(t);return formatInt(e.floor())}return format(t,2,2)},hideEntry(){this.removed=!this.removed,this.item.option=!this.item.option}}};var nve=function(){var e=this,i=e._self._c;return e.show?i("div",{class:e.classObject,on:{click:e.hideEntry}},[e.isBlackHole?i("span",[e._v(" Your "),i("b",[e._v(e._s(e.formattedName))]),e._v(" activated "+e._s(e.formatBlackHoleActivations)+" ")]):i("span",[i("b",[e._v(e._s(e.formattedName))]),e.isVeryLarge?i("i",[e._v(" exponent")]):e._e(),e._v(" increased from "+e._s(e.formatBefore)+" to "+e._s(e.formatAfter)+" ")])]):e._e()},rve=[],ave=X(ive,nve,rve,!1,null,"855a8127");const sve=ave.exports,ove={name:"AwayProgressModal",components:{AwayProgressEntry:sve,ModalWrapper:ka},props:{playerBefore:{type:Object,required:!0},playerAfter:{type:Object,required:!0},seconds:{type:Number,required:!0}},data(){return{somethingHappened:!1}},computed:{nothingHappened(){return Theme.current().name==="S9"},offlineStats(){return AwayProgressTypes.appearsInAwayModal},headerText(){const t=TimeSpan.fromSeconds(this.seconds).toString();return this.nothingHappened||!this.somethingHappened?`While you were away for ${t}... Nothing happened.`:`While you were away for ${t}: `}},mounted(){this.$nextTick(()=>{(this.nothingHappened||!this.somethingHappened)&&SecretAchievement(36).unlock()})}};var lve=function(){var e=this,i=e._self._c;return i("ModalWrapper",{staticClass:"c-modal-away-progress"},[i("div",{staticClass:"c-modal-away-progress__header"},[e._v(" "+e._s(e.headerText)+" ")]),e.nothingHappened?e._e():i("div",{staticClass:"c-modal-away-progress__resources c-modal--short"},e._l(e.offlineStats,function(n){return i("AwayProgressEntry",{key:n,attrs:{name:n,"player-before":e.playerBefore,"player-after":e.playerAfter},on:{"something-happened":function(r){e.somethingHappened=!0}}})}),1),!e.nothingHappened&&e.somethingHappened?i("span",[e._v("Note: Click an entry to hide it in the future.")]):e._e()])},cve=[],uve=X(ove,lve,cve,!1,null,"55856d6a");const dve=uve.exports,hve={name:"BreakInfinityModal",components:{ModalWrapperChoice:Ht},computed:{message(){const t=formatPostBreak(Number.MAX_VALUE,2);return`Breaking Infinity will allow you to gain antimatter past ${t}${PlayerProgress.eternityUnlocked()?".":`, and allow you to read numbers past ${t}.`}
        Dimensions and Tickspeed Upgrades will scale in cost faster after ${t} antimatter.
        You will gain additional Infinity Points on Big Crunch based on antimatter produced over ${t}.        ${EternityMilestone.keepAutobuyers.isReached?"":`
It will also unlock Break Infinity Upgrades and max        all Normal Challenge Autobuyers.`}`.split(`
`)}},methods:{handleYesClick(){breakInfinity()}}};var fve=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"show-cancel":!1},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are Breaking Infinity ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Break ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},e._l(e.message,function(n,r){return i("span",{key:r},[e._v(" "+e._s(n)+" "),i("br")])}),0)])},pve=[],mve=X(hve,fve,pve,!1,null,null);const yve=mve.exports,gve={name:"CatchupEntry",props:{info:{type:Object,required:!0}},data(){return{focusedResourceId:-1,tabToOpen:String}},computed:{config(){return this.info.config},hasDedicatedH2p(){return this.config.openH2pEntry!==void 0}},methods:{isFocusedResource(t){if(this.focusedResourceId=t.id,this.focusedResourceId===-1)return!0;const e=GameDatabase.catchupResources[this.focusedResourceId].name;return e!==t.name?!0:this.tabToOpen=e},showHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter(t=>t.alias===(this.hasDedicatedH2p?this.config.openH2pEntry:this.tabToOpen))[0],Modal.h2p.show()}}};var vve=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal-catchup-entry"},[i("span",{staticClass:"c-resource-name",attrs:{info:e.info,"is-focused":e.isFocusedResource(e.info)},on:{click:e.showHowTo}},[i("span",{staticClass:"c-underline"},[e._v(e._s(e.info.name))]),e._v(": "),i("i",{staticClass:"fas fa-question-circle"})]),e._v(" "+e._s(e.info.description)+" ")])},bve=[],_ve=X(gve,vve,bve,!1,null,"be7050ce");const wve=_ve.exports,Eve={name:"CatchupGroup",components:{CatchupEntry:wve},props:{group:{type:Number,required:!0},name:{type:String,required:!0}},data(){return{collapsed:!0}},computed:{shownResources(){return Nue.all.filter(t=>t.requiredStage===this.group)},dropDownIconClass(){return this.collapsed?"far fa-plus-square":"far fa-minus-square"}}};var Tve=function(){var e=this,i=e._self._c;return e.shownResources.length!==0?i("div",[i("span",{staticClass:"o-catchup-group-title",on:{click:function(n){e.collapsed=!e.collapsed}}},[i("i",{class:e.dropDownIconClass}),e._v(" "+e._s(e.name)+" ")]),e.collapsed?e._e():i("div",e._l(e.shownResources,function(n,r){return i("CatchupEntry",{key:r,staticClass:"l-left",attrs:{info:n}})}),1)]):e._e()},Cve=[],kve=X(Eve,Tve,Cve,!1,null,"37bea5ca");const Sve=kve.exports,Ave={name:"CatchupModal",components:{CatchupGroup:Sve,PrimaryButton:mt},props:{diff:{type:Number,required:!0}},computed:{progressStage:()=>dw.getProgressStage(player).id,suggestedResource(){return uw(this.progressStage).suggestedResource},timeString(){return this.diff?`It has been ${TimeSpan.fromMilliseconds(this.diff).toString()} since you last loaded up the game.`:null},titleText(){return this.diff?"Content Catch-up":"Content Summary"}},methods:{stageName(t){return uw(t).name}}};var xve=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal-away-progress"},[i("div",{staticClass:"c-modal-away-progress__header"},[e._v(" "+e._s(e.titleText)+" ")]),i("div",[e._v(" "+e._s(e.timeString)+" If you need a refresher, here is a quick summary of all the content you have unlocked so far from the beginning of the game, separated into different stages of progression. These are only very brief descriptions; you can check the related How To Play entries by clicking the contents title or "),i("i",{staticClass:"fas fa-question-circle"}),e._v(" icons to view more detailed information. ")]),i("div",{staticClass:"l-catchup-group-container",style:{height:`${Math.clamp(3*e.progressStage+5,15,35)}rem`}},e._l(e.progressStage,function(n){return i("CatchupGroup",{key:n,attrs:{group:n,name:e.stageName(n)}})}),1),i("span",{staticClass:"c-suggestion-text"},[e._v(" Based on your current progression, it will probably be useful to try to increase your "+e._s(e.suggestedResource)+". ")]),i("div",{staticClass:"l-confirm-padding"},[i("PrimaryButton",{on:{click:e.emitClose}},[e._v(" Confirm ")])],1)])},Dve=[],Ive=X(Ave,xve,Dve,!1,null,"3dbcb8a8");const Rve=Ive.exports,Mve={name:"ChangelogModal",components:{ModalCloseButton:Km},data(){return{entryId:0}},computed:{shownEntry:{get(){return GameDatabase.changelog[this.entryId]},set(t){this.entryId=t.id}},entries(){return GameDatabase.changelog}},methods:{setShownEntry(t){this.shownEntry=t,this.$refs.changelogBody.scrollTop=0},formatDate(t){return t.map(e=>Math.log10(e)>=2?e:`0${e}`.slice(-2)).join("-")}}};var Pve=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-changelog-modal"},[i("ModalCloseButton",{on:{click:e.emitClose}}),e._m(0),i("div",{staticClass:"l-changelog-container"},[i("div",{staticClass:"l-changelog-search-tab"},[i("div",{staticClass:"l-changelog-tab-list"},e._l(e.entries,function(n){return i("div",{key:n.id,staticClass:"o-changelog-tab-button",class:{"o-changelog-tab-button--selected":n===e.shownEntry},on:{click:function(r){return e.setShownEntry(n)}}},[e._v(" "+e._s(e.formatDate(n.date))+" ")])}),0)]),i("div",{staticClass:"l-changelog-info"},[i("div",{staticClass:"c-changelog-body--title"},[e._v(" "+e._s(e.formatDate(e.shownEntry.date))),e.shownEntry.name?i("span",[e._v(': "'+e._s(e.shownEntry.name)+'"')]):e._e()]),i("div",{ref:"changelogBody",staticClass:"l-changelog-body c-changelog-body",domProps:{innerHTML:e._s(e.shownEntry.info)}})])])],1)},Ove=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"l-changelog-header"},[e("div",{staticClass:"c-changelog-title"},[t._v(" Changelog ")])])}],Nve=X(Mve,Pve,Ove,!1,null,"159e3a43");const Gve=Nve.exports,Uve={name:"ChangeNameModal",components:{ModalWrapperChoice:Ht},data(){return{input:"",actualName:""}},created(){this.input=player.speedrun.name,this.actualName=Speedrun.generateName(this.input)},mounted(){this.$refs.input.select()},methods:{updateName(){this.actualName=Speedrun.generateName(this.input)},confirmChange(){player.speedrun.name=this.actualName,this.emitClose()}}};var Lve=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.confirmChange},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Change your Speedrun Player Name ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Change Name ")]},proxy:!0}])},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[e.updateName,function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.confirmChange.apply(null,arguments)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(n){n.target.composing||(e.input=n.target.value)}}}),i("i",[e._v(" This can no longer be changed once the timer starts, and there is a limit of "+e._s(e.formatInt(40))+" characters. ")]),i("div",[e._v(" Your new name will be "+e._s(e.actualName)+" ")])])},Bve=[],$ve=X(Uve,Lve,Bve,!1,null,null);const Fve=$ve.exports,Hve={name:"ClearConstantsModal",components:{ModalWrapperChoice:Ht},data(){return{constantCount:0}},methods:{update(){this.constantCount=Object.keys(player.reality.automator.constants).length,this.constantCount===0&&this.emitClose()},deleteConstants(){player.reality.automator.constants={},player.reality.automator.constantSortOrder=[]}}};var Vve=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.deleteConstants},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Deleting Automator Constants ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Delete All ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Are you sure you wish to delete all of your currently-defined automator constants? "),i("br"),i("span",{staticClass:"l-lost-text"},[e._v(" This will irreversibly delete "+e._s(e.quantify("constant",e.constantCount))+"! ")])])])},Yve=[],qve=X(Hve,Vve,Yve,!1,null,"bafdefc1");const Wve=qve.exports,jve={name:"CreditsDisplay",props:{isModal:{type:Boolean,required:!1,default:!1}},computed:{people(){return GameDatabase.credits.people},roles(){return GameDatabase.credits.roles},isS12EndDisplay(){return this.$viewModel.theme==="S12"&&!this.isModal}},methods:{relevantPeople(t){return this.people.filter(e=>typeof e.roles=="number"?e.roles===t:e.roles.includes(t)).sort((e,i)=>e.name.localeCompare(i.name))}}};var zve=function(){var e=this,i=e._self._c;return i("div",{class:{"c-credits-s12-end":e.isS12EndDisplay}},[e.isModal?e._e():i("h1",{staticClass:"c-credits-header"},[e._v(" Antimatter Dimensions ")]),e._l(e.roles.count,function(n){return i("div",{key:n},[i("h2",{staticClass:"c-credits-section"},[e._v(" "+e._s(e.pluralize(e.roles[n],e.relevantPeople(n).length))+" ")]),i("div",{class:{"l-credits--bulk":e.relevantPeople(n).length>10}},e._l(e.relevantPeople(n),function(r){return i("div",{key:r.name,staticClass:"c-credit-entry"},[e._v(" "+e._s(r.name)+" "),r.name2?i("span",[e._v(" ("+e._s(r.name2)+") ")]):e._e()])}),0)])}),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("h1",{staticClass:"c-credits-header"},[e._v(" Thank you so much for playing! ")])],2)},Xve=[],Kve=X(jve,zve,Xve,!1,null,"228701e0");const d3=Kve.exports,Zve={name:"CreditsModal",components:{CreditsDisplay:d3,ModalWrapper:ka}};var Qve=function(){var e=this,i=e._self._c;return i("ModalWrapper",{staticClass:"l-credits-modal c-credits-modal",scopedSlots:e._u([{key:"header",fn:function(){return[i("h1",{staticClass:"c-game-header__antimatter"},[e._v(" Antimatter Dimensions ")])]},proxy:!0}])},[i("div",{staticClass:"c-credits-modal__body"},[i("CreditsDisplay",{attrs:{"is-modal":!0}})],1)])},Jve=[],ebe=X(Zve,Qve,Jve,!1,null,"72b4ecfd");const tbe=ebe.exports,ibe={name:"DeleteAutomatorScriptModal",components:{ModalWrapperChoice:Ht},props:{scriptID:{type:[String,Number],required:!0}},methods:{handleYesClick(){const t=this.scriptID,e=AutomatorBackend.state.topLevelScript;AutomatorBackend.deleteScript(t);const i=Object.values(player.reality.automator.scripts).map(n=>({id:n.id,name:n.name}));AutomatorBackend.isOn&&e!==t?player.reality.automator.state.editorScript=e:player.reality.automator.state.editorScript=i[0].id,AutomatorData.clearUndoData(),EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED)}}};var nbe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Delete this script ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Delete ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Please confirm your desire to delete this Automator script. ")])])},rbe=[],abe=X(ibe,nbe,rbe,!1,null,null);const sbe=abe.exports,obe={name:"EnslavedHintsModal",components:{ModalWrapper:ka,PrimaryButton:mt},data(){return{currentStored:0,nextHintCost:0,canGetHint:!1,shownEntries:[],realityHintsLeft:0,glyphHintsLeft:0,hints:0}},computed:{hintCost(){return`${quantify("year",TimeSpan.fromMilliseconds(this.nextHintCost).totalYears,2)}`},formattedStored(){return`${quantify("year",TimeSpan.fromMilliseconds(this.currentStored).totalYears,2)}`},hasProgress(t){return this.progressEntries.some(e=>e.id===t)},timeEstimate(){if(this.currentStored>=this.nextHintCost)return"";const t=1e3*(Enslaved.isStoringGameTime?Enslaved.currentBlackHoleStoreAmountPerMs:getGameSpeedupFactor()),e=this.currentStored/t,i=this.nextHintCost/t,n=(TimeSpan.fromYears(1e40).totalMilliseconds-this.currentStored)/t;if(TimeSpan.fromSeconds(n).totalDays>this.hints)return`${TimeSpan.fromSeconds(n).toStringShort(!0)}`;const r=Math.pow(3,1/86400),a=i*Math.log(r)*Math.pow(r,e),s=productLog(a)/Math.log(r)-e;return`${TimeSpan.fromSeconds(s).toStringShort(!0)}`}},methods:{update(){this.currentStored=player.celestials.enslaved.stored,this.nextHintCost=Enslaved.nextHintCost,this.canGetHint=this.currentStored>=this.nextHintCost,this.shownEntries=[],this.realityHintsLeft=EnslavedProgress.all.length;for(const e of EnslavedProgress.all)e.hasHint&&(this.shownEntries.push([!1,e]),this.realityHintsLeft--);const t=player.celestials.enslaved.glyphHintsGiven;for(let e=0;e<t;e++)this.shownEntries.push([!0,GameDatabase.celestials.enslaved.glyphHints[e]]);this.glyphHintsLeft=GameDatabase.celestials.enslaved.glyphHints.length-t,this.hints=Enslaved.hintCostIncreases},giveRealityHint(t){t<=0||!Enslaved.spendTimeForHint()||EnslavedProgress.all.filter(e=>!e.hasHint).randomElement().unlock()},giveGlyphHint(t){t<=0||!Enslaved.spendTimeForHint()||player.celestials.enslaved.glyphHintsGiven++}}};var lbe=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Cracks in The Nameless Ones' Reality ")]},proxy:!0}])},[i("div",{staticClass:"c-enslaved-hint-modal c-modal--short"},[i("div",[e._v(" This Reality seems to be resisting your efforts to complete it. So far you have done the following: ")]),i("br"),e._l(e.shownEntries,function(n,r){return i("div",{key:r},[n[0]?i("div",[i("i",{staticClass:"fa-solid fa-shapes"}),e._v(" "),i("b",[e._v("Glyph hint:")]),i("br"),e._v(" "+e._s(n[1])+" ")]):i("div",[n[1].hasHint&&!n[1].hasProgress?i("span",[i("i",{staticClass:"c-icon-wrapper fas fa-question-circle"}),i("b",[e._v("You have not figured out what this hint means yet.")])]):i("span",[i("i",{staticClass:"c-icon-wrapper fa-solid fa-house-crack"}),i("b",[e._v("You have exposed a crack in the Reality:")])]),i("br"),e._v(" - "+e._s(n[1].hintInfo)+" "),i("br"),e._v(" - "+e._s(n[1].hasProgress?n[1].completedInfo:"?????")+" ")]),i("br")])}),e.realityHintsLeft+e.glyphHintsLeft>0?i("div",[e._v(" You can spend some time looking for some more cracks in the Reality, but every hint you spend Stored Time on will increase the Stored Time needed for the next by a factor of "+e._s(e.formatInt(3))+". This cost bump will gradually go away over "+e._s(e.formatInt(24))+" hours and figuring out what the hint means will immediately divide the cost by "+e._s(e.formatInt(2))+". The cost can't be reduced below "+e._s(e.format(1e40))+" years. "),i("br"),i("br"),e._v(" The next hint will cost "+e._s(e.hintCost)+" of Stored Time. You currently have "+e._s(e.formattedStored)+". "),e.currentStored<e.nextHintCost?i("span",[e._v(" You will reach this if you charge your Black Hole for "+e._s(e.timeEstimate)+". ")]):e._e(),i("br"),i("br"),i("PrimaryButton",{staticClass:"l-enslaved-hint-button",attrs:{enabled:e.realityHintsLeft>0&&e.canGetHint},on:{click:function(n){return e.giveRealityHint(e.realityHintsLeft)}}},[e._v(" Get a hint about the Reality itself ("+e._s(e.formatInt(e.realityHintsLeft))+" left) ")]),i("br"),i("PrimaryButton",{staticClass:"l-enslaved-hint-button",attrs:{enabled:e.glyphHintsLeft>0&&e.canGetHint},on:{click:function(n){return e.giveGlyphHint(e.glyphHintsLeft)}}},[e._v(" Get a hint on what Glyphs to use ("+e._s(e.formatInt(e.glyphHintsLeft))+" left) ")])],1):i("div",[i("b",[e._v("There are no more hints left!")])])],2)])},cbe=[],ube=X(obe,lbe,cbe,!1,null,"32c2d85a");const dbe=ube.exports,Uu={companion:{adjective:"Huggable",noun:"Companion"},reality:{adjective:"Real",noun:"Reality"},music:{adjective:{high:"Melodic",mid:"Chordal",low:"Tuned"},noun:"Music"},effarig:{adjective:{both:"Meta",glyph:"Stable",rm:"Mechanical",none:"Fragmented"},noun:{both:"Effarig",glyph:"Stability",rm:"Mechanism",none:"Fragmentation"}},cursed:{adjective:{high:"Cursed",mid:"Hexed",low:"Jinxed"},noun:"Curse"},power:{adjective:{high:"Powerful",mid:"Mastered",low:"Potential"},noun:"Power"},infinity:{adjective:{high:"Infinite",mid:"Boundless",low:"Immense"},noun:"Infinity"},replication:{adjective:{high:"Replicated",mid:"Simulated",low:"Duplicated"},noun:"Replication"},time:{adjective:{high:"Temporal",mid:"Chronal",low:"Transient"},noun:"Time"},dilation:{adjective:{high:"Dilated",mid:"Attenuated",low:"Diluted"},noun:"Dilation"}},hbe={name:"GlyphSetName",props:{glyphSet:{type:Array,required:!0},forceColor:{type:Boolean,required:!1,default:!1}},data(){return{isColored:!0,glyphTypeList:[{type:"power",perc:0,adjOrder:1},{type:"infinity",perc:0,adjOrder:1},{type:"replication",perc:0,adjOrder:1},{type:"time",perc:0,adjOrder:1},{type:"dilation",perc:0,adjOrder:1},{type:"effarig",perc:0,adjOrder:2},{type:"music",perc:0,adjOrder:3},{type:"reality",perc:0,adjOrder:4},{type:"companion",perc:0,adjOrder:5},{type:"cursed",perc:0,adjOrder:6}],sortedGlyphs:[],slotCount:0}},computed:{isDoomed:()=>Pelle.isDoomed,setName(){if(this.sortGlyphList(),this.sortedGlyphs.length===0)return"Void";if(this.sortedGlyphs.length===1)return this.singletonName;let t,e;this.sortedGlyphs.some(n=>n.adjOrder===1)?(t=this.sortedGlyphs.filter(n=>n.adjOrder!==1),e=this.basicTypePhrase):(t=[...this.sortedGlyphs],e=this.getNoun(t.pop()));const i=[];for(const n of t)i.push(this.getAdjective(n));return`${i.join(" ")} ${e}`},basicTypePhrase(){const t=this.sortedGlyphs.filter(e=>BASIC_GLYPH_TYPES.includes(e.type)&&e.perc!==0);switch(t.length){case 1:return Uu[t[0].type].noun;case 2:return t[0].perc===t[1].perc?[this.getAdjective(t[0]),this.getAdjective(t[1]),"Mixture"].join(" "):`${this.getAdjective(t[1])} ${this.getNoun(t[0])}`;case 3:return t[0].perc>t[1].perc?[this.getAdjective(t[1]),this.getAdjective(t[2]),this.getNoun(t[0])].join(" "):t[0].perc===t[2].perc?"Mixed Irregularity":[this.getAdjective(t[0]),this.getAdjective(t[1]),this.getAdjective(t[2]),"Irregularity"].join(" ");case 4:return t[0].perc===t[1].perc?"Irregular Jumble":`${this.getAdjective(t[0])} Jumble`;case 5:return"Royal Flush";default:throw new Error("Unexpected glyph set configuration in GlyphSetName")}},singletonName(){if(this.sortedGlyphs[0].type==="effarig")return Uu.effarig.noun[this.getEffarigProp()];const t=["reality","companion"];for(const n of t)if(this.sortedGlyphs[0].type===n)return Uu[n].noun;const e=Uu[this.sortedGlyphs[0].type].noun,i=this.sortedGlyphs[0].perc;return this.isDoomed?`Doomed ${e}`:i===100?`Full ${e}`:i>=75?`Strengthened ${e}`:i>=40?`Partial ${e}`:`Weak ${e}`},mainGlyphName(){if(this.sortedGlyphs.length===0)return{id:"none",currentColor:{border:"#888888"}};if(this.calculateGlyphPercent("cursed"))return CosmeticGlyphTypes.cursed;if(this.calculateGlyphPercent("companion"))return CosmeticGlyphTypes.companion;if(this.calculateGlyphPercent("reality"))return CosmeticGlyphTypes.reality;if(this.calculateGlyphPercent("music")>=50)return CosmeticGlyphTypes.music;const t=this.sortedGlyphs.filter(e=>e.adjOrder===1)[0];return(t==null?void 0:t.perc)>=50?CosmeticGlyphTypes[t.type]:this.calculateGlyphPercent("effarig")?CosmeticGlyphTypes.effarig:CosmeticGlyphTypes[t.type]},textColor(){return this.isDoomed&&this.glyphSet.length===1?"var(--color-pelle--base)":this.mainGlyphName.id==="cursed"?"var(--color-celestials)":this.mainGlyphName.id==="music"?CosmeticGlyphTypes.music.currentColor.border:this.sortedGlyphs.length>=3&&this.sortedGlyphs[0].perc<=30?"#C46200":this.mainGlyphName.currentColor.border},textStyle(){return this.$recompute("mainGlyphName"),!this.isColored&&!this.forceColor?{}:{color:this.textColor,"text-shadow":`-1px 1px 1px var(--color-text-base), 1px 1px 1px var(--color-text-base),
                        -1px -1px 1px var(--color-text-base), 1px -1px 1px var(--color-text-base),
                        0 0 3px ${this.textColor}`,animation:this.mainGlyphName.id==="reality"?"a-reality-glyph-description-cycle 10s infinite":void 0}}},created(){this.on$(GAME_EVENT.GLYPHS_CHANGED,this.sortGlyphList),this.sortGlyphList()},methods:{update(){this.isColored=player.options.glyphTextColors,this.slotCount=Math.max(Glyphs.activeSlotCount,this.glyphSet.length)},getEffarigProp(){const t=this.glyphSet.some(i=>getSingleGlyphEffectFromBitmask("effarigrm",i)),e=this.glyphSet.some(i=>getSingleGlyphEffectFromBitmask("effarigglyph",i));return t&&e?"both":t?"rm":e?"glyph":"none"},calculateGlyphPercent(t){const e=this.slotCount?100/this.slotCount:0;return t==="music"?this.glyphSet.filter(i=>Glyphs.isMusicGlyph(i)).length*e:this.glyphSet.filter(i=>i.type===t).length*e},sortGlyphList(){this.$recompute("textColor"),this.glyphTypeList.forEach(e=>e.perc=this.calculateGlyphPercent(e.type)),this.sortedGlyphs=this.glyphTypeList.filter(e=>e.perc!==0);const t=e=>100*e.adjOrder+e.perc+e.type.charCodeAt(0)/1e3;this.sortedGlyphs.sort((e,i)=>t(i)-t(e))},getAdjective(t){if(t.type==="effarig")return Uu.effarig.adjective[this.getEffarigProp()];const e=n=>n>=60?"high":n>=40?"mid":"low",i=Uu[t.type].adjective;return typeof i=="string"?i:i[e(t.perc)]},getNoun(t){return t.type==="effarig"?Uu.effarig.noun[this.getEffarigProp()]:Uu[t.type].noun}}};var fbe=function(){var e=this,i=e._self._c;return i("div",[i("span",{staticClass:"c-current-glyph-effects__header",style:e.textStyle},[e._v(" "+e._s(e.setName)+" ")])])},pbe=[],mbe=X(hbe,fbe,pbe,!1,null,null);const nx=mbe.exports,ybe={name:"GlyphSetPreview",components:{GlyphComponent:ou,GlyphSetName:nx},props:{text:{type:String,required:!1,default:""},textHidden:{type:Boolean,required:!1,default:!1},glyphs:{type:Array,required:!0},ignoreModifiedLevel:{type:Boolean,required:!1,default:!1},flipTooltip:{type:Boolean,required:!1,default:!1},isInModal:{type:Boolean,required:!1,default:!1},showName:{type:Boolean,required:!1,default:!0},forceNameColor:{type:Boolean,required:!1,default:!0},showSacrifice:{type:Boolean,required:!1,default:!1},noneText:{type:String,required:!1,default:"(No Glyphs equipped)"},sort:{type:Boolean,required:!1,default:!0}},data(){return{realityGlyphBoost:0}},computed:{orderedGlyphs(){if(!this.sort)return this.glyphs;const t=["reality","effarig","power","infinity","replication","time","dilation","cursed","companion"],e=Glyphs.copyForRecords(this.glyphs);return e.sort((i,n)=>t.indexOf(i.type)-t.indexOf(n.type)),e}},watch:{glyphs(){this.$recompute("orderedGlyphs")}},methods:{update(){const t=this.glyphs.filter(e=>e.type==="reality")[0];this.realityGlyphBoost=t?GlyphEffects.realityglyphlevel.effect(t.level):0},showModal(){this.isInModal||Modal.glyphShowcasePanel.show({name:this.text,glyphSet:this.glyphs,closeEvent:GAME_EVENT.GLYPH_SET_SAVE_CHANGE,displaySacrifice:this.showSacrifice})},glyphHash(){return Glyphs.hash(this.glyphs)}}};var gbe=function(){var e=this,i=e._self._c;return i("div",[e.text&&!e.textHidden?i("span",[e._v(" "+e._s(e.text)+" "),i("br")]):e._e(),e.glyphs.length!==0?i("span",{class:{"l-glyph-set-preview":!e.isInModal},on:{click:e.showModal}},[e.showName?i("GlyphSetName",{key:e.glyphHash(),attrs:{"glyph-set":e.glyphs,"force-color":e.forceNameColor}}):e._e(),e._l(e.orderedGlyphs,function(n,r){return i("GlyphComponent",{key:r,staticClass:"l-preview",attrs:{glyph:n,"show-sacrifice":e.showSacrifice,draggable:!1,circular:!0,"ignore-modified-level":e.ignoreModifiedLevel,"reality-glyph-boost":e.realityGlyphBoost,"flip-tooltip":e.flipTooltip,"is-in-modal":e.isInModal,size:"3rem","text-proportion":.5,"glow-blur":"0.2rem","glow-spread":"0.1rem"}})})],2):i("span",[e.showName?i("GlyphSetName",{attrs:{"glyph-set":e.glyphs,"force-color":e.forceNameColor}}):e._e(),e._v(" "+e._s(e.noneText)+" ")],1)])},vbe=[],bbe=X(ybe,gbe,vbe,!1,null,"1ead695a");const Yf=bbe.exports,_be={name:"GlyphSetSaveDeleteModal",components:{ModalWrapperChoice:Ht,GlyphSetPreview:Yf},props:{glyphSetId:{type:Number,required:!0}},data(){return{glyphSet:[]}},methods:{update(){this.glyphSet=Glyphs.copyForRecords(player.reality.glyphs.sets[this.glyphSetId].glyphs)},handleYesClick(){player.reality.glyphs.sets[this.glyphSetId].glyphs=[],EventHub.dispatch(GAME_EVENT.GLYPH_SET_SAVE_CHANGE)}}};var wbe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"deleteGlyphSetSave"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Delete this Glyph Set ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Delete ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Please confirm your desire to delete this Glyph Set: "),i("GlyphSetPreview",{attrs:{"is-in-modal":!0,glyphs:e.glyphSet}}),e._v(" This will not affect your actual Glyphs, only the saved preset. ")],1)])},Ebe=[],Tbe=X(_be,wbe,Ebe,!1,null,null);const Cbe=Tbe.exports,kbe={name:"GlyphShowcasePanelEntry",components:{GlyphComponent:ou},props:{idx:{type:Number,required:!0},glyph:{type:Object,required:!0},showLevel:{type:Boolean,required:!0},realityGlyphBoost:{type:Number,default:0},maxGlyphEffects:{type:Number,required:!0},showSacrifice:{type:Boolean,required:!0}},data(){return{canSacrifice:!1}},computed:{type(){return this.glyph.type},typeCapitalized(){return this.type.capitalize()},level(){return this.glyph.level},effectiveLevel(){return getAdjustedGlyphLevel(this.glyph,this.realityGlyphBoost,!0)},isLevelCapped(){return this.effectiveLevel&&this.effectiveLevel<this.level},isLevelBoosted(){return this.effectiveLevel&&this.effectiveLevel>this.level},levelText(){if(this.type==="companion")return"";const t=this.isLevelCapped?"<i class='fas fa-sort-down'></i>":this.isLevelBoosted?"<i class='fas fa-sort-up'></i>":"";return`<span style="color: ${this.isLevelCapped?"#ff4444":this.isLevelBoosted?"#44FF44":"var(--color-text);"}">
                  ${t}${formatInt(this.effectiveLevel)}${t}
                  </span>`},typeStyle(){return{color:GlyphAppearanceHandler.getBorderColor(this.type),"font-weight":"bold","text-shadow":this.type==="cursed"?"0.05rem 0.05rem var(--color-text)":void 0,animation:this.type==="reality"?"a-reality-glyph-description-cycle 10s infinite":void 0}},rarityStyle(){return{color:CosmeticGlyphTypes[this.glyph.type].ignoreRarityColor?GlyphAppearanceHandler.getBorderColor(this.type):getRarity(this.glyph.strength)[Theme.current().isDark()?"darkColor":"lightColor"],"font-weight":"bold"}},effectStyle(){return{"font-size":`${this.type==="effarig"?1:1.2}rem`,height:this.glyphEffectListHeight(this.maxGlyphEffects)}},glyphEffectList(){const t=GlyphEffects;return getGlyphEffectValuesFromBitmask(this.glyph.effects,this.effectiveLevel,this.glyph.strength,this.type).filter(n=>t[n.id].isGenerated===generatedTypes.includes(this.type)).map(n=>this.formatEffectString(t[n.id],n.value)).filter(n=>n!=="undefined")},rarityPercent(){return this.glyph.type==="companion"||this.glyph.type==="cursed"?"":formatRarity(strengthToRarity(this.glyph.strength))}},methods:{update(){this.canSacrifice=GlyphSacrificeHandler.canSacrifice},glyphEffectListHeight(t){return["3rem","6rem","8rem","11rem"][t-1]},formatEffectString(t,e){const i=t.shortDesc,n=t.formatSingleEffect?t.formatSingleEffect(e):t.formatEffect(e),r=t.conversion?t.formatSecondaryEffect(t.conversion(e)):"";return{text:`${i}`.replace("{value}",n).replace("{value2}",r),isPelleDisabled:t.isDisabledByDoomed}},clickGlyph(t){Glyphs.isMusicGlyph(t)&&new Audio(`audio/note${GLYPH_TYPES.indexOf(t.type)+1}.mp3`).play()}}};var Sbe=function(){var e=this,i=e._self._c;return i("div",[i("div",{staticClass:"c-glyph-choice-icon"},[i("span",{style:e.typeStyle},[e._v(e._s(e.typeCapitalized))]),e.showLevel?i("div",{domProps:{innerHTML:e._s(e.levelText)}}):e._e(),i("GlyphComponent",{key:e.idx,staticClass:"c-glyph-component-container",attrs:{glyph:e.glyph,"show-sacrifice":e.showSacrifice&&e.canSacrifice,draggable:!1,circular:!0,"ignore-modified-level":!1,"reality-glyph-boost":e.realityGlyphBoost,"is-in-modal":!0,size:"4rem","text-proportion":.5,"glow-blur":"0.4rem","glow-spread":"0.1rem"},on:{clicked:function(n){return e.clickGlyph(e.glyph)}}}),i("div",{style:e.rarityStyle},[e._v(" "+e._s(e.rarityPercent)+" ")])],1),i("div",{staticClass:"c-glyph-choice-effect-list",style:e.effectStyle},e._l(e.glyphEffectList,function(n,r){return i("div",{key:r,class:{"o-pelle-disabled":n.isPelleDisabled}},[e._v(" "+e._s(n.text)+" ")])}),0)])},Abe=[],xbe=X(kbe,Sbe,Abe,!1,null,"14c48465");const Dbe=xbe.exports,Ibe={name:"GlyphShowcasePanelModal",components:{GlyphSetName:nx,ModalWrapper:ka,GlyphShowcasePanelEntry:Dbe},props:{name:{type:String,required:!0},glyphSet:{type:Array,required:!0},isGlyphSelection:{type:Boolean,default:!1},showSetName:{type:Boolean,default:!0},displaySacrifice:{type:Boolean,default:!0}},data(){return{glyphs:[],gainedLevel:0,canSacrifice:!1,realityGlyphBoost:0}},computed:{maxGlyphEffects(){let t=1;for(const e of this.glyphs)t=Math.max(getGlyphEffectsFromBitmask(e.effects).filter(i=>i.isGenerated).length,t);return t},containerClass(){return{"c-glyph-choice-container":!0,"c-glyph-choice-container-single":this.glyphs.length===1}}},methods:{update(){this.glyphs=this.isGlyphSelection?GlyphSelection.glyphList(GlyphSelection.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1}):this.glyphSet.filter(e=>e),this.sortGlyphs(),this.gainedLevel=gainedGlyphLevel().actualLevel;const t=this.glyphs.filter(e=>e.type==="reality")[0];this.realityGlyphBoost=t?GlyphEffects.realityglyphlevel.effect(t.level):0},sortGlyphs(){const t=["reality","effarig","power","infinity","replication","time","dilation","cursed","companion"];this.glyphs.sort((e,i)=>t.indexOf(e.type)-t.indexOf(i.type))}}};var Rbe=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.name)+" ")]},proxy:!0}])},[e.isGlyphSelection?i("div",[e._v(" Projected Glyph Level: "+e._s(e.formatInt(e.gainedLevel))+" ")]):e._e(),e.showSetName?i("GlyphSetName",{attrs:{"glyph-set":e.glyphs,"force-color":!0}}):e._e(),i("div",{class:e.containerClass},e._l(e.glyphs,function(n,r){return i("GlyphShowcasePanelEntry",{key:r,staticClass:"c-glyph-choice-single-glyph",attrs:{idx:r,glyph:n,"show-level":!e.isGlyphSelection,"reality-glyph-boost":e.realityGlyphBoost,"max-glyph-effects":e.maxGlyphEffects,"show-sacrifice":e.displaySacrifice}})}),1)],1)},Mbe=[],Pbe=X(Ibe,Rbe,Mbe,!1,null,"62233e1f");const Obe=Pbe.exports,Nbe={name:"H2PModal",components:{ModalCloseButton:Km},data(){return{tabId:0,searchValue:""}},computed:{activeTab:{get(){return GameDatabase.h2p.tabs[this.tabId]},set(t){this.tabId=t.id}},matchingTabs(){return GameDatabase.h2p.search(this.searchValue).filter(t=>t.tab.isUnlocked())},topThreshold(){return Math.min(this.matchingTabs[Math.min(this.matchingTabs.length-1,4)].relevance+.01,.5)}},created(){const t=GameDatabase.h2p.tabs.filter(r=>r.isUnlocked()),e=this.$viewModel.tab,i=`${e}/${this.$viewModel.subtab}`,n=t.find(r=>r.tab===i||r.tab===e);this.activeTab=ui.view.h2pForcedTab||n||t[0],ui.view.h2pForcedTab=void 0,Tutorial.emphasizeH2P()&&(this.activeTab=GameDatabase.h2p.tabs[0])},mounted(){this.$refs.input.select()},methods:{setActiveTab(t){this.activeTab=t,document.getElementById("h2p-body").scrollTop=0},isFirstIrrelevant(t){const e=this.matchingTabs,i=e[t],n=e[t-1];return t>0&&i.relevance>=this.topThreshold&&n.relevance<this.topThreshold}}};var Gbe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-h2p-modal"},[i("ModalCloseButton",{on:{click:e.emitClose}}),e._m(0),i("div",{staticClass:"l-h2p-container"},[i("div",{staticClass:"l-h2p-search-tab"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"input",staticClass:"c-h2p-search-bar",attrs:{placeholder:"Type to search..."},domProps:{value:e.searchValue},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(n){n.target.composing||(e.searchValue=n.target.value)}}}),i("div",{staticClass:"l-h2p-tab-list"},e._l(e.matchingTabs,function(n,r){return i("div",{key:n.tab.name,staticClass:"o-h2p-tab-button",class:{"o-h2p-tab-button--selected":n.tab===e.activeTab,"o-h2p-tab-button--relevant":n.relevance<e.topThreshold,"o-h2p-tab-button--first-irrelevant":e.isFirstIrrelevant(r)},on:{click:function(a){return e.setActiveTab(n.tab)}}},[e._v(" "+e._s(n.tab.alias)+" ")])}),0)]),i("div",{staticClass:"l-h2p-info"},[i("div",{staticClass:"c-h2p-body--title"},[e._v(" "+e._s(e.activeTab.name)+" ")]),i("div",{staticClass:"l-h2p-body c-h2p-body",attrs:{id:"h2p-body"},domProps:{innerHTML:e._s(e.activeTab.info())}})])])],1)},Ube=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"l-h2p-header"},[e("div",{staticClass:"c-h2p-title"},[t._v(" How To Play ")])])}],Lbe=X(Nbe,Gbe,Ube,!1,null,"afef530a");const Bbe=Lbe.exports,$be={name:"ImportAutomatorDataModal",components:{ModalWrapperChoice:Ht},data(){return{input:"",isValid:!1,hasExtraData:!1,scriptName:"",lineCount:0,scriptContent:"",hasErrors:!1,importedPresets:[],importedConstants:[],ignorePresets:!1,ignoreConstants:!1}},computed:{hasPresets(){var t;return(((t=this.importedPresets)==null?void 0:t.length)??0)!==0},hasConstants(){var t;return(((t=this.importedConstants)==null?void 0:t.length)??0)!==0},isImportingExtraData(){const t=this.willOverwriteConstant||this.constantCountAfterImport>this.currentConstants,e=this.importedPresets?!this.ignorePresets:!1,i=this.importedConstants?!this.ignoreConstants&&t:!1;return this.isValid&&this.hasExtraData&&(e||i)},currentPresets:()=>player.timestudy.presets,currentConstants:()=>Object.keys(player.reality.automator.constants),maxConstantCount(){return AutomatorData.MAX_ALLOWED_CONSTANT_COUNT},overwrittenPresetCount(){let t=0;for(const e of this.importedPresets){const i=this.currentPresets[e.id];!(i.name===""&&i.studies==="")&&(i.name!==e.name||i.studies!==e.studies)&&t++}return t},willOverwriteConstant(){if(!this.hasExtraData)return!1;const t=new Set;for(const e of this.currentConstants)t.add(e);for(const e of this.importedConstants)if(t.has(e.key)&&player.reality.automator.constants[e.key]!==e.value)return!0;return!1},constantCountAfterImport(){if(!this.hasExtraData)return this.currentConstants.length;const t=new Set;for(const e of this.currentConstants)t.add(e);for(const e of this.importedConstants)t.add(e.key);return t.size},extraConstants(){return this.constantCountAfterImport-this.maxConstantCount},presetButtonText(){return this.ignorePresets?"Will Ignore Presets":"Will Import Presets"},constantButtonText(){return this.ignoreConstants?"Will Ignore Constants":"Will Import Constants"}},mounted(){this.$refs.input.select()},methods:{update(){let t=AutomatorBackend.parseFullScriptData(this.input);if(t?this.hasExtraData=!0:(t=AutomatorBackend.parseScriptContents(this.input),this.hasExtraData=!1),!t){this.isValid=!1;return}this.scriptName=t.name,this.scriptContent=t.content,this.importedPresets=t.presets,this.importedConstants=t.constants,this.lineCount=this.scriptContent.split(`
`).length,this.hasErrors=SU(this.scriptContent),this.isValid=!0},importSave(){this.isValid&&(this.hasExtraData?AutomatorBackend.importFullScriptData(this.input,{presets:this.ignorePresets,constants:this.ignoreConstants}):AutomatorBackend.importScriptContents(this.input),this.emitClose())}}};var Fbe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.isValid,"show-confirm":e.isValid},on:{confirm:e.importSave},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Import Automator Script Data ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Import ")]},proxy:!0}])},[e._v(" This will create a new Automator script at the end of your list. "),e.isImportingExtraData?i("span",[e._v("This will also import additional data related to the script.")]):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.importSave.apply(null,arguments)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(n){n.target.composing||(e.input=n.target.value)}}}),e.isValid?i("div",[e._v(" Script name: "+e._s(e.scriptName)+" "),i("br"),e._v(" Line count: "+e._s(e.lineCount)+" "),e.hasPresets?i("div",[i("br"),e._v(" Study Presets: "),e._l(e.importedPresets,function(n,r){return i("span",{key:r,staticClass:"c-import-data-name"},[n.name?i("span",[e._v('"'+e._s(n.name)+'" (slot '+e._s(n.id+1)+")")]):i("span",[e._v("Preset slot #"+e._s(n.id+1))])])}),!e.ignorePresets&&e.overwrittenPresetCount>0?i("div",{staticClass:"l-has-errors"},[e._v(" "+e._s(e.formatInt(e.overwrittenPresetCount))+" of your existing presets will be overwritten by imported presets! ")]):e._e(),i("br"),i("button",{staticClass:"o-primary-btn",on:{click:function(n){e.ignorePresets=!e.ignorePresets}}},[e._v(" "+e._s(e.presetButtonText)+" ")])],2):e._e(),e.hasConstants?i("div",[i("br"),e._v(" Constants: "),e._l(e.importedConstants,function(n,r){return i("span",{key:r+10,staticClass:"c-import-data-name"},[e._v(' "'+e._s(n.key)+'" ')])}),!e.ignoreConstants&&(e.willOverwriteConstant||e.extraConstants>0)?i("div",{staticClass:"l-has-errors"},[e.willOverwriteConstant?i("span",[e._v("Some of your existing constants will be overwritten!")]):e._e(),e.willOverwriteConstant&&e.extraConstants>0?i("br"):e._e(),e.extraConstants>0?i("span",[e._v(" "+e._s(e.quantifyInt("constant",e.extraConstants))+" will not be imported due to the "+e._s(e.maxConstantCount)+" constant limit. ")]):e._e()]):e._e(),i("br"),i("button",{staticClass:"o-primary-btn",on:{click:function(n){e.ignoreConstants=!e.ignoreConstants}}},[e._v(" "+e._s(e.constantButtonText)+" ")])],2):e._e(),i("br"),e.hasErrors?i("div",{staticClass:"l-has-errors"},[e._v(" This script has errors which need to be fixed before it can be run! ")]):e._e(),e.hasErrors&&e.isImportingExtraData?i("div",[i("i",[e._v("Some errors may be fixed with the additional data being imported.")])]):e._e()]):e.input.length!==0?i("div",[e._v(" Invalid Automator data string ")]):e._e()])},Hbe=[],Vbe=X($be,Fbe,Hbe,!1,null,"72e8bdaa");const Ybe=Vbe.exports,qbe={name:"ImportFilterSingleType",props:{type:{type:String,required:!0},currSettings:{type:Object,required:!0},newSettings:{type:Object,required:!0}},computed:{settingsChanged(){return JSON.stringify(this.currSettings)!==JSON.stringify(this.newSettings)},symbol(){return GLYPH_SYMBOLS[this.type]},capitalized(){return`${this.type.charAt(0).toUpperCase()}${this.type.substring(1)}`},rarityStr(){return this.changedValue(this.currSettings.rarity,this.newSettings.rarity,t=>formatPercents(t/100))},effectStr(){return this.changedValue(this.currSettings.effectCount,this.newSettings.effectCount,formatInt)},scoreStr(){return this.changedValue(this.currSettings.score,this.newSettings.score,formatInt)},effectData(){const t=[];for(let e=0;e<this.currSettings.effectScores.length;e++){const i=AutoGlyphProcessor.bitmaskIndexOffset(this.type)+e;t.push({bitmaskIndex:i,oldReq:(this.currSettings.specifiedMask&1<<i)!==0,newReq:(this.newSettings.specifiedMask&1<<i)!==0,oldScore:this.currSettings.effectScores[e],newScore:this.newSettings.effectScores[e]})}return t}},methods:{changedValue(t,e,i){return t===e?i(t):`${i(t)}➜${i(e)}`},effectScoreStr(t){const e=(r,a)=>`${r?"✔":"✘"}${formatInt(a)}`,i=e(t.oldReq,t.oldScore),n=e(t.newReq,t.newScore);return t.oldScore===t.newScore?i:`${i}➜${n}`},topLevelClassObject(t){return{"o-cell":!0,"o-cell--changed":this.currSettings[t]!==this.newSettings[t]}},effectClassObject(t){return{"o-cell":!0,"o-cell--changed":t.oldReq!==t.newReq||t.oldScore!==t.newScore}},getEffectDesc(t){return GlyphEffects.all.find(e=>e.bitmaskIndex===t.bitmaskIndex&&e.isGenerated).genericDesc}}};var Wbe=function(){var e=this,i=e._self._c;return i("div",[e._v(" "+e._s(e.symbol)+": "),e.settingsChanged?i("span",[i("span",{staticClass:"c-single-row"},[i("span",{staticClass:"c-rarity",class:e.topLevelClassObject("rarity"),attrs:{"ach-tooltip":"Setting for Rarity Threshold and Specified Effect"}},[e._v(" "+e._s(e.rarityStr)+" ")]),i("span",{staticClass:"c-effects-count",class:e.topLevelClassObject("effectCount"),attrs:{"ach-tooltip":"Number of effects in Specified Effect"}},[e._v(" Minimum Effects: "+e._s(e.effectStr)+" ")]),i("span",{staticClass:"c-target-score",class:e.topLevelClassObject("score"),attrs:{"ach-tooltip":"Threshold for Effect Score"}},[e._v(" Score: "+e._s(e.scoreStr)+" ")])]),i("br"),i("span",{staticClass:"c-single-row"},e._l(e.effectData.slice(0,4),function(n){return i("span",{key:n.bitmaskIndex,staticClass:"c-single-score",class:e.effectClassObject(n),attrs:{"ach-tooltip":e.getEffectDesc(n)}},[e._v(" "+e._s(e.effectScoreStr(n))+" ")])}),0),e.effectData.length>4?i("span",{staticClass:"c-single-row c-second-row"},[i("br"),e._l(e.effectData.slice(4),function(n){return i("span",{key:n.bitmaskIndex,staticClass:"c-single-score o-cell",class:e.effectClassObject(n),attrs:{"ach-tooltip":e.getEffectDesc(n)}},[e._v(" "+e._s(e.effectScoreStr(n))+" ")])})],2):e._e()]):i("span",[e._v(" (No changes) ")])])},jbe=[],zbe=X(qbe,Wbe,jbe,!1,null,"a437bd0e");const Xbe=zbe.exports,Kbe={name:"ImportFilterModal",components:{ModalWrapperChoice:Ht,PrimaryButton:mt,ImportFilterSingleType:Xbe},data(){return{currentSettings:{},input:""}},computed:{inputIsValid(){let t;try{return t=GameSaveSerializer.decodeText(this.input,"glyph filter"),t.length>0&&t.match(/^[0-9,.|/-]*$/u)!==null}catch{return!1}},parsedSettings(){if(!this.inputIsValid)return null;const e=GameSaveSerializer.decodeText(this.input,"glyph filter").split("|"),i={};let n=3;for(const r of ALCHEMY_BASIC_GLYPH_TYPES){if(!r)continue;const a=e[n].split(",");i[r]={rarity:Number(a[0]),score:Number(a[1]),effectCount:Number(a[2]),specifiedMask:Number(a[3]),effectScores:a[4].split("/").map(s=>Number(s))},n++}return{select:Number(e[0]),simple:Number(e[1]),trash:Number(e[2]),types:i}},selectStr(){return this.changedValue(this.parsedSettings.select,this.currentSettings.select,t=>AutoGlyphProcessor.filterModeName(t))},basicCountStr(){return this.changedValue(this.parsedSettings.simple,this.currentSettings.simple,formatInt)},trashStr(){return this.changedValue(this.parsedSettings.trash,this.currentSettings.trash,t=>AutoGlyphProcessor.trashModeDesc(t))},availableTypes(){return ALCHEMY_BASIC_GLYPH_TYPES.filter(t=>!GlyphTypes.locked.map(e=>e.id).includes(t))},settingTooltipText(){return`Mouseover each box for more details. ✔ and ✘ symbols denote an effect
        selected/unselected for Specified Effect mode.`}},mounted(){this.$refs.input.select()},methods:{update(){this.currentSettings=JSON.parse(JSON.stringify(player.reality.glyphs.filter))},changedValue(t,e,i){return t===e?"(No change)":`${i(t)} ➜ ${i(e)}`},importFilter(){this.parsedSettings!==null&&(this.emitClose(),player.reality.glyphs.filter=this.parsedSettings)}}};var Zbe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.inputIsValid,"show-confirm":!1},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Import Glyph filter settings ")]},proxy:!0}])},[e._v(" Note: Importing Glyph filter options will overwrite settings "),i("br"),e._v(" in all filter modes, not just the currently-selected one. "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.importSave.apply(null,arguments)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(n){n.target.composing||(e.input=n.target.value)}}}),i("div",{staticClass:"c-modal-import__save-info"},[e.input?e.inputIsValid?i("div",[i("b",[e._v("Selection mode:")]),e._v(" "+e._s(e.selectStr)+" "),i("br"),i("b",[e._v('Effect Count ("Number of Effects"):')]),e._v(" "+e._s(e.basicCountStr)+" "),i("br"),i("b",[e._v("Rejected Glyphs:")]),e._v(" "+e._s(e.trashStr)+" "),i("br"),i("u",[i("b",[e._v("Type-specific Settings")])]),e._v(" "),i("span",{attrs:{"ach-tooltip":e.settingTooltipText}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),e._l(e.availableTypes,function(n){return i("ImportFilterSingleType",{key:n,staticClass:"c-single-type",attrs:{type:n,"curr-settings":e.currentSettings.types[n],"new-settings":e.parsedSettings.types[n]}})})],2):i("div",[e._v(" Not a valid Glyph filter string ")]):i("div")]),e.inputIsValid?i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.importFilter}},[e._v(" Import ")]):e._e()],1)},Qbe=[],Jbe=X(Kbe,Zbe,Qbe,!1,null,"13743a53");const e_e=Jbe.exports,Lu={IMPORTED:0,LOCAL:1,IGNORED:2},t_e={name:"ImportSaveModal",components:{ModalWrapperChoice:Ht,PrimaryButton:mt},data(){return{input:"",offlineImport:Lu.IMPORTED}},computed:{saveCheckString(){const t=GameSaveSerializer.deserialize(this.input),e=GameStorage.checkPlayerObject(t);return e.length>300?`${e.slice(0,297)}...`:e},player(){return this.saveCheckString===""?GameSaveSerializer.deserialize(this.input):void 0},progress(){return PlayerProgress.of(this.player)},fileName(){return this.player.options.saveFileName},antimatter(){return this.player.antimatter||this.player.money},infinities(){const t=this.player.infinitied?this.player.infinitied:this.player.infinities;return new Decimal(t)},hasInput(){return this.input!==""},inputIsValid(){return this.inputIsValidSave||this.inputIsSecret},inputIsValidSave(){return this.player!==void 0},inputIsSecret(){return isSecretImport(this.input)||Theme.isSecretTheme(this.input)},isFromFuture(){return this.player.lastUpdate>Date.now()},lastOpened(){const t=Date.now()-this.player.lastUpdate;return this.isFromFuture?`This save is from ${TimeSpan.fromMilliseconds(-t).toString()} in the future.`:`This save was last opened ${TimeSpan.fromMilliseconds(t).toString()} ago.`},offlineType(){switch(this.updateOfflineSettings(),this.offlineImport){case Lu.IMPORTED:return"Using imported save settings";case Lu.LOCAL:return"Using existing save settings";case Lu.IGNORED:return"Will not simulate offline time";default:throw new Error("Unrecognized offline progress setting for importing")}},offlineDetails(){if(this.offlineImport===Lu.IGNORED)return"Save will be imported without offline progress.";if(!GameStorage.offlineEnabled)return"This setting will not apply any offline progress after importing.";if(this.isFromFuture)return"Offline progress cannot be simulated due to an inconsistent system clock time.";const t=Date.now()-this.player.lastUpdate,e=GameStorage.maxOfflineTicks(t);return`After importing, will simulate ${formatInt(e)} ticks of duration
        ${TimeSpan.fromMilliseconds(t/e).toStringShort()} each.`},willLoseCosmetics(){var i,n;const t=player.reality.glyphs.cosmetics.unlockedFromNG,e=((n=(i=this.player.reality)==null?void 0:i.glyphs.cosmetics)==null?void 0:n.unlockedFromNG)??[];return t.filter(r=>!e.includes(r)).length>0},willLoseSpeedrun(){var t;return player.speedrun.isUnlocked&&!((t=this.player.speedrun)!=null&&t.isUnlocked)}},mounted(){this.$refs.input.select()},destroyed(){GameStorage.offlineEnabled=void 0,GameStorage.offlineTicks=void 0},methods:{changeOfflineSetting(){this.offlineImport=(this.offlineImport+1)%3},updateOfflineSettings(){switch(this.offlineImport){case Lu.IMPORTED:GameStorage.offlineEnabled=this.player.options.offlineProgress??!0,GameStorage.offlineTicks=this.player.options.offlineTicks??1e5;break;case Lu.LOCAL:GameStorage.offlineEnabled=player.options.offlineProgress,GameStorage.offlineTicks=player.options.offlineTicks;break;case Lu.IGNORED:GameStorage.offlineEnabled=!1;break}},importSave(){this.inputIsValid&&(this.emitClose(),GameStorage.import(this.input))}}};var i_e=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.inputIsValid,"show-confirm":!1},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Input your save ")]},proxy:!0}])},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.importSave.apply(null,arguments)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(n){n.target.composing||(e.input=n.target.value)}}}),i("div",{staticClass:"c-modal-import__save-info"},[e.inputIsSecret?i("div",[e._v(" ??? ")]):e.inputIsValidSave?[e.fileName?i("div",[e._v(" File name: "+e._s(e.fileName)+" ")]):e._e(),i("div",[e._v("Antimatter: "+e._s(e.formatPostBreak(e.antimatter,2,1)))]),e.progress.isInfinityUnlocked?i("div",[e._v(" Infinities: "+e._s(e.formatPostBreak(e.infinities,2))+" ")]):e._e(),e.progress.isEternityUnlocked?i("div",[e._v(" Eternities: "+e._s(e.formatPostBreak(e.player.eternities,2))+" ")]):e._e(),e.progress.isRealityUnlocked?i("div",[e._v(" Realities: "+e._s(e.formatPostBreak(e.player.realities,2))+" ")]):e._e(),e.progress.hasFullCompletion?i("div",[e._v(" Full game completions: "+e._s(e.formatInt(e.player.records.fullGameCompletions))+" ")]):e._e(),i("div",{staticClass:"c-modal-import__warning"},[e._v(" (Your current save file will be overwritten!) ")]),i("br"),i("div",[e._v(" "+e._s(e.lastOpened)+" "),i("div",{staticClass:"o-primary-btn",on:{click:e.changeOfflineSetting}},[e._v(" Offline Progress: "+e._s(e.offlineType)+" ")]),i("span",{domProps:{innerHTML:e._s(e.offlineDetails)}})])]:e.hasInput?i("div",[e._v(" Not a valid save: "),i("br"),e._v(" "+e._s(e.saveCheckString)+" ")]):e._e(),e.player?i("div",{staticClass:"c-modal-hard-reset-danger"},[e.willLoseCosmetics?i("div",[i("br"),e._v(" Glyph cosmetic sets from completing the game are tied to your save. "),i("br"),e._v(" Importing this save will cause you to lose some sets. ")]):e._e(),e.willLoseSpeedrun?i("div",[i("br"),e._v(" You will lose the ability to do a Speedrun, as this save does not have it unlocked. ")]):e._e()]):e._e()],2),e.inputIsValid?i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.importSave}},[e._v(" Import ")]):e._e()],1)},n_e=[],r_e=X(t_e,i_e,n_e,!1,null,null);const a_e=r_e.exports,s_e={name:"ImportTimeStudyConstants",components:{ModalWrapperChoice:Ht},data(){return{constantNames:[],willImport:[]}},computed:{presets:()=>player.timestudy.presets.filter(t=>t.studies!==""),names(){return this.presets.map((t,e)=>`TSPreset${e+1}__${t.name.replaceAll(/[^a-zA-Z_0-9]/gu,"_")}`)}},methods:{update(){this.constantNames=[...player.reality.automator.constantSortOrder],this.updateImportStatus()},importConstants(){for(let t=0;t<this.presets.length;t++)AutomatorBackend.modifyConstant(this.names[t],this.presets[t].studies)},hasConflict(t){return this.constantNames.includes(t)},updateImportStatus(){let t=AutomatorData.MAX_ALLOWED_CONSTANT_COUNT-this.constantNames.length;this.willImport=[];for(let e=0;e<this.names.length;e++)this.hasConflict(this.names[e])?this.willImport.push(!0):t>0?(this.willImport.push(!0),t--):this.willImport.push(!1)},missedImports(){return this.willImport.countWhere(t=>!t)},shortenString(t){return t.length<55?t:`${t.substring(0,12)}...${t.substring(t.length-40,t.length)}`}}};var o_e=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.importConstants},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Importing Time Study Presets as Constants ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Import All ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Confirming this modal will import all of your saved Time Study presets as new Automator constants. Below are all the valid presets which will be imported, with the beginning and end of their contained studies shown. Some names may be changed due to restrictions on constant name formatting. "),i("br"),i("br"),e._l(e.presets.length,function(n){return i("div",{key:n,class:{"l-not-imported":!e.willImport[n-1]}},[e._v(" Name: "+e._s(e.presets[n-1].name)+" ➜ "),i("b",[e._v(e._s(e.names[n-1]))]),i("br"),e._v(" "+e._s(e.shortenString(e.presets[n-1].studies))+" "),e.hasConflict(e.names[n-1])?i("span",{staticClass:"l-warn-text"},[i("br"),e._v(" This will overwrite an existing constant! ")]):e._e(),i("br"),i("br")])}),e.missedImports()>0?i("div",{staticClass:"l-warn-text"},[e._v(" "+e._s(e.quantify("preset",e.missedImports()))+" in this list cannot be imported due to the limit on constant count. ")]):e._e()],2)])},l_e=[],c_e=X(s_e,o_e,l_e,!1,null,"ec06ca9d");const u_e=c_e.exports,d_e={name:"InformationModalButton",props:{name:{type:String,required:!0},icon:{type:String,required:!0},link:{type:String,required:!1,default:null},showModal:{type:String,required:!1,default:null}},methods:{openAssociatedModal(){Modal[this.showModal].show()},openLink(){$L(this.link)}}};var h_e=function(){var e=this,i=e._self._c;return i("span",{staticClass:"c-socials--icon__wrapper",attrs:{"ach-tooltip":e.name}},[e.link?i("a",{staticClass:"c-socials--icon",on:{click:e.openLink}},[i("i",{class:e.icon})]):i("a",{staticClass:"c-socials--icon",on:{click:e.openAssociatedModal}},[i("i",{class:e.icon})])])},f_e=[],p_e=X(d_e,h_e,f_e,!1,null,"84edbd9e");const m_e=p_e.exports,y_e={name:"InformationModal",components:{ModalCloseButton:Km,InformationModalButton:m_e}};var g_e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-information-modal c-information-modal"},[i("ModalCloseButton",{on:{click:e.emitClose}}),e._m(0),e._m(1),i("div",{staticClass:"l-socials"},[i("InformationModalButton",{attrs:{name:"GitHub repository",icon:"fa-brands fa-github",link:"https://github.com/three6030s/AD-x1000"}}),i("InformationModalButton",{attrs:{name:"Credits",icon:"fa-solid fa-users","show-modal":"credits"}}),i("InformationModalButton",{attrs:{name:"Game Changelog",icon:"fa-solid fa-file-lines","show-modal":"changelog"}})],1)],1)},v_e=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"l-h2p-header"},[e("div",{staticClass:"c-h2p-title"},[t._v(" About the game ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-info-body"},[t._v(" Antimatter Dimensions is an Active Incremental game created by (not) Finnish developer 6030. Originating as a solo project by Hevipelle in 2016, it was expanded upon by a large team of developers and testers from then on, and then made horribly unbalanced. "),e("br"),e("br"),t._v(' The game has unfolding gameplay and multiple prestige layers. The "How to Play" button contains useful information about progressing. ')])}],b_e=X(y_e,g_e,v_e,!1,null,"522b482f");const w_e=b_e.exports,E_e={name:"LoadGameEntry",components:{PrimaryButton:mt},props:{saveId:{type:Number,required:!0}},data(){const t=GameStorage.saves[this.saveId];return{antimatter:new Decimal(t?t.antimatter||t.money:10),fileName:t?t.options.saveFileName:""}},computed:{isSelected(){return GameStorage.currentSlot===this.saveId}},methods:{load(){GameStorage.loadSlot(this.saveId)},formatAntimatter(t){return formatPostBreak(t,2,1)},update(){this.isSelected&&this.antimatter.copyFrom(Currency.antimatter)}}};var T_e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-modal-options__save-record"},[i("h3",[e._v("Save #"+e._s(e.saveId+1)+":"),e.isSelected?i("span",[e._v(" (selected)")]):e._e()]),e.fileName?i("span",[e._v("File name: "+e._s(e.fileName))]):e._e(),i("span",[e._v("Antimatter: "+e._s(e.formatAntimatter(e.antimatter)))]),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium",on:{click:e.load}},[e._v(" Load ")])],1)},C_e=[],k_e=X(E_e,T_e,C_e,!1,null,null);const S_e=k_e.exports,A_e={name:"LoadGameModal",components:{ModalWrapperOptions:lu,LoadGameEntry:S_e}};var x_e=function(){var e=this,i=e._self._c;return i("ModalWrapperOptions",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Save Selection ")]},proxy:!0}])},e._l(3,function(n){return i("LoadGameEntry",{key:n,staticClass:"c-entry-border",attrs:{"save-id":n-1}})}),1)},D_e=[],I_e=X(A_e,x_e,D_e,!1,null,"4bf55aac");const R_e=I_e.exports,M_e={name:"ModifySeedModal",components:{ModalWrapper:ka,PrimaryButton:mt},data(){return{mode:0,inputSeed:"",seedText:"",convertedInput:!1,seedValue:0}},computed:{choiceEnum:()=>SPEEDRUN_SEED_STATE,officialSeed:()=>Speedrun.officialFixedSeed},created(){this.seedValue=player.speedrun.initialSeed,this.inputSeed=`${player.speedrun.initialSeed}`,this.convertedInput=!1},methods:{update(){this.mode=player.speedrun.seedSelection,this.seedText=Speedrun.seedModeText()},handleSeedInput(){if(this.inputSeed.match(/^-?\d+$/gu)){const t=Number(this.inputSeed);this.seedValue=Math.abs(t)>9e15?this.hashStringToSeed(this.inputSeed):Number(this.inputSeed)}else this.seedValue=this.hashStringToSeed(this.inputSeed);this.convertedInput=this.seedValue!==Number(this.inputSeed),this.seedValue===0?this.setMode(this.choiceEnum.FIXED):this.setMode(this.choiceEnum.PLAYER,this.seedValue)},setMode(t,e){t===this.choiceEnum.PLAYER&&this.seedValue===0||Speedrun.modifySeed(t,parseInt(e,10))},buttonClass(t){return{"o-primary-btn--subtab-option":!0,"o-selected":t===this.mode}},hashStringToSeed(t){let i=-541069005,n=1087668619;for(let r=0,a;r<t.length;r++)a=t.charCodeAt(r),i=Math.imul(i^a,2654435761),n=Math.imul(n^a,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&n)+(i>>>0)}}};var P_e=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Modifying Glyph RNG Seed ")]},proxy:!0}])},[i("div",[e._v(" All Glyph options beyond the first Reality for an entire playthrough are randomly determined from the very beginning, based on the value of an initial seed number. The role of this seed is that it chooses a single, "),i("i",[e._v("particular")]),e._v(" set of Glyph options for your playthrough. If you or anyone else chooses the same seed in a different run, you will get the same options for Glyphs. "),i("br"),i("br"),e._v(" You can switch between these three options any point before you generate your first Glyph. "),i("br"),e._v(" Current Setting: "),i("b",[e._v(e._s(e.seedText))]),i("br"),i("br"),i("PrimaryButton",{class:e.buttonClass(e.choiceEnum.FIXED),on:{click:function(n){return e.setMode(e.choiceEnum.FIXED)}}},[e._v(" Official Preset Seed ")]),i("br"),e._v(" This is the default option which chooses the seed "),i("b",[e._v(e._s(e.officialSeed))]),e._v(". Anyone who chooses to not modify the seed at all will get these Glyph options. "),i("br"),i("br"),i("PrimaryButton",{class:e.buttonClass(e.choiceEnum.RANDOM),on:{click:function(n){return e.setMode(e.choiceEnum.RANDOM)}}},[e._v(" Randomized Seed ")]),i("br"),e._v(" This selects a completely randomized seed value, producing Glyph options which are very likely to be different from anyone else's playthrough unless they intentionally choose the same value. "),i("br"),i("br"),i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.seedValue===0?"Input seed cannot be zero!":"",expression:"seedValue === 0 ? 'Input seed cannot be zero!' : ''"}],class:e.buttonClass(e.choiceEnum.PLAYER),on:{click:function(n){return e.setMode(e.choiceEnum.PLAYER,e.seedValue)}}},[e._v(" Player-selected Seed: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputSeed,expression:"inputSeed"}],ref:"inputSeed",staticClass:"c-modal-input",attrs:{type:"text"},domProps:{value:e.inputSeed},on:{input:[function(n){n.target.composing||(e.inputSeed=n.target.value)},function(n){return e.handleSeedInput()}]}}),i("br"),e._v(" This option sets your seed to the value you type into the text box. "),i("br"),e.seedValue!==0?i("span",[e._v(" Your current input will be "+e._s(e.convertedInput?"converted to":"used as")+" the number "),i("b",[e._v(e._s(e.seedValue))]),e._v(". ")]):i("span",[e._v(" Your current input "+e._s(e.convertedInput?"converts to":"is equal to")+" "),i("b",[e._v("0")]),e._v("; the seed will default to Official Preset. ")]),i("br"),e._v(" For technical reasons, this value must be must be non-zero to be accepted. ")],1)])},O_e=[],N_e=X(M_e,P_e,O_e,!1,null,"38f3fe3b");const G_e=N_e.exports,U_e={name:"PelleEffectsModal",components:{PrimaryButton:mt,ModalWrapper:ka},computed:{nerfs(){return["Anything unlocked through a Pelle upgrade cannot be unlocked normally","All pre-Doomed IP and EP multipliers are disabled","IP generation based on fastest infinity speed is disabled","All pre-Doomed Replicanti speed multipliers are disabled",`Replicanti slows down more drastically above ${format(Number.MAX_VALUE,2)}`,"Most Eternity Challenges are harder",`All Galaxies are only ${formatPercents(.5)} as effective`,`Antimatter Dimension multiplier is divided by ${formatInt(10)}`,"Achievement multiplier and many achievement rewards are disabled","All Infinity and Eternity multipliers and generation are disabled","Black Holes are disabled",'Reality Upgrade "Temporal Transcendence" is disabled',"All rewards which increase your starting resources except Achievement 21 are disabled","All rewards which prevent resources from being reset are disabled","Perk rewards which reduce unlock costs have been disabled, excluding the ECR group","Automatic Infinity and Eternity Challenges are disabled","All Dimension and pre-Infinity Autobuyers are disabled until reacquired through Pelle","The Time Theorem Autobuyer is disabled","All Automation related to Time Dilation or later is disabled","Eternity Upgrade to Time Dimensions based on days played is based on this Armageddon time",`All pre-Doomed Dilated Time multipliers are disabled except the ${formatX(2)} buyable`,"All Tachyon Particle multipliers are disabled","All pre-Doomed Time Theorem generation effects are disabled except the Dilation upgrade","Glyph equipping is disabled until reacquired",`Glyph levels are lowered and rarity is set to ${formatPercents(0)}`,"Effects from Glyph Sacrifice, Alteration, and Alchemy are all disabled","You cannot enter any other Celestial Realities","Music Glyphs cannot be bought","All rewards from Effarig are disabled","All features related to storing time are disabled","All rewards from V are disabled",`The Teresa Level ${formatInt(1)} effect from Ra is disabled`,"Infinity Upgrades cannot be charged","Triad Studies and Space Theorems are disabled","Imaginary Upgrades are disabled excluding those relating to DMD's and Celestial unlocks","Continuum and Singularity rewards are disabled"]}}};var L_e=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" List of disabled and nerfed effects in Doomed ")]},proxy:!0}])},[i("div",{staticClass:"pelle-effects-container"},e._l(e.nerfs,function(n,r){return i("p",{key:r},[e._v(" "+e._s(n)+" ")])}),0),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.emitClose}},[e._v(" Okay ")])],1)},B_e=[],$_e=X(U_e,L_e,B_e,!1,null,"f8109ebf");const F_e=$_e.exports,H_e={name:"RealityGlyphCreationModal",components:{ModalWrapper:ka,PrimaryButton:mt},data(){return{isDoomed:!1,realityGlyphLevel:0,possibleEffects:[]}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.realityGlyphLevel=AlchemyResource.reality.effectValue;const t=GlyphEffects.all.filter(i=>i.glyphTypes.includes("reality")).sort((i,n)=>i.bitmaskIndex-n.bitmaskIndex),e=t.map(i=>i.bitmaskIndex).min();this.possibleEffects=t.map(i=>[realityGlyphEffectLevelThresholds[i.bitmaskIndex-e],i.id])},createRealityGlyph(){if(GameCache.glyphInventorySpace.value===0){Modal.message.show("No available inventory space; Sacrifice some Glyphs to free up space.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED});return}Glyphs.addToInventory(GlyphGenerator.realityGlyph(this.realityGlyphLevel)),AlchemyResource.reality.amount=0,player.reality.glyphs.createdRealityGlyph=!0,this.emitClose()},formatGlyphEffect(t){if(this.realityGlyphLevel<t[0])return`(Requires Glyph level ${formatInt(t[0])})`;const e=GlyphEffects[t[1]],i=e.effect(this.realityGlyphLevel,rarityToStrength(100));return e.singleDesc.replace("{value}",e.formatEffect(i))}}};var V_e=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Reality Glyph Creation ")]},proxy:!0}])},[i("div",{staticClass:"c-reality-glyph-creation"},[i("div",[e._v(" Create a level "+e._s(e.formatInt(e.realityGlyphLevel))+" Reality Glyph. Rarity will always be "+e._s(e.formatPercents(1))+" and level scales on your current Reality Resource amount (which is all consumed). All other Alchemy Resources will be unaffected. Reality Glyphs have unique effects, some of which are only available with higher level Glyphs. Reality Glyphs can also be sacrificed to increase all Memory Chunk gain. Like Effarig Glyphs, you cannot equip more than one at the same time. ")]),i("div",{staticClass:"o-available-effects-container"},[i("div",{staticClass:"o-available-effects"},[e._v(" Available Effects: ")]),e._l(e.possibleEffects,function(n,r){return i("div",{key:r},[e._v(" "+e._s(e.formatGlyphEffect(n))+" ")])})],2),e.isDoomed?i("PrimaryButton",{attrs:{enabled:!1}},[e._v(" You cannot create Reality Glyphs while Doomed ")]):e.realityGlyphLevel!==0?i("PrimaryButton",{on:{click:e.createRealityGlyph}},[e._v(" Create a Reality Glyph! ")]):i("PrimaryButton",{attrs:{enabled:!1}},[e._v(" Reality Glyph level must be higher than "+e._s(e.formatInt(0))+" ")])],1)])},Y_e=[],q_e=X(H_e,V_e,Y_e,!1,null,"e98a9ddd");const W_e=q_e.exports,j_e={name:"ReplaceGlyphModal",components:{ModalWrapperChoice:Ht},props:{targetSlot:{type:Number,required:!0},inventoryIndex:{type:Number,required:!0}},data(){return{target:0,idx:0,isDoomed:!1}},computed:{resetTerm(){return this.isDoomed?"Armageddon":"Reality"}},methods:{update(){this.target=this.targetSlot,this.idx=this.inventoryIndex,this.glyph=Glyphs.findByInventoryIndex(this.idx),this.isDoomed=Pelle.isDoomed},handleYesClick(){Glyphs.swapIntoActive(this.glyph,this.targetSlot)}}};var z_e=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"glyphReplace"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to replace a Glyph ")]},proxy:!0}])},[e._v(" Replacing a Glyph will restart this "+e._s(e.resetTerm)+". ")])},X_e=[],K_e=X(j_e,z_e,X_e,!1,null,null);const Z_e=K_e.exports,pE=""+new URL("../images/std_coin.png",import.meta.url).href,Q_e={name:"RespecIAPModal",components:{ModalWrapperChoice:Ht},methods:{returnedSTDCount(){let t=0;for(const e of ShopPurchase.all)e.config.instantPurchase||(t+=e.purchases*e.cost);return t},handleYesClick(){ShopPurchaseData.respecAll(),EventHub.ui.offAll(this)}}};var J_e=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"respecIAP"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to respec your Shop Purchases ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Are you sure you want to respec your Shop Purchases? This will not cost anything and return the "+e._s(e.returnedSTDCount())+" "),i("img",{staticClass:"o-shop-button-button__img",attrs:{src:pE}}),e._v(" you spent on all purchases which give permanent multipliers. "),i("br"),i("br"),e._v(" Anything spent on offline progress and Glyph cosmetics will not be refunded. Glyph cosmetic sets are permanent and will not be lost or respeced once purchased. "),i("br"),i("br"),i("b",{staticClass:"o-warning"},[e._v("You will not be able to respec again unless you purchase more STD coins.")])])])},e0e=[],t0e=X(Q_e,J_e,e0e,!1,null,"b15cbf59");const i0e=t0e.exports,n0e={name:"SacrificeModal",components:{ModalWrapperChoice:Ht},data(){return{currentMultiplier:new Decimal,nextMultiplier:new Decimal}},computed:{message(){return Achievement(118).isUnlocked&&!Pelle.isDoomed?`Dimensional Sacrifice will give you a boost to the 8th Antimatter Dimension based on the amount of
          1st Antimatter Dimensions you had at the time of Sacrificing.`:`Dimensional Sacrifice will remove all of your 1st through 7th Antimatter Dimensions
        (with the cost and multiplier unchanged), for a boost to the 8th Antimatter Dimension based on the total
        amount of 1st Antimatter Dimensions sacrificed. It will take time to regain production.`},multiplierText(){return`Multiplier is currently ${formatX(this.currentMultiplier,2,2)} and will increase to
        ${formatX(this.nextMultiplier,2,2)} on Dimensional Sacrifice.`}},methods:{update(){this.currentMultiplier.copyFrom(Sacrifice.totalBoost),this.nextMultiplier.copyFrom(Sacrifice.nextBoost.times(Sacrifice.totalBoost))},handleYesClick(){sacrificeReset()}}};var r0e=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"sacrifice"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Dimensional Sacrifice ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),i("br"),i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.multiplierText)+" "),i("br")])])},a0e=[],s0e=X(n0e,r0e,a0e,!1,null,null);const o0e=s0e.exports,l0e={name:"SingularityMilestoneComponent",props:{milestone:{type:Object,required:!0},suppressGlow:{type:Boolean,default:!1}},data:()=>({isMaxed:!1,progressToNext:"",remainingSingularities:0,description:"",effectDisplay:"",isUnique:!1,nextEffectDisplay:"",start:0,completions:0,limit:0,milestoneMode:!1,singularitiesPerCondense:0,baseCondenseTime:0,currentCondenseTime:0,autoCondenseDelay:0,lastCheckedMilestones:0,autoSingActive:!1}),computed:{barStyle(){return{width:this.isMaxed?void 0:this.progressToNext}},barClass(){return{"c-laitela-milestone__progress":!0,"c-laitela-milestone-mask":!0,"c-laitela-milestone--completed":this.isMaxed}},containerClass(){return{"c-laitela-milestone":!0,"o-laitela-milestone--glow":!this.suppressGlow&&this.milestone.previousGoal>this.lastCheckedMilestones}},upgradeDirectionIcon(){switch(this.milestone.config.upgradeDirection){case Ti.SELF_BOOST:return"<b>ᛝ</b>";case Ti.BOOSTS_MAIN:return'<i class="fas fa-arrows-alt"></i>';case Ti.BOOSTS_LAITELA:return'<i class="fas fa-compress-arrows-alt"></i>';default:throw new Error("Unspecified Lai'tela upgrade direction in singularity milestone")}},maxCompletions(){return this.isUnique?1:this.limit},completionsDisplay(){const t=Number.isFinite(this.limit)?formatInt(this.maxCompletions):"∞";return`${formatInt(this.completions)}/${t} ${pluralize("completion",this.completions)}`},progressDisplay(){const t=this.remainingSingularities/this.singularitiesPerCondense;let e,i,n;switch(this.milestoneMode){case SINGULARITY_MILESTONE_RESOURCE.SINGULARITIES:return`In ${quantify("Singularity",this.remainingSingularities,2)}`;case SINGULARITY_MILESTONE_RESOURCE.CONDENSE_COUNT:return`Condense ${quantify("time",t,2,2)}`;case SINGULARITY_MILESTONE_RESOURCE.MANUAL_TIME:return e=Math.clampMin(0,this.currentCondenseTime),i=Math.ceil(t-1)*this.baseCondenseTime,`In ${TimeSpan.fromSeconds(e+i).toStringShort()} (manual)`;case SINGULARITY_MILESTONE_RESOURCE.AUTO_TIME:return e=Math.clampMin(0,this.currentCondenseTime+this.autoCondenseDelay),i=Math.ceil(t-1)*(this.baseCondenseTime+this.autoCondenseDelay),n=`In ${TimeSpan.fromSeconds(e+i).toStringShort()}`,this.autoSingActive?n:"Auto-Singularity is OFF";default:throw new Error("Unrecognized Singularity Milestone mode")}},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.autoSingActive=player.auto.singularity.isActive,this.isMaxed=this.milestone.isMaxed,this.progressToNext=this.milestone.progressToNext,this.remainingSingularities=this.milestone.remainingSingularities,this.description=this.milestone.description,this.effectDisplay=this.milestone.effectDisplay,this.isUnique=this.milestone.isUnique,!this.isUnique&&!this.isMaxed&&(this.nextEffectDisplay=this.milestone.nextEffectDisplay),this.completions=this.milestone.completions,this.limit=this.milestone.limit,this.milestoneMode=player.celestials.laitela.singularitySorting.displayResource,this.singularitiesPerCondense=Singularity.singularitiesGained,this.baseCondenseTime=Singularity.timePerCondense,this.currentCondenseTime=Singularity.timeUntilCap,this.autoCondenseDelay=Singularity.timeDelayFromAuto,this.lastCheckedMilestones=player.celestials.laitela.lastCheckedMilestones,this.isMetro=Theme.current().isMetro}}};var c0e=function(){var e=this,i=e._self._c;return i("div",{class:e.containerClass},[!e.isMetro&&!e.isMaxed?i("div",{staticClass:"c-laitela-milestone--bar-border-fix"}):e._e(),i("div",{class:e.barClass,style:e.barStyle}),i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e.isMaxed?e._e():i("b",[e._v(" "+e._s(e.progressDisplay)+" ")]),i("p",[i("span",{domProps:{innerHTML:e._s(e.upgradeDirectionIcon)}}),e._v(" "+e._s(e.description)+" ")]),i("b",[e._v(" "+e._s(e.effectDisplay)+" "),!e.isUnique&&!e.isMaxed?i("span",[e._v("➜ "+e._s(e.nextEffectDisplay))]):e._e()]),i("div",{staticClass:"c-laitela-milestone__completions"},[e._v(" "+e._s(e.completionsDisplay)+" ")])])])},u0e=[],d0e=X(l0e,c0e,u0e,!1,null,"f7732931");const h3=d0e.exports,h0e={name:"SingularityMilestonesModal",components:{SingularityMilestoneComponent:h3,ModalWrapper:ka},data(){return{milestones:[],resourceVal:0,sortVal:0,completedVal:0,orderVal:0,milestoneGlow:!1}},computed:{resourceStr(){return["Singularity Count","Condense Count","Manual Time","Auto Time"][this.resourceVal]},sortStr(){return["Singularities needed","Current Completions","Progress to full completion","Final Singularities","Most Recent"][this.sortVal]},completedStr(){return["First","Last","Don't move"][this.completedVal]},orderStr(){return["Ascending","Descending"][this.orderVal]}},watch:{resourceVal(t){player.celestials.laitela.singularitySorting.displayResource=t},sortVal(t){player.celestials.laitela.singularitySorting.sortResource=t},completedVal(t){player.celestials.laitela.singularitySorting.showCompleted=t},orderVal(t){player.celestials.laitela.singularitySorting.sortOrder=t},milestoneGlow(t){player.celestials.laitela.milestoneGlow=t}},beforeDestroy(){player.celestials.laitela.lastCheckedMilestones=Currency.singularities.value},methods:{update(){this.milestones=SingularityMilestones.sortedForCompletions(!0);const t=player.celestials.laitela.singularitySorting;this.resourceVal=t.displayResource,this.sortVal=t.sortResource,this.completedVal=t.showCompleted,this.orderVal=t.sortOrder,this.milestoneGlow=player.celestials.laitela.milestoneGlow},cycleButton(t){const e=player.celestials.laitela.singularitySorting;let i;switch(t){case 0:i=Object.keys(SINGULARITY_MILESTONE_RESOURCE).length,e.displayResource=(e.displayResource+1)%i;break;case 1:i=Object.keys(SINGULARITY_MILESTONE_SORT).length,e.sortResource=(e.sortResource+1)%i;break;case 2:i=Object.keys(COMPLETED_MILESTONES).length,e.showCompleted=(e.showCompleted+1)%i;break;case 3:i=Object.keys(SORT_ORDER).length,e.sortOrder=(e.sortOrder+1)%i;break;default:throw new Error("Unrecognized Singularity milestone sorting button")}},glowOptionClass(){return{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":this.milestoneGlow}},toggleGlow(){this.milestoneGlow=!this.milestoneGlow}}};var f0e=function(){var e=this,i=e._self._c;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Singularity Milestones ")]},proxy:!0}])},[i("div",{staticClass:"c-modal__confirmation-toggle",on:{click:e.toggleGlow}},[i("div",{class:e.glowOptionClass()},[e.milestoneGlow?i("span",{staticClass:"fas fa-check"}):e._e()]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Make button glow when new milestones have been reached ")])]),i("div",{staticClass:"l-singularity-milestone-modal-container-outer"},[i("div",{staticClass:"l-singularity-milestone-modal-container-inner"},e._l(e.milestones,function(n){return i("SingularityMilestoneComponent",{key:n.id,attrs:{milestone:n}})}),1)]),i("div",{staticClass:"l-singularity-milestone-sort-container"},[i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(n){return e.cycleButton(0)}}},[e._v(" To Milestone: "),i("br"),e._v(" "+e._s(e.resourceStr)+" ")]),i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(n){return e.cycleButton(1)}}},[e._v(" Sort by: "),i("br"),e._v(" "+e._s(e.sortStr)+" ")]),i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(n){return e.cycleButton(2)}}},[e._v(" Completed Milestones: "),i("br"),e._v(" "+e._s(e.completedStr)+" ")]),i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(n){return e.cycleButton(3)}}},[e._v(" Sort Order: "),i("br"),e._v(" "+e._s(e.orderStr)+" ")])])])},p0e=[],m0e=X(h0e,f0e,p0e,!1,null,null);const y0e=m0e.exports,g0e={name:"SpeedrunModeModal",components:{PrimaryButton:mt,ModalWrapperChoice:Ht},data(){return{onInfoPage:!0,name:"",confirmPhrase:""}},computed:{willStartRun(){return this.confirmPhrase==="Gotta Go Fast!"}},methods:{nextPage(){this.onInfoPage=!1},startRun(){this.willStartRun&&(this.emitClose(),Speedrun.prepareSave(Speedrun.generateName(this.name)))}}};var v0e=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.onInfoPage&&!e.willStartRun,"show-confirm":!e.onInfoPage&&e.willStartRun,"confirm-class":"o-primary-btn--width-medium c-modal-hard-reset-btn c-modal__confirm-btn"},on:{confirm:e.startRun},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Entering Speedrun Mode ")]},proxy:!0},{key:"confirm",fn:function(){return[e._v(" Start Run! ")]},proxy:!0},{key:"cancel",fn:function(){return[e._v(" Cancel ")]},proxy:!0}])},[e.onInfoPage?i("div",{staticClass:"c-modal-message__text"},[e._v(" This will start a save with additional statistics tracking for when you reach certain points of the game. These will be visible in the bottom-right of the screen and on a dedicated subtab of Statistics. "),i("br"),i("br"),e._v(" Almost all animations and confirmations are disabled by default, but you can change any of these settings before you reach their required progression. When you begin the run, the game remains paused until your antimatter changes, allowing you to configure all your settings before starting. In order to avoid having to wait for a long time before actually starting an optimized run, a few achievements are given for free. "),i("br"),i("br"),i("i",[e._v(" There is no additional content in Speedrun Mode. ")]),i("br"),i("br"),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-hard-reset-btn c-modal__confirm-btn",on:{click:e.nextPage}},[e._v(" Continue ")])],1):i("div",{staticClass:"c-modal-message__text"},[e._v(" You can type in text below to name your speedrun save. This will have no effects on gameplay and only identifies this particular save as yours. If no name is given, a random name will be generated instead. This name can be changed by clicking your name in the speedrun info box, as long as the timer has not started yet. "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"name",staticClass:"c-modal-input c-modal-hard-reset__input",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(n){n.target.composing||(e.name=n.target.value)}}}),i("br"),i("br"),e._v(" Speedrun saves can be imported and exported like regular saves. Importing a speedrun save will mark it as a Segmented run, as importing and exporting allows for optimization of individual segments of the game. Without importing, saves will remain as Single-segment runs. "),i("br"),i("br"),e._v(" You can modify the Glyph RNG seed in the Options tab before starting your run, if desired. "),i("br"),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(' Starting a speedrun will reset your save to the beginning of the game. Some things will remain, such as full-game completion stats, visual settings, automator scripts, and Glyph cosmetics, but otherwise it will be as if you had just finished the entire game and chose to restart at the credits screen. Type in "Gotta Go Fast!" below to confirm and (re)start the run. ')]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPhrase,expression:"confirmPhrase"}],ref:"confirmPhrase",staticClass:"c-modal-input c-modal-hard-reset__input",attrs:{type:"text"},domProps:{value:e.confirmPhrase},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(n){n.target.composing||(e.confirmPhrase=n.target.value)}}})])])},b0e=[],_0e=X(g0e,v0e,b0e,!1,null,null);const w0e=_0e.exports,jn={interval:null,windowReference:null,hasCanceled:!1,init:()=>{player.IAP.checkoutSession.id&&jn.pollForPurchases()},buyMoreSTD:async t=>{player.IAP.checkoutSession={id:!0};let e;try{e=await fetch(`${STD_BACKEND_URL}/purchase`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,cloudID:Cloud.user.id})})}catch{GameUI.notify.error("Could not contact payment server!",1e4);return}const i=await e.json();jn.windowReference=window.open(i.url,"antimatterDimensionsPurchase","popup,width=500,height=500,left=100,top=100"),player.IAP.checkoutSession={id:i.id,amount:t},GameStorage.save(),jn.pollForPurchases()},pollForPurchases:()=>{const{id:t,amount:e}=player.IAP.checkoutSession;let i=0;window.onbeforeunload=async()=>{var n;jn.interval&&((n=jn.windowReference)==null||n.close(),await jn.cancelPurchase(!1))},jn.interval=setInterval(async()=>{var s,o,c;i++;let n;try{n=await fetch(`${STD_BACKEND_URL}/validate?sessionId=${t}`)}catch{GameUI.notify.error("Could not contact payment server!",1e4),jn.clearInterval();return}const{completed:r,failure:a}=await n.json();if(r&&((s=jn.windowReference)==null||s.close(),await ShopPurchaseData.syncSTD(),GameUI.notify.success(`Purchase of ${e} STDs was successful, thank you for your support! ❤️`,1e4),jn.clearInterval(),player.IAP.checkoutSession={id:!1},GameStorage.save(),Modal.hide()),a){(o=jn.windowReference)==null||o.close(),jn.clearInterval(),GameUI.notify.error("Purchase failed!",1e4),player.IAP.checkoutSession={id:!1},GameStorage.save();return}!r&&((c=jn.windowReference)!=null&&c.closed||i>=20*30)&&await jn.cancelPurchase(!0)},3e3)},async buyUpgrade(t,e){if(!Cloud.loggedIn)return!1;let i;try{i=await fetch(`${STD_BACKEND_URL}/upgrade`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:Cloud.user.id,upgrade:t,extraData:{requestedSet:e,fullCompletions:player.records.fullGameCompletions}})})}catch{return GameUI.notify.error("Unable to spend STD coins on upgrade!",1e4),!1}const n=await i.json();return n.success?GameUI.notify.info(`Successfully spent ${n.amountSpent} STD coins`,1e4):GameUI.notify.error(n.error??"Unable to purchase upgrade",1e4),ShopPurchaseData.syncSTD(!1,n.data),n.success},async cancelPurchase(t){var e;if(!this.hasCanceled){(e=jn.windowReference)==null||e.close(),jn.clearInterval();try{await fetch(`${STD_BACKEND_URL}/expire`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:player.IAP.checkoutSession.id})})}catch{GameUI.notify.error("Could not contact payment server!",1e4)}t&&GameUI.notify.error("Purchase took too long to resolve!",1e4),player.IAP.checkoutSession={id:!1},GameStorage.save(),this.hasCanceled=!1}},clearInterval(){clearInterval(jn.interval),window.onbeforeunload=null}},E0e={name:"StdStoreRow",props:{amount:{type:Number,required:!0},cost:{type:Number,required:!0}},methods:{purchase(){jn.buyMoreSTD(this.amount,this.cost)}}};var T0e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-modal-store-btn-container"},[i("div",{staticClass:"o-modal-store-label"},[e._v(" "+e._s(e.amount)+" STDs ")]),i("button",{staticClass:"o-modal-store-btn",on:{click:e.purchase}},[e._v(" $"),i("span",[e._v(e._s(e.cost))])])])},C0e=[],k0e=X(E0e,T0e,C0e,!1,null,null);const S0e=k0e.exports,A0e={name:"StdStoreModal",components:{ModalWrapper:ka,StdStoreRow:S0e},data(){return{macPurchaser:!1}},methods:{update(){this.macPurchaser=df.hasPendingPurchaseConfirmations},macConfirm(){df.validatePurchases()}}};var x0e=function(){var e=this,i=e._self._c;return i("ModalWrapper",{staticClass:"c-shop-modal",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Support The Developer - coins ")]},proxy:!0}])},[e.macPurchaser?i("span",[i("button",{staticClass:"o-shop-button-button",on:{click:function(n){return e.macConfirm()}}},[e._v("Confirm Purchase to Receive STDs")]),i("br"),i("span",[e._v("(Required on Mac)")]),i("br")]):e._e(),i("div",{staticClass:"l-modal-store-content"},[i("img",{attrs:{src:pE}}),i("div",{staticClass:"c-modal-store-buttons"},[i("StdStoreRow",{attrs:{amount:30,cost:2.99}}),i("StdStoreRow",{attrs:{amount:60,cost:4.99}}),i("StdStoreRow",{attrs:{amount:140,cost:9.99}}),i("StdStoreRow",{attrs:{amount:300,cost:19.99}}),i("StdStoreRow",{attrs:{amount:1e3,cost:49.99}})],1)])])},D0e=[],I0e=X(A0e,x0e,D0e,!1,null,null);const R0e=I0e.exports,M0e={name:"StudyStringLine",props:{tree:{type:Object,required:!0},intoEmpty:{type:Boolean,required:!0}},computed:{importDestString(){return this.intoEmpty?"into an empty Tree":"with your current Tree"}},methods:{formatTheoremCost(t,e){const i=`${formatWithCommas(t)} TT`,n=`${formatWithCommas(e)} ST`;return e===0?i:`${i} + ${n}`}}};var P0e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e.tree.timeTheorems===0&&e.tree.spaceTheorems===0?i("div",[i("i",[e._v("Importing this "+e._s(e.importDestString)+" will not purchase any new Time Studies.")])]):i("div",[e._v(" Importing "+e._s(e.importDestString)+" will purchase: "),i("br"),e._v(" "+e._s(e.tree.newStudies)+" (Cost: "+e._s(e.formatTheoremCost(e.tree.timeTheorems,e.tree.spaceTheorems))+") ")]),i("br")])},O0e=[],N0e=X(M0e,P0e,O0e,!1,null,null);const G0e=N0e.exports,U0e={name:"PseudoTimeStudyButton",props:{setup:{type:Object,required:!0},forceIsBought:{type:Number,default:1},isNewFromImport:{type:Boolean,default:!1}},data(){return{isUseless:!1,doomedRealityStudy:!1,isBought:!1}},computed:{study(){return this.setup.study},styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"o-pseudo-time-study":!0,"l-time-study":!0,"c-pelle-useless":this.isUseless,"c-pelle-useless--bought":this.isUseless&&this.isBought,"c-pelle-useless--unavailable":this.isUseless&&!this.isBought,"o-pseudo-time-study--small":this.setup.isSmall,"o-time-study--unavailable":!this.isBought&&!this.isUseless,"o-time-study--bought":this.isBought&&!this.isUseless,"o-time-study--new-import":this.isNewFromImport&&!this.isBought}},pathClass(){switch(this.study.type){case TIME_STUDY_TYPE.NORMAL:switch(this.setup.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-idle";case TIME_STUDY_PATH.LIGHT:return"o-time-study-light";case TIME_STUDY_PATH.DARK:return"o-time-study-dark";default:return"o-time-study-normal"}case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return"o-time-study-eternity-challenge";case TIME_STUDY_TYPE.DILATION:return this.study.id===6?"o-time-study-reality":"o-time-study-dilation";case TIME_STUDY_TYPE.TRIAD:return"o-time-study-triad"}return""},studyClass(){return this.isUseless?"":`${this.pathClass}--${this.isBought?"bought":"unavailable"}`},studyString(){switch(this.study.type){case TIME_STUDY_TYPE.NORMAL:case TIME_STUDY_TYPE.TRIAD:return`${this.study.id}`;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return`EC${this.study.id}`}return""}},methods:{update(){const t=this.study;this.isUseless=Pelle.uselessTimeStudies.includes(this.study.id)&&Pelle.isDoomed,this.isBought=Ku.getState(this.forceIsBought,t.isBought),this.doomedRealityStudy=t.type===TIME_STUDY_TYPE.DILATION&&t.id===6&&Pelle.isDoomed}}};var L0e=function(){var e=this,i=e._self._c;return i("button",{class:[e.classObject,e.studyClass],style:e.styleObject},[e._v(" "+e._s(e.studyString)+" ")])},B0e=[],$0e=X(U0e,L0e,B0e,!1,null,"1c6b8fd0");const F0e=$0e.exports,H0e={name:"PseudoTimeStudyConnection",props:{setup:{type:Object,required:!0},forceIsBought:{type:Number,default:1}},data(){return{isOverridden:!1,isBought:!1}},computed:{classObject(){const t={"o-time-study-connection":!0,"o-time-study-connection--bought":this.isBought};let e;const i=this.setup.connection,n=i.from,r=i.to;function a(s){switch(s.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-connection--antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-connection--infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-connection--time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-connection--active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-connection--passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-connection--idle";default:return}}switch(r.type){case TIME_STUDY_TYPE.NORMAL:e=a(r)||a(n);break;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:e="o-time-study-connection--eternity-challenge";break;case TIME_STUDY_TYPE.DILATION:e="o-time-study-connection--dilation";break}return e!==void 0&&(t[e]=!0),t}},methods:{update(){this.isOverridden=this.setup.connection.isOverridden,this.isBought=Ku.getState(this.forceIsBought,this.setup.isBought)},percents(t){return`${t*100}%`}}};var V0e=function(){var e=this,i=e._self._c;return e.isOverridden?e._e():i("line",{class:e.classObject,attrs:{x1:e.percents(e.setup.x1),y1:e.percents(e.setup.y1),x2:e.percents(e.setup.x2),y2:e.percents(e.setup.y2)}})},Y0e=[],q0e=X(H0e,V0e,Y0e,!1,null,"bb903c76");const W0e=q0e.exports,j0e={name:"TimeStudyConnection",props:{setup:{type:Object,required:!0}},data(){return{isOverridden:!1,isBought:!1}},computed:{classObject(){const t={"o-time-study-connection":!0,"o-time-study-connection--bought":this.isBought};let e;const i=this.setup.connection,n=i.from,r=i.to;function a(s){switch(s.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-connection--antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-connection--infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-connection--time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-connection--active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-connection--passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-connection--idle";default:return}}switch(r.type){case TIME_STUDY_TYPE.NORMAL:e=a(r)||a(n);break;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:e="o-time-study-connection--eternity-challenge";break;case TIME_STUDY_TYPE.DILATION:e="o-time-study-connection--dilation";break}return e!==void 0&&(t[e]=!0),t}},methods:{update(){this.isOverridden=this.setup.connection.isOverridden,this.isBought=this.setup.isBought},percents(t){return`${t*100}%`}}};class G1{constructor(e){this.connection=e}get from(){return this.connection.from}get to(){return this.connection.to}setPosition(e,i,n){const r=e.find(s=>s.study===this.from),a=e.find(s=>s.study===this.to);this.x1=(r.left+r.width/2)/i,this.y1=(r.top+r.height/2)/n,this.x2=(a.left+a.width/2)/i,this.y2=(a.top+a.height/2)/n}get isBought(){return this.from.isBought&&this.to.isBought}}var z0e=function(){var e=this,i=e._self._c;return e.isOverridden?e._e():i("line",{class:e.classObject,attrs:{x1:e.percents(e.setup.x1),y1:e.percents(e.setup.y1),x2:e.percents(e.setup.x2),y2:e.percents(e.setup.y2)}})},X0e=[],K0e=X(j0e,z0e,X0e,!1,null,"bda72c86");const Z0e=K0e.exports,Q0e={name:"CostDisplay",props:{config:{type:Object,required:!1,default:void 0},br:{type:Boolean,required:!1},name:{type:String,required:!0},label:{type:String,default:"Cost:",required:!1}},data(){return{isVisible:!1,cost:0}},watch:{config:{immediate:!0,handler(t){this.updateFunction=()=>{};const e=t==null?void 0:t.cost;if(this.isVisible=e!==void 0,!this.isVisible)return;if(this.formatCost=t.formatCost??format,Up(e)){this.cost=e;return}if(Xp(e)){this.cost=Decimal.fromDecimal(e);return}if(!M0(e))throw new Error(`CostDisplay config.cost has unsupported type "${typeof e}"`);const i=e();if(Up(i)){this.cost=i,this.updateFunction=()=>this.cost=e();return}if(Xp(i)){this.cost=Decimal.fromDecimal(i),this.updateFunction=()=>this.cost.copyFrom(e());return}throw new Error(`CostDisplay config.cost is a function which returns unsupported type "${typeof i}"`)}}},beforeCreate(){this.updateFunction=()=>{}},methods:{update(){this.updateFunction()},quantify}};var J0e=function(){var e=this,i=e._self._c;return e.isVisible?i("span",[e.br?i("br"):e._e(),e._v(" "+e._s(e.label)+" "+e._s(e.quantify(e.name,e.cost,0,0,e.formatCost))+" ")]):e._e()},ewe=[],twe=X(Q0e,J0e,ewe,!1,null,null);const fc=twe.exports,iwe={name:"TimeStudyButton",components:{CostDisplay:fc},props:{setup:{type:Object,required:!0},showCost:{type:Boolean,required:!1,default:!0},showStCost:{type:Boolean,required:!1,default:!1},specialClick:{type:Function,required:!1,default:null}},data(){return{isUseless:!1,isBought:!1,isAvailableForPurchase:!1,STCost:0,eternityChallengeRunning:!1,isCompleteEC:!1}},computed:{study(){return this.setup.study},styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"o-time-study":!this.isUseless,"l-time-study":!0,"c-pelle-useless":this.isUseless,"c-pelle-useless--bought":this.isUseless&&this.isBought,"c-pelle-useless--unavailable":this.isUseless&&!this.isAvailableForPurchase&&!this.isBought,"c-pelle-useless-available":this.isUseless&&!this.isAvailableForPurchase&&!this.isBought,"o-time-study--small":this.setup.isSmall,"o-time-study--unavailable":!this.isAvailableForPurchase&&!this.isBought&&!this.isUseless,"o-time-study--available":this.isAvailableForPurchase&&!this.isBought,"o-time-study--bought":this.isBought&&!this.isUseless}},pathClass(){switch(this.study.type){case TIME_STUDY_TYPE.NORMAL:switch(this.setup.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-idle";case TIME_STUDY_PATH.LIGHT:return"o-time-study-light";case TIME_STUDY_PATH.DARK:return"o-time-study-dark";default:return"o-time-study-normal"}case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return"o-time-study-eternity-challenge";case TIME_STUDY_TYPE.DILATION:return this.study.id===6?"o-time-study-reality":"o-time-study-dilation";case TIME_STUDY_TYPE.TRIAD:return"o-time-study-triad"}return""},studyClass(){if(this.isUseless)return"";let t="";return!this.isAvailableForPurchase&&!this.isBought&&(t+=`${this.pathClass}--unavailable`),this.isAvailableForPurchase&&!this.isBought&&(t+=`${this.pathClass}--available`),this.isBought&&(t+=`${this.pathClass}--bought`),this.isCompleteEC&&(t+=` ${this.pathClass}--complete`),t},eternityChallengeAnim(){return this.eternityChallengeRunning?"o-time-study-eternity-challenge--running":""},config(){return{...this.study.config,formatCost:t=>t>=1e6?format(t):formatInt(t)}},showDefaultCostDisplay(){const t=this.showCost&&!this.showStCost||this.STCost===0;return!this.setup.isSmall&&!this.doomedRealityStudy&&t},isDisabledByEnslaved(){return this.study.id===192&&Enslaved.isRunning},customCostStr(){const t=this.setup.isSmall?`${formatInt(this.config.cost)} TT`:quantifyInt("Time Theorem",this.config.cost),e=this.setup.isSmall?`${formatInt(this.STCost)} ST`:quantifyInt("Space Theorem",this.STCost),i=[];return this.config.cost&&i.push(t),this.STCost&&this.showStCost&&i.push(e),i.join(" + ")},doomedRealityStudy(){return this.study.type===TIME_STUDY_TYPE.DILATION&&this.study.id===6&&Pelle.isDoomed}},methods:{update(){var e;const t=this.study;this.isUseless=Pelle.uselessTimeStudies.includes(this.study.id)&&Pelle.isDoomed,this.isBought=t.isBought,this.eternityChallengeRunning=t.type===TIME_STUDY_TYPE.ETERNITY_CHALLENGE&&((e=EternityChallenge.current)==null?void 0:e.id)===t.id,this.isBought||(this.isAvailableForPurchase=t.canBeBought&&t.isAffordable),this.STCost=this.study.STCost,this.isCompleteEC=this.study.type===TIME_STUDY_TYPE.ETERNITY_CHALLENGE&&EternityChallenge(this.study.id).remainingCompletions===0},handleClick(){this.specialClick===null||!this.study.isBought?this.study.purchase():this.specialClick()},shiftClick(){this.study.purchaseUntil&&this.study.purchaseUntil()}}};class U1{constructor(e){this.study=e.study,this.row=e.row,this.column=e.column}setPosition(e){this.top=e.itemPosition(this.row);const i=e.rows[this.row];this.left=i.itemPosition(this.column,e),this.width=i.layout.itemWidth,this.height=i.layout.itemHeight}get path(){return this.study.path}}var nwe=function(){var e=this,i=e._self._c;return i("button",{class:[e.classObject,e.studyClass,e.eternityChallengeAnim],style:e.styleObject,on:{click:[function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.handleClick.apply(null,arguments)},function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.shiftClick.apply(null,arguments)}]}},[e._t("default"),e.showDefaultCostDisplay?i("CostDisplay",{attrs:{br:"",config:e.config,name:"Time Theorem"}}):!e.doomedRealityStudy&&!e.isDisabledByEnslaved?i("div",[e._v(" Cost: "+e._s(e.customCostStr)+" ")]):e._e()],2)},rwe=[],awe=X(iwe,nwe,rwe,!1,null,"3b08bc14");const mE=awe.exports;class xO{constructor(e,i,n){this.layout=e,this.items=i,this.isWide=n}get width(){const e=this.items.length,i=this.layout;return e*i.itemWidth+(e-1)*i.spacing}itemPosition(e,i){const n=this.layout;return(i.width-this.width)/2+e*n.itemWidth+e*n.spacing}}class DO{constructor(e){this.itemWidth=e.itemWidth,this.itemHeight=e.itemHeight,this.spacing=e.spacing}}class _m{constructor(e,i=1){this.spacing=4*i;const n=new DO({itemWidth:18*i,itemHeight:10*i,spacing:3*i}),r=new DO({itemWidth:12*i,itemHeight:10*i,spacing:.6*i}),a=(...y)=>new xO(n,y),s=(...y)=>new xO(r,y,!0),o=y=>TimeStudy(y).isUnlocked?TimeStudy(y):null,c=y=>TimeStudy.eternityChallenge(y);this.rows=[a(null,o(11),null),a(o(21),o(22)),a(null,o(31),o(32),o(33))],e.alt62?this.rows.push(a(null,o(41),o(42),c(5)),a(o(51))):this.rows.push(a(o(41),o(42)),a(null,o(51),c(5))),this.rows.push(a(null,o(61),o(62)),a(o(71),o(72),o(73)),a(o(81),o(82),o(83)),a(o(91),o(92),o(93)),a(o(101),o(102),o(103)),a(c(7),o(111),null),a(o(121),o(122),o(123)),a(c(6),o(131),o(132),o(133),c(8)),a(o(141),o(142),o(143)),a(null,c(9),o(151),null,c(4)),a(o(161),o(162))),e.alt181?this.rows.push(a(null,o(171),c(2)),a(c(1),o(181),c(3))):this.rows.push(a(o(171)),a(c(1),c(2),c(3)),a(o(181))),this.rows.push(a(c(10)),a(o(191),o(192),o(193)),a(o(201)),a(o(211),o(212),o(213),o(214)),s(o(221),o(222),o(223),o(224),o(225),o(226),o(227),o(228))),e.triad&&!Pelle.isDoomed&&this.rows.push(a(o(301),o(302),o(303),o(304))),this.rows.push(a(o(231),o(232),o(233),o(234)),a(c(11),c(12)),a(TimeStudy.dilation),a(TimeStudy.timeDimension(5),TimeStudy.timeDimension(6)),a(TimeStudy.timeDimension(7),TimeStudy.timeDimension(8)),a(TimeStudy.reality)),this.studies=[];for(let y=0;y<this.rows.length;y++){const _=this.rows[y];for(let w=0;w<_.items.length;w++){const C=_.items[w];if(C===null)continue;const k=new U1({study:C,row:y,column:w});_.isWide&&(k.isSmall=!0),this.studies.push(k)}}const d={};this.secretStudy=new U1({study:d,row:0,column:0});const p={};this.enslavedStudy=new U1({study:p,row:0,column:2}),this.connections=TimeStudy.allConnections.map(y=>new G1(y)),this.secretStudyConnection=new G1(new TimeStudyConnection(o(11),d)),this.enslavedStudyConnection=new G1(new TimeStudyConnection(o(11),p)),this.width=this.rows.map(y=>y.width).max();const m=this.rows.map(y=>y.layout.itemHeight).sum();this.height=m+(this.rows.length-1)*this.spacing;for(const y of this.studies)y.setPosition(this);this.secretStudy.setPosition(this),this.enslavedStudy.setPosition(this);for(const y of this.connections)y.setPosition(this.studies,this.width,this.height);this.secretStudyConnection.setPosition(this.studies.concat(this.secretStudy),this.width,this.height),this.enslavedStudyConnection.setPosition(this.studies.concat(this.enslavedStudy),this.width,this.height)}itemPosition(e){const i=this.rows.slice(0,e);return i.map(r=>r.layout.itemHeight).sum()+i.length*this.spacing}static get current(){return{alt62:Perk.bypassEC5Lock.isBought,alt181:Perk.bypassEC1Lock.isBought&&Perk.bypassEC2Lock.isBought&&Perk.bypassEC3Lock.isBought,triad:Ra.canBuyTriad}}static create(e,i=1){this._instances===void 0&&(this._instances={});const n=new _m(e,i);return this._instances[`${Object.keys(e).filter(r=>e[r]).join("")}__${i}`]=n,n}}const Ku={notBought:0,unspecified:1,bought:2,getState(t,e){switch(t){case this.notBought:return!1;case this.unspecified:return e;case this.bought:return!0}return e}},swe={name:"TimeStudiesTab",components:{PseudoTimeStudyButton:F0e,PseudoTimeStudyConnection:W0e},props:{disregardCurrentStudies:{type:Boolean,default:!1},newStudies:{required:!0,validator:t=>Array.isArray(t)||t===void 0},showPreview:{type:Boolean,default:!0}},data(){return{layoutType:{},vLevel:0,renderedStudyCount:0,isEnslaved:!1,delayTimer:0}},computed:{layout(){return _m.create(this.layoutType,.15)},studies(){return this.layout.studies},connections(){return this.layout.connections},treeStyleObject(){return{width:`${this.layout.width}rem`,height:`${this.layout.height}rem`}},respecClassObject(){return{"o-primary-btn--subtab-option":!0,"o-primary-btn--respec-active":this.respec}}},watch:{vLevel(){this.$recompute("layout")}},methods:{update(){this.layoutType=_m.current,this.vLevel=Ra.pets.v.level,this.isEnslaved=Enslaved.isRunning||Date.now()-this.delayTimer<1e3},studyComponent(t){switch(t.type){case TIME_STUDY_TYPE.NORMAL:return NormalTimeStudy;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return ECTimeStudy;case TIME_STUDY_TYPE.DILATION:return DilationTimeStudy;case TIME_STUDY_TYPE.TRIAD:return TriadTimeStudy}throw"Unknown Time Study type"},studyString(t){switch(t.type){case TIME_STUDY_TYPE.NORMAL:case TIME_STUDY_TYPE.TRIAD:return`${t.id}`;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return`EC${t.id}`}return"Dilation Study"},getStudyForceBoughtState(t){return this.disregardCurrentStudies?this.newStudies.includes(t)?Ku.bought:Ku.notBought:Ku.unspecified},getConnectionForceBoughtState(t){return this.disregardCurrentStudies?this.newStudies.includes(this.studyString(t.connection.to))&&this.newStudies.includes(this.studyString(t.connection.from))?Ku.bought:Ku.notBought:Ku.unspecified}}};var owe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-study-string-preview__tree--wrapper"},[e.showPreview?i("div",{staticClass:"l-time-study-tree l-study-string-preview__tree",style:e.treeStyleObject},[e._l(e.studies,function(n){return i("PseudoTimeStudyButton",{key:n.study.type.toString()+n.study.id.toString(),attrs:{setup:n,"force-is-bought":e.getStudyForceBoughtState(e.studyString(n.study)),"is-new-from-import":!e.disregardCurrentStudies&&e.newStudies.includes(e.studyString(n.study))}})}),i("svg",{staticClass:"l-time-study-connection",style:e.treeStyleObject},e._l(e.connections,function(n,r){return i("PseudoTimeStudyConnection",{key:"connection"+r,attrs:{"force-is-bought":e.getConnectionForceBoughtState(n),setup:n}})}),1)],2):i("span",{staticClass:"c-unavailable-warning"},[e._v(" Preview Unavailable ")])])},lwe=[],cwe=X(swe,owe,lwe,!1,null,"9710776d");const uwe=cwe.exports,dwe={name:"StudyTreeInfo",props:{headerText:{type:String,required:!0},treeStatus:{type:Object,required:!0}}};var hwe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-tree-info"},[i("span",{staticClass:"l-tree-info-header",domProps:{innerHTML:e._s(e.headerText)}}),e.treeStatus.firstPaths?i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e._v(" Dimension Split: "+e._s(e.treeStatus.firstPaths)+" ")]):e._e(),e.treeStatus.secondPaths?i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e._v(" Pace Split: "+e._s(e.treeStatus.secondPaths)+" ")]):e._e(),e.treeStatus.ec>0?i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e._v(" Eternity Challenge: "+e._s(e.treeStatus.ec)+" "+e._s(e.treeStatus.startEC?"(will start)":"")+" ")]):e._e()])},fwe=[],pwe=X(dwe,hwe,fwe,!1,null,"98fa4662");const mwe=pwe.exports;let L1="";const ywe={name:"StudyStringModal",components:{ModalWrapperChoice:Ht,StudyStringLine:G0e,PrimaryButton:mt,StudyStringPreview:uwe,StudyTreeInfo:mwe},props:{id:{type:Number,required:!0},deleting:{type:Boolean,required:!1,default:!1}},data(){return{input:"",name:"",respecAndLoad:!1,canEternity:!1}},computed:{isImporting(){return this.id===-1},importedTree(){if(!this.inputIsValidTree)return{};const t=new TimeStudyTree(this.truncatedInput),e=t.purchasedStudies.map(i=>this.studyString(i));return{timeTheorems:t.spentTheorems[0],spaceTheorems:t.spentTheorems[1],newStudies:makeEnumeration(e),newStudiesArray:e,invalidStudies:t.invalidStudies,firstPaths:makeEnumeration(t.dimensionPaths),secondPaths:makeEnumeration(t.pacePaths),ec:t.ec,startEC:t.startEC,hasInfo:makeEnumeration(t.dimensionPaths)||t.ec>0}},combinedTree(){if(!this.inputIsValidTree)return{};const t=GameCache.currentStudyTree.value,e=this.combinedTreeObject,i=e.purchasedStudies.filter(o=>!t.purchasedStudies.includes(o)).map(o=>this.studyString(o)),n=TimeStudyTree.getECFromString(this.truncatedInput),r=e.startEC,a=[0,n].includes(player.challenge.eternity.current),s=e.ec!==n;return{timeTheorems:e.spentTheorems[0]-t.spentTheorems[0],spaceTheorems:e.spentTheorems[1]-t.spentTheorems[1],newStudies:makeEnumeration(i),newStudiesArray:i,firstPaths:makeEnumeration(e.dimensionPaths),secondPaths:makeEnumeration(e.pacePaths),ec:e.ec,startEC:r&&a&&!s,hasInfo:makeEnumeration(e.dimensionPaths)||e.ec>0}},combinedTreeObject(){const t=new TimeStudyTree;return t.attemptBuyArray(TimeStudyTree.currentStudies,!1),t.attemptBuyArray(t.parseStudyImport(this.truncatedInput),!0),t},modalTitle(){return this.deleting?`Deleting Study Preset "${this.name}"`:this.isImporting?"Input your tree":`Editing Study Preset "${this.name}"`},invalidMessage(){if(!this.inputIsValidTree||this.importedTree.invalidStudies.length===0)return null;let t=`#${this.truncatedInput}#`;t.length>300&&(t=`${t.slice(0,297)}...`);for(const e of this.importedTree.invalidStudies){const i=`${e}`.match(/(EC)?(\d+)/u),n=parseInt(i[2],10);switch(i[1]){case"EC":t=t.replaceAll(new RegExp(`\\|(${n})`,"gu"),'|<span style="color: var(--color-bad);">$1</span>');break;default:t=t.replaceAll(new RegExp(`(\\D)(${n})(\\D)`,"gu"),'$1<span style="color: var(--color-bad);">$2</span>$3');break}}return`Your import string has invalid study IDs: ${t.replaceAll("#","").replaceAll(",",", ")}
        <br><br>`},truncatedInput(){return TimeStudyTree.truncateInput(this.input)},hasInput(){return this.truncatedInput!==""},inputIsValid(){return this.inputIsValidTree||this.inputIsSecret},inputIsValidTree(){return TimeStudyTree.isValidImportString(this.truncatedInput)},inputIsSecret(){return["08b819f253b684773e876df530f95dcb85d2fb052046fa16ec321c65f3330608","bb450c2a3869bae412ed0b4304dc229521fc69f0fdcc95b3b61460aaf5658fc4"].includes(bm.sha512_256(this.input.toLowerCase()))},confirmText(){return this.deleting?"Delete":this.isImporting?"Import":"Save"}},watch:{input(t){L1=t}},created(){const t=player.timestudy.presets[this.id];this.input=t?t.studies:L1,this.name=t?t.name:""},mounted(){this.$refs.input.select()},methods:{update(){this.canEternity=Player.canEternity},confirm(){if(this.deleting)this.deletePreset();else if(this.isImporting){if(this.respecAndLoad&&Player.canEternity){player.respec=!0;const t=new TimeStudyTree(this.truncatedInput);animateAndEternity(()=>TimeStudyTree.commitToGameState(t.purchasedStudies,!1,t.startEC));return}this.importTree()}else this.savePreset()},convertInputShorthands(){this.input=TimeStudyTree.formatStudyList(this.input)},importTree(){this.inputIsValid&&(this.inputIsSecret&&SecretAchievement(37).unlock(),L1="",this.emitClose(),TimeStudyTree.commitToGameState(this.combinedTreeObject.purchasedStudies,!1,this.combinedTree.startEC))},savePreset(){this.inputIsValid&&(player.timestudy.presets[this.id].studies=this.input,GameUI.notify.eternity(`Study Tree ${this.name} successfully edited.`),this.emitClose())},deletePreset(){const t=player.timestudy.presets[this.id].name,e=t?`Study preset "${t}"`:"Study preset";player.timestudy.presets[this.id].studies="",player.timestudy.presets[this.id].name="",GameUI.notify.eternity(`${e} deleted from slot ${this.id+1}`)},studyString(t){return t instanceof ECTimeStudyState?`EC${t.id}`:`${t.id}`}}};var gwe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{staticClass:"c-modal-import-tree",attrs:{"show-cancel":!e.inputIsValid,"show-confirm":e.inputIsValid},on:{confirm:e.confirm},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.modalTitle)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" "+e._s(e.confirmText)+" ")]},proxy:!0}])},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import-tree__input",class:{"l-delete-input":e.deleting},attrs:{type:"text",maxlength:"1500",disabled:e.deleting},domProps:{value:e.input},on:{keyup:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.confirm.apply(null,arguments)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(n){n.target.composing||(e.input=n.target.value)}}}),i("div",{staticClass:"c-two-column"},[i("div",{staticClass:"c-study-info l-modal-import-tree__tree-info"},[e.inputIsSecret?i("div",[e._v(" ??? ")]):e.inputIsValidTree?[e.invalidMessage?i("div",{staticClass:"l-modal-import-tree__tree-info-line",domProps:{innerHTML:e._s(e.invalidMessage)}}):e._e(),e.isImporting?i("StudyStringLine",{attrs:{tree:e.combinedTree,"into-empty":!1}}):e._e(),i("StudyStringLine",{attrs:{tree:e.importedTree,"into-empty":!0}}),e.deleting&&e.importedTree.hasInfo?i("StudyTreeInfo",{attrs:{"header-text":"Study Preset contains:","tree-status":e.importedTree}}):e._e(),!e.deleting&&!e.isImporting&&e.importedTree.hasInfo?i("StudyTreeInfo",{attrs:{"header-text":"Status after loading with <b>no studies</b>:","tree-status":e.importedTree}}):e._e(),!e.deleting&&e.combinedTree.hasInfo?i("StudyTreeInfo",{attrs:{"header-text":"Status after loading with <b>current tree</b>:","tree-status":e.combinedTree}}):e._e()]:e._e(),!e.deleting&&!e.inputIsValidTree&&e.hasInput?i("div",[e._v(" Not a valid tree ")]):e._e()],2),i("div",{staticClass:"c-study-preview"},[i("StudyStringPreview",{attrs:{"show-preview":e.inputIsValidTree,"new-studies":!e.isImporting||e.canEternity&&e.respecAndLoad?e.importedTree.newStudiesArray:e.combinedTree.newStudiesArray,"disregard-current-studies":!e.isImporting||e.canEternity&&e.respecAndLoad}})],1)]),!e.isImporting&&e.inputIsValidTree?i("div",[i("br"),e.deleting?e._e():i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This will format the study preset text, for example, changing 'a,b,c|d' to 'a, b, c | d'.",expression:"'This will format the study preset text, for example, changing \\'a,b,c|d\\' to \\'a, b, c | d\\'.'"}],on:{click:e.convertInputShorthands}},[e._v(" Format Preset Text ")])],1):e._e(),e.isImporting?i("span",[i("br"),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.canEternity?"":"You are currently unable to eternity, so this will only do a normal load.",expression:"canEternity ? '' : 'You are currently unable to eternity, so this will only do a normal load.'"}],staticClass:"c-modal__confirmation-toggle",on:{click:function(n){e.respecAndLoad=!e.respecAndLoad}}},[i("div",{class:{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":e.respecAndLoad}},[e.respecAndLoad?i("span",{staticClass:"fas fa-check"}):e._e()]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Also respec tree and eternity "),e.canEternity?e._e():i("span",{staticClass:"c-modal__confirmation-toggle__warning"},[e._v(" ! ")])])])]):e._e()])},vwe=[],bwe=X(ywe,gwe,vwe,!1,null,"426906d4");const _we=bwe.exports,wwe={name:"SwitchAutomatorEditorModal",components:{ModalWrapperChoice:Ht},props:{callback:{type:Function,required:!1,default:()=>({})},lostBlocks:{type:Number,required:!1,default:0}},data(){return{errorCount:0,isCurrentlyBlocks:!1}},computed:{currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(t){this.$viewModel.tabs.reality.automator.editorScriptID=t}},otherMode(){return this.isCurrentlyBlocks?"Text":"Block"}},methods:{update(){this.errorCount=AutomatorData.currentErrors().length,this.isCurrentlyBlocks=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK},toggleAutomatorMode(){var t;AutomatorBackend.changeModes(this.currentScriptID),(t=this.callback)==null||t.call(this)}}};var Ewe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"switchAutomatorMode"},on:{confirm:e.toggleAutomatorMode},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Change Automator to "+e._s(e.otherMode)+" editor ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Change Modes ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" This will stop your current script if it is running! "),e.errorCount?i("div",[i("br"),e._v(" Your script has some errors which may not get converted properly to "+e._s(e.otherMode)+" mode. Continuing on will make the Automator attempt to parse these lines anyway, although some information may get lost or not be converted properly. ")]):e._e(),e.lostBlocks?i("b",[i("br"),e._v(" Warning: Your script also currently has some lines which cannot interpreted as particular commands. These lines will end up being deleted since there is no block they can be converted into. If an error occurs at the start of a loop or IF, this may end up deleting large portions of your script! "),i("span",{staticClass:"l-lost-text"},[e._v(" Changing editor modes right now will cause "+e._s(e.quantifyInt("line",e.lostBlocks))+" of code to be irreversibly lost! ")])]):e._e(),i("br"),i("span",{staticClass:"l-lost-text"},[e._v(" Hiding this confirmation is not recommended, as it may cause parts of scripts to be immediately and irreversibly lost if your script has errors when attempting to switch modes. ")]),i("br"),i("br"),e._v(" Are you sure you want to change to the "+e._s(e.otherMode)+" editor? ")])])},Twe=[],Cwe=X(wwe,Ewe,Twe,!1,null,"e6960834");const kwe=Cwe.exports,Swe={name:"UiChoiceModal",components:{ModalWrapperChoice:Ht},computed:{listEntries(){return[`Many more game events now have animations. If these impact your performance or gameplay, they can be
        disabled in the Visual Options tab.`,`New confirmation windows have replaced the default Javascript alert windows. These can be disabled in the
        Gameplay Options tab.`,"The game now also has a new sleek layout which was designed with more Modern design practices in mind."]}},methods:{handleYesClick(){GameOptions.toggleUI()}}};var Awe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Visual Changes ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" Remain ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Swap ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" We noticed that you've loaded an old save; a few visual changes have been made since older versions of the game: "),i("br"),i("br"),i("div",{staticClass:"c-visual-change-list"},e._l(e.listEntries,function(n,r){return i("div",{key:r,staticClass:"c-visual-change-list-entry"},[i("b",[e._v("•")]),e._v(" "+e._s(n)+" ")])}),0),i("br"),i("br"),e._v(" You can change between the Classic UI which older versions of the game used and the newer Modern UI in the Visual Options tab at any time. Would you like to swap to the Modern UI now? ")])])},xwe=[],Dwe=X(Swe,Awe,xwe,!1,null,"46b68c08");const Iwe=Dwe.exports,Rwe={name:"UndoGlyphModal",components:{ModalWrapperChoice:Ht},data(){return{showStoredGameTime:!1}},methods:{update(){this.showStoredGameTime=Enslaved.isUnlocked},realityInvalidate(){this.emitClose(),Modal.message.show("Glyph Undo can only undo with a Reality!",{closeEvent:GAME_EVENT.REALITY_RESET_AFTER})},handleYesClick(){this.emitClose(),Glyphs.undo()}}};var Mwe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{attrs:{option:"glyphUndo"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to undo equipping a Glyph ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text c-text-wrapper"},[e._v(" The last equipped Glyph will be removed. Reality will be reset, but some things will be restored to what they were when it was equipped: "),i("br"),i("div",{staticClass:"c-text-wrapper"},[i("br"),e._v("- Antimatter, Infinity Points, and Eternity Points "),i("br"),e._v("- Dilation Upgrades, Tachyon Particles, and Dilated Time "),i("br"),e._v("- Time Theorems and Eternity Challenge completions "),i("br"),e._v("- Time Dimension and Reality unlocks "),i("br"),e._v("- Time in current Infinity/Eternity/Reality "),e.showStoredGameTime?i("span",[i("br"),e._v("- Stored game time")]):e._e()]),i("br"),e._v(" Note that if you invalidate special requirements for certain things (such as the achievement for completing a Reality without producing antimatter), they will remain invalid even after undoing. In those cases, you will need to complete the conditions in a single Reality without using undo. ")])])},Pwe=[],Owe=X(Rwe,Mwe,Pwe,!1,null,"54814078");const Nwe=Owe.exports,Gwe={name:"UpgradeMechanicLockModal",components:{ModalWrapperChoice:Ht},props:{upgrade:{type:Object,required:!0},isImaginary:{type:Boolean,required:!0},specialLockText:{type:String,required:!1,default:null}},computed:{upgradeStr(){return this.isImaginary?"Imaginary Upgrade":"Reality Upgrade"},lockEvent(){return this.specialLockText??this.upgrade.lockEvent}},methods:{disableLock(){this.upgrade.setMechanicLock(!1)}}};var Uwe=function(){var e=this,i=e._self._c;return i("ModalWrapperChoice",{on:{confirm:e.disableLock},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.upgradeStr)+" Condition Lock ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Disable Lock ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Are you sure you wish to "+e._s(e.lockEvent)+"? Doing this right now will cause you to "),i("span",{staticClass:"l-emphasis"},[e._v(" fail the requirement for the "+e._s(e.upgradeStr)+' "'+e._s(e.upgrade.name)+'" ')]),i("span",{attrs:{"ach-tooltip":e.upgrade.requirement}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),i("br"),e._v(' Selecting "Cancel" will close this modal with no effect, while selecting "Disable Lock" will disable the requirement check for this upgrade and prevent this message from reappearing unless you turn it back on. '),i("br"),i("br"),e._v(" Neither of these options will perform the action you just attempted, so you will need to try again. ")])])},Lwe=[],Bwe=X(Gwe,Uwe,Lwe,!1,null,"57544275");const $we=Bwe.exports,Pp={entries:[{name:"FE000000",link:"https://dan-simon.github.io/misc/fe000000/",image:"game--hex-game.png"},{name:"Trimps",link:"https://trimps.github.io/",image:"game--trimps.png"},{name:"Mine Defense",link:"http://scholtek.com/minedefense",image:"game--mine-defense.png"},{name:"Wizard and Minion Idle",link:"https://www.kongregate.com/games/Oninou/wami",image:"game--wami.png"},{name:"Anti-Idle",link:"https://www.kongregate.com/games/Tukkun/anti-idle-the-game",image:"game--anti-idle.png"},{name:"Synergism",link:"https://synergism.cc/",image:"game--synergism.png"},{name:"Universal Paperclips",link:"https://www.decisionproblem.com/paperclips/",image:"game--universal-paperclips.png"},{name:"Monies 2",link:"https://sneekxy.nmtechgroup.com/monies2/",image:"game--monies2.png"},{name:"The First Alkahistorian",link:"https://nagshell.github.io/elemental-inception-incremental/",image:"game--alkahistorian.png"},{name:"Melvor Idle",link:"https://melvoridle.com/",image:"game--melvor-idle.svg"}],selected:-1};let B1=!1;const Fwe={name:"S12Games",data(){return{S12Games:Pp}},mounted(){document.body.addEventListener("click",this.clearSelected)},beforeDestroy(){document.body.removeEventListener("click",this.clearSelected),this.clearSelected()},methods:{clearSelected(){B1||(Pp.selected=-1)},handleClick(t){Pp.selected!==t?(Pp.selected=t,B1=!0,setTimeout(()=>B1=!1,0)):window.open(Pp.entries[t].link)}}};var Hwe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-s12-games-container"},e._l(e.S12Games.entries,function(n,r){return i("div",{key:n.name,staticClass:"c-s12-game",class:{"c-s12-game--selected":e.S12Games.selected===r},on:{click:function(a){return e.handleClick(r)}}},[i("div",{staticClass:"c-s12-game__inner"},[i("img",{staticClass:"c-s12-game__img",attrs:{src:`/images/s12/${n.image}`}}),i("div",{staticClass:"c-s12-game__text"},[e._v(" "+e._s(n.name)+" ")])])])}),0)},Vwe=[],Ywe=X(Fwe,Hwe,Vwe,!1,null,"cdddf7e8");const qwe=Ywe.exports,Wwe={name:"S12GamesModal",components:{ModalWrapper:ka,S12GameEntries:qwe},data(){return{S12Games:Pp}},methods:{update(){this.$viewModel.theme!=="S12"&&EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}};var jwe=function(){var e=this,i=e._self._c;return i("ModalWrapper",{staticClass:"c-modal-s12-games"},[i("div",{staticClass:"c-modal__title"},[e._v(" Games ")]),i("S12GameEntries"),i("div",{staticClass:"c-modal-s12-games__magnified-display"},[e.S12Games.selected!==-1?[i("img",{staticClass:"c-modal-s12-games__magnified-display__img",attrs:{src:`/images/s12/${e.S12Games.entries[e.S12Games.selected].image}`}}),i("b",{staticClass:"c-modal-s12-games__magnified-display__text"},[e._v(" "+e._s(e.S12Games.entries[e.S12Games.selected].name)+" ")])]:e._e()],2)],1)},zwe=[],Xwe=X(Wwe,jwe,zwe,!1,null,"975ac974");const Kwe=Xwe.exports;let Zwe=0,Te=class wk{constructor(e,i=0,n){this._component=e,this._modalConfig={},this._priority=i,this._closeEvent=n}applyCloseListeners(e){const i=[GAME_EVENT.DIMBOOST_AFTER,GAME_EVENT.GALAXY_RESET_AFTER,GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.REALITY_RESET_AFTER];let n=!1;for(const r of i)r===e&&(n=!0),n&&EventHub.ui.on(r,()=>this.removeFromQueue(),this._component);n||EventHub.ui.on(e,()=>this.removeFromQueue(),this._component)}show(e){if(!GameUI.initialized)return;this._uniqueID=Zwe++,this._props=Object.assign({},e||{}),this._closeEvent&&this.applyCloseListeners(this._closeEvent),e!=null&&e.closeEvent&&this.applyCloseListeners(e.closeEvent),ui.view.modal.queue.unshift(this),wk.sortModalQueue()}get isOpen(){return ui.view.modal.current===this}get component(){return this._component}get props(){return this._props}get priority(){return this._priority}removeFromQueue(){EventHub.ui.offAll(this._component),ui.view.modal.queue=ui.view.modal.queue.filter(e=>e._uniqueID!==this._uniqueID),ui.view.modal.queue.length===0?ui.view.modal.current=void 0:ui.view.modal.current=ui.view.modal.queue[0]}static sortModalQueue(){const e=ui.view.modal.queue;e.sort((n,r)=>r.priority-n.priority);const i=[...new Set(e)];ui.view.modal.queue=i,ui.view.modal.current=i[0]}static hide(){GameUI.initialized&&(ui.view.modal.queue.shift(),ui.view.modal.queue.length===0?ui.view.modal.current=void 0:ui.view.modal.current=ui.view.modal.queue[0],ui.view.modal.cloudConflict=[])}static hideAll(){if(GameUI.initialized){for(;ui.view.modal.queue.length;)ui.view.modal.queue[0].hide?ui.view.modal.queue[0].hide():wk.hide();ui.view.modal.current=void 0}}static get isOpen(){return ui.view.modal.current instanceof this}};class rx extends Te{show(e){super.show({id:e})}}class Qwe extends Te{show(e){super.show({diff:e})}}Te.startEternityChallenge=new rx(ahe);Te.startInfinityChallenge=new rx(uhe);Te.startNormalChallenge=new rx(_he);Te.catchup=new Qwe(Rve,-1);Te.dimensionBoost=new Te(Yhe,1,GAME_EVENT.DIMBOOST_AFTER);Te.antimatterGalaxy=new Te(khe,1,GAME_EVENT.GALAXY_RESET_AFTER);Te.bigCrunch=new Te(Bhe,1,GAME_EVENT.BIG_CRUNCH_AFTER);Te.exitChallenge=new Te(mfe,1,GAME_EVENT.REALITY_RESET_AFTER);Te.replicantiGalaxy=new Te(Kfe,1,GAME_EVENT.ETERNITY_RESET_AFTER);Te.eternity=new Te(ufe,1,GAME_EVENT.ETERNITY_RESET_AFTER);Te.enterDilation=new Te(afe,1,GAME_EVENT.REALITY_RESET_AFTER);Te.exitDilation=new Te(_fe,1,GAME_EVENT.REALITY_RESET_AFTER);Te.reality=new Te(qfe,1,GAME_EVENT.REALITY_RESET_AFTER);Te.resetReality=new Te(tpe,1,GAME_EVENT.REALITY_RESET_AFTER);Te.celestials=new Te(efe,1);Te.hardReset=new Te(kfe,1);Te.backupWindows=new Te(Qpe,1);Te.enterSpeedrun=new Te(w0e);Te.modifySeed=new Te(G_e);Te.changeName=new Te(Fve);Te.armageddon=new Te(Ihe,1);Te.confirmationOptions=new Te(lme);Te.infoDisplayOptions=new Te(lye);Te.awayProgressOptions=new Te(Hpe);Te.glyphDisplayOptions=new Te(Ume);Te.cosmeticSetChoice=new Te(vme);Te.singleGlyphAppearance=new Te(xye);Te.hotkeys=new Te(nye);Te.newsOptions=new Te(fye);Te.animationOptions=new Te(Mpe);Te.hiddenTabs=new Te(Qme);Te.preferredTree=new Te(Tye);Te.notation=new Te(vye);Te.upgradeLock=new Te($we,1);Te.deleteCompanion=new Te(Pye,1);Te.glyphDelete=new Te(Lye,1,GAME_EVENT.GLYPHS_CHANGED);Te.glyphPurge=new Te(Jye,1,GAME_EVENT.GLYPHS_CHANGED);Te.glyphSacrifice=new Te(cge,1,GAME_EVENT.GLYPHS_CHANGED);Te.glyphRefine=new Te(rge,1,GAME_EVENT.GLYPHS_CHANGED);Te.deleteAllUnprotectedGlyphs=new Te(zye,1,GAME_EVENT.GLYPHS_CHANGED);Te.deleteAllRejectedGlyphs=new Te(Vye,1,GAME_EVENT.GLYPHS_CHANGED);Te.glyphShowcasePanel=new Te(Obe);Te.glyphUndo=new Te(Nwe,1,GAME_EVENT.REALITY_RESET_AFTER);Te.glyphReplace=new Te(Z_e,1,GAME_EVENT.REALITY_RESET_AFTER);Te.enslavedHints=new Te(dbe);Te.realityGlyph=new Te(W_e);Te.glyphSetSaveDelete=new Te(Cbe);Te.uiChoice=new Te(Iwe);Te.h2p=new Te(Bbe);Te.information=new Te(w_e);Te.credits=new Te(tbe,1);Te.changelog=new Te(Gve,1);Te.awayProgress=new Te(dve);Te.loadGame=new Te(R_e);Te.import=new Te(a_e);Te.importFilter=new Te(e_e);Te.importScriptData=new Te(Ybe);Te.automatorScriptDelete=new Te(sbe);Te.automatorScriptTemplate=new Te(tve);Te.switchAutomatorEditorMode=new Te(kwe);Te.clearAutomatorConstants=new Te(Wve);Te.importTSConstants=new Te(u_e);Te.autobuyerEditModal=new Te(Kge);Te.shop=new Te(R0e);Te.studyString=new Te(_we);Te.singularityMilestones=new Te(y0e);Te.pelleEffects=new Te(F_e);Te.sacrifice=new Te(o0e,1,GAME_EVENT.DIMBOOST_AFTER);Te.breakInfinity=new Te(yve,1,GAME_EVENT.ETERNITY_RESET_AFTER);Te.respecIAP=new Te(i0e);Te.s12Games=new Te(Kwe);function pw(t){var i,n,r,a,s,o,c,d,p,m,y,_;const e={realTimePlayed:0,totalAntimatter:new Decimal(0),infinities:new Decimal(0),eternities:new Decimal(0),realities:0,infinityPoints:new Decimal(0),eternityPoints:new Decimal(0),realityMachines:new Decimal(0),imaginaryMachines:0,dilatedTime:new Decimal(0),bestLevel:0,pelleAM:new Decimal(0),remnants:0,realityShards:new Decimal(0),pelleLore:0,saveName:"",compositeProgress:0};return e.realTimePlayed=((i=t.records)==null?void 0:i.realTimePlayed)??100*t.totalTimePlayed,e.totalAntimatter.copyFrom(new Decimal((n=t.records)==null?void 0:n.totalAntimatter)),e.infinities.copyFrom(new Decimal(t.infinities)),e.eternities.copyFrom(new Decimal(t.eternities)),e.realities=t.realities??0,e.infinityPoints.copyFrom(new Decimal(t.infinityPoints)),e.eternityPoints.copyFrom(new Decimal(t.eternityPoints)),e.realityMachines.copyFrom(new Decimal((r=t.reality)==null?void 0:r.realityMachines)),e.imaginaryMachines=((a=t.reality)==null?void 0:a.iMCap)??0,e.dilatedTime.copyFrom(new Decimal(((s=t.records)==null?void 0:s.thisReality.maxDT)??((o=t.dilation)==null?void 0:o.dilatedTime)??0)),e.bestLevel=((c=t.records)==null?void 0:c.bestReality.glyphLevel)??0,e.pelleAM.copyFrom(new Decimal((d=t.celestials)==null?void 0:d.pelle.records.totalAntimatter)),e.remnants=((p=t.celestials)==null?void 0:p.pelle.remnants)??0,e.realityShards.copyFrom(new Decimal((m=t.celestials)==null?void 0:m.pelle.realityShards)),e.pelleLore=((y=t.celestials)==null?void 0:y.pelle.quoteBits)??0,e.saveName=((_=t.options)==null?void 0:_.saveFileName)??"",e.compositeProgress=dw.getCompositeProgress(t),e}Te.cloudSaveConflict=new Te(ehe);Te.cloudLoadConflict=new Te(Xde);Te.cloudInvalidData=new Te($de);Te.addCloudConflict=function(t,e,i,n,r){Te.hide(),ui.view.modal.cloudConflict={saveId:t,saveComparison:e,cloud:pw(i),local:pw(n),onAccept:r}};Te.addImportConflict=function(t,e){Te.hide(),ui.view.modal.cloudConflict={importingSave:pw(t),currentSave:pw(e)}};Te.message=new class extends Te{show(t,e={},i=0){if(GameUI.initialized){if(this.currPriority===void 0)this.currPriority=i;else if(i<this.currPriority)return;super.show(),this.message=t,this.callback=e.callback,this.closeButton=e.closeButton??!1,EventHub.ui.offAll(this._component),e.closeEvent&&this.applyCloseListeners(e.closeEvent)}}hide(){EventHub.ui.offAll(this._component),this.currPriority=void 0,Te.hide()}}(mhe,2);const yi=function(e,i){this.name=e,this.isDark=function(){return this.isDefault()||e==="S12"?player.options.newUI:i.isDark},this.isMetro=i.isMetro,this.isAnimated=i.isAnimated,this.isSecret=i.isSecret,this.isDefault=function(){return e==="Normal"},this.isAvailable=function(){return this.isSecret?player.secretUnlocks.themes.some(n=>n.match(/^S[0-9]*/u)[0]===e):!0},this.displayName=function(){return!this.isSecret||!this.isAvailable()?e:player.secretUnlocks.themes.find(n=>n.match(/^S[0-9]*/u)[0]===e).replace(/^S[0-9]*/u,"")},this.set=function(){document.body.classList.remove(...document.body.classList),document.body.classList.add(this.cssClass()),this.isMetro&&document.body.classList.add("s-base--metro"),this.isDark()&&document.body.classList.add("s-base--dark"),this.isAnimated&&player.options.animations.background?document.getElementById("background-animations").style.display="block":document.getElementById("background-animations").style.display="none",player.options.newUI?player.options.themeModern=e:player.options.themeClassic=e,ui.view.theme=e,window.getSelection().removeAllRanges(),PerkNetwork.forceNetworkRemake()},this.cssClass=function(){return`t-${this.name.replace(/\s+/gu,"-").toLowerCase()}`}};yi.currentName=function(){return player.options.newUI?player.options.themeModern:player.options.themeClassic};yi.current=function(){return wm.find(yi.currentName())};yi.set=function(t){const e=wm.find(t);return e.set(),e};yi.secretThemeIndex=function(t){const e=["ef853879b60fa6755d9599fd756c94d112f987c0cd596abf48b08f33af5ff537","078570d37e6ffbf06e079e07c3c7987814e03436d00a17230ef5f24b1cb93290","a3d64c3d1e1749b60b2b3dba10ed5ae9425300e9600ca05bcbafe4df6c69941f","530fac71cc0b151b24d966493a6f4a0817921b37e4d3e593439e624c214ab2b2","cb72e4a679254df5f99110dc7a93924628b916d2e069e3ad206db92068cb0883","c8fac64da08d674123c32c936b14115ab384fe556fd24e431eb184a8dde21137","da3b3c152083f0c70245f104f06331497b97b52ac80edec05e26a33ee704cae7","1bbc0800145e72dfea5bfb218eba824c52510488b3a05ee88feaaa6683322d19","dba8336cd3224649d07952b00045a6ec3c8df277aa8a0a0e3e7c2aaa77f1fbb9","73de8a7f9efa1cbffc80a8effc9891a799127cd204b3a8b023bea8f513ed4753","f3a71114261b4af6517a53f89bf0c6b56bb81b6f0e931d0e0d71249eb196628c","1248689171faaa0abb68279199a8d2eb232dba10d2dacb79a705f680b6862c0e"],i=bm.sha512_256(t.toUpperCase());return e.indexOf(i)};yi.isSecretTheme=function(t){return yi.secretThemeIndex(t)!==-1};yi.animatedThemeUnlocked=function(){return wm.all.some(t=>t.isAvailable&&t.isAnimated)};yi.tryUnlock=function(t){const e=yi.secretThemeIndex(t);if(e===-1)return!1;const i=`S${e+1}`,n=i+t.capitalize(),r=player.secretUnlocks.themes.has(n);return player.secretUnlocks.themes.add(n),yi.set(i),SecretAchievement(25).unlock(),r||(GameUI.notify.success(`You have unlocked the ${t.capitalize()} theme!`,5e3),yi.current().isAnimated&&setTimeout(Modal.message.show(`This secret theme has animations. If they are giving you performance issues,
        you can turn them off in the Options/Visual tab to reduce lag.`),100)),!0};yi.create=function(t,e){const i={isDark:e.dark,isMetro:e.metro,isAnimated:e.animated,isSecret:e.secret};return new yi(t,i)};const wm={all:[yi.create("Normal",{}),yi.create("Metro",{metro:!0}),yi.create("Dark",{dark:!0}),yi.create("Dark Metro",{dark:!0,metro:!0}),yi.create("Inverted",{}),yi.create("Inverted Metro",{metro:!0}),yi.create("AMOLED",{dark:!0}),yi.create("AMOLED Metro",{dark:!0,metro:!0}),yi.create("S1",{animated:!0,secret:!0}),yi.create("S2",{secret:!0}),yi.create("S3",{secret:!0}),yi.create("S4",{secret:!0}),yi.create("S5",{secret:!0}),yi.create("S6",{dark:!0,animated:!0,secret:!0}),yi.create("S7",{metro:!0,secret:!0}),yi.create("S8",{metro:!0,secret:!0}),yi.create("S9",{secret:!0}),yi.create("S10",{dark:!0,metro:!0,animated:!0,secret:!0}),yi.create("S11",{dark:!0,animated:!0,secret:!0}),yi.create("S12",{secret:!0})],available(){return wm.all.filter(t=>t.isAvailable())},find(t){return wm.all.find(e=>e.name===t)}};let Jwe=class{static toggleNews(){player.options.news.enabled=!player.options.news.enabled,ui.view.news=player.options.news.enabled,GameStorage.save()}static toggleUI(){player.options.newUI=!player.options.newUI,ui.view.newUI=player.options.newUI,Themes.find(Theme.currentName()).set(),$h.updateZoom(),GameStorage.save()}static cloudSave(){Cloud.saveCheck(!0)}static cloudLoad(){Cloud.loadCheck()}static login(){Cloud.login()}static logout(){Cloud.logout()}static refreshUpdateRate(){player.options.updateRate===200&&SecretAchievement(31).unlock(),GameIntervals.gameLoop.restart()}static refreshAutosaveInterval(){GameIntervals.save.restart()}};const eEe=["80b7fdc794f5dfc944da6a445a3f21a2d0f7c974d044f2ea25713037e96af9e3","857876556a230da15fe1bb6f410ca8dbc9274de47c1a847c2281a7103dd2c274","be88e62eb68758cd7381104977c0d3d5d81e19c72a848f0d79d1963c1e39221f","c784c9c0a82b5f3c13884842fa6e6a8f5aed994ef401e6476c30b1adfe439b22"];function f3(t){const e=bm.sha512_256(t.replace(/\s/gu,"").toUpperCase());return eEe.indexOf(e)}function tEe(t){return f3(t)!==-1}function iEe(t){switch(f3(t)){case 0:return gl.display("a-barrel-roll",5),SecretAchievement(15).unlock(),!0;case 1:return SecretAchievement(14).unlock(),!0;case 2:return SecretAchievement(37).unlock(),!0;case 3:return Speedrun.unlock(),!0;default:return!1}}function tf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tf=function(i){return typeof i}:tf=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},tf(t)}function Em(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function nEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rEe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aEe(t,e,i){return e&&rEe(t.prototype,e),t}/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var yb=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",sEe=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(yb&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function oEe(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function lEe(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},sEe))}}var cEe=yb&&window.Promise,uEe=cEe?oEe:lEe;function p3(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function qf(t,e){if(t.nodeType!==1)return[];var i=t.ownerDocument.defaultView,n=i.getComputedStyle(t,null);return e?n[e]:n}function ax(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function gb(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=qf(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(i+r+n)?t:gb(ax(t))}function m3(t){return t&&t.referenceNode?t.referenceNode:t}var IO=yb&&!!(window.MSInputMethodContext&&document.documentMode),RO=yb&&/MSIE 10/.test(navigator.userAgent);function Qm(t){return t===11?IO:t===10?RO:IO||RO}function Tm(t){if(!t)return document.documentElement;for(var e=Qm(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return!n||n==="BODY"||n==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(i.nodeName)!==-1&&qf(i,"position")==="static"?Tm(i):i}function dEe(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Tm(t.firstElementChild)===t}function Ek(t){return t.parentNode!==null?Ek(t.parentNode):t}function mw(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,r=i?e:t,a=document.createRange();a.setStart(n,0),a.setEnd(r,0);var s=a.commonAncestorContainer;if(t!==s&&e!==s||n.contains(r))return dEe(s)?s:Tm(s);var o=Ek(t);return o.host?mw(o.host,e):mw(t,Ek(e).host)}function Cm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",i=e==="top"?"scrollTop":"scrollLeft",n=t.nodeName;if(n==="BODY"||n==="HTML"){var r=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||r;return a[i]}return t[i]}function hEe(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=Cm(e,"top"),r=Cm(e,"left"),a=i?-1:1;return t.top+=n*a,t.bottom+=n*a,t.left+=r*a,t.right+=r*a,t}function MO(t,e){var i=e==="x"?"Left":"Top",n=i==="Left"?"Right":"Bottom";return parseFloat(t["border"+i+"Width"])+parseFloat(t["border"+n+"Width"])}function PO(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],Qm(10)?parseInt(i["offset"+t])+parseInt(n["margin"+(t==="Height"?"Top":"Left")])+parseInt(n["margin"+(t==="Height"?"Bottom":"Right")]):0)}function y3(t){var e=t.body,i=t.documentElement,n=Qm(10)&&getComputedStyle(i);return{height:PO("Height",e,i,n),width:PO("Width",e,i,n)}}var fEe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},pEe=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),km=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},Eo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function Gd(t){return Eo({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Tk(t){var e={};try{if(Qm(10)){e=t.getBoundingClientRect();var i=Cm(t,"top"),n=Cm(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch{}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a=t.nodeName==="HTML"?y3(t.ownerDocument):{},s=a.width||t.clientWidth||r.width,o=a.height||t.clientHeight||r.height,c=t.offsetWidth-s,d=t.offsetHeight-o;if(c||d){var p=qf(t);c-=MO(p,"x"),d-=MO(p,"y"),r.width-=c,r.height-=d}return Gd(r)}function sx(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=Qm(10),r=e.nodeName==="HTML",a=Tk(t),s=Tk(e),o=gb(t),c=qf(e),d=parseFloat(c.borderTopWidth),p=parseFloat(c.borderLeftWidth);i&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var m=Gd({top:a.top-s.top-d,left:a.left-s.left-p,width:a.width,height:a.height});if(m.marginTop=0,m.marginLeft=0,!n&&r){var y=parseFloat(c.marginTop),_=parseFloat(c.marginLeft);m.top-=d-y,m.bottom-=d-y,m.left-=p-_,m.right-=p-_,m.marginTop=y,m.marginLeft=_}return(n&&!i?e.contains(o):e===o&&o.nodeName!=="BODY")&&(m=hEe(m,e)),m}function mEe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=t.ownerDocument.documentElement,n=sx(t,i),r=Math.max(i.clientWidth,window.innerWidth||0),a=Math.max(i.clientHeight,window.innerHeight||0),s=e?0:Cm(i),o=e?0:Cm(i,"left"),c={top:s-n.top+n.marginTop,left:o-n.left+n.marginLeft,width:r,height:a};return Gd(c)}function g3(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(qf(t,"position")==="fixed")return!0;var i=ax(t);return i?g3(i):!1}function v3(t){if(!t||!t.parentElement||Qm())return document.documentElement;for(var e=t.parentElement;e&&qf(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function ox(t,e,i,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},s=r?v3(t):mw(t,m3(e));if(n==="viewport")a=mEe(s,r);else{var o=void 0;n==="scrollParent"?(o=gb(ax(e)),o.nodeName==="BODY"&&(o=t.ownerDocument.documentElement)):n==="window"?o=t.ownerDocument.documentElement:o=n;var c=sx(o,s,r);if(o.nodeName==="HTML"&&!g3(s)){var d=y3(t.ownerDocument),p=d.height,m=d.width;a.top+=c.top-c.marginTop,a.bottom=p+c.top,a.left+=c.left-c.marginLeft,a.right=m+c.left}else a=c}i=i||0;var y=typeof i=="number";return a.left+=y?i:i.left||0,a.top+=y?i:i.top||0,a.right-=y?i:i.right||0,a.bottom-=y?i:i.bottom||0,a}function yEe(t){var e=t.width,i=t.height;return e*i}function b3(t,e,i,n,r){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=ox(i,n,a,r),o={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},c=Object.keys(o).map(function(y){return Eo({key:y},o[y],{area:yEe(o[y])})}).sort(function(y,_){return _.area-y.area}),d=c.filter(function(y){var _=y.width,w=y.height;return _>=i.clientWidth&&w>=i.clientHeight}),p=d.length>0?d[0].key:c[0].key,m=t.split("-")[1];return p+(m?"-"+m:"")}function _3(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=n?v3(e):mw(e,m3(i));return sx(i,r,n)}function w3(t){var e=t.ownerDocument.defaultView,i=e.getComputedStyle(t),n=parseFloat(i.marginTop||0)+parseFloat(i.marginBottom||0),r=parseFloat(i.marginLeft||0)+parseFloat(i.marginRight||0),a={width:t.offsetWidth+r,height:t.offsetHeight+n};return a}function yw(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(i){return e[i]})}function E3(t,e,i){i=i.split("-")[0];var n=w3(t),r={width:n.width,height:n.height},a=["right","left"].indexOf(i)!==-1,s=a?"top":"left",o=a?"left":"top",c=a?"height":"width",d=a?"width":"height";return r[s]=e[s]+e[c]/2-n[c]/2,i===o?r[o]=e[o]-n[d]:r[o]=e[yw(o)],r}function vb(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function gEe(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(r){return r[e]===i});var n=vb(t,function(r){return r[e]===i});return t.indexOf(n)}function T3(t,e,i){var n=i===void 0?t:t.slice(0,gEe(t,"name",i));return n.forEach(function(r){r.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=r.function||r.fn;r.enabled&&p3(a)&&(e.offsets.popper=Gd(e.offsets.popper),e.offsets.reference=Gd(e.offsets.reference),e=a(e,r))}),e}function vEe(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=_3(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=b3(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=E3(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=T3(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function C3(t,e){return t.some(function(i){var n=i.name,r=i.enabled;return r&&n===e})}function lx(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var r=e[n],a=r?""+r+i:t;if(typeof document.body.style[a]<"u")return a}return null}function bEe(){return this.state.isDestroyed=!0,C3(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[lx("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function k3(t){var e=t.ownerDocument;return e?e.defaultView:window}function S3(t,e,i,n){var r=t.nodeName==="BODY",a=r?t.ownerDocument.defaultView:t;a.addEventListener(e,i,{passive:!0}),r||S3(gb(a.parentNode),e,i,n),n.push(a)}function _Ee(t,e,i,n){i.updateBound=n,k3(t).addEventListener("resize",i.updateBound,{passive:!0});var r=gb(t);return S3(r,"scroll",i.updateBound,i.scrollParents),i.scrollElement=r,i.eventsEnabled=!0,i}function wEe(){this.state.eventsEnabled||(this.state=_Ee(this.reference,this.options,this.state,this.scheduleUpdate))}function EEe(t,e){return k3(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(i){i.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function TEe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=EEe(this.reference,this.state))}function cx(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function Ck(t,e){Object.keys(e).forEach(function(i){var n="";["width","height","top","right","bottom","left"].indexOf(i)!==-1&&cx(e[i])&&(n="px"),t.style[i]=e[i]+n})}function CEe(t,e){Object.keys(e).forEach(function(i){var n=e[i];n!==!1?t.setAttribute(i,e[i]):t.removeAttribute(i)})}function kEe(t){return Ck(t.instance.popper,t.styles),CEe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&Ck(t.arrowElement,t.arrowStyles),t}function SEe(t,e,i,n,r){var a=_3(r,e,t,i.positionFixed),s=b3(i.placement,a,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",s),Ck(e,{position:i.positionFixed?"fixed":"absolute"}),i}function AEe(t,e){var i=t.offsets,n=i.popper,r=i.reference,a=Math.round,s=Math.floor,o=function(S){return S},c=a(r.width),d=a(n.width),p=["left","right"].indexOf(t.placement)!==-1,m=t.placement.indexOf("-")!==-1,y=c%2===d%2,_=c%2===1&&d%2===1,w=e?p||m||y?a:s:o,C=e?a:o;return{left:w(_&&!m&&e?n.left-1:n.left),top:C(n.top),bottom:C(n.bottom),right:w(n.right)}}var xEe=yb&&/Firefox/i.test(navigator.userAgent);function DEe(t,e){var i=e.x,n=e.y,r=t.offsets.popper,a=vb(t.instance.modifiers,function(O){return O.name==="applyStyle"}).gpuAcceleration;a!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=a!==void 0?a:e.gpuAcceleration,o=Tm(t.instance.popper),c=Tk(o),d={position:r.position},p=AEe(t,window.devicePixelRatio<2||!xEe),m=i==="bottom"?"top":"bottom",y=n==="right"?"left":"right",_=lx("transform"),w=void 0,C=void 0;if(m==="bottom"?o.nodeName==="HTML"?C=-o.clientHeight+p.bottom:C=-c.height+p.bottom:C=p.top,y==="right"?o.nodeName==="HTML"?w=-o.clientWidth+p.right:w=-c.width+p.right:w=p.left,s&&_)d[_]="translate3d("+w+"px, "+C+"px, 0)",d[m]=0,d[y]=0,d.willChange="transform";else{var k=m==="bottom"?-1:1,S=y==="right"?-1:1;d[m]=C*k,d[y]=w*S,d.willChange=m+", "+y}var x={"x-placement":t.placement};return t.attributes=Eo({},x,t.attributes),t.styles=Eo({},d,t.styles),t.arrowStyles=Eo({},t.offsets.arrow,t.arrowStyles),t}function A3(t,e,i){var n=vb(t,function(o){var c=o.name;return c===e}),r=!!n&&t.some(function(o){return o.name===i&&o.enabled&&o.order<n.order});if(!r){var a="`"+e+"`",s="`"+i+"`";console.warn(s+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}function IEe(t,e){var i;if(!A3(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if(typeof n=="string"){if(n=t.instance.popper.querySelector(n),!n)return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],a=t.offsets,s=a.popper,o=a.reference,c=["left","right"].indexOf(r)!==-1,d=c?"height":"width",p=c?"Top":"Left",m=p.toLowerCase(),y=c?"left":"top",_=c?"bottom":"right",w=w3(n)[d];o[_]-w<s[m]&&(t.offsets.popper[m]-=s[m]-(o[_]-w)),o[m]+w>s[_]&&(t.offsets.popper[m]+=o[m]+w-s[_]),t.offsets.popper=Gd(t.offsets.popper);var C=o[m]+o[d]/2-w/2,k=qf(t.instance.popper),S=parseFloat(k["margin"+p]),x=parseFloat(k["border"+p+"Width"]),O=C-t.offsets.popper[m]-S-x;return O=Math.max(Math.min(s[d]-w,O),0),t.arrowElement=n,t.offsets.arrow=(i={},km(i,m,Math.round(O)),km(i,y,""),i),t}function REe(t){return t==="end"?"start":t==="start"?"end":t}var x3=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$1=x3.slice(3);function OO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=$1.indexOf(t),n=$1.slice(i+1).concat($1.slice(0,i));return e?n.reverse():n}var F1={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function MEe(t,e){if(C3(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var i=ox(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],r=yw(n),a=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case F1.FLIP:s=[n,r];break;case F1.CLOCKWISE:s=OO(n);break;case F1.COUNTERCLOCKWISE:s=OO(n,!0);break;default:s=e.behavior}return s.forEach(function(o,c){if(n!==o||s.length===c+1)return t;n=t.placement.split("-")[0],r=yw(n);var d=t.offsets.popper,p=t.offsets.reference,m=Math.floor,y=n==="left"&&m(d.right)>m(p.left)||n==="right"&&m(d.left)<m(p.right)||n==="top"&&m(d.bottom)>m(p.top)||n==="bottom"&&m(d.top)<m(p.bottom),_=m(d.left)<m(i.left),w=m(d.right)>m(i.right),C=m(d.top)<m(i.top),k=m(d.bottom)>m(i.bottom),S=n==="left"&&_||n==="right"&&w||n==="top"&&C||n==="bottom"&&k,x=["top","bottom"].indexOf(n)!==-1,O=!!e.flipVariations&&(x&&a==="start"&&_||x&&a==="end"&&w||!x&&a==="start"&&C||!x&&a==="end"&&k),D=!!e.flipVariationsByContent&&(x&&a==="start"&&w||x&&a==="end"&&_||!x&&a==="start"&&k||!x&&a==="end"&&C),B=O||D;(y||S||B)&&(t.flipped=!0,(y||S)&&(n=s[c+1]),B&&(a=REe(a)),t.placement=n+(a?"-"+a:""),t.offsets.popper=Eo({},t.offsets.popper,E3(t.instance.popper,t.offsets.reference,t.placement)),t=T3(t.instance.modifiers,t,"flip"))}),t}function PEe(t){var e=t.offsets,i=e.popper,n=e.reference,r=t.placement.split("-")[0],a=Math.floor,s=["top","bottom"].indexOf(r)!==-1,o=s?"right":"bottom",c=s?"left":"top",d=s?"width":"height";return i[o]<a(n[c])&&(t.offsets.popper[c]=a(n[c])-i[d]),i[c]>a(n[o])&&(t.offsets.popper[c]=a(n[o])),t}function OEe(t,e,i,n){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],s=r[2];if(!a)return t;if(s.indexOf("%")===0){var o=void 0;switch(s){case"%p":o=i;break;case"%":case"%r":default:o=n}var c=Gd(o);return c[e]/100*a}else if(s==="vh"||s==="vw"){var d=void 0;return s==="vh"?d=Math.max(document.documentElement.clientHeight,window.innerHeight||0):d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d/100*a}else return a}function NEe(t,e,i,n){var r=[0,0],a=["right","left"].indexOf(n)!==-1,s=t.split(/(\+|\-)/).map(function(p){return p.trim()}),o=s.indexOf(vb(s,function(p){return p.search(/,|\s/)!==-1}));s[o]&&s[o].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,d=o!==-1?[s.slice(0,o).concat([s[o].split(c)[0]]),[s[o].split(c)[1]].concat(s.slice(o+1))]:[s];return d=d.map(function(p,m){var y=(m===1?!a:a)?"height":"width",_=!1;return p.reduce(function(w,C){return w[w.length-1]===""&&["+","-"].indexOf(C)!==-1?(w[w.length-1]=C,_=!0,w):_?(w[w.length-1]+=C,_=!1,w):w.concat(C)},[]).map(function(w){return OEe(w,y,e,i)})}),d.forEach(function(p,m){p.forEach(function(y,_){cx(y)&&(r[m]+=y*(p[_-1]==="-"?-1:1))})}),r}function GEe(t,e){var i=e.offset,n=t.placement,r=t.offsets,a=r.popper,s=r.reference,o=n.split("-")[0],c=void 0;return cx(+i)?c=[+i,0]:c=NEe(i,a,s,o),o==="left"?(a.top+=c[0],a.left-=c[1]):o==="right"?(a.top+=c[0],a.left+=c[1]):o==="top"?(a.left+=c[0],a.top-=c[1]):o==="bottom"&&(a.left+=c[0],a.top+=c[1]),t.popper=a,t}function UEe(t,e){var i=e.boundariesElement||Tm(t.instance.popper);t.instance.reference===i&&(i=Tm(i));var n=lx("transform"),r=t.instance.popper.style,a=r.top,s=r.left,o=r[n];r.top="",r.left="",r[n]="";var c=ox(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);r.top=a,r.left=s,r[n]=o,e.boundaries=c;var d=e.priority,p=t.offsets.popper,m={primary:function(_){var w=p[_];return p[_]<c[_]&&!e.escapeWithReference&&(w=Math.max(p[_],c[_])),km({},_,w)},secondary:function(_){var w=_==="right"?"left":"top",C=p[w];return p[_]>c[_]&&!e.escapeWithReference&&(C=Math.min(p[w],c[_]-(_==="right"?p.width:p.height))),km({},w,C)}};return d.forEach(function(y){var _=["left","top"].indexOf(y)!==-1?"primary":"secondary";p=Eo({},p,m[_](y))}),t.offsets.popper=p,t}function LEe(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var r=t.offsets,a=r.reference,s=r.popper,o=["bottom","top"].indexOf(i)!==-1,c=o?"left":"top",d=o?"width":"height",p={start:km({},c,a[c]),end:km({},c,a[c]+a[d]-s[d])};t.offsets.popper=Eo({},s,p[n])}return t}function BEe(t){if(!A3(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=vb(t.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function $Ee(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,r=n.popper,a=n.reference,s=["left","right"].indexOf(i)!==-1,o=["top","left"].indexOf(i)===-1;return r[s?"left":"top"]=a[i]-(o?r[s?"width":"height"]:0),t.placement=yw(e),t.offsets.popper=Gd(r),t}var FEe={shift:{order:100,enabled:!0,fn:LEe},offset:{order:200,enabled:!0,fn:GEe,offset:0},preventOverflow:{order:300,enabled:!0,fn:UEe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:PEe},arrow:{order:500,enabled:!0,fn:IEe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:MEe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:$Ee},hide:{order:800,enabled:!0,fn:BEe},computeStyle:{order:850,enabled:!0,fn:DEe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:kEe,onLoad:SEe,gpuAcceleration:void 0}},HEe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:FEe},bb=function(){function t(e,i){var n=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};fEe(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=uEe(this.update.bind(this)),this.options=Eo({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(Eo({},t.Defaults.modifiers,r.modifiers)).forEach(function(s){n.options.modifiers[s]=Eo({},t.Defaults.modifiers[s]||{},r.modifiers?r.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return Eo({name:s},n.options.modifiers[s])}).sort(function(s,o){return s.order-o.order}),this.modifiers.forEach(function(s){s.enabled&&p3(s.onLoad)&&s.onLoad(n.reference,n.popper,n.options,s,n.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return pEe(t,[{key:"update",value:function(){return vEe.call(this)}},{key:"destroy",value:function(){return bEe.call(this)}},{key:"enableEventListeners",value:function(){return wEe.call(this)}},{key:"disableEventListeners",value:function(){return TEe.call(this)}}]),t}();bb.Utils=(typeof window<"u"?window:global).PopperUtils;bb.placements=x3;bb.Defaults=HEe;function VEe(){this.__data__=[],this.size=0}var YEe=VEe;function qEe(t,e){return t===e||t!==t&&e!==e}var _b=qEe,WEe=_b;function jEe(t,e){for(var i=t.length;i--;)if(WEe(t[i][0],e))return i;return-1}var yE=jEe,zEe=yE,XEe=Array.prototype,KEe=XEe.splice;function ZEe(t){var e=this.__data__,i=zEe(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():KEe.call(e,i,1),--this.size,!0}var QEe=ZEe,JEe=yE;function eTe(t){var e=this.__data__,i=JEe(e,t);return i<0?void 0:e[i][1]}var tTe=eTe,iTe=yE;function nTe(t){return iTe(this.__data__,t)>-1}var rTe=nTe,aTe=yE;function sTe(t,e){var i=this.__data__,n=aTe(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var oTe=sTe,lTe=YEe,cTe=QEe,uTe=tTe,dTe=rTe,hTe=oTe;function Jm(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Jm.prototype.clear=lTe;Jm.prototype.delete=cTe;Jm.prototype.get=uTe;Jm.prototype.has=dTe;Jm.prototype.set=hTe;var gE=Jm,fTe=gE;function pTe(){this.__data__=new fTe,this.size=0}var mTe=pTe;function yTe(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var gTe=yTe;function vTe(t){return this.__data__.get(t)}var bTe=vTe;function _Te(t){return this.__data__.has(t)}var wTe=_Te,ETe=typeof Ci=="object"&&Ci&&Ci.Object===Object&&Ci,D3=ETe,TTe=D3,CTe=typeof self=="object"&&self&&self.Object===Object&&self,kTe=TTe||CTe||Function("return this")(),pc=kTe,STe=pc,ATe=STe.Symbol,ux=ATe,NO=ux,I3=Object.prototype,xTe=I3.hasOwnProperty,DTe=I3.toString,Qy=NO?NO.toStringTag:void 0;function ITe(t){var e=xTe.call(t,Qy),i=t[Qy];try{t[Qy]=void 0;var n=!0}catch{}var r=DTe.call(t);return n&&(e?t[Qy]=i:delete t[Qy]),r}var RTe=ITe,MTe=Object.prototype,PTe=MTe.toString;function OTe(t){return PTe.call(t)}var NTe=OTe,GO=ux,GTe=RTe,UTe=NTe,LTe="[object Null]",BTe="[object Undefined]",UO=GO?GO.toStringTag:void 0;function $Te(t){return t==null?t===void 0?BTe:LTe:UO&&UO in Object(t)?GTe(t):UTe(t)}var wb=$Te;function FTe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wf=FTe,HTe=wb,VTe=Wf,YTe="[object AsyncFunction]",qTe="[object Function]",WTe="[object GeneratorFunction]",jTe="[object Proxy]";function zTe(t){if(!VTe(t))return!1;var e=HTe(t);return e==qTe||e==WTe||e==YTe||e==jTe}var dx=zTe,XTe=pc,KTe=XTe["__core-js_shared__"],ZTe=KTe,H1=ZTe,LO=function(){var t=/[^.]+$/.exec(H1&&H1.keys&&H1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function QTe(t){return!!LO&&LO in t}var JTe=QTe,e1e=Function.prototype,t1e=e1e.toString;function i1e(t){if(t!=null){try{return t1e.call(t)}catch{}try{return t+""}catch{}}return""}var R3=i1e,n1e=dx,r1e=JTe,a1e=Wf,s1e=R3,o1e=/[\\^$.*+?()[\]{}|]/g,l1e=/^\[object .+?Constructor\]$/,c1e=Function.prototype,u1e=Object.prototype,d1e=c1e.toString,h1e=u1e.hasOwnProperty,f1e=RegExp("^"+d1e.call(h1e).replace(o1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p1e(t){if(!a1e(t)||r1e(t))return!1;var e=n1e(t)?f1e:l1e;return e.test(s1e(t))}var m1e=p1e;function y1e(t,e){return t==null?void 0:t[e]}var g1e=y1e,v1e=m1e,b1e=g1e;function _1e(t,e){var i=b1e(t,e);return v1e(i)?i:void 0}var jf=_1e,w1e=jf,E1e=pc,T1e=w1e(E1e,"Map"),hx=T1e,C1e=jf,k1e=C1e(Object,"create"),vE=k1e,BO=vE;function S1e(){this.__data__=BO?BO(null):{},this.size=0}var A1e=S1e;function x1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var D1e=x1e,I1e=vE,R1e="__lodash_hash_undefined__",M1e=Object.prototype,P1e=M1e.hasOwnProperty;function O1e(t){var e=this.__data__;if(I1e){var i=e[t];return i===R1e?void 0:i}return P1e.call(e,t)?e[t]:void 0}var N1e=O1e,G1e=vE,U1e=Object.prototype,L1e=U1e.hasOwnProperty;function B1e(t){var e=this.__data__;return G1e?e[t]!==void 0:L1e.call(e,t)}var $1e=B1e,F1e=vE,H1e="__lodash_hash_undefined__";function V1e(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=F1e&&e===void 0?H1e:e,this}var Y1e=V1e,q1e=A1e,W1e=D1e,j1e=N1e,z1e=$1e,X1e=Y1e;function ey(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}ey.prototype.clear=q1e;ey.prototype.delete=W1e;ey.prototype.get=j1e;ey.prototype.has=z1e;ey.prototype.set=X1e;var K1e=ey,$O=K1e,Z1e=gE,Q1e=hx;function J1e(){this.size=0,this.__data__={hash:new $O,map:new(Q1e||Z1e),string:new $O}}var eCe=J1e;function tCe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var iCe=tCe,nCe=iCe;function rCe(t,e){var i=t.__data__;return nCe(e)?i[typeof e=="string"?"string":"hash"]:i.map}var bE=rCe,aCe=bE;function sCe(t){var e=aCe(this,t).delete(t);return this.size-=e?1:0,e}var oCe=sCe,lCe=bE;function cCe(t){return lCe(this,t).get(t)}var uCe=cCe,dCe=bE;function hCe(t){return dCe(this,t).has(t)}var fCe=hCe,pCe=bE;function mCe(t,e){var i=pCe(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var yCe=mCe,gCe=eCe,vCe=oCe,bCe=uCe,_Ce=fCe,wCe=yCe;function ty(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}ty.prototype.clear=gCe;ty.prototype.delete=vCe;ty.prototype.get=bCe;ty.prototype.has=_Ce;ty.prototype.set=wCe;var M3=ty,ECe=gE,TCe=hx,CCe=M3,kCe=200;function SCe(t,e){var i=this.__data__;if(i instanceof ECe){var n=i.__data__;if(!TCe||n.length<kCe-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new CCe(n)}return i.set(t,e),this.size=i.size,this}var ACe=SCe,xCe=gE,DCe=mTe,ICe=gTe,RCe=bTe,MCe=wTe,PCe=ACe;function iy(t){var e=this.__data__=new xCe(t);this.size=e.size}iy.prototype.clear=DCe;iy.prototype.delete=ICe;iy.prototype.get=RCe;iy.prototype.has=MCe;iy.prototype.set=PCe;var P3=iy,OCe="__lodash_hash_undefined__";function NCe(t){return this.__data__.set(t,OCe),this}var GCe=NCe;function UCe(t){return this.__data__.has(t)}var LCe=UCe,BCe=M3,$Ce=GCe,FCe=LCe;function gw(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new BCe;++e<i;)this.add(t[e])}gw.prototype.add=gw.prototype.push=$Ce;gw.prototype.has=FCe;var HCe=gw;function VCe(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var YCe=VCe;function qCe(t,e){return t.has(e)}var WCe=qCe,jCe=HCe,zCe=YCe,XCe=WCe,KCe=1,ZCe=2;function QCe(t,e,i,n,r,a){var s=i&KCe,o=t.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var m=-1,y=!0,_=i&ZCe?new jCe:void 0;for(a.set(t,e),a.set(e,t);++m<o;){var w=t[m],C=e[m];if(n)var k=s?n(C,w,m,e,t,a):n(w,C,m,t,e,a);if(k!==void 0){if(k)continue;y=!1;break}if(_){if(!zCe(e,function(S,x){if(!XCe(_,x)&&(w===S||r(w,S,i,n,a)))return _.push(x)})){y=!1;break}}else if(!(w===C||r(w,C,i,n,a))){y=!1;break}}return a.delete(t),a.delete(e),y}var O3=QCe,JCe=pc,eke=JCe.Uint8Array,N3=eke;function tke(t){var e=-1,i=Array(t.size);return t.forEach(function(n,r){i[++e]=[r,n]}),i}var ike=tke;function nke(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var rke=nke,FO=ux,HO=N3,ake=_b,ske=O3,oke=ike,lke=rke,cke=1,uke=2,dke="[object Boolean]",hke="[object Date]",fke="[object Error]",pke="[object Map]",mke="[object Number]",yke="[object RegExp]",gke="[object Set]",vke="[object String]",bke="[object Symbol]",_ke="[object ArrayBuffer]",wke="[object DataView]",VO=FO?FO.prototype:void 0,V1=VO?VO.valueOf:void 0;function Eke(t,e,i,n,r,a,s){switch(i){case wke:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _ke:return!(t.byteLength!=e.byteLength||!a(new HO(t),new HO(e)));case dke:case hke:case mke:return ake(+t,+e);case fke:return t.name==e.name&&t.message==e.message;case yke:case vke:return t==e+"";case pke:var o=oke;case gke:var c=n&cke;if(o||(o=lke),t.size!=e.size&&!c)return!1;var d=s.get(t);if(d)return d==e;n|=uke,s.set(t,e);var p=ske(o(t),o(e),n,r,a,s);return s.delete(t),p;case bke:if(V1)return V1.call(t)==V1.call(e)}return!1}var Tke=Eke;function Cke(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}var kke=Cke,Ske=Array.isArray,_E=Ske,Ake=kke,xke=_E;function Dke(t,e,i){var n=e(t);return xke(t)?n:Ake(n,i(t))}var Ike=Dke;function Rke(t,e){for(var i=-1,n=t==null?0:t.length,r=0,a=[];++i<n;){var s=t[i];e(s,i,t)&&(a[r++]=s)}return a}var Mke=Rke;function Pke(){return[]}var Oke=Pke,Nke=Mke,Gke=Oke,Uke=Object.prototype,Lke=Uke.propertyIsEnumerable,YO=Object.getOwnPropertySymbols,Bke=YO?function(t){return t==null?[]:(t=Object(t),Nke(YO(t),function(e){return Lke.call(t,e)}))}:Gke,$ke=Bke;function Fke(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var Hke=Fke;function Vke(t){return t!=null&&typeof t=="object"}var ny=Vke,Yke=wb,qke=ny,Wke="[object Arguments]";function jke(t){return qke(t)&&Yke(t)==Wke}var zke=jke,qO=zke,Xke=ny,G3=Object.prototype,Kke=G3.hasOwnProperty,Zke=G3.propertyIsEnumerable,Qke=qO(function(){return arguments}())?qO:function(t){return Xke(t)&&Kke.call(t,"callee")&&!Zke.call(t,"callee")},U3=Qke,vw={exports:{}};function Jke(){return!1}var eSe=Jke;vw.exports;(function(t,e){var i=pc,n=eSe,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===r,o=s?i.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||n;t.exports=d})(vw,vw.exports);var fx=vw.exports,tSe=9007199254740991,iSe=/^(?:0|[1-9]\d*)$/;function nSe(t,e){var i=typeof t;return e=e??tSe,!!e&&(i=="number"||i!="symbol"&&iSe.test(t))&&t>-1&&t%1==0&&t<e}var L3=nSe,rSe=9007199254740991;function aSe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rSe}var B3=aSe,sSe=wb,oSe=B3,lSe=ny,cSe="[object Arguments]",uSe="[object Array]",dSe="[object Boolean]",hSe="[object Date]",fSe="[object Error]",pSe="[object Function]",mSe="[object Map]",ySe="[object Number]",gSe="[object Object]",vSe="[object RegExp]",bSe="[object Set]",_Se="[object String]",wSe="[object WeakMap]",ESe="[object ArrayBuffer]",TSe="[object DataView]",CSe="[object Float32Array]",kSe="[object Float64Array]",SSe="[object Int8Array]",ASe="[object Int16Array]",xSe="[object Int32Array]",DSe="[object Uint8Array]",ISe="[object Uint8ClampedArray]",RSe="[object Uint16Array]",MSe="[object Uint32Array]",hn={};hn[CSe]=hn[kSe]=hn[SSe]=hn[ASe]=hn[xSe]=hn[DSe]=hn[ISe]=hn[RSe]=hn[MSe]=!0;hn[cSe]=hn[uSe]=hn[ESe]=hn[dSe]=hn[TSe]=hn[hSe]=hn[fSe]=hn[pSe]=hn[mSe]=hn[ySe]=hn[gSe]=hn[vSe]=hn[bSe]=hn[_Se]=hn[wSe]=!1;function PSe(t){return lSe(t)&&oSe(t.length)&&!!hn[sSe(t)]}var OSe=PSe;function NSe(t){return function(e){return t(e)}}var GSe=NSe,bw={exports:{}};bw.exports;(function(t,e){var i=D3,n=e&&!e.nodeType&&e,r=n&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===n,s=a&&i.process,o=function(){try{var c=r&&r.require&&r.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(bw,bw.exports);var USe=bw.exports,LSe=OSe,BSe=GSe,WO=USe,jO=WO&&WO.isTypedArray,$Se=jO?BSe(jO):LSe,px=$Se,FSe=Hke,HSe=U3,VSe=_E,YSe=fx,qSe=L3,WSe=px,jSe=Object.prototype,zSe=jSe.hasOwnProperty;function XSe(t,e){var i=VSe(t),n=!i&&HSe(t),r=!i&&!n&&YSe(t),a=!i&&!n&&!r&&WSe(t),s=i||n||r||a,o=s?FSe(t.length,String):[],c=o.length;for(var d in t)(e||zSe.call(t,d))&&!(s&&(d=="length"||r&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||qSe(d,c)))&&o.push(d);return o}var $3=XSe,KSe=Object.prototype;function ZSe(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||KSe;return t===i}var mx=ZSe;function QSe(t,e){return function(i){return t(e(i))}}var F3=QSe,JSe=F3,eAe=JSe(Object.keys,Object),tAe=eAe,iAe=mx,nAe=tAe,rAe=Object.prototype,aAe=rAe.hasOwnProperty;function sAe(t){if(!iAe(t))return nAe(t);var e=[];for(var i in Object(t))aAe.call(t,i)&&i!="constructor"&&e.push(i);return e}var oAe=sAe,lAe=dx,cAe=B3;function uAe(t){return t!=null&&cAe(t.length)&&!lAe(t)}var wE=uAe,dAe=$3,hAe=oAe,fAe=wE;function pAe(t){return fAe(t)?dAe(t):hAe(t)}var mAe=pAe,yAe=Ike,gAe=$ke,vAe=mAe;function bAe(t){return yAe(t,vAe,gAe)}var _Ae=bAe,zO=_Ae,wAe=1,EAe=Object.prototype,TAe=EAe.hasOwnProperty;function CAe(t,e,i,n,r,a){var s=i&wAe,o=zO(t),c=o.length,d=zO(e),p=d.length;if(c!=p&&!s)return!1;for(var m=c;m--;){var y=o[m];if(!(s?y in e:TAe.call(e,y)))return!1}var _=a.get(t),w=a.get(e);if(_&&w)return _==e&&w==t;var C=!0;a.set(t,e),a.set(e,t);for(var k=s;++m<c;){y=o[m];var S=t[y],x=e[y];if(n)var O=s?n(x,S,y,e,t,a):n(S,x,y,t,e,a);if(!(O===void 0?S===x||r(S,x,i,n,a):O)){C=!1;break}k||(k=y=="constructor")}if(C&&!k){var D=t.constructor,B=e.constructor;D!=B&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof B=="function"&&B instanceof B)&&(C=!1)}return a.delete(t),a.delete(e),C}var kAe=CAe,SAe=jf,AAe=pc,xAe=SAe(AAe,"DataView"),DAe=xAe,IAe=jf,RAe=pc,MAe=IAe(RAe,"Promise"),PAe=MAe,OAe=jf,NAe=pc,GAe=OAe(NAe,"Set"),UAe=GAe,LAe=jf,BAe=pc,$Ae=LAe(BAe,"WeakMap"),FAe=$Ae,kk=DAe,Sk=hx,Ak=PAe,xk=UAe,Dk=FAe,H3=wb,ry=R3,XO="[object Map]",HAe="[object Object]",KO="[object Promise]",ZO="[object Set]",QO="[object WeakMap]",JO="[object DataView]",VAe=ry(kk),YAe=ry(Sk),qAe=ry(Ak),WAe=ry(xk),jAe=ry(Dk),Rh=H3;(kk&&Rh(new kk(new ArrayBuffer(1)))!=JO||Sk&&Rh(new Sk)!=XO||Ak&&Rh(Ak.resolve())!=KO||xk&&Rh(new xk)!=ZO||Dk&&Rh(new Dk)!=QO)&&(Rh=function(t){var e=H3(t),i=e==HAe?t.constructor:void 0,n=i?ry(i):"";if(n)switch(n){case VAe:return JO;case YAe:return XO;case qAe:return KO;case WAe:return ZO;case jAe:return QO}return e});var zAe=Rh,Y1=P3,XAe=O3,KAe=Tke,ZAe=kAe,e2=zAe,t2=_E,i2=fx,QAe=px,JAe=1,n2="[object Arguments]",r2="[object Array]",L_="[object Object]",exe=Object.prototype,a2=exe.hasOwnProperty;function txe(t,e,i,n,r,a){var s=t2(t),o=t2(e),c=s?r2:e2(t),d=o?r2:e2(e);c=c==n2?L_:c,d=d==n2?L_:d;var p=c==L_,m=d==L_,y=c==d;if(y&&i2(t)){if(!i2(e))return!1;s=!0,p=!1}if(y&&!p)return a||(a=new Y1),s||QAe(t)?XAe(t,e,i,n,r,a):KAe(t,e,c,i,n,r,a);if(!(i&JAe)){var _=p&&a2.call(t,"__wrapped__"),w=m&&a2.call(e,"__wrapped__");if(_||w){var C=_?t.value():t,k=w?e.value():e;return a||(a=new Y1),r(C,k,i,n,a)}}return y?(a||(a=new Y1),ZAe(t,e,i,n,r,a)):!1}var ixe=txe,nxe=ixe,s2=ny;function V3(t,e,i,n,r){return t===e?!0:t==null||e==null||!s2(t)&&!s2(e)?t!==t&&e!==e:nxe(t,e,i,n,V3,r)}var rxe=V3,axe=rxe;function sxe(t,e){return axe(t,e)}var oxe=sxe;const lxe=oc(oxe);function cxe(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var i=t.indexOf("Trident/");if(i>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):-1}var m0;function Ik(){Ik.init||(Ik.init=!0,m0=cxe()!==-1)}var uxe={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;Ik(),this.$nextTick(function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()});var i=document.createElement("object");this._resizeObject=i,i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex",-1),i.onload=this.addResizeHandlers,i.type="text/html",m0&&this.$el.appendChild(i),i.data="about:blank",m0||this.$el.appendChild(i)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!m0&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function dxe(t,e,i,n,r,a,s,o,c,d){var p=typeof i=="function"?i.options:i;return t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0),p._scopeId=n,i}var hxe=uxe,Y3=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},fxe=[];Y3._withStripped=!0;var pxe=void 0,mxe="data-v-8859cc6c",Rk=dxe({render:Y3,staticRenderFns:fxe},pxe,hxe,mxe);function yxe(t){t.component("resize-observer",Rk),t.component("ResizeObserver",Rk)}var gxe={version:"1.0.1",install:yxe},_w=null;typeof window<"u"?_w=window.Vue:typeof global<"u"&&(_w=global.Vue);_w&&_w.use(gxe);var vxe=jf,bxe=function(){try{var t=vxe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),q3=bxe,o2=q3;function _xe(t,e,i){e=="__proto__"&&o2?o2(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var yx=_xe,wxe=yx,Exe=_b;function Txe(t,e,i){(i!==void 0&&!Exe(t[e],i)||i===void 0&&!(e in t))&&wxe(t,e,i)}var W3=Txe;function Cxe(t){return function(e,i,n){for(var r=-1,a=Object(e),s=n(e),o=s.length;o--;){var c=s[t?o:++r];if(i(a[c],c,a)===!1)break}return e}}var kxe=Cxe,Sxe=kxe,Axe=Sxe(),xxe=Axe,ww={exports:{}};ww.exports;(function(t,e){var i=pc,n=e&&!e.nodeType&&e,r=n&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===n,s=a?i.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(d,p){if(p)return d.slice();var m=d.length,y=o?o(m):new d.constructor(m);return d.copy(y),y}t.exports=c})(ww,ww.exports);var Dxe=ww.exports,l2=N3;function Ixe(t){var e=new t.constructor(t.byteLength);return new l2(e).set(new l2(t)),e}var Rxe=Ixe,Mxe=Rxe;function Pxe(t,e){var i=e?Mxe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var Oxe=Pxe;function Nxe(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}var Gxe=Nxe,Uxe=Wf,c2=Object.create,Lxe=function(){function t(){}return function(e){if(!Uxe(e))return{};if(c2)return c2(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Bxe=Lxe,$xe=F3,Fxe=$xe(Object.getPrototypeOf,Object),j3=Fxe,Hxe=Bxe,Vxe=j3,Yxe=mx;function qxe(t){return typeof t.constructor=="function"&&!Yxe(t)?Hxe(Vxe(t)):{}}var Wxe=qxe,jxe=wE,zxe=ny;function Xxe(t){return zxe(t)&&jxe(t)}var Kxe=Xxe,Zxe=wb,Qxe=j3,Jxe=ny,eDe="[object Object]",tDe=Function.prototype,iDe=Object.prototype,z3=tDe.toString,nDe=iDe.hasOwnProperty,rDe=z3.call(Object);function aDe(t){if(!Jxe(t)||Zxe(t)!=eDe)return!1;var e=Qxe(t);if(e===null)return!0;var i=nDe.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&z3.call(i)==rDe}var sDe=aDe;function oDe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var X3=oDe,lDe=yx,cDe=_b,uDe=Object.prototype,dDe=uDe.hasOwnProperty;function hDe(t,e,i){var n=t[e];(!(dDe.call(t,e)&&cDe(n,i))||i===void 0&&!(e in t))&&lDe(t,e,i)}var fDe=hDe,pDe=fDe,mDe=yx;function yDe(t,e,i,n){var r=!i;i||(i={});for(var a=-1,s=e.length;++a<s;){var o=e[a],c=n?n(i[o],t[o],o,i,t):void 0;c===void 0&&(c=t[o]),r?mDe(i,o,c):pDe(i,o,c)}return i}var gDe=yDe;function vDe(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var bDe=vDe,_De=Wf,wDe=mx,EDe=bDe,TDe=Object.prototype,CDe=TDe.hasOwnProperty;function kDe(t){if(!_De(t))return EDe(t);var e=wDe(t),i=[];for(var n in t)n=="constructor"&&(e||!CDe.call(t,n))||i.push(n);return i}var SDe=kDe,ADe=$3,xDe=SDe,DDe=wE;function IDe(t){return DDe(t)?ADe(t,!0):xDe(t)}var K3=IDe,RDe=gDe,MDe=K3;function PDe(t){return RDe(t,MDe(t))}var ODe=PDe,u2=W3,NDe=Dxe,GDe=Oxe,UDe=Gxe,LDe=Wxe,d2=U3,h2=_E,BDe=Kxe,$De=fx,FDe=dx,HDe=Wf,VDe=sDe,YDe=px,f2=X3,qDe=ODe;function WDe(t,e,i,n,r,a,s){var o=f2(t,i),c=f2(e,i),d=s.get(c);if(d){u2(t,i,d);return}var p=a?a(o,c,i+"",t,e,s):void 0,m=p===void 0;if(m){var y=h2(c),_=!y&&$De(c),w=!y&&!_&&YDe(c);p=c,y||_||w?h2(o)?p=o:BDe(o)?p=UDe(o):_?(m=!1,p=NDe(c,!0)):w?(m=!1,p=GDe(c,!0)):p=[]:VDe(c)||d2(c)?(p=o,d2(o)?p=qDe(o):(!HDe(o)||FDe(o))&&(p=LDe(c))):m=!1}m&&(s.set(c,p),r(p,c,n,a,s),s.delete(c)),u2(t,i,p)}var jDe=WDe,zDe=P3,XDe=W3,KDe=xxe,ZDe=jDe,QDe=Wf,JDe=K3,eIe=X3;function Z3(t,e,i,n,r){t!==e&&KDe(e,function(a,s){if(r||(r=new zDe),QDe(a))ZDe(t,e,s,i,Z3,n,r);else{var o=n?n(eIe(t,s),a,s+"",t,e,r):void 0;o===void 0&&(o=a),XDe(t,s,o)}},JDe)}var tIe=Z3;function iIe(t){return t}var Q3=iIe;function nIe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var rIe=nIe,aIe=rIe,p2=Math.max;function sIe(t,e,i){return e=p2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=p2(n.length-e,0),s=Array(a);++r<a;)s[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=i(s),aIe(t,this,o)}}var oIe=sIe;function lIe(t){return function(){return t}}var cIe=lIe,uIe=cIe,m2=q3,dIe=Q3,hIe=m2?function(t,e){return m2(t,"toString",{configurable:!0,enumerable:!1,value:uIe(e),writable:!0})}:dIe,fIe=hIe,pIe=800,mIe=16,yIe=Date.now;function gIe(t){var e=0,i=0;return function(){var n=yIe(),r=mIe-(n-i);if(i=n,r>0){if(++e>=pIe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var vIe=gIe,bIe=fIe,_Ie=vIe,wIe=_Ie(bIe),EIe=wIe,TIe=Q3,CIe=oIe,kIe=EIe;function SIe(t,e){return kIe(CIe(t,e,TIe),t+"")}var AIe=SIe,xIe=_b,DIe=wE,IIe=L3,RIe=Wf;function MIe(t,e,i){if(!RIe(i))return!1;var n=typeof e;return(n=="number"?DIe(i)&&IIe(e,i.length):n=="string"&&e in i)?xIe(i[e],t):!1}var PIe=MIe,OIe=AIe,NIe=PIe;function GIe(t){return OIe(function(e,i){var n=-1,r=i.length,a=r>1?i[r-1]:void 0,s=r>2?i[2]:void 0;for(a=t.length>3&&typeof a=="function"?(r--,a):void 0,s&&NIe(i[0],i[1],s)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var o=i[n];o&&t(e,o,n,a)}return e})}var UIe=GIe,LIe=tIe,BIe=UIe,$Ie=BIe(function(t,e,i){LIe(t,e,i)}),FIe=$Ie;const HIe=oc(FIe);var gx=function(){};typeof window<"u"&&(gx=window.SVGAnimatedString);function nm(t){return typeof t=="string"&&(t=t.split(" ")),t}function _g(t,e){var i=nm(e),n;t.className instanceof gx?n=nm(t.className.baseVal):n=nm(t.className),i.forEach(function(r){n.indexOf(r)===-1&&n.push(r)}),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}function Mk(t,e){var i=nm(e),n;t.className instanceof gx?n=nm(t.className.baseVal):n=nm(t.className),i.forEach(function(r){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}var xv=!1;if(typeof window<"u"){xv=!1;try{var VIe=Object.defineProperty({},"passive",{get:function(){xv=!0}});window.addEventListener("test",null,VIe)}catch{}}function y2(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Ep(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(i),!0).forEach(function(n){Em(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y2(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var YIe={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},Yg=[],qIe=function(){function t(e,i){var n=this;nEe(this,t),Em(this,"_events",[]),Em(this,"_setTooltipNodeEvent",function(r,a,s,o){var c=r.relatedreference||r.toElement||r.relatedTarget,d=function p(m){var y=m.relatedreference||m.toElement||m.relatedTarget;n._tooltipNode.removeEventListener(r.type,p),a.contains(y)||n._scheduleHide(a,o.delay,o,m)};return n._tooltipNode.contains(c)?(n._tooltipNode.addEventListener(r.type,d),!0):!1}),i=Ep(Ep({},YIe),i),e.jquery&&(e=e[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=e,this.options=i,this._isOpen=!1,this._init()}return aEe(t,[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(i){this._classes=i}},{key:"setContent",value:function(i){this.options.title=i,this._tooltipNode&&this._setContent(i,this.options)}},{key:"setOptions",value:function(i){var n=!1,r=i&&i.classes||Ii.options.defaultClass;lxe(this._classes,r)||(this.setClasses(r),n=!0),i=e5(i);var a=!1,s=!1;(this.options.offset!==i.offset||this.options.placement!==i.placement)&&(a=!0),(this.options.template!==i.template||this.options.trigger!==i.trigger||this.options.container!==i.container||n)&&(s=!0);for(var o in i)this.options[o]=i[o];if(this._tooltipNode)if(s){var c=this._isOpen;this.dispose(),this._init(),c&&this.show()}else a&&this.popperInstance.update()}},{key:"_init",value:function(){var i=typeof this.options.trigger=="string"?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=i.indexOf("manual")===-1,i=i.filter(function(n){return["click","hover","focus"].indexOf(n)!==-1}),this._setEventListeners(this.reference,i,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(i,n){var r=this,a=window.document.createElement("div");a.innerHTML=n.trim();var s=a.childNodes[0];return s.id=this.options.ariaId||"tooltip_".concat(Math.random().toString(36).substr(2,10)),s.setAttribute("aria-hidden","true"),this.options.autoHide&&this.options.trigger.indexOf("hover")!==-1&&(s.addEventListener("mouseenter",function(o){return r._scheduleHide(i,r.options.delay,r.options,o)}),s.addEventListener("click",function(o){return r._scheduleHide(i,r.options.delay,r.options,o)})),s}},{key:"_setContent",value:function(i,n){var r=this;this.asyncContent=!1,this._applyContent(i,n).then(function(){r.popperInstance&&r.popperInstance.update()})}},{key:"_applyContent",value:function(i,n){var r=this;return new Promise(function(a,s){var o=n.html,c=r._tooltipNode;if(c){var d=c.querySelector(r.options.innerSelector);if(i.nodeType===1){if(o){for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(i)}}else if(typeof i=="function"){var p=i();p&&typeof p.then=="function"?(r.asyncContent=!0,n.loadingClass&&_g(c,n.loadingClass),n.loadingContent&&r._applyContent(n.loadingContent,n),p.then(function(m){return n.loadingClass&&Mk(c,n.loadingClass),r._applyContent(m,n)}).then(a).catch(s)):r._applyContent(p,n).then(a).catch(s);return}else o?d.innerHTML=i:d.innerText=i;a()}})}},{key:"_show",value:function(i,n){if(n&&typeof n.container=="string"){var r=document.querySelector(n.container);if(!r)return}clearTimeout(this._disposeTimer),n=Object.assign({},n),delete n.offset;var a=!0;this._tooltipNode&&(_g(this._tooltipNode,this._classes),a=!1);var s=this._ensureShown(i,n);return a&&this._tooltipNode&&_g(this._tooltipNode,this._classes),_g(i,["v-tooltip-open"]),s}},{key:"_ensureShown",value:function(i,n){var r=this;if(this._isOpen)return this;if(this._isOpen=!0,Yg.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(n.title,n),this;var a=i.getAttribute("title")||n.title;if(!a)return this;var s=this._create(i,n.template);this._tooltipNode=s,i.setAttribute("aria-describedby",s.id);var o=this._findContainer(n.container,i);this._append(s,o);var c=Ep(Ep({},n.popperOptions),{},{placement:n.placement});return c.modifiers=Ep(Ep({},c.modifiers),{},{arrow:{element:this.options.arrowSelector}}),n.boundariesElement&&(c.modifiers.preventOverflow={boundariesElement:n.boundariesElement}),this.popperInstance=new bb(i,s,c),this._setContent(a,n),requestAnimationFrame(function(){!r._isDisposed&&r.popperInstance?(r.popperInstance.update(),requestAnimationFrame(function(){r._isDisposed?r.dispose():r._isOpen&&s.setAttribute("aria-hidden","false")})):r.dispose()}),this}},{key:"_noLongerOpen",value:function(){var i=Yg.indexOf(this);i!==-1&&Yg.splice(i,1)}},{key:"_hide",value:function(){var i=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var n=Ii.options.disposeTimeout;return n!==null&&(this._disposeTimer=setTimeout(function(){i._tooltipNode&&(i._tooltipNode.removeEventListener("mouseenter",i.hide),i._tooltipNode.removeEventListener("click",i.hide),i._removeTooltipNode())},n)),Mk(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var i=this._tooltipNode.parentNode;i&&(i.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var i=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach(function(n){var r=n.func,a=n.event;i.reference.removeEventListener(a,r)}),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(i,n){return typeof i=="string"?i=window.document.querySelector(i):i===!1&&(i=n.parentNode),i}},{key:"_append",value:function(i,n){n.appendChild(i)}},{key:"_setEventListeners",value:function(i,n,r){var a=this,s=[],o=[];n.forEach(function(c){switch(c){case"hover":s.push("mouseenter"),o.push("mouseleave"),a.options.hideOnTargetClick&&o.push("click");break;case"focus":s.push("focus"),o.push("blur"),a.options.hideOnTargetClick&&o.push("click");break;case"click":s.push("click"),o.push("click");break}}),s.forEach(function(c){var d=function(m){a._isOpen!==!0&&(m.usedByTooltip=!0,a._scheduleShow(i,r.delay,r,m))};a._events.push({event:c,func:d}),i.addEventListener(c,d)}),o.forEach(function(c){var d=function(m){m.usedByTooltip!==!0&&a._scheduleHide(i,r.delay,r,m)};a._events.push({event:c,func:d}),i.addEventListener(c,d)})}},{key:"_onDocumentTouch",value:function(i){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,i)}},{key:"_scheduleShow",value:function(i,n,r){var a=this,s=n&&n.show||n||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout(function(){return a._show(i,r)},s)}},{key:"_scheduleHide",value:function(i,n,r,a){var s=this,o=n&&n.hide||n||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout(function(){if(s._isOpen!==!1&&s._tooltipNode.ownerDocument.body.contains(s._tooltipNode)){if(a.type==="mouseleave"){var c=s._setTooltipNodeEvent(a,i,n,r);if(c)return}s._hide(i,r)}},o)}}]),t}();typeof document<"u"&&document.addEventListener("touchstart",function(t){for(var e=0;e<Yg.length;e++)Yg[e]._onDocumentTouch(t)},xv?{passive:!0,capture:!0}:!0);function g2(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function rm(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(i),!0).forEach(function(n){Em(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g2(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Pk={enabled:!0},v2=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],J3={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function e5(t){var e={placement:typeof t.placement<"u"?t.placement:Ii.options.defaultPlacement,delay:typeof t.delay<"u"?t.delay:Ii.options.defaultDelay,html:typeof t.html<"u"?t.html:Ii.options.defaultHtml,template:typeof t.template<"u"?t.template:Ii.options.defaultTemplate,arrowSelector:typeof t.arrowSelector<"u"?t.arrowSelector:Ii.options.defaultArrowSelector,innerSelector:typeof t.innerSelector<"u"?t.innerSelector:Ii.options.defaultInnerSelector,trigger:typeof t.trigger<"u"?t.trigger:Ii.options.defaultTrigger,offset:typeof t.offset<"u"?t.offset:Ii.options.defaultOffset,container:typeof t.container<"u"?t.container:Ii.options.defaultContainer,boundariesElement:typeof t.boundariesElement<"u"?t.boundariesElement:Ii.options.defaultBoundariesElement,autoHide:typeof t.autoHide<"u"?t.autoHide:Ii.options.autoHide,hideOnTargetClick:typeof t.hideOnTargetClick<"u"?t.hideOnTargetClick:Ii.options.defaultHideOnTargetClick,loadingClass:typeof t.loadingClass<"u"?t.loadingClass:Ii.options.defaultLoadingClass,loadingContent:typeof t.loadingContent<"u"?t.loadingContent:Ii.options.defaultLoadingContent,popperOptions:rm({},typeof t.popperOptions<"u"?t.popperOptions:Ii.options.defaultPopperOptions)};if(e.offset){var i=tf(e.offset),n=e.offset;(i==="number"||i==="string"&&n.indexOf(",")===-1)&&(n="0, ".concat(n)),e.popperOptions.modifiers||(e.popperOptions.modifiers={}),e.popperOptions.modifiers.offset={offset:n}}return e.trigger&&e.trigger.indexOf("click")!==-1&&(e.hideOnTargetClick=!1),e}function t5(t,e){for(var i=t.placement,n=0;n<v2.length;n++){var r=v2[n];e[r]&&(i=r)}return i}function i5(t){var e=tf(t);return e==="string"?t:t&&e==="object"?t.content:!1}function WIe(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i5(e),r=typeof e.classes<"u"?e.classes:Ii.options.defaultClass,a=rm({title:n},e5(rm(rm({},tf(e)==="object"?e:{}),{},{placement:t5(e,i)}))),s=t._tooltip=new qIe(t,a);s.setClasses(r),s._vueEl=t;var o=typeof e.targetClasses<"u"?e.targetClasses:Ii.options.defaultTargetClass;return t._tooltipTargetClasses=o,_g(t,o),s}function n5(t){t._tooltip&&(t._tooltip.dispose(),delete t._tooltip,delete t._tooltipOldShow),t._tooltipTargetClasses&&(Mk(t,t._tooltipTargetClasses),delete t._tooltipTargetClasses)}function b2(t,e){var i=e.value;e.oldValue;var n=e.modifiers,r=i5(i);if(!r||!Pk.enabled)n5(t);else{var a;t._tooltip?(a=t._tooltip,a.setContent(r),a.setOptions(rm(rm({},i),{},{placement:t5(i,n)}))):a=WIe(t,i,n),typeof i.show<"u"&&i.show!==t._tooltipOldShow&&(t._tooltipOldShow=i.show,i.show?a.show():a.hide())}}var Ii={options:J3,bind:b2,update:b2,unbind:function(e){n5(e)}};function _2(t){t.addEventListener("click",r5),t.addEventListener("touchstart",a5,xv?{passive:!0}:!1)}function w2(t){t.removeEventListener("click",r5),t.removeEventListener("touchstart",a5),t.removeEventListener("touchend",s5),t.removeEventListener("touchcancel",o5)}function r5(t){var e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function a5(t){if(t.changedTouches.length===1){var e=t.currentTarget;e.$_vclosepopover_touch=!0;var i=t.changedTouches[0];e.$_vclosepopover_touchPoint=i,e.addEventListener("touchend",s5),e.addEventListener("touchcancel",o5)}}function s5(t){var e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){var i=t.changedTouches[0],n=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(i.screenY-n.screenY)<20&&Math.abs(i.screenX-n.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function o5(t){var e=t.currentTarget;e.$_vclosepopover_touch=!1}var jIe={bind:function(e,i){var n=i.value,r=i.modifiers;e.$_closePopoverModifiers=r,(typeof n>"u"||n)&&_2(e)},update:function(e,i){var n=i.value,r=i.oldValue,a=i.modifiers;e.$_closePopoverModifiers=a,n!==r&&(typeof n>"u"||n?_2(e):w2(e))},unbind:function(e){w2(e)}};function E2(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Ul(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(i),!0).forEach(function(n){Em(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E2(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Bu(t){var e=Ii.options.popover[t];return typeof e>"u"?Ii.options[t]:e}var l5=!1;typeof window<"u"&&typeof navigator<"u"&&(l5=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var Nh=[],Ok=function(){};typeof window<"u"&&(Ok=window.Element);var zIe={name:"VPopover",components:{ResizeObserver:Rk},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return Bu("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return Bu("defaultDelay")}},offset:{type:[String,Number],default:function(){return Bu("defaultOffset")}},trigger:{type:String,default:function(){return Bu("defaultTrigger")}},container:{type:[String,Object,Ok,Boolean],default:function(){return Bu("defaultContainer")}},boundariesElement:{type:[String,Ok],default:function(){return Bu("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return Bu("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return Bu("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return Ii.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return Ii.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return Ii.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return Ii.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return Ii.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return Ii.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return Ii.options.popover.defaultOpenClass}},ariaId:{default:null}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return Em({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.ariaId!=null?this.ariaId:this.id)}},watch:{open:function(e){e?this.show():this.hide()},disabled:function(e,i){e!==i&&(e?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var i=this.$refs.popover,n=this.$refs.trigger,r=this.$_findContainer(this.container,n);if(!r){console.warn("No container for popover",this);return}r.appendChild(i),this.popperInstance.scheduleUpdate()}},trigger:function(e){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(e){var i=this;this.$_updatePopper(function(){i.popperInstance.options.placement=e})},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=i.event;i.skipDelay;var r=i.force,a=r===void 0?!1:r;(a||!this.disabled)&&(this.$_scheduleShow(n),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame(function(){e.$_beingShowed=!1})},hide:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.event;e.skipDelay,this.$_scheduleHide(i),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){this.trigger.indexOf("manual")===-1&&this.$_addEventListeners()},$_show:function(){var e=this,i=this.$refs.trigger,n=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var r=this.$_findContainer(this.container,i);if(!r){console.warn("No container for popover",this);return}r.appendChild(n),this.$_mounted=!0,this.isOpen=!1,this.popperInstance&&requestAnimationFrame(function(){e.hidden||(e.isOpen=!0)})}if(!this.popperInstance){var a=Ul(Ul({},this.popperOptions),{},{placement:this.placement});if(a.modifiers=Ul(Ul({},a.modifiers),{},{arrow:Ul(Ul({},a.modifiers&&a.modifiers.arrow),{},{element:this.$refs.arrow})}),this.offset){var s=this.$_getOffset();a.modifiers.offset=Ul(Ul({},a.modifiers&&a.modifiers.offset),{},{offset:s})}this.boundariesElement&&(a.modifiers.preventOverflow=Ul(Ul({},a.modifiers&&a.modifiers.preventOverflow),{},{boundariesElement:this.boundariesElement})),this.popperInstance=new bb(i,n,a),requestAnimationFrame(function(){if(e.hidden){e.hidden=!1,e.$_hide();return}!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame(function(){if(e.hidden){e.hidden=!1,e.$_hide();return}e.$_isDisposed?e.dispose():e.isOpen=!0})):e.dispose()})}var o=this.openGroup;if(o)for(var c,d=0;d<Nh.length;d++)c=Nh[d],c.openGroup!==o&&(c.hide(),c.$emit("close-group"));Nh.push(this),this.$emit("apply-show")}},$_hide:function(){var e=this;if(this.isOpen){var i=Nh.indexOf(this);i!==-1&&Nh.splice(i,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var n=Ii.options.popover.disposeTimeout||Ii.options.disposeTimeout;n!==null&&(this.$_disposeTimer=setTimeout(function(){var r=e.$refs.popover;r&&(r.parentNode&&r.parentNode.removeChild(r),e.$_mounted=!1)},n)),this.$emit("apply-hide")}},$_findContainer:function(e,i){return typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=i.parentNode),e},$_getOffset:function(){var e=tf(this.offset),i=this.offset;return(e==="number"||e==="string"&&i.indexOf(",")===-1)&&(i="0, ".concat(i)),i},$_addEventListeners:function(){var e=this,i=this.$refs.trigger,n=[],r=[],a=typeof this.trigger=="string"?this.trigger.split(" ").filter(function(s){return["click","hover","focus"].indexOf(s)!==-1}):[];a.forEach(function(s){switch(s){case"hover":n.push("mouseenter"),r.push("mouseleave");break;case"focus":n.push("focus"),r.push("blur");break;case"click":n.push("click"),r.push("click");break}}),n.forEach(function(s){var o=function(d){e.isOpen||(d.usedByTooltip=!0,!e.$_preventOpen&&e.show({event:d}),e.hidden=!1)};e.$_events.push({event:s,func:o}),i.addEventListener(s,o)}),r.forEach(function(s){var o=function(d){d.usedByTooltip||(e.hide({event:d}),e.hidden=!0)};e.$_events.push({event:s,func:o}),i.addEventListener(s,o)})},$_scheduleShow:function(){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(clearTimeout(this.$_scheduleTimer),e)this.$_show();else{var i=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),i)}},$_scheduleHide:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(clearTimeout(this.$_scheduleTimer),n)this.$_hide();else{var r=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout(function(){if(e.isOpen){if(i&&i.type==="mouseleave"){var a=e.$_setTooltipNodeEvent(i);if(a)return}e.$_hide()}},r)}},$_setTooltipNodeEvent:function(e){var i=this,n=this.$refs.trigger,r=this.$refs.popover,a=e.relatedreference||e.toElement||e.relatedTarget,s=function o(c){var d=c.relatedreference||c.toElement||c.relatedTarget;r.removeEventListener(e.type,o),n.contains(d)||i.hide({event:c})};return r.contains(a)?(r.addEventListener(e.type,s),!0):!1},$_removeEventListeners:function(){var e=this.$refs.trigger;this.$_events.forEach(function(i){var n=i.func,r=i.event;e.removeEventListener(r,n)}),this.$_events=[]},$_updatePopper:function(e){this.popperInstance&&(e(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var e=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),e&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.$_beingShowed||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),n&&(this.$_preventOpen=!0,setTimeout(function(){i.$_preventOpen=!1},300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};typeof document<"u"&&typeof window<"u"&&(l5?document.addEventListener("touchend",KIe,xv?{passive:!0,capture:!0}:!0):window.addEventListener("click",XIe,!0));function XIe(t){c5(t)}function KIe(t){c5(t,!0)}function c5(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=function(a){var s=Nh[a];if(s.$refs.popover){var o=s.$refs.popover.contains(t.target);requestAnimationFrame(function(){(t.closeAllPopover||t.closePopover&&o||s.autoHide&&!o)&&s.$_handleGlobalClose(t,e)})}},n=0;n<Nh.length;n++)i(n)}function ZIe(t,e,i,n,r,a,s,o,c,d){const p=typeof i=="function"?i.options:i;return t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0),i}var QIe=zIe,u5=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"v-popover",class:e.cssClass},[n("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":e.isOpen?e.popoverId:void 0,tabindex:e.trigger.indexOf("focus")!==-1?0:void 0}},[e._t("default")],2),e._v(" "),n("div",{ref:"popover",class:[e.popoverBaseClass,e.popoverClass,e.cssClass],style:{visibility:e.isOpen?"visible":"hidden"},attrs:{id:e.popoverId,"aria-hidden":e.isOpen?"false":"true",tabindex:e.autoHide?0:void 0},on:{keyup:function(a){if(!a.type.indexOf("key")&&e._k(a.keyCode,"esc",27,a.key,["Esc","Escape"]))return null;e.autoHide&&e.hide()}}},[n("div",{class:e.popoverWrapperClass},[n("div",{ref:"inner",class:e.popoverInnerClass,staticStyle:{position:"relative"}},[n("div",[e._t("popover",null,{isOpen:e.isOpen})],2),e._v(" "),e.handleResize?n("ResizeObserver",{on:{notify:e.$_handleResize}}):e._e()],1),e._v(" "),n("div",{ref:"arrow",class:e.popoverArrowClass})])])])},JIe=[];u5._withStripped=!0;var eRe=void 0,tRe=ZIe({render:u5,staticRenderFns:JIe},eRe,QIe);function iRe(t,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",i==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}var nRe=".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}";iRe(nRe);function Nk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Nk.installed){Nk.installed=!0;var i={};HIe(i,J3,e),ay.options=i,Ii.options=i,t.directive("tooltip",Ii),t.directive("close-popover",jIe),t.component("VPopover",tRe)}}var ay={install:Nk,get enabled(){return Pk.enabled},set enabled(t){Pk.enabled=t}},Ew=null;typeof window<"u"?Ew=window.Vue:typeof global<"u"&&(Ew=global.Vue);Ew&&Ew.use(ay);function y0(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y0=function(e){return typeof e}:y0=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function Gk(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function T2(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Uk(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(i),!0).forEach(function(n){Gk(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T2(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var rRe=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,r){if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");if(s.async=!0,s.src=e,s.defer=i.defer,i.preconnectOrigin){var o=document.createElement("link");o.href=i.preconnectOrigin,o.rel="preconnect",a.appendChild(o)}a.appendChild(s),s.onload=n,s.onerror=r}})},Lk=function(e){return typeof e=="function"},q1=function(e){return e&&y0(e)==="object"&&!Array.isArray(e)},aRe=function t(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(!n.length)return e;var a=n.shift();if(!(!q1(e)||!q1(a))){for(var s in a)q1(a[s])?(e[s]||Object.assign(e,Gk({},s,{})),t(e[s],a[s])):Object.assign(e,Gk({},s,a[s]));return t.apply(void 0,[e].concat(n))}},Eb=function(){return!(typeof window>"u"||typeof document>"u")},C2=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Eb()},sRe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return C2('Missing "appName" property inside the plugin options.',e.app_name==null),C2('Missing "name" property in the route.',e.screen_name==null),e};function oRe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.split("/"),n=e.split("/");return i[0]===""&&e[e.length-1]==="/"&&i.shift(),n.join("/")+i.join("/")}var lRe=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},d5={},cRe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=lRe();d5=aRe(i,e)},so=function(){return d5},Tf=function(){var t,e=so(),i=e.globalObjectName;!Eb()||typeof window[i]>"u"||(t=window)[i].apply(t,arguments)},vx=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=so(),r=n.config,a=n.includes;Tf.apply(void 0,["config",r.id].concat(e)),Array.isArray(a)&&a.forEach(function(s){Tf.apply(void 0,["config",s.id].concat(e))})},k2=function(e,i){Eb()&&(window["ga-disable-".concat(e)]=i)},h5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=so(),i=e.config,n=e.includes;k2(i.id,t),Array.isArray(n)&&n.forEach(function(r){return k2(r.id,t)})},f5=function(){h5(!0)},uRe=function(){h5(!1)},p5,dRe=function(e){p5=e},bx=function(){return p5},zf=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=so(),n=i.includes,r=i.defaultGroupName;e.send_to==null&&Array.isArray(n)&&n.length&&(e.send_to=n.map(function(a){return a.id}).concat(r)),Tf("event",t,e)},m5=function(t){if(Eb()){var e;if(typeof t=="string")e={page_path:t};else if(t.path||t.fullPath){var i=so(),n=i.pageTrackerUseFullPath,r=i.pageTrackerPrependBase,a=bx(),s=a&&a.options.base,o=n?t.fullPath:t.path;e=Uk(Uk({},t.name&&{page_title:t.name}),{},{page_path:r?oRe(o,s):o})}else e=t;e.page_location==null&&(e.page_location=window.location.href),e.send_page_view==null&&(e.send_page_view=!0),zf("page_view",e)}},y5=function(t){var e=so(),i=e.appName;if(t){var n;typeof t=="string"?n={screen_name:t}:n=t,n.app_name=n.app_name||i,zf("screen_view",n)}},hRe=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];zf.apply(void 0,["exception"].concat(e))},fRe=function(t){vx("linker",t)},pRe=function(t){zf("timing_complete",t)},mRe=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Tf.apply(void 0,["set"].concat(e))},yRe=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];zf.apply(void 0,["refund"].concat(e))},gRe=function(t){zf("purchase",t)},vRe=function(t){vx({custom_map:t})},bRe=Object.freeze({__proto__:null,query:Tf,config:vx,optOut:f5,optIn:uRe,pageview:m5,screenview:y5,exception:hRe,linker:fRe,time:pRe,set:mRe,refund:yRe,purchase:gRe,customMap:vRe,event:zf}),_Re=function(e){return e.$gtag=e.prototype.$gtag=bRe},wRe=function(){if(Eb()){var t=so(),e=t.enabled,i=t.globalObjectName,n=t.globalDataLayerName;return window[i]==null&&(window[n]=window[n]||[],window[i]=function(){window[n].push(arguments)}),window[i]("js",new Date),e||f5(),window[i]}},S2=function(e){return Uk({send_page_view:!1},e)},g5=function(){var t=so(),e=t.config,i=t.includes;Tf("config",e.id,S2(e.params)),Array.isArray(i)&&i.forEach(function(n){Tf("config",n.id,S2(n.params))})},A2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=so(),n=i.appName,r=i.pageTrackerTemplate,a=i.pageTrackerScreenviewEnabled,s=i.pageTrackerSkipSamePath;if(!(s&&t.path===e.path)){var o=t;if(Lk(r)?o=r(t,e):a&&(o=sRe({app_name:n,screen_name:t.name})),a){y5(o);return}m5(o)}},x2=function(e){var i=so(),n=i.pageTrackerExcludedRoutes;return n.includes(e.path)||n.includes(e.name)},ERe=function(){var t=so(),e=t.onBeforeTrack,i=t.onAfterTrack,n=bx();n.onReady(function(){Cn.nextTick().then(function(){var r=n.currentRoute;g5(),!x2(r)&&A2(r)}),n.afterEach(function(r,a){Cn.nextTick().then(function(){x2(r)||(Lk(e)&&e(r,a),A2(r,a),Lk(i)&&i(r,a))})})})},TRe=function(){var t=so(),e=t.onReady,i=t.onError,n=t.globalObjectName,r=t.globalDataLayerName,a=t.config,s=t.customResourceURL,o=t.customPreconnectOrigin,c=t.deferScriptLoad,d=t.pageTrackerEnabled,p=t.disableScriptLoad,m=!!(d&&bx());if(wRe(),m?ERe():g5(),!p)return rRe("".concat(s,"?id=").concat(a.id,"&l=").concat(r),{preconnectOrigin:o,defer:c}).then(function(){e&&e(window[n])}).catch(function(y){return i&&i(y),y})},CRe=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;_Re(e),cRe(i),dRe(n),so().bootstrap&&TRe()};class Yt{static initializeVars(){Yt._wasLongPress=!1,Yt._pressTimer=null,Yt._currentCancelHandler=null,Yt._currentTarget=null,Yt._pressCount=0}static addTo(e,i,n){if(!Object.prototype.hasOwnProperty.call(n,"longPress"))throw"Need to specify a longPress handler";const r=a=>Yt._pressBegin(i,n.longPress,n.cancel,n.repeat,a);e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),e.addEventListener("mouseout",Yt._cancelCurrentPress),e.addEventListener("touchcancel",Yt._cancelCurrentPress),e.addEventListener("touchmove",a=>{a.preventDefault();const s=a.changedTouches[0];e!==document.elementFromPoint(s.pageX,s.pageY)&&Yt._cancelCurrentPress()}),n.click?(e.addEventListener("click",a=>Yt._handleClick(a,n.click)),e.addEventListener("touchend",a=>Yt._handleTouchEnd(a,n.click))):(e.addEventListener("click",Yt._cancelCurrentPress),e.addEventListener("touchend",Yt._cancelCurrentPress))}static _cancelCurrentPress(e){Yt._currentCancelHandler&&(Yt._currentCancelHandler(e),Yt._currentCancelHandler=null),Yt._pressTimer!==null&&(clearTimeout(Yt._pressTimer),Yt._pressTimer=null),Yt._wasLongPress=!1,Yt._currentTarget=null}static _pressBegin(e,i,n,r,a){Yt._cancelCurrentPress(a),!(a.type==="click"&&a.button!==0)&&(++Yt._pressCount,Yt._currentCancelHandler=n,Yt._wasLongPress=!1,Yt._currentTarget=a.target,a.target.focus(),Yt._pressTimer=setTimeout(()=>{Yt._wasLongPress=!0,i(a),r?Yt._beginRepeat(r,i,a):(Yt._pressTimer=null,Yt._currentCancelHandler=null)},e))}static _beginRepeat(e,i,n){Yt._pressTimer=setTimeout(()=>{i(n),Yt._beginRepeat(e,i,n)},e)}static _handleClick(e,i){const n=Yt._wasLongPress;return e.button!==0?i(e):(Yt._cancelCurrentPress(e),n?!1:i(e))}static _handleTouchEnd(e,i){const n=Yt._currentTarget,r=Yt._wasLongPress;return Yt._cancelCurrentPress(e),!r&&n===e.target?i(e):!1}}Yt.initializeVars();function kRe(t){t.directive("long-press",{bind(e,i,n){const r=(a,s)=>{const o=n.data&&n.data.on;o&&o[a]&&o[a].fns(s)};Yt.addTo(e,i.value.delay,{longPress:()=>r("longpress"),cancel:()=>r("longpresscancel"),click:()=>r("longpressclick")})}})}function SRe(t){t.directive("repeating-click",{bind(e,i,n){const r=(a,s)=>{const o=n.data&&n.data.on;o&&o[a]&&o[a].fns(s)};Yt.addTo(e,i.value.delay,{longPress:()=>r("repeatclick"),click:()=>r("firstclick"),repeat:250})}})}const ARe=function(){const t=document.createElement("div");t.classList.add("o-notification");const e="a-notification--enter",i="a-notification--leave";function n(r,a,s=2e3){if(!GameUI.initialized){setTimeout(n,500,r,a,s);return}const o=t.cloneNode();o.textContent=r,o.classList.add(a,e),document.getElementById("notification-container").appendChild(o);let d=!1;function p(){d||(d=!0,o.classList.remove(e))}setTimeout(()=>p(),500);let m=!1;function y(){m||(m=!0,p(),o.classList.add(i),setTimeout(()=>o.remove(),500))}setTimeout(()=>y(),s),o.onclick=()=>y()}return{success:(r,a)=>n(r,"o-notification--success",a),error:(r,a)=>n(r,"o-notification--error",a),info:(r,a)=>n(r,"o-notification--info",a),infinity:(r,a)=>n(r,"o-notification--infinity",a),eternity:(r,a)=>n(r,"o-notification--eternity",a),reality:(r,a)=>n(r,"o-notification--reality",a),automator:(r,a)=>n(r,"o-notification--automator",a),blackHole:(r,a)=>n(r,"o-notification--black-hole",a),strike:(r,a)=>n(r,"o-notification--strike",a),showBlackHoles:!0}}(),v5={view:{modal:{queue:[],current:void 0,cloudConflict:[],progressBar:void 0},quotes:{queue:[],current:void 0,history:void 0},tabs:{reality:{openGlyphWeights:!1,currentGlyphTooltip:-1,glyphTooltipDirection:1,draggingGlyphInfo:{id:0,type:"",sacrificeValue:0},mouseoverGlyphInfo:{id:0,type:"",sacrificeValue:0,refineValue:0,inInventory:!1},automator:{fullScreen:!1,editorScriptID:"",lines:[]}}},shiftDown:!1,theme:"Normal",bigCrunch:!1,scrollWindow:0,draggingUIID:-1,currentContextMenu:null,tab:"dimensions",subtab:"antimatter",newUI:!1,news:!1,initialized:!1,tutorialState:0,tutorialActive:!0,h2pForcedTab:void 0},notationName:"",formatPreBreak:!1,lastClickTime:0},xRe={name:"BlobBackground",props:{bounds:{type:Object,required:!0}},mounted(){this.drop()},methods:{drop(){const e=5+Math.random()*8,i=this.bounds,n={x:Math.random()*(i.x-60),y:60+Math.random()*(i.y-60)};this.$el.textContent=r(),this.$el.setAttribute("x",n.x),this.$el.setAttribute("y",n.y),this.$el.setAttribute("font-size",`${e}em`);function r(){const o="".codePointAt(0)||65,c=[];for(let d=0;d<23;d++)c.push(String.fromCharCode(o+d));return c[Math.floor(Math.random()*c.length)]}}}};var DRe=function(){var e=this,i=e._self._c;return i("text",{staticClass:"o-blob-background"})},IRe=[],RRe=X(xRe,DRe,IRe,!1,null,"68555dd5");const MRe=RRe.exports;var b5={exports:{}};(function(t,e){var i=i||function(){var n=[];return{getAll:function(){return n},removeAll:function(){n=[]},add:function(r){n.push(r)},remove:function(r){var a=n.indexOf(r);a!==-1&&n.splice(a,1)},update:function(r,a){if(n.length===0)return!1;var s=0;for(r=r!==void 0?r:i.now();s<n.length;)n[s].update(r)||a?s++:n.splice(s,1);return!0}}}();typeof window>"u"&&typeof process<"u"?i.now=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof window<"u"&&window.performance!==void 0&&window.performance.now!==void 0?i.now=window.performance.now.bind(window.performance):Date.now!==void 0?i.now=Date.now:i.now=function(){return new Date().getTime()},i.Tween=function(n){var r=n,a={},s={},o={},c=1e3,d=0,p,m=!1,y=!1,_=0,w=null,C=i.Easing.Linear.None,k=i.Interpolation.Linear,S=[],x=null,O=!1,D=null,B=null,P=null;this.to=function(R,I){return s=R,I!==void 0&&(c=I),this},this.start=function(R){i.add(this),y=!0,O=!1,w=R!==void 0?R:i.now(),w+=_;for(var I in s){if(s[I]instanceof Array){if(s[I].length===0)continue;s[I]=[r[I]].concat(s[I])}r[I]!==void 0&&(a[I]=r[I],a[I]instanceof Array||(a[I]*=1),o[I]=a[I]||0)}return this},this.stop=function(){return y?(i.remove(this),y=!1,P!==null&&P.call(r,r),this.stopChainedTweens(),this):this},this.end=function(){return this.update(w+c),this},this.stopChainedTweens=function(){for(var R=0,I=S.length;R<I;R++)S[R].stop()},this.delay=function(R){return _=R,this},this.repeat=function(R){return d=R,this},this.repeatDelay=function(R){return p=R,this},this.yoyo=function(R){return m=R,this},this.easing=function(R){return C=R,this},this.interpolation=function(R){return k=R,this},this.chain=function(){return S=arguments,this},this.onStart=function(R){return x=R,this},this.onUpdate=function(R){return D=R,this},this.onComplete=function(R){return B=R,this},this.onStop=function(R){return P=R,this},this.update=function(R){var I,F,$;if(R<w)return!0;O===!1&&(x!==null&&x.call(r,r),O=!0),F=(R-w)/c,F=F>1?1:F,$=C(F);for(I in s)if(a[I]!==void 0){var L=a[I]||0,W=s[I];W instanceof Array?r[I]=k(W,$):(typeof W=="string"&&(W.charAt(0)==="+"||W.charAt(0)==="-"?W=L+parseFloat(W):W=parseFloat(W)),typeof W=="number"&&(r[I]=L+(W-L)*$))}if(D!==null&&D.call(r,$),F===1)if(d>0){isFinite(d)&&d--;for(I in o){if(typeof s[I]=="string"&&(o[I]=o[I]+parseFloat(s[I])),m){var j=o[I];o[I]=s[I],s[I]=j}a[I]=o[I]}return p!==void 0?w=R+p:w=R+_,!0}else{B!==null&&B.call(r,r);for(var z=0,re=S.length;z<re;z++)S[z].start(w+c);return!1}return!0}},i.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}},Back:{In:function(n){var r=1.70158;return n*n*((r+1)*n-r)},Out:function(n){var r=1.70158;return--n*n*((r+1)*n+r)+1},InOut:function(n){var r=2.5949095;return(n*=2)<1?.5*(n*n*((r+1)*n-r)):.5*((n-=2)*n*((r+1)*n+r)+2)}},Bounce:{In:function(n){return 1-i.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?i.Easing.Bounce.In(n*2)*.5:i.Easing.Bounce.Out(n*2-1)*.5+.5}}},i.Interpolation={Linear:function(n,r){var a=n.length-1,s=a*r,o=Math.floor(s),c=i.Interpolation.Utils.Linear;return r<0?c(n[0],n[1],s):r>1?c(n[a],n[a-1],a-s):c(n[o],n[o+1>a?a:o+1],s-o)},Bezier:function(n,r){for(var a=0,s=n.length-1,o=Math.pow,c=i.Interpolation.Utils.Bernstein,d=0;d<=s;d++)a+=o(1-r,s-d)*o(r,d)*n[d]*c(s,d);return a},CatmullRom:function(n,r){var a=n.length-1,s=a*r,o=Math.floor(s),c=i.Interpolation.Utils.CatmullRom;return n[0]===n[a]?(r<0&&(o=Math.floor(s=a*(1+r))),c(n[(o-1+a)%a],n[o],n[(o+1)%a],n[(o+2)%a],s-o)):r<0?n[0]-(c(n[0],n[0],n[1],n[1],-s)-n[0]):r>1?n[a]-(c(n[a],n[a],n[a-1],n[a-1],s-a)-n[a]):c(n[o?o-1:0],n[o],n[a<o+1?a:o+1],n[a<o+2?a:o+2],s-o)},Utils:{Linear:function(n,r,a){return(r-n)*a+n},Bernstein:function(n,r){var a=i.Interpolation.Utils.Factorial;return a(n)/a(r)/a(n-r)},Factorial:function(){var n=[1];return function(r){var a=1;if(n[r])return n[r];for(var s=r;s>1;s--)a*=s;return n[r]=a,a}}(),CatmullRom:function(n,r,a,s,o){var c=(a-n)*.5,d=(s-r)*.5,p=o*o,m=o*p;return(2*r-2*a+c+d)*m+(-3*r+3*a-2*c-d)*p+c*o+r}}},function(n){t.exports=i}()})(b5);var PRe=b5.exports;const Va=oc(PRe),ORe={name:"BlobSnowflake",props:{bounds:{type:Object,required:!0}},mounted(){this.fly()},beforeDestroy(){for(const t of this.tweens)Va.remove(t)},methods:{fly(){const e=50+Math.random()*50,i=160+Math.random()*60,n=1e3+Math.random()*1e4,r=3e3+Math.random()*1e3,a=2+Math.random()*3,s=this.bounds,o={x:-300,y:-150},c=-150,d=s.y+150,p=Math.random()-.5,m=new Va.Tween(o).to({x:`${p<0?"-":"+"}${e}`},r).easing(Va.Easing.Sinusoidal.InOut),y=new Va.Tween(o).to({x:`${p<0?"+":"-"}${e}`},r).easing(Va.Easing.Sinusoidal.InOut),_=new Va.Tween(o).to({y:`+${i}`},r).easing(Va.Easing.Linear.None).onUpdate(()=>{this.$el.setAttribute("x",o.x),this.$el.setAttribute("y",o.y),o.y>d&&(m.chain(w),y.chain(w),_.chain(C))}),w=new Va.Tween(o).to({x:120+Math.random()*(s.x-120*2)},0).chain(m).easing(Va.Easing.Linear.None),C=new Va.Tween(o).to({y:c},0).easing(Va.Easing.Linear.None).chain(_).onUpdate(()=>{this.$el.textContent=k(),this.$el.setAttribute("x",o.x),this.$el.setAttribute("y",o.y),this.$el.setAttribute("font-size",`${a}em`),m.chain(y),y.chain(m),_.chain(_)});w.start(n),C.start(n),this.tweens=[m,y,_,w,C];function k(){const O="".codePointAt(0)||65,D=[];for(let B=0;B<23;B++)D.push(String.fromCharCode(O+B));return Math.random()<GameEnd.endState**2?"":D[Math.floor(Math.random()*D.length)]}}}};var NRe=function(){var e=this,i=e._self._c;return i("text",{staticClass:"o-blob-snowflake"})},GRe=[],URe=X(ORe,NRe,GRe,!1,null,"b522278c");const LRe=URe.exports,BRe={name:"BlobSnowflakes",components:{BlobSnowflake:LRe,BlobBackground:MRe},data(){return{animateBackground:!1,count:0,initialized:!1,bounds:{x:0,y:0}}},mounted(){this.updateSize(),window.addEventListener("resize",this.updateSize),this.initialized=!0},destroyed(){window.removeEventListener("resize",this.updateSize)},methods:{update(){this.animateBackground=player.options.animations.background,this.count=player.options.animations.blobSnowflakes},updateSize(){this.bounds.x=document.documentElement.clientWidth,this.bounds.y=document.documentElement.clientHeight}}};var $Re=function(){var e=this,i=e._self._c;return e.initialized?i("div",[e.animateBackground?i("svg",{staticClass:"c-blob-snowflake-container"},e._l(e.count,function(n){return i("BlobSnowflake",{key:n,attrs:{bounds:e.bounds}})}),1):i("svg",{staticClass:"c-blob-background-container"},e._l(e.count,function(n){return i("BlobBackground",{key:n,attrs:{bounds:e.bounds}})}),1)]):e._e()},FRe=[],HRe=X(BRe,$Re,FRe,!1,null,"7a990dd7");const VRe=HRe.exports,YRe={name:"TachyonParticle",props:{bounds:{type:Object,required:!0},isBlob:{type:Boolean,required:!0}},data(){return{blob:""}},mounted(){const t="";this.blob=t[Math.floor(Math.random()*t.length)],this.fly()},beforeDestroy(){Va.remove(this.tween)},methods:{fly(){const t=this.bounds,e={x:Math.random()*t.x,y:Math.random()*t.y},i=m(),n=this.isBlob?.5:0,r=1-n,a=1.5-n,s=r+Math.random()*(a-r),o=y(e,i,{x:0,y:0},t),c={x:e.x+i.x*o,y:e.y+i.y*o},d=Math.max(o/s,1),p=e;this.tween=new Va.Tween(p).to(c,d).onUpdate(()=>{this.$el.setAttribute(this.isBlob?"x":"cx",p.x),this.$el.setAttribute(this.isBlob?"y":"cy",p.y)}).easing(Va.Easing.Linear.None).onComplete(this.fly.bind(this)).start(tweenTime);function m(){const _=Math.random()*2*Math.PI;return{x:Math.cos(_),y:Math.sin(_)}}function y(_,w,C,k){const S={x:1/w.x,y:1/w.y},x=(C.x-_.x)*S.x,O=(k.x-_.x)*S.x,D=(C.y-_.y)*S.y,B=(k.y-_.y)*S.y;return Math.min(Math.max(x,O),Math.max(D,B))}}}};var qRe=function(){var e=this,i=e._self._c;return e.isBlob?i("text",{staticClass:"o-tachyon-particle"},[e._v(" "+e._s(e.blob)+" ")]):i("circle",{staticClass:"o-tachyon-particle",attrs:{r:"2"}})},WRe=[],jRe=X(YRe,qRe,WRe,!1,null,"e2be9bad");const zRe=jRe.exports,XRe={name:"TachyonParticles",components:{TachyonParticle:zRe},data(){return{count:0,initialized:!1,bounds:{x:0,y:0},isBlob:!1}},mounted(){this.$nextTick(this.updateSize),window.addEventListener("resize",this.updateSize),this.initialized=!0},destroyed(){window.removeEventListener("resize",this.updateSize)},methods:{update(){this.count=Currency.tachyonParticles.gte(1)?Math.clampMin(Math.floor(20*Math.log10(Currency.tachyonParticles.exponent)),1):0,this.isBlob=Theme.currentName()==="S11"},updateSize(){this.bounds.x=this.$el.clientWidth,this.bounds.y=this.$el.clientHeight}}};var KRe=function(){var e=this,i=e._self._c;return e.initialized?i("svg",{staticClass:"c-tachyon-particle-container"},e._l(e.count,function(n){return i("TachyonParticle",{key:n,attrs:{bounds:e.bounds,"is-blob":e.isBlob}})}),1):e._e()},ZRe=[],QRe=X(XRe,KRe,ZRe,!1,null,"36e56b02");const JRe=QRe.exports,eMe={name:"BackgroundAnimations",components:{BlobSnowflakes:VRe,TachyonParticles:JRe},data(){return{blob:!1,animateTachyons:!1}},methods:{update(){this.blob=Theme.currentName()==="S11",this.animateTachyons=player.options.animations.tachyonParticles&&Tabs.current[this.$viewModel.subtab].name==="Time Dilation"}}};var tMe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-background-animations",attrs:{id:"ui-background-animations"}},[e.blob?i("BlobSnowflakes"):e._e(),e.animateTachyons?i("TachyonParticles"):e._e()],1)},iMe=[],nMe=X(eMe,tMe,iMe,!1,null,"e49954ec");const _5=nMe.exports,rMe={name:"BigCrunchButton",data(){return{isModern:!1,smallCrunch:!1,shouldDisplay:!1}},methods:{update(){this.shouldDisplay=!player.break&&Player.canCrunch,this.shouldDisplay&&(this.isModern=player.options.newUI,this.smallCrunch=Time.bestInfinityRealTime.totalMinutes<=1)},handleClick(){PlayerProgress.infinityUnlocked()?bigCrunchResetRequest():Modal.bigCrunch.show()}}};var aMe=function(){var e=this,i=e._self._c;return e.shouldDisplay?i("span",[e.isModern?i("div",[e.smallCrunch?e._e():i("h3",{staticClass:"l-spacing"},[e._v(" The world has collapsed due to excess antimatter. ")]),i("button",{class:{"btn-big-crunch":!0,"btn-big-crunch--small":e.smallCrunch},on:{click:e.handleClick}},[e._v(" Big Crunch ")])]):i("div",[i("button",{class:{"o-tab-btn":!0,"o-big-crunch-btn":!0,"l-old-ui__big-crunch-btn":!0,"l-old-ui__big-crunch-btn--overlay":e.smallCrunch},on:{click:e.handleClick}},[e._v(" Big Crunch ")]),e.smallCrunch?e._e():i("div",{staticClass:"o-emptiness"},[e._v(" The world has collapsed due to excess of antimatter. ")])])]):e._e()},sMe=[],oMe=X(rMe,aMe,sMe,!1,null,"bf85dac1");const _x=oMe.exports,lMe={name:"HeaderBlackHoleStatusText",props:{blackHole:{type:Object,required:!0}},data(){return{isUnlocked:!1,state:""}},computed:{id(){return this.blackHole.id}},methods:{update(){this.isUnlocked=this.blackHole.isUnlocked,this.state=this.blackHole.displayState}}};var cMe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("span",[e._v(" 🌀"+e._s(e.id)+":"),i("span",{domProps:{innerHTML:e._s(e.state)}})]):e._e()},uMe=[],dMe=X(lMe,cMe,uMe,!1,null,"7df97e33");const hMe=dMe.exports,fMe={name:"HeaderBlackHole",components:{PrimaryButton:mt,PrimaryToggleButton:ln,HeaderBlackHoleStatusText:hMe},data(){return{canModifyBlackHoles:!1,displaySingle:!1,singleState:"",pauseText:"",canCharge:!1,isCharging:!1,storedTime:0,canAutoRelease:!1,isAutoReleasing:!1}},computed:{blackHoles:()=>BlackHoles.list,id(){return this.blackHole.id},dischargeText(){return`Discharge: ${timeDisplayShort(this.storedTime)}`},hasLongText(){return this.dischargeText.length>15}},watch:{isAutoReleasing(t){player.celestials.enslaved.isAutoReleasing=t}},methods:{update(){this.canModifyBlackHoles=BlackHoles.areUnlocked&&!Laitela.isRunning,this.displaySingle=BlackHoles.arePermanent,this.displaySingle&&(this.singleState=BlackHole(1).displayState),this.pauseText=this.pauseButtonText(),this.canCharge=Enslaved.isUnlocked,this.isCharging=Enslaved.isStoringGameTime,this.storedTime=player.celestials.enslaved.stored,this.canAutoRelease=Ra.unlocks.autoPulseTime.canBeApplied,this.isAutoReleasing=player.celestials.enslaved.isAutoReleasing},pauseButtonText(){if(BlackHoles.arePaused&&player.blackHoleNegative<1)return"Uninvert BH";if(BlackHoles.arePaused)return"Unpause BH";const t=BlackHoles.unpauseAccelerationFactor;return t!==1?`${formatPercents(t,1)} speed`:player.blackHoleNegative<1?"Invert BH":"Pause BH"},timeDisplayShort(t){return timeDisplayShort(t)},chargingClassObject(){return{"o-primary-btn--buy-max c-primary-btn--black-hole-header":!0,"o-bh-charge-disabled":this.isAutoReleasing}}}};var pMe=function(){var e=this,i=e._self._c;return e.canModifyBlackHoles?i("span",{staticClass:"c-black-hole-header"},[i("PrimaryButton",{staticClass:"o-primary-btn--buy-max c-primary-btn--black-hole-header",attrs:{onclick:"BlackHoles.togglePause()"}},[e._v(" "+e._s(e.pauseText)+" ")]),e.canCharge?i("span",[i("PrimaryButton",{class:e.chargingClassObject(),attrs:{onclick:"Enslaved.toggleStoreBlackHole()"}},[e.isCharging?i("span",[e._v(" Stop Charging ")]):i("span",[e._v(" Charge ")])])],1):e._e(),e.displaySingle?i("span",{staticClass:"c-black-hole-status-text",domProps:{innerHTML:e._s("🌀:"+e.singleState)}}):i("span",e._l(e.blackHoles,function(n,r){return i("HeaderBlackHoleStatusText",{key:"state"+r,attrs:{"black-hole":n}})}),1),e.canCharge?i("span",[i("PrimaryButton",{staticClass:"o-discharge-btn c-primary-btn--black-hole-header",class:{"o-small-discharge-text":e.hasLongText},attrs:{onclick:"Enslaved.useStoredTime(false)"}},[e._v(" "+e._s(e.dischargeText)+" ")])],1):e._e(),e.canAutoRelease?i("span",[i("PrimaryToggleButton",{staticClass:"o-primary-btn--buy-max c-primary-btn--black-hole-header",attrs:{label:"Pulse:"},model:{value:e.isAutoReleasing,callback:function(n){e.isAutoReleasing=n},expression:"isAutoReleasing"}})],1):e._e()],1):e._e()},mMe=[],yMe=X(fMe,pMe,mMe,!1,null,"28c9af09");const wx=yMe.exports,gMe={name:"FailableEcText",data(){return{currentResource:new Decimal(0),maximumResource:new Decimal(0),currentEternityChallengeId:0}},computed:{textStyle(){if(this.maximumResource.eq(0))return{};const t=this.currentResource.div(this.maximumResource).toNumber(),e=Theme.current().isDark()&&Theme.current().name!=="S6",i=e?2:1.5;return{color:`rgb(${[Math.round(Math.min(i*t,1)*255),Math.round(Math.min(i*(1-t),1)*255*(e?1:.7)),0].join(",")})`}},text(){return this.currentEternityChallengeId===4?`${formatInt(this.currentResource)} / ${formatInt(this.maximumResource)} Infinities used`:`${TimeSpan.fromSeconds(this.currentResource.toNumber()).toString()} /
        ${TimeSpan.fromSeconds(this.maximumResource.toNumber()).toString()} time spent`}},methods:{update(){EternityChallenge.current&&[4,12].includes(EternityChallenge.current.id)&&(this.currentEternityChallengeId=EternityChallenge.current.id,this.currentEternityChallengeId===4?this.currentResource.copyFrom(Currency.infinities):this.currentResource=new Decimal(Time.thisEternity.totalSeconds),this.maximumResource=new Decimal(EternityChallenge.current.config.restriction(EternityChallenge.current.completions)))}}};var vMe=function(){var e=this,i=e._self._c;return i("span",[e._v(" - "),i("span",{style:e.textStyle},[e._v(e._s(e.text))])])},bMe=[],_Me=X(gMe,vMe,bMe,!1,null,"8a762fed");const wMe=_Me.exports,EMe={name:"HeaderChallengeDisplay",components:{FailableEcText:wMe,PrimaryButton:mt},data(){return{activityTokens:[],infinityUnlocked:!1,showExit:!1,exitText:"",resetCelestial:!1,inPelle:!1}},computed:{parts(){function t(e,i,n){return{name:()=>`${i} Reality`,isActive:r=>r,activityToken:()=>e.isRunning,tabName:()=>n}}return[t(Teresa,"Teresa's","teresa"),t(Effarig,"Effarig's","effarig"),t(Enslaved,"The Nameless Ones'","enslaved"),t(V,"V's","v"),t(Ra,"Ra's","ra"),t(Laitela,"Lai'tela's","laitela"),{name:()=>"Time Dilation",isActive:e=>e,activityToken:()=>player.dilation.active},{name:e=>`Eternity Challenge ${e}`,isActive:e=>e>0,activityToken:()=>player.challenge.eternity.current},{name:e=>`Infinity Challenge ${e}`,isActive:e=>e>0,activityToken:()=>player.challenge.infinity.current},{name:e=>`${NormalChallenge(e).config.name} Challenge`,isActive:e=>e>0,activityToken:()=>player.challenge.normal.current}]},activeChallengeNames(){const t=[];for(let e=0;e<this.activityTokens.length;e++){const i=this.activityTokens[e],n=this.parts[e];if(n.isActive(i))if(n.name(i).includes("Eternity Challenge")){const r=player.challenge.eternity.current,a=EternityChallenge(r).completions+1;let s="";Enslaved.isRunning&&r===1?s=`(${formatInt(a)}/???)`:a===6?s="(already completed)":s=`(${formatInt(a)}/${formatInt(5)})`,t.push(`${n.name(i)} ${s}`)}else t.push(n.name(i))}return t},isVisible(){return this.infinityUnlocked||this.activeChallengeNames.length>0},isInFailableEC(){return this.activeChallengeNames.some(t=>t.match(/Eternity Challenge (4|12)/gu))},challengeDisplay(){return this.inPelle&&this.activeChallengeNames.length>0?`${this.activeChallengeNames.join(" + ")} in a Doomed Reality. Good luck.`:this.inPelle?"a Doomed Reality. Good luck.":this.activeChallengeNames.length===0?"the Antimatter Universe (no active challenges)":this.activeChallengeNames.join(" + ")}},methods:{update(){this.infinityUnlocked=PlayerProgress.infinityUnlocked(),this.activityTokens=this.parts.map(t=>t.activityToken()),this.showExit=this.inPelle&&player.dilation.active?this.activeChallengeNames.length>1:this.activeChallengeNames.length!==0,this.exitText=this.exitDisplay(),this.resetCelestial=player.options.retryCelestial,this.inPelle=Pelle.isDoomed},exitButtonClicked(){let t,e;const i=Player.anyChallenge instanceof EternityChallengeState;if(player.dilation.active&&(!Player.isInAnyChallenge||i)){player.options.confirmations.dilation?Modal.exitDilation.show():startDilatedEternityRequest();return}Player.isInAnyChallenge?(t={chall:this.activeChallengeNames[this.activeChallengeNames.length-1].replace(/\W+\(.*\)/u,""),normal:i?"Eternity":"Infinity"},e=()=>{const r=Player.anyChallenge;Player.anyChallenge.exit(!1),player.options.retryChallenge&&r.requestStart()}):(t={chall:this.activeChallengeNames[0],normal:"Reality"},e=()=>beginProcessReality(getRealityProps(!0))),player.options.confirmations.exitChallenge?Modal.exitChallenge.show({challengeName:t.chall,normalName:t.normal,hasHigherLayers:this.inPelle||this.activeChallengeNames.length>1,exitFn:e}):e()},textClicked(){var i;if(this.activeChallengeNames.length===0)return;let t="",e="";for(let n=this.activityTokens.length-1;n>=0;n--){const r=this.activityTokens[n],a=this.parts[n];if(a.isActive(r)){t=a.name(r),e=(i=a.tabName)==null?void 0:i.call(a);break}}t.match(" Challenge$")?Tab.challenges.normal.show(!0):t.match("Infinity Challenge")?Tab.challenges.infinity.show(!0):t.match("Eternity Challenge")?Tab.challenges.eternity.show(!0):player.dilation.active?Tab.eternity.dilation.show(!0):Tab.celestials[e].show(!0)},exitDisplay(){return Player.isInAnyChallenge?player.options.retryChallenge?"Retry Challenge":"Exit Challenge":player.dilation.active?"Exit Dilation":this.resetCelestial?"Restart Reality":"Exit Reality"},textClassObject(){return{"l-challenge-display":!0,"l-challenge-display--clickable":this.activeChallengeNames.length!==0}}}};var TMe=function(){var e=this,i=e._self._c;return e.isVisible?i("div",{staticClass:"l-game-header__challenge-text"},[i("span",{class:e.textClassObject(),on:{click:e.textClicked}},[e._v(" You are currently in "+e._s(e.challengeDisplay)+" ")]),e.isInFailableEC?i("FailableEcText"):e._e(),i("span",{staticClass:"l-padding-line"}),e.showExit?i("PrimaryButton",{on:{click:e.exitButtonClicked}},[e._v(" "+e._s(e.exitText)+" ")]):e._e()],1):e._e()},CMe=[],kMe=X(EMe,TMe,CMe,!1,null,"a7d77b1e");const Ex=kMe.exports,SMe={name:"HeaderChallengeEffects",data(){return{isInMatterChallenge:!1,matter:new Decimal(0),isChallengePowerVisible:!1,challengePower:"",isInEffarig:!1,effarigMultNerfText:"",effarigTickNerfText:"",isInLaitela:!1,laitelaTimer:0,laitelaEntropy:"",waitingforHint:!1,enslavedTimer:""}},computed:{enslavedText(){return`${Enslaved.displayName} are helping you look for cracks in their Reality -
        they can give you some advice in ${this.enslavedTimer}`}},methods:{update(){this.isInMatterChallenge=Player.isInMatterChallenge,this.isInMatterChallenge&&this.matter.copyFrom(Currency.matter),this.updateChallengePower(),this.isInEffarig=Effarig.isRunning,this.isInEffarig&&(this.effarigMultNerfText=`${formatPow(.25+.25*Effarig.nerfFactor(Currency.infinityPower.value),0,5)}`,this.effarigTickNerfText=`${formatPow(.7+.1*Effarig.nerfFactor(Currency.timeShards.value),0,5)}`),this.isInLaitela=Laitela.isRunning,this.isInLaitela&&(player.celestials.laitela.entropy>0?(this.laitelaEntropy=`${formatPercents(player.celestials.laitela.entropy,2,2)}`,this.laitelaTimer=Time.thisRealityRealTime.toStringShort()):(this.laitelaEntropy=`${formatPercents(1,2,2)}`,this.laitelaTimer=TimeSpan.fromSeconds(player.celestials.laitela.thisCompletion).toStringShort())),this.waitingforHint=Enslaved.canTickHintTimer;const t=5*3600*1e3-player.celestials.enslaved.hintUnlockProgress;this.enslavedTimer=TimeSpan.fromMilliseconds(t/(Enslaved.isRunning?1:.4)).toStringShort()},updateChallengePower(){const t=NormalChallenge(2).isRunning,e=NormalChallenge(3).isRunning,i=InfinityChallenge(6).isRunning,n=InfinityChallenge(8).isRunning,r=t||e||i||n;if(this.isChallengePowerVisible=r,r){const a=[];t&&a.push(`Production: ${formatPercents(player.chall2Pow,2,2)}`),e&&a.push(`First dimension: ${formatX(player.chall3Pow,3,4)}`),i&&a.push(`Matter: Antimatter Dimensions /
          ${format(new Decimal(1).timesEffectOf(InfinityChallenge(6)),2,2)}`),n&&a.push(`Production: /
          ${format(new Decimal(1).timesEffectOf(InfinityChallenge(8)).reciprocal(),2,2)}`),this.challengePower=a.join(", ")}}}};var AMe=function(){var e=this,i=e._self._c;return i("div",[e.waitingforHint?i("div",[e._v(" "+e._s(e.enslavedText)+" ")]):e._e(),e.isInEffarig?i("div",[e._v(" Game speed and multipliers are Dilated "+e._s(e.effarigMultNerfText)+" "),i("br"),e._v(" Tickspeed is Dilated "+e._s(e.effarigTickNerfText)+" ")]):e._e(),e.isInLaitela?i("div",[e._v(" Entropy: "+e._s(e.laitelaEntropy)+" ("+e._s(e.laitelaTimer)+") ")]):e._e(),e.isInMatterChallenge?i("div",[e._v(" There is "+e._s(e.format(e.matter,2,1))+" matter. ")]):e._e(),e.isChallengePowerVisible?i("div",[e._v(" "+e._s(e.challengePower)+" ")]):e._e()])},xMe=[],DMe=X(SMe,AMe,xMe,!1,null,"6fb0660d");const Tx=DMe.exports,IMe={name:"ArmageddonButton",props:{isHeader:{type:Boolean,required:!1,default:!1}},data(){return{remnantsGain:0,realityShardGain:new Decimal(0),nextRealityShardGain:new Decimal(0),canArmageddon:!1}},computed:{remnants(){return format(this.remnantsGain,2,this.remnantsGain>1?0:2)},buttonClassObject(){return{"c-armageddon-button":!0,"l-armageddon-button":!this.isHeader,"l-reality-button":this.isHeader,"l-armageddon-button--header":this.isHeader,"c-armageddon-button--unavailable":!this.canArmageddon}}},methods:{update(){this.remnantsGain=Pelle.remnantsGain,this.realityShardGain.copyFrom(Pelle.realityShardGainPerSecond),this.nextRealityShardGain.copyFrom(Pelle.nextRealityShardGain),this.canArmageddon=Pelle.canArmageddon},manualArmageddon(){this.canArmageddon&&(player.options.confirmations.armageddon?Modal.armageddon.show():Pelle.armageddon(!0))}}};var RMe=function(){var e=this,i=e._self._c;return i("button",{class:e.buttonClassObject,on:{click:e.manualArmageddon}},[e.isHeader?i("span",[e._v("You cannot escape a Doomed Reality!"),i("br")]):e._e(),i("span",{staticClass:"c-remnant-gain-display"},[e._v(" Armageddon for "),i("span",{staticClass:"c-remnant-gain"},[e._v(e._s(e.remnants))]),e._v(" Remnants ")]),i("br"),e._v(" Reality Shards "),i("span",{staticClass:"c-reality-shard-gain"},[e._v(e._s(e.format(e.realityShardGain,2,2)))]),e._v("/s ➜ "),i("span",{staticClass:"c-reality-shard-gain"},[e._v(e._s(e.format(e.nextRealityShardGain,2,2)))]),e._v("/s ")])},MMe=[],PMe=X(IMe,RMe,MMe,!1,null,"06e4f874");const w5=PMe.exports,OMe={name:"RealityCurrencyHeader",data(){return{isDoomed:!1,currencyValue:new Decimal,currencyName:""}},methods:{update(){if(this.isDoomed=Pelle.isDoomed,this.isDoomed){const t=Currency.realityShards.value;this.currencyValue=format(t,2,2),this.currencyName=pluralize("Reality Shard",t)}else{const t=Currency.realityMachines.value;this.currencyValue=formatMachines(t,Currency.imaginaryMachines.value),this.currencyName=pluralize("Reality Machine",t)}},resourceClass(){return{"c-reality-tab__reality-machines":!0,"c-shard-color":this.isDoomed}}}};var NMe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-reality-currency"},[e._v(" You have "),i("b",{class:e.resourceClass()},[e._v(" "+e._s(e.currencyValue)+" ")]),e._v(" "+e._s(e.currencyName)+". ")])},GMe=[],UMe=X(OMe,NMe,GMe,!1,null,"aebc18ca");const LMe=UMe.exports,BMe={name:"GameSpeedDisplay",props:{},data(){return{baseSpeed:0,pulsedSpeed:0,hasSeenAlteredSpeed:!1,isStopped:!1,isEC12:!1,isPulsing:!1}},computed:{baseSpeedText(){if(this.isStopped)return"Stopped (storing real time)";const t=this.formatNumber(this.baseSpeed);return this.isEC12?`${t} (fixed)`:`${t}`},pulseSpeedText(){return`${this.formatNumber(this.pulsedSpeed)}`},baseText(){return this.hasSeenAlteredSpeed?this.baseSpeed===1?"The game is running at normal speed.":`Game speed is altered: ${this.baseSpeedText}`:null}},methods:{update(){this.baseSpeed=getGameSpeedupFactor(),this.pulsedSpeed=getGameSpeedupForDisplay(),this.hasSeenAlteredSpeed=PlayerProgress.seenAlteredSpeed(),this.isStopped=Enslaved.isStoringRealTime,this.isEC12=EternityChallenge(12).isRunning,this.isPulsing=this.baseSpeed!==this.pulsedSpeed&&Enslaved.canRelease(!0)},formatNumber(t){return t>=.001&&t<1e4&&t!==1?format(t,3,3):t<.001?`${formatInt(1)} / ${format(1/t,2)}`:`${format(t,2)}`}}};var $Me=function(){var e=this,i=e._self._c;return i("span",{staticClass:"c-gamespeed"},[i("span",[e._v(" "+e._s(e.baseText)+" ")]),e.isPulsing?i("span",[e._v("("),i("i",{staticClass:"fas fa-expand-arrows-alt u-fa-padding"}),e._v(" "+e._s(e.pulseSpeedText)+")")]):e._e()])},FMe=[],HMe=X(BMe,$Me,FMe,!1,null,"4a38b658");const EE=HMe.exports,VMe={name:"HeaderTickspeedInfo",components:{GameSpeedDisplay:EE},data(){return{mult:new Decimal(0),tickspeed:new Decimal(0),galaxyCount:0,purchasedTickspeed:0,freeTickspeed:0}},computed:{tickspeedDisplay(){return`Total Tickspeed: ${format(this.tickspeed,2,3)} / sec`},perUpgrade(){return InfinityChallenge(3).isRunning?`Tickspeed upgrades give
        ${formatX(1.05+this.galaxyCount*.005,3,3)} to all ADs`:`ADs produce ${formatX(this.mult.reciprocal(),2,3)} faster per Tickspeed upgrade`}},methods:{update(){this.mult.copyFrom(Tickspeed.multiplier),this.tickspeed.copyFrom(Tickspeed.perSecond),this.galaxyCount=player.galaxies,this.purchasedTickspeed=player.totalTickBought,this.freeTickspeed=FreeTickspeed.amount}}};var YMe=function(){var e=this,i=e._self._c;return i("div",[i("br"),e._v(" "+e._s(e.perUpgrade)+" "),i("br"),e._v(" "+e._s(e.tickspeedDisplay)+" "),i("br"),i("GameSpeedDisplay")],1)},qMe=[],WMe=X(VMe,YMe,qMe,!1,null,"166aa740");const jMe=WMe.exports,zMe={name:"RealityButton",data(){return{canReality:!1,showSpecialEffect:!1,hasRealityStudy:!1,machinesGained:new Decimal,projectedRM:new Decimal,newIMCap:0,realityTime:0,glyphLevel:0,nextGlyphPercent:0,nextMachineEP:0,shardsGained:0,currentShardsRate:0,bestShardRate:0,bestShardRateVal:0,ppGained:0,celestialRunText:["","","","",""]}},computed:{formatMachinesGained(){return this.machinesGained.gt(0)?`Machines gained: ${format(this.machinesGained,2)}`:"No Machines gained"},formatMachineStats(){return!PlayerProgress.realityUnlocked()&&this.nextMachineEP.gt("1e8000")?"(Capped this Reality!)":this.machinesGained.gt(0)&&this.machinesGained.lt(100)?`(Next at ${format(this.nextMachineEP,2)} EP)`:this.machinesGained.eq(0)&&this.newIMCap===0?`(Projected: ${format(this.projectedRM,2)} RM)`:this.newIMCap!==0?`(iM Cap: ${formatMachines(0,this.newIMCap)})`:this.machinesGained.lt(Number.MAX_VALUE)?`(${format(this.machinesGained.divide(this.realityTime),2,2)} RM/min)`:""},formatGlyphLevel(){return this.glyphLevel>=1e4?`Glyph level: ${formatInt(this.glyphLevel)}`:`Glyph level: ${formatInt(this.glyphLevel)} (${this.nextGlyphPercent} to next)`},showShardsRate(){return this.currentShardsRate},shardsGainedText(){return quantify("Relic Shard",this.shardsGained,2)},classObject(){return{"c-reality-button--unlocked":this.canReality,"c-reality-button--locked":!this.canReality,"c-reality-button--special":this.showSpecialEffect}}},methods:{percentToNextGlyphLevelText(){let e=getGlyphLevelInputs().actualLevel;isFinite(e)||(e=0);const i=this.glyphLevel>1e3?0:1;return`${formatPercents(Math.min(e-Math.floor(e),.999),i)}`},update(){if(this.hasRealityStudy=TimeStudy.reality.isBought,this.canReality=isRealityAvailable(),this.showSpecialEffect=this.hasSpecialReward(),!this.canReality){this.shardsGained=0;return}function t(r){const a=Decimal.divide(r,MachineHandler.realityMachineMultiplier);if(a.lte(1))return Decimal.pow10(4e3);if(a.lte(10))return Decimal.pow10(4e3/27*(a.toNumber()+26));let s=Decimal.pow10(4e3*(a.log10()/3+1));return!PlayerProgress.realityUnlocked()&&s.gte("1e6000")&&(s=s.div("1e6000").pow(4).times("1e6000")),s}const e=simulatedRealityCount(!1)+1;this.projectedRM=MachineHandler.gainedRealityMachines.times(e).clampMax(MachineHandler.hardcapRM),this.newIMCap=MachineHandler.projectedIMCap,this.machinesGained=this.projectedRM.clampMax(MachineHandler.distanceToRMCap),this.realityTime=Time.thisRealityRealTime.totalMinutes,this.glyphLevel=gainedGlyphLevel().actualLevel,this.nextGlyphPercent=this.percentToNextGlyphLevelText(),this.nextMachineEP=t(this.machinesGained.plus(1)),this.ppGained=e,this.shardsGained=Effarig.shardsGained*e,this.currentShardsRate=this.shardsGained/Time.thisRealityRealTime.totalMinutes,this.bestShardRate=player.records.thisReality.bestRSmin*e,this.bestShardRateVal=player.records.thisReality.bestRSminVal*e;const i=this.formatScalingMultiplierText("Glyph Sacrifice",Teresa.runRewardMultiplier,Math.max(Teresa.runRewardMultiplier,Teresa.rewardMultiplier(Currency.antimatter.value))),n=this.formatThresholdText(Teresa.rewardMultiplier(Currency.antimatter.value)>Teresa.runRewardMultiplier,player.celestials.teresa.bestRunAM,"antimatter");this.celestialRunText=[[Teresa.isRunning,i,n]]},handleClick(){this.canReality&&requestManualReality()},formatScalingMultiplierText(t,e,i){return`${t} ${formatX(e,2,2)} ➜ ${formatX(i,2,2)}`},formatThresholdText(t,e,i){return t?"":`(${format(e,2,2)} ${i} to improve)`},hasSpecialReward(){return Teresa.isRunning&&Teresa.rewardMultiplier(Currency.antimatter.value)>Teresa.runRewardMultiplier?!0:Currency.eternityPoints.value.exponent>4e3&&(Effarig.isRunning&&!EffarigUnlock.reality.isUnlocked||Enslaved.isRunning&&!Enslaved.isCompleted)}}};var XMe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-reality-button"},[i("button",{staticClass:"c-reality-button infotooltip",class:e.classObject,on:{click:e.handleClick}},[i("div",{staticClass:"l-reality-button__contents"},[e.canReality?[i("div",{staticClass:"c-reality-button__header"},[e._v(" Make a new Reality ")]),i("div",[e._v(e._s(e.formatMachinesGained)+" "+e._s(e.formatMachineStats))]),i("div",[e._v(e._s(e.formatGlyphLevel))])]:e.hasRealityStudy?[i("div",[e._v("Get "+e._s(e.format("1e4000"))+" Eternity Points to unlock a new Reality")])]:[i("div",[e._v("Purchase the study in the Eternity tab to unlock a new Reality")])],e.canReality?i("div",{staticClass:"infotooltiptext"},[i("div",[e._v("Other resources gained:")]),i("div",[e._v(e._s(e.quantifyInt("Perk Point",e.ppGained*1e3)))]),e.shardsGained!==0?i("div",[e._v(" "+e._s(e.shardsGainedText)+" ("+e._s(e.format(e.currentShardsRate,2))+"/min) "),i("br"),e._v(" Peak: "+e._s(e.format(e.bestShardRate,2))+"/min at "+e._s(e.format(e.bestShardRateVal,2))+" RS ")]):e._e(),e._l(e.celestialRunText,function(n,r){return i("div",{key:r},[n[0]?i("span",[e._v(" "+e._s(n[1])+" "),i("br"),e._v(" "+e._s(n[2])+" ")]):e._e()])})],2):e._e()],2)])])},KMe=[],ZMe=X(zMe,XMe,KMe,!1,null,"df03cdca");const QMe=ZMe.exports,JMe={name:"HeaderCenterContainer",components:{HeaderTickspeedInfo:jMe,RealityCurrencyHeader:LMe,RealityButton:QMe,ArmageddonButton:w5},data(){return{shouldDisplay:!0,isModern:!1,hasRealityButton:!1,isDoomed:!1,antimatter:new Decimal(0),antimatterPerSec:new Decimal(0)}},methods:{update(){this.shouldDisplay=player.break||!Player.canCrunch,this.shouldDisplay&&(this.isModern=player.options.newUI,this.isDoomed=Pelle.isDoomed,this.antimatter.copyFrom(Currency.antimatter),this.hasRealityButton=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,this.hasRealityButton||this.antimatterPerSec.copyFrom(Currency.antimatter.productionPerSecond))}}};var ePe=function(){var e=this,i=e._self._c;return e.shouldDisplay?i("div",{staticClass:"c-prestige-button-container"},[i("span",[e._v("You have "),i("span",{staticClass:"c-game-header__antimatter"},[e._v(e._s(e.format(e.antimatter,2,1)))]),e._v(" antimatter.")]),e.hasRealityButton?i("div",{staticClass:"c-reality-container"},[i("RealityCurrencyHeader"),e.isDoomed?i("ArmageddonButton",{attrs:{"is-header":!0}}):i("RealityButton")],1):i("div",[e._v(" You are getting "+e._s(e.format(e.antimatterPerSec,2))+" antimatter per second. "),i("br"),i("HeaderTickspeedInfo")],1)]):e._e()},tPe=[],iPe=X(JMe,ePe,tPe,!1,null,"fcd86144");const nPe=iPe.exports,rPe={name:"EternityButton",data(){return{isVisible:!1,type:Pc.FIRST_TIME,gainedEP:new Decimal(0),currentEP:new Decimal(0),currentEPRate:new Decimal(0),peakEPRateVal:new Decimal(0),peakEPRate:new Decimal(0),currentTachyons:new Decimal(0),gainedTachyons:new Decimal(0),challengeCompletions:0,gainedCompletions:0,fullyCompleted:!1,failedRestriction:void 0,hasMoreCompletions:!1,nextGoalAt:new Decimal(0),canEternity:!1,eternityGoal:new Decimal(0),hover:!1,headerTextColored:!0,creditsClosed:!1,showEPRate:!1,isDilation:!1}},computed:{buttonClassObject(){return{"o-eternity-button":!this.isDilation,"o-eternity-button--dilation":this.isDilation,"o-eternity-button--unavailable":!this.canEternity,"o-pelle-disabled-pointer":this.creditsClosed}},rateThreshold:()=>1e40,amountStyle(){if(!this.headerTextColored||this.currentEP.lt(this.rateThreshold))return{"transition-duration":"0s"};if(this.hover)return{color:"black","transition-duration":"0.2s"};const t=getComputedStyle(document.body).getPropertyValue("--color-text").split("#")[1],e=[[255,0,0],[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4),16)],[0,255,0]],i=this.gainedEP.log10()/this.currentEP.log10(),n=a=>{if(i<.9)return e[0][a];if(i<1){const s=10*(i-.9);return Math.round(e[0][a]*(1-s)+e[1][a]*s)}if(i<1.1){const s=10*(i-1);return Math.round(e[1][a]*(1-s)+e[2][a]*s)}return e[2][a]};return{color:`rgb(${[n(0),n(1),n(2)].join(",")})`,"transition-duration":"0.2s"}},tachyonAmountStyle(){if(!this.headerTextColored||this.hover)return{"transition-duration":"0s"};let t;return this.currentTachyons.eq(0)?t=this.gainedTachyons.eq(0)?0:1/0:t=this.gainedTachyons.div(this.currentTachyons).toNumber(),{color:`rgb(${[Math.round(Math.clampMax(1/t,1)*255),Math.round(Math.clampMax(t,1)*255),Math.round(Math.clampMax(t,1/t)*255)].join(",")})`}}},methods:{update(){if(this.isVisible=Player.canEternity||EternityMilestone.autoUnlockID.isReached||InfinityDimension(8).isUnlocked,this.isDilation=player.dilation.active,!this.isVisible)return;if(this.canEternity=Player.canEternity,this.eternityGoal.copyFrom(Player.eternityGoal),this.headerTextColored=player.options.headerTextColored,!this.canEternity){this.type=Pc.CANNOT_ETERNITY;return}if(!PlayerProgress.eternityUnlocked()){this.type=Pc.FIRST_TIME;return}if(EternityChallenge.isRunning){if(!Perk.studyECBulk.isBought){this.type=Pc.CHALLENGE;return}this.type=Pc.CHALLENGE_RUPG,this.updateChallengeWithRUPG();return}const t=gainedEternityPoints();this.currentEP.copyFrom(Currency.eternityPoints),this.gainedEP.copyFrom(t);const e=!PlayerProgress.realityUnlocked()&&Currency.eternityPoints.exponent>=4e3&&!TimeStudy.reality.isBought;if(this.isDilation){this.type=e?Pc.DILATION_EXPLORE_NEW_CONTENT:Pc.DILATION,this.currentTachyons.copyFrom(Currency.tachyonParticles),this.gainedTachyons.copyFrom(getTachyonGain(!0));return}this.type=e?Pc.NORMAL_EXPLORE_NEW_CONTENT:Pc.NORMAL,this.currentEPRate.copyFrom(t.dividedBy(TimeSpan.fromMilliseconds(player.records.thisEternity.realTime).totalMinutes)),this.peakEPRateVal.copyFrom(player.records.thisEternity.bestEPminVal),this.peakEPRate.copyFrom(player.records.thisEternity.bestEPmin),this.showEPRate=this.peakEPRate.lte(this.rateThreshold),this.creditsClosed=GameEnd.creditsEverClosed},updateChallengeWithRUPG(){const t=EternityChallenge.current;if(this.fullyCompleted=t.isFullyCompleted,this.fullyCompleted)return;const e=t.gainedCompletionStatus;this.gainedCompletions=e.gainedCompletions,this.failedRestriction=e.failedRestriction,this.hasMoreCompletions=e.hasMoreCompletions,this.nextGoalAt.copyFrom(e.nextGoalAt)}}},Pc={CANNOT_ETERNITY:-1,FIRST_TIME:0,NORMAL:1,CHALLENGE:2,DILATION:3,NORMAL_EXPLORE_NEW_CONTENT:4,DILATION_EXPLORE_NEW_CONTENT:5,CHALLENGE_RUPG:6};var aPe=function(){var e=this,i=e._self._c;return e.isVisible?i("button",{staticClass:"o-prestige-button",class:e.buttonClassObject,attrs:{onclick:"eternityResetRequest()"},on:{mouseover:function(n){e.hover=!0},mouseleave:function(n){e.hover=!1}}},[e.type===-1?[e._v(" Reach "+e._s(e.format(e.eternityGoal,2,2))+" "),i("br"),e._v(" Infinity Points ")]:e.type===0?[e._v(" Other times await... I need to become Eternal ")]:e.type===1?[e._v(" Eternity for "),i("span",{style:e.amountStyle},[e._v(e._s(e.format(e.gainedEP,2)))]),e.showEPRate?i("span",[e._v(" EP")]):i("span",[e._v(" Eternity "+e._s(e.pluralize("Point",e.gainedEP)))]),i("br"),e.showEPRate?[e._v(" Current: "+e._s(e.format(e.currentEPRate,2,2))+" EP/min "),i("br"),e._v(" Peak: "+e._s(e.format(e.peakEPRate,2,2))+" EP/min "),i("br"),e._v(" at "+e._s(e.format(e.peakEPRateVal,2,2))+" EP ")]:e._e()]:e.type===2||e.type===6&&!e.canEternity?[e._v(" Other challenges await... I need to become Eternal ")]:e.type===3?[e._v(" Eternity for "),i("span",{style:e.tachyonAmountStyle},[e._v(e._s(e.format(e.gainedTachyons,2,1)))]),e._v(" "+e._s(e.pluralize("Tachyon Particle",e.gainedTachyons))+" ")]:e.type===4||e.type===5?[e.type===4?[e._v(" Eternity for "),i("span",{style:e.amountStyle},[e._v(e._s(e.format(e.gainedEP,2,2)))]),e._v(" EP ")]:[e._v(" Eternity for "),i("span",{style:e.tachyonAmountStyle},[e._v(e._s(e.format(e.gainedTachyons,2,1)))]),e._v(" TP ")],i("br"),e._v(" You should explore a bit and look at new content before clicking me! ")]:e.type===6?[e._v(" Other challenges await... "),e.fullyCompleted?[i("br"),e._v(" (This challenge is already fully completed) ")]:[i("br"),e._v(" "+e._s(e.quantifyInt("completion",e.gainedCompletions))+" on Eternity "),e.failedRestriction?[i("br"),e._v(" "+e._s(e.failedRestriction)+" ")]:e.hasMoreCompletions?[i("br"),e._v(" Next goal at "+e._s(e.format(e.nextGoalAt))+" IP ")]:e._e()]]:e._e()],2):e._e()},sPe=[],oPe=X(rPe,aPe,sPe,!1,null,"7724d591");const lPe=oPe.exports,cPe={name:"UnlockInfinityDimButton",data(){return{isVisible:!1,canUnlock:!1,hasIPUnlock:!0,amRequirement:new Decimal(0),ipRequirement:0}},computed:{text(){const t=`a new ${this.hasIPUnlock?"type of Dimension":"Infinity Dimension"}.`;if(this.canUnlock)return`Unlock ${t}`;const e=format(this.amRequirement),i=format(this.ipRequirement);return this.hasIPUnlock?`Reach ${i} Infinity Points and ${e} antimatter to unlock ${t}`:`Reach ${e} antimatter to unlock ${t}`},buttonClassObject(){return{"o-prestige-button":!0,"o-infinity-button":!0,"o-infinity-button--unavailable":!this.canUnlock}}},methods:{update(){if(this.isVisible=player.break&&!InfinityDimension(8).isUnlocked&&!Player.canEternity&&!EternityMilestone.autoUnlockID.isReached,!this.isVisible)return;const t=InfinityDimensions.next();this.canUnlock=t.canUnlock,this.hasIPUnlock=t.hasIPUnlock,this.amRequirement=t.amRequirement,this.ipRequirement=t.ipRequirement},tryUnlockNextInfinityDimension(){InfinityDimensions.unlockNext()}}};var uPe=function(){var e=this,i=e._self._c;return e.isVisible?i("button",{class:e.buttonClassObject,on:{click:e.tryUnlockNextInfinityDimension}},[e._v(" "+e._s(e.text)+" ")]):e._e()},dPe=[],hPe=X(cPe,uPe,dPe,!1,null,"c4948b20");const fPe=hPe.exports,pPe={name:"HeaderEternityContainer",components:{EternityButton:lPe,UnlockInfinityDimButton:fPe},data(){return{showContainer:!1,showEP:!1,showNextEP:!1,eternityPoints:new Decimal(0),nextEP:new Decimal(0)}},methods:{update(){this.showContainer=player.break||PlayerProgress.eternityUnlocked(),this.showEP=PlayerProgress.eternityUnlocked(),this.eternityPoints.copyFrom(Currency.eternityPoints.value.floor()),this.showNextEP=Player.canEternity&&player.records.thisReality.maxEP.lt(100)&&gainedEternityPoints().lt(100),this.showNextEP&&this.nextEP.copyFrom(requiredIPForEP(gainedEternityPoints().floor().toNumber()+1))}}};var mPe=function(){var e=this,i=e._self._c;return e.showContainer?i("div",{staticClass:"c-prestige-button-container"},[e.showEP?i("div",{staticClass:"c-eternity-points"},[e._v(" You have "),i("span",{staticClass:"c-game-header__ep-amount"},[e._v(e._s(e.format(e.eternityPoints,2)))]),e._v(" "+e._s(e.pluralize("Eternity Point",e.eternityPoints))+". "),e.showNextEP?i("span",[e._v("(Next EP at "+e._s(e.format(e.nextEP,1))+" IP)")]):e._e()]):e._e(),i("UnlockInfinityDimButton"),i("EternityButton")],1):e._e()},yPe=[],gPe=X(pPe,mPe,yPe,!1,null,"f5c5e058");const vPe=gPe.exports,bPe={name:"BigCrunchButton",data(){return{isVisible:!1,gainedIP:new Decimal(0),currentIPRate:new Decimal(0),peakIPRate:new Decimal(0),peakIPRateVal:new Decimal(0),currentIP:new Decimal(0),tesseractAffordable:!1,canCrunch:!1,infinityGoal:new Decimal(0),inAntimatterChallenge:!1,hover:!1,headerTextColored:!0,creditsClosed:!1,showIPRate:!1}},computed:{buttonClassObject(){return{"o-infinity-button--unavailable":!this.canCrunch,"o-pelle-disabled-pointer":this.creditsClosed}},rateThreshold:()=>5e11,amountStyle(){if(!this.headerTextColored||this.currentIP.lt(this.rateThreshold))return{"transition-duration":"0s"};if(this.hover)return{color:"black","transition-duration":"0.2s"};const t=getComputedStyle(document.body).getPropertyValue("--color-text").split("#")[1],e=[[255,0,0],[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4),16)],[0,255,0]],i=this.gainedIP.log10()/this.currentIP.log10(),n=a=>{if(i<.9)return e[0][a];if(i<1){const s=10*(i-.9);return Math.round(e[0][a]*(1-s)+e[1][a]*s)}if(i<1.1){const s=10*(i-1);return Math.round(e[1][a]*(1-s)+e[2][a]*s)}return e[2][a]};return{color:`rgb(${[n(0),n(1),n(2)].join(",")})`,"transition-duration":"0.2s"}}},methods:{update(){if(this.isVisible=player.break,this.tesseractAffordable=Tesseracts.canBuyTesseract,!this.isVisible)return;this.canCrunch=Player.canCrunch,this.infinityGoal.copyFrom(Player.infinityGoal),this.inAntimatterChallenge=Player.isInAntimatterChallenge,this.headerTextColored=player.options.headerTextColored,this.creditsClosed=GameEnd.creditsEverClosed;const t=gainedInfinityPoints();this.currentIP.copyFrom(Currency.infinityPoints),this.gainedIP.copyFrom(t),this.currentIPRate.copyFrom(t.dividedBy(Math.clampMin(5e-4,Time.thisInfinityRealTime.totalMinutes))),this.peakIPRate.copyFrom(player.records.thisInfinity.bestIPmin),this.peakIPRateVal.copyFrom(player.records.thisInfinity.bestIPminVal),this.showIPRate=this.peakIPRate.lte(this.rateThreshold)},switchToInfinity(){Tab.dimensions.infinity.show(!0)},crunch(){Player.canCrunch&&manualBigCrunchResetRequest()}}};var _Pe=function(){var e=this,i=e._self._c;return e.isVisible&&!e.tesseractAffordable?i("button",{staticClass:"o-prestige-button o-infinity-button",class:e.buttonClassObject,on:{click:e.crunch,mouseover:function(n){e.hover=!0},mouseleave:function(n){e.hover=!1}}},[e.canCrunch?e.inAntimatterChallenge?[e._v(" Big Crunch to "),i("br"),e._v(" complete the challenge ")]:[e.showIPRate?e._e():i("div"),i("b",[e._v(" Big Crunch for "),i("span",{style:e.amountStyle},[e._v(e._s(e.format(e.gainedIP,2)))]),e.showIPRate?i("span",[e._v(" IP")]):i("span",[e._v(" Infinity "+e._s(e.pluralize("Point",e.gainedIP)))])]),e.showIPRate?[i("br"),e._v(" Current: "+e._s(e.format(e.currentIPRate,2))+" IP/min "),i("br"),e._v(" Peak: "+e._s(e.format(e.peakIPRate,2))+" IP/min "),i("br"),e._v(" at "+e._s(e.format(e.peakIPRateVal,2))+" IP ")]:i("div")]:[e._v(" Reach "+e._s(e.format(e.infinityGoal,2,2))+" "),i("br"),e._v(" antimatter ")]],2):e.tesseractAffordable?i("button",{staticClass:"o-prestige-button c-game-header__tesseract-available",class:{"o-pelle-disabled-pointer":e.creditsClosed},on:{click:e.switchToInfinity}},[i("b",[e._v(" You have enough Infinity Points to buy a Tesseract ")])]):e._e()},wPe=[],EPe=X(bPe,_Pe,wPe,!1,null,"60017359");const TPe=EPe.exports,CPe={name:"HeaderInfinityContainer",components:{BigCrunchButton:TPe},data(){return{showContainer:!1,infinityPoints:new Decimal(0),isTesseractUnlocked:!1,tesseractCost:new Decimal(0),tesseractText:""}},methods:{update(){this.showContainer=player.break||PlayerProgress.infinityUnlocked(),this.infinityPoints.copyFrom(Currency.infinityPoints.value.floor()),this.isTesseractUnlocked=Enslaved.isCompleted,this.tesseractCost=Tesseracts.nextCost,this.tesseractText=this.tesseractProgress()},tesseractProgress(){const t=this.infinityPoints.add(1).log10()/this.tesseractCost.log10();return t>1?`<b>(${formatPercents(1)})</b>`:`(${formatPercents(t,2,2)})`}}};var kPe=function(){var e=this,i=e._self._c;return e.showContainer?i("div",{staticClass:"c-prestige-button-container"},[i("div",{staticClass:"c-infinity-points"},[e._v(" You have "),i("span",{staticClass:"c-game-header__ip-amount"},[e._v(e._s(e.format(e.infinityPoints,2)))]),e._v(" "+e._s(e.pluralize("Infinity Point",e.infinityPoints))+". "),e.isTesseractUnlocked?i("span",{domProps:{innerHTML:e._s(e.tesseractText)}}):e._e()]),i("BigCrunchButton")],1):e._e()},SPe=[],APe=X(CPe,kPe,SPe,!1,null,"b2a7165e");const xPe=APe.exports,DPe={name:"HeaderPrestigeGroup",components:{HeaderCenterContainer:nPe,HeaderEternityContainer:vPe,HeaderInfinityContainer:xPe}};var IPe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-prestige-info-blocks"},[i("HeaderEternityContainer",{staticClass:"l-game-header__eternity"}),i("HeaderCenterContainer",{staticClass:"l-game-header__center"}),i("HeaderInfinityContainer",{staticClass:"l-game-header__infinity"})],1)},RPe=[],MPe=X(DPe,IPe,RPe,!1,null,"4c47ed9f");const Cx=MPe.exports,PPe={name:"GameHeader",components:{HeaderChallengeDisplay:Ex,HeaderChallengeEffects:Tx,HeaderBlackHole:wx,HeaderPrestigeGroup:Cx,GameSpeedDisplay:EE},data(){return{hasReality:!1}},methods:{update(){this.hasReality=PlayerProgress.realityUnlocked()}}};var OPe=function(){var e=this,i=e._self._c;return i("div",[i("HeaderChallengeDisplay"),i("HeaderChallengeEffects"),i("HeaderPrestigeGroup"),e.hasReality?i("GameSpeedDisplay"):e._e(),e.hasReality?i("br"):e._e(),i("HeaderBlackHole")],1)},NPe=[],GPe=X(PPe,OPe,NPe,!1,null,"1eb3fe17");const UPe=GPe.exports,LPe={name:"NewsTicker",data(){return{enableAnimation:!1}},computed:{lineClass(){return this.enableAnimation?void 0:"c-disable-ticker-animation"}},beforeCreate(){this.recentTickers=[]},mounted(){document.addEventListener("visibilitychange",()=>this.restart.bind(this)),this.restart()},beforeDestroy(){this.clearTimeouts()},methods:{update(){var t;(t=this.currentNews)!=null&&t.dynamic&&(this.$refs.line.innerHTML=this.currentNews.text),this.enableAnimation=player.options.news.includeAnimated},restart(){if(!GameUI.initialized){setTimeout(this.restart.bind(this),100);return}this.clearTimeouts(),!document.hidden&&this.prepareNextMessage()},clearTimeouts(){clearTimeout(this.delayTimeout),clearTimeout(this.scrollTimeout)},prepareNextMessage(){var r,a;const t=this.$refs.line;if(t===void 0)return;const e=s=>(s.unlocked??!0)&&!this.recentTickers.includes(s.id);if(nextNewsMessageId&&GameDatabase.news.find(s=>s.id===nextNewsMessageId))this.currentNews=GameDatabase.news.find(s=>s.id===nextNewsMessageId),nextNewsMessageId=void 0;else if(this.currentNews&&this.currentNews.id==="a236")this.currentNews=GameDatabase.news.filter(s=>s.isAdvertising&&e(s)).randomElement();else{const s=Math.random()<player.options.news.AIChance;this.currentNews=GameDatabase.news.filter(o=>o.id.includes("ai")===s).filter(o=>e(o)).randomElement()}for(this.recentTickers.push(this.currentNews.id);this.recentTickers.length>player.options.news.repeatBuffer;)this.recentTickers.shift();this.currentNews.reset&&this.currentNews.reset();let i=this.currentNews.text;t.innerHTML=i,t.style["transition-duration"]="0ms",((r=this.currentNews)==null?void 0:r.id)==="a244"||((a=this.currentNews)==null?void 0:a.id)==="ai63"?t.style.transform="translateX(-100%)":t.style.transform="translateX(0)";const n=1e3;this.delayTimeout=setTimeout(this.scrollMessage.bind(this),n)},scrollMessage(){const t=this.$refs.line,e=player.options.news.speed*100,i=(this.$refs.ticker.clientWidth+t.clientWidth)/e;t.style["transition-duration"]=`${i}s`,this.currentNews&&this.currentNews.id==="a244"?t.style.transform="translateX(0)":t.style.transform="translateX(-100%)",NewsHandler.addSeenNews(this.currentNews.id),NewsHandler.uniqueTickersSeen>=50&&Achievement(22).unlock(),this.scrollTimeout=setTimeout(this.prepareNextMessage.bind(this),i*1e3)},onLineClick(){if(this.currentNews.onClick===void 0)return;SecretAchievement(24).unlock();const t=this.currentNews.onClick();t!==void 0&&(this.$refs.line.innerHTML=t)}}};var BPe=function(){var e=this,i=e._self._c;return i("div",{ref:"ticker",staticClass:"c-news-ticker"},[i("span",{ref:"line",staticClass:"c-news-line c-news-ticker__line",class:e.lineClass,on:{click:e.onLineClick}})])},$Pe=[],FPe=X(LPe,BPe,$Pe,!1,null,null);const kx=FPe.exports,HPe={name:"ClassicSubtabButton",props:{subtab:{type:Object,required:!0},parentName:{type:String,required:!0}},data(){return{isAvailable:!1,hasNotification:!1,isCurrentSubtab:!1,tabName:""}},computed:{classObject(){return{"o-tab-btn":!0,"o-tab-btn--secondary":!0,"o-subtab-btn--active":this.isCurrentSubtab,"o-tab-btn--infinity":this.parentName==="Infinity","o-tab-btn--eternity":this.parentName==="Eternity","o-tab-btn--reality":this.parentName==="Reality","o-tab-btn--celestial":this.parentName==="Celestials"}}},methods:{update(){this.isAvailable=this.subtab.isAvailable,this.hasNotification=this.subtab.hasNotification,this.isCurrentSubtab=this.subtab.isOpen&&Theme.currentName()!=="S9",this.tabName=Pelle.transitionText(this.subtab.name,this.subtab.name,Math.max(Math.min(GameEnd.endState-this.subtab.id%4/10,1),0))}}};var VPe=function(){var e=this,i=e._self._c;return e.isAvailable?i("button",{class:e.classObject,on:{click:function(n){return e.subtab.show(!0)}}},[e._v(" "+e._s(e.tabName)+" "),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]):e._e()},YPe=[],qPe=X(HPe,VPe,YPe,!1,null,"079cbdf5");const WPe=qPe.exports,jPe={name:"ClassicSubtabBar",components:{ClassicSubtabButton:WPe},data(){return{isVisible:!1}},computed:{tab:()=>Tabs.current,subtabs(){return this.tab.subtabs}},methods:{update(){this.isVisible=this.subtabs.countWhere(t=>t.isAvailable)>1}}};var zPe=function(){var e=this,i=e._self._c;return e.isVisible?i("div",{staticClass:"c-subtab-button-container"},e._l(e.subtabs,function(n,r){return i("ClassicSubtabButton",{key:r,attrs:{subtab:n,"parent-name":e.tab.name}})}),1):e._e()},XPe=[],KPe=X(jPe,zPe,XPe,!1,null,"f2987bee");const ZPe=KPe.exports,QPe={name:"ClassicTabButton",props:{tab:{type:Object,required:!0},tabPosition:{type:Number,required:!0}},data(){return{isAvailable:!1,hasNotification:!1,tabName:""}},computed:{isCurrentTab(){return this.tab.isOpen&&Theme.currentName()!=="S9"}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.hasNotification=this.tab.hasNotification,this.tabPosition<Pelle.endTabNames.length?this.tabName=Pelle.transitionText(this.tab.name,Pelle.endTabNames[this.tabPosition],Math.max(Math.min(GameEnd.endState-this.tab.id%4/10,1),0)):this.tabName=this.tab.name}}};var JPe=function(){var e=this,i=e._self._c;return e.isAvailable?i("button",{staticClass:"o-tab-btn",class:[e.tab.config.UIClass,{"o-tab-btn--active":e.isCurrentTab}],on:{click:function(n){return e.tab.show(!0)}}},[e._v(" "+e._s(e.tabName)+" "),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]):e._e()},eOe=[],tOe=X(QPe,JPe,eOe,!1,null,"bbd8f289");const iOe=tOe.exports,nOe={name:"ClassicTabBar",components:{ClassicTabButton:iOe},computed:{tabs:()=>Tabs.oldUI}};var rOe=function(){var e=this,i=e._self._c;return i("div",e._l(e.tabs,function(n,r){return i("ClassicTabButton",{key:r,attrs:{"tab-position":r,tab:n}})}),1)},aOe=[],sOe=X(nOe,rOe,aOe,!1,null,"735a4212");const oOe=sOe.exports,lOe={name:"EternityPointsHeader",data(){return{eternityPoints:new Decimal}},methods:{update(){this.eternityPoints.copyFrom(Currency.eternityPoints.value.floor())}}};var cOe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-eternity-tab__header"},[e._v(" You have "),i("span",{staticClass:"c-eternity-tab__eternity-points"},[e._v(e._s(e.format(e.eternityPoints,2)))]),e._v(" "+e._s(e.pluralize("Eternity Point",e.eternityPoints))+". ")])},uOe=[],dOe=X(lOe,cOe,uOe,!1,null,"54150313");const hOe=dOe.exports,fOe={name:"InfinityPointsHeader",data(){return{infinityPoints:new Decimal,isVisible:!1}},methods:{update(){this.infinityPoints.copyFrom(Currency.infinityPoints),this.isVisible=PlayerProgress.infinityUnlocked()}}};var pOe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"c-infinity-tab__header"},[e._v(" You have "),i("span",{staticClass:"c-infinity-tab__infinity-points"},[e._v(e._s(e.format(e.infinityPoints,2)))]),e._v(" "+e._s(e.pluralize("Infinity Point",e.infinityPoints))+". ")])},mOe=[],yOe=X(fOe,pOe,mOe,!1,null,"a7ec1a87");const gOe=yOe.exports,vOe={name:"ClassicUi",components:{GameHeader:UPe,ClassicSubtabBar:ZPe,ClassicTabBar:oOe,NewsTicker:kx,InfinityPointsHeader:gOe,EternityPointsHeader:hOe,BigCrunchButton:_x},data(){return{bigCrunch:!1,smallCrunch:!1,newGameKey:""}},computed:{tab:()=>Tabs.current,news(){return this.$viewModel.news}},methods:{update(){const t=!player.break&&Player.canCrunch;this.bigCrunch=t&&Time.bestInfinityRealTime.totalMinutes>1,this.newGameKey=Pelle.isDoomed}}};var bOe=function(){var e=this,i=e._self._c;return i("div",{key:e.newGameKey,staticClass:"container c-old-ui l-old-ui",attrs:{id:"container"}},[i("link",{attrs:{rel:"stylesheet",type:"text/css",href:"stylesheets/old-ui.css"}}),i("BigCrunchButton"),e.bigCrunch?e._e():[e.news?i("NewsTicker",{staticClass:"l-old-ui__news-bar"}):e._e(),i("GameHeader",{staticClass:"l-old-ui__header"}),i("ClassicTabBar"),e.tab.config.before?i(e.tab.config.before,{tag:"component"}):e._e(),i("ClassicSubtabBar"),i("div",{staticClass:"l-old-ui__page"},[e._t("default")],2)]],2)},_Oe=[],wOe=X(vOe,bOe,_Oe,!1,null,"82ad2e8f");const EOe=wOe.exports,TOe={name:"CelestialQuoteBackground",props:{celestialSymbols:{type:Array,required:!0},celestials:{type:Array,required:!0},primary:{type:Boolean,required:!0}},computed:{modalClass(){return{"l-modal-celestial-quote":!0}}},methods:{styleObject(t,e,i){const n=`var(--color-${t[0]}--base)`;return t[0]==="laitela"?{color:`var(--color-${t[0]}--accent)`,background:i?void 0:n,opacity:e*t[1]}:{color:n,opacity:e*t[1]}}}};var COe=function(){var e=this,i=e._self._c;return i("div",{class:e.modalClass},[e._l(e.celestials,function(n,r){return i("span",{key:r,staticClass:"c-modal-celestial-quote c-modal-celestial-quote__symbol",style:e.styleObject(n,.2,!0),domProps:{innerHTML:e._s(e.celestialSymbols[r])}})}),e._l(e.celestials,function(n,r){return i("span",{key:r+10,staticClass:"c-modal-celestial-quote c-modal-celestial-quote__shadow",style:e.styleObject(n,1,!1)})}),e._l(e.celestials,function(n,r){return i("span",{key:r+20,staticClass:"c-modal-celestial-quote c-modal-celestial-quote__text",style:e.styleObject(n,1,!0)},[e._t("default")],2)})],2)},kOe=[],SOe=X(TOe,COe,kOe,!1,null,"57cba38e");const AOe=SOe.exports,xOe={name:"CelestialQuoteLine",components:{CelestialQuoteBackground:AOe},props:{quote:{type:Object,required:!0},currentLine:{type:Number,required:!0},primary:{type:Boolean,required:!1,default:!1},leftVisible:{type:Boolean,required:!1,default:!1},rightVisible:{type:Boolean,required:!1,default:!1},closeVisible:{type:Boolean,required:!1,default:!1}},data(){return{message:"",celestialSymbols:[],celestials:[],celestialName:""}},computed:{line(){return this.quote.line(this.currentLine)},leftClass(){return{"c-modal-celestial-quote__arrow":!0,"c-modal-celestial-quote__arrow-left":!0,"c-modal-celestial-quote__arrow-invisible":!this.leftVisible,fas:!0,"fa-chevron-circle-left":!0}},rightClass(){return{"c-modal-celestial-quote__arrow":!0,"c-modal-celestial-quote__arrow-right":!0,"c-modal-celestial-quote__arrow-invisible":!this.rightVisible,fas:!0,"fa-chevron-circle-right":!0}}},methods:{update(){const t=this.line;this.celestialSymbols=t.celestialSymbols,this.message=t.line,this.celestials=t.celestials,this.celestialName=t.celestialName}}};var DOe=function(){var e=this,i=e._self._c;return i("CelestialQuoteBackground",{attrs:{"celestial-symbols":e.celestialSymbols,celestials:e.celestials,primary:e.primary}},[e.line.showCelestialName?i("span",{staticClass:"c-modal-celestial-name"},[e._v(" "+e._s(e.celestialName)+" ")]):e._e(),i("i",{class:e.leftClass,on:{click:function(n){return e.$emit("progress-in","left")}}}),i("span",{staticClass:"l-modal-celestial-quote__text"},[e._v(" "+e._s(e.message)+" ")]),i("i",{class:e.rightClass,on:{click:function(n){return e.$emit("progress-in","right")}}}),e.closeVisible?i("i",{staticClass:"c-modal-celestial-quote__end fas fa-check-circle",on:{click:e.emitClose}}):e._e()])},IOe=[],ROe=X(xOe,DOe,IOe,!1,null,"63b07f7f");const E5=ROe.exports,MOe={name:"CelestialQuoteHistoryDisplay",components:{CelestialQuoteLine:E5},props:{quotes:{type:Array,required:!0}},data(){return{focusedQuoteId:0,unlockedQuotes:[],lastProgress:Date.now()}},computed:{name(){return this.unlockedQuotes[0].quote._celestial},focusedQuote(){return this.unlockedQuotes[this.focusedQuoteId]},currentQuoteLine(){return this.focusedQuote.currentLine},commonButtonClass(){const t=this.name==="laitela"&&!Theme.current().isDark();return{"fas c-modal-celestial-quote-history__arrow":!0,"o-dark-button":t,"o-light-button":!t}},upClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-up fa-chevron-circle-up":!0,"c-modal-celestial-quote-history__arrow--disabled":this.focusedQuoteId<=0}},downClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-down fa-chevron-circle-down":!0,"c-modal-celestial-quote-history__arrow--disabled":this.focusedQuoteId>=this.unlockedQuotes.length-1}},leftClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-left fa-chevron-circle-left":!0,"c-modal-celestial-quote-history__arrow--disabled":this.currentQuoteLine<=0}},rightClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-right fa-chevron-circle-right":!0,"c-modal-celestial-quote-history__arrow--disabled":this.currentQuoteLine>=this.focusedQuote.quote.totalLines-1}}},created(){this.unlockedQuotes=this.quotes.filter(t=>t.isUnlocked).map(t=>({quote:t,currentLine:0})),this.$nextTick(()=>{this.on$(GAME_EVENT.ARROW_KEY_PRESSED,t=>{switch(t[0]){case"up":this.progressUp();break;case"down":this.progressDown();break;case"left":this.progressLeft();break;case"right":this.progressRight();break}})})},methods:{isFocused(t,e){return this.focusedQuoteId===t&&this.currentQuoteLine===e},quoteStyle(t,e){const i=t===this.focusedQuoteId?1-(e!==this.currentQuoteLine)*.3:1-Math.abs(t-this.focusedQuoteId)/8,n=t===this.focusedQuoteId&&e!==this.currentQuoteLine?`translateX(${(e-this.currentQuoteLine)*110+Math.sign(e-this.currentQuoteLine)*20}%)`:"";return{top:`calc(50vh + ${POe(t-this.focusedQuoteId)*16}rem)`,transform:`translate(-50%, -50%) scale(${Math.max(i,0)}) ${n}`,opacity:+(e===this.unlockedQuotes[t].currentLine||t===this.focusedQuoteId),visibility:e===this.unlockedQuotes[t].currentLine||t===this.focusedQuoteId?"visible":"hidden","z-index":-Math.abs(t-this.focusedQuoteId)}},progressUp(){Date.now()-this.lastProgress<150||(this.focusedQuoteId=Math.max(0,this.focusedQuoteId-1),this.lastProgress=Date.now())},progressDown(){Date.now()-this.lastProgress<150||(this.focusedQuoteId=Math.min(this.unlockedQuotes.length-1,this.focusedQuoteId+1),this.lastProgress=Date.now())},progressLeft(){Date.now()-this.lastProgress<150||(this.focusedQuote.currentLine=Math.max(0,this.focusedQuote.currentLine-1),this.lastProgress=Date.now())},progressRight(){Date.now()-this.lastProgress<150||(this.focusedQuote.currentLine=Math.min(this.focusedQuote.quote.totalLines-1,this.focusedQuote.currentLine+1),this.lastProgress=Date.now())},close(){Quote.clearHistory()}}};function POe(t){return Math.sign(t)*Math.pow(Math.abs(t),.4)}var OOe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-modal-overlay c-modal-overlay"},[i("i",{staticClass:"c-modal-celestial-quote-history__close fas fa-circle-xmark o-light-button",on:{click:e.close}}),i("div",{staticClass:"c-quote-history-modal__clickable-background",on:{click:e.close}}),e._l(e.unlockedQuotes,function(n,r){return i("div",{key:r,on:{click:function(a){e.focusedQuoteId=r}}},e._l(n.quote.config.lines,function(a,s){return i("div",{key:s,on:{click:function(o){n.currentLine=s}}},[i("CelestialQuoteLine",{staticClass:"c-quote-overlay",class:{"c-quote-overlay--background":!e.isFocused(r,s)},style:e.quoteStyle(r,s),attrs:{quote:n.quote,"current-line":s,primary:""}})],1)}),0)}),i("div",{staticClass:"c-quote-history-modal__controls"},[i("i",{class:e.upClass,on:{click:e.progressUp}}),i("i",{class:e.downClass,on:{click:e.progressDown}}),i("i",{class:e.leftClass,on:{click:e.progressLeft}}),i("i",{class:e.rightClass,on:{click:e.progressRight}})])],2)},NOe=[],GOe=X(MOe,OOe,NOe,!1,null,"dc0c322f");const T5=GOe.exports,UOe={name:"CelestialQuoteBasicInteractable",components:{CelestialQuoteLine:E5},props:{quote:{type:Object,required:!0},isFocused:{type:Boolean,required:!1,default:!0},primary:{type:Boolean,required:!1,default:!1},leftVisible:{type:Boolean,required:!1,default:!0},rightVisible:{type:Boolean,required:!1,default:!0},closeVisible:{type:Boolean,required:!1,default:!0}},data(){return{index:0}},computed:{totalLines(){return this.quote.totalLines},currentLine:{get(){return this.index},set(t){this.index=Math.clamp(t,0,this.totalLines-1)}},isQuoteStart(){return this.currentLine===0},isQuoteEnd(){return this.currentLine===this.totalLines-1}},created(){this.$nextTick(()=>{this.on$(GAME_EVENT.ARROW_KEY_PRESSED,t=>this.progressIn(t[0])),this.on$(GAME_EVENT.ENTER_PRESSED,()=>{this.isQuoteEnd&&this.close()})})},methods:{progressIn(t){if(!this.isFocused)return!1;switch(t){case"left":return this.currentLine--;case"right":return this.currentLine++;default:return!1}},close(){this.isFocused&&(this.index=0,Quote.advanceQueue())}}};var LOe=function(){var e=this,i=e._self._c;return i("CelestialQuoteLine",{attrs:{quote:e.quote,"current-line":e.currentLine,"left-visible":!e.isQuoteStart&&e.leftVisible,"right-visible":!e.isQuoteEnd&&e.rightVisible,"close-visible":e.isQuoteEnd&&e.closeVisible,primary:""},on:{close:e.close,"progress-in":e.progressIn}})},BOe=[],$Oe=X(UOe,LOe,BOe,!1,null,null);const FOe=$Oe.exports,HOe={name:"CelestialQuoteModal",components:{CelestialQuoteLineBasicInteractable:FOe},props:{quote:{type:Object,required:!0}}};var VOe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-modal-overlay c-modal-overlay"},[i("CelestialQuoteLineBasicInteractable",{staticClass:"c-quote-overlay",attrs:{quote:e.quote}})],1)},YOe=[],qOe=X(HOe,VOe,YOe,!1,null,"6e6798b4");const C5=qOe.exports,WOe={name:"CreditsContainer",components:{CreditsDisplay:d3},data(){return{rolling:!1,scroll:0,audio:null,isMuted:!1}},computed:{creditStyles(){return{bottom:`${this.scroll}px`,display:this.rolling?"block":"none"}},muteStyle(){return{top:`calc(${this.scroll+20}px - 100vh)`,display:this.rolling?"block":"none"}},muteIconClass(){return this.isMuted?"fa-volume-xmark":"fa-volume-high"},celestialDisplays(){return{teresa:Teresa.symbol,effarig:Effarig.symbol,enslaved:Enslaved.symbol,v:V.symbol,ra:Ra.symbol,laitela:Laitela.symbol,pelle:Pelle.symbol}}},watch:{rolling(t,e){GameEnd.creditsEverClosed||!e&&t&&this.audio===null&&(this.audio=new Audio("audio/credits.mp3"),this.audio.play())}},created(){const t=player.options.updateRate;player.options.updateRate=33,GameOptions.refreshUpdateRate(),player.options.updateRate=t},methods:{update(){var e;const t=(((e=this.$refs.creditsDisplay)==null?void 0:e.offsetHeight)||0)+innerHeight;this.rolling=GameEnd.endState>END_STATE_MARKERS.CREDITS_START,this.scroll=(Math.clampMax(GameEnd.endState,END_STATE_MARKERS.CREDITS_END)-END_STATE_MARKERS.CREDITS_START)/(END_STATE_MARKERS.SONG_END-END_STATE_MARKERS.CREDITS_START)*t,this.audio&&(this.audio.volume=this.isMuted?0:Math.clamp(GameEnd.endState-END_STATE_MARKERS.CREDITS_START,0,.3))}}};var jOe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-credits-container",style:e.creditStyles},[i("i",{staticClass:"c-mute-button fa-solid",class:e.muteIconClass,style:e.muteStyle,on:{click:function(n){e.isMuted=!e.isMuted}}}),e._l(e.celestialDisplays,function(n,r){return i("div",{key:r+"-end-credit-symbol-disp",staticClass:"c-credits-cel-symbol",class:`c-${r}-credits`,domProps:{innerHTML:e._s(n)}})}),i("span",{ref:"creditsDisplay"},[i("CreditsDisplay")],1)],2)},zOe=[],XOe=X(WOe,jOe,zOe,!1,null,"e8b40fc1");const k5=XOe.exports,KOe={name:"FadeAway",data(){return{opacity:0}},methods:{update(){this.opacity=(GameEnd.endState-END_STATE_MARKERS.FADE_AWAY)/2}}};var ZOe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-background-overlay",style:{opacity:e.opacity,pointerEvents:e.opacity>1?"auto":"none"}})},QOe=[],JOe=X(KOe,ZOe,QOe,!1,null,"b4d0f99c");const S5=JOe.exports,e2e={name:"HowToPlay",data(){return{hasTutorial:!1,isModern:!1}},computed:{h2pClassObject(){return{"o-tab-btn l-help-me":!0}},topMargin(){return{"margin-top":this.isModern?"4.5rem":"1rem"}}},methods:{update(){this.hasTutorial=Tutorial.emphasizeH2P(),this.isModern=player.options.newUI},showH2P(){Modal.h2p.show()},showInfo(){Modal.information.show()}}};var t2e=function(){var e=this,i=e._self._c;return i("div",[i("div",{class:e.h2pClassObject,style:e.topMargin,on:{click:e.showH2P}},[e._v(" ? "),e.hasTutorial?i("div",{staticClass:"h2p-tooltip"},[e._v(" Click for info ")]):e._e()]),e.hasTutorial?i("div",{staticClass:"h2p-tutorial--glow",style:e.topMargin}):e._e(),i("div",{staticClass:"o-tab-btn l-information l-help-me",on:{click:e.showInfo}},[e._v(" i ")])])},i2e=[],n2e=X(e2e,t2e,i2e,!1,null,"3e91f7ec");const r2e=n2e.exports,a2e={name:"OfflineSpeedupButton",components:{PrimaryButton:mt},props:{button:{type:Object,required:!0},progress:{type:Object,required:!0}},computed:{canBeClicked(){return this.button.condition(this.progress.current,this.progress.max)},buttonClass(){return{"o-primary-btn--width-medium":!0,"o-primary-btn--disabled":!this.canBeClicked}}},methods:{buttonClicked(){this.canBeClicked&&this.button.click()}}};var s2e=function(){var e=this,i=e._self._c;return i("PrimaryButton",{class:e.buttonClass,on:{click:e.buttonClicked}},[e._v(" "+e._s(e.button.text)+" ")])},o2e=[],l2e=X(a2e,s2e,o2e,!1,null,null);const c2e=l2e.exports,u2e={name:"ModalProgressBar",components:{OfflineSpeedupButton:c2e},computed:{progress(){return this.$viewModel.modal.progressBar},foregroundStyle(){return{width:`${this.progress.current/this.progress.max*100}%`}},remainingTime(){const e=(Date.now()-this.progress.startTime)*(this.progress.max-this.progress.current)/this.progress.current;return TimeSpan.fromMilliseconds(e).toStringShort()},buttons(){return this.progress.buttons||[]}}};var d2e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-modal-overlay c-modal-overlay progress-bar-modal"},[i("div",{staticClass:"c-modal"},[i("div",{staticClass:"modal-progress-bar"},[i("div",{staticClass:"modal-progress-bar__label"},[e._v(" "+e._s(e.progress.label)+" ")]),i("div",[e._v(" "+e._s(e.progress.info())+" ")]),i("div",{staticClass:"modal-progress-bar__margin"},[i("div",[e._v(" "+e._s(e.progress.progressName)+": "+e._s(e.formatInt(e.progress.current))+"/"+e._s(e.formatInt(e.progress.max))+" ")]),i("div",[e._v(" Remaining: "+e._s(e.remainingTime)+" ")]),i("div",{staticClass:"modal-progress-bar__hbox"},[i("div",{staticClass:"modal-progress-bar__bg"},[i("div",{staticClass:"modal-progress-bar__fg",style:e.foregroundStyle})])])]),i("div",{staticClass:"modal-progress-bar__buttons"},e._l(e.buttons,function(n,r){return i("OfflineSpeedupButton",{key:r,attrs:{button:n,progress:e.progress}})}),1)])])])},h2e=[],f2e=X(u2e,d2e,h2e,!1,null,"deee5e6e");const A5=f2e.exports,p2e={name:"ModernSidebarCurrency",data(){return{sidebarID:0,resourceName:"",resourceValue:new Decimal(0)}},computed:{resourceDB:()=>GameDatabase.sidebarResources,numDBEntries(){return this.resourceDB.length},resource(){return this.sidebarID===0?this.resourceDB.filter(t=>t.isAvailable()).sort((t,e)=>e.id-t.id)[0]:this.resourceDB.find(t=>t.id===this.sidebarID)},displayValue(){return this.resource.formatValue(this.resourceValue).replace(" + ","+")}},methods:{update(){this.sidebarID=player.options.sidebarResourceID,this.resourceName=this.resource.resourceName??this.resource.optionName,this.resourceValue.copyFrom(this.resource.value())},cycleResource(t){const e=this.sidebarID;for(this.sidebarID=(this.sidebarID+this.numDBEntries+t)%this.numDBEntries;this.sidebarID!==e&&!this.resource.isAvailable();)this.sidebarID=(this.sidebarID+this.numDBEntries+t)%this.numDBEntries;player.options.sidebarResourceID=this.sidebarID},containerClass(){return{"c-sidebar-resource":!0,"c-sidebar-resource-default":this.sidebarID===0}},styleObject(){const t=this.displayValue.length;return{transform:`scale(${t<10?1:10/t})`}}}};var m2e=function(){var e=this,i=e._self._c;return i("div",{class:e.containerClass(),on:{click:[function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.cycleResource(1)},function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.cycleResource(-1)}]}},[i("h2",{class:e.resource.formatClass,style:e.styleObject()},[e._v(" "+e._s(e.displayValue)+" ")]),i("div",{staticClass:"c-sidebar-resource__information"},[i("span",{staticClass:"c-sidebar-resource__name"},[e._v(e._s(e.resourceName))])])])},y2e=[],g2e=X(p2e,m2e,y2e,!1,null,"c3ad5a1a");const v2e=g2e.exports,b2e={name:"ModernTabButton",props:{tab:{type:Object,required:!0},tabPosition:{type:Number,required:!0}},data(){return{isAvailable:!1,isHidden:!1,subtabVisibilities:[],showSubtabs:!1,hasNotification:!1,tabName:""}},computed:{classObject(){return{"o-tab-btn":!0,"o-tab-btn--modern-tabs":!0,"o-tab-btn--subtabs":this.showSubtabs,"o-tab-btn--active":this.isCurrentTab&&Theme.currentName()!=="S9"}},isCurrentTab(){return this.tab.isOpen}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.isHidden=this.tab.isHidden,this.subtabVisibilities=this.tab.subtabs.map(t=>t.isAvailable),this.showSubtabs=this.isAvailable&&this.subtabVisibilities.length>=1,this.hasNotification=this.tab.hasNotification,this.tabPosition<Pelle.endTabNames.length?this.tabName=Pelle.transitionText(this.tab.name,Pelle.endTabNames[this.tabPosition],Math.clamp(GameEnd.endState-this.tab.id%4/10,0,1)):this.tabName=this.tab.name},isCurrentSubtab(t){return player.options.lastOpenSubtab[this.tab.id]===t&&Theme.currentName()!=="S9"}}};var _2e=function(){var e=this,i=e._self._c;return!e.isHidden&&e.isAvailable?i("div",{class:[e.classObject,e.tab.config.UIClass]},[i("div",{staticClass:"l-tab-btn-inner",on:{click:function(n){return e.tab.show(!0)}}},[e._v(" "+e._s(e.tabName)+" "),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),e.showSubtabs?i("div",{staticClass:"subtabs"},[e._l(e.tab.subtabs,function(n,r){return[e.subtabVisibilities[r]?i("div",{key:r,staticClass:"o-tab-btn o-tab-btn--subtab",class:[e.tab.config.UIClass,{"o-subtab-btn--active":e.isCurrentSubtab(n.id)}],on:{click:function(a){return n.show(!0)}}},[i("span",{domProps:{innerHTML:e._s(n.symbol)}}),n.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e(),i("div",{staticClass:"o-subtab__tooltip"},[e._v(" "+e._s(n.name)+" ")])]):e._e()]})],2):e._e()]):e._e()},w2e=[],E2e=X(b2e,_2e,w2e,!1,null,"45069237");const T2e=E2e.exports,C2e={name:"ModernSidebar",components:{ModernSidebarCurrency:v2e,ModernTabButton:T2e},data(){return{isHidden:!1,tabVisibilities:[]}},computed:{tabs:()=>Tabs.newUI},methods:{update(){this.isHidden=AutomatorData.isEditorFullscreen,this.tabVisibilities=Tabs.newUI.map(t=>t.isAvailable)}}};var k2e=function(){var e=this,i=e._self._c;return e.isHidden?e._e():i("div",{staticClass:"c-modern-sidebar"},[i("ModernSidebarCurrency"),e._l(e.tabs,function(n,r){return[e.tabVisibilities[r]?i("ModernTabButton",{key:n.name,attrs:{tab:n,"tab-position":r}}):e._e()]})],2)},S2e=[],A2e=X(C2e,k2e,S2e,!1,null,"2319ce9c");const x2e=A2e.exports,D2e={name:"NewGame",data(){return{opacity:0,visible:!1,hasMoreCosmetics:!1,selectedSetName:""}},computed:{style(){return{opacity:this.opacity,visibility:this.visible?"visible":"hidden"}}},methods:{update(){var t;this.visible=GameEnd.endState>END_STATE_MARKERS.SHOW_NEW_GAME&&!GameEnd.removeAdditionalEnd,this.opacity=(GameEnd.endState-END_STATE_MARKERS.SHOW_NEW_GAME)*2,this.hasMoreCosmetics=GlyphAppearanceHandler.lockedSets.length>0,this.selectedSetName=((t=GlyphAppearanceHandler.chosenFromModal)==null?void 0:t.name)??"None (will choose randomly)"},startNewGame(){NG.startNewGame()},openSelectionModal(){Modal.cosmeticSetChoice.show()}}};var I2e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-new-game-container",style:e.style},[i("h2",[e._v(" Reset the entire game, but keep Automator Scripts, Study Presets, Secret Themes, Secret Achievements, Options, and Companion Glyph. ")]),i("h3",[e._v("You can use the button in the top-right to view the game as it is right now.")]),i("div",{staticClass:"c-new-game-button-container"},[i("button",{staticClass:"c-new-game-button",on:{click:e.startNewGame}},[e._v(" Start over? ")])]),i("br"),e.hasMoreCosmetics?i("h3",[e._v(" For completing the game, you also unlock a new cosmetic set of your choice for Glyphs. These are freely modifiable once you reach Reality again, but are purely visual and offer no gameplay bonuses. "),i("br"),i("button",{staticClass:"c-new-game-button",on:{click:e.openSelectionModal}},[e._v(" Choose Cosmetic Set ")]),i("br"),i("br"),e._v(" Selected Set: "+e._s(e.selectedSetName)+" ")]):i("h3",[e._v(" You have unlocked all Glyph cosmetic sets! ")]),i("br"),i("h3",[e._v(' You can also import "speedrun" to start the game again with additional tracking for speedrunning purposes. ')])])},R2e=[],M2e=X(D2e,I2e,R2e,!1,null,"2cb6f714");const x5=M2e.exports,P2e={name:"PopupModal",props:{modal:{type:Object,required:!0}},data(){return{showModal:!1,positionStyle:{}}},created(){this.on$(GAME_EVENT.CLOSE_MODAL,this.hide)},mounted(){this.updatePositionStyles()},destroyed(){document.activeElement.blur()},methods:{update(){const t=this.showModal;this.showModal=GameEnd.endState<=END_STATE_MARKERS.INTERACTIVITY_DISABLED||this.modal.component.name==="CosmeticSetChoiceModal",this.showModal!==t&&this.$nextTick(()=>this.updatePositionStyles()),this.updatePositionStyles()},updatePositionStyles(){if(!this.$refs.modal)return;if(!this.showModal||this.$viewModel.theme!=="S12"){this.positionStyle={};return}const t=this.$refs.modal.offsetWidth,e=this.$refs.modal.offsetHeight;this.positionStyle={left:`${Math.round(innerWidth/2-t/2)}px`,top:`${Math.round(innerHeight/2-e/2)}px`,transform:"none"}},hide(){this.modal.isOpen&&(this.modal.hide?this.modal.hide():Modal.hide())}}};var O2e=function(){var e=this,i=e._self._c;return e.showModal?i("div",{ref:"modal",staticClass:"c-modal l-modal",style:e.positionStyle},[i(e.modal.component,e._b({tag:"component",on:{close:e.hide}},"component",e.modal.props,!1))],1):e._e()},N2e=[],G2e=X(P2e,O2e,N2e,!1,null,null);const D5=G2e.exports,U2e={name:"SaveTimer",data(){return{currentTime:0,cloudSaveEnabled:!1,lastLocalSave:0,lastCloudSave:0,showTimeSinceSave:!1,saveDisabled:!1}},computed:{timeString(){const t=timeDisplayShort(this.currentTime-this.lastLocalSave),e=timeDisplayShort(this.currentTime-this.lastCloudSave);return this.cloudSaveEnabled?`${t} (local) | ${e} (cloud)`:t}},methods:{update(){this.currentTime=Date.now(),this.cloudSaveEnabled=player.options.cloudEnabled&&Cloud.loggedIn,this.lastLocalSave=GameStorage.lastSaveTime,this.lastCloudSave=GameStorage.lastCloudSave,this.showTimeSinceSave=player.options.showTimeSinceSave,this.saveDisabled=GameEnd.endState>=END_STATE_MARKERS.INTERACTIVITY_DISABLED},save(){GameStorage.save(!1,!0)}}};var L2e=function(){var e=this,i=e._self._c;return e.showTimeSinceSave?i("div",{staticClass:"o-save-timer",on:{click:e.save}},[e.saveDisabled?i("b",[e._v("There is nothing left to save.")]):i("span",[e._v("Time since last save: "+e._s(e.timeString))])]):e._e()},B2e=[],$2e=X(U2e,L2e,B2e,!1,null,"a0726033");const F2e=$2e.exports,H2e={name:"SpectateGame",components:{PrimaryButton:mt},data(){return{showSpectate:Boolean}},methods:{update(){this.showSpectate=GameEnd.endState>END_STATE_MARKERS.SPECTATE_GAME,this.endState=GameEnd.endState},swap(){GameEnd.creditsClosed=!GameEnd.creditsClosed,GameEnd.creditsEverClosed||(GameEnd.creditsEverClosed=!0)}}};var V2e=function(){var e=this,i=e._self._c;return e.showSpectate?i("div",{key:e.endState},[i("PrimaryButton",{staticClass:"c-swap-button o-primary-btn--modal-close c-modal__close-btn tutorial--glow",on:{click:e.swap}},[i("i",{staticClass:"fas fa-sync"})])],1):e._e()},Y2e=[],q2e=X(H2e,V2e,Y2e,!1,null,"677cdc3b");const I5=q2e.exports,W2e={name:"SpeedrunStatus",data(){return{isActive:!1,isSegmented:!1,usedSTD:!1,hasStarted:!1,startDate:0,saveName:"",timePlayedStr:"",offlineProgress:!1,offlineFraction:0,mostRecent:{},isCollapsed:!1,timeSince:0,seedText:0,canModifySeed:!1,isComplete:!1}},computed:{statusText(){return this.isComplete?'<span style="color: var(--color-good)">Finished!</span>':this.hasStarted?'<span style="color: var(--color-good)">Running!</span>':'<span style="color: var(--color-bad)">Not Started Yet</span>'},segmentText(){return this.isSegmented?"Segmented Speedrun (imported save)":"Single-segment Speedrun (no save import)"},iapText(){return this.usedSTD?"IAPs have been used":"No IAPs Used"},offlineText(){const t=this.offlineProgress?'<span style="color: var(--color-good)">Enabled</span>':'<span style="color: var(--color-bad)">Disabled</span>',e=this.offlineFraction===0?"(No offline time used)":`(${formatPercents(this.offlineFraction,2)} time spent offline)`;return`${t} ${e}`},collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"}},methods:{update(){const t=player.speedrun;this.isActive=t.isActive,this.canModifySeed=Speedrun.canModifySeed(),this.isActive&&(this.isSegmented=t.isSegmented,this.usedSTD=t.usedSTD,this.hasStarted=t.hasStarted,this.startDate=t.startDate,this.saveName=t.name,this.isCollapsed=t.hideInfo,this.isComplete=Achievement(188).isUnlocked,this.timePlayedStr=Time.realTimePlayed.toStringShort(),this.offlineProgress=player.options.offlineProgress,this.offlineFraction=t.offlineTimeUsed/Math.clampMin(player.records.realTimePlayed,1),this.mostRecent=Speedrun.mostRecentMilestone(),this.timeSince=Time.realTimePlayed.minus(TimeSpan.fromMilliseconds(t.records[this.mostRecent]??0)).toStringShort(),this.seedText=Speedrun.seedModeText())},milestoneName(t){const e=GameDatabase.speedrunMilestones;return t===0?"None":e.find(i=>i.id===t).name},changeName(){this.hasStarted||Modal.changeName.show()},collapseText(){return this.isCollapsed?"Expand":"Click to collapse Speedrun info"},toggleCollapse(){player.speedrun.hideInfo=!this.isCollapsed},openSeedModal(){this.canModifySeed&&Modal.modifySeed.show()}}};var j2e=function(){var e=this,i=e._self._c;return e.isActive?i("div",{staticClass:"c-speedrun-status"},[e.isCollapsed?e._e():i("div",[i("b",[e._v("Speedrun Status ("),i("span",{domProps:{innerHTML:e._s(e.statusText)}}),e._v(")")]),i("br"),i("span",{class:{"c-speedrun-status--can-change":!e.hasStarted},on:{click:e.changeName}},[e._v(" Player Name: "+e._s(e.saveName)+" ")]),i("br"),i("i",[e._v(e._s(e.segmentText))]),i("br"),i("i",[e._v(e._s(e.iapText))]),i("br"),i("span",{class:{"c-speedrun-status--can-change":e.canModifySeed},on:{click:function(n){return e.openSeedModal()}}},[e._v(e._s(e.seedText))]),i("br"),e._v(" Total real playtime since start: "+e._s(e.timePlayedStr)+" "),i("br"),e._v(" Offline Progress: "),i("span",{domProps:{innerHTML:e._s(e.offlineText)}}),i("br"),e._v(" Most Recent Milestone: "+e._s(e.milestoneName(e.mostRecent))+" "),e.mostRecent?i("span",[e._v("("+e._s(e.timeSince)+" ago)")]):e._e(),i("br")]),i("div",{staticClass:"c-speedrun-status--collapse",on:{click:e.toggleCollapse}},[i("i",{class:e.collapseIcon}),e._v(" "+e._s(e.collapseText())+" "),i("i",{class:e.collapseIcon})])]):e._e()},z2e=[],X2e=X(W2e,j2e,z2e,!1,null,"99cb515a");const K2e=X2e.exports,Z2e={name:"HoverMenu",props:{saveslot:{type:Number,default:0}},data:()=>({componentID:UIID.next(),contextMenuHideTimer:null,contextMenuShowTimer:null}),computed:{contextMenuIsVisible(){return this.$viewModel.currentContextMenu===this.componentID},listeners(){return Object.assign({},this.$listeners,{touchstart:()=>this.startShowTimer(),mouseenter:()=>this.startShowTimer(),mouseleave:()=>this.startHideTimer()})}},methods:{startShowTimer(){this.stopHideTimer(),!(this.contextMenuIsVisible||this.contextMenuShowTimer)&&(this.contextMenuShowTimer=setTimeout(()=>{this.contextMenuShowTimer=null,this.showContextMenu()},250))},showContextMenu(){this.stopTimers(),this.$viewModel.currentContextMenu=this.componentID},startHideTimer(){this.stopShowTimer(),!(!this.contextMenuIsVisible||this.contextMenuHideTimer)&&(this.contextMenuHideTimer=setTimeout(()=>{this.contextMenuHideTimer=null,this.hideContextMenu()},500))},hideContextMenu(){this.stopTimers(),this.$viewModel.currentContextMenu===this.componentID&&(this.$viewModel.currentContextMenu=null)},toggleContextMenu(){this.contextMenuIsVisible?this.hideContextMenu():this.showContextMenu()},stopTimers(){this.stopHideTimer(),this.stopShowTimer()},stopHideTimer(){this.contextMenuHideTimer&&(clearTimeout(this.contextMenuHideTimer),this.contextMenuHideTimer=null)},stopShowTimer(){this.contextMenuShowTimer&&(clearTimeout(this.contextMenuShowTimer),this.contextMenuShowTimer=null)}}};var Q2e=function(){var e=this,i=e._self._c;return i("div",e._g({staticClass:"hover-menu__wrapper",on:{contextmenu:function(n){return n.preventDefault(),e.toggleContextMenu.apply(null,arguments)}}},e.listeners),[e._t("object"),e.contextMenuIsVisible?e._t("menu"):e._e()],2)},J2e=[],eNe=X(Z2e,Q2e,J2e,!1,null,"df01d4cf");const tNe=eNe.exports,iNe={name:"TimeStudySaveLoadButton",components:{HoverMenu:tNe},props:{saveslot:{type:Number,required:!0}},data(){return{name:"",displayName:"",canEternity:!1}},computed:{preset(){return player.timestudy.presets[this.saveslot-1]}},methods:{update(){this.name=player.timestudy.presets[this.saveslot-1].name,this.displayName=this.name===""?this.saveslot:this.name,this.canEternity=Player.canEternity},nicknameBlur(t){const e=t.target.value.slice(0,4).trim();!this.isASCII(e)||player.timestudy.presets.map(n=>n.name).includes(e)||(this.preset.name=e,this.name=this.preset.name)},hideContextMenu(){this.$viewModel.currentContextMenu=null},isASCII(t){return!/[^\u0000-\u00ff]/u.test(t)},save(){this.hideContextMenu(),this.preset.studies=GameCache.currentStudyTree.value.exportString;const t=this.name?`Study preset "${this.name}"`:"Study preset";GameUI.notify.eternity(`${t} saved in slot ${this.saveslot}`)},load(){if(this.hideContextMenu(),this.preset.studies){const t=new TimeStudyTree;t.attemptBuyArray(TimeStudyTree.currentStudies,!1),t.attemptBuyArray(t.parseStudyImport(this.preset.studies),!0),TimeStudyTree.commitToGameState(t.purchasedStudies,!1,t.startEC);const e=this.name?`Study preset "${this.name}"`:"Study preset";GameUI.notify.eternity(`${e} loaded from slot ${this.saveslot}`)}else Modal.message.show("This Time Study list currently contains no Time Studies.")},respecAndLoad(){if(Player.canEternity){player.respec=!0;const t=new TimeStudyTree;t.attemptBuyArray(t.parseStudyImport(this.preset.studies)),animateAndEternity(()=>TimeStudyTree.commitToGameState(t.purchasedStudies,!1,t.startEC))}},deletePreset(){this.hideContextMenu(),this.preset.studies?Modal.studyString.show({id:this.saveslot-1,deleting:!0}):Modal.message.show("This Time Study list currently contains no Time Studies.")},handleExport(){this.hideContextMenu(),copyToClipboard(this.preset.studies);const t=this.name?`Study preset "${this.name}"`:"Study preset";GameUI.notify.eternity(`${t} exported from slot ${this.saveslot} to your clipboard`)},edit(){Modal.studyString.show({id:this.saveslot-1})}}};var nNe=function(){var e=this,i=e._self._c;return i("HoverMenu",{staticClass:"l-tt-save-load-btn__wrapper",scopedSlots:e._u([{key:"object",fn:function(){return[i("button",{staticClass:"l-tt-save-load-btn c-tt-buy-button c-tt-buy-button--unlocked",on:{click:[function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.save.apply(null,arguments)},function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.load.apply(null,arguments)}]}},[e._v(" "+e._s(e.displayName)+" ")])]},proxy:!0},{key:"menu",fn:function(){return[i("div",{staticClass:"l-tt-save-load-btn__menu c-tt-save-load-btn__menu"},[i("span",{attrs:{"ach-tooltip":"Set a custom name (up to 4 ASCII characters)"}},[i("input",{staticClass:"l-tt-save-load-btn__menu-rename c-tt-save-load-btn__menu-rename",attrs:{type:"text",size:"4",maxlength:"4"},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:e.hideContextMenu.apply(null,arguments)},blur:e.nicknameBlur}})]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.edit}},[e._v(" Edit ")]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.handleExport}},[e._v(" Export ")]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.save}},[e._v(" Save ")]),i("div",{staticClass:"l-tt-save-load-btn__menu-item"},[i("div",{staticClass:"c-tt-save-load-btn__menu-item",on:{click:e.load}},[e._v(" Load ")]),i("div",{staticClass:"c-tt-save-load-btn__menu-item__hover-options"},[i("div",{class:{"c-tt-save-load-btn__menu-item__hover-option":!0,"c-tt-save-load-btn__menu-item__hover-option--disabled":!e.canEternity},on:{click:e.respecAndLoad}},[e._v(" Respec and Load ")])])]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.deletePreset}},[e._v(" Delete ")])])]},proxy:!0}])})},rNe=[],aNe=X(iNe,nNe,rNe,!1,null,"088bac37");const sNe=aNe.exports,oNe={props:{budget:Decimal,cost:Decimal,formatCost:{type:Function,required:!0},action:{type:Function,required:!0}},data(){return{isLocked:!1}},computed:{isEnabled(){return this.isLocked?!1:this.budget.gte(this.cost)},enabledClass(){return!this.isEnabled||this.isLocked?"c-tt-buy-button--locked":"c-tt-buy-button--unlocked"}},methods:{update(){this.isLocked=player.eternities.eq(0)}}};var lNe=function(){var e=this,i=e._self._c;return i("button",{staticClass:"l-tt-buy-button c-tt-buy-button",class:e.enabledClass,on:{click:e.action}},[e._v(" "+e._s(e.isLocked?"Requires an Eternity to unlock":e.formatCost(e.cost))+" ")])},cNe=[],uNe=X(oNe,lNe,cNe,!1,null,null);const dNe=uNe.exports,hNe={name:"TimeTheoremShop",components:{PrimaryToggleButton:ln,TimeTheoremBuyButton:dNe,TimeStudySaveLoadButton:sNe},data(){return{theoremAmount:new Decimal(0),theoremGeneration:new Decimal(0),totalTimeTheorems:new Decimal(0),shopMinimized:!1,minimizeAvailable:!1,hasTTAutobuyer:!1,isAutobuyerOn:!1,budget:{am:new Decimal(0),ip:new Decimal(0),ep:new Decimal(0)},costs:{am:new Decimal(0),ip:new Decimal(0),ep:new Decimal(0)},showST:!1,STamount:0,hasTTGen:!1,showTTGen:!1,invertTTgenDisplay:!1}},computed:{minimized(){return this.minimizeAvailable&&this.shopMinimized},formatTimeTheoremType(){return this.theoremAmount.gte(1e6)?format:!(Teresa.isRunning||Enslaved.isRunning)&&getAdjustedGlyphEffect("dilationTTgen")>0&&!DilationUpgrade.ttGenerator.isBought?formatFloat:formatInt},TTgenRateText(){return this.theoremGeneration.lt(1/3600)?`one TT every ${TimeSpan.fromSeconds(this.theoremGeneration.reciprocal().toNumber()).toStringShort(!1)}`:this.theoremGeneration.lt(.1)?`${format(this.theoremGeneration.times(3600),2,2)} TT/hour`:`${format(this.theoremGeneration,2,2)} TT/sec`},totalTimeTheoremText(){return`${quantify("total Time Theorem",this.totalTimeTheorems,2,2,this.formatTimeTheoremType)}`},minimizeArrowStyle(){return{transform:this.minimized?"rotate(-180deg)":"",transition:"all 0.25s ease-out"}},saveLoadText(){return this.$viewModel.shiftDown?"Save:":"Load:"},shopBottomRowHeightStyle(){return{height:this.hasTTAutobuyer?"6.7rem":"4.4rem"}}},watch:{isAutobuyerOn(t){Autobuyer.timeTheorem.isActive=t},invertTTgenDisplay(t){player.options.invertTTgenDisplay=t}},methods:{minimize(){player.timestudy.shopMinimized=!player.timestudy.shopMinimized},formatAM(t){return`${format(t)} AM`},buyWithAM(){TimeTheorems.buyOne(!1,"am")},formatIP(t){return`${format(t)} IP`},buyWithIP(){TimeTheorems.buyOne(!1,"ip")},formatEP(t){return`${format(t,2,0)} EP`},buyWithEP(){TimeTheorems.buyOne(!1,"ep")},buyMaxTheorems(){TimeTheorems.buyMax(!1)},update(){this.theoremAmount.copyFrom(Currency.timeTheorems),this.theoremGeneration.copyFrom(getTTPerSecond().times(getGameSpeedupForDisplay())),this.totalTimeTheorems.copyFrom(Currency.timeTheorems.max),this.shopMinimized=player.timestudy.shopMinimized,this.hasTTAutobuyer=Autobuyer.timeTheorem.isUnlocked,this.isAutobuyerOn=Autobuyer.timeTheorem.isActive,this.minimizeAvailable=DilationUpgrade.ttGenerator.isBought||this.hasTTAutobuyer;const t=this.budget;t.am.copyFrom(TimeTheoremPurchaseType.am.currency),t.ip.copyFrom(TimeTheoremPurchaseType.ip.currency),t.ep.copyFrom(TimeTheoremPurchaseType.ep.currency);const e=this.costs;e.am.copyFrom(TimeTheoremPurchaseType.am.cost),e.ip.copyFrom(TimeTheoremPurchaseType.ip.cost),e.ep.copyFrom(TimeTheoremPurchaseType.ep.cost),this.showST=V.spaceTheorems>0&&!Pelle.isDoomed,this.STamount=V.availableST,this.hasTTGen=this.theoremGeneration.gt(0),this.showTTGen=this.hasTTGen&&ui.view.shiftDown===this.invertTTgenDisplay,this.invertTTgenDisplay=player.options.invertTTgenDisplay},toggleTTgen(){this.invertTTgenDisplay=!this.invertTTgenDisplay}}};var fNe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"time-theorem-buttons"},[i("div",{staticClass:"ttshop-container ttshop-background"},[i("div",{staticClass:"ttbuttons-row ttbuttons-top-row",attrs:{"data-role":"page"}},[e._m(0),i("p",{staticClass:"timetheorems"},[i("span",{staticClass:"c-tt-amount"},[e._v(" "+e._s(e.quantify("Time Theorem",e.theoremAmount,2,0,e.formatTimeTheoremType))+" ")]),e.showST?i("span",[i("br"),e._v(" "+e._s(e.quantifyInt("Space Theorem",e.STamount))+" ")]):e._e()]),i("div",{staticClass:"l-load-tree-area"},[i("div",{staticClass:"l-tree-load-button-wrapper"},[i("span",{staticClass:"c-ttshop__save-load-text"},[e._v(e._s(e.saveLoadText))]),e._l(6,function(n){return i("TimeStudySaveLoadButton",{key:n,attrs:{saveslot:n}})})],2),i("div",{staticClass:"tt-gen-container"},[e.hasTTGen?i("span",{staticClass:"checkbox-margin",attrs:{"ach-tooltip":`This shows TT generation by default and total TT if you hold shift.
              Check this box to swap this behavior.`}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.invertTTgenDisplay,expression:"invertTTgenDisplay"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{value:e.invertTTgenDisplay,checked:Array.isArray(e.invertTTgenDisplay)?e._i(e.invertTTgenDisplay,e.invertTTgenDisplay)>-1:e.invertTTgenDisplay},on:{input:function(n){return e.toggleTTgen()},change:function(n){var r=e.invertTTgenDisplay,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=e.invertTTgenDisplay,c=e._i(r,o);a.checked?c<0&&(e.invertTTgenDisplay=r.concat([o])):c>-1&&(e.invertTTgenDisplay=r.slice(0,c).concat(r.slice(c+1)))}else e.invertTTgenDisplay=s}}})]):e._e(),e.showTTGen?i("span",[e._v(" You are gaining "+e._s(e.TTgenRateText)+". ")]):i("span",[e._v(" You have "+e._s(e.totalTimeTheoremText)+". ")])])])]),e.minimized?i("div",{staticClass:"ttbuttons-row ttbuttons-bottom-row-hide"}):i("div",{staticClass:"ttbuttons-row",style:e.shopBottomRowHeightStyle},[i("TimeTheoremBuyButton",{attrs:{budget:e.budget.am,cost:e.costs.am,"format-cost":e.formatAM,action:e.buyWithAM}}),i("TimeTheoremBuyButton",{attrs:{budget:e.budget.ip,cost:e.costs.ip,"format-cost":e.formatIP,action:e.buyWithIP}}),i("TimeTheoremBuyButton",{attrs:{budget:e.budget.ep,cost:e.costs.ep,"format-cost":e.formatEP,action:e.buyWithEP}}),i("div",{staticClass:"l-tt-buy-max-vbox"},[e.minimized?e._e():i("button",{staticClass:"o-tt-top-row-button c-tt-buy-button c-tt-buy-button--unlocked",on:{click:e.buyMaxTheorems}},[e._v(" Buy max ")]),!e.minimized&&e.hasTTAutobuyer?i("PrimaryToggleButton",{staticClass:"o-tt-autobuyer-button c-tt-buy-button c-tt-buy-button--unlocked",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):e._e()],1)],1)]),e.minimizeAvailable?i("button",{staticClass:"ttshop-minimize-btn ttshop-background",on:{click:e.minimize}},[i("span",{staticClass:"minimize-arrow",style:e.minimizeArrowStyle},[e._v("▼")])]):e._e()])},pNe=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"l-tt-save-load-btn c-tt-buy-button c-tt-buy-button--unlocked",attrs:{onClick:"Modal.preferredTree.show()"}},[e("i",{staticClass:"fas fa-cog"})])}],mNe=X(hNe,fNe,pNe,!1,null,"ec15cc2a");const yNe=mNe.exports,gNe={name:"GameUiComponentFixed",components:{HowToPlay:r2e,TimeTheoremShop:yNe,ModernSidebar:x2e,SaveTimer:F2e,SpeedrunStatus:K2e,PopupModal:D5,ModalProgressBar:A5,CelestialQuoteModal:C5,CelestialQuoteHistoryDisplay:T5,FadeAway:S5,CreditsContainer:k5,SpectateGame:I5,NewGame:x5},data(){return{ending:!1}},computed:{view(){return this.$viewModel},hideIfMatoFullscreen(){return{visibility:ui.view.tabs.reality.automator.fullScreen?"hidden":"visible"}}},methods:{update(){this.ending=GameEnd.endState>=END_STATE_MARKERS.FADE_AWAY&&!GameEnd.creditsClosed}}};var vNe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-game-ui--fixed",attrs:{id:"ui-fixed"}},[i("div",{staticClass:"l-notification-container",attrs:{id:"notification-container"}}),i("HowToPlay",{style:e.hideIfMatoFullscreen}),e.view.subtab==="studies"?i("TimeTheoremShop",{staticClass:"l-time-studies-tab__tt-shop"}):e._e(),e.view.newUI&&e.view.theme!=="S12"?i("ModernSidebar",{style:e.hideIfMatoFullscreen}):e._e(),i("SaveTimer",{style:e.hideIfMatoFullscreen}),i("SpeedrunStatus",{style:e.hideIfMatoFullscreen}),e.view.theme!=="S12"?[e.view.modal.progressBar?i("ModalProgressBar"):e.view.quotes.current?i("CelestialQuoteModal",{attrs:{quote:e.view.quotes.current}}):e.view.quotes.history?i("CelestialQuoteHistoryDisplay",{attrs:{quotes:e.view.quotes.history}}):e.view.modal.current?i("PopupModal",{attrs:{modal:e.view.modal.current}}):e._e(),e.view.modal.progressBar?i("ModalProgressBar"):e._e(),e.ending?i("FadeAway"):e._e(),e.ending?i("CreditsContainer"):e._e(),e.ending?i("NewGame"):e._e(),i("SpectateGame")]:e._e()],2)},bNe=[],_Ne=X(gNe,vNe,bNe,!1,null,"27f21e04");const R5=_Ne.exports,wNe={name:"ModernUi",components:{BigCrunchButton:_x,HeaderChallengeDisplay:Ex,HeaderChallengeEffects:Tx,NewsTicker:kx,HeaderBlackHole:wx,HeaderPrestigeGroup:Cx,GameSpeedDisplay:EE},data(){return{bigCrunch:!1,hasReality:!1,newGameKey:""}},computed:{news(){return this.$viewModel.news},topMargin(){return this.$viewModel.news?"":"margin-top: 3.9rem"}},methods:{update(){const t=!player.break&&Player.canCrunch;this.bigCrunch=t&&Time.bestInfinityRealTime.totalMinutes>1,this.hasReality=PlayerProgress.realityUnlocked(),this.newGameKey=Pelle.isDoomed},handleClick(){PlayerProgress.infinityUnlocked()?manualBigCrunchResetRequest():Modal.bigCrunch.show()}}};var ENe=function(){var e=this,i=e._self._c;return i("div",{attrs:{id:"page"}},[i("link",{attrs:{rel:"stylesheet",type:"text/css",href:"stylesheets/new-ui-styles.css"}}),i("div",{key:e.newGameKey,staticClass:"game-container",style:e.topMargin},[e.news?i("NewsTicker"):e._e(),i("BigCrunchButton"),e.bigCrunch?e._e():i("div",{staticClass:"tab-container"},[i("HeaderPrestigeGroup"),i("div",{staticClass:"information-header"},[i("HeaderChallengeDisplay"),i("HeaderChallengeEffects"),e.hasReality?i("GameSpeedDisplay"):e._e(),e.hasReality?i("br"):e._e(),i("HeaderBlackHole")],1),e._t("default")],2)],1)])},TNe=[],CNe=X(wNe,ENe,TNe,!1,null,"ee54dac3");const kNe=CNe.exports;class Jy{constructor(e,i,n=0){this._resources=AlchemyResources.all.filter(r=>r.config.tier===e).sort((r,a)=>r.config.uiOrder-a.config.uiOrder),this._radius=i,this._angleOffset=n}get radius(){return this._radius}get nodes(){const e=[],i=Math.PI_2/this._resources.length;let n=this._angleOffset;for(const r of this._resources)e.push({resource:r,x:this._radius*Math.sin(n),y:this._radius*Math.cos(n)}),n+=i;return e}}class SNe{constructor(){this.orbits=[new Jy(1,4,-Math.PI/3),new Jy(2,3),new Jy(3,2,Math.PI/3),new Jy(4,1,-Math.PI/6),new Jy(5,0)];const e=[];for(const r of this.orbits.map(a=>a.nodes))e.push(...r);const i=Math.max(e.map(r=>Math.abs(r.x)).max(),e.map(r=>Math.abs(r.y)).max())*2;for(const r of e)r.x=(r.x/i+.5)*100,r.y=(r.y/i+.5)*100;const n=[];for(const r of AlchemyReactions.all.compact()){const a=e.find(o=>o.resource===r.product),s=r.reagents.map(o=>e.find(c=>c.resource===o.resource));for(const o of s)n.push({reaction:r,reagent:o,product:a})}this.reactionArrows=n,this.nodes=e,this.size=i}}const ANe={name:"AlchemyResourceArc",props:{resource:{type:Object,required:!0},classObject:{type:Object,required:!0}},data(){return{amount:0,fillFraction:0}},computed:{spinnerTransform(){return{transform:`rotate(${this.fillFraction*360}deg)`,background:this.fillFraction===1?"#ff9800":void 0}},fillerTransform(){return{opacity:this.fillFraction>.5?1:0,background:this.fillFraction===1?"#ff9800":void 0}},maskTransform(){return{opacity:this.fillFraction>.5?0:1}}},methods:{update(){this.amount=this.resource.amount,this.fillFraction=this.resource.fillFraction}}};var xNe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-alchemy-resource-arc-wrapper"},[i("div",{staticClass:"o-alchemy-resource-arc-spinner o-alchemy-resource-arc-circle",style:e.spinnerTransform}),i("div",{staticClass:"o-alchemy-resource-arc-filler o-alchemy-resource-arc-circle",style:e.fillerTransform}),i("div",{staticClass:"o-alchemy-resource-arc-mask",style:e.maskTransform}),i("div",{staticClass:"o-alchemy-node-mask",class:e.classObject},[e._v(" "+e._s(e.resource.symbol)+" ")])])},DNe=[],INe=X(ANe,xNe,DNe,!1,null,"e07297f4");const RNe=INe.exports,MNe={name:"HintText",props:{type:{type:String,required:!0}},computed:{showThisHintText(){return this.$viewModel.shiftDown||player.options.showHintText[this.type]}}};var PNe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showThisHintText,expression:"showThisHintText"}],staticClass:"o-hint-text l-hint-text"},[e._t("default")],2)},ONe=[],NNe=X(MNe,PNe,ONe,!1,null,null);const mc=NNe.exports,GNe={name:"AlchemyCircleNode",components:{HintText:mc,AlchemyResourceArc:RNe},props:{node:{type:Object,required:!0},isFocused:{type:Boolean,required:!1,default:!1}},data(){return{isReactionActive:!1,amount:0,flow:0,isUnlocked:!1}},computed:{resource(){return this.node.resource},isBaseResource(){return this.resource.isBaseResource},layoutStyle(){const t=Math.clamp(.7*Math.sqrt(Math.abs(this.flow)),0,1);return{left:`${this.node.x}%`,top:`${this.node.y}%`,"box-shadow":`0 0 0.3rem 0.3rem
          rgba(${this.flow>0?"156, 204, 101":"204, 102, 102"}, ${t})`}},classObject(){return{"o-alchemy-node--base":this.isBaseResource,"o-alchemy-node--active":this.isReactionActive,"o-alchemy-node--unfocused":!this.isFocused,"o-alchemy-node--locked":!this.isUnlocked}},hintClassObject(){return this.isFocused?void 0:"o-hint-text--alchemy-node--unfocused"}},methods:{update(){this.isReactionActive=!Pelle.isDoomed&&!this.isBaseResource&&this.node.resource.reaction.isActive,this.amount=this.resource.amount,this.flow=this.resource.flow,this.isUnlocked=this.resource.isUnlocked}}};var UNe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-alchemy-node",class:e.classObject,style:e.layoutStyle,on:{mouseenter:function(n){return e.$emit("mouseenter")},mouseleave:function(n){return e.$emit("mouseleave")},click:e.emitClick}},[i("AlchemyResourceArc",{attrs:{resource:e.resource,"class-object":e.classObject}}),e.isUnlocked?i("span",[i("HintText",{staticClass:"o-hint-text--alchemy-node l-hint-text--alchemy-node",class:e.hintClassObject,attrs:{type:"alchemy"}},[e._v(" "+e._s(e.formatInt(e.amount))+" ")])],1):e._e()],1)},LNe=[],BNe=X(GNe,UNe,LNe,!1,null,"a6679da8");const $Ne=BNe.exports,FNe={name:"EffectDisplay",props:{config:{type:Object,required:!1,default:void 0},br:{type:Boolean,required:!1},label:{type:String,required:!1,default:"Currently"},ignoreCapped:{type:Boolean,required:!1,default:!1}},data(){return{isVisible:!1,effectValue:0,cap:Number.MAX_VALUE,hasCap:!1}},computed:{reachedCap(){return this.hasCap&&this.reachedCapFunction()},labelDisplay(){return this.config.noLabel?"":`${this.reachedCap&&!this.ignoreCapped?"Capped":this.label}: `},effectDisplay(){return this.formatEffect(this.reachedCap?this.cap:this.effectValue)}},watch:{config:{immediate:!0,handler(t){this.updateEffect=()=>{},this.updateCap=()=>{};const e=t==null?void 0:t.effect,i=t==null?void 0:t.formatEffect;if(this.isVisible=e!==void 0&&i!==void 0,!this.isVisible)return;if(this.formatEffect=i,Up(e)){this.effectValue=e;return}if(Xp(e)){this.effectValue=Decimal.fromDecimal(e);return}if(!M0(e))throw new Error(`EffectDisplay config.effect has unsupported type "${typeof e}"`);const n=e();if(Up(n))this.effectValue=n,this.updateEffect=()=>this.effectValue=e();else if(Xp(n))this.effectValue=Decimal.fromDecimal(n),this.updateEffect=()=>this.effectValue.copyFrom(e());else throw new Error(`EffectDisplay config.effect is a function which returns unsupported type "${typeof e}"`);let r=t.cap;if(t.reachedCap!==void 0&&(r=()=>this.effectValue,this.reachedCapFunction=t.reachedCap),r!==void 0){if(t.reachedCap===void 0&&(this.reachedCapFunction=Up(n)?()=>this.effectValue>=this.cap:()=>this.effectValue.gte(this.cap)),Up(r)){this.cap=r,this.hasCap=!0;return}if(Xp(r)){this.cap=Decimal.fromDecimal(r),this.hasCap=!0;return}if(M0(r)){this.updateCap=()=>{this.cap=r(),this.hasCap=this.cap!==void 0},this.updateCap();return}throw new Error(`EffectDisplay config.cap is a function which returns unsupported type "${typeof e}"`)}}}},beforeCreate(){this.updateEffect=()=>{},this.updateCap=()=>{}},methods:{update(){this.updateEffect(),this.updateCap()}}};var HNe=function(){var e=this,i=e._self._c;return e.isVisible&&e.effectDisplay!==void 0?i("span",[e.br?i("br"):e._e(),e._v(" "+e._s(e.labelDisplay)+e._s(e.effectDisplay)+" ")]):e._e()},VNe=[],YNe=X(FNe,HNe,VNe,!1,null,null);const oo=YNe.exports,qNe={name:"AlchemyResourceInfo",components:{EffectDisplay:oo},props:{resource:{type:Object,required:!0}},data(){return{amount:0,cap:0,capped:!1,flow:0,isReactionActive:!1,reactionProduction:0,isUnlocked:!1,unlockRequirement:""}},computed:{classObject(){return{"c-alchemy-resource-info":!0,"c-alchemy-resource-info--locked":!this.isUnlocked}},reaction(){return this.resource.reaction},isBaseResource(){return this.resource.isBaseResource},reactionText(){return this.resource===AlchemyResource.reality?this.realityReactionText:`${this.reaction.reagents.map(e=>`${format(e.cost)}${e.resource.symbol}`).join(" + ")} ➜ ${format(this.reactionProduction,2,2)}${this.resource.symbol}`},realityReactionText(){return`${this.reaction.reagents.map(e=>e.resource.symbol).join(" + ")} ➜ ${this.resource.symbol}`},effectConfig(){const t=this.resource;return{effect:()=>t.effectValue,formatEffect:t.config.formatEffect}},resourceAmount(){return formatFloat(this.amount,1)},resourceCap(){return formatFloat(this.cap,1)},formattedFlow(){const t=this.flow>=0?"+":"-";if(Math.abs(this.flow)<.01)return"None";const e=`${t}${format(Math.abs(this.flow),2,2)}/sec`;return`<span style="color:#${this.flow>0?"9CCC65":"CC6666"}">${e}</span>`},isDoomed:()=>Pelle.isDoomed},methods:{update(){const t=this.resource;this.amount=t.amount,this.cap=t.cap,this.capped=t.capped,this.flow=t.flow,this.isUnlocked=t.isUnlocked,this.unlockRequirement=t.lockText,this.isBaseResource||(this.isReactionActive=!this.isDoomed&&this.reaction.isActive,this.reactionProduction=this.reaction.reactionProduction)}}};var WNe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("div",{class:e.classObject},[i("span",{staticClass:"c-alchemy-resource-info__title"},[e._v(" "+e._s(e.resource.symbol)+" "+e._s(e.resource.name)+" "+e._s(e.resource.symbol)+" ")]),e.isDoomed?i("span",[e._v(" Destroyed by Pelle ")]):i("span",[e._v(" "+e._s(e.capped?"Capped":"Current")+": "+e._s(e.resourceAmount)+"/"+e._s(e.resourceCap)+" (Recent change: "),i("span",{domProps:{innerHTML:e._s(e.formattedFlow)}}),e._v(") ")]),e.isBaseResource?i("span",[e._v("Base Resource")]):i("span",[e._v("Reaction: "+e._s(e.isReactionActive?"Active":"Inactive")+" ("+e._s(e.reactionText)+")")]),i("span",{class:{"o-pelle-disabled":e.isDoomed}},[i("EffectDisplay",{attrs:{label:"Effect",config:e.effectConfig}})],1)]):i("div",{class:e.classObject},[e._v(" Unlock requirement: "+e._s(e.unlockRequirement)+" ")])},jNe=[],zNe=X(qNe,WNe,jNe,!1,null,"b4962b54");const XNe=zNe.exports,KNe={name:"AlchemyTab",components:{PrimaryButton:mt,AlchemyCircleNode:$Ne,AlchemyResourceInfo:XNe},data(){return{infoResourceId:0,focusedResourceId:-1,reactionsAvailable:!1,realityCreationVisible:!1,animationTimer:0,alchemyCap:0,capFactor:0,createdRealityGlyph:!1,allReactionsDisabled:!1,realityAmount:0}},computed:{resources:()=>AlchemyResources.all,layout:()=>new SNe,sizeMultiplier:()=>5,infoResource(){return this.resources[this.infoResourceId]},circleStyle(){const t=this.layout.size*this.sizeMultiplier;return{width:`${t}rem`,height:`${t}rem`,opacity:this.isDoomed?.8:1}},orbitClass(){return this.focusedResourceId===-1||this.isDoomed?void 0:"o-alchemy-orbit--unfocused"},realityGlyphCreationClass(){return{"o-primary-btn--subtab-option":!0,"tutorial--glow":!this.createdRealityGlyph}},reactions(){return AlchemyReactions.all.compact().filter(t=>t.product.isUnlocked)},isDoomed(){return Pelle.isDoomed},pelleSymbol(){return Pelle.symbol}},methods:{update(){this.reactionsAvailable=AlchemyResources.all.filter(t=>!t.isBaseResource&&t.isUnlocked).length!==0,this.realityCreationVisible=Ra.pets.effarig.level===25,this.animationTimer+=35,this.alchemyCap=Ra.alchemyResourceCap,this.capFactor=1/GlyphSacrificeHandler.glyphRefinementEfficiency,this.createdRealityGlyph=player.reality.glyphs.createdRealityGlyph,this.allReactionsDisabled=this.reactions.every(t=>!t.isActive),this.realityAmount=AlchemyResource.reality.amount},orbitSize(t){const e=this.layout.orbits.map(i=>i.radius).max();return`${t.radius/e*50}%`},handleMouseEnter(t){this.infoResourceId=t.resource.id,t.resource.isUnlocked&&(this.focusedResourceId=t.resource.id)},handleMouseLeave(){this.focusedResourceId=-1},handleClick(t){const e=t.resource;if(e.isUnlocked){if(this.infoResourceId!==e.id){this.infoResourceId=e.id,this.focusedResourceId=e.id;return}e.isBaseResource||(e.reaction.isActive=!e.reaction.isActive,GameUI.update())}},isUnlocked(t){return t.product.resource.isUnlocked&&t.reagent.resource.isUnlocked},isCapped(t){const e=t.reagent.resource,i=t.product.resource;return i.amount>0&&i.amount>=e.amount||i.amount>=i.cap},isLessThanRequired(t){return t.product.resource.amount>0&&t.reagent.cost<t.reagent.resource.cap},isActiveReaction(t){return t.reaction.isActive&&!this.isDoomed},isFocusedReaction(t){return this.isDoomed?!1:this.isUnlocked(t)&&(t.product.resource.id===this.focusedResourceId||t.reagent.resource.id===this.focusedResourceId)},isDisplayed(t){return this.isUnlocked(t)&&(this.isActiveReaction(t)||this.isFocusedReaction(t))},isFocusedNode(t){var i,n;if(this.focusedResourceId===-1||this.isDoomed)return!0;const e=this.resources[this.focusedResourceId];return e===t.resource?!0:((i=e.reaction)==null?void 0:i.reagents.some(r=>r.resource===t.resource))||((n=t.resource.reaction)==null?void 0:n.reagents.some(r=>r.resource===e))},reactionArrowPositions(t){if(!this.isDisplayed(t)||this.isCapped(t))return;const e=t.reagent.x,i=t.reagent.y,n=t.product.x,r=t.product.y,a=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-i,2)),s=a*40,o=this.animationTimer%s/s,c=Math.max(0,o+2/a),d=Math.min(1,o-2/a);return{x1:`${e*(1-c)+n*c}%`,y1:`${i*(1-c)+r*c}%`,x2:`${e*(1-d)+n*d}%`,y2:`${i*(1-d)+r*d}%`}},reactionArrowPaths(t){return{x1:`${t.reagent.x}%`,y1:`${t.reagent.y}%`,x2:`${t.product.x}%`,y2:`${t.product.y}%`}},reactionPathClass(t){return{"o-alchemy-reaction-path":this.isUnlocked(t),"o-alchemy-reaction-path--capped":this.isCapped(t)&&this.isDisplayed(t),"o-alchemy-reaction-path--less-than-required":this.isLessThanRequired(t)&&this.isDisplayed(t),"o-alchemy-reaction-path--focused":!this.isCapped(t)&&this.isFocusedReaction(t),"o-alchemy-reaction-path--not-focused":!this.isFocusedReaction(t)&&this.focusedResourceId!==-1,"o-alchemy-reaction-path--doomed":this.isDoomed}},reactionArrowClass(t){return{"o-alchemy-reaction-arrow":!this.isCapped(t)&&this.isDisplayed(t),"o-alchemy-reaction-arrow--focused":this.isFocusedReaction(t)}},showAlchemyHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter(t=>t.name==="Glyph Alchemy")[0],Modal.h2p.show()},toggleAllReactions(){const t=this.allReactionsDisabled;for(const e of this.reactions)e.isActive=t},nodeClass(t){const e=t.resource;return{"o-clickable":e.isUnlocked&&!e.isBaseResource&&!this.isDoomed}}}};var ZNe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-ra-alchemy-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.showAlchemyHowTo}},[e._v(" Click for alchemy info ")]),e.isDoomed?e._e():i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllReactions}},[e._v(" "+e._s(e.allReactionsDisabled?"Enable":"Disable")+" all reactions ")]),e.realityCreationVisible?i("PrimaryButton",{class:e.realityGlyphCreationClass,attrs:{onclick:"Modal.realityGlyph.show()"}},[e._v(" View Reality Glyph creation ")]):e._e()],1),i("AlchemyResourceInfo",{key:e.infoResourceId,attrs:{resource:e.infoResource}}),i("br"),e._v(" Glyphs can now be refined using your Glyph filter in the Glyphs tab. "),i("br"),e._v(" When refining a Glyph, it will only give you resources up to a cap of "+e._s(e.formatX(e.capFactor))+" its highest refinement value. "),e.reactionsAvailable?i("span",[e._v(" Reactions trigger once every time you Reality, unaffected by amplification from stored real time. ")]):e._e(),i("div",{staticClass:"l-alchemy-circle",style:e.circleStyle},[e.isDoomed?i("span",{staticClass:"c-pelle-symbol-overlay",domProps:{innerHTML:e._s(e.pelleSymbol)}}):e._e(),i("svg",{staticClass:"l-alchemy-orbit-canvas"},e._l(e.layout.orbits,function(n,r){return i("circle",{key:r,staticClass:"o-alchemy-orbit",class:e.orbitClass,attrs:{cx:"50%",cy:"50%",r:e.orbitSize(n)}})}),0),e._l(e.layout.nodes,function(n,r){return i("AlchemyCircleNode",{key:r,class:e.nodeClass(n),attrs:{node:n,"is-focused":e.isFocusedNode(n)},on:{mouseenter:function(a){return e.handleMouseEnter(n)},mouseleave:e.handleMouseLeave,click:function(a){return e.handleClick(n)}}})}),i("svg",{staticClass:"l-alchemy-arrow-canvas"},[e._l(e.layout.reactionArrows,function(n,r){return i("line",e._b({key:"arrow-"+r+e.realityAmount,class:e.reactionPathClass(n)},"line",e.reactionArrowPaths(n),!1))}),e._l(e.layout.reactionArrows,function(n,r){return i("line",e._b({key:"arrow2-"+r+e.realityAmount,class:e.reactionArrowClass(n)},"line",e.reactionArrowPositions(n),!1))})],2)],2)],1)},QNe=[],JNe=X(KNe,ZNe,QNe,!1,null,"4815fc77");const eGe=JNe.exports,tGe={name:"AntimatterDimensionProgressBar",data(){return{fill:0,tooltip:"",displayPercents:""}},computed:{progressBarStyle(){return{width:`${(this.fill*100).toFixed(2)}%`}}},methods:{update(){this.displayPercents=formatPercents(this.fill,2);const t=(n,r,a)=>{this.fill=Math.clampMax(n.pLog10()/Decimal.log10(r),1),this.tooltip=a},e=(n,r,a)=>{this.fill=Math.clampMax(n/r,1),this.tooltip=a};if(Player.isInAntimatterChallenge||EternityChallenge.isRunning||player.dilation.active||Laitela.isRunning)if(Player.isInAntimatterChallenge)t(Currency.antimatter.value,Player.antimatterChallenge.goal,"Percentage to Challenge goal");else if(EternityChallenge.isRunning)if(Perk.studyECBulk.isBought){const n=EternityChallenge.current.gainedCompletionStatus.nextGoalAt;n?t(Currency.infinityPoints.value,n,"Percentage to next Challenge completion"):t(Currency.infinityPoints.value,10,"This Challenge is already fully completed!")}else t(Currency.infinityPoints.value,Player.eternityGoal,"Percentage to Eternity Challenge goal");else player.dilation.active?player.dilation.lastEP.gt(0)?t(Currency.antimatter.value,getTachyonReq(),"Percentage to gain more TP in Dilation"):t(Currency.infinityPoints.value,Player.eternityGoal,"Percentage to Eternity in Dilation"):t(Decimal.pow10(player.celestials.laitela.entropy),10,"Percentage to Destabilized Reality");else if(Pelle.isDoomed)PelleRifts.recursion.milestones[2].canBeApplied||GalaxyGenerator.spentGalaxies>0?t(Currency.infinityPoints.value,Tesseracts.nextCost,"Percentage to next Tesseract"):PelleStrikes.dilation.hasStrike?t(Currency.eternityPoints.value,DC.E4000,"Percentage to Galaxy Generator"):PelleStrikes.ECs.hasStrike?e((Math.min(Currency.timeTheorems.max.toNumber()/12900,1)+Math.min(EternityChallenges.completions/60,1))/2,1,"Percentage to fifth Strike"):PelleStrikes.eternity.hasStrike?e(Currency.timeTheorems.max.toNumber(),115,"Percentage to fourth Strike"):PelleStrikes.powerGalaxies.hasStrike?t(Currency.infinityPoints.value,Player.eternityGoal,"Percentage to third Strike"):PelleStrikes.infinity.hasStrike?player.break?t(Currency.infinityPoints.value,5e11,"Percentage to second Strike"):t(Currency.antimatter.value,Decimal.NUMBER_MAX_VALUE,"Percentage to Infinity"):t(Currency.antimatter.value,Decimal.NUMBER_MAX_VALUE,"Percentage to first Strike");else if(Enslaved.isCompleted)t(Currency.infinityPoints.value,Tesseracts.nextCost,"Percentage to next Tesseract");else if(PlayerProgress.dilationUnlocked())t(Currency.eternityPoints.value,DC.E4000,"Percentage to Reality");else if(InfinityDimension(8).isUnlocked)t(Currency.infinityPoints.value,Player.eternityGoal,"Percentage to Eternity");else if(player.break){const n=`Percentage to unlock a new ${InfinityDimensions.next().hasIPUnlock?"type of Dimension":"Infinity Dimension"}`,r=InfinityDimensions.next();r.ipRequirementReached?t(player.records.thisEternity.maxAM,r.amRequirement,n):t(player.infinityPoints,r.ipRequirement,n)}else t(Currency.antimatter.value,Decimal.NUMBER_MAX_VALUE,"Percentage to Infinity")}}};var iGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-progress-bar"},[i("div",{staticClass:"c-progress-bar__fill",style:e.progressBarStyle},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"c-progress-bar__percents"},[e._v(" "+e._s(e.displayPercents)+" ")])])])},nGe=[],rGe=X(tGe,iGe,nGe,!1,null,null);const M5=rGe.exports,aGe={name:"GenericDimensionRowText",props:{tier:{type:Number,required:!0},name:{type:String,required:!0},multiplierText:{type:String,required:!0},amountText:{type:String,required:!0},rate:{type:Object,required:!0}},data(){return{isSmall:0}},computed:{rateText(){return this.rate.neq(0)?` (+${format(this.rate,2,2)}%/s)`:""},showPercentage(){return player.options.showHintText.showPercentage||ui.view.shiftDown}},methods:{update(){this.isSmall=window.innerWidth<1573},adjustableTextClass(){return{"l-narrow-box":this.isSmall,"l-wide-box":!this.isSmall}}}};var sGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-dimension-text-container"},[i("div",{class:e.adjustableTextClass()},[i("span",{staticClass:"c-dim-row__large"},[e._v(" "+e._s(e.name)+" ")]),i("span",{staticClass:"c-dim-row__small"},[e._v(" "+e._s(e.multiplierText)+" ")])]),i("div",{class:e.adjustableTextClass()},[i("span",{staticClass:"c-dim-row__large"},[e._v(" "+e._s(e.amountText)+" ")]),e.rate.neq(0)&&e.showPercentage?i("span",{staticClass:"c-dim-row__small"},[e._v(" "+e._s(e.rateText)+" ")]):e._e()])])},oGe=[],lGe=X(aGe,sGe,oGe,!1,null,"3c275ef6");const sy=lGe.exports,cGe={name:"ClassicAntimatterDimensionRow",components:{GenericDimensionRowText:sy,PrimaryButton:mt},props:{tier:{type:Number,required:!0}},data(){return{end:!1,isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,boughtBefore10:0,rateOfChange:new Decimal(0),singleCost:new Decimal(0),until10Cost:new Decimal(0),isAffordable:!1,isAffordableUntil10:!1,isContinuumActive:!1,continuumValue:0,isShown:!1,isCostsAD:!1,formattedAmount:null,hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,name(){return`${AntimatterDimension(this.tier).shortDisplayName} Antimatter Dimension`},amountText(){return this.formattedAmount?this.formattedAmount:`${this.tier<8?format(this.amount,2):formatInt(this.amount)} (${formatInt(this.boughtBefore10)})`},singleText(){if(this.isCapped)return"Capped";const t=this.showCostTitle(this.singleCost)?"Cost: ":"",e=this.isCostsAD?`${this.costUnit}`:"AM";return`${t} ${format(this.singleCost)} ${e}`},until10Text(){if(this.isCapped)return"Shattered by Nameless";if(this.isContinuumActive)return`Continuum: ${this.continuumString}`;const t=`Until ${formatInt(10)},${this.showCostTitle(this.until10Cost)?" Cost":""}`,e=this.isCostsAD?`${this.costUnit}`:"AM";return`${t} ${format(this.until10Cost)} ${e}`},continuumString(){return formatFloat(this.continuumValue,2)},showRow(){return this.isShown||this.isUnlocked||this.amount.gt(0)},boughtTooltip(){return this.isCapped?`Nameless prevents the purchase of more than ${format(1)} 8th Antimatter Dimension`:this.isContinuumActive?"Continuum produces all your Antimatter Dimensions":`Purchased ${quantifyInt("time",this.bought)}`},costUnit(){return`${AntimatterDimension(this.tier-2).shortDisplayName} AD`},buySingleClass(){return{"o-primary-btn--buy-ad o-primary-btn--buy-single-ad c-dim-tooltip-container":!0,"l-dim-row-small-text":this.isLongText(this.singleText)||!this.showCostTitle(this.singleCost)}},buyTenClass(){return{"o-primary-btn--buy-ad o-primary-btn--buy-dim c-dim-tooltip-container":!0,"o-primary-btn--buy-10-ad":!this.isContinuumActive,"o-primary-btn--continuum-ad o-continuum":this.isContinuumActive,"l-dim-row-small-text":this.isLongText(this.until10Text)&&!this.isContinuumActive}}},methods:{update(){const t=this.tier;if(t===8&&this.isDoomed&&(this.formattedAmount=formatInt(this.amount)),t>DimBoost.maxDimensionsUnlockable)return;const e=AntimatterDimension(t);this.isUnlocked=e.isAvailableForPurchase,this.isCapped=t===8&&Enslaved.isRunning&&e.bought>=1,this.multiplier.copyFrom(e.multiplier),this.amount.copyFrom(e.totalAmount),this.totalAmount=e.totalAmount,this.bought=e.bought,this.boughtBefore10=e.boughtBefore10,this.singleCost.copyFrom(e.cost),this.until10Cost.copyFrom(e.costUntil10),t<8&&this.rateOfChange.copyFrom(e.rateOfChange),this.isAffordable=e.isAffordable,this.isAffordableUntil10=e.isAffordableUntil10,this.isContinuumActive=Laitela.continuumActive,this.isContinuumActive&&(this.continuumValue=e.continuumValue),this.isShown=DimBoost.totalBoosts>0&&DimBoost.totalBoosts+3>=t||PlayerProgress.infinityUnlocked(),this.isCostsAD=NormalChallenge(6).isRunning&&t>2&&!this.isContinuumActive,this.hasTutorial=t===1&&Tutorial.isActive(TUTORIAL_STATE.DIM1)||t===2&&Tutorial.isActive(TUTORIAL_STATE.DIM2)},buySingle(){this.isContinuumActive||buyOneDimension(this.tier)},buyUntil10(){this.isContinuumActive||buyManyDimension(this.tier)},showCostTitle(t){return t.exponent<1e6},isLongText(t){return t.length>20},tutorialClass(){return{"l-glow-container":!0,"tutorial--glow":this.isAffordable&&this.hasTutorial}}}};var uGe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row c-antimatter-dim-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,2),"amount-text":e.amountText,rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container"},[e.isContinuumActive?e._e():i("PrimaryButton",{class:e.buySingleClass,attrs:{enabled:e.isAffordable&&!e.isCapped&&e.isUnlocked},on:{click:e.buySingle}},[i("div",{class:e.tutorialClass()},[e._v(" "+e._s(e.singleText)+" ")]),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.boughtTooltip)+" ")]),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),i("PrimaryButton",{class:e.buyTenClass,attrs:{enabled:(e.isAffordableUntil10||e.isContinuumActive)&&!e.isCapped&&e.isUnlocked},on:{click:e.buyUntil10}},[e._v(" "+e._s(e.until10Text)+" "),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.boughtTooltip)+" ")])])],1)],1)},dGe=[],hGe=X(cGe,uGe,dGe,!1,null,"1ed715a0");const fGe=hGe.exports,pGe={name:"ClassicAntimatterDimensionsTabHeader",components:{PrimaryButton:mt},data(){return{isSacrificeUnlocked:!1,isSacrificeAffordable:!1,currentSacrifice:new Decimal(0),sacrificeBoost:new Decimal(0),disabledCondition:""}},computed:{sacrificeTooltip(){return`Boosts 8th Antimatter Dimension by ${formatX(this.sacrificeBoost,2,2)}`}},methods:{update(){const t=Sacrifice.isVisible;this.isSacrificeUnlocked=t,t&&(this.isSacrificeAffordable=Sacrifice.canSacrifice,this.currentSacrifice.copyFrom(Sacrifice.totalBoost),this.sacrificeBoost.copyFrom(Sacrifice.nextBoost),this.disabledCondition=Sacrifice.disabledCondition)},sacrifice(){sacrificeBtnClick()},maxAll(){maxAll()}}};var mGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-antimatter-dim-tab__header"},[i("PrimaryButton",{directives:[{name:"show",rawName:"v-show",value:e.isSacrificeUnlocked,expression:"isSacrificeUnlocked"},{name:"tooltip",rawName:"v-tooltip",value:e.sacrificeTooltip,expression:"sacrificeTooltip"}],staticClass:"o-primary-btn--sacrifice",attrs:{enabled:e.isSacrificeAffordable},on:{click:e.sacrifice}},[e.isSacrificeAffordable?i("span",[e._v(" Dimensional Sacrifice ("+e._s(e.formatX(e.sacrificeBoost,2,2))+") ")]):i("span",[e._v(" Dimensional Sacrifice Disabled ("+e._s(e.disabledCondition)+") ")])]),i("PrimaryButton",{staticClass:"o-primary-btn--buy-max",on:{click:e.maxAll}},[e._v(" Max all (M) ")])],1)},yGe=[],gGe=X(pGe,mGe,yGe,!1,null,null);const vGe=gGe.exports,bGe={name:"ClassicAntimatterGalaxyRow",components:{PrimaryButton:mt},data(){return{type:GALAXY_TYPE.NORMAL,galaxies:{normal:0,replicanti:0,dilation:0},requirement:{tier:1,amount:0},canBeBought:!1,distantStart:0,remoteStart:0,lockText:null,canBulkBuy:!1,creditsClosed:!1,scalingText:{distant:null,remote:null},hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return AntimatterDimension(this.requirement.tier).displayName},buttonText(){if(this.lockText!==null)return this.lockText;const t=[];return Achievement(111).isUnlocked||t.push("Dimensions"),Achievement(143).isUnlocked||t.push("Dimension Boosts"),t.length===0?"Increase the power of Tickspeed upgrades":`Reset your ${makeEnumeration(t)} to increase the power of Tickspeed upgrades`},sumText(){const t=[Math.max(this.galaxies.normal,0)];this.galaxies.replicanti>0&&t.push(this.galaxies.replicanti),this.galaxies.dilation>0&&t.push(this.galaxies.dilation);const e=t.map(this.formatGalaxies).join(" + ");return t.length>=2?`${e} = ${this.formatGalaxies(t.sum())}`:e},typeName(){switch(this.type){case GALAXY_TYPE.NORMAL:return"Antimatter Galaxies";case GALAXY_TYPE.DISTANT:return"Distant Antimatter Galaxies";case GALAXY_TYPE.REMOTE:return"Remote Antimatter Galaxies"}},hasIncreasedScaling(){return this.type!==GALAXY_TYPE.NORMAL},costScalingText(){switch(this.type){case GALAXY_TYPE.DISTANT:return`Each Galaxy is more expensive past ${quantifyInt("Galaxy",this.distantStart)}`;case GALAXY_TYPE.REMOTE:return`Increased Galaxy cost scaling: ${[{type:"distant",function:"quadratic",amount:this.distantStart},{type:"remote",function:"exponential",amount:this.remoteStart}].sort((e,i)=>e.amount-i.amount).map(e=>`${e.function} scaling past ${this.formatGalaxies(e.amount)} (${e.type})`).join(", ").capitalize()}`}},classObject(){return{"o-primary-btn--galaxy l-dim-row__prestige-button":!0,"tutorial--glow":this.canBeBought&&this.hasTutorial,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){this.type=Galaxy.type,this.galaxies.normal=player.galaxies+GalaxyGenerator.galaxies,this.galaxies.replicanti=Replicanti.galaxies.total,this.galaxies.dilation=player.dilation.totalTachyonGalaxies;const t=Galaxy.requirement;this.requirement.amount=t.amount,this.requirement.tier=t.tier,this.canBeBought=t.isSatisfied&&Galaxy.canBeBought,this.distantStart=EternityChallenge(5).isRunning?0:Galaxy.costScalingStart,this.remoteStart=Galaxy.remoteStart,this.lockText=Galaxy.lockText,this.canBulkBuy=EternityMilestone.autobuyMaxGalaxies.isReached||BreakInfinityUpgrade.autobuyMaxDimboosts.isBought,this.creditsClosed=GameEnd.creditsEverClosed,this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.GALAXY)},buyGalaxy(t){this.canBeBought&&manualRequestGalaxyReset(this.canBulkBuy&&t)},formatGalaxies(t){return t>1e8?format(t,2):formatInt(t)}}};var _Ge=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-dimension-row c-antimatter-dim-row c-antimatter-prestige-row"},[i("div",{staticClass:"l-dim-row__prestige-text c-dim-row__label c-dim-row__label--amount l-text-wrapper"},[e._v(" "+e._s(e.typeName)+" ("+e._s(e.sumText)+"): requires "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" Dimensions "),i("div",{staticClass:"l-scaling-text-wrapper"},[e._v(" "+e._s(e.hasIncreasedScaling?e.costScalingText:"")+" ")])]),i("PrimaryButton",{class:e.classObject,attrs:{enabled:e.canBeBought},on:{click:[function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.buyGalaxy(!0)},function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.buyGalaxy(!1)}]}},[e._v(" "+e._s(e.buttonText)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])],1)},wGe=[],EGe=X(bGe,_Ge,wGe,!1,null,"b6086740");const TGe=EGe.exports,CGe={name:"ClassicDimensionBoostRow",components:{PrimaryButton:mt},data(){return{requirement:{tier:1,amount:0},isBuyable:!1,purchasedBoosts:0,imaginaryBoosts:0,lockText:null,unlockedByBoost:null,creditsClosed:!1,requirementText:null,hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return AntimatterDimension(this.requirement.tier).displayName},boostCountText(){if(this.requirementText)return this.requirementText;const t=[this.purchasedBoosts];this.imaginaryBoosts!==0&&t.push(this.imaginaryBoosts);const e=t.map(formatInt).join(" + ");return t.length>=2?`${e} = ${formatInt(t.sum())}`:e},classObject(){return{"o-primary-btn--dimboost l-dim-row__prestige-button":!0,"tutorial--glow":this.isBuyable&&this.hasTutorial,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){const t=DimBoost.requirement;this.requirement.tier=t.tier,this.requirement.amount=t.amount,this.isBuyable=t.isSatisfied&&DimBoost.canBeBought,this.purchasedBoosts=DimBoost.purchasedBoosts,this.imaginaryBoosts=DimBoost.imaginaryBoosts,this.lockText=DimBoost.lockText,this.unlockedByBoost=DimBoost.unlockedByBoost,this.creditsClosed=GameEnd.creditsClosed,this.isDoomed&&(this.requirementText=formatInt(this.purchasedBoosts)),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.DIMBOOST)},dimensionBoost(t){!DimBoost.requirement.isSatisfied||!DimBoost.canBeBought||manualRequestDimensionBoost(t)}}};var kGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-dimension-row c-antimatter-dim-row c-antimatter-prestige-row"},[i("div",{staticClass:"l-dim-row__prestige-text c-dim-row__label c-dim-row__label--amount"},[e._v(" Dimension Boost ("+e._s(e.boostCountText)+"): requires "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" Dimensions ")]),i("PrimaryButton",{class:e.classObject,attrs:{enabled:e.isBuyable},on:{click:[function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.dimensionBoost(!0)},function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.dimensionBoost(!1)}]}},[e._v(" "+e._s(e.unlockedByBoost)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])],1)},SGe=[],AGe=X(CGe,kGe,SGe,!1,null,"2831238d");const xGe=AGe.exports,DGe={name:"TickspeedRow",data(){return{purchasedTickspeed:0,freeTickspeed:0,isVisible:!1,mult:new Decimal(0),cost:new Decimal(0),isAffordable:!1,tickspeed:new Decimal(0),gameSpeedMult:1,galaxyCount:0,isContinuumActive:!1,continuumValue:0,hasTutorial:!1,hasRealityButton:!1,isEC9:!1}},computed:{classObject(){return{"l-tickspeed-container":!0,"l-tickspeed-container--hidden":!this.isVisible}},multiplierDisplay(){if(InfinityChallenge(3).isRunning)return`Multiply all Antimatter Dimensions by
        ${formatX(1.05+this.galaxyCount*.005,3,3)}`;const t=this.mult;return`${formatX(t.reciprocal(),2,3)} faster / upgrade.`},tickspeedDisplay(){return`Tickspeed: ${format(this.tickspeed,2,3)} / sec`},continuumString(){return formatFloat(this.continuumValue,2)},upgradeCount(){const t=this.purchasedTickspeed;return this.freeTickspeed?t===0||this.isContinuumActive?`${formatInt(this.freeTickspeed)} Free Upgrades`:`${formatInt(t)} Purchased + ${formatInt(this.freeTickspeed)} Free`:quantifyInt("Purchased Upgrade",t)}},methods:{update(){this.hasRealityButton=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,this.purchasedTickspeed=player.totalTickBought,this.freeTickspeed=FreeTickspeed.amount,this.isEC9=EternityChallenge(9).isRunning,this.isVisible=Tickspeed.isUnlocked||this.isEC9,this.isVisible&&(this.mult.copyFrom(Tickspeed.multiplier),this.cost.copyFrom(Tickspeed.cost),this.isAffordable=Tickspeed.isAvailableForPurchase&&Tickspeed.isAffordable,this.tickspeed.copyFrom(Tickspeed.perSecond),this.gameSpeedMult=getGameSpeedupForDisplay(),this.galaxyCount=player.galaxies,this.isContinuumActive=Laitela.continuumActive,this.isContinuumActive&&(this.continuumValue=Tickspeed.continuumValue),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.TICKSPEED))},buttonClass(){return{"o-primary-btn":!0,"tickspeed-btn":!0,"o-primary-btn--disabled":!this.isAffordable&&!this.isContinuumActive,"o-non-clickable o-continuum":this.isContinuumActive,"tutorial--glow":this.isAffordable&&this.hasTutorial}}}};var IGe=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject},[i("div",{staticClass:"tickspeed-buttons"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.upgradeCount,expression:"upgradeCount"}],class:e.buttonClass(),attrs:{onclick:"buyTickSpeed()"}},[e.isContinuumActive?i("span",[e._v(" Tickspeed Continuum: "+e._s(e.continuumString)+" ")]):e.isEC9?i("span",[e._v(" Tickspeed Unpurchasable (EC 9) ")]):i("span",[e._v(" Tickspeed Cost: "+e._s(e.format(e.cost))+" ")]),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),e.isContinuumActive?e._e():i("button",{staticClass:"o-primary-btn tickspeed-max-btn",class:{"o-primary-btn--disabled":!e.isAffordable&&!e.isContinuumActive},attrs:{onclick:"buyMaxTickSpeed()"}},[e._v(" Buy Max ")])]),e.hasRealityButton?i("div",{staticClass:"tickspeed-labels"},[e._v(" "+e._s(e.tickspeedDisplay)+" | "+e._s(e.multiplierDisplay)+" ")]):e._e()])},RGe=[],MGe=X(DGe,IGe,RGe,!1,null,"fbaba040");const P5=MGe.exports,PGe={name:"ClassicAntimatterDimensionsTab",components:{PrimaryButton:mt,AntimatterDimensionRow:fGe,AntimatterDimensionsTabHeader:vGe,AntimatterGalaxyRow:TGe,DimensionBoostRow:xGe,AntimatterDimensionProgressBar:M5,TickspeedRow:P5},data(){return{hasDimensionBoosts:!1,isQuickResetAvailable:!1,isSacrificeUnlocked:!1,buy10Mult:new Decimal(0),currentSacrifice:new Decimal(0),hasRealityButton:!1,multiplierText:""}},methods:{update(){this.hasDimensionBoosts=player.dimensionBoosts>0,this.isQuickResetAvailable=Player.isInAntimatterChallenge&&Player.antimatterChallenge.isQuickResettable,this.isSacrificeUnlocked=Sacrifice.isVisible,this.buy10Mult.copyFrom(AntimatterDimensions.buyTenMultiplier),this.currentSacrifice.copyFrom(Sacrifice.totalBoost),this.hasRealityButton=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought;const t=this.isSacrificeUnlocked?` | Dimensional Sacrifice multiplier: ${formatX(this.currentSacrifice,2,2)}`:"";this.multiplierText=`Buy 10 Dimension purchase multiplier: ${formatX(this.buy10Mult,2,2)}${t}`},quickReset(){softReset(-1,!0,!0)}}};var OGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-old-ui-antimatter-dim-tab"},[i("AntimatterDimensionsTabHeader"),e._v(" "+e._s(e.multiplierText)+" "),i("TickspeedRow"),i("div",{staticClass:"l-dimensions-container"},[e._l(8,function(n){return i("AntimatterDimensionRow",{key:n,attrs:{tier:n}})}),i("DimensionBoostRow"),i("AntimatterGalaxyRow")],2),e.isQuickResetAvailable?i("PrimaryButton",{staticClass:"o-primary-btn--quick-reset",on:{click:e.quickReset}},[e._v(" Perform a Dimension Boost reset "),e.hasDimensionBoosts?i("span",[e._v(" but lose a Dimension Boost")]):i("span",[e._v(" for no gain")])]):e._e(),i("div",{staticClass:"l-flex"}),i("AntimatterDimensionProgressBar",{staticClass:"l-antimatter-dim-tab__progress_bar"})],1)},NGe=[],GGe=X(PGe,OGe,NGe,!1,null,"dad05b98");const UGe=GGe.exports,LGe={name:"ModernAntimatterDimensionRow",components:{GenericDimensionRowText:sy},props:{tier:{type:Number,required:!0}},data(){return{isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,boughtBefore10:0,rateOfChange:new Decimal(0),singleCost:new Decimal(0),until10Cost:new Decimal(0),isAffordable:!1,buyUntil10:!0,howManyCanBuy:0,isContinuumActive:!1,continuumValue:0,isShown:!1,isCostsAD:!1,amountDisplay:"",hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,name(){return`${AntimatterDimension(this.tier).shortDisplayName} Antimatter Dimension`},costDisplay(){return this.buyUntil10?format(this.until10Cost):format(this.singleCost)},continuumString(){return formatFloat(this.continuumValue,2)},showRow(){return this.isShown||this.isUnlocked||this.amount.gt(0)},boughtTooltip(){return this.isCapped?`Nameless prevents the purchase of more than ${format(1)} 8th Antimatter Dimension`:this.isContinuumActive?"Continuum produces all your Antimatter Dimensions":`Purchased ${quantifyInt("time",this.bought)}`},costUnit(){return`${AntimatterDimension(this.tier-2).shortDisplayName} AD`},buttonPrefix(){return this.isUnlocked?this.isCapped?"Shattered by Nameless":this.isContinuumActive?"Continuum: ":`Buy ${formatInt(this.howManyCanBuy)}`:"Locked"},buttonValue(){if(this.isCapped)return"";if(this.isContinuumActive)return this.continuumString;const t=this.showCostTitle(this.buyUntil10?this.until10Cost:this.singleCost)?"Cost: ":"",e=this.isCostsAD?this.costUnit:"AM";return`${t}${this.costDisplay} ${e}`},hasLongText(){return this.buttonValue.length>20}},methods:{update(){const t=this.tier;if(t>DimBoost.maxDimensionsUnlockable&&!this.isDoomed)return;const e=AntimatterDimension(t);this.isUnlocked=e.isAvailableForPurchase;const i=player.buyUntil10;this.isCapped=t===8&&Enslaved.isRunning&&e.bought>=1,this.multiplier.copyFrom(AntimatterDimension(t).multiplier),this.amount.copyFrom(e.totalAmount),this.bought=e.bought,this.boughtBefore10=e.boughtBefore10,this.howManyCanBuy=i?e.howManyCanBuy:Math.min(e.howManyCanBuy,1),this.singleCost.copyFrom(e.cost),this.until10Cost.copyFrom(e.cost.times(Math.max(e.howManyCanBuy,1))),t<8&&this.rateOfChange.copyFrom(e.rateOfChange),this.isAffordable=e.isAffordable,this.buyUntil10=i,this.isContinuumActive=Laitela.continuumActive,this.isContinuumActive&&(this.continuumValue=e.continuumValue),this.isShown=DimBoost.totalBoosts>0&&DimBoost.totalBoosts+3>=t||PlayerProgress.infinityUnlocked(),this.isCostsAD=NormalChallenge(6).isRunning&&t>2&&!this.isContinuumActive,this.amountDisplay=this.tier<8?format(this.amount,2):formatInt(this.amount),this.hasTutorial=t===1&&Tutorial.isActive(TUTORIAL_STATE.DIM1)||t===2&&Tutorial.isActive(TUTORIAL_STATE.DIM2)},buy(){this.isContinuumActive||(this.howManyCanBuy===1?buyOneDimension(this.tier):buyAsManyAsYouCanBuy(this.tier))},showCostTitle(t){return t.exponent<1e6},buttonClass(){return{"o-primary-btn o-primary-btn--new":!0,"o-primary-btn--disabled":!this.isAffordable&&!this.isContinuumActive||!this.isUnlocked||this.isCapped,"o-non-clickable o-continuum":this.isContinuumActive}},buttonTextClass(){return{"button-content l-modern-buy-ad-text":!0,"tutorial--glow":this.isAffordable&&this.hasTutorial}}}};var BGe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-row-antimatter-dim c-antimatter-dim-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,2),"amount-text":e.amountDisplay,rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container c-modern-dim-tooltip-container"},[i("div",{staticClass:"c-modern-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.boughtTooltip)+" ")]),i("button",{class:e.buttonClass(),on:{click:e.buy}},[i("div",{class:e.buttonTextClass()},[i("div",[e._v(" "+e._s(e.buttonPrefix)+" ")]),i("div",{class:{"l-dim-row-small-text":e.hasLongText}},[e._v(" "+e._s(e.buttonValue)+" ")]),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),!e.isContinuumActive&&e.isUnlocked&&!e.isCapped?i("div",{staticClass:"fill"},[i("div",{staticClass:"fill-purchased",style:{width:e.boughtBefore10*10+"%"}}),i("div",{staticClass:"fill-possible",style:{width:e.howManyCanBuy*10+"%"}})]):e._e()])])],1)},$Ge=[],FGe=X(LGe,BGe,$Ge,!1,null,"8b7ed69c");const HGe=FGe.exports,VGe={name:"ModernAntimatterGalaxyRow",data(){return{type:GALAXY_TYPE.NORMAL,galaxies:{normal:0,replicanti:0,dilation:0},requirement:{tier:1,amount:0},canBeBought:!1,distantStart:0,remoteStart:0,lockText:null,canBulkBuy:!1,creditsClosed:!1,scalingText:{distant:null,remote:null},hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return AntimatterDimension(this.requirement.tier).shortDisplayName},buttonText(){if(this.lockText!==null)return this.lockText;const t=[];return Achievement(111).isUnlocked||t.push("Dimensions"),Achievement(143).isUnlocked||t.push("Dimension Boosts"),t.length===0?"Increase the power of Tickspeed upgrades":`Reset your ${makeEnumeration(t)} to increase the power of Tickspeed upgrades`},sumText(){const t=[Math.max(this.galaxies.normal,0)];this.galaxies.replicanti>0&&t.push(this.galaxies.replicanti),this.galaxies.dilation>0&&t.push(this.galaxies.dilation);const e=t.map(this.formatGalaxies).join(" + ");return t.length>=2?`${e} = ${this.formatGalaxies(t.sum())}`:e},typeName(){switch(this.type){case GALAXY_TYPE.NORMAL:return"Antimatter Galaxies";case GALAXY_TYPE.DISTANT:return"Distant Antimatter Galaxies";case GALAXY_TYPE.REMOTE:return"Remote Antimatter Galaxies"}},hasIncreasedScaling(){return this.type!==GALAXY_TYPE.NORMAL},costScalingText(){switch(this.type){case GALAXY_TYPE.DISTANT:return`Each Galaxy is more expensive past ${quantifyInt("Galaxy",this.distantStart)}`;case GALAXY_TYPE.REMOTE:return`Increased Galaxy cost scaling: ${[{type:"distant",function:"quadratic",amount:this.distantStart},{type:"remote",function:"exponential",amount:this.remoteStart}].sort((e,i)=>e.amount-i.amount).map(e=>`${e.function} scaling past ${this.formatGalaxies(e.amount)} (${e.type})`).join(", ").capitalize()}`}},classObject(){return{"o-primary-btn o-primary-btn--new o-primary-btn--dimension-reset":!0,"tutorial--glow":this.canBeBought&&this.hasTutorial,"o-primary-btn--disabled":!this.canBeBought,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){this.type=Galaxy.type,this.galaxies.normal=player.galaxies+GalaxyGenerator.galaxies,this.galaxies.replicanti=Replicanti.galaxies.total,this.galaxies.dilation=player.dilation.totalTachyonGalaxies;const t=Galaxy.requirement;this.requirement.amount=t.amount,this.requirement.tier=t.tier,this.canBeBought=t.isSatisfied&&Galaxy.canBeBought,this.distantStart=EternityChallenge(5).isRunning?0:Galaxy.costScalingStart,this.remoteStart=Galaxy.remoteStart,this.lockText=Galaxy.lockText,this.canBulkBuy=EternityMilestone.autobuyMaxGalaxies.isReached||BreakInfinityUpgrade.autobuyMaxDimboosts.isBought,this.creditsClosed=GameEnd.creditsEverClosed,this.isDoomed&&(this.scalingText={distant:this.formatGalaxies(this.distantStart),remote:this.formatGalaxies(Galaxy.remoteStart)}),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.GALAXY)},buyGalaxy(t){this.canBeBought&&manualRequestGalaxyReset(this.canBulkBuy&&t)},formatGalaxies(t){return t>1e8?format(t,2):formatInt(t)}}};var YGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"reset-container galaxy"},[i("h4",[e._v(e._s(e.typeName)+" ("+e._s(e.sumText)+")")]),i("span",[e._v("Requires: "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" Antimatter D")]),e.hasIncreasedScaling?i("span",[e._v(e._s(e.costScalingText))]):e._e(),i("button",{class:e.classObject,on:{click:[function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.buyGalaxy(!0)},function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.buyGalaxy(!1)}]}},[e._v(" "+e._s(e.buttonText)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])])},qGe=[],WGe=X(VGe,YGe,qGe,!1,null,null);const jGe=WGe.exports,zGe={name:"ModernDimensionBoostRow",data(){return{requirement:{tier:1,amount:0},isBuyable:!1,purchasedBoosts:0,imaginaryBoosts:0,lockText:null,unlockedByBoost:null,creditsClosed:!1,requirementText:null,hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return AntimatterDimension(this.requirement.tier).shortDisplayName},boostCountText(){if(this.requirementText)return this.requirementText;const t=[this.purchasedBoosts];this.imaginaryBoosts!==0&&t.push(this.imaginaryBoosts);const e=t.map(formatInt).join(" + ");return t.length>=2?`${e} = ${formatInt(t.sum())}`:e},classObject(){return{"o-primary-btn o-primary-btn--new o-primary-btn--dimension-reset":!0,"tutorial--glow":this.isBuyable&&this.hasTutorial,"o-primary-btn--disabled":!this.isBuyable,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){const t=DimBoost.requirement;this.requirement.tier=t.tier,this.requirement.amount=t.amount,this.isBuyable=t.isSatisfied&&DimBoost.canBeBought,this.purchasedBoosts=DimBoost.purchasedBoosts,this.imaginaryBoosts=DimBoost.imaginaryBoosts,this.lockText=DimBoost.lockText,this.unlockedByBoost=DimBoost.unlockedByBoost,this.creditsClosed=GameEnd.creditsEverClosed,this.isDoomed&&(this.requirementText=formatInt(this.purchasedBoosts)),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.DIMBOOST)},dimensionBoost(t){!DimBoost.requirement.isSatisfied||!DimBoost.canBeBought||manualRequestDimensionBoost(t)}}};var XGe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"reset-container dimboost"},[i("h4",[e._v("Dimension Boost ("+e._s(e.boostCountText)+")")]),i("span",[e._v("Requires: "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" Antimatter D")]),i("button",{class:e.classObject,on:{click:[function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.dimensionBoost(!0)},function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.dimensionBoost(!1)}]}},[e._v(" "+e._s(e.unlockedByBoost)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])])},KGe=[],ZGe=X(zGe,XGe,KGe,!1,null,null);const QGe=ZGe.exports,JGe={name:"ModernAntimatterDimensionsTab",components:{PrimaryButton:mt,AntimatterDimensionProgressBar:M5,AntimatterDimensionRow:HGe,AntimatterGalaxyRow:jGe,DimensionBoostRow:QGe,TickspeedRow:P5},data(){return{hasDimensionBoosts:!1,buyUntil10:!0,isSacrificeUnlocked:!1,isSacrificeAffordable:!1,buy10Mult:new Decimal(0),currentSacrifice:new Decimal(0),sacrificeBoost:new Decimal(0),disabledCondition:"",isQuickResetAvailable:!1,hasContinuum:!1,isContinuumActive:!1,multiplierText:"",isFullyAutomated:!1}},computed:{sacrificeTooltip(){return this.isFullyAutomated?"Sacrifice autobuyer is enabled and Achievement 118 is unlocked, so Sacrifice is now fully automated":`Boosts 8th Antimatter Dimension by ${formatX(this.sacrificeBoost,2,2)}`}},methods:{maxAll(){maxAll()},sacrifice(){sacrificeBtnClick()},changeBuyMode(){if(!this.hasContinuum){player.buyUntil10=!player.buyUntil10;return}if(this.isContinuumActive)Laitela.setContinuum(!1),player.buyUntil10=!0;else if(player.buyUntil10)player.buyUntil10=!1;else{if(ImaginaryUpgrade(21).isLockingMechanics&&player.auto.disableContinuum){ImaginaryUpgrade(21).tryShowWarningModal();return}Laitela.setContinuum(!0)}},getUntil10Display(){return this.isContinuumActive?"Continuum":this.buyUntil10?"Until 10":"Buy 1"},update(){this.hasDimensionBoosts=player.dimensionBoosts>0,this.buyUntil10=player.buyUntil10,this.hasContinuum=Laitela.continuumUnlocked,this.isContinuumActive=Laitela.continuumActive,this.isQuickResetAvailable=Player.isInAntimatterChallenge&&Player.antimatterChallenge.isQuickResettable;const t=Sacrifice.isVisible;if(this.isSacrificeUnlocked=t,this.buy10Mult.copyFrom(AntimatterDimensions.buyTenMultiplier),this.multiplierText=`Buy 10 Dimension purchase multiplier: ${formatX(this.buy10Mult,2,2)}`,!t)return;this.isFullyAutomated=Autobuyer.sacrifice.isActive&&Achievement(118).isEffectActive&&(Sacrifice.canSacrifice||Sacrifice.disabledText===`${formatX(1)} multiplier`),this.isSacrificeAffordable=Sacrifice.canSacrifice&&!this.isFullyAutomated,this.currentSacrifice.copyFrom(Sacrifice.totalBoost),this.sacrificeBoost.copyFrom(Sacrifice.nextBoost),this.disabledCondition=Sacrifice.disabledCondition;const e=this.isSacrificeUnlocked?` | Dimensional Sacrifice multiplier: ${formatX(this.currentSacrifice,2,2)}`:"";this.multiplierText+=e}}};var eUe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-antimatter-dim-tab"},[i("div",{staticClass:"modes-container"},[i("button",{staticClass:"o-primary-btn l-button-container",on:{click:e.changeBuyMode}},[e._v(" "+e._s(e.getUntil10Display())+" ")]),i("PrimaryButton",{directives:[{name:"show",rawName:"v-show",value:e.isSacrificeUnlocked,expression:"isSacrificeUnlocked"},{name:"tooltip",rawName:"v-tooltip",value:e.sacrificeTooltip,expression:"sacrificeTooltip"}],staticClass:"o-primary-btn--sacrifice",attrs:{enabled:e.isSacrificeAffordable},on:{click:e.sacrifice}},[e.isFullyAutomated?i("span",[e._v(" Dimensional Sacrifice is Automated (Achievement 118) ")]):e.isSacrificeAffordable?i("span",[e._v("Dimensional Sacrifice ("+e._s(e.formatX(e.sacrificeBoost,2,2))+")")]):i("span",[e._v("Dimensional Sacrifice Disabled ("+e._s(e.disabledCondition)+")")])]),i("button",{staticClass:"o-primary-btn l-button-container",on:{click:e.maxAll}},[e._v(" Max All (M) ")])],1),i("span",[e._v(e._s(e.multiplierText))]),i("TickspeedRow"),i("div",{staticClass:"l-dimensions-container"},e._l(8,function(n){return i("AntimatterDimensionRow",{key:n,attrs:{tier:n}})}),1),i("div",{staticClass:"resets-container"},[i("DimensionBoostRow"),e.isQuickResetAvailable?i("PrimaryButton",{staticClass:"o-primary-btn--quick-reset",attrs:{onclick:"softReset(-1, true, true)"}},[e._v(" Perform a Dimension Boost reset "),e.hasDimensionBoosts?i("span",[e._v(" but lose a Dimension Boost")]):i("span",[e._v(" for no gain")])]):e._e(),i("AntimatterGalaxyRow")],1),i("AntimatterDimensionProgressBar")],1)},tUe=[],iUe=X(JGe,eUe,tUe,!1,null,"eb1b3c9b");const nUe=iUe.exports,rUe={name:"AntimatterDimensionsTab",components:{ClassicAntimatterDimensionsTab:UGe,ModernAntimatterDimensionsTab:nUe},computed:{activeComponent(){return this.$viewModel.newUI?"ModernAntimatterDimensionsTab":"ClassicAntimatterDimensionsTab"}}};var aUe=function(){var e=this,i=e._self._c;return i(e.activeComponent,{tag:"component"})},sUe=[],oUe=X(rUe,aUe,sUe,!1,null,null);const lUe=oUe.exports,cUe={name:"AutobuyerToggles",components:{PrimaryButton:mt,PrimaryToggleButton:ln},data(){return{isDoomed:!1,autobuyersOn:!1,showContinuum:!1,disableContinuum:!1,allAutobuyersDisabled:!1}},watch:{autobuyersOn(t){player.auto.autobuyersOn=t},disableContinuum(t){if(ImaginaryUpgrade(21).isLockingMechanics&&!t){ImaginaryUpgrade(21).tryShowWarningModal();return}Laitela.setContinuum(!t)}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.autobuyersOn=player.auto.autobuyersOn,this.showContinuum=Laitela.isUnlocked,this.disableContinuum=player.auto.disableContinuum,this.allAutobuyersDisabled=Autobuyers.unlocked.every(t=>!t.isActive)},toggleAllAutobuyers(){for(const t of Autobuyers.unlocked)t.isActive=this.allAutobuyersDisabled}}};var uUe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{on:"Pause autobuyers",off:"Resume autobuyers"},model:{value:e.autobuyersOn,callback:function(n){e.autobuyersOn=n},expression:"autobuyersOn"}}),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(n){return e.toggleAllAutobuyers()}}},[e._v(" "+e._s(e.allAutobuyersDisabled?"Enable":"Disable")+" all autobuyers ")]),e.isDoomed?i("span",[e.showContinuum?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option"},[e._v(" Continuum is disabled ")]):e._e()],1):i("span",[e.showContinuum?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{on:"Enable Continuum",off:"Disable Continuum"},model:{value:e.disableContinuum,callback:function(n){e.disableContinuum=n},expression:"disableContinuum"}}):e._e()],1)],1)},dUe=[],hUe=X(cUe,uUe,dUe,!1,null,"d9bd0b87");const fUe=hUe.exports,pUe={name:"DimensionBulkButton",props:{autobuyer:{type:Object,required:!0}},data(){return{hasMaxedInterval:!1,hasMaxedBulk:!1,isUnlocked:!1,bulkUnlimited:!1,bulk:1,cost:1,isAffordable:!1}},computed:{bulkDisplay(){if(this.hasMaxedBulk)return`${formatX(this.bulk,2,0)} bulk buy (capped)`;const t=Math.min(this.bulk*2,this.autobuyer.bulkCap);return`${formatX(this.bulk,2,0)} ➜ ${formatX(t,2,0)} bulk buy`},classObject(){return{"o-autobuyer-btn":!0,"o-autobuyer-btn--unavailable":!this.isAffordable&&!this.hasMaxedBulk,"o-non-clickable":this.hasMaxedBulk}}},methods:{update(){const t=this.autobuyer;this.hasMaxedInterval=t.hasMaxedInterval,this.isUnlocked=t.isUnlocked,this.hasMaxedBulk=t.hasMaxedBulk,this.bulkUnlimited=t.hasUnlimitedBulk,this.bulk=t.bulk,this.cost=t.cost,this.isAffordable=Currency.infinityPoints.gte(this.cost)},upgradeBulk(){this.autobuyer.upgradeBulk()}}};var mUe=function(){var e=this,i=e._self._c;return e.hasMaxedInterval&&!e.bulkUnlimited&&e.isUnlocked?i("button",{class:e.classObject,on:{click:e.upgradeBulk}},[i("span",[e._v(e._s(e.bulkDisplay))]),e.hasMaxedBulk?e._e():[i("br"),i("span",[e._v("Cost: "+e._s(e.format(e.cost,2,0))+" IP")])]],2):e.hasMaxedInterval&&!e.bulkUnlimited?i("button",{staticClass:"o-autobuyer-btn l-autobuyer-box__button o-autobuyer-btn--unavailable"},[e._v(" Complete the challenge to upgrade bulk ")]):e._e()},yUe=[],gUe=X(pUe,mUe,yUe,!1,null,"eea5c864");const vUe=gUe.exports,bUe={name:"DimensionAutobuyerBox",components:{DimensionBulkButton:vUe,AutobuyerBox:Vf,AutobuyerIntervalButton:mb},props:{tier:{type:Number,required:!0}},data(){return{mode:AUTOBUYER_MODE.BUY_SINGLE}},computed:{autobuyer(){return Autobuyer.antimatterDimension(this.tier)},name(){return`${AntimatterDimension(this.tier).shortDisplayName} Dimension Autobuyer`},modeDisplay(){switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:return"Buys singles";case AUTOBUYER_MODE.BUY_10:return"Buys max"}throw"Unknown Dimension Autobuyer mode"}},methods:{update(){this.mode=this.autobuyer.mode},toggleMode(){this.autobuyer.toggleMode(),this.update()}}};var _Ue=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,name:e.name,"show-interval":""},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[i("DimensionBulkButton",{attrs:{autobuyer:e.autobuyer}}),i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},{key:"toggleSlot",fn:function(){return[i("button",{staticClass:"o-autobuyer-btn",on:{click:e.toggleMode}},[e._v(" "+e._s(e.modeDisplay)+" ")])]},proxy:!0}])})},wUe=[],EUe=X(bUe,_Ue,wUe,!1,null,"b1a874a6");const TUe=EUe.exports,CUe={name:"OpenModalHotkeysButton",methods:{handleClick(){Modal.hotkeys.show()}}};var kUe=function(){var e=this,i=e._self._c;return i("p",{staticClass:"c-options-tab__hotkeys-link",on:{click:e.handleClick}},[e._v(" Press "),i("kbd",[e._v("?")]),e._v(" to open the hotkey list. ")])},SUe=[],AUe=X(CUe,kUe,SUe,!1,null,null);const TE=AUe.exports,xUe={name:"AutobuyerToggleLabel",props:{isActive:Boolean,isDisabled:Boolean,name:{type:String,required:!0}},computed:{autobuyerToggleClass(){return this.isDisabled?this.isActive?"fas fa-pause":"fas fa-times":this.isActive?"fas fa-check":"fas fa-times"},autobuyerStateClass(){return this.isDisabled?{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label--active-paused":this.isActive,"o-autobuyer-toggle-checkbox__label--deactive-paused":!this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":this.isDisabled}:{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label--active":this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":this.isDisabled}}}};var DUe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-autobuyer-box__footer",on:{click:e.emitClick}},[i("label",{class:e.autobuyerStateClass},[i("span",{class:e.autobuyerToggleClass})]),i("input",{attrs:{disabled:e.isDisabled,name:e.name,type:"checkbox"},domProps:{checked:e.isActive&&!e.isDisabled}})])},IUe=[],RUe=X(xUe,DUe,IUe,!1,null,"7a818cb5");const O5=RUe.exports,MUe={name:"AutobuyerGroupToggleLabel",components:{AutobuyerToggleLabel:O5},props:{isActive:Boolean,name:{type:String,required:!0}},data(){return{isDisabled:!1}},methods:{update(){this.isDisabled=!player.auto.autobuyersOn}}};var PUe=function(){var e=this,i=e._self._c;return i("AutobuyerToggleLabel",{attrs:{"is-active":e.isActive,"is-disabled":e.isDisabled,name:e.name},on:{click:e.emitClick}})},OUe=[],NUe=X(MUe,PUe,OUe,!1,null,"3fdc6b46");const GUe=NUe.exports,UUe={name:"AutobuyerModeButton",props:{autobuyer:{type:Object,required:!0}},data(){return{mode:AUTOBUYER_MODE.BUY_SINGLE}},computed:{modeDisplay(){switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:return"Buys singles";case AUTOBUYER_MODE.BUY_10:return"Buys max"}throw"Unknown Dimension Autobuyer mode"}},methods:{update(){this.mode=this.autobuyer.mode},toggleMode(){this.autobuyer.toggleMode(),this.update()}}};var LUe=function(){var e=this,i=e._self._c;return i("button",{staticClass:"o-autobuyer-btn o-autobuyer-btn--tiny",on:{click:e.toggleMode}},[e._v(" "+e._s(e.modeDisplay)+" ")])},BUe=[],$Ue=X(UUe,LUe,BUe,!1,null,"f0b5aef2");const FUe=$Ue.exports,HUe={name:"AutobuyerSingleToggleLabel",components:{AutobuyerToggleLabel:O5},props:{autobuyer:{type:Object,required:!0},parentDisabled:Boolean},data(){return{isActive:!1,isDisabled:!1}},computed:{name(){return this.autobuyer.name}},methods:{update(){this.isActive=this.autobuyer.isActive,this.isDisabled=!player.auto.autobuyersOn||this.parentDisabled},toggle(){this.autobuyer.toggle()}}};var VUe=function(){var e=this,i=e._self._c;return i("AutobuyerToggleLabel",{attrs:{"is-active":e.isActive,"is-disabled":e.isDisabled,name:e.name},on:{click:e.toggle}})},YUe=[],qUe=X(HUe,VUe,YUe,!1,null,"ac6f9f39");const N5=qUe.exports,WUe={name:"SingleAutobuyerInRow",components:{AutobuyerSingleToggleLabel:N5,AutobuyerIntervalLabel:fE,AutobuyerModeButton:FUe},props:{autobuyer:{type:Object,required:!0},showIndividual:Boolean,parentDisabled:Boolean},data(){return{isVisible:!1}},computed:{name(){return this.autobuyer.name},hasMode(){return this.autobuyer.mode!==void 0}},methods:{update(){const t=this.autobuyer;this.isVisible=t.isUnlocked||t.isBought}}};var jUe=function(){var e=this,i=e._self._c;return e.isVisible?i("span",{staticClass:"c-autobuyer-box-slot"},[i("AutobuyerSingleToggleLabel",{attrs:{autobuyer:e.autobuyer,"parent-disabled":e.parentDisabled}}),e._v(" "+e._s(e.name)+" "),e.showIndividual?i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyer}}):e._e(),e.hasMode?i("AutobuyerModeButton",{attrs:{autobuyer:e.autobuyer}}):e._e()],1):e._e()},zUe=[],XUe=X(WUe,jUe,zUe,!1,null,"6ffc07a9");const KUe=XUe.exports,ZUe={name:"MultipleAutobuyersBox",components:{AutobuyerIntervalLabel:fE,AutobuyerGroupToggleLabel:GUe,SingleAutobuyerInRow:KUe},props:{type:{type:Function,required:!0}},data(){return{continuumActive:!1,anyUnlocked:!1,displayLabelAsGroup:!1,parentActive:!1}},computed:{autobuyers(){return this.type.zeroIndexed},name(){return this.type.groupName},entryCount(){return this.type.entryCount},rowCount(){return Math.ceil(this.entryCount/8)},entryCountPerRow(){return this.rowCount===1?this.entryCount:5},boxSize(){return`flex: 1 0 ${100/this.entryCountPerRow-1}%`},isADBox(){return this.name===Autobuyer.antimatterDimension.groupName},showAutobuyers(){return this.isADBox?this.anyUnlocked&&this.displayLabelAsGroup:this.anyUnlocked}},methods:{update(){this.continuumActive=Laitela.continuumActive;const t=this.type;this.anyUnlocked=t.anyUnlocked,this.displayLabelAsGroup=(t.allMaxedInterval??!0)&&(t.allUnlimitedBulk??!0),this.parentActive=t.isActive},toggleGroup(){this.type.toggle()}}};var QUe=function(){var e=this,i=e._self._c;return e.showAutobuyers&&!(e.isADBox&&e.continuumActive)?i("span",{staticClass:"c-autobuyer-box-row"},[i("AutobuyerGroupToggleLabel",{attrs:{"is-active":e.parentActive,name:e.name},on:{click:e.toggleGroup}}),i("div",{staticClass:"l-autobuyer-box__title"},[e._v(" "+e._s(e.name)),i("br"),e._v("Autobuyers "),e.displayLabelAsGroup?i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyers[0]}}):e._e()],1),i("div",{staticClass:"l-autobuyer-box__autobuyers"},[e._l(e.autobuyers,function(n,r){return[i("SingleAutobuyerInRow",{key:r,staticClass:"l-autobuyer-box__autobuyers-internal",style:e.boxSize,attrs:{autobuyer:n,"show-individual":!e.displayLabelAsGroup,"parent-disabled":!e.parentActive}}),r%e.entryCountPerRow===e.entryCountPerRow?i("br",{key:r}):e._e()]})],2)],1):e.isADBox&&e.continuumActive?i("span",{staticClass:"c-autobuyer-box-row"},[e._v(" Continuum replaces your Antimatter Dimension and Tickspeed Autobuyers, as your production multipliers "),i("br"),e._v(" now automatically and continuously scale based on how many purchases you would have had otherwise. ")]):e._e()},JUe=[],eLe=X(ZUe,QUe,JUe,!1,null,"12c668e6");const tLe=eLe.exports,iLe={name:"SingleAutobuyerBox",components:{AutobuyerSingleToggleLabel:N5,AutobuyerIntervalLabel:fE,AutobuyerInput:Nm},props:{autobuyer:{type:Object,required:!0}},data(){return{isUnlocked:!1,isHiddenSacrifice:!1}},computed:{name(){return this.autobuyer.name},isSacrifice(){return this.name==="Dimensional Sacrifice"}},methods:{update(){this.isUnlocked=this.autobuyer.isUnlocked,this.isHiddenSacrifice=this.isSacrifice&&Achievement(118).canBeApplied}}};var nLe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("span",{staticClass:"c-autobuyer-box-row"},[i("AutobuyerSingleToggleLabel",{attrs:{autobuyer:e.autobuyer}}),i("div",[e._v(" "+e._s(e.name)+" "),i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyer}}),e.isHiddenSacrifice?i("b",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Automatic (Achievement 118) ")]):e.autobuyer.hasInput?i("span",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Multiplier: "),i("AutobuyerInput",{staticClass:"c-small-autobuyer-input",attrs:{autobuyer:e.autobuyer,type:e.autobuyer.inputType,property:e.autobuyer.inputEntry}})],1):e._e()],1)],1):e._e()},rLe=[],aLe=X(iLe,nLe,rLe,!1,null,"ebe1bcf8");const sLe=aLe.exports,oLe={name:"MultipleSingleAutobuyersGroup",components:{SingleAutobuyerBox:sLe},computed:{singles(){return Autobuyers.display[1]},entryCount(){return this.singles.length},rowCount(){return Math.ceil(this.entryCount/4)},entryCountPerRow(){return this.rowCount===1?this.entryCount:4},boxSize(){return`flex: 1 0 ${100/this.entryCountPerRow-2}%`}}};var lLe=function(){var e=this,i=e._self._c;return i("span",{staticClass:"l-autobuyer-singlet-group"},[e._l(e.singles,function(n,r){return[i("SingleAutobuyerBox",{key:r,style:e.boxSize,attrs:{autobuyer:n}}),r%e.entryCountPerRow===e.entryCountPerRow?i("br",{key:r}):e._e()]})],2)},cLe=[],uLe=X(oLe,lLe,cLe,!1,null,"b88000b4");const dLe=uLe.exports,hLe={name:"SimpleAutobuyersMultiBox",components:{MultipleAutobuyersBox:tLe,MultipleSingleAutobuyersGroup:dLe},computed:{multiple(){return Autobuyers.display[0]}}};var fLe=function(){var e=this,i=e._self._c;return i("span",{staticClass:"l-autobuyers-tab"},[e._l(e.multiple,function(n,r){return i("MultipleAutobuyersBox",{key:r,attrs:{type:n}})}),i("MultipleSingleAutobuyersGroup")],2)},pLe=[],mLe=X(hLe,fLe,pLe,!1,null,"d7584220");const yLe=mLe.exports,gLe={name:"TickspeedAutobuyerBox",components:{AutobuyerBox:Vf,AutobuyerIntervalButton:mb},data(){return{mode:AUTOBUYER_MODE.BUY_SINGLE,isUnlocked:!1}},computed:{autobuyer:()=>Autobuyer.tickspeed,modeDisplay(){switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:return"Buys singles";case AUTOBUYER_MODE.BUY_MAX:return"Buys max"}throw"Unknown tickspeed autobuyer mode"}},methods:{update(){this.mode=this.autobuyer.mode,this.isUnlocked=this.autobuyer.isUnlocked},toggleMode(){this.autobuyer.toggleMode(),this.update()}}};var vLe=function(){var e=this,i=e._self._c;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,name:"Tickspeed Autobuyer","show-interval":""},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},{key:"toggleSlot",fn:function(){return[e.isUnlocked?i("button",{staticClass:"o-autobuyer-btn",on:{click:e.toggleMode}},[e._v(" "+e._s(e.modeDisplay)+" ")]):i("button",{staticClass:"o-autobuyer-btn o-autobuyer-btn--unavailable"},[e._v(" Complete the challenge to change mode ")])]},proxy:!0}])})},bLe=[],_Le=X(gLe,vLe,bLe,!1,null,"530102a5");const wLe=_Le.exports,ELe={name:"AutobuyersTab",components:{AutobuyerToggles:fUe,OpenModalHotkeysButton:TE,RealityAutobuyerBox:u3,EternityAutobuyerBox:l3,BigCrunchAutobuyerBox:s3,GalaxyAutobuyerBox:c3,DimensionBoostAutobuyerBox:o3,TickspeedAutobuyerBox:wLe,DimensionAutobuyerBox:TUe,SimpleAutobuyersMultiBox:yLe},data(){return{hasInfinity:!1,hasContinuum:!1,displayADAutobuyersIndividually:!1,hasInstant:!1}},computed:{hasSeenGamespeedAlteringEffects(){return PlayerProgress.seenAlteredSpeed()},gameTickLength(){return`${formatInt(player.options.updateRate)} ms`}},methods:{update(){this.hasInfinity=PlayerProgress.infinityUnlocked(),this.hasContinuum=Laitela.continuumActive,this.checkADAutoStatus()},checkADAutoStatus(){const t=Autobuyer.antimatterDimension;if(Pelle.isDoomed){this.displayADAutobuyersIndividually=!t.zeroIndexed.filter(e=>e.isUnlocked).every(e=>e.hasUnlimitedBulk&&e.hasMaxedInterval);return}this.hasInstant=t.hasInstant,this.displayADAutobuyersIndividually=!t.collapseDisplay}}};var TLe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-autobuyers-tab"},[i("AutobuyerToggles"),i("OpenModalHotkeysButton"),e.hasSeenGamespeedAlteringEffects?i("div",[e._v(" Autobuyer intervals and time-based settings are always "),i("b",[e._v("real time")]),e._v(" and therefore "),i("br"),e._v(" unaffected by anything which may alter how fast the game itself is running. "),i("br"),i("br")]):e._e(),e.hasInfinity?e._e():i("div",[e._v(" Challenges for upgrading autobuyers are unlocked by reaching Infinity. ")]),i("b",[e._v("Autobuyers with no displayed bulk have unlimited bulk by default.")]),i("b",[e._v(" Antimatter Dimension Autobuyers can have their bulk upgraded once interval is below "+e._s(e.formatInt(100))+" ms. ")]),e.hasInstant?i("b",[e._v('Autobuyers with "Instant" interval will trigger every game tick ('+e._s(e.gameTickLength)+").")]):e._e(),i("RealityAutobuyerBox",{staticClass:"c-reality-pos"}),i("EternityAutobuyerBox",{staticClass:"c-eternity-pos"}),i("BigCrunchAutobuyerBox",{staticClass:"c-infinity-pos"}),i("GalaxyAutobuyerBox"),i("DimensionBoostAutobuyerBox"),e.hasContinuum?e._e():i("TickspeedAutobuyerBox"),e.displayADAutobuyersIndividually?e._l(8,function(n){return i("DimensionAutobuyerBox",{key:n,attrs:{tier:n}})}):e._e(),i("SimpleAutobuyersMultiBox")],2)},CLe=[],kLe=X(ELe,TLe,CLe,!1,null,"008f3bf9");const SLe=kLe.exports;var G5={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(Ci,function(){return function(i){function n(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return i[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var r={};return n.m=i,n.c=r,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="/dist/",n(n.s=7)}([function(i,n){i.exports=function(){var r=[];return r.toString=function(){for(var a=[],s=0;s<this.length;s++){var o=this[s];o[2]?a.push("@media "+o[2]+"{"+o[1]+"}"):a.push(o[1])}return a.join("")},r.i=function(a,s){typeof a=="string"&&(a=[[null,a,""]]);for(var o={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(o[d]=!0)}for(c=0;c<a.length;c++){var p=a[c];typeof p[0]=="number"&&o[p[0]]||(s&&!p[2]?p[2]=s:s&&(p[2]="("+p[2]+") and ("+s+")"),r.push(p))}},r}},function(i,n){i.exports=function(r,a,s,o){var c,d=r=r||{},p=typeof r.default;p!=="object"&&p!=="function"||(c=r,d=r.default);var m=typeof d=="function"?d.options:d;if(a&&(m.render=a.render,m.staticRenderFns=a.staticRenderFns),s&&(m._scopeId=s),o){var y=Object.create(m.computed||null);Object.keys(o).forEach(function(_){var w=o[_];y[_]=function(){return w}}),m.computed=y}return{esModule:c,exports:d,options:m}}},function(i,n,r){function a(D){for(var B=0;B<D.length;B++){var P=D[B],R=y[P.id];if(R){R.refs++;for(var I=0;I<R.parts.length;I++)R.parts[I](P.parts[I]);for(;I<P.parts.length;I++)R.parts.push(o(P.parts[I]));R.parts.length>P.parts.length&&(R.parts.length=P.parts.length)}else{for(var F=[],I=0;I<P.parts.length;I++)F.push(o(P.parts[I]));y[P.id]={id:P.id,refs:1,parts:F}}}}function s(){var D=document.createElement("style");return D.type="text/css",_.appendChild(D),D}function o(D){var B,P,R=document.querySelector('style[data-vue-ssr-id~="'+D.id+'"]');if(R){if(k)return S;R.parentNode.removeChild(R)}if(x){var I=C++;R=w||(w=s()),B=c.bind(null,R,I,!1),P=c.bind(null,R,I,!0)}else R=s(),B=d.bind(null,R),P=function(){R.parentNode.removeChild(R)};return B(D),function(F){if(F){if(F.css===D.css&&F.media===D.media&&F.sourceMap===D.sourceMap)return;B(D=F)}else P()}}function c(D,B,P,R){var I=P?"":R.css;if(D.styleSheet)D.styleSheet.cssText=O(B,I);else{var F=document.createTextNode(I),$=D.childNodes;$[B]&&D.removeChild($[B]),$.length?D.insertBefore(F,$[B]):D.appendChild(F)}}function d(D,B){var P=B.css,R=B.media,I=B.sourceMap;if(R&&D.setAttribute("media",R),I&&(P+=`
/*# sourceURL=`+I.sources[0]+" */",P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(I))))+" */"),D.styleSheet)D.styleSheet.cssText=P;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(P))}}var p=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!p)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var m=r(19),y={},_=p&&(document.head||document.getElementsByTagName("head")[0]),w=null,C=0,k=!1,S=function(){},x=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());i.exports=function(D,B,P){k=P;var R=m(D,B);return a(R),function(I){for(var F=[],$=0;$<R.length;$++){var L=R[$],W=y[L.id];W.refs--,F.push(W)}I?(R=m(D,I),a(R)):R=[];for(var $=0;$<F.length;$++){var W=F[$];if(W.refs===0){for(var j=0;j<W.parts.length;j++)W.parts[j]();delete y[W.id]}}}};var O=function(){var D=[];return function(B,P){return D[B]=P,D.filter(Boolean).join(`
`)}}()},function(i,n,r){r(17);var a=r(1)(r(4),r(14),"data-v-566a42b8",null);i.exports=a.exports},function(i,n,r){function a(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(12),o=a(s),c=r(11),d=a(c);n.default={name:"splitPane",components:{Resizer:o.default,Pane:d.default},props:{minPercent:{type:Number,default:10},defaultPercent:{type:Number,default:50},split:{validator:function(p){return["vertical","horizontal"].indexOf(p)>=0},required:!0},className:String},computed:{userSelect:function(){return this.active?"none":""},cursor:function(){return this.active?this.split==="vertical"?"col-resize":"row-resize":""}},watch:{defaultPercent:function(p,m){this.percent=p}},data:function(){return{active:!1,hasMoved:!1,height:null,percent:this.defaultPercent,type:this.split==="vertical"?"width":"height",resizeType:this.split==="vertical"?"left":"top"}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("resize",this.percent))},onMouseDown:function(){this.active=!0,this.hasMoved=!1},onMouseUp:function(){this.active=!1},onMouseMove:function(p){if(p.buttons!==0&&p.which!==0||(this.active=!1),this.active){var m=0,y=p.currentTarget;if(this.split==="vertical")for(;y;)m+=y.offsetLeft,y=y.offsetParent;else for(;y;)m+=y.offsetTop,y=y.offsetParent;var _=this.split==="vertical"?p.pageX:p.pageY,w=this.split==="vertical"?p.currentTarget.offsetWidth:p.currentTarget.offsetHeight,C=Math.floor((_-m)/w*1e4)/100;C>this.minPercent&&C<100-this.minPercent&&(this.percent=C),this.$emit("resize",this.percent),this.hasMoved=!0}}}}},function(i,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"Pane",props:{className:String},data:function(){return{classes:[this.$parent.split,this.className].join(" "),percent:50}}}},function(i,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:{split:{validator:function(a){return["vertical","horizontal"].indexOf(a)>=0},required:!0},className:String},computed:{classes:function(){return["splitter-pane-resizer",this.split,this.className].join(" ")}}}},function(i,n,r){Object.defineProperty(n,"__esModule",{value:!0});var a=r(3),s=function(o){return o&&o.__esModule?o:{default:o}}(a);n.default=s.default,typeof window<"u"&&window.Vue&&window.Vue.component("split-pane",s.default)},function(i,n,r){n=i.exports=r(0)(),n.push([i.i,".splitter-pane-resizer[data-v-212fa2a4]{box-sizing:border-box;background:#000;position:absolute;opacity:.2;z-index:1;background-clip:padding-box}.splitter-pane-resizer.horizontal[data-v-212fa2a4]{height:11px;margin:-5px 0;border-top:5px solid hsla(0,0%,100%,0);border-bottom:5px solid hsla(0,0%,100%,0);cursor:row-resize;width:100%}.splitter-pane-resizer.vertical[data-v-212fa2a4]{width:11px;height:100%;margin-left:-5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}",""])},function(i,n,r){n=i.exports=r(0)(),n.push([i.i,'.clearfix[data-v-566a42b8]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.vue-splitter-container[data-v-566a42b8]{height:100%;position:relative}.vue-splitter-container-mask[data-v-566a42b8]{z-index:9999;width:100%;height:100%;position:absolute;top:0;left:0}',""])},function(i,n,r){n=i.exports=r(0)(),n.push([i.i,".splitter-pane.vertical.splitter-paneL[data-v-815c801c]{position:absolute;left:0;height:100%;padding-right:3px}.splitter-pane.vertical.splitter-paneR[data-v-815c801c]{position:absolute;right:0;height:100%;padding-left:3px}.splitter-pane.horizontal.splitter-paneL[data-v-815c801c]{position:absolute;top:0;width:100%}.splitter-pane.horizontal.splitter-paneR[data-v-815c801c]{position:absolute;bottom:0;width:100%;padding-top:3px}",""])},function(i,n,r){r(18);var a=r(1)(r(5),r(15),"data-v-815c801c",null);i.exports=a.exports},function(i,n,r){r(16);var a=r(1)(r(6),r(13),"data-v-212fa2a4",null);i.exports=a.exports},function(i,n){i.exports={render:function(){var r=this,a=r.$createElement;return(r._self._c||a)("div",{class:r.classes})},staticRenderFns:[]}},function(i,n){i.exports={render:function(){var r,a,s,o=this,c=o.$createElement,d=o._self._c||c;return d("div",{staticClass:"vue-splitter-container clearfix",style:{cursor:o.cursor,userSelect:o.userSelect},on:{mouseup:o.onMouseUp,mousemove:o.onMouseMove}},[d("pane",{staticClass:"splitter-pane splitter-paneL",style:(r={},r[o.type]=o.percent+"%",r),attrs:{split:o.split}},[o._t("paneL")],2),o._v(" "),d("resizer",{style:(a={},a[o.resizeType]=o.percent+"%",a),attrs:{className:o.className,split:o.split},nativeOn:{mousedown:function(p){return o.onMouseDown(p)},click:function(p){return o.onClick(p)}}}),o._v(" "),d("pane",{staticClass:"splitter-pane splitter-paneR",style:(s={},s[o.type]=100-o.percent+"%",s),attrs:{split:o.split}},[o._t("paneR")],2),o._v(" "),o.active?d("div",{staticClass:"vue-splitter-container-mask"}):o._e()],1)},staticRenderFns:[]}},function(i,n){i.exports={render:function(){var r=this,a=r.$createElement;return(r._self._c||a)("div",{class:r.classes},[r._t("default")],2)},staticRenderFns:[]}},function(i,n,r){var a=r(8);typeof a=="string"&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals),r(2)("a82a4610",a,!0)},function(i,n,r){var a=r(9);typeof a=="string"&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals),r(2)("033d59ad",a,!0)},function(i,n,r){var a=r(10);typeof a=="string"&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals),r(2)("6816c93c",a,!0)},function(i,n){i.exports=function(r,a){for(var s=[],o={},c=0;c<a.length;c++){var d=a[c],p=d[0],m=d[1],y=d[2],_=d[3],w={id:r+":"+c,css:m,media:y,sourceMap:_};o[p]?o[p].parts.push(w):s.push(o[p]={id:p,parts:[w]})}return s}}])})})(G5);var ALe=G5.exports;const xLe=oc(ALe),DLe={name:"AutomatorModeSwitch",data(){return{automatorType:0}},computed:{currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(t){this.$viewModel.tabs.reality.automator.editorScriptID=t}},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},isTextAutomator(){return this.automatorType===AUTOMATOR_TYPE.TEXT},automatorModeTooltip(){return this.automatorType===AUTOMATOR_TYPE.BLOCK?"Switch to the text editor":"Switch to the block editor"},tutorialClass(){return{"tutorial--glow":ui.view.tutorialState===TUTORIAL_STATE.AUTOMATOR&&ui.view.tutorialActive}}},created(){this.on$(GAME_EVENT.GAME_LOAD,()=>this.onGameLoad()),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,()=>this.onGameLoad()),this.updateCurrentScriptID()},methods:{update(){this.automatorType=player.reality.automator.type},onGameLoad(){this.updateCurrentScriptID()},updateCurrentScriptID(){const t=player.reality.automator.scripts;this.currentScriptID=player.reality.automator.state.editorScript,t[this.currentScriptID]===void 0&&(this.currentScriptID=Object.keys(t)[0],player.reality.automator.state.editorScript=this.currentScriptID,AutomatorData.clearUndoData()),BlockAutomator.hasUnparsableCommands(this.currentScript)&&player.reality.automator.type===AUTOMATOR_TYPE.BLOCK&&(Modal.message.show("Some script commands were unrecognizable - defaulting to text editor."),AutomatorBackend.changeModes(this.currentScriptID)),this.$nextTick(()=>BlockAutomator.updateEditor(this.currentScript))},toggleAutomatorMode(){const t=player.reality.automator.scripts[this.currentScriptID].content,e=this.automatorType===AUTOMATOR_TYPE.TEXT&&(BlockAutomator.hasUnparsableCommands(t)||AutomatorData.currentErrors().length!==0);if(player.options.confirmations.switchAutomatorMode&&(e||AutomatorBackend.isRunning)){const i=Zg(t),n=this.automatorType===AUTOMATOR_TYPE.TEXT?i.validatedBlocks-i.visitedBlocks:0;Modal.switchAutomatorEditorMode.show({callBack:()=>this.$recompute("currentScriptContent"),lostBlocks:n})}else AutomatorBackend.changeModes(this.currentScriptID);AutomatorData.clearUndoData()}}};var ILe=function(){var e=this,i=e._self._c;return i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.automatorModeTooltip,hideOnTargetClick:!1},expression:`{
    content: automatorModeTooltip,
    hideOnTargetClick: false
  }`}],class:{"c-slider-toggle-button":!0,"c-slider-toggle-button--right":e.isTextAutomator,...e.tutorialClass},on:{click:e.toggleAutomatorMode}},[i("i",{staticClass:"fas fa-cubes"}),i("i",{staticClass:"fas fa-code"})])},RLe=[],MLe=X(DLe,ILe,RLe,!1,null,"abf4f0d7");const PLe=MLe.exports,OLe={name:"AutomatorControls",components:{AutomatorButton:RL,AutomatorModeSwitch:PLe},data(){return{isRunning:!1,isPaused:!1,repeatOn:!1,justCompleted:!1,forceRestartOn:!1,followExecution:!1,hasErrors:!1,currentLine:0,statusName:"",editingName:"",editingDifferentScript:!1,currentChars:0,hasUndo:!1,hasRedo:!1}},computed:{fullScreen(){return this.$viewModel.tabs.reality.automator.fullScreen},currentScriptID(){return this.$viewModel.tabs.reality.automator.editorScriptID},playTooltip(){return this.isPaused?"Resume Automator execution":this.isRunning?"Pause Automator execution":"Start Automator"},playButtonClass(){return{"c-automator__button--active":this.isRunning,"fa-play":!this.isRunning&&!this.isPaused,"fa-pause":this.isRunning,"fa-eject":this.isPaused}},statusText(){const t=Math.clampMin(Math.ceil(Math.log10(AutomatorBackend.currentScriptLength+1)),1);let e=`0000${this.currentLine}`;return e=e.slice(e.length-t),this.isPaused?`Paused: "${this.statusName}" (Resumes on Line ${e})`:this.isRunning?`Running: "${this.statusName}" (Line ${e})`:this.hasErrors?`Stopped: "${this.statusName}" has errors (Cannot run)`:`Stopped: Will start running "${this.statusName}"`},maxScriptChars(){return AutomatorData.MAX_ALLOWED_SCRIPT_CHARACTERS}},methods:{update(){this.isRunning=AutomatorBackend.isRunning,this.isPaused=AutomatorBackend.isOn&&!this.isRunning,this.repeatOn=AutomatorBackend.state.repeat,this.justCompleted=AutomatorBackend.hasJustCompleted,this.forceRestartOn=AutomatorBackend.state.forceRestart,this.followExecution=AutomatorBackend.state.followExecution,this.hasErrors=AutomatorData.currentErrors().length!==0,this.currentLine=AutomatorBackend.currentLineNumber,this.statusName=this.isPaused||this.isRunning?AutomatorBackend.scriptName:AutomatorBackend.currentEditingScript.name,this.duplicateStatus=AutomatorBackend.hasDuplicateName(this.statusName),this.editingDifferentScript=(this.isRunning||this.isPaused)&&AutomatorBackend.currentEditingScript.id!==AutomatorBackend.currentRunningScript.id,this.currentChars=AutomatorData.singleScriptCharacters(),this.hasUndo=AutomatorData.undoBuffer.length>0,this.hasRedo=AutomatorData.redoBuffer.length>0},rewind:()=>AutomatorBackend.restart(),play(){if(this.hasErrors){AutomatorBackend.mode=AUTOMATOR_MODE.PAUSED;return}if(this.isRunning){AutomatorBackend.pause();return}player.reality.automator.type===AUTOMATOR_TYPE.BLOCK&&this.$emit("automatorplay"),AutomatorBackend.isOn?AutomatorBackend.mode=AUTOMATOR_MODE.RUN:AutomatorBackend.start(this.currentScriptID)},stop:()=>AutomatorBackend.stop(),step(){AutomatorBackend.isOn?AutomatorBackend.mode=AUTOMATOR_MODE.SINGLE_STEP:AutomatorBackend.start(this.currentScriptID,AUTOMATOR_MODE.SINGLE_STEP)},repeat:()=>AutomatorBackend.toggleRepeat(),restart:()=>AutomatorBackend.toggleForceRestart(),follow:()=>AutomatorBackend.toggleFollowExecution(),undo:()=>AutomatorData.undoScriptEdit(),redo:()=>AutomatorData.redoScriptEdit()}};var NLe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator__controls l-automator__controls"},[i("div",{staticClass:"c-automator-control-row l-automator-button-row"},[i("div",{staticClass:"c-button-group"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Rewind Automator to the first command",expression:"'Rewind Automator to the first command'"}],staticClass:"fa-fast-backward",on:{click:e.rewind}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.playTooltip,hideOnTargetClick:!1},expression:`{
          content: playTooltip,
          hideOnTargetClick: false
        }`}],class:e.playButtonClass,on:{click:e.play}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Stop Automator and reset position",expression:"'Stop Automator and reset position'"}],staticClass:"fa-stop",on:{click:e.stop}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Step forward one line",expression:"'Step forward one line'"}],staticClass:"fa-step-forward",on:{click:e.step}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Restart script automatically when it reaches the end",expression:"'Restart script automatically when it reaches the end'"}],staticClass:"fa-sync-alt",class:{"c-automator__button--active":e.repeatOn},on:{click:e.repeat}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Automatically restart the active script when finishing or restarting a Reality",expression:"'Automatically restart the active script when finishing or restarting a Reality'"}],staticClass:"fa-reply",class:{"c-automator__button--active":e.forceRestartOn},on:{click:e.restart}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Scroll Automator to follow current line",expression:"'Scroll Automator to follow current line'"}],staticClass:"fa-indent",class:{"c-automator__button--active":e.followExecution},on:{click:e.follow}}),e.fullScreen?i("span",{staticClass:"c-automator__status-text c-automator__status-text--small",class:{"c-automator__status-text--error":e.currentChars>e.maxScriptChars}},[e._v(" This script: "+e._s(e.formatInt(e.currentChars))+"/"+e._s(e.formatInt(e.maxScriptChars))+" ")]):e._e()],1),i("div",{staticClass:"c-button-group"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Undo",expression:"'Undo'"}],staticClass:"fa-arrow-rotate-left",class:{"c-automator__button--inactive":!e.hasUndo},on:{click:e.undo}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Redo",expression:"'Redo'"}],staticClass:"fa-arrow-rotate-right",class:{"c-automator__button--inactive":!e.hasRedo},on:{click:e.redo}}),i("AutomatorModeSwitch")],1)]),i("div",{staticClass:"l-automator-button-row"},[e.duplicateStatus?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"More than one script has this name!",expression:"'More than one script has this name!'"}],staticClass:"fas fa-exclamation-triangle c-automator__status-text c-automator__status-text--error"}):e._e(),e.editingDifferentScript?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"The automator is running a different script than the editor is showing",expression:"'The automator is running a different script than the editor is showing'"}],staticClass:"fas fa-circle-exclamation c-automator__status-text c-automator__status-text--warning"}):e._e(),e.justCompleted?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"The automator completed running the previous script",expression:"'The automator completed running the previous script'"}],staticClass:"fas fa-circle-check c-automator__status-text"}):e._e(),i("span",{staticClass:"c-automator__status-text",class:{"c-automator__status-text--error":e.hasErrors&&!(e.isRunning||e.isPaused)}},[e._v(" "+e._s(e.statusText)+" ")])])])},GLe=[],ULe=X(OLe,NLe,GLe,!1,null,"68205adb");const LLe=ULe.exports,BLe={name:"AutomatorEditor",components:{AutomatorBlockEditor:DU,AutomatorTextEditor:RU,AutomatorControls:LLe},data(){return{automatorType:0}},computed:{currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(t){this.$viewModel.tabs.reality.automator.editorScriptID=t}},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},isTextAutomator(){return this.automatorType===AUTOMATOR_TYPE.TEXT}},created(){this.on$(GAME_EVENT.GAME_LOAD,()=>this.onGameLoad()),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,()=>this.onGameLoad()),this.updateCurrentScriptID()},methods:{update(){this.automatorType=player.reality.automator.type,!AutomatorBackend.isOn&&AutomatorTextUI.editor&&AutomatorData.needsRecompile&&AutomatorTextUI.editor.performLint()},onGameLoad(){this.updateCurrentScriptID()},updateCurrentScriptID(){const t=player.reality.automator.scripts;if(this.currentScriptID=player.reality.automator.state.editorScript,t[this.currentScriptID]===void 0&&(this.currentScriptID=Number(Object.keys(t)[0]),player.reality.automator.state.editorScript=this.currentScriptID,AutomatorData.clearUndoData()),BlockAutomator.hasUnparsableCommands(this.currentScript)&&player.reality.automator.type===AUTOMATOR_TYPE.BLOCK){Modal.message.show("Some incomplete blocks were unrecognizable - defaulting to text editor.");const e=AutomatorData.currentScriptText();AutomatorBackend.changeModes(this.currentScriptID),player.reality.automator.scripts[this.currentScriptID].content=e,this.automatorType=AUTOMATOR_TYPE.TEXT}this.$nextTick(()=>BlockAutomator.updateEditor(this.currentScript))}}};var $Le=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-automator-pane"},[i("AutomatorControls"),e.isTextAutomator?i("AutomatorTextEditor",{attrs:{"current-script-id":e.currentScriptID}}):e._e(),e.isTextAutomator?e._e():i("AutomatorBlockEditor")],1)},FLe=[],HLe=X(BLe,$Le,FLe,!1,null,"546c8981");const VLe=HLe.exports,YLe={name:"AutomatorPointsList",data(){return{totalPoints:0}},computed:{pointsForAutomator:()=>AutomatorPoints.pointsForAutomator,fromPerks:()=>AutomatorPoints.pointsFromPerks,fromUpgrades:()=>AutomatorPoints.pointsFromUpgrades,perkSources:()=>AutomatorPoints.perks,upgradeSources:()=>AutomatorPoints.upgrades,otherSources:()=>GameDatabase.reality.automator.otherAutomatorPoints,automatorInterval:()=>AutomatorBackend.currentInterval},methods:{update(){this.totalPoints=AutomatorPoints.totalPoints},textColor(t){return{color:t?"var(--color-good)":"var(--color-bad)"}}}};var qLe=function(){var e=this,i=e._self._c;return i("div",[i("div",{staticClass:"l-header"},[e._v(" You have "+e._s(e.formatInt(e.totalPoints))+" / "+e._s(e.formatInt(e.pointsForAutomator))+" Automator Points towards unlocking the Automator. "),i("br"),e._v(" You gain Automator Points from the following sources: ")]),i("div",{staticClass:"l-automator-points-list-container"},[i("div",{staticClass:"l-automator-points-list-side-col c-automator-points-list-col"},[i("span",{staticClass:"c-automator-points-list-symbol fas fa-project-diagram"}),i("span",{staticClass:"c-automator-points-list-ap--large"},[e._v(e._s(e.formatInt(e.fromPerks))+" AP")]),i("span",{staticClass:"l-large-text"},[e._v(" Perks ")]),e._l(e.perkSources,function(n){return i("div",{key:n.id,staticClass:"c-automator-points-list-single-entry",style:e.textColor(n.isBought)},[i("span",{staticClass:"c-automator-points-list-perk-label"},[e._v(e._s(n.label))]),e._v(" - "+e._s(n.shortDescription)+" "),i("span",{staticClass:"c-automator-points-list-ap"},[e._v(e._s(e.formatInt(n.automatorPoints))+" AP")])])})],2),i("div",{staticClass:"l-automator-points-list-center-col"},e._l(e.otherSources,function(n){return i("div",{key:n.name,staticClass:"c-automator-points-list-cell"},[i("span",{staticClass:"c-automator-points-list-ap--large"},[e._v(e._s(e.formatInt(n.automatorPoints()))+" AP")]),i("span",{staticClass:"l-large-text"},[e._v(" "+e._s(n.name)+" ")]),i("br"),i("br"),i("span",{style:e.textColor(n.automatorPoints()>0)},[e._v(" "+e._s(n.shortDescription())+" ")]),i("span",{staticClass:"c-automator-points-list-symbol",domProps:{innerHTML:e._s(n.symbol)}})])}),0),i("div",{staticClass:"l-automator-points-list-side-col c-automator-points-list-col"},[i("span",{staticClass:"c-automator-points-list-symbol fas fa-arrow-up"}),i("span",{staticClass:"c-automator-points-list-ap--large"},[e._v(e._s(e.formatInt(e.fromUpgrades))+" AP")]),i("span",{staticClass:"l-large-text"},[e._v(" Reality Upgrades ")]),e._l(e.upgradeSources,function(n){return i("div",{key:n.id,staticClass:"c-automator-points-list-single-entry l-upgrade-list",style:e.textColor(n.isBought)},[i("b",[e._v(e._s(n.name))]),i("span",{staticClass:"c-automator-points-list-ap"},[e._v(e._s(e.formatInt(n.automatorPoints))+" AP")]),i("br"),e._v(" "+e._s(n.shortDescription)+" ")])})],2)]),i("br"),i("div",[e._v(" The Automator allows (amongst other things) buying full Time Study Trees, entering Eternity Challenges, or starting Dilation. "),i("br"),e._v(" It can also force prestige events on certain conditions independently from your Autobuyers or modify some of your Autobuyer settings. "),i("br"),e._v(" The speed of the Automator gradually increases as you get more Realities. If unlocked right now, it would run "+e._s(e.format(1e3/e.automatorInterval,2,2))+" commands per real-time second. ")])])},WLe=[],jLe=X(YLe,qLe,WLe,!1,null,"2dee20fd");const zLe=jLe.exports,XLe={name:"AutomatorTab",components:{SplitPane:xLe,AutomatorEditor:VLe,AutomatorPointsList:zLe,AutomatorDocs:RJ},data(){return{automatorUnlocked:!1,interval:0,currentChars:0,totalChars:0,withinLimit:!1}},computed:{fullScreen(){return this.$viewModel.tabs.reality.automator.fullScreen},tabClass(){if(this.fullScreen)return"c-automator-tab--full-screen"},fullScreenIconClass(){return this.fullScreen?"fa-compress-arrows-alt":"fa-expand-arrows-alt"},intervalText(){const t=`Each Reality makes it run ${formatPercents(.006,1)} faster, up to a maximum of
        ${formatInt(1e3)} per second.`;return this.interval===1?`The Automator is running at max speed (${formatInt(1e3)} commands per real-time second).`:`The Automator is running ${quantify("command",1e3/this.interval,2,2)} per real-time second.
          ${t}`},maxScriptChars(){return AutomatorData.MAX_ALLOWED_SCRIPT_CHARACTERS},maxTotalChars(){return AutomatorData.MAX_ALLOWED_TOTAL_CHARACTERS}},methods:{update(){this.automatorUnlocked=Player.automatorUnlocked,this.interval=AutomatorBackend.currentInterval,this.currentChars=AutomatorData.singleScriptCharacters(),this.totalChars=AutomatorData.totalScriptCharacters(),this.withinLimit=AutomatorData.isWithinLimit()}}};var KLe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-automator-tab l-automator-tab",class:e.tabClass},[e.automatorUnlocked?i("div",[i("div",[e._v(" "+e._s(e.intervalText)+" ")]),i("span",{class:{"c-overlimit":e.currentChars>e.maxScriptChars}},[e._v(" This script: "+e._s(e.formatInt(e.currentChars))+" / "+e._s(e.formatInt(e.maxScriptChars))+" ")]),e._v(" | "),i("span",{class:{"c-overlimit":e.totalChars>e.maxTotalChars}},[e._v(" Across all scripts: "+e._s(e.formatInt(e.totalChars))+" / "+e._s(e.formatInt(e.maxTotalChars))+" ")]),i("br"),e.withinLimit?e._e():i("span",{staticClass:"c-overlimit"},[e._v(" (Your changes will not be saved due to being over a character limit!) ")]),i("div",{staticClass:"c-automator-split-pane"},[i("SplitPane",{attrs:{"min-percent":44,"default-percent":50,split:"vertical"},scopedSlots:e._u([{key:"paneL",fn:function(){return[i("AutomatorEditor")]},proxy:!0},{key:"paneR",fn:function(){return[i("AutomatorDocs")]},proxy:!0}],null,!1,3115218829)})],1)]):i("AutomatorPointsList")],1)},ZLe=[],QLe=X(XLe,KLe,ZLe,!1,null,"cf30a386");const JLe=QLe.exports,eBe=function(){let a;function s(y,_){let w=_;const C=20;for(let k=0;k<C;k++)w=_+y*Math.sin(w);return w}class o{draw(_){_.beginPath(),_.lineWidth=2*this.size,this.performDraw(_),_.stroke()}performDraw(_){}static calculatePosition(_,w){return{x:_*Math.sin(2*Math.PI*w),y:_*Math.cos(2*Math.PI*w)}}}class c extends o{constructor(){super(),this.angle=0,this.distance=0,this.size=1.5}update(_,w,C){const k=s(w,2*Math.PI*_/C),S=100*(1-w*Math.cos(k));let x=2*Math.atan(Math.sqrt((1+w)/(1-w)*Math.pow(Math.tan(k/2),2)));Math.tan(k/2)<0&&(x*=-1),this.distance=S,this.angle=x/(2*Math.PI)}performDraw(_){const{x:w,y:C}=o.calculatePosition(this.distance,this.angle);_.arc(w+200,C+200,1.5,0,2*Math.PI),_.strokeStyle="rgb(0, 0, 255)"}}class d extends o{constructor(_){super(),this.size=_}performDraw(_){const w=_.createRadialGradient(200,200,0,200,200,this.size*2);BlackHoles.areNegative?(w.addColorStop(0,"rgba(255, 255, 255, 1)"),w.addColorStop(.85,"rgba(190, 190, 190, 1)"),w.addColorStop(.87,"rgba(170, 170, 170, 1)"),w.addColorStop(1,"rgba(135, 135, 135, 0)")):(w.addColorStop(0,"rgba(0, 0, 0, 1)"),w.addColorStop(.9,"rgba(0, 0, 0, 1)"),w.addColorStop(.92,"rgba(100, 100, 100, 1)"),w.addColorStop(1,"rgba(100, 100, 100, 0)")),_.fillStyle=w,_.fillRect(0,0,400,400),_.strokeStyle="black"}}const p="";class m extends o{constructor(){super(),this.size=.5,this.respawn()}respawn(){this.distance=m.randomDistance(),this.lastDistance=this.distance,this.preLastDistance=this.distance,this.angle=Math.random(),this.lastAngle=this.angle,this.preLastAngle=this.angle,this.respawnTick=!0,this.isInside=BlackHoles.areNegative,this.blob=p[Math.floor(Math.random()*p.length)],this.isBlob=Theme.currentName()==="S11"||player.options.animations.blobHole}static randomDistance(){return BlackHoles.areNegative?(1.97*Math.random()+.03)*a:a+.5*100*Math.random()*(BlackHole(1).isActive?2:1)}update(_,w){const S=1.5*Math.min(Math.pow(Math.max(w,2)/2,3),5)*Math.min(_,16)/1e3;this.isInside||(this.preLastAngle=this.lastAngle,this.lastAngle=this.angle,this.angle=(this.angle+20*S*Math.PI*Math.pow(this.distance,-1.5))%1),this.preLastDistance=this.lastDistance,this.lastDistance=this.distance;const x=1+.3*S*Math.pow(this.distance/a,-2);if(BlackHoles.areNegative?this.distance*=x:this.distance/=x,this.distance>2.74645*a&&BlackHoles.areNegative)this.respawn();else if(this.distance<.01*a&&!BlackHoles.areNegative){this.respawn();return}this.isInside=this.distance<=a*.865,this.respawnTick=!1}performDraw(_){if(this.drawTrail(_),!BlackHole(1).isActive){_.strokeStyle="rgb(127, 127, 127)";return}const{distance:w}=this;if(w>a){const C=Math.floor(127*(w-a)/100);_.strokeStyle=`rgb(${135-C}, ${C}, ${C})`}if(w<=a){const C=Math.floor(255*Math.sqrt(w/a));_.strokeStyle=`rgb(${C}, 0, 0)`}}drawTrail(_){if(this.isInside&&!BlackHole(2).isActive)return;const{x:w,y:C}=o.calculatePosition(this.distance,this.angle);if(this.respawnTick||!BlackHole(1).isActive){_.arc(w+200,C+200,this.size,0,2*Math.PI),this.isBlob&&this.drawAndRotateBlob(_,w,C);return}const k=this.isInside?this.angle:this.preLastAngle,{x:S,y:x}=o.calculatePosition(this.preLastDistance,k);_.lineCap="round",this.isBlob?this.drawAndRotateBlob(_,w,C):(_.lineWidth*=1,_.moveTo(w+200,C+200),_.lineTo(S+200,x+200))}drawAndRotateBlob(_,w,C){if(_.textAlign="center",_.fillStyle="orange",this.distance<=a){const S=this.distance/a,x=18*Math.sqrt(S),O=165*S**2;_.fillStyle=`rgba(255, ${O}, 0, ${S*2})`,_.font=`${x}px Typewriter`}else _.font="18px Typewriter";_.save(),_.translate(w+200,C+200),_.rotate(-this.angle*Math.PI*2+Math.PI),_.fillText(this.blob,0,0),_.restore()}}return class{constructor(_){this.context=_,this.planet=new c,this.period=BlackHole(1).cycleLength;const w=(1-Math.pow(2,-2))/(1-Math.pow(BlackHole(1).power,-2));let C=.5;const k=1e3,S=2*Math.PI*Math.min(.9,BlackHole(1).duration/this.period);for(let x=0;x<k;x++){const O=s(C,S);C=(w-1)/(w*Math.cos(O)-1)}this.eccentricity=C,a=100*(1-C)*(1-Math.pow(BlackHole(1).power,-2)),this.hole=new d((a-1.5)/2),this.particles=Array.range(0,120).map(()=>new m),this.frameRequest=requestAnimationFrame(x=>this.update(x))}update(_){if(this.frameRequest=requestAnimationFrame(k=>this.update(k)),_===void 0||this.lastFrame===void 0){this.lastFrame=_;return}const w=_-this.lastFrame;this.lastFrame=_,this.planet.update(this.totalPhase(),this.eccentricity,this.period),this.context.clearRect(0,0,400,400),this.hole.draw(this.context);for(const k of this.particles)k.draw(this.context);if(BlackHoles.arePaused&&!BlackHoles.areNegative)return;const C=1/Math.sqrt(1-a/this.planet.distance);for(const k of this.particles)k.update(w,C)}totalPhase(){const _=BlackHole(1);return _.isActive?(_.phase-_.duration/2+this.period)%this.period:_.phase+_.duration/2}unmount(){cancelAnimationFrame(this.frameRequest)}}}(),tBe={name:"BlackHoleChargingSliders",components:{SliderComponent:cu},data(){return{isNegativeBHUnlocked:!1,isInverted:!1,isLaitela:!1,negativeSlider:0,negativeBHDivisor:1,maxNegativeBlackHole:300,isDisabled:!1}},computed:{infoTooltip(){return this.isLaitela?"The physics of this Reality do not allow Black Hole Inversion":"Black Hole must be paused to activate Inversion"},reqLockText(){return`Inversion strength cannot be modified due to Lock for
        "${ImaginaryUpgrade(24).name}"`}},methods:{update(){this.isNegativeBHUnlocked=V.isFlipped&&BlackHoles.arePermanent,this.isInverted=BlackHoles.areNegative,this.isLaitela=Td.isRunning,this.negativeSlider=-Math.log10(player.blackHoleNegative),this.negativeBHDivisor=Math.pow(10,this.negativeSlider);const t=player.requirementChecks.reality.slowestBH<=1e-300;this.isDisabled=ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&t},adjustSliderNegative(t){this.negativeSlider=t,player.blackHoleNegative=Math.pow(10,-this.negativeSlider),player.requirementChecks.reality.slowestBH=Math.max(player.requirementChecks.reality.slowestBH,player.blackHoleNegative)},sliderProps(t){return{min:0,max:t?this.maxNegativeBlackHole:990,interval:1,width:"55rem",tooltip:!1}}}};var iBe=function(){var e=this,i=e._self._c;return i("div",[e.isNegativeBHUnlocked?i("div",{staticClass:"l-black-hole-sliders"},[i("b",[e._v(" Inverted Black Hole divides game speed by "+e._s(e.format(e.negativeBHDivisor,2,2))+". (Currently "+e._s(e.isInverted?"active":"inactive")),e.negativeSlider!==0&&!e.isInverted?i("span",{attrs:{"ach-tooltip":e.infoTooltip}},[i("i",{staticClass:"fas fa-question-circle l-margin-left"})]):e._e(),e._v(") ")]),e.isDisabled?i("div",{staticClass:"l-lock-text"},[e._v(" "+e._s(e.reqLockText)+" ")]):i("SliderComponent",e._b({attrs:{value:e.negativeSlider},on:{input:function(n){return e.adjustSliderNegative(n)}}},"SliderComponent",e.sliderProps(!0),!1)),i("br"),e._v(" Inverting the Black Hole only affects its own speedup, no other upgrades or effects, although it will also indirectly affect the Effarig Game speed power effect. ")],1):e._e()])},nBe=[],rBe=X(tBe,iBe,nBe,!1,null,"8c9fb479");const U5=rBe.exports,aBe={name:"BlackHoleStateRow",props:{blackHole:{type:Object,required:!0}},data(){return{isUnlocked:!1,isPermanent:!1,isActive:!1,isCharged:!1,nextChange:"",state:""}},computed:{description(){return this.blackHole.description(!0)},id(){return this.blackHole.id}},methods:{update(){const{blackHole:t}=this;this.isUnlocked=t.isUnlocked,this.isUnlocked&&(this.isPermanent=t.isPermanent,this.isActive=t.isActive,this.isCharged=t.isCharged,this.nextChange=TimeSpan.fromSeconds(t.timeWithPreviousActiveToNextStateChange).toStringShort(),this.state=t.displayState)}}};var sBe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("h3",[e._v(" "+e._s(e.description)+" State: "),e.isPermanent?[e._v(" Permanently Active ")]:e.isActive?[e._v(" Active ("+e._s(e.nextChange)+" remaining) ")]:e.id===2&&e.isCharged?[e._v(" Charged (Activates with Black Hole 1, "+e._s(e.nextChange)+" remaining) ")]:[e._v(" Inactive (Activation in "+e._s(e.nextChange)+") ")]],2):e._e()},oBe=[],lBe=X(aBe,sBe,oBe,!1,null,"d672fbfe");const cBe=lBe.exports,uBe={name:"BlackHoleUnlockButton",data(){return{canBeUnlocked:!1}},computed:{classObject(){return{"c-reality-upgrade-btn--unavailable":!this.canBeUnlocked}}},methods:{update(){this.canBeUnlocked=BlackHoles.canBeUnlocked},unlock(){BlackHoles.unlock(),this.$emit("blackholeunlock")}}};var dBe=function(){var e=this,i=e._self._c;return i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn c-reality-upgrade-btn--black-hole-unlock",class:e.classObject,on:{click:e.unlock}},[e._v(" Unleash the Black Hole "),i("br"),e._v(" Cost: "+e._s(e.formatInt(100))+" Reality Machines ")])},hBe=[],fBe=X(uBe,dBe,hBe,!1,null,"a2590725");const pBe=fBe.exports,mBe={name:"DescriptionDisplay",props:{config:{type:Object,required:!1,default:void 0},name:{type:String,required:!1,default:void 0},length:{type:Number,required:!1,default:void 0},title:{type:String,required:!1,default:""}},data(){return{isVisible:!1,description:""}},computed:{classObject(){const t=this.name;if(t===void 0)return;const e={};return e[t]=!0,this.description.length>=this.length&&(e[`${t}--small-text`]=!0),e}},watch:{config:{immediate:!0,handler(t){this.updateFunction=()=>{};const e=t==null?void 0:t.description,i=r=>r.charAt(0).toUpperCase()+r.slice(1);if(this.isVisible=e!==void 0,!this.isVisible)return;if(zI(e)){this.description=i(e);return}if(!M0(e))throw new Error(`DescriptionDisplay config.description has  unsupported type "${typeof e}"`);const n=e();if(zI(n)){if(this.config.scrambleText){this.description=i(n).replace("*",zn.wordCycle(this.config.scrambleText,!0)),this.updateFunction=()=>this.description=i(e()).replace("*",zn.wordCycle(this.config.scrambleText,!0));return}this.description=i(n),this.updateFunction=()=>this.description=i(e());return}throw new Error(`DescriptionDisplay config.description is a function which returns unsupported type "${typeof n}"`)}}},beforeCreate(){this.updateFunction=()=>{}},methods:{update(){this.updateFunction()}}};var yBe=function(){var e=this,i=e._self._c;return e.isVisible?i("span",{class:e.classObject},[e._v(" "+e._s(e.title)+" "+e._s(e.description)+" ")]):e._e()},gBe=[],vBe=X(mBe,yBe,gBe,!1,null,null);const Qa=vBe.exports,bBe={name:"BlackHoleUpgradeButton",components:{PrimaryToggleButton:ln,DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc},props:{config:{type:Object,required:!0}},data(){return{isAffordable:!1,isCapped:!1,isAutoUnlocked:!1,isAutobuyerOn:!1}},computed:{effectConfig(){const{config:t}=this;return{effect:()=>t.upgrade.value,formatEffect:e=>t.formatEffect(e)}},costConfig(){const{config:t}=this;return{cost:()=>t.upgrade.cost,formatCost:e=>format(e,2,0)}},classObject(){return{"c-reality-upgrade-btn--unavailable":!this.isAffordable}}},watch:{isAutobuyerOn(t){Autobuyer.blackHolePower(this.config.upgrade.id).isActive=t}},methods:{update(){this.isCapped=this.config.upgrade.value===0,this.isAffordable=this.config.upgrade.isAffordable&&!this.isCapped;const t=this.config.upgrade.hasAutobuyer,e=Autobuyer.blackHolePower(this.config.upgrade.id);this.isAutoUnlocked=t&&e.isUnlocked,this.isAutobuyerOn=t&&e.isActive}}};var _Be=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn",class:e.classObject,on:{click:function(n){return e.config.upgrade.purchase()}}},[i("DescriptionDisplay",{attrs:{config:e.config}}),i("EffectDisplay",{attrs:{config:e.effectConfig,label:e.config.effectTitle}}),e.isCapped?e._e():i("CostDisplay",{attrs:{config:e.costConfig,name:"Reality Machine"}})],1),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):e._e()],1)},wBe=[],EBe=X(bBe,_Be,wBe,!1,null,"13280879");const TBe=EBe.exports,CBe={name:"BlackHoleUpgradeRow",components:{BlackHoleUpgradeButton:TBe},props:{blackHole:{type:Object,required:!0}},data(){return{isUnlocked:!1,isPermanent:!1,intervalVal:0,durationVal:0}},computed:{blackHoleDescription(){return this.blackHole.description(!1)},intervalConfig(){return{upgrade:this.blackHole.intervalUpgrade,description:()=>`Reduce ${this.blackHoleDescription}'s inactive time by ${formatPercents(.2)}`,effectTitle:"Current interval",formatEffect:()=>`${TimeSpan.fromSeconds(this.blackHole.rawInterval).toStringShort(!1)}`}},powerConfig(){return{upgrade:this.blackHole.powerUpgrade,description:()=>`Make ${this.blackHoleDescription} ${formatPercents(.35)} stronger`,effectTitle:"Current power",formatEffect:t=>`${formatX(t,2,2)}`}},durationConfig(){return{upgrade:this.blackHole.durationUpgrade,description:()=>`Extend ${this.blackHoleDescription}'s duration by ${formatPercents(.3)}`,effectTitle:"Current duration",formatEffect:()=>`${TimeSpan.fromSeconds(this.blackHole.duration).toStringShort(!1)}`}}},methods:{update(){const t=this.blackHole;this.isUnlocked=t.isUnlocked,this.isPermanent=t.isPermanent,this.intervalVal=t.rawInterval,this.durationVal=t.duration}}};var kBe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("div",{staticClass:"l-black-hole-upgrade-grid__row"},[e.isPermanent?e._e():i("BlackHoleUpgradeButton",{key:e.intervalVal,attrs:{config:e.intervalConfig}}),i("BlackHoleUpgradeButton",{attrs:{config:e.powerConfig}}),e.isPermanent?e._e():i("BlackHoleUpgradeButton",{key:e.durationVal,attrs:{config:e.durationConfig}})],1):e._e()},SBe=[],ABe=X(CBe,kBe,SBe,!1,null,"1551b97a");const xBe=ABe.exports,DBe={name:"BlackHoleTab",components:{BlackHoleUpgradeRow:xBe,BlackHoleStateRow:cBe,BlackHoleChargingSliders:U5,BlackHoleUnlockButton:pBe},data(){return{isDoomed:!1,isUnlocked:!1,isPaused:!1,isEnslaved:!1,isLaitela:!1,pauseMode:0,detailedBH2:"",isPermanent:!1,hasBH2:!1,blackHoleUptime:[],stateChange:""}},computed:{blackHoles:()=>BlackHoles.list,pauseModeString(){switch(this.pauseMode){case BLACK_HOLE_PAUSE_MODE.NO_PAUSE:return"Do not pause";case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH1:return this.hasBH2?"Before BH1":"Before activation";case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH2:return"Before BH2";default:throw new Error("Unrecognized BH offline pausing mode")}}},mounted(){this.startAnimation()},destroyed(){this.animation&&this.animation.unmount()},methods:{update(){this.isDoomed=Pelle.isDoomed,this.isUnlocked=BlackHoles.areUnlocked,this.isPaused=BlackHoles.arePaused,this.isEnslaved&&!Enslaved.isRunning&&(this.animation&&this.animation.unmount(),this.startAnimation()),this.isEnslaved=Enslaved.isRunning,this.isLaitela=Laitela.isRunning,this.isPermanent=BlackHoles.arePermanent,this.pauseMode=player.blackHoleAutoPauseMode,this.hasBH2=BlackHole(2).isUnlocked,this.blackHoleUptime=[BlackHole(1).duration/BlackHole(1).cycleLength,BlackHole(2).duration/BlackHole(2).cycleLength],this.detailedBH2=this.bh2Status(),player.blackHoleNegative<1&&!this.isLaitela?this.stateChange=this.isPaused?"Uninvert":"Invert":this.stateChange=this.isPaused?"Unpause":"Pause"},bh2Status(){const t=BlackHole(1).timeWithPreviousActiveToNextStateChange,e=BlackHole(2).timeWithPreviousActiveToNextStateChange;if(BlackHole(1).isActive&&BlackHole(2).isActive){const n=Math.min(t,e);return`Black Hole 2 is active for the next ${TimeSpan.fromSeconds(n).toStringShort()}!`}if(BlackHole(1).isActive&&e<t){const n=Math.min(t-e,BlackHole(2).duration);return`Black Hole 2 will activate before Black Hole 1 deactivates,
          for ${TimeSpan.fromSeconds(n).toStringShort()}`}if(BlackHole(1).isActive||e>BlackHole(1).duration){const n=BlackHole(1).isActive?Math.floor((e-t)/BlackHole(1).duration)+1:Math.floor(e/BlackHole(1).duration);return`Black Hole 2 will activate after ${quantifyInt("more active cycle",n)} of Black Hole 1.`}if(BlackHole(2).isCharged){const n=Math.min(BlackHole(1).duration,e);return`Black Hole 2 will activate with Black Hole 1,
          for ${TimeSpan.fromSeconds(n).toStringShort()}.`}const i=Math.min(BlackHole(1).duration-e,BlackHole(2).duration);return`Black Hole 2 will activate ${TimeSpan.fromSeconds(e).toStringShort()} after
        Black Hole 1, for ${TimeSpan.fromSeconds(i).toStringShort()}.`},togglePause(){BlackHoles.togglePause(),BlackHoles.arePaused&&(player.celestials.enslaved.isAutoReleasing=!1),this.update()},changePauseMode(){let t;switch(this.pauseMode){case BLACK_HOLE_PAUSE_MODE.NO_PAUSE:t=BlackHole(1).isPermanent?2:1;break;case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH1:t=this.hasBH2?1:2;break;case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH2:t=1;break;default:throw new Error("Unrecognized BH offline pausing mode")}player.blackHoleAutoPauseMode=(this.pauseMode+t)%Object.values(BLACK_HOLE_PAUSE_MODE).length},startAnimation(){setTimeout(()=>{this.$refs.canvas&&(this.animation=new eBe(this.$refs.canvas.getContext("2d")))},1)},gridStyle(){return this.isPermanent?"l-black-hole-upgrade-permanent":"l-black-hole-upgrade-grid"}}};var IBe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-black-hole-tab"},[e.isEnslaved||e.isDoomed?i("div",{staticClass:"c-black-hole-disabled-description"},[e.isEnslaved?i("i",[e._v(" You must... seek... other methods... "),i("br")]):e._e(),e._v(" The physics of this Reality do not allow the existence of Black Holes. ")]):e.isUnlocked?[i("div",{staticClass:"c-subtab-option-container"},[i("button",{staticClass:"o-primary-btn o-primary-btn--subtab-option",on:{click:e.togglePause}},[e._v(" "+e._s(e.stateChange)+" Black Hole ")]),e.isPermanent?e._e():i("button",{staticClass:"o-primary-btn o-primary-btn--subtab-option l-auto-pause-button",on:{click:e.changePauseMode}},[e._v(" Auto-pause: "+e._s(e.pauseModeString)+" ")])]),i("canvas",{ref:"canvas",staticClass:"c-black-hole-canvas",attrs:{width:"400",height:"400"}}),i("div",{staticClass:"l-black-hole-upgrade-grid"},[e._l(e.blackHoles,function(n,r){return i("BlackHoleStateRow",{key:"state"+r,attrs:{"black-hole":n}})}),e.hasBH2&&!e.isPermanent?i("span",[i("b",[e._v(e._s(e.detailedBH2))]),i("br"),e._v(" The timer for Black Hole 2 only advances while Black Hole 1 is active. "),i("br"),e._v(" Upgrades affect the internal timer; the header shows real time until next activation. ")]):e._e(),i("br"),e.isPermanent?e._e():i("div",[e._v(" Black holes become permanently active when they are active for more than "+e._s(e.formatPercents(.9999,2))+" of the time. "),i("br"),e._v(" Active time percent: "+e._s(e.formatPercents(e.blackHoleUptime[0],3))+" "),e.hasBH2?i("span",[e._v("and "+e._s(e.formatPercents(e.blackHoleUptime[1],3)))]):e._e()]),e.isLaitela?e._e():i("BlackHoleChargingSliders",{staticClass:"l-enslaved-shop-container"})],2),i("div",{class:e.gridStyle()},e._l(e.blackHoles,function(n,r){return i("BlackHoleUpgradeRow",{key:"upgrades"+r,attrs:{"black-hole":n}})}),1)]:i("div",{staticClass:"l-pre-unlock-text"},[i("BlackHoleUnlockButton",{on:{blackholeunlock:e.startAnimation}}),e._v(" The Black Hole makes the entire game run significantly faster for a short period of time. "),i("br"),e._v(" Starts at "+e._s(e.formatX(180))+" faster for "+e._s(e.formatInt(10))+" seconds, once per hour. "),i("br"),i("br"),e._v(" Unlocking the Black Hole also gives "+e._s(e.formatInt(10))+" Automator Points. ")],1)],2)},RBe=[],MBe=X(DBe,IBe,RBe,!1,null,"1285d799");const PBe=MBe.exports,OBe={name:"BreakInfinityButton",data(){return{isBroken:!1,isUnlocked:!1,isEnslaved:!1}},computed:{classObject(){return{"o-infinity-upgrade-btn":!0,"o-infinity-upgrade-btn--color-2":!0,"o-infinity-upgrade-btn--available":this.isUnlocked,"o-infinity-upgrade-btn--unavailable":!this.isUnlocked,"o-infinity-upgrade-btn--feel-eternity":this.isEnslaved,"o-infinity-upgrade-btn--unclickable":this.isBroken&&!this.isEnslaved}},tooltip(){if(this.isEnslaved)return"...eons stacked on eons stacked on eons stacked on eons stacked on ..."},text(){return this.isEnslaved?"FEEL ETERNITY":this.isBroken?"INFINITY IS BROKEN":"BREAK INFINITY"}},methods:{update(){this.isBroken=player.break,this.isUnlocked=Autobuyer.bigCrunch.hasMaxedInterval,this.isEnslaved=Enslaved.isRunning},clicked(){this.isEnslaved?Enslaved.feelEternity():!this.isBroken&&this.isUnlocked&&Modal.breakInfinity.show()}}};var NBe=function(){var e=this,i=e._self._c;return i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],class:e.classObject,on:{click:e.clicked}},[e._v(" "+e._s(e.text)+" ")])},GBe=[],UBe=X(OBe,NBe,GBe,!1,null,"ab944202");const LBe=UBe.exports,BBe={name:"InfinityUpgradeButton",components:{DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc},props:{upgrade:{type:Object,required:!0}},data(){return{showWorstChallenge:!1,worstChallengeString:"",isUseless:!1,canBeBought:!1,chargePossible:!1,canBeCharged:!1,isBought:!1,isCharged:!1,isDisabled:!1,showingCharged:!1,hasTS31:!1,ts31Effect:new Decimal(0)}},computed:{isBasedOnInfinities(){return/(18|27|36|45)Mult/u.test(this.upgrade.id)||this.upgrade.id==="infinitiedMult"},shiftDown(){return ui.view.shiftDown},showChargedEffect(){return this.chargePossible&&(this.isCharged||this.showingCharged||this.shiftDown)},config(){const t=this.upgrade.config;return this.showChargedEffect?t.charged:t},classObject(){return{"o-infinity-upgrade-btn":!0,"o-infinity-upgrade-btn--bought":!this.isUseless&&this.isBought,"o-infinity-upgrade-btn--available":!this.isUseless&&!this.isBought&&this.canBeBought,"o-infinity-upgrade-btn--unavailable":!this.isUseless&&!this.isBought&&!this.canBeBought,"o-infinity-upgrade-btn--useless":this.isUseless,"o-pelle-disabled":this.isUseless,"o-infinity-upgrade-btn--chargeable":!this.isCharged&&this.chargePossible&&(this.showingCharged||this.shiftDown),"o-infinity-upgrade-btn--charged":this.isCharged,"o-pelle-disabled-pointer":this.isUseless}},isImprovedByTS31(){return this.hasTS31&&this.isBasedOnInfinities&&!this.showChargedEffect}},methods:{update(){const t=this.upgrade;if(this.isBought=t.isBought||t.isCapped,this.chargePossible=Ra.unlocks.chargedInfinityUpgrades.canBeApplied&&t.hasChargeEffect&&!Pelle.isDoomed,this.canBeBought=t.canBeBought,this.canBeCharged=t.canCharge,this.isCharged=t.isCharged,this.isDisabled=t.config.isDisabled&&t.config.isDisabled(t.config.effect()),this.isUseless=Pelle.uselessInfinityUpgrades.includes(t.id)&&Pelle.isDoomed,this.hasTS31=TimeStudy(31).canBeApplied,!this.isDisabled&&this.isImprovedByTS31&&(this.ts31Effect=Decimal.pow(t.config.effect(),4)),t.id!=="challengeMult")return;this.showWorstChallenge=t.effectValue!==t.cap&&player.challenge.normal.bestTimes.sum()<Number.MAX_VALUE;const e=GameCache.worstChallengeTime.value,i=2+player.challenge.normal.bestTimes.indexOf(e);this.worstChallengeString=`(Challenge ${i}: ${timeDisplayShort(e)})`}}};var $Be=function(){var e=this,i=e._self._c;return i("button",{class:e.classObject,on:{mouseenter:function(n){e.showingCharged=e.canBeCharged},mouseleave:function(n){e.showingCharged=!1},click:function(n){return e.upgrade.purchase()}}},[i("span",{class:{"o-pelle-disabled":e.isUseless}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.showWorstChallenge?i("span",[i("br"),e._v(" "+e._s(e.worstChallengeString)+" ")]):e._e(),e.isDisabled?e._e():i("EffectDisplay",{attrs:{br:"",config:e.config}}),!e.isDisabled&&e.isImprovedByTS31?[i("br"),e._v(" After TS31: "+e._s(e.formatX(e.ts31Effect,2,2))+" ")]:e._e()],2),e.isBought?e._e():i("CostDisplay",{attrs:{br:"",config:e.config,name:"Infinity Point"}}),e._t("default")],2)},FBe=[],HBe=X(BBe,$Be,FBe,!1,null,"7e89b264");const Sx=HBe.exports,VBe={name:"BreakInfinityTab",components:{BreakInfinityButton:LBe,InfinityUpgradeButton:Sx},data(){return{isUnlocked:!1}},computed:{grid(){return[[BreakInfinityUpgrade.totalAMMult,BreakInfinityUpgrade.currentAMMult,BreakInfinityUpgrade.galaxyBoost],[BreakInfinityUpgrade.infinitiedMult,BreakInfinityUpgrade.achievementMult,BreakInfinityUpgrade.slowestChallengeMult],[BreakInfinityUpgrade.infinitiedGen,BreakInfinityUpgrade.autobuyMaxDimboosts,BreakInfinityUpgrade.autobuyerSpeed],[BreakInfinityUpgrade.tickspeedCostMult,BreakInfinityUpgrade.dimCostMult,BreakInfinityUpgrade.ipGen]]}},methods:{update(){this.isUnlocked=Autobuyer.bigCrunch.hasMaxedInterval},btnClassObject(t){return{"l-infinity-upgrade-grid__cell":!0,"o-infinity-upgrade-btn--multiplier":t===3}},timeDisplayShort(t){return timeDisplayShort(t)}}};var YBe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-break-infinity-tab"},[e.isUnlocked?e._e():i("div",[e._v(" Reduce the interval of Automatic Big Crunch Autobuyer to "+e._s(e.format(.1,1,1))+" seconds to unlock Break Infinity. ")]),i("BreakInfinityButton",{staticClass:"l-break-infinity-tab__break-btn"}),e.isUnlocked?i("div",{staticClass:"l-break-infinity-upgrade-grid l-break-infinity-tab__grid"},e._l(e.grid,function(n,r){return i("div",{key:r,staticClass:"l-break-infinity-upgrade-grid__row"},e._l(n,function(a){return i("InfinityUpgradeButton",{key:a.id,class:e.btnClassObject(r),attrs:{upgrade:a}})}),1)}),0):e._e()],1)},qBe=[],WBe=X(VBe,YBe,qBe,!1,null,"a7945537");const jBe=WBe.exports;var zBe=function(){var t="",e,i,n,r=[],a={passive:!0};window.addEventListener?(e="addEventListener",i="removeEventListener"):(e="attachEvent",i="detachEvent",t="on"),n="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function s(_,w){var C=function(k){!k&&(k=window.event);var S={originalEvent:k,target:k.target||k.srcElement,type:"wheel",deltaMode:k.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){k.preventDefault?k.preventDefault():k.returnValue=!1}};return n=="mousewheel"?(S.deltaY=-.025*k.wheelDelta,k.wheelDeltaX&&(S.deltaX=-.025*k.wheelDeltaX)):S.deltaY=k.detail,w(S)};return r.push({element:_,fn:C}),C}function o(_){for(var w=0;w<r.length;w++)if(r[w].element===_)return r[w].fn;return function(){}}function c(_){for(var w=0;w<r.length;w++)if(r[w].element===_)return r.splice(w,1)}function d(_,w,C,k){var S;n==="wheel"?S=C:S=s(_,C),_[e](t+w,S,k?a:!1)}function p(_,w,C,k){var S;n==="wheel"?S=C:S=o(_),_[i](t+w,S,k?a:!1),c(_)}function m(_,w,C){d(_,n,w,C),n=="DOMMouseScroll"&&d(_,"MozMousePixelScroll",w,C)}function y(_,w,C){p(_,n,w,C),n=="DOMMouseScroll"&&p(_,"MozMousePixelScroll",w,C)}return{on:m,off:y}}(),Ax={extend:function(t,e){t=t||{};for(var i in e)this.isObject(e[i])?t[i]=this.extend(t[i],e[i]):t[i]=e[i];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},isObject:function(t){return Object.prototype.toString.call(t)==="[object Object]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,i;if(this.isElement(t))e=t;else if(typeof t=="string"||t instanceof String){if(e=document.querySelector(t),!e)throw new Error("Provided selector did not find any elements. Selector: "+t)}else throw new Error("Provided selector is not an HTML object nor String");if(e.tagName.toLowerCase()==="svg")i=e;else if(e.tagName.toLowerCase()==="object")i=e.contentDocument.documentElement;else if(e.tagName.toLowerCase()==="embed")i=e.getSVGDocument().documentElement;else throw e.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return i},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(t.clientX===void 0||t.clientX===null)if(t.clientX=0,t.clientY=0,t.touches!==void 0&&t.touches.length){if(t.touches[0].clientX!==void 0)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(t.touches[0].pageX!==void 0){var i=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-i.left,t.clientY=t.touches[0].pageY-i.top}}else t.originalEvent!==void 0&&t.originalEvent.clientX!==void 0&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(t.detail===2)return!0;if(e!=null){var i=t.timeStamp-e.timeStamp,n=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return i<250&&n<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(t,e,i){var n=this,r,a,s,o=null,c=0;i||(i={});var d=function(){c=i.leading===!1?0:n.now(),o=null,s=t.apply(r,a),o||(r=a=null)};return function(){var p=n.now();!c&&i.leading===!1&&(c=p);var m=e-(p-c);return r=this,a=arguments,m<=0||m>e?(clearTimeout(o),o=null,c=p,s=t.apply(r,a),o||(r=a=null)):!o&&i.trailing!==!1&&(o=setTimeout(d,m)),s}},createRequestAnimationFrame:function(t){var e=null;return t!=="auto"&&t<60&&t>1&&(e=Math.floor(1e3/t)),e===null?window.requestAnimationFrame||D2(33):D2(e)}};function D2(t){return function(e){window.setTimeout(e,t)}}var W1=Ax,L5="unknown";document.documentMode&&(L5="ie");var xx={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var i=null;if(W1.isElement(e)?i=e:i=t.querySelector(e),!i){var n=Array.prototype.slice.call(t.childNodes||t.children).filter(function(c){return c.nodeName!=="defs"&&c.nodeName!=="#text"});n.length===1&&n[0].nodeName==="g"&&n[0].getAttribute("transform")===null&&(i=n[0])}if(!i){var r="viewport-"+new Date().toISOString().replace(/\D/g,"");i=document.createElementNS(this.svgNS,"g"),i.setAttribute("id",r);var a=t.childNodes||t.children;if(a&&a.length>0)for(var s=a.length;s>0;s--)a[a.length-s].nodeName!=="defs"&&i.appendChild(a[a.length-s]);t.appendChild(i)}var o=[];return i.getAttribute("class")&&(o=i.getAttribute("class").split(" ")),~o.indexOf("svg-pan-zoom_viewport")||(o.push("svg-pan-zoom_viewport"),i.setAttribute("class",o.join(" "))),i},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),t.parentNode!==null){var e=t.getAttribute("style")||"";e.toLowerCase().indexOf("overflow")===-1&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:W1.throttle(function(){for(var t=document.querySelectorAll("defs"),e=t.length,i=0;i<e;i++){var n=t[i];n.parentNode.insertBefore(n,n)}},Ci?Ci.internetExplorerRedisplayInterval:null),setCTM:function(t,e,i){var n=this,r="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",r),"transform"in t.style?t.style.transform=r:"-ms-transform"in t.style?t.style["-ms-transform"]=r:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=r),L5==="ie"&&i&&(i.parentNode.insertBefore(i,i),window.setTimeout(function(){n.refreshDefsGlobal()},n.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var i=e.createSVGPoint();return W1.mouseAndTouchNormalize(t,e),i.x=t.clientX,i.y=t.clientY,i},getSvgCenterPoint:function(t,e,i){return this.createSVGPoint(t,e/2,i/2)},createSVGPoint:function(t,e,i){var n=t.createSVGPoint();return n.x=e,n.y=i,n}},Fs=xx,XBe={enable:function(t){var e=t.svg.querySelector("defs");e||(e=document.createElementNS(Fs.svgNS,"defs"),t.svg.appendChild(e));var i=e.querySelector("style#svg-pan-zoom-controls-styles");if(!i){var n=document.createElementNS(Fs.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(n)}var r=document.createElementNS(Fs.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(t)),r.appendChild(this._createZoomReset(t)),r.appendChild(this._createZoomOut(t)),t.svg.appendChild(r),t.controlIcons=r},_createZoomIn:function(t){var e=document.createElementNS(Fs.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var i=document.createElementNS(Fs.svgNS,"rect");i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("width","1500"),i.setAttribute("height","1400"),i.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(i);var n=document.createElementNS(Fs.svgNS,"path");return n.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),n.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(n),e},_createZoomReset:function(t){var e=document.createElementNS(Fs.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().reset()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var i=document.createElementNS(Fs.svgNS,"rect");i.setAttribute("x","2"),i.setAttribute("y","2"),i.setAttribute("width","182"),i.setAttribute("height","58"),i.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(i);var n=document.createElementNS(Fs.svgNS,"path");n.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),n.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(n);var r=document.createElementNS(Fs.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},_createZoomOut:function(t){var e=document.createElementNS(Fs.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var i=document.createElementNS(Fs.svgNS,"rect");i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("width","1500"),i.setAttribute("height","1400"),i.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(i);var n=document.createElementNS(Fs.svgNS,"path");return n.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),n.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(n),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}},KBe=xx,Cd=Ax,cr=function(t,e){this.init(t,e)};cr.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=Cd.proxy(this.updateCTM,this),this.requestAnimationFrame=Cd.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var i=this.processCTM();this.setCTM(i),this.updateCTM()};cr.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter(function(n){return n}).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var i=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=i,this.activeState.x=(this.options.width-this.viewBox.width*i)/2,this.activeState.y=(this.options.height-this.viewBox.height*i)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};cr.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height};cr.prototype.getViewBox=function(){return Cd.extend({},this.viewBox)};cr.prototype.processCTM=function(){var t=this.getCTM();if(this.options.fit||this.options.contain){var e;this.options.fit?e=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):e=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e}if(this.options.center){var i=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*t.a)*.5,n=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*t.a)*.5;t.e=i,t.f=n}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t};cr.prototype.getOriginalState=function(){return Cd.extend({},this.originalState)};cr.prototype.getState=function(){return Cd.extend({},this.activeState)};cr.prototype.getZoom=function(){return this.activeState.zoom};cr.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};cr.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom};cr.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};cr.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t};cr.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),i=this.isPanDifferent(t);if(e||i){if(e&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))===!1?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),i){var n=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),r=!1,a=!1;n===!1?(t.e=this.getPan().x,t.f=this.getPan().y,r=a=!0):Cd.isObject(n)&&(n.x===!1?(t.e=this.getPan().x,r=!0):Cd.isNumber(n.x)&&(t.e=n.x),n.y===!1?(t.f=this.getPan().y,a=!0):Cd.isNumber(n.y)&&(t.f=n.y)),r&&a||!this.isPanDifferent(t)?i=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||i)&&this.updateCTMOnNextFrame()}};cr.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a};cr.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f};cr.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f};cr.prototype.pendingUpdate=!1;cr.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))};cr.prototype.updateCTM=function(){var t=this.getCTM();KBe.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)};var ZBe=function(t,e){return new cr(t,e)},B5=zBe,Bk=XBe,al=Ax,ac=xx,QBe=ZBe,Ni=function(t,e){this.init(t,e)},JBe={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},$5={passive:!0};Ni.prototype.init=function(t,e){var i=this;this.svg=t,this.defs=t.querySelector("defs"),ac.setupSvgAttributes(this.svg),this.options=al.extend(al.extend({},JBe),e),this.state="none";var n=ac.getBoundingClientRectNormalized(t);this.width=n.width,this.height=n.height,this.viewport=QBe(ac.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(a,s){if(i.viewport&&i.options.beforeZoom)return i.options.beforeZoom(a,s)},onZoom:function(a){if(i.viewport&&i.options.onZoom)return i.options.onZoom(a)},beforePan:function(a,s){if(i.viewport&&i.options.beforePan)return i.options.beforePan(a,s)},onPan:function(a){if(i.viewport&&i.options.onPan)return i.options.onPan(a)},onUpdatedCTM:function(a){if(i.viewport&&i.options.onUpdatedCTM)return i.options.onUpdatedCTM(a)}});var r=this.getPublicInstance();r.setBeforeZoom(this.options.beforeZoom),r.setOnZoom(this.options.onZoom),r.setBeforePan(this.options.beforePan),r.setOnPan(this.options.onPan),r.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&Bk.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};Ni.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(a){var s=t.handleMouseDown(a,e);return e=a,s},touchstart:function(a){var s=t.handleMouseDown(a,e);return e=a,s},mouseup:function(a){return t.handleMouseUp(a)},touchend:function(a){return t.handleMouseUp(a)},mousemove:function(a){return t.handleMouseMove(a)},touchmove:function(a){return t.handleMouseMove(a)},mouseleave:function(a){return t.handleMouseUp(a)},touchleave:function(a){return t.handleMouseUp(a)},touchcancel:function(a){return t.handleMouseUp(a)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var i=this.options.customEventsHandler.haltEventListeners;if(i&&i.length)for(var n=i.length-1;n>=0;n--)this.eventListeners.hasOwnProperty(i[n])&&delete this.eventListeners[i[n]]}for(var r in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(r,this.eventListeners[r],this.options.preventMouseEventsDefault?!1:$5);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())};Ni.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(i){return t.handleMouseWheel(i)};var e=!this.options.preventMouseEventsDefault;B5.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}};Ni.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;B5.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}};Ni.prototype.handleMouseWheel=function(t){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,i=Date.now()-this.lastMouseWheelEventTime,n=3+Math.max(0,30-i);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&t.deltaMode===0&&t.wheelDelta&&(e=t.deltaY===0?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/n;var r=this.svg.getScreenCTM().inverse(),a=ac.getEventPoint(t,this.svg).matrixTransform(r),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(s,a)}};Ni.prototype.zoomAtPoint=function(t,e,i){var n=this.viewport.getOriginalState();i?(t=Math.max(this.options.minZoom*n.zoom,Math.min(this.options.maxZoom*n.zoom,t)),t=t/this.getZoom()):this.getZoom()*t<this.options.minZoom*n.zoom?t=this.options.minZoom*n.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*n.zoom&&(t=this.options.maxZoom*n.zoom/this.getZoom());var r=this.viewport.getCTM(),a=e.matrixTransform(r.inverse()),s=this.svg.createSVGMatrix().translate(a.x,a.y).scale(t).translate(-a.x,-a.y),o=r.multiply(s);o.a!==r.a&&this.viewport.setCTM(o)};Ni.prototype.zoom=function(t,e){this.zoomAtPoint(t,ac.getSvgCenterPoint(this.svg,this.width,this.height),e)};Ni.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)};Ni.prototype.publicZoomAtPoint=function(t,e,i){if(i&&(t=this.computeFromRelativeZoom(t)),al.getType(e)!=="SVGPoint")if("x"in e&&"y"in e)e=ac.createSVGPoint(this.svg,e.x,e.y);else throw new Error("Given point is invalid");this.zoomAtPoint(t,e,i)};Ni.prototype.getZoom=function(){return this.viewport.getZoom()};Ni.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};Ni.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom};Ni.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)};Ni.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};Ni.prototype.reset=function(){this.resetZoom(),this.resetPan()};Ni.prototype.handleDblClick=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled){var e=t.target.getAttribute("class")||"";if(e.indexOf("svg-pan-zoom-control")>-1)return!1}var i;t.shiftKey?i=1/((1+this.options.zoomScaleSensitivity)*2):i=(1+this.options.zoomScaleSensitivity)*2;var n=ac.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(i,n)};Ni.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),al.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&al.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=ac.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))};Ni.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var e=ac.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),i=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(i)}};Ni.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.state==="pan"&&(this.state="none")};Ni.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)};Ni.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)};Ni.prototype.center=function(){var t=this.viewport.getViewBox(),e=(this.width-(t.width+t.x*2)*this.getZoom())*.5,i=(this.height-(t.height+t.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:e,y:i})};Ni.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};Ni.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)};Ni.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)};Ni.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}};Ni.prototype.resize=function(){var t=ac.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())};Ni.prototype.destroy=function(){var t=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var e in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],this.options.preventMouseEventsDefault?!1:$5);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),Zu=Zu.filter(function(i){return i.svg!==t.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};Ni.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=e===null?null:al.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=e===null?null:al.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,Bk.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,Bk.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=e===null?null:al.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=e===null?null:al.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,i){return t.publicZoomAtPoint(e,i,!0),t.pi},zoomAtPointBy:function(e,i){return t.publicZoomAtPoint(e,i,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=e===null?null:al.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var Zu=[],e$e=function(t,e){var i=al.getSvg(t);if(i===null)return null;for(var n=Zu.length-1;n>=0;n--)if(Zu[n].svg===i)return Zu[n].instance.getPublicInstance();return Zu.push({svg:i,instance:new Ni(i,e)}),Zu[Zu.length-1].instance.getPublicInstance()},t$e=e$e;const i$e=oc(t$e);function Dx(t){if(!t.gapDeg){const x=t.rMinor?`m 0.2 ${t.rMajor-t.rMinor}
a ${t.rMinor} ${t.rMinor} 0 1 1 -0.2 0
z`:"";return`M -0.1, ${-t.rMajor}
a ${t.rMajor} ${t.rMajor} 0 1 0 0.2 0
z
${x}`}const e=Math.PI/180,i=t.gapAngleDeg===void 0?t.gapDeg/2:t.gapAngleDeg,n=e*(t.gapCenterDeg+t.gapDeg/2),r=Math.cos(n),a=Math.sin(n),s=e*(t.gapCenterDeg-t.gapDeg/2),o=Math.cos(s),c=Math.sin(s),d=t.rMajor/t.rMinor*Math.sin(e*(t.gapDeg/2-i)),p=Math.asin(d)+e*i,m=e*t.gapCenterDeg+p,y=Math.cos(m),_=Math.sin(m),w=e*t.gapCenterDeg-p,C=Math.cos(w),k=Math.sin(w),S=t.gapDeg<=180?1:0;return`M ${r*t.rMajor-.001*a} ${a*t.rMajor+.001*r}
A ${t.rMajor} ${t.rMajor} 0 ${S} 1 ${o*t.rMajor+.001*c} ${c*t.rMajor-.001*o}
L ${C*t.rMinor+.001*k} ${k*t.rMinor-.001*C}
A ${t.rMinor} ${t.rMinor} 0 ${S} 0 ${y*t.rMinor-.001*_} ${_*t.rMinor+.001*y}
z`}const n$e={name:"NodeBackground",props:{position:{type:Object,required:!0},ring:{type:Object,required:!0},isStacked:{type:Boolean,required:!1,default:!1}},computed:{ringBackgroundTransform(){return this.position.asTranslate()},ringBackgroundPath(){return Dx(this.ring)},ringBackgroundFilter(){return this.isStacked?"":"url(#backgroundGlow)"}}};var r$e=function(){var e=this,i=e._self._c;return i("path",{attrs:{transform:e.ringBackgroundTransform,d:e.ringBackgroundPath,fill:"rgba(0,0,0,0.75)",stroke:"none",filter:e.ringBackgroundFilter}})},a$e=[],s$e=X(n$e,r$e,a$e,!1,null,"dbec7994");const I2=s$e.exports,o$e={name:"NodeOverlay",props:{complete:{type:Number,required:!0},position:{type:Object,required:!0},legend:{type:Object,required:!1,default:void 0},ring:{type:Object,required:!0},fill:{type:String,required:!1,default:void 0},alwaysShowLegend:{type:Boolean,required:!1,default:!1},forceLegend:{type:Function,required:!1,default:void 0},clickAction:{type:Function,required:!1,default:void 0}},data(){return{legendLines:[],hoverOverride:!1}},computed:{LEGEND_FONT_SIZE:()=>16,baseTransform(){return this.position.asTranslate()},pathData(){return Dx(this.ring)},hasLegend(){return!!this.legend&&(!this.legend.hideWhenCompleted||this.complete<1)},legendArrowPoints(){const t=Vector.unitFromDegrees(this.legend.angle),e=[t.times(this.ring.rMajor+2)];return e.push(e[0].plus(t.times(this.legend.diagonal))),e.push(e[1].plus(Vector.horiz(this.legend.horizontal*Math.sign(t.x)))),e},legendArrowPointString(){return this.legendArrowPoints.join(" ")},legendTransform(){const t=this.legendArrowPoints,e=Math.sign(t[2].x-t[0].x);return t[2].plus(Vector.horiz(e*4)).asTranslate()},legendTextAnchor(){const t=(this.legend.angle+360)%360;return t>90&&t<270?"end":"start"},nodeClass(){return{"o-celestial-nav__force-hover":this.hoverOverride,"o-celestial-nav__clickable":this.clickAction!==void 0}}},methods:{update(){this.legendLines=this.getLines(),this.hoverOverride=this.alwaysShowLegend||this.forceLegend&&this.forceLegend()},legendLineY(t){const e=Math.round(this.LEGEND_FONT_SIZE*1.25/2),i=this.legendLines.length;return(2*t-(i-1))*e},getLines(){if(!this.legend)return null;const t=typeof this.legend.text=="function"?this.legend.text(this.complete):this.legend.text;return typeof t=="string"?[t]:t}}};var l$e=function(){var e=this,i=e._self._c;return i("g",e._g({staticClass:"o-celestial-nav__hoverable",class:e.nodeClass,attrs:{transform:e.baseTransform}},e.clickAction?{click:e.clickAction}:{}),[i("path",{staticClass:"o-celestial-nav__node-overlay",attrs:{d:e.pathData}}),e.hasLegend?i("g",{staticClass:"tooltiptext"},[i("polyline",{staticClass:"o-celestial-nav__legend-arrow",attrs:{points:e.legendArrowPointString}}),i("path",{staticClass:"o-celestial-nav__legend-outline",attrs:{d:e.pathData}}),i("g",{attrs:{transform:e.legendTransform}},[i("text",{staticClass:"o-celestial-nav__legend-text",attrs:{"text-anchor":e.legendTextAnchor,"dominant-baseline":"middle","font-size":e.LEGEND_FONT_SIZE}},e._l(e.legendLines,function(n,r){return i("tspan",{key:r,attrs:{x:"0",y:e.legendLineY(r)}},[e._v(" "+e._s(n)+" ")])}),0)])]):e._e()])},c$e=[],u$e=X(o$e,l$e,c$e,!1,null,"08568679");const R2=u$e.exports,d$e={name:"NodeRing",props:{complete:{type:Number,required:!0},position:{type:Object,required:!0},ring:{type:Object,required:!0},symbol:{type:String,required:!1,default:""},symbolScale:{type:Number,required:!1,default:1.4},symbolOffset:{type:String,required:!1,default:"0"},completeClass:{type:String,required:!1,default:void 0},incompleteClass:{type:String,required:!1,default:void 0},fill:{type:String,required:!1,default:void 0},isStacked:{type:Boolean,required:!1,default:!1}},computed:{baseTransform(){return this.position.asTranslate()},pathData(){return Dx(this.ring)},ringClass(){return this.complete>=1?this.completeClass:this.incompleteClass},symbolFontSize(){return this.ring.rMajor*this.symbolScale},ringFilter(){return this.complete>=1&&!this.isStacked?"url(#completeGlow)":""}}};var h$e=function(){var e=this,i=e._self._c;return i("g",{attrs:{transform:e.baseTransform}},[i("path",{class:e.ringClass,attrs:{d:e.pathData,stroke:"none",fill:e.fill,filter:e.ringFilter}}),e.symbol?i("text",{staticClass:"o-celestial-nav__symbol o-no-mouse",attrs:{fill:"#000","dominant-baseline":"middle","font-size":e.symbolFontSize,dy:e.symbolOffset}},[e._v(" "+e._s(e.symbol)+" ")]):e._e()])},f$e=[],p$e=X(d$e,h$e,f$e,!1,null,"64a71932");const M2=p$e.exports,m$e={name:"ProgressConnector",props:{complete:{type:Number,required:!0},completeWidth:{type:Number,required:!1,default:8},incompleteWidth:{type:Number,required:!1,default:6},noBG:{type:Boolean,required:!1,default:!1},opacity:{type:Number,required:!1,default:1},fill:{type:String,required:!1,default:"#5151ec"},filterName:{type:String,required:!1,default:"completeGlow"},path:{type:Object,required:!0},pathStart:{type:Number,required:!0},pathEnd:{type:Number,required:!0},pathPadStart:{type:Number,required:!1,default:0},pathPadEnd:{type:Number,required:!1,default:0}},computed:{unpaddedSpan(){return this.pathEnd-this.pathPadEnd-(this.pathStart+this.pathPadStart)},incompleteStart(){return this.complete>=1?this.pathEnd:this.pathStart+this.pathPadStart+this.unpaddedSpan*this.complete},incompleteStartShape(){return this.shapeAt(this.incompleteStart)},completeStartShape(){return this.shapeAt(this.pathStart)},incompleteTransform(){const t=this.incompleteStartShape;return`${t.position.asTranslate()} ${t.direction.asRotate()}`},pathEndShape(){return this.shapeAt(this.pathEnd)},totalPathOffsetPx(){return this.pathEndShape.position.minus(this.completeStartShape.position)},completeTransform(){const t=this.completeStartShape,e=this.totalPathOffsetPx.length;return`${t.position.asTranslate()} ${t.direction.asRotate()} scale(${e})`},incompleteFadeEnd(){const e=12/this.incompleteStartShape.derivative.length;return this.pathEnd>this.pathStart?Math.min(this.incompleteStart+e,this.pathEnd):Math.max(this.incompleteStart-e,this.pathEnd)},incompleteFadePath(){return this.generateIncompletePath(this.incompleteStart,this.incompleteFadeEnd)},incompleteSolidPath(){return this.generateIncompletePath(this.incompleteFadeEnd-.001*(this.pathEnd-this.incompleteFadeEnd),this.pathEnd)},completePath(){const t=this.completeStartShape,e=1/this.totalPathOffsetPx.length,i=AffineTransform.translation(t.position.negative).rotated(-t.direction.angle).scaled(e),n=this.pathStart,r=this.incompleteStart,a=this.completeWidth,s=this.getOffsetPath(-a/2,n,r).transformedBy(i),o=this.getOffsetPath(a/2,r,n).transformedBy(i),c=this.incompleteStartShape.direction.transformedBy(i.withoutTranslation),d=s.path[s.path.length-1],p=o.path[0],m=d.position(1).plus(c.times(a/2)),y=p.position(0).plus(c.times(a/2)),_=`C ${m.x} ${m.y} ${y.x} ${y.y} ${p.p0.x} ${p.p0.y}
`;return s.toSVG("M")+_+o.toSVG("L")},hasIncompleteSolidPath(){return this.incompleteFadeEnd!==this.pathEnd},filter(){return`url(#${this.filterName})`}},methods:{generateIncompletePath(t,e){const i=this.getOffsetPath(-this.incompleteWidth/2,t,e),n=this.getOffsetPath(this.incompleteWidth/2,e,t),r=this.incompleteStartShape,a=AffineTransform.translation(r.position.negative).rotated(-r.direction.angle);return i.transformedBy(a).toSVG("M")+n.transformedBy(a).toSVG("L")},getOffsetPath(t,e,i){if(this.path instanceof LinearPath)return new PiecewisePath([this.path.createOffsetLine(t,e,i)]);const n=new OffsetCurve(this.path,t);return PiecewisePath.cubicBezierFitToCurveSection(n,e,i)},shapeAt(t){const e=this.path.shapeAt(t);return this.pathStart>this.pathEnd&&(e.direction=e.direction.negative,e.derivative=e.derivative.negative),e}}};var y$e=function(){var e=this,i=e._self._c;return i("g",[e.noBG?e._e():i("g",{attrs:{transform:e.incompleteTransform}},[i("path",{attrs:{d:e.incompleteFadePath,fill:"url(#incompleteFade)"}}),e.hasIncompleteSolidPath?i("path",{attrs:{d:e.incompleteSolidPath,fill:"#888"}}):e._e()]),i("g",{attrs:{filter:e.filter}},[i("path",{style:{opacity:e.opacity},attrs:{transform:e.completeTransform,fill:e.fill,stroke:"none",d:e.completePath}})])])},g$e=[],v$e=X(m$e,y$e,g$e,!1,null,"054c785a");const j1=v$e.exports,b$e=""+new URL("../images/celestial-navigation-bg.webp",import.meta.url).href,_$e={name:"CelestialNavigationTab",components:{NodeRing:M2,NodeBackground:I2,NodeOverlay:R2,ProgressConnector:j1},data:()=>({nodeState:null}),computed:{db(){return{...GameDatabase.celestials.navigation,...GameDatabase.celestials.navSigils}},drawOrder(){const t=this.db,e=[];for(const i of Object.keys(t)){const n=t[i];if(n.connector instanceof Array)for(const r of n.connector)e.push({nodeId:i,is:j1,config:r,drawOrder:r.drawOrder||il.CONNECTORS});else n.connector&&e.push({nodeId:i,is:j1,config:n.connector,drawOrder:n.connector.drawOrder||il.CONNECTORS});n.node&&(e.push({nodeId:i,is:I2,config:n.node,drawOrder:n.node.bgDrawOrder||il.NODE_BG}),e.push({nodeId:i,is:M2,config:n.node,drawOrder:n.node.drawOrder||il.NODES}),e.push({nodeId:i,is:R2,config:n.node,drawOrder:n.node.overlayDrawOrder||il.NODE_OVERLAYS})),e.sort((r,a)=>r.drawOrder-a.drawOrder)}return e}},created(){this.nodeState=Object.keys(this.db).mapToObject(t=>t,()=>({visible:!1,complete:0}))},mounted(){const t=function(e,i){const n=this.getSizes(),r=n.width-(n.viewBox.x+n.viewBox.width)*n.realZoom,a=-n.viewBox.x*n.realZoom,s=n.height-(n.viewBox.y+n.viewBox.height)*n.realZoom,o=-n.viewBox.y*n.realZoom;return{x:Math.max(r,Math.min(a,i.x)),y:Math.max(s,Math.min(o,i.y))}};this.panZoom=i$e(this.$refs.celestialNavigationSVG,{controlIconsEnabled:!0,dblClickZoomEnabled:!1,center:!1,fit:!1,zoomScaleSensitivity:.3,minZoom:.64,maxZoom:1.5,beforePan:t}),Tp.pan&&this.panZoom.pan(Tp.pan),Tp.zoom&&this.panZoom.zoom(Tp.zoom)},beforeDestroy(){this.panZoom&&(Tp.zoom=this.panZoom.getZoom(),Tp.pan=this.panZoom.getPan(),this.panZoom.destroy(),delete this.panZoom)},methods:{update(){for(const t of Object.keys(this.db))this.nodeState&&(this.nodeState[t].visible=this.db[t].visible(),this.nodeState[t].complete=this.db[t].complete())},vec(t,e){return new Vector(t,e)},nodeVisibility(t){return this.nodeState[t.nodeId].visible?"visible":"hidden"}}},Tp={pan:{x:125,y:125},zoom:.75};var w$e=function(){var e=this,i=e._self._c;return i("div",[i("svg",{ref:"celestialNavigationSVG",staticClass:"c-wide-canvas-element l-celestial-navigation"},[i("defs",[i("linearGradient",{attrs:{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[i("stop",{attrs:{offset:"0%","stop-color":"#ffff00","stop-opacity":"1"}}),i("stop",{attrs:{offset:"100%","stop-color":"#ff0000","stop-opacity":"1"}})],1),i("linearGradient",{attrs:{id:"incompleteFade",x1:"0",x2:"8",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#888","stop-opacity":"0"}}),i("stop",{attrs:{offset:"8","stop-color":"#888","stop-opacity":"1"}})],1),i("linearGradient",{attrs:{id:"fadeGrad",y2:"0",x2:"1"}},[i("stop",{attrs:{offset:"0.5","stop-color":"white","stop-opacity":"0"}}),i("stop",{attrs:{offset:"1","stop-color":"white","stop-opacity":".5"}})],1),i("linearGradient",{attrs:{id:"gradTeresaEffarig",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#5151ec"}}),i("stop",{attrs:{offset:"1","stop-color":"#d13737"}})],1),i("linearGradient",{attrs:{id:"gradEffarigEnslaved",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#d13737"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffa337"}})],1),i("linearGradient",{attrs:{id:"gradEnslavedV",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#ffa337"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffe066"}})],1),i("linearGradient",{attrs:{id:"gradRaTeresa",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#5151ec"}})],1),i("linearGradient",{attrs:{id:"gradRaEffarig",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#d13737"}})],1),i("linearGradient",{attrs:{id:"gradRaEnslaved",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffa337"}})],1),i("linearGradient",{attrs:{id:"gradRaV",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffe066"}})],1),i("linearGradient",{attrs:{id:"gradRaLaitela",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"white"}})],1),i("linearGradient",{attrs:{id:"gradLaitelaPelle",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"white"}}),i("stop",{attrs:{offset:"1","stop-color":"crimson"}})],1),i("mask",{attrs:{id:"fade",maskContentUnits:"objectBoundingBox"}},[i("rect",{attrs:{width:"1",height:"1",fill:"url(#fadeGrad)"}})]),i("filter",{attrs:{id:"completeGlow",x:"-100%",y:"-100%",width:"300%",height:"300%"}},[i("feGaussianBlur",{attrs:{in:"SourceGraphic",result:"blurred",stdDeviation:"2"}}),i("feMerge",[i("feMergeNode",{attrs:{in:"blurred"}}),i("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1),i("filter",{attrs:{id:"backgroundGlow",x:"-100%",y:"-100%",width:"300%",height:"300%"}},[i("feGaussianBlur",{attrs:{in:"SourceGraphic",result:"blurred",stdDeviation:"4"}}),i("feMerge",[i("feMergeNode",{attrs:{in:"blurred"}}),i("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1)],1),i("image",{attrs:{x:"-250",y:"-350",height:"1503",width:"1503",href:b$e}}),e._l(e.drawOrder,function(n,r){return i("g",{key:r,attrs:{visibility:e.nodeVisibility(n)}},[i(n.is,e._b({tag:"component",attrs:{complete:e.nodeState[n.nodeId].complete}},"component",n.config,!1))],1)})],2)])},E$e=[],T$e=X(_$e,w$e,E$e,!1,null,"79d8d106");const C$e=T$e.exports,k$e={name:"ChallengeRecordsList",props:{name:{type:String,required:!0},start:{type:Number,required:!0},times:{type:Array,required:!0}},computed:{timeSum(){return this.times.sum()},completedAllChallenges(){return this.timeSum<Number.MAX_VALUE}},methods:{timeDisplayShort,completionString(t){return t<Number.MAX_VALUE?`record time: ${timeDisplayShort(t)}`:"has not yet been completed"}}};var S$e=function(){var e=this,i=e._self._c;return i("div",[i("br"),e._l(e.times,function(n,r){return i("div",{key:r},[i("span",[e._v(e._s(e.name)+" "+e._s(e.start+r)+" "+e._s(e.completionString(n)))])])}),i("br"),e.completedAllChallenges?i("div",[e._v(" Sum of "+e._s(e.name)+" record times: "+e._s(e.timeDisplayShort(e.timeSum))+" ")]):i("div",[e._v(" You have not completed all "+e._s(e.name)+"s yet. ")])],2)},A$e=[],x$e=X(k$e,S$e,A$e,!1,null,null);const D$e=x$e.exports,I$e={name:"ChallengeRecordsTab",components:{ChallengeRecordsList:D$e},data(){return{infinityChallengesUnlocked:!1,normalChallenges:[],infinityChallenges:[]}},methods:{update(){this.infinityChallengesUnlocked=PlayerProgress.infinityChallengeCompleted()||PlayerProgress.eternityUnlocked(),this.normalChallenges=player.challenge.normal.bestTimes.slice(0),this.infinityChallenges=player.challenge.infinity.bestTimes.slice(0)}}};var R$e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-challenge-records-tab c-stats-tab"},[i("ChallengeRecordsList",{attrs:{start:2,times:e.normalChallenges,name:"Normal Challenge"}}),e.infinityChallengesUnlocked?i("ChallengeRecordsList",{staticClass:"l-challenge-records-tab__infinity_challenges",attrs:{start:1,times:e.infinityChallenges,name:"Infinity Challenge"}}):e._e()],1)},M$e=[],P$e=X(I$e,R$e,M$e,!1,null,null);const O$e=P$e.exports,N$e={name:"CelestialQuoteHistory",props:{celestial:{type:String,required:!0}},data(){return{isShown:!1}},computed:{color(){return this.celestial==="laitela"?"var(--color-laitela--accent)":`var(--color-${this.celestial}--base)`},possessiveForm(){return Celestials[this.celestial].possessiveName}},methods:{update(){this.isShown=Celestials[this.celestial].quotes.all.some(t=>t.isUnlocked)},show(){Quote.showHistory(Celestials[this.celestial].quotes.all)}}};var G$e=function(){var e=this,i=e._self._c;return e.isShown?i("button",{staticClass:"c-celestial-quote-history--button",style:{"--scoped-cel-color":e.color},on:{click:e.show}},[e._v(" "+e._s(e.possessiveForm)+" Quotes ")]):e._e()},U$e=[],L$e=X(N$e,G$e,U$e,!1,null,null);const Xf=L$e.exports,B$e={name:"EffarigRunUnlockReward",props:{unlock:{type:Object,required:!0}},data(){return{isUnlocked:!1}},computed:{descriptionLines(){return this.unlock.config.description.split(`
`).map(t=>t.trim())},symbol:()=>GLYPH_SYMBOLS.effarig,isDoomed:()=>Pelle.isDoomed},methods:{update(){this.isUnlocked=this.unlock.isUnlocked}}};var $$e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-effarig-tab__reward"},[i("div",{staticClass:"c-effarig-tab__reward-label"},[e._v(" "+e._s(e.unlock.config.label)+": ")]),e.isUnlocked?i("div",{staticClass:"l-effarig-tab__reward-descriptions"},e._l(e.descriptionLines,function(n,r){return i("div",{key:r+"-effarig-reward-description",staticClass:"c-effarig-tab__reward-description"},[i("span",{staticClass:"c-effarig-tab__reward-symbol"},[e._v(" "+e._s(e.symbol)+" ")]),i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" "+e._s(n)+" ")])])}),0):i("span",{staticClass:"c-effarig-tab__reward-symbol"},[e._v("?")])])},F$e=[],H$e=X(B$e,$$e,F$e,!1,null,null);const V$e=H$e.exports,Y$e={name:"EffarigUnlockButton",components:{DescriptionDisplay:Qa,CostDisplay:fc},props:{unlock:{type:Object,required:!0}},data(){return{isBought:!1,isAvailable:!1}},computed:{config(){return this.unlock.config},classObject(){return{"c-effarig-shop-button":!0,"c-effarig-shop-button--bought":this.isBought,"c-effarig-shop-button--available":this.isAvailable&&!this.isBought}}},methods:{update(){this.isBought=this.unlock.isUnlocked,this.isAvailable=Currency.relicShards.gte(this.unlock.cost)},purchase(){this.unlock.purchase()}}};var q$e=function(){var e=this,i=e._self._c;return i("button",{class:e.classObject,on:{click:e.purchase}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.isBought?i("div",[e._v(" (Unlocked) ")]):i("CostDisplay",{attrs:{config:e.config,name:"Relic Shard",label:""}})],1)},W$e=[],j$e=X(Y$e,q$e,W$e,!1,null,null);const z$e=j$e.exports,X$e={name:"EffarigTab",components:{EffarigUnlockButton:z$e,EffarigRunUnlockReward:V$e,CelestialQuoteHistory:Xf},data(){return{relicShards:0,shardRarityBoost:0,shardPower:0,shardsGained:0,currentShardsRate:0,amplification:0,amplifiedShards:0,amplifiedShardsRate:0,runUnlocked:!1,quote:"",isRunning:!1,vIsFlipped:!1,relicShardRarityAlwaysMax:!1}},computed:{shopUnlocks:()=>[EffarigUnlock.adjuster,EffarigUnlock.glyphFilter,EffarigUnlock.setSaves],runUnlock:()=>EffarigUnlock.run,runUnlocks:()=>[EffarigUnlock.infinity,EffarigUnlock.eternity,EffarigUnlock.reality],symbol:()=>GLYPH_SYMBOLS.effarig,runButtonOuterClass(){return{"l-effarig-run-button":!0,"c-effarig-run-button":!0,"c-effarig-run-button--running":this.isRunning,"c-effarig-run-button--not-running":!this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runButtonInnerClass(){return this.isRunning?"c-effarig-run-button__inner--running":"c-effarig-run-button__inner--not-running"},runDescription(){return`${GameDatabase.celestials.descriptions[1].effects()}

      ${GameDatabase.celestials.descriptions[1].description()}`},showShardsRate(){return this.currentShardsRate},isDoomed:()=>Pelle.isDoomed},watch:{isRunning(){this.$recompute("runDescription")}},methods:{update(){this.relicShards=Currency.relicShards.value,this.shardRarityBoost=Effarig.maxRarityBoost/100,this.shardPower=Ra.unlocks.maxGlyphRarityAndShardSacrificeBoost.effectOrDefault(1),this.shardsGained=Effarig.shardsGained,this.currentShardsRate=this.shardsGained/Time.thisRealityRealTime.totalMinutes,this.amplification=simulatedRealityCount(!1),this.amplifiedShards=this.shardsGained*(1+this.amplification),this.amplifiedShardsRate=this.amplifiedShards/Time.thisRealityRealTime.totalMinutes,this.quote=Effarig.quote,this.runUnlocked=EffarigUnlock.run.isUnlocked,this.isRunning=Effarig.isRunning,this.vIsFlipped=V.isFlipped,this.relicShardRarityAlwaysMax=Ra.unlocks.extraGlyphChoicesAndRelicShardRarityAlwaysMax.canBeApplied},startRun(){this.isDoomed||Modal.celestials.show({name:"Effarig's",number:1})},createCursedGlyph(){Glyphs.giveCursedGlyph()}}};var K$e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-teresa-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"effarig"}}),i("div",{staticClass:"l-effarig-shop-and-run"},[i("div",{staticClass:"l-effarig-shop"},[i("div",{staticClass:"c-effarig-relics"},[e._v(" You have "+e._s(e.quantify("Relic Shard",e.relicShards,2,0))+". "),i("br"),e.relicShardRarityAlwaysMax?i("span",[e._v(" The rarity of new Glyphs is being increased by +"+e._s(e.formatPercents(e.shardRarityBoost,2))+". ")]):i("span",[e._v(" Each new Glyph will have its rarity increased "),i("br"),e._v(" by a random value between +"+e._s(e.formatPercents(0))+" and +"+e._s(e.formatPercents(e.shardRarityBoost,2))+". ")]),e.shardPower>1?i("span",[i("br"),e._v(" Glyph Sacrifice gain is also being raised to "+e._s(e.formatPow(e.shardPower,0,2))+". ")]):e._e()]),i("div",{staticClass:"c-effarig-relic-description"},[e._v(" You will gain "+e._s(e.quantify("Relic Shard",e.shardsGained,2))+" next Reality ("+e._s(e.format(e.currentShardsRate,2))+"/min). "),e.amplification!==0?i("span",[i("br"),e._v(" Due to amplification of your current Reality, "),i("br"),e._v(" you will actually gain a total of "+e._s(e.quantify("Relic Shard",e.amplifiedShards,2))+" ("+e._s(e.format(e.amplifiedShardsRate,2))+"/min). ")]):e._e()]),e._m(0),e._l(e.shopUnlocks,function(n,r){return i("EffarigUnlockButton",{key:r,attrs:{unlock:n}})}),e.runUnlocked?e._e():i("EffarigUnlockButton",{attrs:{unlock:e.runUnlock}}),e.vIsFlipped?i("button",{staticClass:"c-effarig-shop-button c-effarig-shop-button--available",on:{click:e.createCursedGlyph}},[e._v(" Get a Cursed Glyph... ")]):e._e()],2),e.runUnlocked?i("div",{staticClass:"l-effarig-run"},[i("div",{staticClass:"c-effarig-run-description"},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Enter Effarig's Reality. ")])]),i("div",{class:e.runButtonOuterClass,on:{click:e.startRun}},[i("div",{class:e.runButtonInnerClass,attrs:{"button-symbol":e.symbol}},[e._v(" "+e._s(e.symbol)+" ")])]),i("div",{staticClass:"c-effarig-run-description"},[e._v(" "+e._s(e.runDescription)+" ")]),e._l(e.runUnlocks,function(n,r){return i("EffarigRunUnlockReward",{key:r,attrs:{unlock:n}})})],2):e._e()])],1)},Z$e=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-effarig-relic-description"},[e("br"),t._v(" More Eternity Points slightly increases Relic Shards "),e("br"),t._v(" gained. More distinct Glyph effects significantly "),e("br"),t._v(" increases Relic Shards gained. ")])}],Q$e=X(X$e,K$e,Z$e,!1,null,"b4070ea8");const J$e=Q$e.exports,eFe={name:"EnslavedTab",components:{CelestialQuoteHistory:Xf,PrimaryButton:mt,PrimaryToggleButton:ln,BlackHoleChargingSliders:U5},data:()=>({isStoringBlackHole:!1,isStoringReal:!1,autoStoreReal:!1,offlineEnabled:!1,hasAutoRelease:!1,isRunning:!1,completed:!1,storedBlackHole:0,storedReal:0,storedRealEffiency:0,storedRealCap:0,autoRelease:!1,autoReleaseSpeed:0,unlocks:[],buyableUnlocks:[],quote:"",currentSpeedUp:0,hintsUnlocked:!1,canModifyGameTimeStorage:!1,canChangeStoreTime:!1,canChangeStoreRealTime:!1,canDischarge:!1,canAutoRelease:!1,hasNoCharge:!0,hasReachedCurrentCap:!1}),computed:{storedRealEfficiencyDesc(){return formatPercents(this.storedRealEffiency)},storedRealCapDesc(){return timeDisplayShort(this.storedRealCap)},unlocksInfo(){return ENSLAVED_UNLOCKS},nerfedBlackHoleTime(){return Enslaved.storedTimeInsideEnslaved(this.storedBlackHole)},realityTitle(){return this.isRunning?"You are inside The Nameless Ones' Reality":"Start The Nameless Ones' Reality"},runButtonClassObject(){return{"c-enslaved-run-button__icon":!0,"c-enslaved-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runDescription(){return GameDatabase.celestials.descriptions[2].effects().split(`
`)},realTimeButtonText(){return this.offlineEnabled?this.autoStoreReal?"Offline time stored":"Offline time used for production":"Offline Progress is disabled"},enslavedSymbol:()=>Enslaved.symbol,isDoomed:()=>Pelle.isDoomed,storeGameTimeClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":this.canModifyGameTimeStorage,"o-enslaved-mechanic-button--storing-time":this.isStoringBlackHole,"l-fixed-setting":!this.canModifyGameTimeStorage,"o-pelle-disabled":this.isDoomed}},storeRealTimeClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":!this.isDoomed,"o-enslaved-mechanic-button--storing-time":this.isStoringReal,"l-fixed-setting":!this.canChangeStoreRealTime,"o-pelle-disabled":this.isDoomed}},dischargeClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":!this.isDoomed,"l-fixed-setting":!this.canDischarge||this.hasNoCharge,"o-pelle-disabled":this.isDoomed}},doomedDisabledClass(){return{"o-pelle-disabled":this.isDoomed}},mechanicButtonClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":!this.isDoomed}}},watch:{autoRelease(t){player.celestials.enslaved.isAutoReleasing=t}},methods:{update(){this.isStoringBlackHole=Enslaved.isStoringGameTime,this.storedBlackHole=player.celestials.enslaved.stored,this.isStoringReal=Enslaved.isStoringRealTime,this.autoStoreReal=player.celestials.enslaved.autoStoreReal,this.offlineEnabled=player.options.offlineProgress,this.hasAutoRelease=Ra.unlocks.autoPulseTime.canBeApplied,this.isRunning=Enslaved.isRunning,this.completed=Enslaved.isCompleted&&!this.isDoomed,this.storedReal=player.celestials.enslaved.storedReal,this.storedRealEffiency=Enslaved.storedRealTimeEfficiency,this.storedRealCap=Enslaved.storedRealTimeCap,this.unlocks=Array.from(player.celestials.enslaved.unlocks),this.buyableUnlocks=Object.values(ENSLAVED_UNLOCKS).map(t=>Enslaved.canBuy(t)),this.quote=Enslaved.quote,this.autoRelease=player.celestials.enslaved.isAutoReleasing,this.autoReleaseSpeed=Enslaved.isAutoReleasing?Enslaved.autoReleaseSpeed:0,this.currentSpeedUp=Enslaved.currentBlackHoleStoreAmountPerMs,this.hintsUnlocked=EnslavedProgress.hintsUnlocked.hasProgress,this.canModifyGameTimeStorage=Enslaved.canModifyGameTimeStorage,this.canChangeStoreTime=Enslaved.canModifyGameTimeStorage,this.canChangeStoreRealTime=Enslaved.canModifyRealTimeStorage,this.canDischarge=Enslaved.canRelease(!1),this.canAutoRelease=Enslaved.canRelease(!0),this.hasNoCharge=player.celestials.enslaved.stored===0,this.hasReachedCurrentCap=this.storedReal===this.storedRealCap},toggleStoreBlackHole(){Enslaved.toggleStoreBlackHole()},toggleStoreReal(){Enslaved.toggleStoreReal()},toggleAutoStoreReal(){this.offlineEnabled&&Enslaved.toggleAutoStoreReal()},useStored(){Enslaved.useStoredTime(!1)},timeDisplayShort(t){return timeDisplayShort(t)},timeUntilBuy(t){return Math.max((t-this.storedBlackHole)/this.currentSpeedUp,0)},buyUnlock(t){Enslaved.buyUnlock(t)},startRun(){this.isDoomed||Modal.celestials.show({name:"The Nameless Ones'",number:2})},hasUnlock(t){return Enslaved.has(t)},canBuyUnlock(t){return this.buyableUnlocks[t.id]},unlockClassObject(t){return{"o-enslaved-shop-button--bought":this.hasUnlock(t),"o-enslaved-shop-button--available":this.canBuyUnlock(t)}},glitchStyle(t){const e=.5555555555555556,i=5,n=(t-13)*e+(Math.random()*2-1)*.85,r=(Math.random()*2-1)*i,a=(Math.pow(Math.random(),1.5)+.25)*3*i;return{transform:`translate(${n}rem, ${r}rem)`,height:`${a}rem`}}}};var tFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-enslaved-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"enslaved"}}),e.hasAutoRelease&&e.canAutoRelease?i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Pulse Black Hole:"},model:{value:e.autoRelease,callback:function(n){e.autoRelease=n},expression:"autoRelease"}})],1):e._e(),i("div",{staticClass:"l-enslaved-celestial-tab--inner"},[i("div",{staticClass:"l-enslaved-run-container"},[e.hasUnlock(e.unlocksInfo.RUN)?i("div",[i("div",{staticClass:"c-enslaved-run-button"},[i("div",{staticClass:"c-enslaved-run-button__title",class:e.doomedDisabledClass},[e._v(" "+e._s(e.realityTitle)+" ")]),e.completed?i("div",[i("b",[e._v("(Completed)")])]):e._e(),i("div",{class:e.runButtonClassObject,on:{click:e.startRun}},[i("div",{staticClass:"c-enslaved-run-button__icon__sigil"},[e._v(" "+e._s(e.enslavedSymbol)+" ")]),e._l(e.isRunning?25:0,function(n){return i("div",{key:n,staticClass:"c-enslaved-run-button__icon__glitch",style:e.glitchStyle(n)})})],2),e._l(e.runDescription,function(n){return i("div",{key:n,staticClass:"c-enslaved-run-description-line"},[e._v(" "+e._s(n)+" ")])}),i("b",[e._v("Reward: Unlock Tesseracts, which let you increase Infinity Dimension caps (see Infinity Dimension tab)")])],2)]):e._e()]),i("div",{staticClass:"l-enslaved-upgrades-column"},[e.hintsUnlocked?i("PrimaryButton",{staticClass:"o-primary-btn",attrs:{onclick:"Modal.enslavedHints.show()"}},[e._v(" Examine the Reality more closely... ")]):e._e(),i("div",{staticClass:"l-enslaved-top-container"},[i("div",{staticClass:"l-enslaved-top-container__half"},[e._v(" While charging, game speed multipliers are "+e._s(e.hasAutoRelease?"decreased":"disabled")+", and the lost speed is converted into stored game time. Discharging the Black Hole allows you to skip forward in time. Stored game time is also used to unlock certain upgrades. "),i("button",{class:e.storeGameTimeClass,on:{click:e.toggleStoreBlackHole}},[i("div",{staticClass:"o-enslaved-stored-time",class:e.doomedDisabledClass},[e._v(" "+e._s(e.timeDisplayShort(e.storedBlackHole))+" ")]),i("div",[e._v(" "+e._s(e.isStoringBlackHole?"Charging Black Hole":"Charge Black Hole")+" ")])]),i("button",{class:e.dischargeClass,on:{click:e.useStored}},[i("span",[e._v("Discharge Black Hole")]),e.isRunning?i("p",[e._v(" "+e._s(e.timeDisplayShort(e.nerfedBlackHoleTime))+" in this Reality ")]):e._e()])]),i("div",{staticClass:"l-enslaved-top-container__half"},[e._v(" Storing real time completely halts all production, setting game speed to "+e._s(e.formatInt(0))+'. You can use stored real time to "amplify" a Reality, simulating repeated runs of it. Amplified Realities give all the rewards that normal Realities do. '),i("button",{class:[e.storeRealTimeClass,{"l-fixed-setting":e.hasReachedCurrentCap}],on:{click:e.toggleStoreReal}},[i("div",{staticClass:"o-enslaved-stored-time"},[e._v(" "+e._s(e.timeDisplayShort(e.storedReal))+" ")]),i("div",[e._v(" "+e._s(e.isStoringReal?"Storing real time":"Store real time")+" ")])]),i("button",{class:[e.mechanicButtonClass,{"o-enslaved-mechanic-button--storing-time":e.autoStoreReal&&e.offlineEnabled,"l-fixed-setting":!e.canChangeStoreRealTime||!e.offlineEnabled},e.doomedDisabledClass],on:{click:e.toggleAutoStoreReal}},[e._v(" "+e._s(e.realTimeButtonText)+" ")]),i("div",[e._v(" Efficiency: "+e._s(e.storedRealEfficiencyDesc)+" ")]),i("div",[e._v(" Maximum stored real time: "+e._s(e.storedRealCapDesc)+" ")])])]),i("BlackHoleChargingSliders"),i("br"),i("div",{staticClass:"l-enslaved-shop-container"},e._l(e.unlocksInfo,function(n){return i("button",{key:n.id,staticClass:"o-enslaved-shop-button",class:e.unlockClassObject(n),on:{click:function(r){return e.buyUnlock(n)}}},[e._v(" "+e._s(n.description())+" "),e.hasUnlock(n)?e._e():i("div",[e._v(" Costs: "+e._s(e.timeDisplayShort(n.price))+" ")]),e.isStoringBlackHole&&!e.hasUnlock(n)&&e.timeUntilBuy(n.price)>0?i("span",[e._v(" Time to obtain: "+e._s(e.timeDisplayShort(e.timeUntilBuy(n.price)))+" ")]):e._e()])}),0)],1)])],1)},iFe=[],nFe=X(eFe,tFe,iFe,!1,null,"4c97a911");const rFe=nFe.exports,aFe={name:"ChallengeGridCell",props:{challenge:{type:Object,required:!0},isChallengeVisible:{type:Function,required:!0}},data(){return{isVisible:!1}},methods:{update(){this.isVisible=this.isChallengeVisible(this.challenge)}}};var sFe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"l-challenge-grid__cell"},[e._t("default")],2)},oFe=[],lFe=X(aFe,sFe,oFe,!1,null,"2fa21b88");const cFe=lFe.exports,uFe={name:"ChallengeGrid",components:{ChallengeGridCell:cFe},props:{challenges:{type:Array,required:!0},isChallengeVisible:{type:Function,required:!1,default:()=>!0}}};var dFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-challenge-grid"},e._l(e.challenges,function(n){return i("ChallengeGridCell",{key:n.id,attrs:{challenge:n,"is-challenge-visible":e.isChallengeVisible}},[e._t("default",null,{challenge:n})],2)}),1)},hFe=[],fFe=X(uFe,dFe,hFe,!1,null,"28459f46");const Ix=fFe.exports,pFe={name:"ChallengeTabHeader",components:{PrimaryButton:mt,PrimaryToggleButton:ln},data(){return{retryChallenge:!1,isInChallenge:!1,isShowAllVisible:!1,isAutoECVisible:!1,showAllChallenges:!1,autoEC:!1}},watch:{retryChallenge(t){player.options.retryChallenge=t},autoEC(t){player.reality.autoEC=t},showAllChallenges(t){player.options.showAllChallenges=t}},methods:{update(){this.retryChallenge=player.options.retryChallenge,this.showAllChallenges=player.options.showAllChallenges,this.isInChallenge=Player.isInAnyChallenge,this.isShowAllVisible=PlayerProgress.eternityUnlocked(),this.isAutoECVisible=Perk.autocompleteEC1.canBeApplied,this.autoEC=player.reality.autoEC},restartChallenge(){const t=Player.anyChallenge;Player.isInAnyChallenge&&(t.exit(!0),t.start())},exitChallenge(){const t=Player.anyChallenge;Player.isInAnyChallenge&&t.exit(!1)}}};var mFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-challenges-tab__header"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Automatically retry challenges:"},model:{value:e.retryChallenge,callback:function(n){e.retryChallenge=n},expression:"retryChallenge"}}),e.isShowAllVisible?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Show all known challenges:"},model:{value:e.showAllChallenges,callback:function(n){e.showAllChallenges=n},expression:"showAllChallenges"}}):e._e(),e.isAutoECVisible?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Auto Eternity Challenges:"},model:{value:e.autoEC,callback:function(n){e.autoEC=n},expression:"autoEC"}}):e._e(),e.isInChallenge?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.restartChallenge}},[e._v(" Restart Challenge ")]):e._e(),e.isInChallenge?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.exitChallenge}},[e._v(" Exit Challenge ")]):e._e()],1)])},yFe=[],gFe=X(pFe,mFe,yFe,!1,null,"2687280b");const Rx=gFe.exports,vFe={name:"EternityChallengeBoxWrapper",components:{HintText:mc},props:{name:{type:String,required:!0},isUnlocked:{type:Boolean,required:!0},isRunning:{type:Boolean,required:!0},isCompleted:{type:Boolean,required:!0},canBeUnlocked:{type:Boolean,required:!0},completionCount:{type:Number,required:!0},overrideLabel:{type:String,required:!1,default:""}},data(){return{challengeId:Number}},computed:{buttonClassObject(){const t=this.isCompleted&&!this.isUnlocked,e=this.isCompleted&&this.isUnlocked&&!this.isRunning,i=this.isUnlocked||this.canBeUnlocked,n=!this.isCompleted&&!this.isUnlocked&&!this.isRunning&&!this.canBeUnlocked,r=!this.isRunning&&(!this.isCompleted&&this.canBeUnlocked||this.isUnlocked);return{"o-challenge-btn":!0,"o-challenge-btn--running":this.isRunning,"o-challenge-btn--completed":t,"o-challenge-btn--redo":e,"o-challenge-btn--unlocked":!t&&i,"o-challenge-btn--locked":n,"o-challenge-btn--unenterable":!r}},completionOverlay(){return{position:"absolute",width:`${15*Math.clampMax(this.completionCount/5,1)}rem`,height:"3rem",background:"var(--color-good)",opacity:this.completionCount>=5?0:.3,"border-top-left-radius":"var(--var-border-radius, 1rem)","border-bottom-left-radius":"var(--var-border-radius, 1rem)","pointer-events":"none"}},buttonText(){return this.overrideLabel.length?this.overrideLabel:this.isRunning?"Running":this.isCompleted?this.isUnlocked?"Redo":"Completed":this.isUnlocked?"Start":this.canBeUnlocked?"Unlock":"Locked"}}};var bFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-challenge-box l-challenge-box c-challenge-box--eternity"},[i("HintText",{staticClass:"l-hint-text--challenge",attrs:{type:"challenges"}},[e._v(" "+e._s(e.name)+" ")]),e._t("top"),i("div",{staticClass:"l-challenge-box__fill"}),i("div",[i("div",{style:e.completionOverlay}),i("button",{class:e.buttonClassObject,on:{click:function(n){return e.$emit("start")}}},[e._v(" "+e._s(e.buttonText)+" ")])]),e._t("bottom")],2)},_Fe=[],wFe=X(vFe,bFe,_Fe,!1,null,"62be9714");const EFe=wFe.exports,TFe={name:"EternityChallengeBox",components:{EternityChallengeBoxWrapper:EFe,DescriptionDisplay:Qa,EffectDisplay:oo},props:{challenge:{type:Object,required:!0}},data(){return{isUnlocked:!1,isRunning:!1,isCompleted:!1,canBeUnlocked:!1,completions:0,showGoalSpan:!1,lastGoal:""}},computed:{config(){return this.challenge.config},goalDisplay(){const t=this.config;let e=`Goal: ${this.goalAtCompletions(this.completions)} IP`;return t.restriction&&(e+=` ${t.formatRestriction(t.restriction(this.completions))}`),e},firstGoal(){return this.goalAtCompletions(0)},currentRewardConfig(){const t=this.challenge,e=this.config.reward;return{effect:()=>e.effect(t.completions),formatEffect:e.formatEffect,cap:e.cap}},nextRewardConfig(){const t=this.challenge,e=this.config.reward;return{effect:()=>e.effect(t.completions+1),formatEffect:e.formatEffect,cap:e.cap}},name(){return`EC${this.challenge.id}`}},methods:{update(){const t=this.challenge;this.isUnlocked=t.isUnlocked,this.isRunning=t.isRunning,this.isCompleted=t.isFullyCompleted,this.completions=t.completions,this.showGoalSpan=PlayerProgress.realityUnlocked(),this.canBeUnlocked=TimeStudy.eternityChallenge(t.id).canBeBought,this.lastGoal=Enslaved.isRunning&&this.challenge.id===1?zn.wordCycle(this.config.scrambleText.map(e=>format(e))):this.goalAtCompletions(this.challenge.maxCompletions-1)},start(){this.canBeUnlocked?TimeStudy.eternityChallenge(this.challenge.id).purchase():this.challenge.requestStart()},goalAtCompletions(t){return format(this.challenge.goalAtCompletions(t),2,1)}}};var CFe=function(){var e=this,i=e._self._c;return i("EternityChallengeBoxWrapper",{attrs:{name:e.name,"is-unlocked":e.isUnlocked,"is-running":e.isRunning,"is-completed":e.isCompleted,"can-be-unlocked":e.canBeUnlocked,"completion-count":e.completions},on:{start:e.start},scopedSlots:e._u([{key:"top",fn:function(){return[i("DescriptionDisplay",{attrs:{config:e.config}})]},proxy:!0},{key:"bottom",fn:function(){return[i("div",{style:{visiblity:e.completions<5?"visible":"hidden"}},[i("div",[e._v(" Completed "+e._s(e.quantifyInt("time",e.completions))+" ")]),e._v(" "+e._s(e.goalDisplay)+" ")]),e.showGoalSpan?i("span",[e._v(" Goal Span: "+e._s(e.firstGoal)+" IP - "+e._s(e.lastGoal)+" IP ")]):e._e(),i("span",[e._v(" Reward: "),i("DescriptionDisplay",{attrs:{config:e.config.reward,length:55,name:"c-challenge-box__reward-description"}})],1),i("span",[e.completions>0?i("EffectDisplay",{attrs:{config:e.currentRewardConfig}}):e._e(),e.completions>0&&e.completions<5?i("span",[e._v("|")]):e._e(),e.completions<5?i("EffectDisplay",{attrs:{config:e.nextRewardConfig,label:"Next","ignore-capped":!0}}):e._e()],1)]},proxy:!0}])})},kFe=[],SFe=X(TFe,CFe,kFe,!1,null,"050da1f3");const AFe=SFe.exports,xFe={name:"EternityChallengesTab",components:{ChallengeTabHeader:Rx,ChallengeGrid:Ix,EternityChallengeBox:AFe},data(){return{unlockedCount:0,showAllChallenges:!1,autoEC:!1,isAutoECVisible:!1,hasUpgradeLock:!1,remainingECTiers:0,untilNextEC:TimeSpan.zero,untilAllEC:TimeSpan.zero,hasECR:!1}},computed:{challenges(){return EternityChallenges.all},upgradeLockNameText(){return RealityUpgrade(12).isLockingMechanics?RealityUpgrade(12).name:ImaginaryUpgrade(15).name},nextECText(){return this.untilNextEC.totalMilliseconds===0&&!this.autoEC?"Immediately upon unpausing":`${this.untilNextEC} (real time)`},allECText(){return this.untilAllEC.totalMilliseconds===0&&!this.autoEC?"Immediately upon unpausing":`After ${this.untilAllEC} (real time)`}},methods:{update(){this.showAllChallenges=player.options.showAllChallenges,this.unlockedCount=EternityChallenges.all.filter(this.isChallengeVisible).length,this.isAutoECVisible=Perk.autocompleteEC1.canBeApplied,this.autoEC=player.reality.autoEC;const t=TimeDimension(1).amount.gt(0);this.hasUpgradeLock=RealityUpgrade(12).isLockingMechanics||ImaginaryUpgrade(15).isLockingMechanics&&t&&!Array.range(1,6).some(i=>!EternityChallenge(i).isFullyCompleted);const e=EternityChallenges.remainingCompletions;if(this.remainingECTiers=e,e!==0){const i=EternityChallenges.autoComplete.interval,n=Math.max(i-player.reality.lastAutoEC,0);this.untilNextEC.setFrom(n),this.untilAllEC.setFrom(n+i*(e-1))}this.hasECR=Perk.studyECRequirement.isBought},isChallengeVisible(t){return t.completions>0||t.isUnlocked||t.hasUnlocked||this.showAllChallenges&&PlayerProgress.realityUnlocked()}}};var DFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-challenges-tab"},[i("ChallengeTabHeader"),e.isAutoECVisible?i("div",[e._v(" Eternity Challenges are automatically completed sequentially, requiring all previous Eternity Challenges to be fully completed before any progress is made. ")]):e._e(),e.isAutoECVisible&&e.remainingECTiers>0?i("div",{staticClass:"c-challenges-tab__auto-ec-info l-challenges-tab__auto-ec-info"},[i("div",{staticClass:"l-challenges-tab__auto-ec-timers"},[e.hasUpgradeLock?i("span",{staticClass:"l-emphasis"},[e._v(' Auto EC is currently disabled because of the "'+e._s(e.upgradeLockNameText)+'" upgrade requirement lock. ')]):e._e(),e.remainingECTiers>0?i("span",[e._v(" Next Auto Eternity Challenge completion: "+e._s(e.nextECText)+" ")]):e._e(),i("span",[e._v(" All Auto Eternity Challenge completions: "+e._s(e.allECText)+" ")]),i("br")])]):e._e(),i("div",[e._v(" Complete Eternity Challenges again for a bigger reward, maximum of "+e._s(e.formatInt(5))+" times."),i("br"),e._v(" The rewards are applied permanently with no need to have the respective Eternity Challenge Time Study purchased. ")]),e.hasECR?e._e():i("div",[e._v(" When you respec out of an unlocked Eternity Challenge, you don't need to redo the secondary requirement"),i("br"),e._v(" in order to unlock it again until you complete it; only the Time Theorems are required. ")]),e.unlockedCount!==12?i("div",[e._v(" You have seen "+e._s(e.formatInt(e.unlockedCount))+" out of "+e._s(e.formatInt(12))+" Eternity Challenges. ")]):i("div",[e._v(" You have seen all "+e._s(e.formatInt(12))+" Eternity Challenges. ")]),i("ChallengeGrid",{attrs:{challenges:e.challenges,"is-challenge-visible":e.isChallengeVisible},scopedSlots:e._u([{key:"default",fn:function({challenge:n}){return[i("EternityChallengeBox",{attrs:{challenge:n}})]}}])})],1)},IFe=[],RFe=X(xFe,DFe,IFe,!1,null,"59cd9ed3");const MFe=RFe.exports,PFe={name:"EternityMilestoneButton",props:{getMilestone:{type:Function,required:!0}},data(){return{isReached:!1,isLocked:!1}},computed:{milestone(){return this.getMilestone()},config(){return this.milestone.config},eternities(){return this.config.eternities},reward(){const t=this.config.reward;return typeof t=="function"?t():t},rewardClassObject(){return{"o-eternity-milestone__reward":!0,"o-eternity-milestone__reward--locked":!this.isReached,"o-eternity-milestone__reward--reached":this.isReached,"o-eternity-milestone__reward--small-font":this.reward.length>80}},activeCondition(){return this.config.activeCondition?this.config.activeCondition():null},isDoomed:()=>Pelle.isDoomed,isUseless(){return this.isDoomed&&this.config.pelleUseless}},methods:{update(){this.isLocked=this.isDoomed&&this.config.givenByPelle!==void 0,this.isReached=this.milestone.isReached}}};var OFe=function(){var e=this,i=e._self._c;return e.config.invisible?e._e():i("div",{staticClass:"l-eternity-milestone"},[i("span",{staticClass:"o-eternity-milestone__goal"},[e._v(" "+e._s(e.quantifyInt("Eternity",e.eternities))+": ")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.activeCondition,expression:"activeCondition"}],class:e.rewardClassObject},[i("span",{class:{"o-pelle-disabled":e.isUseless}},[e._v(" "+e._s(e.reward)+" "+e._s(e.isLocked&&!e.isReached?"(Locked behind a Pelle Upgrade)":"")+" ")])])])},NFe=[],GFe=X(PFe,OFe,NFe,!1,null,"49bebf7b");const UFe=GFe.exports,LFe={name:"EternityMilestonesTab",components:{EternityMilestoneButton:UFe},data(){return{eternityCount:new Decimal}},computed:{milestones(){return Object.values(GameDatabase.eternity.milestones).sort((t,e)=>t.eternities-e.eternities).map(t=>new EternityMilestoneState(t))},rows(){return Math.ceil(this.milestones.length/3)}},methods:{update(){this.eternityCount.copyFrom(Currency.eternities.value.floor())},getMilestone(t,e){return()=>this.milestones[(t-1)*3+e-1]}}};var BFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-eternity-milestone-grid"},[i("div",[e._v("You have "+e._s(e.quantify("Eternity",e.eternityCount,3))+".")]),i("div",[e._v(" Offline generation milestones are only active under certain conditions, mouse-over to see these conditions. ")]),e._l(e.rows,function(n){return i("div",{key:n,staticClass:"l-eternity-milestone-grid__row"},e._l(3,function(r){return i("EternityMilestoneButton",{key:n*3+r,staticClass:"l-eternity-milestone-grid__cell",attrs:{"get-milestone":e.getMilestone(n,r)}})}),1)})],2)},$Fe=[],FFe=X(LFe,BFe,$Fe,!1,null,"c163bf5c");const HFe=FFe.exports,VFe={name:"EPMultiplierButton",components:{PrimaryButton:mt,PrimaryToggleButton:ln},data(){return{isAutobuyerActive:!1,isAutoUnlocked:!1,isAffordable:!1,multiplier:new Decimal,cost:new Decimal}},computed:{upgrade(){return EternityUpgrade.epMult},autobuyer(){return Autobuyer.epMult},classObject(){return this.isDoomed?{"o-eternity-upgrade":!0,"o-eternity-upgrade--useless":!this.isAffordable,"o-pelle-disabled-pointer":!0,"o-pelle-disabled":!0}:{"o-eternity-upgrade":!0,"o-eternity-upgrade--available":this.isAffordable,"o-eternity-upgrade--unavailable":!this.isAffordable}},isDoomed:()=>Pelle.isDoomed},watch:{isAutobuyerActive(t){Autobuyer.epMult.isActive=t}},methods:{update(){const t=this.upgrade;this.isAutoUnlocked=this.autobuyer.isUnlocked,this.isAutobuyerActive=this.autobuyer.isActive,this.multiplier.copyFrom(t.effectValue),this.cost.copyFrom(t.cost),this.isAffordable=t.isAffordable},purchaseUpgrade(){RealityUpgrade(15).isLockingMechanics?RealityUpgrade(15).tryShowWarningModal():this.upgrade.purchase()}}};var YFe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group l-margin-top"},[i("button",{class:e.classObject,on:{click:e.purchaseUpgrade}},[i("div",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Multiply Eternity Points from all sources by "+e._s(e.formatX(5))+" "),i("br"),e._v(" Currently: "+e._s(e.formatX(e.multiplier,2,0))+" ")]),i("br"),e._v(" Cost: "+e._s(e.quantify("Eternity Point",e.cost,2,0))+" ")]),i("PrimaryButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",on:{click:function(n){return e.upgrade.buyMax(!1)}}},[e._v(" Max Eternity Point mult ")]),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",attrs:{label:"Autobuy EP mult"},model:{value:e.isAutobuyerActive,callback:function(n){e.isAutobuyerActive=n},expression:"isAutobuyerActive"}}):e._e()],1)},qFe=[],WFe=X(VFe,YFe,qFe,!1,null,"22f2076c");const jFe=WFe.exports,zFe={name:"EternityUpgradeButton",components:{DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc},props:{upgrade:{type:Object,required:!0}},data(){return{isBought:!1,isAffordable:!1}},computed:{classObject(){return{"o-eternity-upgrade":!0,"o-eternity-upgrade--bought":this.isBought,"o-eternity-upgrade--available":!this.isBought&&this.isAffordable,"o-eternity-upgrade--unavailable":!this.isBought&&!this.isAffordable}},hasEU2(){return Perk.autounlockEU2.canBeApplied}},methods:{update(){const t=this.upgrade;this.isBought=t.isBought,this.isAffordable=t.isAffordable}}};var XFe=function(){var e=this,i=e._self._c;return i("button",{class:e.classObject,on:{click:function(n){return e.upgrade.purchase()}}},[i("DescriptionDisplay",{attrs:{config:e.upgrade.config}}),i("EffectDisplay",{attrs:{br:"",config:e.upgrade.config}}),!e.isBought&&e.hasEU2?i("div",[e._v(" Auto: "+e._s(e.format(e.upgrade.config.cost/1e10))+" Eternity Points ")]):e.isBought?e._e():i("CostDisplay",{attrs:{br:"",config:e.upgrade.config,name:"Eternity Point"}})],1)},KFe=[],ZFe=X(zFe,XFe,KFe,!1,null,"4a2f2061");const QFe=ZFe.exports,JFe={name:"EternityUpgradesTab",components:{EternityUpgradeButton:QFe,EPMultiplierButton:jFe},computed:{grid(){return[[EternityUpgrade.idMultEP,EternityUpgrade.idMultEternities,EternityUpgrade.idMultICRecords],[EternityUpgrade.tdMultAchs,EternityUpgrade.tdMultTheorems,EternityUpgrade.tdMultRealTime]]},costIncreases:()=>EternityUpgrade.epMult.costIncreaseThresholds.map(t=>new Decimal(t))},methods:{formatPostBreak}};var e3e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-eternity-upgrades-grid"},[e._l(e.grid,function(n,r){return i("div",{key:r,staticClass:"l-eternity-upgrades-grid__row"},e._l(n,function(a){return i("EternityUpgradeButton",{key:a.id,staticClass:"l-eternity-upgrades-grid__cell",attrs:{upgrade:a}})}),1)}),i("EPMultiplierButton"),i("div",[e._v(" The cost for the "+e._s(e.formatX(5))+" multiplier jumps at "+e._s(e.format(e.costIncreases[0]))+", "+e._s(e.formatPostBreak(e.costIncreases[1],2))+", and "+e._s(e.formatPostBreak(e.costIncreases[2]))+" Eternity Points. "),i("br"),e._v(" The cost increases super-exponentially after "+e._s(e.formatPostBreak(e.costIncreases[3]))+" Eternity Points. ")])],2)},t3e=[],i3e=X(JFe,e3e,t3e,!1,null,"cda397b4");const n3e=i3e.exports,r3e={name:"GlyphSetRecordsTab",components:{GlyphSetPreview:Yf},data(){return{recordGlyphInfo:[]}},methods:{update(){const t=player.records.bestReality,e=8-Laitela.difficultyTier;this.recordGlyphInfo=[[!0,Glyphs.copyForRecords(t.RMSet),"Best Reality Machines gained",`${format(t.RM,2,2)} RM`],[!0,Glyphs.copyForRecords(t.RMminSet),"Best Reality Machines per minute",`${format(t.RMmin,2,2)} RM/min`],[!0,Glyphs.copyForRecords(t.glyphLevelSet),"Best Glyph Level",`Level ${formatInt(t.glyphLevel)}`],[!0,Glyphs.copyForRecords(t.bestEPSet),"Highest Eternity Points",`${format(t.bestEP,2,2)} EP`],[!0,Glyphs.copyForRecords(t.speedSet),"Fastest Reality (real time)",`${TimeSpan.fromMilliseconds(t.realTime).toStringShort()}`],[player.celestials.teresa.bestRunAM.gt(1),Glyphs.copyForRecords(player.celestials.teresa.bestAMSet),`Highest Antimatter in ${Teresa.possessiveName} Reality`,`${format(player.celestials.teresa.bestRunAM,2,2)} Antimatter`],[Currency.imaginaryMachines.gt(0),Glyphs.copyForRecords(t.iMCapSet),"Highest Imaginary Machine cap",`${format(MachineHandler.currentIMCap,2,2)} iM`],[Laitela.isUnlocked,Glyphs.copyForRecords(t.laitelaSet),`Best ${Laitela.displayName} Destabilization`,`${TimeSpan.fromSeconds(player.celestials.laitela.fastestCompletion).toStringShort()},
          ${e} ${pluralize("Dimension",e)} (${formatX(Laitela.realityReward,2,2)} DM)`]]}}};var a3e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-glyph-set-tab"},e._l(e.recordGlyphInfo,function(n,r){return i("div",{key:r},[n[0]?i("div",{staticClass:"l-glyph-set-entry"},[e._v(" "+e._s(n[2])+": "),n[0]?i("GlyphSetPreview",{key:r,attrs:{glyphs:n[1],text:n[2],"text-hidden":!0}}):e._e(),e._v(" "+e._s(n[3])+" "),i("br")],1):e._e()])}),0)},s3e=[],o3e=X(r3e,a3e,s3e,!1,null,null);const l3e=o3e.exports,c3e={name:"CurrentGlyphEffect",props:{isColored:{type:Boolean,default:!0},effect:{type:Object,required:!0}},computed:{effectConfig(){return GlyphEffects[this.effect.id]},formatValue(){if(this.effectConfig.isDisabledByDoomed)return"";const t=this.effect.value.value,e=this.effectConfig.formatEffect(t),i=this.effectConfig.conversion===void 0?"":this.effectConfig.formatSecondaryEffect(this.effectConfig.conversion(t));return this.effectConfig.totalDesc.replace("{value}",e).replace("{value2}",i)},textColor(){if(!this.isColored)return{};const t=this.effectConfig.id==="timeshardpow"?CosmeticGlyphTypes.time:CosmeticGlyphTypes[this.effectConfig.glyphTypes];let e=t.currentColor.border;return t.id==="cursed"&&(e="var(--color-celestials)"),{color:e,"text-shadow":`-1px 1px 1px var(--color-text-base), 1px 1px 1px var(--color-text-base),
                            -1px -1px 1px var(--color-text-base), 1px -1px 1px var(--color-text-base),
                            0 0 3px ${t.currentColor.border}`,animation:t.id==="reality"?"a-reality-glyph-description-cycle 10s infinite":void 0}},valueClass(){return this.effect.value.capped?"c-current-glyph-effects__effect--capped":""}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,()=>{this.$recompute("effectConfig")})}};var u3e=function(){var e=this,i=e._self._c;return i("div",[i("span",{class:e.valueClass,style:e.textColor},[e._v(" "+e._s(e.formatValue)+" ")])])},d3e=[],h3e=X(c3e,u3e,d3e,!1,null,"0d51f78e");const f3e=h3e.exports,P2=["powerpow","powermult","powerdimboost","powerbuy10","infinitypow","infinityinfmult","infinityIP","infinityrate","replicationpow","replicationdtgain","replicationspeed","replicationglyphlevel","timepow","timeshardpow","timeEP","timespeed","timeetermult","dilationpow","dilationTTgen","dilationDT","dilationgalaxyThreshold","effarigrm","effarigglyph","effarigblackhole","effarigachievement","effarigforgotten","effarigdimensions","effarigantimatter","cursedgalaxies","cursedtickspeed","curseddimensions","cursedEP","realityglyphlevel","realitygalaxies","realityrow1pow","realityDTglyph","companiondescription","companionEP"],p3e={name:"CurrentGlyphEffects",components:{GlyphSetName:nx,CurrentGlyphEffect:f3e},data(){return{effects:[],isColored:!1,hasEffarig:!1,hasReality:!1,logTotalSacrifice:0,pelleChaosEffect:{}}},computed:{isSoftcapActive(){return this.effects.length&&!this.effects.every(t=>t.value.capped===!1)},uniqueGlyphText(){if(!this.hasEffarig&&!this.hasReality)return"";const t=[];return this.hasEffarig&&t.push(`<span style="color: ${GlyphAppearanceHandler.getBorderColor("effarig")};">Effarig</span>`),this.hasReality&&t.push('<span style="animation: a-reality-glyph-description-cycle 10s infinite;">Reality</span>'),`You cannot have more than one ${t.join(" or ")}
        Glyph equipped${t.length>1?" each.":"."}`},noEffects(){return!this.effects.length},glyphSet(){return Glyphs.activeList},pelleGlyphText(){return Pelle.isDoomed?`Glyph Rarity is set to ${formatPercents(strengthToRarity(Pelle.glyphStrength))}
          and Level is capped at ${formatInt(Pelle.glyphMaxLevel)}`:""},showChaosText(){return this.pelleChaosEffect.isUnlocked&&!this.noEffects},chaosEffect(){return this.pelleChaosEffect.description}},watch:{logTotalSacrifice(){this.glyphsChanged()}},created(){this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,this.glyphsChanged),this.glyphsChanged()},methods:{update(){this.isColored=player.options.glyphTextColors,this.hasEffarig=Glyphs.active.some(t=>t&&t.type==="effarig"),this.hasReality=Glyphs.active.some(t=>t&&t.type==="reality"),this.logTotalSacrifice=GameCache.logTotalGlyphSacrifice.value,this.pelleChaosEffect=Pelle.specialGlyphEffect},glyphsChanged(){this.effects=getActiveGlyphEffects(),this.effects.sort((t,e)=>P2.indexOf(t.id)-P2.indexOf(e.id))}}};var m3e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-current-glyph-effects l-current-glyph-effects"},[i("div",{staticClass:"pelle-current-glyph-effects"},[e._v(" "+e._s(e.pelleGlyphText)+" ")]),i("div",{staticClass:"c-current-glyph-effects__header"},[e._v(" Currently active Glyph effects: ")]),i("GlyphSetName",{attrs:{"glyph-set":e.glyphSet}}),e.isSoftcapActive||e.hasEffarig||e.hasReality?i("br"):e._e(),i("span",{domProps:{innerHTML:e._s(e.uniqueGlyphText)}}),e.isSoftcapActive?i("div",{staticClass:"l-current-glyph-effects__capped-header"},[i("span",{staticClass:"c-current-glyph-effects__effect--capped"},[e._v("Italic")]),e._v(" effects have been slightly reduced due to a softcap ")]):e._e(),i("br"),e.noEffects?i("div",[e._v(" None (equip Glyphs to get their effects) ")]):e._e(),e._l(e.effects,function(n){return i("CurrentGlyphEffect",{key:n.id+e.logTotalSacrifice,attrs:{effect:n,"is-colored":e.isColored}})}),e.showChaosText?i("div",{staticClass:"pelle-current-glyph-effects"},[e._v(" "+e._s(e.chaosEffect)+" ")]):e._e()],2)},y3e=[],g3e=X(p3e,m3e,y3e,!1,null,"91207762");const v3e=g3e.exports,b3e={name:"EquippedGlyphs",components:{GlyphComponent:ou},data(){return{glyphs:[],dragoverIndex:-1,respec:player.reality.respec,respecIntoProtected:player.options.respecIntoProtected,undoSlotsAvailable:0,undoAvailable:!1,undoVisible:!1,cosmeticGlow:!1}},computed:{GLYPH_SIZE:()=>5,slotCount(){return this.glyphs.length},arrangementRadius(){return this.slotCount===0?0:this.slotCount+1},respecTooltip(){const t=Pelle.isDoomed?"Armageddon":"Reality";return this.respec?`Respec is active and will place your currently - equipped Glyphs into your inventory after ${t}.`:`Your currently-equipped Glyphs will stay equipped on ${t}.`},undoTooltip(){return this.undoSlotsAvailable?this.undoAvailable?"Unequip the last equipped Glyph and rewind Reality to when you equipped it. (Most resources will be fully reset)":"Undo is only available for Glyphs equipped during this Reality":"You do not have available inventory space to unequip Glyphs to"},unequipText(){return Pelle.isDoomed?"Unequip Glyphs on Armageddon":"Unequip Glyphs on Reality"},isDoomed(){return Pelle.isDoomed},glyphRespecStyle(){return this.respec?{color:"var(--color-reality-light)","background-color":"var(--color-reality)","border-color":"#094e0b",cursor:"pointer"}:{cursor:"pointer"}},unequipClass(){return{"l-glyph-equip-button":this.isDoomed,"l-glyph-equip-button-short":!this.isDoomed}}},created(){this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,this.glyphsChanged),this.glyphsChanged()},methods:{update(){this.respec=player.reality.respec,this.respecIntoProtected=player.options.respecIntoProtected,this.undoSlotsAvailable=this.respecIntoProtected?Glyphs.totalSlots-GameCache.glyphInventorySpace.value-Glyphs.inventoryList.length>0:GameCache.glyphInventorySpace.value>0,this.undoVisible=TeresaUnlocks.undo.canBeApplied,this.undoAvailable=this.undoVisible&&this.undoSlotsAvailable&&player.reality.glyphs.undo.length>0,this.cosmeticGlow=player.reality.glyphs.cosmetics.glowNotification},glyphPositionStyle(t){const e=2*Math.PI*t/this.slotCount,i=-this.GLYPH_SIZE/2+this.arrangementRadius*Math.sin(e),n=-this.GLYPH_SIZE/2+this.arrangementRadius*Math.cos(e);return{position:"absolute",left:`calc(50% + ${i}rem)`,top:`calc(50% + ${n}rem)`,"z-index":1}},dragover(t,e){t.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&(t.preventDefault(),this.dragoverIndex=e)},dragleave(t){this.dragoverIndex===t&&(this.dragoverIndex=-1)},drop(t,e){this.dragoverIndex=-1;const i=parseInt(t.dataTransfer.getData(GLYPH_MIME_TYPE),10);if(isNaN(i))return;const n=Glyphs.findById(i);n&&Glyphs.equip(n,e)},toggleRespec(){player.reality.respec=!player.reality.respec},toggleRespecIntoProtected(){player.options.respecIntoProtected=!player.options.respecIntoProtected},glyphsChanged(){this.glyphs=Glyphs.active.map(GlyphGenerator.copy),this.$recompute("slotCount")},undo(){!this.undoAvailable||Pelle.isDoomed||(player.options.confirmations.glyphUndo?Modal.glyphUndo.show():Glyphs.undo())},dragEvents(t){return{dragover:e=>this.dragover(e,t),dragleave:()=>this.dragleave(t),drop:e=>this.drop(e,t)}},showEquippedModal(){this.glyphs.filter(t=>t).length!==0&&Modal.glyphShowcasePanel.show({name:"Equipped Glyphs",glyphSet:this.glyphs,closeEvent:GAME_EVENT.GLYPHS_EQUIPPED_CHANGED})},showOptionModal(){player.reality.glyphs.cosmetics.glowNotification=!1,Modal.glyphDisplayOptions.show()},clickGlyph(t,e,i=!1){if(Glyphs.isMusicGlyph(t)){const n=e+(i?6:1);new Audio(`audio/note${n}.mp3`).play()}}}};var _3e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-equipped-glyphs"},[i("div",{staticClass:"l-equipped-glyphs__slots"},e._l(e.glyphs,function(n,r){return i("div",e._g({key:r,staticClass:"l-glyph-set-preview",style:e.glyphPositionStyle(r),on:{click:e.showEquippedModal}},e.dragEvents(r)),[i("div",{staticClass:"l-equipped-glyphs__dropzone"}),n?i("GlyphComponent",{key:r,staticClass:"c-equipped-glyph",attrs:{glyph:n,circular:!0,"is-active-glyph":!0},on:{clicked:function(a){return e.clickGlyph(n,r)},shiftClicked:function(a){return e.clickGlyph(n,r,!0)},ctrlShiftClicked:function(a){return e.clickGlyph(n,r,!0)}}}):i("div",{class:["l-equipped-glyphs__empty","c-equipped-glyphs__empty",{"c-equipped-glyphs__empty--dragover":e.dragoverIndex===r}]})],1)}),0),i("div",{staticClass:"l-equipped-glyphs__buttons"},[i("button",{staticClass:"c-reality-upgrade-btn",class:e.unequipClass,style:e.glyphRespecStyle,attrs:{"ach-tooltip":e.respecTooltip},on:{click:e.toggleRespec}},[e._v(" "+e._s(e.unequipText)+" ")]),e.undoVisible?i("button",{staticClass:"l-glyph-equip-button c-reality-upgrade-btn",class:{"c-reality-upgrade-btn--unavailable":!e.undoAvailable},attrs:{"ach-tooltip":e.undoTooltip},on:{click:e.undo}},[e._m(0)]):e._e(),i("button",{staticClass:"l-glyph-equip-button c-reality-upgrade-btn",on:{click:e.toggleRespecIntoProtected}},[e._v(" Unequip Glyphs to: "),i("br"),e.respecIntoProtected?i("span",[e._v("Protected slots")]):i("span",[e._v("Main inventory")])]),i("button",{staticClass:"l-glyph-equip-button-short c-reality-upgrade-btn",class:{"tutorial--glow":e.cosmeticGlow},on:{click:e.showOptionModal}},[e._v(" Open Glyph Visual Options ")])])])},w3e=[function(){var t=this,e=t._self._c;return e("span",[t._v("Rewind to "),e("b",[t._v("undo")]),t._v(" the last equipped Glyph")])}],E3e=X(b3e,_3e,w3e,!1,null,"740aa6c3");const T3e=E3e.exports,C3e={name:"GlyphInventory",components:{GlyphComponent:ou},data(){return{inventory:[],newGlyphs:[],unequippedGlyphs:[],doubleClickTimeOut:null,clickedGlyphId:null,glyphSacrificeUnlocked:!1,protectedRows:0}},computed:{rowCount:()=>Glyphs.totalSlots/10,colCount:()=>10},created(){this.on$(GAME_EVENT.GLYPHS_CHANGED,this.glyphsChanged),this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,this.glyphsChanged),this.glyphsChanged()},methods:{update(){this.glyphSacrificeUnlocked=GlyphSacrificeHandler.canSacrifice,this.protectedRows=player.reality.glyphs.protectedRows,this.newGlyphs=Glyphs.unseen,this.unequippedGlyphs=Glyphs.unequipped},toIndex(t,e){return(t-1)*this.colCount+(e-1)},allowDrag(t){t.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&t.preventDefault()},drop(t,e){const i=parseInt(e.dataTransfer.getData(GLYPH_MIME_TYPE),10);if(isNaN(i))return;const n=Glyphs.findById(i);n&&Glyphs.moveToSlot(n,t)},removeGlyph(t,e){GlyphSacrificeHandler.removeGlyph(Glyphs.findById(t),e)},clickGlyph(t,e){const i=Glyphs.findById(e);if(this.doubleClickTimeOut){if(this.clickedGlyphId===e){clearTimeout(this.doubleClickTimeOut),this.doubleClickTimeOut=null;const n=Glyphs.active.indexOf(null);n!==-1&&Glyphs.equip(i,n)}}else{if(this.doubleClickTimeOut=setTimeout(()=>{this.clickedGlyphId=null,this.doubleClickTimeOut=null},200),this.clickedGlyphId=e,!i)return;Glyphs.isMusicGlyph(i)&&new Audio(`audio/note${t}.mp3`).play()}},glyphsChanged(){this.inventory=Glyphs.inventory.map(GlyphGenerator.copy)},slotClass(t){return t<Glyphs.protectedSlots?"c-glyph-inventory__protected-slot":"c-glyph-inventory__slot"},isNew(t){return player.options.showNewGlyphIcon&&this.newGlyphs.includes(this.inventory[t].id)},isUnequipped(t){return player.options.showUnequippedGlyphIcon&&this.unequippedGlyphs.includes(this.inventory[t].id)}}};var k3e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-glyph-inventory"},[e._v(" Click and drag or double-click to equip Glyphs. "),e._l(e.rowCount,function(n){return i("div",{key:e.protectedRows+n,staticClass:"l-glyph-inventory__row"},e._l(e.colCount,function(r){return i("div",{key:r,staticClass:"l-glyph-inventory__slot",class:e.slotClass(e.toIndex(n,r)),on:{dragover:e.allowDrag,drop:function(a){e.drop(e.toIndex(n,r),a)}}},[e.inventory[e.toIndex(n,r)]?i("GlyphComponent",{attrs:{glyph:e.inventory[e.toIndex(n,r)],"is-new":e.isNew(e.toIndex(n,r)),"is-unequipped":e.isUnequipped(e.toIndex(n,r)),"is-inventory-glyph":!0,"show-sacrifice":e.glyphSacrificeUnlocked,draggable:!0},on:{shiftClicked:function(a){return e.removeGlyph(a,!1)},ctrlShiftClicked:function(a){return e.removeGlyph(a,!0)},clicked:function(a){return e.clickGlyph(r,a)}}}):e._e()],1)}),0)})],2)},S3e=[],A3e=X(C3e,k3e,S3e,!1,null,"7ecb9ab4");const x3e=A3e.exports,D3e={name:"ToggleButton",props:{label:{type:String,required:!1,default:""},on:{type:String,required:!1,default:"ON"},off:{type:String,required:!1,default:"OFF"},value:{type:Boolean,required:!0},tooltipClass:{type:String,required:!1,default:""},tooltipContent:{type:String,required:!1,default:""}},computed:{displayText(){return`${this.label} ${this.value?this.on:this.off}`.trim()}}};var I3e=function(){var e=this,i=e._self._c;return i("button",e._b({on:{click:function(n){return e.emitInput(!e.value)}}},"button",e.$attrs,!1),[e._v(" "+e._s(e.displayText)+" "),e.tooltipClass?i("div",{class:e.tooltipClass},[e._v(" "+e._s(e.tooltipContent)+" ")]):e._e()])},R3e=[],M3e=X(D3e,I3e,R3e,!1,null,null);const CE=M3e.exports,P3e={name:"GlyphLevelsAndWeights",components:{ToggleButton:CE,SliderComponent:cu},data(){return{perkShopVisible:!1,penaltyVisible:!1,rowVisible:!1,achievementVisible:!1,showAutoAdjustWeights:!1,isAutoAdjustWeightsOn:!1,factors:getGlyphLevelInputs(),shardsGained:0,weights:Object.assign({},player.celestials.effarig.glyphWeights),rows:3}},computed:{gridStyle(){const t=this.adjustVisible?"30% 3% 17% 48% 2%":"80% 5% 15%";return{width:"100%","-ms-grid-columns":t,"grid-template-columns":t,"grid-auto-rows":"1fr"}},adjustOutlineStyle(){const t=5+(this.showAutoAdjustWeights?1:0);return`grid-row: 1 / ${t+1}; -ms-grid-row: 1; -ms-grid-row-span: ${t};`},formatPerkShop(){return formatPercents(this.factors.perkShop-1,1)},sliderProps(){return{min:0,max:100,interval:1,disabled:this.isAutoAdjustWeightsOn,"dot-width":"2.2rem","dot-height":"1.6rem",width:"13.5rem",tooltip:!1,"value-in-dot":!0,"plus-minus-buttons":!0,"dot-class":"c-glyph-levels-and-weights__slider-handle","bg-class":"c-glyph-levels-and-weights__slider-bg","process-class":"c-glyph-levels-and-weights__slider-process"}},totalWeights(){return this.weights.ep+this.weights.repl+this.weights.dt+this.weights.eternities},visibleRows(){const t=["ep","replicanti","dt"];return this.eternityVisible&&t.push("eternities"),this.perkShopVisible&&t.push("perk shop"),this.shardVisible&&t.push("shards"),this.singularityVisible&&t.push("singularities"),this.penaltyVisible&&t.push("instability"),this.rowVisible&&t.push("upgrade rows"),this.achievementVisible&&t.push("achievements"),t.push("level"),t.push("info"),t.push("info2"),t},adjustVisible(){return EffarigUnlock.adjuster.isUnlocked},eternityVisible(){return RealityUpgrade(18).isBought},shardVisible(){return Ra.unlocks.relicShardGlyphLevelBoost.canBeApplied&&this.shardsGained!==0},singularityVisible(){return SingularityMilestone.glyphLevelFromSingularities.canBeApplied}},watch:{isAutoAdjustWeightsOn(t){player.celestials.effarig.autoAdjustGlyphWeights=t}},created(){this.glyphWeightFields=Object.keys(player.celestials.effarig.glyphWeights),this.resetSavedWeights(),this.lastInstability=0,Glyphs.factorsOpen&&this.$parent.$emit("openrequest")},mounted(){this.$viewModel.tabs.reality.openGlyphWeights&&(this.$viewModel.tabs.reality.openGlyphWeights=!1,this.$parent.$emit("openrequest"))},destroyed(){Glyphs.factorsOpen=this.$parent.state.name.match("OPEN")!==null},methods:{update(){if(this.glyphWeightFields===void 0||this.$parent.state.name==="CLOSED")return;const t=getGlyphLevelInputs();this.perkShopVisible=t.perkShop!==1,this.rowVisible=t.rowFactor>0,this.achievementVisible=t.achievementFactor>0,t.scalePenalty!==1?(this.penaltyVisible=!0,this.lastInstability=Date.now()):this.penaltyVisible&&Date.now()-this.lastInstability>2e3&&(this.penaltyVisible=!1),this.rows=this.visibleRows.length,this.adjustVisible&&this.rows<6&&(this.rows=6),this.factors=t,this.shardsGained=Effarig.shardsGained;let e=!0;this.glyphWeightFields.forEach(i=>{this.weights[i]!==player.celestials.effarig.glyphWeights[i]&&(e=!1),this.weights[i]=player.celestials.effarig.glyphWeights[i]}),e||this.resetSavedWeights(),this.showAutoAdjustWeights=Achievement(165).isUnlocked,this.isAutoAdjustWeightsOn=player.celestials.effarig.autoAdjustGlyphWeights},rowStyle(t){const e=this.visibleRows.findIndex(i=>i===t)+1;return e===0?this.makeRowStyle(t):this.makeRowStyle(e)},formatFactor(t){return Notations.current.isPainful||t>1e3?format(t,2,2):t.toPrecision(5).slice(0,6)},formatLevel(t){return t>1e3?formatInt(Math.floor(t)):format(t,2,4)},makeRowStyle(t){return{"grid-row":t,"-ms-grid-row":t}},resetWeightsButtonClass(){return{"c-glyph-levels-and-weights__reset-btn":!0,"c-glyph-levels-and-weights__reset-btn-clickable":!this.isAutoAdjustWeightsOn}},resetWeights(){this.glyphWeightFields.forEach(t=>player.celestials.effarig.glyphWeights[t]=25),this.resetSavedWeights()},adjustSlider(t,e){if(this.weights[t]===e)return;t!==this.lastAdjusted&&(this.resetSavedWeights(),this.savedWeights[t]=0,this.lastAdjusted=t);const i=this.weights.ep+this.weights.repl+this.weights.dt+this.weights.eternities,n=this.weights[t];if(i-n+e>100){const a=this.savedWeights.ep+this.savedWeights.repl+this.savedWeights.dt+this.savedWeights.eternities,s=(100-e)/a,o=[];this.glyphWeightFields.forEach(c=>{c!==t&&o.push(this.savedWeights[c]*s)}),O3e(o),this.glyphWeightFields.forEach(c=>{c!==t&&(player.celestials.effarig.glyphWeights[c]=o.shift())})}player.celestials.effarig.glyphWeights[t]=e},resetSavedWeights(){this.savedWeights=Object.assign({},player.celestials.effarig.glyphWeights),this.lastAdjusted=null},factorString(t){const e=this.adjustVisible?t.name.substring(0,4):t.name;return`${format(t.coeff,2,4)}×${e}^${format(t.exp,2,3)}`}}};function O3e(t){for(let e=0;e<t.length;++e){let i=-1,n=1e3,r=0;for(let s=0;s<t.length;++s){const o=Math.abs(t[s]-Math.round(t[s]));o!==0&&(++r,o<n&&(i=s,n=o))}if(i===-1)break;let a=t[i]-Math.round(t[i]);if(t[i]=Math.round(t[i]),r===1)break;a/=r-1;for(let s=0;s<t.length;++s)t[s]!==Math.round(t[s])&&(t[s]+=a)}}var N3e=function(){var e=this,i=e._self._c;return i("div",{ref:"grid",staticClass:"l-glyph-levels-and-weights c-glyph-levels-and-weights",style:e.gridStyle},[e.adjustVisible?i("div",{style:e.makeRowStyle(6)}):e._e(),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("ep")},[e._v(" "+e._s(e.factorString(e.factors.ep))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("ep")},[e._v(" "+e._s(e.formatFactor(e.factors.ep.value))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("replicanti")},[e._v(" "+e._s(e.factorString(e.factors.repl))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("replicanti")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("replicanti")},[e._v(" "+e._s(e.formatFactor(e.factors.repl.value))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("dt")},[e._v(" "+e._s(e.factorString(e.factors.dt))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("dt")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("dt")},[e._v(" "+e._s(e.formatFactor(e.factors.dt.value))+" ")]),e.eternityVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("eternities")},[e._v(" "+e._s(e.factorString(e.factors.eter))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("eternities")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("eternities")},[e._v(" "+e._s(e.formatFactor(e.factors.eter.value))+" ")])]:e._e(),e.perkShopVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("perk shop")},[e._v(" Teresa's Perk shop ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("perk shop")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("perk shop")},[e._v(" "+e._s(e.formatPerkShop)+" ")])]:e._e(),e.shardVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("shards")},[e._v(" "+e._s(e.formatInt(100))+"×Shards"+e._s(e.formatPow(2))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("shards")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("shards")},[e._v(" "+e._s(e.formatFactor(e.factors.shardFactor))+" ")])]:e._e(),e.singularityVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("singularities")},[e._v(" Singularities ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("singularities")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("singularities")},[e._v(" "+e._s(e.formatFactor(e.factors.singularityEffect))+" ")])]:e._e(),e.penaltyVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("instability")},[e._v(" Instability ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("instability")},[e._v(" / ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("instability")},[e._v(" "+e._s(e.formatFactor(e.factors.scalePenalty))+" ")])]:e._e(),e.rowVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("upgrade rows")},[e._v(" Upgrade Rows ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("upgrade rows")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("upgrade rows")},[e._v(" "+e._s(e.formatInt(e.factors.rowFactor))+" ")])]:e._e(),e.achievementVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("achievements")},[e._v(" Achievements ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("achievements")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("achievements")},[e._v(" "+e._s(e.formatInt(e.factors.achievementFactor))+" ")])]:e._e(),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("level")},[e._v(" Final Level ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("level")},[e._v(" "+e._s(e.formatLevel(e.factors.actualLevel))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor l-glyph-level-and-weights-note",style:e.rowStyle("info")},[e._v(" Note: All resources here are log10 of their actual values. ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor l-glyph-level-and-weights-note",style:e.rowStyle("info2")},[e._v(" EP, Replicanti, and DT use their highest values this Reality. ")]),e.adjustVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__adjust-outline",style:e.adjustOutlineStyle}),i("div",{staticClass:"l-glyph-levels-and-weights__adjust-label"},[e._v(" Adjust weights "),i("div",{staticClass:"l-glyph-levels-and-weights__reset-btn-outer"},[i("div",{class:e.resetWeightsButtonClass(),on:{click:e.resetWeights}},[e._v(" Reset ")])])]),i("div",{staticClass:"l-glyph-levels-and-weights__adjust-auto"},[e.showAutoAdjustWeights?i("ToggleButton",{staticClass:"c-glyph-levels-and-weights__auto-btn",attrs:{label:"Auto adjustment:"},model:{value:e.isAutoAdjustWeightsOn,callback:function(n){e.isAutoAdjustWeightsOn=n},expression:"isAutoAdjustWeightsOn"}}):e._e()],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("ep")},[i("SliderComponent",e._b({attrs:{value:e.weights.ep,width:"100%"},on:{input:function(n){return e.adjustSlider("ep",n)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("replicanti")},[i("SliderComponent",e._b({attrs:{value:e.weights.repl,width:"100%"},on:{input:function(n){return e.adjustSlider("repl",n)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("dt")},[i("SliderComponent",e._b({attrs:{value:e.weights.dt,width:"100%"},on:{input:function(n){return e.adjustSlider("dt",n)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("eternities")},[i("SliderComponent",e._b({attrs:{value:e.weights.eternities,width:"100%"},on:{input:function(n){return e.adjustSlider("eternities",n)}}},"SliderComponent",e.sliderProps,!1))],1)]:e._e()],2)},G3e=[],U3e=X(P3e,N3e,G3e,!1,null,"d0afa6b6");const L3e=U3e.exports,B3e={name:"GlyphPeek",components:{GlyphSetPreview:Yf},data(){return{glyphs:[],level:0,canPeek:!1,isVisible:!1,canSacrifice:!1}},created(){this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.refreshGlyphs),this.refreshGlyphs()},methods:{update(){this.canSacrifice=GlyphSacrificeHandler.canSacrifice,this.isVisible=!Pelle.isDoomed&&PlayerProgress.realityUnlocked(),this.canPeek=TimeStudy.reality.isBought,gainedGlyphLevel().actualLevel!==this.level&&this.refreshGlyphs()},refreshGlyphs(){this.canRefresh=!0,this.glyphs=GlyphSelection.upcomingGlyphs;for(const t of this.glyphs)Glyphs.applyGamespeed(t);this.level=gainedGlyphLevel().actualLevel},showModal(){Modal.glyphShowcasePanel.show({name:"Potential Glyphs for this Reality",glyphSet:this.glyphs,closeEvent:GAME_EVENT.REALITY_RESET_AFTER,isGlyphSelection:!0,showSetName:!1})}}};var $3e=function(){var e=this,i=e._self._c;return e.isVisible?i("div",{staticClass:"c-glyph-peek"},[e.canPeek?i("div",{staticClass:"l-glyph-set-preview",on:{click:e.showModal}},[i("GlyphSetPreview",{attrs:{"show-name":!1,text:"Upcoming Glyph selection:",glyphs:e.glyphs,"ignore-modified-level":!0,"show-sacrifice":e.canSacrifice,"flip-tooltip":!0,sort:!1}}),e._v(" (Click to bring up details) ")],1):i("div",[e._v(" Purchase the Reality study to see "),i("br"),e._v(" this Reality's Glyph choices ")])]):e._e()},F3e=[],H3e=X(B3e,$3e,F3e,!1,null,"dd569763");const V3e=H3e.exports,Y3e={name:"AutoSacrificeAdvancedTab",props:{glyphType:{type:String,required:!0}},data(){return{scoreThreshold:0,effectScores:{}}},computed:{typeConfig(){return GlyphTypes[this.glyphType]},autoSacrificeSettings(){return AutoGlyphProcessor.types[this.glyphType]},effects(){return this.typeConfig.effects},descStyle(){return{color:GlyphAppearanceHandler.getBorderColor(this.glyphType),"border-color":this.typeConfig.color}},minScoreInputStyle(){return{"font-size":"larger","border-width":"var(--var-border-width, 0.2rem)"}},questionmarkTooltip(){return"The score of a Glyph is its rarity percentage, plus the specified amount for each effect it has."},weightInputLimit(){return 999},indexOffset(){return AutoGlyphProcessor.bitmaskIndexOffset(this.glyphType)}},created(){this.effectScores=[...AutoGlyphProcessor.types[this.glyphType].effectScores]},methods:{update(){this.scoreThreshold=this.autoSacrificeSettings.score;for(const t of this.effects){const e=t.bitmaskIndex-this.indexOffset;this.effectScores[e]=this.autoSacrificeSettings.effectScores[e]}},limitedInput(t){return Math.clamp(t,-this.weightInputLimit,this.weightInputLimit)},setScoreThreshold(t){const e=t.target.value;isNaN(e)||(this.autoSacrificeSettings.score=this.limitedInput(e))},setEffectScore(t,e){const i=e.target.value;isNaN(i)||(this.autoSacrificeSettings.effectScores[t]=this.limitedInput(i))}}};var q3e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-auto-sac-type-tab"},[i("div",{staticClass:"l-auto-sac-type-tab__row-wrapper"},[i("div",[i("div",{staticClass:"o-questionmark",attrs:{"ach-tooltip":e.questionmarkTooltip}},[e._v(" ? ")]),i("b",[e._v(" Threshold score")]),e._v(" (rarity % + effect scores) ")]),i("input",{ref:"scoreThreshold",staticClass:"c-auto-sac-type-tab__input",style:e.minScoreInputStyle,attrs:{type:"number",min:-e.weightInputLimit,max:e.weightInputLimit},domProps:{value:e.scoreThreshold},on:{blur:e.setScoreThreshold}})]),e._l(e.effects,function(n){return i("div",{key:n.id,staticClass:"l-auto-sac-type-tab__row-wrapper"},[i("div",{staticClass:"c-auto-sac-type-tab__effect-desc l-auto-sac-type-tab__effect-desc",style:e.descStyle},[e._v(" "+e._s(n.genericDesc)+" ")]),i("input",{staticClass:"c-auto-sac-type-tab__input",attrs:{type:"number",min:-e.weightInputLimit,max:e.weightInputLimit},domProps:{value:e.effectScores[n.bitmaskIndex-e.indexOffset]},on:{blur:function(r){return e.setEffectScore(n.bitmaskIndex-e.indexOffset,r)}}})])})],2)},W3e=[],j3e=X(Y3e,q3e,W3e,!1,null,"8d0236c9");const z3e=j3e.exports,X3e={name:"SelectedEffectToggle",props:{effect:{type:Object,required:!0},glyphType:{type:String,required:!0}},data(){return{isActive:!1,noExclude:!1,effarigSettings:{effarigrm:!1,effarigglyph:!1}}},computed:{color(){return GlyphAppearanceHandler.getBorderColor(this.glyphType)},description(){return this.effect.genericDesc},classObject(){return this.isActive?"c-auto-sac-type-tab__effect-desc--active":"c-auto-sac-type-tab__effect-desc--inactive"},exclusionTooltip(){if(this.noExclude)return"";const t=this.effarigSettings;return t.RM&&t.glyph&&(this.effect.id==="effarigrm"||this.effect.id==="effarigglyph")?"RM multiplier and Glyph instability cannot occur together on the same Glyph!":this.effect.id==="effarigrm"&&t.glyph?"This effect is mutually exclusive with Glyph instability!":this.effect.id==="effarigglyph"&&t.RM?"This effect is mutually exclusive with RM multiplier!":""},isExcluded(){return this.exclusionTooltip!==""},effarigBits(){const t=GameDatabase.reality.glyphEffects;return{RM:t.effarigrm.bitmaskIndex,glyph:t.effarigglyph.bitmaskIndex}}},methods:{update(){this.isActive=(AutoGlyphProcessor.types[this.glyphType].specifiedMask&1<<this.effect.bitmaskIndex)!==0;const t=AutoGlyphProcessor.types.effarig.specifiedMask;this.effarigSettings={RM:(t&1<<this.effarigBits.RM)!==0,glyph:(t&1<<this.effarigBits.glyph)!==0},this.noExclude=Ra.unlocks.glyphEffectCount.canBeApplied},toggleSelection(){AutoGlyphProcessor.types[this.glyphType].specifiedMask^=1<<this.effect.bitmaskIndex},setEffectCount(t){const e=t.target.value;isNaN(e)||(this.autoSacrificeSettings.effectCount=Math.clamp(e,0,8))}}};var K3e=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.exclusionTooltip,expression:"exclusionTooltip"}],class:e.classObject,on:{click:function(n){return e.toggleSelection()}}},[i("span",[e.isExcluded?i("i",{staticClass:"fas fa-exclamation l-dock l-dock-left"}):e._e(),e._v(" "+e._s(e.description)+" "),e.isExcluded?i("i",{staticClass:"fas fa-exclamation l-dock l-dock-right"}):e._e()]),e.isActive?i("i",{staticClass:"fas fa-check c-selected-effect-toggle-indicator--active",style:{"background-color":e.color}}):e._e()])},Z3e=[],Q3e=X(X3e,K3e,Z3e,!1,null,"85b1d57d");const J3e=Q3e.exports,e5e={name:"AutoSacrificeEffectTab",components:{SelectedEffectToggle:J3e},props:{glyphType:{type:String,required:!0}},data(){return{effectCount:0}},computed:{typeConfig(){return GlyphTypes[this.glyphType]},autoSacrificeSettings(){return AutoGlyphProcessor.types[this.glyphType]},effects(){return this.typeConfig.effects},descStyle(){return{color:GlyphAppearanceHandler.getBorderColor(this.glyphType),"border-color":this.typeConfig.color}},questionmarkTooltip(){return`Glyph score is rarity, minus ${formatInt(200)} for every missing effect.
        Glyphs with less than the specified rarity are sacrificed. Additional effects
        beyond ones specified will not increase Glyph score.`}},methods:{update(){this.effectCount=this.autoSacrificeSettings.effectCount},setEffectCount(t){const e=t.target.value;isNaN(e)||(this.autoSacrificeSettings.effectCount=Math.clamp(e,0,8))}}};var t5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("div",[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionmarkTooltip,expression:"questionmarkTooltip"}],staticClass:"o-questionmark"},[e._v(" ? ")]),e._v(" Selected Glyphs will have at least "),i("input",{ref:"effectCount",staticClass:"c-auto-sac-effect-tab__input",attrs:{type:"number",min:"0",max:"8"},domProps:{value:e.effectCount},on:{blur:e.setEffectCount}}),e._v(" effects total, which must include "),i("i",[e._v("all")]),e._v(" of the following effects: ")]),e._l(e.effects,function(n){return i("div",{key:n.id,staticClass:"l-auto-sac-type-tab__row-wrapper"},[i("SelectedEffectToggle",{staticClass:"c-auto-sac-type-tab__effect-desc l-specified-effect-tab__effect-desc",style:e.descStyle,attrs:{effect:n,"glyph-type":e.glyphType}})],1)}),e._v(" Click to toggle individual effects on/off ")],2)},i5e=[],n5e=X(e5e,t5e,i5e,!1,null,"abc5d2fa");const r5e=n5e.exports,a5e={name:"GlyphFilterPanel",components:{AutoSacrificeEffectTab:r5e,AutoSacrificeAdvancedTab:z3e,SliderComponent:cu,GlyphComponent:ou},data(){return{mode:AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,effectCount:0,lockedTypes:GlyphTypes.locked.map(t=>t.id),advancedType:GLYPH_TYPES[0],alchemyUnlocked:!1,rarityThresholds:GLYPH_TYPES.mapToObject(t=>t,()=>0),autoRealityForFilter:player.options.autoRealityForFilter,isRefining:!1}},computed:{modes(){return AUTO_GLYPH_SCORE},glyphTypes(){return GlyphTypes.list.filter(t=>!this.lockedTypes.includes(t.id))},raritySliderProps(){return{min:0,max:100,width:"18rem",valueInDot:!0,tooltip:"never","dot-width":"2.2rem","dot-height":"1.6rem","dot-class":"c-glyph-sacrifice-options__rarity-slider-handle","bg-class":"c-glyph-sacrifice-options__rarity-slider-bg","process-class":"c-glyph-sacrifice-options__rarity-slider-process",style:{"margin-left":"1rem"}}},glyphIconProps(){return{size:"3rem","glow-blur":"0.3rem","glow-spread":"0.1rem","text-proportion":.66}},questionmarkTooltip(){return`All Glyph choices are given a score and compared to a threshold based on the chosen mode. 
        The Glyph with the highest score is picked, but will still be ${this.isRefining?"Refined":"Sacrificed"}
        if below the threshold. (click for more detail)`},autoRealityTooltip(){return`If Auto-Reality is on, ignore all other settings and immediately Reality if no upcoming
        Glyphs would be kept`},unlockedModes(){return Object.values(this.modes).filter(t=>this.isUnlocked(t))}},methods:{update(){this.effectCount=player.reality.glyphs.filter.simple,this.mode=AutoGlyphProcessor.scoreMode;for(const t of generatedTypes)this.rarityThresholds[t]=AutoGlyphProcessor.types[t].rarity;this.lockedTypes=GlyphTypes.locked.map(t=>t.id),this.alchemyUnlocked=Ra.unlocks.unlockGlyphAlchemy.canBeApplied,this.isRefining=GlyphSacrificeHandler.isRefining},optionClass(t){const e=this.modeIcon(t);return["c-glyph-sacrifice-options__option",t===this.mode?"c-glyph-sacrifice-options__option--active":"c-glyph-sacrifice-options__option--inactive",e]},modeIcon(t){switch(t){case this.modes.LOWEST_SACRIFICE:return"fas fa-burn";case this.modes.EFFECT_COUNT:return"fas fa-list-ul";case this.modes.RARITY_THRESHOLD:return"fas fa-gem";case this.modes.SPECIFIED_EFFECT:return"fas fa-tasks";case this.modes.EFFECT_SCORE:return"fas fa-list-ol";case this.modes.LOWEST_ALCHEMY:return"fas fa-atom";case this.modes.ALCHEMY_VALUE:return"fas fa-flask";default:throw Error("Unrecognized glyph filter mode")}},strengthThreshold(t){return rarityToStrength(this.rarityThresholds[t])},advancedTypeSelectStyle(t){const e=GlyphAppearanceHandler.getBorderColor(t.id);return t.id===this.advancedType?{color:e,"text-shadow":`0 0 0.25rem ${e}, 0 0 0.5rem ${e}, 0 0 0.75rem ${e}, 0 0 1rem ${e}`}:{}},setMode(t){AutoGlyphProcessor.scoreMode=t,player.reality.hasCheckedFilter=!1},setRarityThreshold(t,e){AutoGlyphProcessor.types[t].rarity=e},setEffectCount(t){const e=t.target.value;isNaN(e)||(this.effectCount=Math.clamp(e,0,8),player.reality.glyphs.filter.simple=this.effectCount)},filterMode(t){return AutoGlyphProcessor.filterModeName(t)},isUnlocked(t){switch(t){case this.modes.LOWEST_SACRIFICE:case this.modes.EFFECT_COUNT:case this.modes.RARITY_THRESHOLD:case this.modes.SPECIFIED_EFFECT:case this.modes.EFFECT_SCORE:return!0;case this.modes.LOWEST_ALCHEMY:case this.modes.ALCHEMY_VALUE:return this.alchemyUnlocked;default:throw Error("Unrecognized glyph filter mode")}},bumpRarity(t){const e=GlyphRarities.map(n=>strengthToRarity(n.minStrength));let i;if(ui.view.shiftDown){const n=e.filter(r=>r<this.rarityThresholds[t]);i=n.length===0?100:n.max()}else i=e.filter(n=>n>this.rarityThresholds[t]).min();this.setRarityThreshold(t,i)},showFilterHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter(t=>t.name==="Advanced Glyph Mechanics")[0],Modal.h2p.show()},getSymbol(t){return CosmeticGlyphTypes[t].currentSymbol.symbol},toggleAutoReality(){player.options.autoRealityForFilter=!player.options.autoRealityForFilter,this.autoRealityForFilter=player.options.autoRealityForFilter,player.reality.hasCheckedFilter=!1},exportFilterSettings(){const t=player.reality.glyphs.filter,e=r=>[r.rarity,r.score,r.effectCount,r.specifiedMask,r.effectScores.join("/")].join(","),i=[t.select,t.simple,t.trash].join("|"),n=ALCHEMY_BASIC_GLYPH_TYPES.map(r=>e(t.types[r])).join("|");copyToClipboard(GameSaveSerializer.encodeText(`${i}|${n}`,"glyph filter")),GameUI.notify.info("Filter settings copied to clipboard")},importFilterSettings(){Modal.importFilter.show()}}};var s5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size"},[i("div",{staticClass:"c-glyph-sacrifice-options c-glyph-sacrifice-options-container"},[i("div",{staticClass:"c-filter-extra-btns c-top-left"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Export filter settings",expression:"'Export filter settings'"}],staticClass:"fas fa-file-export l-top-left-btn",on:{click:e.exportFilterSettings}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Import filter settings",expression:"'Import filter settings'"}],staticClass:"fas fa-file-import l-top-left-btn",on:{click:e.importFilterSettings}})]),i("div",{staticClass:"c-filter-extra-btns c-top-right"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.autoRealityTooltip,expression:"autoRealityTooltip"}],staticClass:"fas fa-recycle l-top-right-btn",class:{"o-quick-reality":e.autoRealityForFilter},on:{click:e.toggleAutoReality}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionmarkTooltip,expression:"questionmarkTooltip"}],staticClass:"fas fa-question-circle l-top-right-btn o-borderless",on:{click:e.showFilterHowTo}})]),e._v(" Current Filter Mode: "),i("br"),e._v(" "+e._s(e.filterMode(e.mode))+" "),i("br"),i("div",{staticClass:"c-glyph-filter-mode-container"},e._l(e.unlockedModes,function(n){return i("div",{key:n,class:e.optionClass(n),on:{click:function(r){return e.setMode(n)}}},[i("div",{staticClass:"c-glyph-sacrifice-options__option__tooltip"},[e._v(" "+e._s(e.filterMode(n))+" ")])])}),0)]),e.mode===e.modes.LOWEST_SACRIFICE?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Glyph score is assigned based on type. Priority is given to Glyphs belonging to the type of which you have the least total Glyph Sacrifice value. "),i("br"),i("br"),e._v(" This mode never keeps Glyphs, but will instead always sacrifice the Glyph it chooses. ")]):e._e(),e.mode===e.modes.EFFECT_COUNT?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Glyphs must have at least "),i("input",{ref:"effectCount",staticClass:"c-auto-sac-effect-tab__input",attrs:{type:"number",min:"0",max:"8"},domProps:{value:e.effectCount},on:{blur:e.setEffectCount}}),e._v(" effects to be chosen. Rarer Glyphs are preferred in ties. ")]):e._e(),e.mode===e.modes.RARITY_THRESHOLD?i("div",{staticClass:"l-glyph-sacrifice-options__rarity-sliders"},[i("span",{staticClass:"c-glyph-sacrifice-options__advanced"},[e._v(" Any Glyphs with rarity below these thresholds will be sacrificed. ")]),e._l(e.glyphTypes,function(n){return i("div",{key:n.id,staticClass:"l-glyph-sacrifice-options__rarity-slider-div"},[i("span",{on:{click:function(r){return e.bumpRarity(n.id)}}},[i("GlyphComponent",e._b({staticClass:"o-clickable",attrs:{glyph:{type:n.id,strength:e.strengthThreshold(n.id)}}},"GlyphComponent",e.glyphIconProps,!1))],1),i("SliderComponent",e._b({attrs:{value:e.rarityThresholds[n.id],width:"100%"},on:{input:function(r){return e.setRarityThreshold(n.id,r)}}},"SliderComponent",e.raritySliderProps,!1))],1)})],2):e._e(),e.mode===e.modes.SPECIFIED_EFFECT?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("div",[e._v(" Glyph Type: "),e._l(e.glyphTypes,function(n){return i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.id.capitalize(),expression:"type.id.capitalize()"}],key:n.id,staticClass:"l-glyph-sacrifice-options__advanced-type-select c-glyph-sacrifice-options__advanced-type-select",style:e.advancedTypeSelectStyle(n),on:{click:function(r){e.advancedType=n.id}}},[e._v(" "+e._s(e.getSymbol(n.id))+" ")])})],2),i("br"),i("div",{staticClass:"l-glyph-sacrifice-options__rarity-slider-div"},[i("span",{on:{click:function(n){return e.bumpRarity(e.advancedType)}}},[i("GlyphComponent",e._b({staticClass:"o-clickable",attrs:{glyph:{type:e.advancedType,strength:e.strengthThreshold(e.advancedType)}}},"GlyphComponent",e.glyphIconProps,!1))],1),i("SliderComponent",e._b({attrs:{value:e.rarityThresholds[e.advancedType],width:"100%"},on:{input:function(n){return e.setRarityThreshold(e.advancedType,n)}}},"SliderComponent",e.raritySliderProps,!1))],1),e._l(e.glyphTypes,function(n){return[i("AutoSacrificeEffectTab",{directives:[{name:"show",rawName:"v-show",value:n.id===e.advancedType,expression:"type.id === advancedType"}],key:n.id,attrs:{"glyph-type":n.id}})]})],2):e._e(),e.mode===e.modes.EFFECT_SCORE?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("div",[e._v(" Glyph Type: "),e._l(e.glyphTypes,function(n){return i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.id.capitalize(),expression:"type.id.capitalize()"}],key:n.id,staticClass:"l-glyph-sacrifice-options__advanced-type-select c-glyph-sacrifice-options__advanced-type-select",style:e.advancedTypeSelectStyle(n),on:{click:function(r){e.advancedType=n.id}}},[e._v(" "+e._s(e.getSymbol(n.id))+" ")])})],2),i("br"),e._l(e.glyphTypes,function(n){return[i("AutoSacrificeAdvancedTab",{directives:[{name:"show",rawName:"v-show",value:n.id===e.advancedType,expression:"type.id === advancedType"}],key:n.id,attrs:{"glyph-type":n.id}})]})],2):e._e(),e.mode===e.modes.LOWEST_ALCHEMY?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Glyph score is assigned based on current Alchemy Resource totals. Priority is given to the Glyph type with the lowest associated alchemy resource total. "),i("br"),i("br"),e._v(" This mode never keeps Glyphs. ")]):e._e(),e.mode===e.modes.ALCHEMY_VALUE?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Glyphs will be assigned values based on "),i("i",[e._v("current")]),e._v(" refinement value, accounting for the type-specific resource caps. Priority is given to Glyphs which are worth the most alchemy resources; Glyphs which would cause you to hit a cap are effectively worth less. "),i("br"),i("br"),e._v(" This mode never keeps Glyphs. ")]):e._e()])},o5e=[],l5e=X(a5e,s5e,o5e,!1,null,"b37d06d1");const c5e=l5e.exports,u5e={name:"ButtonCycle",props:{text:{type:String,required:!0},labels:{type:Array,required:!0},value:{type:Number,required:!0}},computed:{displayText(){return`${this.text} ${this.labels[this.value]}`.trim()}},methods:{handleClick(){this.emitInput((this.value+1)%this.labels.length)}}};var d5e=function(){var e=this,i=e._self._c;return i("button",e._b({on:{click:e.handleClick}},"button",e.$attrs,!1),[e._v(" "+e._s(e.displayText)+" ")])},h5e=[],f5e=X(u5e,d5e,h5e,!1,null,null);const p5e=f5e.exports,m5e={name:"GlyphAutosortButtonGroup",components:{ToggleButton:CE,ButtonCycle:p5e},data(){return{autoSort:0,showScoreFilter:!1,autoCollapse:!1,showAutoAutoClean:!1,autoAutoClean:!1,applyFilterToPurge:!1}},computed:{sortModes(){const t=["NONE","LEVEL","POWER","EFFECT"];return this.showScoreFilter&&t.push("SCORE"),t},questionMarkTooltip(){return"The automatic settings below will apply after every Reality"},keepTooltip(){return"If set to ON, Glyphs which your filter accepts will never be auto-purged even if they are worse"}},watch:{autoSort(t){player.reality.autoSort=t},autoCollapse(t){player.reality.autoCollapse=t},autoAutoClean(t){player.reality.autoAutoClean=t},applyFilterToPurge(t){player.reality.applyFilterToPurge=t}},methods:{update(){this.autoSort=player.reality.autoSort,this.showScoreFilter=EffarigUnlock.glyphFilter.isUnlocked,this.autoCollapse=player.reality.autoCollapse,this.showAutoAutoClean=VUnlocks.autoAutoClean.canBeApplied,this.autoAutoClean=player.reality.autoAutoClean,this.applyFilterToPurge=player.reality.applyFilterToPurge}}};var y5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionMarkTooltip,expression:"questionMarkTooltip"}],staticClass:"o-questionmark"},[e._v(" ? ")]),e._v(" Auto Glyph Arrangement: ")]),i("ButtonCycle",{staticClass:"c-glyph-inventory-option",attrs:{text:"Auto-sort Mode:",labels:e.sortModes},model:{value:e.autoSort,callback:function(n){e.autoSort=n},expression:"autoSort"}}),i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Auto-collapse space:"},model:{value:e.autoCollapse,callback:function(n){e.autoCollapse=n},expression:"autoCollapse"}}),e.showAutoAutoClean?i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Auto-purge on Realities:"},model:{value:e.autoAutoClean,callback:function(n){e.autoAutoClean=n},expression:"autoAutoClean"}}):e._e(),e.showAutoAutoClean?i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Never Auto-purge Glyphs accepted by filter:","tooltip-class":"c-glyph-inventory-option__tooltip","tooltip-content":e.keepTooltip},model:{value:e.applyFilterToPurge,callback:function(n){e.applyFilterToPurge=n},expression:"applyFilterToPurge"}}):e._e()],1)},g5e=[],v5e=X(m5e,y5e,g5e,!1,null,"9ef64d0a");const b5e=v5e.exports,_5e={name:"GlyphCleanButtonGroup",data(){return{glyphSacrificeUnlocked:!1,hasPerkShop:!1,hasFilter:!1,inventory:[],isRefining:!1,removeCount:0}},computed:{removeString(){return this.isRefining?"Refine":this.glyphSacrificeUnlocked?"Sacrifice":"Delete"},autoCleanTooltip(){return`${this.removeString} Glyphs that are worse in every way than
        enough other Glyphs${this.hasPerkShop?" (ignores customized Glyphs)":""}`},harshAutoCleanTooltip(){return`${this.removeString} Glyphs that are worse in every way than
        ANY other Glyph${this.hasPerkShop?" (includes customized Glyphs)":""}`},deleteRejectedTooltip(){const t=AutoGlyphProcessor.hasNegativeEffectScore()?" You also have some negative Effect Filter scores; this may remove some Glyphs you normally want to keep!":"";return this.removeCount===0?"This will not remove any Glyphs, adjust your Filter settings to remove some.":`This will remove ${quantifyInt("Glyph",this.removeCount)}!${t}`}},methods:{update(){this.glyphSacrificeUnlocked=GlyphSacrificeHandler.canSacrifice&&!Pelle.isDoomed,this.hasPerkShop=TeresaUnlocks.shop.canBeApplied,this.hasFilter=EffarigUnlock.glyphFilter.isUnlocked,this.inventory=Glyphs.inventory.map(GlyphGenerator.copy),this.isRefining=AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE||AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE_TO_CAP,this.removeCount=this.inventory.filter(t=>t!==null&&t.idx>=Glyphs.protectedSlots&&!AutoGlyphProcessor.wouldKeep(t)).length},autoClean(){player.options.confirmations.autoClean?Modal.glyphPurge.show({harsh:!1}):Glyphs.autoClean(5)},harshAutoClean(){player.options.confirmations.autoClean?Modal.glyphPurge.show({harsh:!0}):Glyphs.autoClean(1)},deleteAllUnprotected(){player.options.confirmations.sacrificeAll?Modal.deleteAllUnprotectedGlyphs.show():Glyphs.autoClean(0)},deleteAllRejected(){player.options.confirmations.sacrificeAll?Modal.deleteAllRejectedGlyphs.show():Glyphs.deleteAllRejected(!0)},slotClass(t){return t<Glyphs.protectedSlots?"c-glyph-inventory__protected-slot":"c-glyph-inventory__slot"}}};var w5e=function(){var e=this,i=e._self._c;return e.glyphSacrificeUnlocked?i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[e._v(" Remove weaker Glyphs: ")]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.autoClean}},[e._v(" Purge Glyphs "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" "+e._s(e.autoCleanTooltip)+" ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.harshAutoClean}},[e._v(" Harsh Purge Glyphs "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" "+e._s(e.harshAutoCleanTooltip)+" ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.deleteAllUnprotected}},[e._v(" "+e._s(e.removeString)+" all unprotected Glyphs ")]),e.hasFilter?i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.deleteAllRejected}},[e._v(" "+e._s(e.removeString)+" all Glyphs rejected by filtering "),i("div",{staticClass:"c-glyph-inventory-option__tooltip l-rejected-tooltip"},[e._v(" "+e._s(e.deleteRejectedTooltip)+" ")])]):e._e()]):e._e()},E5e=[],T5e=X(_5e,w5e,E5e,!1,null,"ab86d0c5");const C5e=T5e.exports,k5e={name:"GlyphProtectedRowButtonGroup",components:{ToggleButton:CE},data(){return{protectedRows:0,moveGlyphs:!1}},computed:{questionMarkTooltip(){return`Protected slots are unaffected by anything which may move or purge Glyphs.
        New Glyphs will never be inserted into these slots.`}},watch:{moveGlyphs(t){player.reality.moveGlyphsOnProtection=t}},methods:{update(){this.moveGlyphs=player.reality.moveGlyphsOnProtection,this.protectedRows=player.reality.glyphs.protectedRows},addRow(){Glyphs.changeProtectedRows(1)},removeRow(){Glyphs.changeProtectedRows(-1)},isProtectedRowsMax(){return this.protectedRows===Glyphs.totalSlots/10-1},addRowButtonClass(){return{"c-glyph-inventory-option":!0,"o-non-clickable":this.isProtectedRowsMax()}},removeRowButtonClass(){return{"c-glyph-inventory-option":!0,"o-non-clickable":this.protectedRows===0}}}};var S5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionMarkTooltip,expression:"questionMarkTooltip"}],staticClass:"o-questionmark"},[e._v(" ? ")]),e._v(" Protected Slots: ("+e._s(e.quantifyInt("row",e.protectedRows))+") ")]),i("button",{class:e.addRowButtonClass(),on:{click:e.addRow}},[e._v(" Add a protected row "),e.isProtectedRowsMax()?i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" One row is permanently un-protected for new Glyphs ")]):e._e()]),i("button",{class:e.removeRowButtonClass(),on:{click:e.removeRow}},[e._v(" Remove a protected row ")]),i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Move Glyphs on changing row count:"},model:{value:e.moveGlyphs,callback:function(n){e.moveGlyphs=n},expression:"moveGlyphs"}})],1)},A5e=[],x5e=X(k5e,S5e,A5e,!1,null,"b731f9a5");const D5e=x5e.exports,I5e={name:"GlyphSortButtonGroup",data(){return{showScoreFilter:!1}},methods:{update(){this.showScoreFilter=EffarigUnlock.glyphFilter.isUnlocked},sortByLevel(){Glyphs.sortByLevel()},sortByPower(){Glyphs.sortByPower()},sortByScore(){Glyphs.sortByScore()},sortByEffect(){Glyphs.sortByEffect()},collapseEmpty(){Glyphs.collapseEmptySlots()}}};var R5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[e._v(" Sort Glyphs: ")]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByLevel}},[e._v(" Sort by level "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Arranges by decreasing Glyph level ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByPower}},[e._v(" Sort by power "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Arranges by decreasing level×rarity ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByEffect}},[e._v(" Sort by effect "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Groups Glyphs together based on effects ")])]),e.showScoreFilter?i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByScore}},[e._v(" Sort by score "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Arranges by decreasing Glyph filter score ")])]):e._e(),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.collapseEmpty}},[e._v(" Collapse empty space "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Moves all Glyphs to the earliest empty slots ")])])])},M5e=[],P5e=X(I5e,R5e,M5e,!1,null,"3130bb73");const O5e=P5e.exports,N5e={name:"GlyphInventoryManagementPanel",components:{GlyphSortButtonGroup:O5e,GlyphProtectedRowButtonGroup:D5e,GlyphAutosortButtonGroup:b5e,GlyphCleanButtonGroup:C5e},props:{hasMoreOptions:{type:Boolean,required:!1,default:!0}},computed:{groupClass(){return{"l-glyph-sacrifice-options":!0,"c-glyph-sacrifice-options":!0,"l-glyph-sidebar-panel-size":!0,"l-glyph-inventory-management":!0,"c-glyph-inventory-management-with-border":!this.hasMoreOptions}}}};var G5e=function(){var e=this,i=e._self._c;return i("div",{class:e.groupClass},[i("GlyphSortButtonGroup"),i("GlyphProtectedRowButtonGroup"),i("GlyphAutosortButtonGroup"),i("GlyphCleanButtonGroup")],1)},U5e=[],L5e=X(N5e,G5e,U5e,!1,null,"7a284e58");const B5e=L5e.exports,$5e={name:"GlyphRejectionPanel",data(){return{mode:AUTO_GLYPH_REJECT.SACRIFICE}},computed:{modes(){return AUTO_GLYPH_REJECT},availableModes(){return Object.values(this.modes)}},methods:{optionClass(t){return[t===this.mode?"c-glyph-auto-pick-options__option--active":"c-glyph-auto-pick-options__option--inactive","c-glyph-auto-pick-options__option"]},update(){this.mode=AutoGlyphProcessor.sacMode},setMode(t){AutoGlyphProcessor.sacMode=t},modeDesc(t){return AutoGlyphProcessor.trashModeDesc(t)}}};var F5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size"},[i("span",{staticClass:"c-glyph-sacrifice-options__advanced"},[e._v(" Behavior for deleted and filtered Glyphs: ")]),i("br"),i("div",{staticClass:"l-glyph-auto-pick-options__container"},e._l(e.availableModes,function(n){return i("div",{key:n,class:e.optionClass(n),on:{click:function(r){return e.setMode(n)}}},[e._v(" "+e._s(e.modeDesc(n))+" ")])}),0)])},H5e=[],V5e=X($5e,F5e,H5e,!1,null,"b72bc529");const Y5e=V5e.exports,q5e={name:"GlyphSetSavePanel",components:{ToggleButton:CE,GlyphSetPreview:Yf},data(){return{hasEquipped:!0,glyphSets:[],names:[],effects:!1,rarity:!1,level:!1}},computed:{questionmarkTooltip(){return`Glyph Presets work like Time Study Loadouts, allowing you to equip a
        full set of previously-saved Glyphs`},noSet(){return"No Glyph Preset saved in this slot"}},watch:{effects(t){player.options.ignoreGlyphEffects=t},rarity(t){player.options.ignoreGlyphRarity=t},level(t){player.options.ignoreGlyphLevel=t}},created(){this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,this.refreshGlyphSets),this.on$(GAME_EVENT.GLYPH_SET_SAVE_CHANGE,this.refreshGlyphSets),this.refreshGlyphSets();for(let t=0;t<player.reality.glyphs.sets.length;t++)this.names[t]=player.reality.glyphs.sets[t].name},methods:{update(){this.hasEquipped=Glyphs.activeList.length>0,this.effects=player.options.ignoreGlyphEffects,this.rarity=player.options.ignoreGlyphRarity,this.level=player.options.ignoreGlyphLevel},refreshGlyphSets(){this.glyphSets=player.reality.glyphs.sets.map(t=>Glyphs.copyForRecords(t.glyphs))},setName(t){const e=this.names[t]===""?"":`: ${this.names[t]}`;return`Glyph Preset #${t+1}${e}`},saveGlyphSet(t){!this.hasEquipped||player.reality.glyphs.sets[t].glyphs.length||(player.reality.glyphs.sets[t].glyphs=Glyphs.active.compact(),this.refreshGlyphSets(),EventHub.dispatch(GAME_EVENT.GLYPH_SET_SAVE_CHANGE))},loadGlyphSet(t,e){if(!this.setLengthValid(t))return;let i=[...t].sort((d,p)=>-d.level*d.strength+p.level*p.strength);const n=[...Glyphs.active.filter(d=>d)],r=[];for(const d of n){const p=Glyphs.findByValues(d,i,{level:this.level?-1:0,strength:this.rarity?-1:0,effects:this.effects?-1:0});r.push({glyph:d,options:p})}const a=this.findSelectedGlyphs(r,5);for(const d of a)i=i.filter(p=>p!==d);const s=[];for(let d=0;d<i.length;d++){const p=i[d],m=Glyphs.findByValues(p,Glyphs.sortedInventoryList,{level:this.level?1:0,strength:this.rarity?1:0,effects:this.effects?1:0});s[d]={glyph:p,options:m}}const o=this.findSelectedGlyphs(s,Glyphs.active.countWhere(d=>d===null));for(const d of o)i=i.filter(p=>p!==d);let c=i.length;for(const d of o){const p=Glyphs.active.indexOf(null);p!==-1&&(Glyphs.equip(d,p),c--)}c>0?GameUI.notify.error(`Could not find or equip ${c} ${pluralize("Glyph",c)} from
          ${this.setName(e)}.`):GameUI.notify.success(`Successfully loaded ${this.setName(e)}.`)},findSelectedGlyphs(t,e){const i=a=>1e3*(10*a.glyph.type.length+a.glyph.type.codePointAt(0))+a.options.length;t.sort((a,s)=>i(a)-i(s));const n=[];let r=e;for(let a=0;a<t.length&&r!==0;a++){const o=t[a].options.filter(d=>!n.includes(d));if(o.length===0)continue;const c=o[o.length-1];n.push(c),r--}return n},deleteGlyphSet(t){player.reality.glyphs.sets[t].glyphs.length&&(player.options.confirmations.deleteGlyphSetSave?Modal.glyphSetSaveDelete.show({glyphSetId:t}):(player.reality.glyphs.sets[t].glyphs=[],this.refreshGlyphSets(),EventHub.dispatch(GAME_EVENT.GLYPH_SET_SAVE_CHANGE)))},nicknameBlur(t){player.reality.glyphs.sets[t.target.id].name=t.target.value.slice(0,20),this.names[t.target.id]=player.reality.glyphs.sets[t.target.id].name,this.refreshGlyphSets()},setLengthValid(t){return t.length&&t.length<=Glyphs.activeSlotCount},loadingTooltip(t){return this.setLengthValid(t)&&this.hasEquipped?"This set may not load properly because you already have some Glyphs equipped":null},glyphSetKey(t,e){return`${e} ${Glyphs.hash(t)}`}}};var W5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size"},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionmarkTooltip,expression:"questionmarkTooltip"}],staticClass:"l-glyph-sacrifice-options__help c-glyph-sacrifice-options__help o-questionmark"},[e._v(" ? ")]),i("div",{staticClass:"l-glyph-set-save__header"},[e._v(' When loading a preset, try to match the following attributes. "Exact" will only equip Glyphs identical to the ones in the preset. The other settings will, loosely speaking, allow "better" Glyphs to be equipped in their place. ')]),i("div",{staticClass:"c-glyph-set-save-container"},[i("ToggleButton",{staticClass:"c-glyph-set-save-setting-button",attrs:{label:"Effects:",on:"Including",off:"Exact"},model:{value:e.effects,callback:function(n){e.effects=n},expression:"effects"}}),i("ToggleButton",{staticClass:"c-glyph-set-save-setting-button",attrs:{label:"Level:",on:"Increased",off:"Exact"},model:{value:e.level,callback:function(n){e.level=n},expression:"level"}}),i("ToggleButton",{staticClass:"c-glyph-set-save-setting-button",attrs:{label:"Rarity:",on:"Increased",off:"Exact"},model:{value:e.rarity,callback:function(n){e.rarity=n},expression:"rarity"}})],1),e._l(e.glyphSets,function(n,r){return i("div",{key:r,staticClass:"c-glyph-single-set-save"},[i("div",{staticClass:"c-glyph-set-preview-area"},[i("GlyphSetPreview",{key:e.glyphSetKey(n,r),attrs:{text:e.setName(r),"text-hidden":!0,glyphs:n,"flip-tooltip":!0,"none-text":e.noSet}})],1),i("div",{staticClass:"c-glyph-single-set-save-flexbox"},[i("div",{attrs:{"ach-tooltip":"Set a custom name (up to 20 characters)"}},[i("input",{staticClass:"c-glyph-sets-save-name__input",attrs:{id:r,type:"text",size:"20",maxlength:"20",placeholder:"Custom set name"},domProps:{value:e.names[r]},on:{blur:e.nicknameBlur}})]),i("div",{staticClass:"c-glyph-single-set-save-flexbox-buttons"},[i("button",{staticClass:"c-glyph-set-save-button",class:{"c-glyph-set-save-button--unavailable":!e.hasEquipped||n.length},on:{click:function(a){return e.saveGlyphSet(r)}}},[e._v(" Save ")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.loadingTooltip(n),expression:"loadingTooltip(set)"}],staticClass:"c-glyph-set-save-button",class:{"c-glyph-set-save-button--unavailable":!e.setLengthValid(n)},on:{click:function(a){return e.loadGlyphSet(n,r)}}},[e._v(" Load ")]),i("button",{staticClass:"c-glyph-set-save-button",class:{"c-glyph-set-save-button--unavailable":!n.length},on:{click:function(a){return e.deleteGlyphSet(r)}}},[e._v(" Delete ")])])])])})],2)},j5e=[],z5e=X(q5e,W5e,j5e,!1,null,"7d775710");const X5e=z5e.exports,K5e={name:"GlyphTabSidebar",components:{GlyphInventoryManagementPanel:B5e,GlyphFilterPanel:c5e,GlyphSetSavePanel:X5e,GlyphRejectionPanel:Y5e},data(){return{type:0,sidebarEnum:{},unlockedFilter:!1,unlockedSets:!1,unlockedAlchemy:!1,hasMoreOptions:!1,hasRefined:!1}},computed:{isDoomed(){return Pelle.isDoomed}},methods:{update(){this.type=player.reality.showSidebarPanel,this.sidebarEnum=GLYPH_SIDEBAR_MODE,this.unlockedFilter=EffarigUnlock.glyphFilter.isUnlocked,this.unlockedSets=EffarigUnlock.setSaves.isUnlocked,this.unlockedAlchemy=Ra.unlocks.unlockGlyphAlchemy.canBeApplied,this.hasMoreOptions=this.unlockedFilter||this.unlockedSets||this.unlockedAlchemy,this.hasRefined=AlchemyResources.all.map(t=>t.amount).some(t=>t>0)},setSidebarState(t){player.reality.showSidebarPanel=t},sidebarClass(t){return{"l-glyph-sidebar-button":!0,"c-glyph-sidebar-button":!0,"c-glyph-sidebar-button--active":t===player.reality.showSidebarPanel,"l-glyph-sidebar-button--attention":t===this.sidebarEnum.SACRIFICE_TYPE&&!this.hasRefined&&!this.isDoomed}}}};var Z5e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-glyph-sidebar-option-container"},[e.hasMoreOptions?i("div",{staticClass:"l-glyph-sidebar-tab-container"},[i("button",{class:e.sidebarClass(e.sidebarEnum.INVENTORY_MANAGEMENT),on:{click:function(n){return e.setSidebarState(e.sidebarEnum.INVENTORY_MANAGEMENT)}}},[e._v(" Manage Inventory ")]),e.unlockedFilter?i("button",{class:e.sidebarClass(e.sidebarEnum.FILTER_SETTINGS),on:{click:function(n){return e.setSidebarState(e.sidebarEnum.FILTER_SETTINGS)}}},[e._v(" Glyph Filter ")]):e._e(),e.unlockedSets?i("button",{class:e.sidebarClass(e.sidebarEnum.SAVED_SETS),on:{click:function(n){return e.setSidebarState(e.sidebarEnum.SAVED_SETS)}}},[e._v(" Glyph Presets ")]):e._e(),e.unlockedAlchemy?i("button",{class:e.sidebarClass(e.sidebarEnum.SACRIFICE_TYPE),on:{click:function(n){return e.setSidebarState(e.sidebarEnum.SACRIFICE_TYPE)}}},[e._v(" Sacrifice Type ")]):e._e()]):e._e(),e.type===e.sidebarEnum.INVENTORY_MANAGEMENT?i("GlyphInventoryManagementPanel",{attrs:{"has-more-options":e.hasMoreOptions}}):e.type===e.sidebarEnum.FILTER_SETTINGS&&e.unlockedFilter?i("GlyphFilterPanel"):e.type===e.sidebarEnum.SAVED_SETS&&e.unlockedSets?i("GlyphSetSavePanel"):e.type===e.sidebarEnum.SACRIFICE_TYPE&&e.unlockedAlchemy?i("GlyphRejectionPanel"):e._e()],1)},Q5e=[],J5e=X(K5e,Z5e,Q5e,!1,null,"24be043f");const e4e=J5e.exports,t4e={name:"RealityAmplifyButton",data:()=>({isDoomed:!1,isVisible:!1,isDisabled:!1,isActive:!1,ratio:1,canAmplify:!1}),computed:{tooltip(){return this.isDoomed?"You cannot amplify a Doomed Reality":this.isDisabled?"You cannot amplify Celestial Realities":this.canAmplify?null:"Store more real time or complete the Reality faster to amplify"},buttonClass(){return{"l-reality-amplify-button":!0,"l-reality-amplify-button--clickable":!this.isDoomed&&this.canAmplify,"o-enslaved-mechanic-button--storing-time":this.isActive}}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.isVisible=Enslaved.isUnlocked,this.isDisabled=isInCelestialReality(),this.isActive=Enslaved.boostReality,this.ratio=Enslaved.realityBoostRatio,this.canAmplify=Enslaved.canAmplify},toggleActive(){this.canAmplify&&(Enslaved.boostReality=!Enslaved.boostReality)}}};var i4e=function(){var e=this,i=e._self._c;return e.isVisible?i("button",{class:e.buttonClass,attrs:{"ach-tooltip":e.tooltip},on:{click:e.toggleActive}},[e.isDoomed?i("div",[e._v(" You cannot amplify Doomed Realities. ")]):e.canAmplify?i("div",[e.isActive?i("span",[e._v("Will be amplified:")]):i("span",[e._v("Amplify this Reality:")]),i("br"),e._v(" All rewards ×"+e._s(e.formatInt(e.ratio))+" ")]):i("div",[e._v(" Not enough stored real time to amplify. ")])]):e._e()},n4e=[],r4e=X(t4e,i4e,n4e,!1,null,"ece2371d");const a4e=r4e.exports,s4e={name:"RealityReminder",data(){return{canReality:!1,isVisible:!1,isExpanded:!1,ecCount:0,missingAchievements:0,unpurchasedDilationUpgrades:0,currLog10EP:0,cheapestLog10TD:0,multEPLog10Cost:0,purchasableTS:0,hasDilated:0,availableCharges:0}},computed:{suggestions(){const t=[];return this.purchasableTS>0&&t.push(`Purchase more Time Studies (${formatInt(this.purchasableTS)} available)`),this.missingAchievements>0&&t.push(`Complete the rest of your Achievements (${formatInt(this.missingAchievements)} left)`),this.unpurchasedDilationUpgrades>0&&t.push(`Purchase the remaining Dilation Upgrades (${formatInt(this.unpurchasedDilationUpgrades)} left)`),this.currLog10EP>1.3*this.cheapestLog10TD&&t.push(`Purchase more TDs (cheapest: ${format(Decimal.pow10(this.cheapestLog10TD))} EP)`),this.currLog10EP>1.3*this.multEPLog10Cost&&t.push(`Purchase more ${formatX(5)} EP (cost: ${format(Decimal.pow10(this.multEPLog10Cost))} EP)`),this.ecCount<60&&t.push(`Finish the rest of your ECs (Done: ${formatInt(this.ecCount)}/${formatInt(60)})`),this.hasDilated||t.push("Perform a Dilated Eternity"),this.availableCharges>0&&t.push(`Charge more Infinity Upgrades (${formatInt(this.availableCharges)} available)`),t},canBeExpanded(){return this.canReality&&this.suggestions.length!==0},styleObject(){const t=!this.canReality||this.canBeExpanded?"var(--color-bad)":"var(--color-good)",e=this.canBeExpanded&&this.isExpanded?`${6.5+1.5*this.suggestions.length}rem`:"5rem";return{color:t,height:e}},clickText(){return`(click to ${this.isExpanded?"collapse":"expand"})`},realityReminderClass(){return{"c-reality-reminder":!0,"c-reality-reminder-pointer":this.canBeExpanded}},dropDownIconClass(){return this.isExpanded?"far fa-minus-square":"far fa-plus-square"}},created(){this.on$(GAME_EVENT.REALITY_RESET_AFTER,()=>this.isExpanded=!1)},methods:{update(){this.canReality=TimeStudy.reality.isBought,this.isVisible=!isInCelestialReality(),this.ecCount=EternityChallenges.completions,this.missingAchievements=Achievements.preReality.countWhere(t=>!t.isUnlocked),this.unpurchasedDilationUpgrades=DilationUpgrade.all.countWhere(t=>(t.isBought===void 0?t.boughtAmount===0:!t.isBought)&&!t.config.pelleOnly),this.currLog10EP=player.eternityPoints.log10(),this.cheapestLog10TD=Math.min(...TimeDimensions.all.map(t=>t.cost.log10())),this.multEPLog10Cost=EternityUpgrade.epMult.cost.log10(),this.purchasableTS=NormalTimeStudyState.studies.countWhere(t=>t&&t.canBeBought&&!t.isBought),this.hasDilated=Perk.startTP.canBeApplied?player.dilation.lastEP.gt(0):player.dilation.tachyonParticles.gt(0),this.availableCharges=Ra.chargesLeft},clicked(){this.canBeExpanded&&(this.isExpanded=!this.isExpanded)}}};var o4e=function(){var e=this,i=e._self._c;return e.isVisible?i("div",{class:e.realityReminderClass,style:e.styleObject,on:{click:e.clicked}},[e.canReality?e.suggestions.length===0?i("span",[e._v(" Ready to Reality! You have unlocked every available upgrade within this Reality. ")]):i("span",[i("i",{class:e.dropDownIconClass}),e._v(" You have "+e._s(e.quantifyInt("thing",e.suggestions.length))+" you may want to do before Reality. "+e._s(e.clickText)+" "),e.isExpanded?i("div",{staticClass:"l-suggestions"},[i("br"),e._l(e.suggestions,function(n){return i("div",{key:n},[e._v(" "+e._s(n)+" ")])})],2):e._e()]):i("span",[e._v(" You still need to unlock Reality in the Time Study Tree. ")])]):e._e()},l4e=[],c4e=X(s4e,o4e,l4e,!1,null,"101752f1");const u4e=c4e.exports,d4e={name:"ResetRealityButton",data(){return{canReality:!1,resetCelestial:!1,isInCelestialReality:!1,isDoomed:!1}},computed:{resetText(){return this.isDoomed?"Start this Armageddon over":this.isInCelestialReality&&!this.resetCelestial?"Exit this Celestial early":this.isInCelestialReality&&this.resetCelestial?"Restart this Celestial":"Start this Reality over"}},methods:{update(){this.canReality=TimeStudy.reality.isBought&&player.records.thisReality.maxEP.exponent>=4e3,this.resetCelestial=player.options.retryCelestial,this.isInCelestialReality=isInCelestialReality(),this.isDoomed=Pelle.isDoomed},resetReality(){const t=player.options.confirmations;GameEnd.creditsClosed||(this.isInCelestialReality?t.exitChallenge?Modal.exitChallenge.show({challengeName:"a Celestial Reality",normalName:"Reality",hasHigherLayers:!1,exitFn:()=>beginProcessReality(getRealityProps(!0))}):beginProcessReality(getRealityProps(!0)):t.resetReality?Modal.resetReality.show():beginProcessReality(getRealityProps(!0)))}}};var h4e=function(){var e=this,i=e._self._c;return i("button",{class:["l-reset-reality-button","c-reset-reality-button",{"c-reset-reality-button-celestial":e.isInCelestialReality}],on:{click:e.resetReality}},[i("div",{staticClass:"l-reality-button__contents"},[e._v(" "+e._s(e.resetText)+" ")])])},f4e=[],p4e=X(d4e,h4e,f4e,!1,null,"db10bf4d");const m4e=p4e.exports,y4e={name:"TypeSacrifice",props:{type:{type:String,required:!0},hasDragover:{type:Boolean,required:!0}},data(){return{amount:0,effectValue:0,isColored:!0,willSacrifice:!1}},computed:{typeConfig(){return GlyphTypes[this.type]},sacConfig(){return GlyphSacrifice[this.type].config},style(){if(!this.isColored)return{};const t=GlyphAppearanceHandler.getBorderColor(this.type),e=this.typeConfig.id==="reality"&&!player.reality.glyphs.cosmetics.colorMap.reality;return{color:t,"text-shadow":`-1px 1px 1px var(--color-text-base), 1px 1px 1px var(--color-text-base),
                            -1px -1px 1px var(--color-text-base), 1px -1px 1px var(--color-text-base),
                            0 0 3px ${t}`,animation:e?"a-reality-glyph-description-cycle 10s infinite":void 0}},symbol(){return CosmeticGlyphTypes[this.type].currentSymbol.symbol},formatAmount(){return format(this.amount,2,2)},description(){return this.sacConfig.description(this.effectValue)},newDescription(){return this.sacConfig.description(this.sacConfig.effect(this.currentSacrifice.sacrificeValue))},currentSacrifice(){const t=this.$viewModel.tabs.reality;return t.mouseoverGlyphInfo.type===""?t.draggingGlyphInfo:t.mouseoverGlyphInfo},showNewSacrifice(){const t=this.currentSacrifice.type===this.type,e=this.willSacrifice&&this.currentSacrifice.inInventory,i=ui.view.shiftDown;return t&&(this.hasDragover||i&&e)},formatNewAmount(){return format(this.currentSacrifice.sacrificeValue,2,2)},formatTotalAmount(){return format(this.amount+this.currentSacrifice.sacrificeValue,2,2)}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,()=>{this.$recompute("style")})},methods:{update(){this.amount=player.reality.glyphs.sac[this.type],this.effectValue=GlyphSacrifice[this.type].effectValue,this.isColored=player.options.glyphTextColors,this.willSacrifice=AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.SACRIFICE||AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE_TO_CAP&&this.currentSacrifice.refineValue===0}}};var g4e=function(){var e=this,i=e._self._c;return e.amount>0?i("div",{style:e.style},[i("div",[i("div",{staticClass:"l-sacrificed-glyphs__type-symbol c-sacrificed-glyphs__type-symbol"},[e._v(" "+e._s(e.symbol)+" ")]),i("div",{staticClass:"l-sacrificed-glyphs__type-amount c-sacrificed-glyphs__type-amount"},[e._v(" "+e._s(e.formatAmount)+" "),e.showNewSacrifice?i("span",{staticClass:"c-sacrificed-glyphs__type-new-amount"},[e._v(" + "+e._s(e.formatNewAmount)+" ➜ "+e._s(e.formatTotalAmount)+" ")]):e._e()])]),e.showNewSacrifice?i("span",{staticClass:"c-sacrificed-glyphs__type-new-amount"},[e._v(" "+e._s(e.newDescription)+" ")]):i("span",[e._v(" "+e._s(e.description)+" ")])]):e._e()},v4e=[],b4e=X(y4e,g4e,v4e,!1,null,"aadaee49");const _4e=b4e.exports,w4e={name:"SacrificedGlyphs",components:{TypeSacrifice:_4e},data(){return{anySacrifices:!1,hasDragover:!1,hasAlteration:!1,hideAlteration:!1,maxSacrifice:0,teresaMult:0,lastMachinesTeresa:new Decimal(0)}},computed:{types:()=>GLYPH_TYPES.filter(t=>t!=="cursed"&&t!=="companion"),lastMachines(){return this.lastMachinesTeresa.lt(DC.E10000)?`${quantify("Reality Machine",this.lastMachinesTeresa,2)}`:`${quantify("Imaginary Machine",this.lastMachinesTeresa.dividedBy(DC.E10000),2)}`},dropDownIconClass(){return this.hideAlteration?"far fa-plus-square":"far fa-minus-square"},isDoomed(){return Pelle.isDoomed},addThreshold(){return GlyphAlteration.additionThreshold},empowerThreshold(){return GlyphAlteration.empowermentThreshold},boostThreshold(){return GlyphAlteration.boostingThreshold},cosmeticTypes:()=>CosmeticGlyphTypes,addStyle(){return{color:GlyphAlteration.baseAdditionColor()}},empowerStyle(){return{color:GlyphAlteration.baseEmpowermentColor()}},boostStyle(){return{color:GlyphAlteration.baseBoostColor()}},hasSeenRealityGlyph(){return player.reality.glyphs.createdRealityGlyph}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,()=>{this.$recompute("cosmeticTypes")})},methods:{update(){this.anySacrifices=GameCache.logTotalGlyphSacrifice!==0,this.hasAlteration=Ra.unlocks.alteredGlyphs.canBeApplied,this.hideAlteration=player.options.hideAlterationEffects,this.maxSacrifice=GlyphSacrificeHandler.maxSacrificeForEffects,this.teresaMult=Teresa.runRewardMultiplier,this.lastMachinesTeresa.copyFrom(player.celestials.teresa.lastRepeatedMachines)},dragover(t){Pelle.isDoomed||t.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&(t.preventDefault(),this.hasDragover=!0)},dragleave(t){this.isDoomed||!t.relatedTarget||!t.relatedTarget.classList||t.relatedTarget.classList.contains("c-current-glyph-effects")||t.relatedTarget.classList.contains("c-sacrificed-glyphs__header")||t.relatedTarget.classList.contains("l-sacrificed-glyphs__type")||t.relatedTarget.classList.contains("l-sacrificed-glyphs__type-symbol")||t.relatedTarget.classList.contains("l-sacrificed-glyphs__type-amount")||t.relatedTarget.classList.contains("c-sacrificed-glyphs__type-new-amount")||t.relatedTarget.classList.length===0||(this.hasDragover=!1)},drop(t){if(this.isDoomed||!t.dataTransfer.types.includes(GLYPH_MIME_TYPE))return;const e=parseInt(t.dataTransfer.getData(GLYPH_MIME_TYPE),10);if(isNaN(e))return;const i=Glyphs.findById(e);i&&(GlyphSacrificeHandler.sacrificeGlyph(i,!0),this.hasDragover=!1)},toggleAlteration(){player.options.hideAlterationEffects=!player.options.hideAlterationEffects},glyphSymbol(t){return this.cosmeticTypes[t].currentSymbol.symbol}}};var E4e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-current-glyph-effects l-current-glyph-effects",class:{"c-sacrificed-glyphs--dragover":e.hasDragover},on:{dragover:e.dragover,dragleave:e.dragleave,drop:e.drop}},[i("div",{staticClass:"l-sacrificed-glyphs__help"},[e.isDoomed?i("span",{staticClass:"pelle-current-glyph-effects"},[e._v(" You cannot sacrifice Glyphs while Doomed. ")]):i("span",[i("div",[e._v("Drag Glyphs here or shift-click to Sacrifice.")]),i("div",[e._v("The confirmation can be disabled in Options or by holding Ctrl.")])])]),e.hasAlteration?i("div",[i("span",{staticClass:"c-altered-glyphs-toggle-button",on:{click:e.toggleAlteration}},[i("i",{class:e.dropDownIconClass}),i("b",[e._v(" Altered Glyphs")])]),i("br"),e.hideAlteration?i("div",[e._v(" (Details hidden, click to unhide) ")]):i("div",[e._v(" Glyph types will have one of their effects improved"),i("br"),e._v(" when their Glyph type's total sacrifice value is above: "),i("br"),i("br"),i("b",[i("span",{style:e.addStyle},[e._v(e._s(e.format(e.addThreshold))+" - an additional secondary effect")]),i("br"),i("span",{style:e.empowerStyle},[e._v(e._s(e.format(e.empowerThreshold))+" - formula drastically improved")]),i("br"),i("span",{style:e.boostStyle},[e._v(e._s(e.format(e.boostThreshold))+" - a boost depending on Glyph Sacrifice")])]),i("br"),i("br"),e._v(" All effects from Glyph Sacrifice can no longer be increased once they reach "+e._s(e.format(e.maxSacrifice))+". ")])]):e._e(),i("br"),i("div",{staticClass:"c-sacrificed-glyphs__header"},[e._v(" Glyph Sacrifice Boosts: ")]),e.anySacrifices&&!e.isDoomed?i("div",[e.teresaMult>1?i("div",[e._v(" Glyph sacrifice values are multiplied by "+e._s(e.formatX(e.teresaMult,2,2))+"; Teresa was last done at "+e._s(e.lastMachines)+". "),e.hasSeenRealityGlyph?i("span",[e._v(" Reality Glyphs are unaffected by this multiplier and have no altered effects. ")]):e._e()]):e._e(),e._l(e.types,function(n){return[i("TypeSacrifice",{key:n+e.glyphSymbol(n),attrs:{type:n,"has-dragover":e.hasDragover}})]})],2):e.isDoomed?i("div",{staticClass:"pelle-current-glyph-effects"},[e._v(" All boosts from Glyph Sacrifice are disabled while Doomed, including changes to effects due to Altered Glyphs. ")]):i("div",[e._v(" You haven't Sacrificed any Glyphs yet! ")])])},T4e=[],C4e=X(w4e,E4e,T4e,!1,null,"79a4fdc7");const k4e=C4e.exports,S4e={name:"SingleGlyphCustomzationPanel",components:{GlyphComponent:ou,PrimaryButton:mt},data(){return{glyphID:-1,isVisible:!0}},computed:{glyph(){if(this.glyphID===-1)return null;const t=Glyphs.findById(this.glyphID);return{type:t.type,level:t.level,strength:t.strength,effects:t.effects,color:t.color,symbol:t.symbol,cosmetic:t.cosmetic}},typeCosmetic(){const t=[];return GlyphAppearanceHandler.symbolMap[this.glyph.type]&&t.push("Symbol"),GlyphAppearanceHandler.colorMap[this.glyph.type]&&t.push("Color"),t.length===0?"None":t.join("/")},specialCosmetic(){if(this.glyph.cosmetic)return this.glyph.cosmetic.capitalize();const t=[];return this.glyph.symbol&&t.push("Symbol"),this.glyph.color&&t.push("Color"),t.length===0?"None":t.join("/")}},created(){EventHub.logic.on(GAME_EVENT.GLYPHS_CHANGED,()=>{this.glyphID=-1,this.$recompute("glyph")}),EventHub.logic.on(GAME_EVENT.GLYPH_VISUAL_CHANGE,()=>{this.$recompute("glyph")})},methods:{update(){this.isVisible=player.reality.glyphs.cosmetics.active&&(GlyphAppearanceHandler.availableTypes.length>0||CosmeticGlyphTypes.list.some(t=>t.isCosmetic&&t.isUnlocked()))},dragover(t){t.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&t.preventDefault()},drop(t){if(!t.dataTransfer.types.includes(GLYPH_MIME_TYPE))return;const e=parseInt(t.dataTransfer.getData(GLYPH_MIME_TYPE),10);isNaN(e)||(EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE),this.glyphID=e,this.$recompute("glyph"))},openModal(){Modal.singleGlyphAppearance.show({glyphId:this.glyphID})}}};var A4e=function(){var e=this,i=e._self._c;return e.isVisible?i("div",{staticClass:"c-single-glyph-cosmetic",on:{dragover:e.dragover,drop:e.drop}},[e.glyph?i("div",{staticClass:"c-glyph-info"},[i("div",{staticClass:"c-glyph-info-section"},[i("GlyphComponent",{attrs:{glyph:e.glyph,"flip-tooltip":!0}})],1),i("div",{staticClass:"c-glyph-info-section c-cosmetic-text"},[i("u",[e._v("Cosmetic Attributes")]),e._v(" Type: "+e._s(e.glyph.type.capitalize())+" "),i("br"),e._v(" All: "+e._s(e.typeCosmetic)+" "),i("br"),e._v(" Single: "+e._s(e.specialCosmetic)+" ")]),i("div",{staticClass:"c-glyph-info-section"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.openModal}},[e._v(" Customize! ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(n){e.glyphID=-1}}},[e._v(" Clear Box ")])],1)]):i("div",[e._v(" Drag a Glyph over this box to change its appearance! This will make a visual copy of it here, but leave the actual Glyph itself in your inventory. Removing, gaining, or moving any Glyphs will clear this box. ")])]):e._e()},x4e=[],D4e=X(S4e,A4e,x4e,!1,null,"1d1b021e");const I4e=D4e.exports,R4e={name:"GlyphsTab",components:{ExpandingControlBox:dc,GlyphTabSidebar:e4e,GlyphPeek:V3e,RealityAmplifyButton:a4e,GlyphInventory:x3e,SacrificedGlyphs:k4e,CurrentGlyphEffects:v3e,EquippedGlyphs:T3e,GlyphLevelsAndWeights:L3e,ResetRealityButton:m4e,RealityReminder:u4e,SingleGlyphCustomzationPanel:I4e},data(){return{enslavedHint:"",showInstability:!1,instabilityThreshold:0,hyperInstabilityThreshold:0,isInCelestialReality:!1,canAmplify:!1,glyphTextColors:!0,autoRestartCelestialRuns:!1,sacrificeUnlocked:!1,sacrificeDisplayed:!1,resetRealityDisplayed:!1}},computed:{showEnslavedHint(){return this.enslavedHint!==""},glyphColorState(){return{"o-glyph-color-checkbox":!0,"o-glyph-color-checkbox--active":this.glyphTextColors,"o-glyph-color-checkbox--inactive":!this.glyphTextColors}}},methods:{update(){if(this.resetRealityDisplayed=PlayerProgress.realityUnlocked(),this.showInstability=player.records.bestReality.glyphLevel>800,this.instabilityThreshold=Glyphs.instabilityThreshold,this.hyperInstabilityThreshold=Glyphs.hyperInstabilityThreshold,this.isInCelestialReality=isInCelestialReality(),this.canAmplify=Enslaved.isUnlocked&&!this.isInCelestialReality,this.autoRestartCelestialRuns=player.options.retryCelestial,this.glyphTextColors=player.options.glyphTextColors,this.enslavedHint="",this.sacrificeUnlocked=GlyphSacrificeHandler.canSacrifice,this.sacrificeDisplayed=player.reality.showGlyphSacrifice,!Enslaved.isRunning)return;Glyphs.activeWithoutCompanion.find(e=>e.level<Enslaved.glyphLevelMin)!==void 0&&(this.enslavedHint="done... what little... I can... with Glyphs...")},toggleAutoRestartCelestial(){player.options.retryCelestial=!player.options.retryCelestial},toggleGlyphTextColors(){player.options.glyphTextColors=!player.options.glyphTextColors},glyphInfoClass(t){return{"l-glyph-info-button":!0,"c-glyph-info-button":!0,"c-glyph-info-button--active":t,"c-glyph-info-button--inactive":!t}},setInfoState(t){player.reality.showGlyphSacrifice=t},glyphColorPosition(){return this.sacrificeUnlocked?"l-glyph-color-position__low":"l-glyph-color-position__top"},glyphInfoBorderClass(){return{"c-current-glyph-effects-with-top-border":!this.sacrificeUnlocked}},buttonGroupClass(){return{"l-half-width":this.canAmplify}}}};var M4e=function(){var e=this,i=e._self._c;return i("div",[i("div",{staticClass:"l-glyphs-tab"},[i("div",{staticClass:"l-reality-button-column"},[i("GlyphPeek"),e.resetRealityDisplayed?i("div",{staticClass:"l-reality-button-group"},[e.isInCelestialReality?e._e():i("RealityAmplifyButton",{class:e.buttonGroupClass()}),i("ResetRealityButton",{class:e.buttonGroupClass()})],1):e._e(),e.isInCelestialReality?i("div",{staticClass:"l-celestial-auto-restart-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRestartCelestialRuns,expression:"autoRestartCelestialRuns"}],staticClass:"o-clickable",attrs:{id:"autoRestart",type:"checkbox"},domProps:{value:e.autoRestartCelestialRuns,checked:Array.isArray(e.autoRestartCelestialRuns)?e._i(e.autoRestartCelestialRuns,e.autoRestartCelestialRuns)>-1:e.autoRestartCelestialRuns},on:{input:function(n){return e.toggleAutoRestartCelestial()},change:function(n){var r=e.autoRestartCelestialRuns,a=n.target,s=!!a.checked;if(Array.isArray(r)){var o=e.autoRestartCelestialRuns,c=e._i(r,o);a.checked?c<0&&(e.autoRestartCelestialRuns=r.concat([o])):c>-1&&(e.autoRestartCelestialRuns=r.slice(0,c).concat(r.slice(c+1)))}else e.autoRestartCelestialRuns=s}}}),i("label",{staticClass:"o-clickable",attrs:{for:"autoRestart"}},[e._v(" Repeat this Celestial's Reality ")])]):e._e(),i("br"),i("RealityReminder"),e.showInstability?i("div",[i("br"),e._v(" Glyphs are becoming unstable. "),i("br"),e._v(" Glyph levels higher than "+e._s(e.formatInt(e.instabilityThreshold))+" are harder to reach. "),i("br"),e._v(" This effect is even stronger above level "+e._s(e.formatInt(e.hyperInstabilityThreshold))+". ")]):e._e(),i("SingleGlyphCustomzationPanel"),i("ExpandingControlBox",{staticClass:"l-glyph-level-factors",attrs:{"width-source":"content",label:"Glyph Level Factors","container-class":"c-glyph-level-factors-dropdown-header"},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("GlyphLevelsAndWeights")]},proxy:!0}])}),i("GlyphTabSidebar")],1),i("div",{staticClass:"l-player-glyphs-column"},[e.showEnslavedHint?i("div",{staticClass:"o-teresa-quotes",domProps:{innerHTML:e._s(e.enslavedHint)}}):e._e(),i("div",{staticClass:"l-equipped-glyphs-and-effects-container"},[i("EquippedGlyphs"),i("div",{staticClass:"l-glyph-info-wrapper"},[i("span",{staticClass:"l-glyph-color-box",on:{click:e.toggleGlyphTextColors}},[i("div",{class:e.glyphColorPosition()},[i("label",{class:e.glyphColorState},[i("span",{staticClass:"fas fa-palette"})])])]),e.sacrificeUnlocked?i("div",{staticClass:"c-glyph-info-options"},[i("button",{class:e.glyphInfoClass(!e.sacrificeDisplayed),on:{click:function(n){return e.setInfoState(!1)}}},[e._v(" Current Glyph effects ")]),i("button",{class:e.glyphInfoClass(e.sacrificeDisplayed),on:{click:function(n){return e.setInfoState(!0)}}},[e._v(" Glyph Sacrifice totals ")])]):e._e(),e.sacrificeUnlocked&&e.sacrificeDisplayed?i("SacrificedGlyphs"):i("CurrentGlyphEffects",{class:e.glyphInfoBorderClass()})],1)],1),i("GlyphInventory")],1)])])},P4e=[],O4e=X(R4e,M4e,P4e,!1,null,"0a345430");const N4e=O4e.exports,G4e={name:"ImaginaryUpgradeButton",components:{PrimaryToggleButton:ln,DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc,HintText:mc},props:{upgrade:{type:Object,required:!0}},data(){return{isAvailableForPurchase:!1,canBeBought:!1,isRebuyable:!1,isBought:!1,isPossible:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,etaText:"",canBeLocked:!1,hasRequirementLock:!1}},computed:{config(){return this.upgrade.config},classObject(){return{"c-reality-upgrade-btn--useless":this.upgrade.pelleDisabled,"c-reality-upgrade-btn--bought":this.isBought&&!this.upgrade.pelleDisabled,"c-reality-upgrade-btn--unavailable":!this.isBought&&!this.canBeBought&&this.isAvailableForPurchase,"c-reality-upgrade-btn--possible":!this.isAvailableForPurchase&&this.isPossible,"c-reality-upgrade-btn--locked":!this.isAvailableForPurchase&&!this.isPossible}},requirementConfig(){return{description:this.config.requirement}},canLock(){return this.config.canLock&&!(this.isAvailableForPurchase||this.isBought)},isDoomed:()=>Pelle.isDoomed},watch:{isAutobuyerOn(t){Autobuyer.imaginaryUpgrade(this.upgrade.id).isActive=t}},methods:{update(){const t=this.upgrade;this.isAvailableForPurchase=t.isAvailableForPurchase,this.canBeBought=t.canBeBought,this.isRebuyable=t.isRebuyable,this.isBought=!t.isRebuyable&&t.isBought,this.isPossible=t.isPossible,this.isAutoUnlocked=ImaginaryUpgrade(20).canBeApplied,this.canBeLocked=t.config.canLock&&!this.isAvailableForPurchase,this.hasRequirementLock=t.hasPlayerLock,this.isRebuyable&&(this.isAutobuyerOn=Autobuyer.imaginaryUpgrade(t.id).isActive),this.etaText=this.getETAText()},getETAText(){if(this.canBeBought||!this.isAvailableForPurchase||this.isBought||Pelle.isDoomed)return"";const t=MachineHandler.estimateIMTimer(this.upgrade.cost);return isFinite(t)?TimeSpan.fromSeconds(t).toString():"Never affordable"},toggleLock(t){this.isRebuyable||t.toggleMechanicLock()}}};var U4e=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.etaText,expression:"etaText"}],staticClass:"l-spoon-btn-group"},[i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn",class:e.classObject,on:{click:[function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.toggleLock(e.upgrade)},function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.upgrade.purchase()}]}},[i("HintText",{staticClass:"l-hint-text--reality-upgrade c-hint-text--reality-upgrade",attrs:{type:"realityUpgrades"}},[e._v(" "+e._s(e.config.name)+" ")]),i("span",{class:{"o-pelle-disabled":e.upgrade.pelleDisabled}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.$viewModel.shiftDown===e.isAvailableForPurchase&&!e.isRebuyable?[i("br"),i("DescriptionDisplay",{staticClass:"c-reality-upgrade-btn__requirement",attrs:{config:e.requirementConfig,label:"Requirement:"}})]:[i("EffectDisplay",{attrs:{config:e.config,br:""}}),e.isBought?e._e():i("CostDisplay",{attrs:{config:e.config,br:"",name:"Imaginary Machine"}})]],2)],1),e.canBeLocked?i("div",{staticClass:"o-requirement-lock"},[e.hasRequirementLock?i("i",{staticClass:"fas fa-lock"}):e.canLock?i("i",{staticClass:"fas fa-lock-open"}):e._e()]):e._e(),e.isRebuyable&&e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):e._e()],1)},L4e=[],B4e=X(G4e,U4e,L4e,!1,null,"6c488fea");const $4e=B4e.exports,F4e={name:"ImaginaryUpgradesTab",components:{ImaginaryUpgradeButton:$4e},data(){return{baseRMCap:new Decimal,capRM:new Decimal,scaleTime:0,capStr:""}},computed:{upgrades:()=>ImaginaryUpgrades.all,lockTooltip:()=>`Requirement locks only prevent manual and automated actions. Any related upgrades
      will not be disabled and may still cause requirements to be failed.`},methods:{update(){this.baseRMCap.copyFrom(MachineHandler.baseRMCap),this.capRM.copyFrom(MachineHandler.hardcapRM),this.scaleTime=MachineHandler.scaleTimeForIM,this.capStr=formatMachines(MachineHandler.hardcapRM,MachineHandler.currentIMCap)},id(t,e){return(t-1)*5+e-1}}};var H4e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-reality-upgrade-grid"},[i("div",{staticClass:"c-cap-text"},[e._v(" Your Machine cap is "),i("span",{staticClass:"c-reality-tab__reality-machines"},[e._v(e._s(e.capStr))]),e._v(". ")]),i("div",{staticClass:"c-info-text"},[e._v(" You have reached the limits of Reality and cannot hold more than "+e._s(e.format(e.capRM))+" Reality Machines. "),i("br"),e._v(" Machines gained in excess of "+e._s(e.format(e.baseRMCap))+" will raise the maximum amount of Imaginary Machines you can have. "),i("br"),e._v(" Imaginary Machines are gained passively over time up to the cap, but gain slows down exponentially as you approach the cap. "),i("br"),e._v(" Every "+e._s(e.formatInt(e.scaleTime))+" seconds the difference in iM between your current amount and the cap will be cut in half. "),i("br"),i("br"),e._v(" The first two rows of upgrades can be purchased endlessly and the rest of the upgrades are one-time upgrades with requirements. "),i("br"),e._v(" Upgrades here have the same gameplay and visual behavior as Reality Upgrades, but cost Imaginary Machines instead. "),i("span",{attrs:{"ach-tooltip":e.lockTooltip}},[i("i",{staticClass:"fas fa-question-circle"})])]),e._l(5,function(n){return i("div",{key:n,staticClass:"l-reality-upgrade-grid__row"},e._l(5,function(r){return i("ImaginaryUpgradeButton",{key:e.id(n,r),attrs:{upgrade:e.upgrades[e.id(n,r)]}})}),1)})],2)},V4e=[],Y4e=X(F4e,H4e,V4e,!1,null,"0237c183");const q4e=Y4e.exports,W4e={name:"ChallengeBox",components:{HintText:mc},props:{name:{type:String,required:!0},isUnlocked:{type:Boolean,required:!0},isRunning:{type:Boolean,required:!0},isCompleted:{type:Boolean,required:!0},lockedAt:{type:Decimal,required:!1,default:void 0},overrideLabel:{type:String,required:!1,default:""}},data(){return{inC1:Boolean,infinities:new Decimal(0)}},computed:{buttonClassObject(){const t=!(this.isCompleted||this.isRunning||this.inC1||this.isUnlocked),e=!this.isUnlocked||this.isRunning||this.name==="C1";return{"o-challenge-btn":!0,"o-challenge-btn--broken":this.overrideLabel.length>0&&this.name!=="C10","o-challenge-btn--broken-alt":this.overrideLabel.length>0&&this.name==="C10","o-challenge-btn--running":this.isRunning||this.inC1,"o-challenge-btn--completed":this.isCompleted&&this.isUnlocked,"o-challenge-btn--unlocked":!this.isCompleted&&this.isUnlocked,"o-challenge-btn--locked":t,"o-challenge-btn--unenterable":e}},buttonText(){return this.overrideLabel.length>0?this.overrideLabel:this.isRunning||this.inC1?"Running":this.isCompleted?"Completed":this.isUnlocked?"Start":`Locked${this.lockedAt===void 0?"":` (${formatInt(this.infinities)}/${formatInt(this.lockedAt)})`}`}},methods:{update(){this.inC1=this.name==="C1"&&!this.isCompleted&&!Player.isInAntimatterChallenge,this.infinities.copyFrom(Currency.infinities)}}};var j4e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-challenge-box l-challenge-box"},[i("HintText",{staticClass:"l-hint-text--challenge",attrs:{type:"challenges"}},[e._v(" "+e._s(e.name)+" ")]),e._t("top"),i("div",{staticClass:"l-challenge-box__fill"}),i("button",{class:e.buttonClassObject,on:{click:function(n){return e.$emit("start")}}},[e._v(" "+e._s(e.buttonText)+" ")]),e._t("bottom")],2)},z4e=[],X4e=X(W4e,j4e,z4e,!1,null,"9fd1b421");const F5=X4e.exports,K4e={name:"InfinityChallengeBox",components:{ChallengeBox:F5,DescriptionDisplay:Qa,EffectDisplay:oo},props:{challenge:{type:Object,required:!0}},data(){return{isUnlocked:!1,isRunning:!1,isCompleted:!1}},computed:{config(){return this.challenge.config},name(){return`IC${this.challenge.id}`}},methods:{update(){const t=this.challenge;this.isUnlocked=t.isUnlocked,this.isRunning=t.isRunning,this.isCompleted=t.isCompleted}}};var Z4e=function(){var e=this,i=e._self._c;return i("ChallengeBox",{staticClass:"c-challenge-box--infinity",attrs:{name:e.name,"is-unlocked":e.isUnlocked,"is-running":e.isRunning,"is-completed":e.isCompleted},on:{start:function(n){return e.challenge.requestStart()}},scopedSlots:e._u([{key:"top",fn:function(){return[i("DescriptionDisplay",{attrs:{config:e.config}}),e.isRunning?i("EffectDisplay",{attrs:{config:e.config}}):e._e()]},proxy:!0},{key:"bottom",fn:function(){return[i("div",{staticClass:"l-challenge-box__bottom--infinity"},[i("span",[e._v("Goal: "+e._s(e.format(e.config.goal))+" antimatter")]),i("DescriptionDisplay",{attrs:{config:e.config.reward,title:"Reward:"}}),i("EffectDisplay",{attrs:{config:e.config.reward}})],1)]},proxy:!0}])})},Q4e=[],J4e=X(K4e,Z4e,Q4e,!1,null,"197c3d92");const eHe=J4e.exports,tHe={name:"InfinityChallengesTab",components:{ChallengeGrid:Ix,ChallengeTabHeader:Rx,InfinityChallengeBox:eHe},data(){return{nextIC:0,showAllChallenges:!1}},computed:{challenges(){return InfinityChallenges.all},nextAtDisplay(){var i;const t=((i=this.nextIC)==null?void 0:i.id)===1,e=InfinityChallenges.nextICUnlockAM;return t?`The first Infinity Challenge unlocks at ${format(e)} antimatter.`:e===void 0?"All Infinity Challenges unlocked":`Next Infinity Challenge unlocks at ${format(e)} antimatter.`}},methods:{update(){this.nextIC=InfinityChallenges.nextIC,this.showAllChallenges=player.options.showAllChallenges},isChallengeVisible(t){return t.isUnlocked||this.showAllChallenges&&PlayerProgress.eternityUnlocked()}}};var iHe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-challenges-tab"},[i("ChallengeTabHeader"),i("div",[e._v(" An active Big Crunch Autobuyer will Crunch immediately when reaching an Infinity Challenge's antimatter goal, regardless of settings. ")]),i("div",[e._v(e._s(e.nextAtDisplay))]),i("ChallengeGrid",{attrs:{challenges:e.challenges,"is-challenge-visible":e.isChallengeVisible},scopedSlots:e._u([{key:"default",fn:function({challenge:n}){return[i("InfinityChallengeBox",{attrs:{challenge:n}})]}}])})],1)},nHe=[],rHe=X(tHe,iHe,nHe,!1,null,"361016e9");const aHe=rHe.exports,sHe={name:"ClassicInfinityDimensionRow",components:{GenericDimensionRowText:sy,PrimaryButton:mt,PrimaryToggleButton:ln},props:{tier:{type:Number,required:!0}},data(){return{hasPrevTier:!1,isUnlocked:!1,canUnlock:!1,multiplier:new Decimal(0),baseAmount:0,amount:new Decimal(0),purchases:0,rateOfChange:new Decimal(0),isAutobuyerUnlocked:!1,cost:new Decimal(0),isAvailableForPurchase:!1,isCapped:!1,capIP:new Decimal(0),isAutobuyerOn:!1,isEC8Running:!1,hardcap:InfinityDimensions.HARDCAP_PURCHASES,eternityReached:!1,enslavedRunning:!1}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${InfinityDimension(this.tier).shortDisplayName} Infinity Dimension`},costDisplay(){return this.isUnlocked||this.shiftDown?this.isCapped?"Capped":this.showCostTitle?`Cost: ${format(this.cost)} IP`:`${format(this.cost)} IP`:this.canUnlock?"Unlock":`Reach ${formatPostBreak(InfinityDimension(this.tier).amRequirement)} AM`},hasLongText(){return this.costDisplay.length>20},hardcapPurchases(){return format(this.hardcap,1,1)},capTooltip(){return this.enslavedRunning?`Nameless prevents the purchase of more than ${format(10)} Infinity Dimensions`:this.isCapped?`Cap reached at ${format(this.capIP)} IP`:`Purchased ${quantifyInt("time",this.purchases)}`},showRow(){return this.eternityReached||this.isUnlocked||this.canUnlock||this.amount.gt(0)||this.hasPrevTier},showCostTitle(){return this.cost.exponent<1e5}},watch:{isAutobuyerOn(t){Autobuyer.infinityDimension(this.tier).isActive=t}},methods:{update(){const t=this.tier,e=InfinityDimension(t);this.hasPrevTier=t===1||InfinityDimension(t-1).isUnlocked;const i=Autobuyer.infinityDimension(t);this.isUnlocked=e.isUnlocked,this.canUnlock=e.canUnlock,this.multiplier.copyFrom(e.multiplier),this.baseAmount=e.baseAmount,this.purchases=e.purchases,this.amount.copyFrom(e.amount),this.rateOfChange.copyFrom(e.rateOfChange),this.isAutobuyerUnlocked=i.isUnlocked,this.cost.copyFrom(e.cost),this.isAvailableForPurchase=e.isAvailableForPurchase,this.isCapped=e.isCapped,this.isCapped&&(this.capIP.copyFrom(e.hardcapIPAmount),this.hardcap=e.purchaseCap),this.isEC8Running=EternityChallenge(8).isRunning,this.isAutobuyerOn=i.isActive,this.eternityReached=PlayerProgress.eternityUnlocked(),this.enslavedRunning=Enslaved.isRunning},buySingleInfinityDimension(){InfinityDimension(this.tier).buySingle()},buyMaxInfinityDimension(){InfinityDimension(this.tier).buyMax(!1)}}};var oHe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.canUnlock}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--buy-id o-primary-btn--buy-dim c-dim-tooltip-container",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase||!e.isUnlocked&&e.canUnlock},on:{click:e.buySingleInfinityDimension}},[e._v(" "+e._s(e.costDisplay)+" "),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.capTooltip)+" ")])]),e.isAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryToggleButton",{staticClass:"o-primary-btn--id-auto",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--id-auto",attrs:{enabled:e.isAvailableForPurchase&&e.isUnlocked},on:{click:e.buyMaxInfinityDimension}},[e._v(" Buy Max ")])],1)],1)},lHe=[],cHe=X(sHe,oHe,lHe,!1,null,null);const uHe=cHe.exports,dHe={name:"ClassicInfinityDimensionsTab",components:{PrimaryButton:mt,InfinityDimensionRow:uHe},data(){return{infinityPower:new Decimal(0),dimMultiplier:new Decimal(0),powerPerSecond:new Decimal(0),incomeType:"",isEC8Running:!1,EC8PurchasesLeft:0,isEC9Running:!1,isEnslavedRunning:!1,isAnyAutobuyerUnlocked:!1,conversionRate:0,nextDimCapIncrease:0,tesseractCost:new Decimal(0),totalDimCap:0,canBuyTesseract:!1,enslavedCompleted:!1,boughtTesseracts:0,extraTesseracts:0,creditsClosed:!1,showLockedDimCostNote:!0}},computed:{tesseractCountString(){const t=this.extraTesseracts>0?` + ${format(this.extraTesseracts,2,2)}`:"";return`${formatInt(this.boughtTesseracts)}${t}`}},methods:{update(){this.showLockedDimCostNote=!InfinityDimension(8).isUnlocked,this.isEC9Running=EternityChallenge(9).isRunning,this.infinityPower.copyFrom(Currency.infinityPower),this.conversionRate=InfinityDimensions.powerConversionRate,this.isEC9Running?this.dimMultiplier.copyFrom(Decimal.pow(Math.max(this.infinityPower.log2(),1),4).max(1)):this.dimMultiplier.copyFrom(this.infinityPower.pow(this.conversionRate).max(1)),this.powerPerSecond.copyFrom(InfinityDimension(1).productionPerRealSecond),this.incomeType=EternityChallenge(7).isRunning?"Seventh Dimensions":"Infinity Power",this.isEC8Running=EternityChallenge(8).isRunning,this.isEC8Running&&(this.EC8PurchasesLeft=player.eterc8ids),this.isEnslavedRunning=Enslaved.isRunning,this.isAnyAutobuyerUnlocked=Autobuyer.infinityDimension(1).isUnlocked,this.nextDimCapIncrease=Tesseracts.nextTesseractIncrease,this.tesseractCost.copyFrom(Tesseracts.nextCost),this.totalDimCap=InfinityDimensions.totalDimCap,this.canBuyTesseract=Tesseracts.canBuyTesseract,this.enslavedCompleted=Enslaved.isCompleted,this.boughtTesseracts=Tesseracts.bought,this.extraTesseracts=Tesseracts.extra,this.creditsClosed=GameEnd.creditsEverClosed},maxAll(){InfinityDimensions.buyMax()},toggleAllAutobuyers(){toggleAllInfDims()},buyTesseract(){Tesseracts.buyTesseract()}}};var hHe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-infinity-dim-tab"},[i("div",{staticClass:"c-subtab-option-container"},[e.isEC8Running?e._e():i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Max all ")]),e.isAnyAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Toggle all autobuyers ")]):e._e()],1),i("div",[i("p",[e._v(" You have "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.format(e.infinityPower,2,1)))]),e._v(" Infinity Power, "),i("br"),e.isEC9Running?i("span",[e._v(" translated ")]):i("span",[e._v(" increased by "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.formatPow(e.conversionRate,2,3)))])]),e._v(" to a "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.formatX(e.dimMultiplier,2,1)))]),e._v(" multiplier on all "),e.isEC9Running?i("span",[e._v("Time Dimensions due to Eternity Challenge 9.")]):i("span",[e._v("Antimatter Dimensions.")])])]),e.enslavedCompleted?i("div",{staticClass:"l-infinity-dim-tab__enslaved-reward-container"},[i("button",{staticClass:"c-infinity-dim-tab__tesseract-button",class:{"c-infinity-dim-tab__tesseract-button--disabled":!e.canBuyTesseract,"o-pelle-disabled-pointer":e.creditsClosed},on:{click:e.buyTesseract}},[i("p",[e._v(" Buy a Tesseract ("+e._s(e.tesseractCountString)+") ")]),i("p",[e._v("Increase Infinity Dimension caps by "+e._s(e.format(e.nextDimCapIncrease,2)))]),i("p",[i("b",[e._v("Costs: "+e._s(e.format(e.tesseractCost))+" IP")])])])]):e._e(),e.isEnslavedRunning?i("div",[e._v(" All Infinity Dimensions are limited to a single purchase. ")]):i("div",[e._v(" All Infinity Dimensions except for the 8th are limited to a maximum of "+e._s(e.format(e.totalDimCap,2))+" purchases each. ")]),i("div",[e._v("You are getting "+e._s(e.format(e.powerPerSecond,2,0))+" "+e._s(e.incomeType)+" per second.")]),e.isEC8Running?i("b",{staticClass:"l-infinity-dim-tab__ec8-purchases"},[e._v(" You have "+e._s(e.quantifyInt("purchase",e.EC8PurchasesLeft))+" left within Eternity Challenge 8. ")]):e._e(),i("div",{staticClass:"l-dimensions-container"},e._l(8,function(n){return i("InfinityDimensionRow",{key:n,attrs:{tier:n}})}),1),e.showLockedDimCostNote?i("div",[e._v(" Hold shift to see the Infinity Point cost for locked Infinity Dimensions. ")]):e._e()])},fHe=[],pHe=X(dHe,hHe,fHe,!1,null,null);const mHe=pHe.exports,yHe={name:"ModernInfinityDimensionRow",components:{GenericDimensionRowText:sy,PrimaryButton:mt,PrimaryToggleButton:ln},props:{tier:{type:Number,required:!0}},data(){return{hasPrevTier:!1,isUnlocked:!1,canUnlock:!1,multiplier:new Decimal(0),baseAmount:0,amount:new Decimal(0),purchases:0,rateOfChange:new Decimal(0),isAutobuyerUnlocked:!1,cost:new Decimal(0),isAvailableForPurchase:!1,isCapped:!1,capIP:new Decimal(0),isAutobuyerOn:!1,isEC8Running:!1,hardcap:InfinityDimensions.HARDCAP_PURCHASES,eternityReached:!1,enslavedRunning:!1}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${InfinityDimension(this.tier).shortDisplayName} Infinity Dimension`},costDisplay(){return this.isUnlocked||this.shiftDown?this.isCapped?"Capped":this.showCostTitle?`Cost: ${format(this.cost)} IP`:`${format(this.cost)} IP`:this.canUnlock?"Unlock":`Reach ${formatPostBreak(InfinityDimension(this.tier).amRequirement)} AM`},hasLongText(){return this.costDisplay.length>20},capTooltip(){return this.enslavedRunning?`Nameless prevents the purchase of more than ${format(10)} Infinity Dimensions`:this.isCapped?`Cap reached at ${format(this.capIP)} IP`:`Purchased ${quantifyInt("time",this.purchases)}`},showRow(){return this.eternityReached||this.isUnlocked||this.canUnlock||this.amount.gt(0)||this.hasPrevTier},showCostTitle(){return this.cost.exponent<1e5}},watch:{isAutobuyerOn(t){Autobuyer.infinityDimension(this.tier).isActive=t}},methods:{update(){const t=this.tier,e=InfinityDimension(t);this.hasPrevTier=t===1||InfinityDimension(t-1).isUnlocked,this.isUnlocked=e.isUnlocked,this.canUnlock=e.canUnlock,this.multiplier.copyFrom(e.multiplier),this.baseAmount=e.baseAmount,this.purchases=e.purchases,this.amount.copyFrom(e.amount),this.rateOfChange.copyFrom(e.rateOfChange),this.isAutobuyerUnlocked=Autobuyer.infinityDimension(t).isUnlocked,this.cost.copyFrom(e.cost),this.isAvailableForPurchase=e.isAvailableForPurchase,this.isCapped=e.isCapped,this.isCapped&&(this.capIP.copyFrom(e.hardcapIPAmount),this.hardcap=e.purchaseCap),this.isEC8Running=EternityChallenge(8).isRunning,this.isAutobuyerOn=Autobuyer.infinityDimension(t).isActive,this.eternityReached=PlayerProgress.eternityUnlocked(),this.enslavedRunning=Enslaved.isRunning},buySingleInfinityDimension(){InfinityDimension(this.tier).buySingle()},buyMaxInfinityDimension(){InfinityDimension(this.tier).buyMax(!1)}}};var gHe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-row-infinity-dim l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.canUnlock}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container c-modern-dim-tooltip-container"},[i("div",{staticClass:"c-modern-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.capTooltip)+" ")]),i("PrimaryButton",{staticClass:"o-primary-btn--buy-id o-primary-btn o-primary-btn--new o-primary-btn--buy-dim",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase||!e.isUnlocked&&e.canUnlock},on:{click:e.buySingleInfinityDimension}},[e._v(" "+e._s(e.costDisplay)+" ")]),e.isAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryToggleButton",{staticClass:"o-primary-btn--id-auto",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--id-auto",attrs:{enabled:e.isAvailableForPurchase},on:{click:e.buyMaxInfinityDimension}},[e._v(" Buy Max ")])],1)],1)},vHe=[],bHe=X(yHe,gHe,vHe,!1,null,"edfefd14");const _He=bHe.exports,wHe={name:"ModernInfinityDimensionsTab",components:{PrimaryButton:mt,InfinityDimensionRow:_He},data(){return{infinityPower:new Decimal(0),dimMultiplier:new Decimal(0),powerPerSecond:new Decimal(0),incomeType:"",isEC8Running:!1,EC8PurchasesLeft:0,isEC9Running:!1,isEnslavedRunning:!1,isAnyAutobuyerUnlocked:!1,conversionRate:0,nextDimCapIncrease:0,tesseractCost:new Decimal(0),totalDimCap:0,canBuyTesseract:!1,enslavedCompleted:!1,boughtTesseracts:0,extraTesseracts:0,creditsClosed:!1,showLockedDimCostNote:!0}},computed:{tesseractCountString(){const t=this.extraTesseracts>0?` + ${format(this.extraTesseracts,2,2)}`:"";return`${formatInt(this.boughtTesseracts)}${t}`}},methods:{update(){this.showLockedDimCostNote=!InfinityDimension(8).isUnlocked,this.isEC9Running=EternityChallenge(9).isRunning,this.infinityPower.copyFrom(Currency.infinityPower),this.conversionRate=InfinityDimensions.powerConversionRate,this.isEC9Running?this.dimMultiplier.copyFrom(Decimal.pow(Math.max(this.infinityPower.log2(),1),4).max(1)):this.dimMultiplier.copyFrom(this.infinityPower.pow(this.conversionRate).max(1)),this.powerPerSecond.copyFrom(InfinityDimension(1).productionPerSecond),this.incomeType=EternityChallenge(7).isRunning?"Seventh Dimensions":"Infinity Power",this.isEC8Running=EternityChallenge(8).isRunning,this.isEC8Running&&(this.EC8PurchasesLeft=player.eterc8ids),this.isEnslavedRunning=Enslaved.isRunning,this.isAnyAutobuyerUnlocked=Autobuyer.infinityDimension(1).isUnlocked,this.nextDimCapIncrease=Tesseracts.nextTesseractIncrease,this.tesseractCost.copyFrom(Tesseracts.nextCost),this.totalDimCap=InfinityDimensions.totalDimCap,this.canBuyTesseract=Tesseracts.canBuyTesseract,this.enslavedCompleted=Enslaved.isCompleted,this.boughtTesseracts=Tesseracts.bought,this.extraTesseracts=Tesseracts.extra,this.creditsClosed=GameEnd.creditsEverClosed},maxAll(){InfinityDimensions.buyMax()},toggleAllAutobuyers(){toggleAllInfDims()},buyTesseract(){Tesseracts.buyTesseract()}}};var EHe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-infinity-dim-tab"},[i("div",{staticClass:"c-subtab-option-container"},[e.isEC8Running?e._e():i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Max all ")]),e.isAnyAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Toggle all autobuyers ")]):e._e()],1),i("div",[i("p",[e._v(" You have "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.format(e.infinityPower,2,1)))]),e._v(" Infinity Power, "),i("br"),e.isEC9Running?i("span",[e._v(" translated ")]):i("span",[e._v(" increased by "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.formatPow(e.conversionRate,2,3)))])]),e._v(" to a "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.formatX(e.dimMultiplier,2,1)))]),e._v(" multiplier on all "),e.isEC9Running?i("span",[e._v("Time Dimensions due to Eternity Challenge 9.")]):i("span",[e._v("Antimatter Dimensions.")])])]),e.enslavedCompleted?i("div",{staticClass:"l-infinity-dim-tab__enslaved-reward-container"},[i("button",{staticClass:"c-infinity-dim-tab__tesseract-button",class:{"c-infinity-dim-tab__tesseract-button--disabled":!e.canBuyTesseract,"o-pelle-disabled-pointer":e.creditsClosed},on:{click:e.buyTesseract}},[i("p",[e._v(" Buy a Tesseract ("+e._s(e.tesseractCountString)+") ")]),i("p",[e._v("Increase dimension caps by "+e._s(e.format(e.nextDimCapIncrease,2)))]),i("p",[i("b",[e._v("Costs: "+e._s(e.format(e.tesseractCost))+" IP")])])])]):e._e(),e.isEnslavedRunning?i("div",[e._v(" All Infinity Dimensions are limited to a single purchase. ")]):i("div",[e._v(" All Infinity Dimensions except for the 8th are limited to a maximum of "+e._s(e.format(e.totalDimCap,2))+" purchases each. ")]),i("div",[e._v("You are getting "+e._s(e.format(e.powerPerSecond,2,0))+" "+e._s(e.incomeType)+" per second.")]),e.isEC8Running?i("b",{staticClass:"l-infinity-dim-tab__ec8-purchases"},[e._v(" You have "+e._s(e.quantifyInt("purchase",e.EC8PurchasesLeft))+" left within Eternity Challenge 8. ")]):e._e(),i("div",{staticClass:"l-dimensions-container"},e._l(8,function(n){return i("InfinityDimensionRow",{key:n,attrs:{tier:n}})}),1),e.showLockedDimCostNote?i("div",[e._v(" Hold shift to see the Infinity Point cost for locked Infinity Dimensions. ")]):e._e()])},THe=[],CHe=X(wHe,EHe,THe,!1,null,null);const kHe=CHe.exports,SHe={name:"InfinityDimensionsTab",components:{ClassicInfinityDimensionsTab:mHe,ModernInfinityDimensionsTab:kHe},computed:{activeComponent(){return this.$viewModel.newUI?"ModernInfinityDimensionsTab":"ClassicInfinityDimensionsTab"}}};var AHe=function(){var e=this,i=e._self._c;return i(e.activeComponent,{tag:"component"})},xHe=[],DHe=X(SHe,AHe,xHe,!1,null,null);const IHe=DHe.exports,RHe={name:"IpMultiplierButton",components:{PrimaryButton:mt,PrimaryToggleButton:ln,InfinityUpgradeButton:Sx},data(){return{isAutobuyerActive:!1,isAutoUnlocked:!1,isCapped:!1}},computed:{upgrade(){return InfinityUpgrade.ipMult}},watch:{isAutobuyerActive(t){Autobuyer.ipMult.isActive=t}},methods:{update(){this.isAutoUnlocked=Autobuyer.ipMult.isUnlocked,this.isAutobuyerActive=Autobuyer.ipMult.isActive,this.isCapped=this.upgrade.isCapped},buyMaxIPMult(){InfinityUpgrade.ipMult.buyMax()}}};var MHe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group"},[i("InfinityUpgradeButton",{staticClass:"o-infinity-upgrade-btn--multiplier",attrs:{upgrade:e.upgrade}},[e.isCapped?[i("br"),i("span",[e._v("(Capped at "+e._s(e.quantify("Infinity Point",e.upgrade.config.costCap))+")")])]:e._e()],2),i("PrimaryButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",on:{click:function(n){return e.buyMaxIPMult()}}},[e._v(" Max Infinity Point mult ")]),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",attrs:{label:"Autobuy IP mult"},model:{value:e.isAutobuyerActive,callback:function(n){e.isAutobuyerActive=n},expression:"isAutobuyerActive"}}):e._e()],1)},PHe=[],OHe=X(RHe,MHe,PHe,!1,null,"b0af25e1");const NHe=OHe.exports,GHe={name:"InfinityUpgradesTab",components:{PrimaryButton:mt,InfinityUpgradeButton:Sx,IpMultiplierButton:NHe},data(){return{isUseless:!1,chargeUnlocked:!1,totalCharges:0,chargesUsed:0,disCharge:!1,ipMultSoftCap:0,ipMultHardCap:0,eternityUnlocked:!1,bottomRowUnlocked:!1,styleOfColumnBg:void 0}},computed:{grid(){return[[InfinityUpgrade.totalTimeMult,InfinityUpgrade.dim18mult,InfinityUpgrade.dim36mult,InfinityUpgrade.resetBoost],[InfinityUpgrade.buy10Mult,InfinityUpgrade.dim27mult,InfinityUpgrade.dim45mult,InfinityUpgrade.galaxyBoost],[InfinityUpgrade.thisInfinityTimeMult,InfinityUpgrade.unspentIPMult,InfinityUpgrade.dimboostMult,InfinityUpgrade.ipGen],[InfinityUpgrade.skipReset1,InfinityUpgrade.skipReset2,InfinityUpgrade.skipReset3,InfinityUpgrade.skipResetGalaxy]]},allColumnUpgrades(){return this.grid.flat()},disChargeClassObject(){return{"o-primary-btn--subtab-option":!0,"o-primary-btn--charged-respec-active":this.disCharge}},offlineIpUpgrade:()=>InfinityUpgrade.ipOffline},watch:{disCharge(t){player.celestials.ra.disCharge=t}},created(){this.on$(GAME_EVENT.INFINITY_UPGRADE_BOUGHT,()=>this.setStyleOfColumnBg()),this.on$(GAME_EVENT.INFINITY_UPGRADE_CHARGED,()=>this.setStyleOfColumnBg()),this.on$(GAME_EVENT.INFINITY_UPGRADES_DISCHARGED,()=>this.setStyleOfColumnBg()),this.setStyleOfColumnBg()},methods:{update(){this.isUseless=Pelle.isDoomed,this.chargeUnlocked=Ra.unlocks.chargedInfinityUpgrades.canBeApplied&&!Pelle.isDoomed,this.totalCharges=Ra.totalCharges,this.chargesUsed=Ra.totalCharges-Ra.chargesLeft,this.disCharge=player.celestials.ra.disCharge,this.ipMultSoftCap=GameDatabase.infinity.upgrades.ipMult.costIncreaseThreshold,this.ipMultHardCap=GameDatabase.infinity.upgrades.ipMult.costCap,this.eternityUnlocked=PlayerProgress.current.isEternityUnlocked,this.bottomRowUnlocked=Achievement(41).isUnlocked},btnClassObject(t){const e={"l-infinity-upgrade-grid__cell":!0};return t>0&&(e[`o-infinity-upgrade-btn--color-${t+1}`]=!0),e},getColumnColor(t){return t.isCharged?"var(--color-teresa--base)":t.isBought?"var(--color-infinity)":"transparent"},setStyleOfColumnBg(){this.styleOfColumnBg=this.grid.map(t=>({background:`linear-gradient(to bottom,
          ${this.getColumnColor(t[0])} 15%,
          ${this.getColumnColor(t[1])} 35% 40%,
          ${this.getColumnColor(t[2])} 60% 65%,
          ${this.getColumnColor(t[3])} 85% 100%`}))}}};var UHe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-infinity-upgrades-tab"},[e.chargeUnlocked?i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{class:e.disChargeClassObject,on:{click:function(n){e.disCharge=!e.disCharge}}},[e._v(" Respec Charged Infinity Upgrades on next Reality ")])],1):e._e(),e.chargeUnlocked?i("div",[e._v(" You have charged "+e._s(e.formatInt(e.chargesUsed))+"/"+e._s(e.formatInt(e.totalCharges))+" Infinity Upgrades. Charged Infinity Upgrades have their effect altered. "),i("br"),e._v(" Hold shift to show Charged Infinity Upgrades. You can freely respec your choices on Reality. ")]):e._e(),e.isUseless?i("div",[e._v(" You cannot Charge Infinity Upgrades while Doomed. ")]):e._e(),i("br"),e._v(" Within each column, the upgrades must be purchased from top to bottom. "),i("br"),i("div",{staticClass:"l-infinity-upgrade-grid l-infinity-upgrades-tab__grid"},e._l(e.grid,function(n,r){return i("div",{key:r,staticClass:"c-infinity-upgrade-grid__column"},[e._l(n,function(a){return i("InfinityUpgradeButton",{key:a.id,class:e.btnClassObject(r),attrs:{upgrade:a}})}),i("div",{staticClass:"c-infinity-upgrade-grid__column--background",style:e.styleOfColumnBg[r]})],2)}),0),e.bottomRowUnlocked?i("div",{staticClass:"l-infinity-upgrades-bottom-row"},[i("IpMultiplierButton",{staticClass:"l-infinity-upgrades-tab__mult-btn"}),i("InfinityUpgradeButton",{class:e.btnClassObject(1),attrs:{upgrade:e.offlineIpUpgrade}})],1):e._e(),e.eternityUnlocked&&e.bottomRowUnlocked?i("div",[e._v(" The Infinity Point multiplier becomes more expensive "),i("br"),e._v(" above "+e._s(e.formatPostBreak(e.ipMultSoftCap))+" Infinity Points, and cannot be purchased past "+e._s(e.formatPostBreak(e.ipMultHardCap))+" Infinity Points. ")]):e._e()])},LHe=[],BHe=X(GHe,UHe,LHe,!1,null,"f1281b53");const $He=BHe.exports,FHe={name:"AnnihilationButton",data(){return{darkMatter:new Decimal(0),darkMatterMult:0,darkMatterMultGain:0,autobuyerUnlocked:!1,annihilationButtonVisible:!1,matterRequirement:0,darkMatterMultRatio:0,autoAnnihilationInput:player.auto.annihilation.multiplier,isEnabled:!0}},computed:{annihilationInputStyle(){return{"background-color":this.isEnabled?"":"var(--color-bad)"}}},methods:{update(){this.darkMatter.copyFrom(Currency.darkMatter),this.darkMatterMult=Laitela.darkMatterMult,this.darkMatterMultGain=Laitela.darkMatterMultGain,this.autobuyerUnlocked=Autobuyer.annihilation.isUnlocked,this.annihilationButtonVisible=Laitela.canAnnihilate||this.autobuyerUnlocked,this.matterRequirement=Laitela.annihilationDMRequirement,this.darkMatterMultRatio=Laitela.darkMatterMultRatio,this.isEnabled=player.auto.annihilation.isActive},annihilate(){Laitela.annihilate()},handleAutoAnnihilationInputChange(){const t=parseFloat(this.autoAnnihilationInput);isNaN(t)?this.autoAnnihilationInput=player.auto.annihilation.multiplier:player.auto.annihilation.multiplier=t}}};var HHe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-laitela-annihilation-container"},[e.darkMatter.lt(e.matterRequirement)?i("button",{staticClass:"l-laitela-annihilation-button"},[e._v(" Annihilation requires "+e._s(e.format(e.matterRequirement,2))+" Dark Matter ")]):i("button",{staticClass:"l-laitela-annihilation-button c-laitela-annihilation-button",on:{click:e.annihilate}},[i("b",[e._v("Annihilate your Dark Matter Dimensions")])]),i("br"),i("br"),e.darkMatterMult>1?i("span",[e._v(" Current multiplier to all Dark Matter Dimensions: "),i("b",[e._v(e._s(e.formatX(e.darkMatterMult,2,2)))]),i("br"),i("br"),e._v(" Annihilation will reset your Dark Matter and Dark Matter Dimension amounts, but also add "),i("b",[e._v("+"+e._s(e.format(e.darkMatterMultGain,2,2)))]),e._v(" to your Annihilation multiplier. "),i("br"),e._v(" ("),i("b",[e._v(e._s(e.formatX(e.darkMatterMultRatio,2,2)))]),e._v(" from previous multiplier) "),e.autobuyerUnlocked?i("span",[i("br"),i("br"),e._v(" Auto-Annihilate when adding "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoAnnihilationInput,expression:"autoAnnihilationInput"}],staticClass:"c-small-autobuyer-input c-laitela-annihilation-input",style:e.annihilationInputStyle,attrs:{type:"text"},domProps:{value:e.autoAnnihilationInput},on:{change:function(n){return e.handleAutoAnnihilationInputChange()},input:function(n){n.target.composing||(e.autoAnnihilationInput=n.target.value)}}}),e._v(" to the multiplier. ")]):e._e()]):i("span",[e._v(" Annihilation will reset your Dark Matter and Dark Matter Dimension amounts, but will give a permanent multiplier of "),i("b",[e._v(e._s(e.formatX(1+e.darkMatterMultGain,2,2)))]),e._v(" to all Dark Matter Dimensions. ")])])},VHe=[],YHe=X(FHe,HHe,VHe,!1,null,null);const qHe=YHe.exports,WHe={name:"DarkMatterDimensionRow",props:{tier:{type:Number,required:!0}},data(){return{isUnlocked:!1,ascension:0,hasAscended:!1,powerDMPerAscension:0,interval:0,powerDM:new Decimal(0),powerDE:0,intervalCost:0,powerDMCost:0,powerDECost:0,amount:new Decimal(0),canBuyInterval:!1,canBuyPowerDM:!1,canBuyPowerDE:!1,isIntervalCapped:!1,timer:0,timerPecent:0,intervalAscensionBump:1e4,intervalAfterAscension:0,darkEnergyPerSecond:0,portionDE:0,productionPerSecond:new Decimal(0),percentPerSecond:0,hoverOverAscension:!1}},computed:{name(){return`${DarkMatterDimension(this.tier).shortDisplayName} Dark Matter Dimension`},ascensionText(){return`(⯅${formatInt(this.ascension)})`},intervalClassObject(){return{"o-dark-matter-dimension-button":!0,"o-dark-matter-dimension-button--available":this.canBuyInterval,"o-dark-matter-dimension-button--ascend":this.isIntervalCapped}},darkMatterClassObject(){return{"o-dark-matter-dimension-button":!0,"o-dark-matter-dimension-button--available":this.hoverOverAscension||this.canBuyPowerDM,"o-dark-matter-dimension-button--accent":this.hoverOverAscension}},darkEnergyClassObject(){return{"o-dark-matter-dimension-button":!0,"o-dark-matter-dimension-button--available":this.hoverOverAscension||this.canBuyPowerDE,"o-dark-matter-dimension-button--accent":this.hoverOverAscension}},intervalText(){const t=this.hoverOverAscension?this.intervalAfterAscension:this.interval,e=t>1e3?`${format(t/1e3,2,2)}s`:`${format(t,2,2)}ms`,i=this.hoverOverAscension?`<b>${e}</b>`:e;let n;return this.isIntervalCapped?n=this.hoverOverAscension?"On ascend ➜":"Ascend!":n=`Cost: ${this.formatDMCost(this.intervalCost)} DM`,` ${i}<br>${n}`},darkMatterText(){const t=this.powerDM.times(this.hoverOverAscension?this.powerDMPerAscension:1),e=`DM ${formatX(t,2,2)}`,i=this.hoverOverAscension?`<b>${e}</b>`:e,n=this.powerDMPerAscension*this.interval/this.intervalAfterAscension,r=this.hoverOverAscension?`${formatX(n,2,2)} / sec`:`Cost: ${this.formatDMCost(this.powerDMCost)} DM`;return`${i}<br>${r}`},darkEnergyText(){const t=this.powerDE*(this.hoverOverAscension?POWER_DE_PER_ASCENSION:1),e=`DE +${format(t,2,4)}`,i=this.hoverOverAscension?`<b>${e}</b>`:e,n=POWER_DE_PER_ASCENSION*this.interval/this.intervalAfterAscension,r=this.hoverOverAscension?`${formatX(n,2,2)} / sec`:`Cost: ${this.formatDMCost(this.powerDECost)} DM`;return`${i}<br>${r}`},ascensionTooltip(){return`Interval is capped at ${formatInt(DarkMatterDimension(this.tier).intervalPurchaseCap)}ms.
        Ascension multiplies interval by ${formatInt(this.intervalAscensionBump)},
        DM by ${formatInt(this.powerDMPerAscension)}, and DE by ${formatInt(POWER_DE_PER_ASCENSION)}.`}},methods:{update(){const t=DarkMatterDimension(this.tier);this.isUnlocked=t.isUnlocked,this.ascension=t.ascensions,this.hasAscended=this.ascension>0,this.powerDMPerAscension=t.powerDMPerAscension,this.interval=t.interval,this.powerDM.copyFrom(t.powerDM),this.powerDE=t.powerDE,this.intervalCost=t.intervalCost,this.powerDMCost=t.powerDMCost,this.powerDECost=t.powerDECost,this.amount.copyFrom(t.amount),this.canBuyInterval=t.canBuyInterval,this.canBuyPowerDM=t.canBuyPowerDM,this.canBuyPowerDE=t.canBuyPowerDE,this.isIntervalCapped=t.interval<=t.intervalPurchaseCap,this.timer=t.timeSinceLastUpdate,this.timerPercent=this.timer/this.interval,this.intervalAscensionBump=SingularityMilestone.ascensionIntervalScaling.effectOrDefault(1200),this.intervalAfterAscension=t.intervalAfterAscension,this.darkEnergyPerSecond=t.productionPerSecond,this.portionDE=this.darkEnergyPerSecond/Currency.darkEnergy.productionPerSecond,this.productionPerSecond=this.dimensionProduction(this.tier),this.percentPerSecond=Decimal.divide(this.productionPerSecond,this.amount).toNumber(),this.isIntervalCapped||(this.hoverOverAscension=!1)},handleIntervalClick(){this.isIntervalCapped?DarkMatterDimension(this.tier).ascend():DarkMatterDimension(this.tier).buyInterval()},buyPowerDM(){DarkMatterDimension(this.tier).buyPowerDM()},buyPowerDE(){DarkMatterDimension(this.tier).buyPowerDE()},formatDMCost(t){return t.gt(Number.MAX_VALUE)?Notations.current.infinite:format(t,2)},dimensionProduction(t){if(t===4)return SingularityMilestone.dim4Generation.effectOrDefault(0);const e=DarkMatterDimension(t+1);return e.amount.times(e.powerDM).divide(e.interval).times(1e3)},hoverState(t){this.isIntervalCapped&&(this.hoverOverAscension=t)}}};var jHe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("div",{staticClass:"c-dark-matter-dimension-container"},[i("div",{staticClass:"o-dark-matter-dimension-amount"},[e._v(" "+e._s(e.name)),e.hasAscended?i("span",[e._v(" "+e._s(e.ascensionText))]):e._e(),e._v(": "+e._s(e.format(e.amount,2))+" ")]),i("div",[e._v(" Average gain: "+e._s(e.format(e.productionPerSecond,2,2))+"/s (+"+e._s(e.formatPercents(e.percentPerSecond,2,2))+"/s) ")]),i("div",{staticClass:"c-dark-matter-dimension-buttons"},[i("button",{class:e.intervalClassObject,on:{click:e.handleIntervalClick,mouseover:function(n){return e.hoverState(!0)},mouseleave:function(n){return e.hoverState(!1)}}},[e.isIntervalCapped?i("span",{attrs:{"ach-tooltip":e.ascensionTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]):e._e(),i("span",{domProps:{innerHTML:e._s(e.intervalText)}})]),i("button",{class:e.darkMatterClassObject,on:{click:e.buyPowerDM}},[i("span",{domProps:{innerHTML:e._s(e.darkMatterText)}})]),i("button",{class:e.darkEnergyClassObject,on:{click:e.buyPowerDE}},[i("span",{domProps:{innerHTML:e._s(e.darkEnergyText)}})])]),e.interval>200?i("div",[e._v(" Tick: "+e._s(e.formatInt(e.timer))+" ms ("+e._s(e.formatPercents(e.timerPercent,1))+") ")]):i("div",[e._v(" "+e._s(e.format(1e3/e.interval,2,2))+" ticks / sec ")]),i("div",[e._v(" Dark Energy: "+e._s(e.format(e.darkEnergyPerSecond,2,4))+"/s ("+e._s(e.formatPercents(e.portionDE,1))+" of total) ")])]):e._e()},zHe=[],XHe=X(WHe,jHe,zHe,!1,null,null);const KHe=XHe.exports,ZHe={name:"DarkMatterDimensionGroup",components:{DarkMatterDimensionRow:KHe}};var QHe=function(){var e=this,i=e._self._c;return i("span",e._l(4,function(n){return i("DarkMatterDimensionRow",{key:n,attrs:{tier:n}})}),1)},JHe=[],e6e=X(ZHe,QHe,JHe,!1,null,null);const t6e=e6e.exports,i6e={name:"LaitelaAutobuyerPane",components:{PrimaryToggleButton:ln},data(){return{hasDimension:!1,hasAscension:!1,hasSingularity:!1,hasAnnihilated:!1,dimension:!1,ascension:!1,singularity:!1,annihilation:!1,maxAutobuy:0,maxAutoAscend:0,autoSingularityFactor:0}},computed:{autobuyStr(){return this.maxAutobuy===4?"ON (all DMD)":`ON (max. DMD ${this.maxAutobuy})`},autoAscendStr(){return this.maxAutoAscend===4?"ON (all DMD)":`ON (max. DMD ${this.maxAutoAscend})`},autoSingularityStr(){return this.autoSingularityFactor===1?"At Cap":`Cap ${formatX(this.autoSingularityFactor,2,2)}`}},watch:{dimension(t){player.auto.darkMatterDims.isActive=t},ascension(t){player.auto.ascension.isActive=t},singularity(t){player.auto.singularity.isActive=t},annihilation(t){player.auto.annihilation.isActive=t}},methods:{update(){this.hasDimension=Autobuyer.darkMatterDims.isUnlocked,this.hasAscension=Autobuyer.darkMatterDimsAscension.isUnlocked,this.hasSingularity=Autobuyer.singularity.isUnlocked,this.hasAnnihilated=Autobuyer.annihilation.isUnlocked;const t=player.auto;this.dimension=t.darkMatterDims.isActive,this.ascension=t.ascension.isActive,this.singularity=t.singularity.isActive,this.annihilation=t.annihilation.isActive,this.maxAutobuy=SingularityMilestone.darkDimensionAutobuyers.effectValue,this.maxAutoAscend=SingularityMilestone.ascensionAutobuyers.effectValue,this.autoSingularityFactor=SingularityMilestone.autoCondense.effectValue}}};var n6e=function(){var e=this,i=e._self._c;return e.hasDimension||e.hasAscension||e.hasSingularity||e.hasAnnihilated?i("div",{staticClass:"c-laitela-singularity-container"},[e.hasDimension?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Auto-buy DMD:",on:e.autobuyStr},model:{value:e.dimension,callback:function(n){e.dimension=n},expression:"dimension"}}):e._e(),e.hasAscension?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Auto-Ascend:",on:e.autoAscendStr},model:{value:e.ascension,callback:function(n){e.ascension=n},expression:"ascension"}}):e._e(),e.hasSingularity?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Auto-Singularity:",on:e.autoSingularityStr},model:{value:e.singularity,callback:function(n){e.singularity=n},expression:"singularity"}}):e._e(),e.hasAnnihilated?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Auto-Annihilation:"},model:{value:e.annihilation,callback:function(n){e.annihilation=n},expression:"annihilation"}}):e._e()],1):e._e()},r6e=[],a6e=X(i6e,n6e,r6e,!1,null,null);const s6e=a6e.exports,o6e={name:"LaitelaRunButton",components:{GlyphSetPreview:Yf},data(){return{realityTime:0,maxDimTier:0,isRunning:!1,realityReward:1,singularitiesUnlocked:!1,bestSet:[],tierNotCompleted:!0}},computed:{completionTime(){return this.tierNotCompleted?"Not completed at this tier":`Fastest Completion: ${TimeSpan.fromSeconds(this.realityTime).toStringShort()}`},runEffects(){return GameDatabase.celestials.descriptions[5].effects().split(`
`)},runDescription(){return GameDatabase.celestials.descriptions[5].description()},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.realityTime=player.celestials.laitela.fastestCompletion,this.maxDimTier=Laitela.maxAllowedDimension,this.realityReward=Laitela.realityReward,this.isRunning=Laitela.isRunning,this.singularitiesUnlocked=Currency.singularities.gt(0),this.bestSet=Glyphs.copyForRecords(player.records.bestReality.laitelaSet),this.tierNotCompleted=this.realityTime===3600||this.realityTime===300&&this.maxDimTier<8},startRun(){this.isDoomed||Modal.celestials.show({name:"Lai'tela's",number:5})},classObject(){return{"o-laitela-run-button":!0,"o-laitela-run-button--large":!this.singularitiesUnlocked}},runButtonClassObject(){return{"o-laitela-run-button__icon":!0,"o-laitela-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}}}};var l6e=function(){var e=this,i=e._self._c;return i("button",{class:e.classObject()},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[i("b",[e._v("Start Lai'tela's Reality")])]),i("div",{class:e.runButtonClassObject(),on:{click:e.startRun}}),e.realityReward>1?i("div",[i("b",[e._v(" All Dark Matter multipliers are "+e._s(e.formatX(e.realityReward,2,2))+" higher. ")]),e.maxDimTier>0?i("span",[i("br"),i("br"),e._v(" "+e._s(e.completionTime)+" "),i("br"),e.maxDimTier<=7?i("span",[i("b",[e._v("Highest active dimension: "+e._s(e.formatInt(e.maxDimTier)))])]):e._e(),i("br"),i("br"),e._v(" Glyph Set: "),i("GlyphSetPreview",{attrs:{text:"Fastest Destabilization Glyph Set","text-hidden":!0,"force-name-color":!1,glyphs:e.bestSet}})],1):i("span",[i("br"),i("b",[e._v(" You also gain an additional "+e._s(e.formatX(8))+" Dark Energy. ")]),i("br"),i("br"),e._v(" Lai'tela's Reality has been fully destabilized and cannot have its reward further improved. ")]),i("br")]):e._e(),e._l(e.runEffects,function(n,r){return i("div",{key:r+"-laitela-run-desc"+e.maxDimTier},[e._v(" "+e._s(n)+" "),i("br")])}),i("br"),i("div",[e._v(e._s(e.runDescription))])],2)},c6e=[],u6e=X(o6e,l6e,c6e,!1,null,null);const d6e=u6e.exports,h6e={name:"SingularityMilestonePane",components:{SingularityMilestoneComponent:h3},data(){return{milestones:[],hasNew:!1,shouldGlow:!1}},computed:{classObject(){return{"o-dark-matter-dimension-button--ascend":this.hasNew&&this.shouldGlow}}},methods:{update(){this.milestones=SingularityMilestones.nextMilestoneGroup,this.hasNew=SingularityMilestones.unseenMilestones.length!==0,this.shouldGlow=player.celestials.laitela.milestoneGlow}}};var f6e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-laitela-next-milestones"},[i("div",{staticClass:"o-laitela-singularity-modal-button",class:e.classObject,attrs:{onclick:"Modal.singularityMilestones.show()"}},[e._v(" Show all milestones ")]),e._l(e.milestones,function(n){return i("SingularityMilestoneComponent",{key:n.id,attrs:{milestone:n,"suppress-glow":!0}})})],2)},p6e=[],m6e=X(h6e,f6e,p6e,!1,null,null);const y6e=m6e.exports,g6e={name:"SingularityPane",data(){return{darkEnergy:0,darkEnergyGainPerSecond:0,singularities:0,singularityCapIncreases:0,canPerformSingularity:!1,unlockedBulkSingularity:!1,singularityCap:0,baseTimeToSingularity:0,currentTimeToSingularity:0,extraTimeAfterSingularity:0,singularitiesGained:0,autoSingularityFactor:0,perStepFactor:0,isAutoEnabled:!1,hasAutoSingularity:!1,nextLowerStep:0,willCondenseOnDecrease:!1}},computed:{isDoomed:()=>Pelle.isDoomed,singularityFormText(){const t=this.singularitiesGained===1?"all Dark Energy into a Singularity":`all Dark Energy into ${quantify("Singularity",this.singularitiesGained,2)}`;return this.canPerformSingularity?`Condense ${t}`:`Reach ${format(this.singularityCap)} Dark Energy to condense ${t}`},singularityWaitText(){let t=this.currentTimeToSingularity;return this.canPerformSingularity?(t+=this.extraTimeAfterSingularity,this.isAutoEnabled?t>0?`(Auto-condensing in ${TimeSpan.fromSeconds(t).toStringShort()})`:"(Will immediately auto-condense)":""):`(Enough Dark Energy in ${TimeSpan.fromSeconds(t).toStringShort()})`},baseSingularityTime(){return TimeSpan.fromSeconds(this.baseTimeToSingularity).toStringShort()},additionalSingularityTime(){return TimeSpan.fromSeconds(this.extraTimeAfterSingularity).toStringShort()},manualSingularityRate(){const t=this.baseTimeToSingularity;return this.formatRate(this.singularitiesGained/t)},autoSingularityRate(){if(this.hasAutoSingularity&&!this.isAutoEnabled)return"Auto-Singularity is OFF";const t=this.baseTimeToSingularity+this.extraTimeAfterSingularity;return this.formatRate(this.singularitiesGained/t)},decreaseTooltip(){if(this.singularityCapIncreases===0)return"You cannot decrease the cap any further!";const t=this.singularitiesGained/this.perStepFactor;return this.willCondenseOnDecrease?`Decreasing the cap will immediately auto-condense for
          ${quantify("Singularity",t,2)}!`:null},increaseTooltip(){return this.singularityCapIncreases>=50?"You cannot increase the cap any further!":null}},methods:{update(){const t=player.celestials.laitela;this.darkEnergy=Currency.darkEnergy.value,this.darkEnergyGainPerSecond=Currency.darkEnergy.productionPerSecond,this.singularities=Currency.singularities.value,this.singularityCapIncreases=t.singularityCapIncreases,this.canPerformSingularity=Singularity.capIsReached,this.unlockedBulkSingularity=Currency.singularities.gte(10),this.singularityCap=Singularity.cap,this.baseTimeToSingularity=Singularity.timePerCondense,this.currentTimeToSingularity=Singularity.timeUntilCap,this.extraTimeAfterSingularity=Singularity.timeDelayFromAuto,this.singularitiesGained=Singularity.singularitiesGained,this.autoSingularityFactor=SingularityMilestone.autoCondense.effectOrDefault(1/0),this.perStepFactor=Singularity.gainPerCapIncrease,this.isAutoEnabled=player.auto.singularity.isActive&&SingularityMilestone.autoCondense.canBeApplied,this.hasAutoSingularity=Number.isFinite(this.autoSingularityFactor),this.nextLowerStep=this.singularityCap*this.autoSingularityFactor/10,this.willCondenseOnDecrease=this.isAutoEnabled&&this.darkEnergy>this.nextLowerStep},doSingularity(){Singularity.perform()},increaseCap(){Singularity.increaseCap()},decreaseCap(){Singularity.decreaseCap()},formatRate(t){return t<1/60?`${format(3600*t,2,3)} per hour`:t<1?`${format(60*t,2,3)} per minute`:`${format(t,2,3)} per second`},condenseClassObject(){return{"c-laitela-singularity":!0,"c-laitela-singularity--active":this.canPerformSingularity&&!this.isDoomed,"o-pelle-disabled":this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}}}};var v6e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-laitela-singularity-container"},[i("div",[i("h2",[e._v(" You have "+e._s(e.quantify("Singularity",e.singularities,2))+" ")]),i("button",{class:e.condenseClassObject(),on:{click:e.doSingularity}},[i("h2",[e._v(" "+e._s(e.singularityFormText)+" ")]),e.singularityWaitText!==""?i("br"):e._e(),i("h2",[e._v(" "+e._s(e.singularityWaitText)+" ")])])]),e.singularities!==0?i("div",[i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" You have "+e._s(e.format(e.darkEnergy,2,4))+" Dark Energy. (+"+e._s(e.format(e.darkEnergyGainPerSecond,2,4))+"/s) ")]),e.unlockedBulkSingularity?i("div",[i("button",{staticClass:"c-laitela-singularity__cap-control",class:{"c-laitela-singularity__cap-control--available":e.singularityCapIncreases>0},attrs:{"ach-tooltip":e.decreaseTooltip},on:{click:e.decreaseCap}},[e._v(" Decrease Singularity cap. ")]),i("button",{staticClass:"c-laitela-singularity__cap-control",class:{"c-laitela-singularity__cap-control--available":e.singularityCapIncreases<50},attrs:{"ach-tooltip":e.increaseTooltip},on:{click:e.increaseCap}},[e._v(" Increase Singularity cap. ")]),i("br"),e._v(" Each step increases the required Dark Energy by "+e._s(e.formatX(10))+", "),i("br"),e._v(" but also increases gained Singularities by "+e._s(e.formatX(e.perStepFactor))+". ")]):i("div",[i("br"),e._v(" Reach "+e._s(e.format(10))+" Singularities "),i("br"),e._v(" to unlock Bulk Singularities. "),i("br")]),i("br"),e._v(" Total time to "),e.hasAutoSingularity?i("span",[e._v("(auto-)")]):e._e(),e._v("condense: "+e._s(e.baseSingularityTime)+" "),e.hasAutoSingularity&&e.autoSingularityFactor!==1?i("span",[e._v(" (+"+e._s(e.additionalSingularityTime)+") ")]):e._e(),i("br"),e.hasAutoSingularity&&e.autoSingularityFactor!==1?i("span",[e._v("Manual ")]):e._e(),e._v(" Singularity gain rate: "+e._s(e.manualSingularityRate)+" "),i("br"),e.hasAutoSingularity&&e.autoSingularityFactor!==1?i("span",[e._v(" Automatic Singularity gain rate: "+e._s(e.autoSingularityRate)+" ")]):e._e()]):e._e()])},b6e=[],_6e=X(g6e,v6e,b6e,!1,null,"90379505");const w6e=_6e.exports,E6e={name:"LaitelaTab",components:{LaitelaRunButton:d6e,SingularityPane:w6e,SingularityMilestonePane:y6e,DarkMatterDimensionGroup:t6e,AnnihilationButton:qHe,LaitelaAutobuyerPane:s6e,CelestialQuoteHistory:Xf,PrimaryButton:mt},data(){return{isDoomed:!1,darkMatter:new Decimal(0),darkMatterGain:new Decimal(0),isDMCapped:!1,maxDarkMatter:new Decimal(0),darkEnergy:0,matterExtraPurchasePercentage:0,autobuyersUnlocked:!1,singularityPanelVisible:!1,singularitiesUnlocked:!1,singularityCap:0,singularityWaitTime:0,showAnnihilation:!1}},computed:{styleObject(){return{color:this.isDMCapped?"var(--color-bad)":""}}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.darkMatter.copyFrom(Currency.darkMatter),this.isDMCapped=this.darkMatter.eq(Number.MAX_VALUE),this.maxDarkMatter.copyFrom(Currency.darkMatter.max),this.darkEnergy=player.celestials.laitela.darkEnergy,this.matterExtraPurchasePercentage=Laitela.matterExtraPurchaseFactor-1,this.autobuyersUnlocked=SingularityMilestone.darkDimensionAutobuyers.canBeApplied||SingularityMilestone.darkDimensionAutobuyers.canBeApplied||SingularityMilestone.autoCondense.canBeApplied||Laitela.darkMatterMult>1,this.singularityPanelVisible=Currency.singularities.gt(0),this.singularitiesUnlocked=Singularity.capIsReached||this.singularityPanelVisible,this.singularityCap=Singularity.cap,this.singularityWaitTime=TimeSpan.fromSeconds((this.singularityCap-this.darkEnergy)/Currency.darkEnergy.productionPerSecond).toStringShort(),this.showAnnihilation=Laitela.annihilationUnlocked;const t=DarkMatterDimension(1);this.darkMatterGain=t.amount.times(t.powerDM).divide(t.interval).times(1e3)},maxAll(){Laitela.maxAllDMDimensions(4)},showLaitelaHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter(t=>t.name==="Lai'tela")[0],Modal.h2p.show()}}};var T6e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-laitela-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"laitela"}}),i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(n){return e.showLaitelaHowTo()}}},[e._v(" Click for Lai'tela info ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Max all Dark Matter Dimensions ")])],1),i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" You have "),i("span",{style:e.styleObject},[e._v(e._s(e.format(e.darkMatter,2)))]),e._v(" Dark Matter"),e.isDMCapped?i("span",[e._v(" (capped)")]):e._e(),e._v(". "),e.isDMCapped?e._e():i("span",[e._v("(Average: "+e._s(e.format(e.darkMatterGain,2,2))+"/s)")])]),i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" Your maximum Dark Matter ever is "),i("span",{style:e.styleObject},[e._v(e._s(e.format(e.maxDarkMatter,2)))]),e.isDoomed?e._e():i("span",[e._v(", giving "+e._s(e.formatPercents(e.matterExtraPurchasePercentage,2))+" more purchases from Continuum")]),e._v(". ")]),i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" Dark Matter Dimensions are unaffected by storing real time. ")]),e.singularitiesUnlocked?e._e():i("h2",{staticClass:"c-laitela-singularity-container"},[e._v(" Unlock Singularities in "+e._s(e.singularityWaitTime)+". ("+e._s(e.format(e.darkEnergy,2,2))+"/"+e._s(e.format(e.singularityCap,2))+" Dark Energy) ")]),e.singularitiesUnlocked?i("SingularityPane"):e._e(),e.autobuyersUnlocked?i("LaitelaAutobuyerPane"):e._e(),i("div",{staticClass:"l-laitela-mechanics-container"},[i("LaitelaRunButton"),i("div",[i("DarkMatterDimensionGroup"),e.showAnnihilation?i("AnnihilationButton"):e._e()],1),e.singularityPanelVisible?i("SingularityMilestonePane"):e._e()],1)],1)},C6e=[],k6e=X(E6e,T6e,C6e,!1,null,null);const S6e=k6e.exports;class H5{constructor(e){this.key=e;const i=this.key.split("_"),n=GameDatabase.multiplierTabValues[i[0]][i[1]],r=i.length>=3?i.slice(2).map(a=>a.match("^\\d+$")?Number(a):a):[];this._name=zo(n.name,r),this._multValue=zo(n.multValue,r),this._powValue=zo(n.powValue,r),this._dilationEffect=zo(n.dilationEffect,r),this._isActive=zo(n.isActive,r),this._fakeValue=zo(n.fakeValue,r),this._icon=zo(n.icon,r),this._displayOverride=zo(n.displayOverride,r),this._isDilated=zo(n.isDilated,r),this._isBase=zo(n.isBase,r),this._ignoresNerfPowers=zo(n.ignoresNerfPowers,r),this.data=Cn.observable({mult:new Decimal(0),pow:0,isVisible:!1,lastVisibleAt:0})}update(){const e=this.isVisible;this.data.mult.fromDecimal(e?this.mult:DC.D1),this.data.pow=e?this.pow:1,this.data.isVisible=e,e&&(this.data.lastVisibleAt=Date.now())}get name(){return this._name()}get mult(){return new Decimal(this._multValue()??1)}get pow(){return this._powValue()??1}get dilationEffect(){return this._dilationEffect()??1}get isActive(){return this._isActive()??!1}get fakeValue(){return this._fakeValue()}get icon(){return this._icon()}get displayOverride(){return this._displayOverride()}get isDilated(){return this._isDilated()}get isBase(){return this._isBase()}get ignoresNerfPowers(){return this._ignoresNerfPowers()??!1}get isVisible(){return this.isActive&&(this.pow!==1||this.mult.neq(1))}}function zo(t,e){return typeof t=="function"?()=>t(...e):()=>t}const O2=new Map;function V5(t){const e=O2.get(t);if(e!==void 0)return e;const i=new H5(t);return O2.set(t,i),i}class A6e{constructor(e){this.entries=e.map(i=>V5(i))}get hasVisibleEntries(){const e=this.entries.filter(i=>i.isActive&&(i.mult.neq(1)||i.pow!==1));return e.length>1||e.length===1&&e[0].key.startsWith("general")}}const N2=new Map;function G2(t){const e=N2.get(t);if(e!==void 0)return e;const i=GameDatabase.multiplierTabTree[t],n=i===void 0?[]:i.map(r=>new A6e(r));return N2.set(t,n),n}const x6e=10;class D6e{constructor(){this.dataPoints=[]}add(e){this.dataPoints.push(e),this.dataPoints.length>x6e&&this.dataPoints.shift()}get average(){const e=this.dataPoints.filter(r=>r!==void 0);if(e.length===0)return[];const i=[],n=e[0];for(let r=0;r<n.length;r++)i[r]=e.map(a=>a[r]).sum()/e.length;return i}clear(){this.dataPoints=[]}}const U2=["IP_base","EP_base","TP_base"];function L2(t){return t.padStart(7," ")}const I6e={name:"MultiplierBreakdownEntry",components:{PrimaryToggleButton:ln},props:{resource:{type:H5,required:!0},isRoot:{type:Boolean,required:!1,default:!1}},data(){return{selected:0,percentList:[],averagedPercentList:[],showGroup:[],hadChildEntriesAt:[],mouseoverIndex:-1,lastNotEmptyAt:0,dilationExponent:1,isDilated:!1,lastLayoutChange:Date.now(),now:Date.now(),totalMultiplier:DC.D1,totalPositivePower:1,replacePowers:player.options.multiplierTab.replacePowers,inNC12:!1}},computed:{groups(){return G2(this.resource.key)},entries(){return this.groups[this.selected].entries},rollingAverage(){return new D6e},containerClass(){return{"c-multiplier-entry-container":!0,"c-multiplier-entry-root-container":this.isRoot}},isEmpty(){return!this.isRecent(this.lastNotEmptyAt)},disabledText(){return this.resource.isBase?Decimal.eq(this.resource.mult,0)?"You cannot gain this resource (prestige requirement not reached)":`You have no multipliers for this resource (will gain ${format(1)} on prestige)`:`Total effect inactive, disabled, or reduced to ${formatX(1)}`},hasSeenPowers(){return InfinityChallenge(4).isCompleted||PlayerProgress.eternityUnlocked()},allowPowerToggle(){return!["AD_infinityPower","galaxies","tickspeed"].some(e=>this.resource.key.startsWith(e))}},watch:{replacePowers(t){player.options.multiplierTab.replacePowers=t}},created(){this.groups.length>1&&player.options.multiplierTab.showAltGroup&&this.changeGroup()},methods:{update(){for(let t=0;t<this.entries.length;t++){const e=this.entries[t];e.update(),G2(e.key).some(n=>n.hasVisibleEntries)&&(this.hadChildEntriesAt[t]=Date.now())}this.dilationExponent=this.resource.dilationEffect,this.isDilated=this.dilationExponent!==1,this.calculatePercents(),this.now=Date.now(),this.replacePowers=player.options.multiplierTab.replacePowers&&this.allowPowerToggle,this.inNC12=NormalChallenge(12).isRunning},changeGroup(){this.selected=(this.selected+1)%this.groups.length,player.options.multiplierTab.showAltGroup=this.selected===1,this.showGroup=Array.repeat(!1,this.entries.length),this.hadChildEntriesAt=Array.repeat(0,this.entries.length),this.lastLayoutChange=Date.now(),this.rollingAverage.clear(),this.update()},calculatePercents(){const t=this.entries.map(c=>c.data.pow),e=t.filter(c=>c>1).reduce((c,d)=>c*d,1),i=t.filter(c=>c<1).reduce((c,d)=>c*d,1),n=(this.resource.fakeValue??this.resource.mult).log10()/e,r=n===0;r||(this.lastNotEmptyAt=Date.now());let a=[];for(const c of this.entries){const d=n===0?0:Decimal.log10(c.data.mult)/n,p=e===1?0:Math.log(c.data.pow)/Math.log(e),m=c.data.pow>=1?d/e+p*(1-1/e):Math.log(c.data.pow)/Math.log(i)*(i-1);a.push([c.ignoresNerfPowers,U2.includes(c.key)?Math.clampMin(m,1e-4):m])}const s=a.filter(c=>c[1]>0).map(c=>c[1]).sum(),o=a.filter(c=>c[1]>0).reduce((c,d)=>c+(d[0]?d[1]:d[1]*i),0);a=a.map(c=>c[1]>0?(c[0]?c[1]:c[1]*i)/o:Math.clampMin(c[1]*(s-o)/s/i,-1)),this.percentList=a,this.rollingAverage.add(r?void 0:a),this.averagedPercentList=this.rollingAverage.average,this.totalMultiplier=Decimal.pow10(n),this.totalPositivePower=e},styleObject(t){const e=this.averagedPercentList.sum(),i=this.averagedPercentList[t]<0,n=this.entries[t].icon,r=this.averagedPercentList[t],a=s=>s>0?s*e:-s;return{position:"absolute",top:`${100*this.averagedPercentList.slice(0,t).map(s=>a(s)).sum()}%`,height:`${100*a(r)}%`,width:"100%","transition-duration":this.isRecent(this.lastLayoutChange)?void 0:"0.2s",border:r===0?"":"0.1rem solid var(--color-text)",color:(n==null?void 0:n.textColor)??"black",background:i?`repeating-linear-gradient(-45deg, var(--color-bad), ${n==null?void 0:n.color} 0.8rem)`:n==null?void 0:n.color}},singleEntryClass(t){return{"c-single-entry":!0,"c-single-entry-highlight":this.mouseoverIndex===t}},shouldShowEntry(t){return t.data.isVisible||this.isRecent(t.data.lastVisibleAt)},barSymbol(t){var e;return((e=this.entries[t].icon)==null?void 0:e.symbol)??null},hasChildEntries(t){return this.isRecent(this.hadChildEntriesAt[t])},expandIcon(t){return this.showGroup[t]?"far fa-minus-square":"far fa-plus-square"},expandIconStyle(t){return{opacity:this.hasChildEntries(t)?1:0}},entryString(t){const e=this.percentList[t];if(e<0&&!U2.includes(this.entries[t].key))return this.nerfString(t);let i;e===0?i=formatPercents(0):e===1?i=formatPercents(1):e<.001?i=`<${formatPercents(.001,1)}`:e>.9995?i=`~${formatPercents(1)}`:i=formatPercents(e,1),i=L2(i);const n=this.entries[t];if(!n.data.isVisible)return`${i}: ${n.name}`;const r=n.displayOverride;let a;if(r)a=`(${r})`;else{const s=[],o=c=>{if(n.isDilated&&this.dilationExponent!==1){const p=this.applyDilationExp(c,1/this.dilationExponent);return`${formatX(p,2,2)} ➜ ${formatX(c,2,2)}`}return n.isBase?format(c,2,2):formatX(c,2,2)};if(this.replacePowers&&n.data.pow!==1){const c=Math.log(n.data.pow)/Math.log(this.totalPositivePower),d=this.totalMultiplier.pow((this.totalPositivePower-1)*c);s.push(o(n.data.mult.times(d)))}else Decimal.neq(n.data.mult,1)&&s.push(o(n.data.mult)),n.data.pow!==1&&s.push(formatPow(n.data.pow,2,3));a=s.length===0?"":`(${s.join(", ")})`}return`${i}: ${n.name} ${a}`},nerfString(t){const e=this.entries[t],i=L2(formatPercents(this.percentList[t],1)),n=e.displayOverride;let r;const a=e.isBase?s=>format(s,2,2):s=>`/${format(s.reciprocal(),2,2)}`;if(n)r=`(${n})`;else{const s=[];if(this.replacePowers&&e.data.pow!==1){const o=this.resource.fakeValue??this.resource.mult;s.push(a(o.pow(1-1/e.data.pow)))}else Decimal.neq(e.data.mult,1)&&s.push(a(e.data.mult)),e.data.pow!==1&&s.push(formatPow(e.data.pow,2,3));r=s.length===0?"":`(${s.join(", ")})`}return`${i}: ${e.name} ${r}`},totalString(){const t=this.resource,e=t.name,i=t.displayOverride;if(i)return`${e}: ${i}`;const n=t.mult;return t.isBase?`${e}: ${format(n,2,2)}`:`${e}: ${formatX(n,2,2)}`},applyDilationExp(t,e){return Decimal.pow10(t.log10()**e)},dilationString(){const t=this.resource,e=t.mult;let i,n;if(this.isDilated&&t.isDilated){const a=this.entries.filter(s=>s.isVisible&&s.isDilated).map(s=>s.mult).map(s=>this.applyDilationExp(s,1/this.dilationExponent)).reduce((s,o)=>s.times(o),DC.D1);i=a.neq(1)?a:this.applyDilationExp(e,1/this.dilationExponent),n=t.mult}else i=e,n=this.applyDilationExp(i,this.dilationExponent);const r=t.isBase?a=>format(a,2,2):a=>formatX(a,2,2);return`Dilation Effect: Exponent${formatPow(this.dilationExponent,2,3)}
        (${r(i)} ➜ ${r(n)})`},isRecent(t){return this.now-t<200}}};var R6e=function(){var e=this,i=e._self._c;return i("div",{class:e.containerClass},[e.isEmpty?e._e():i("div",{staticClass:"c-stacked-bars"},e._l(e.averagedPercentList,function(n,r){return i("div",{key:100+r,class:{"c-bar-highlight":e.mouseoverIndex===r},style:e.styleObject(r),on:{mouseover:function(a){e.mouseoverIndex=r},mouseleave:function(a){e.mouseoverIndex=-1},click:function(a){e.showGroup[r]=!e.showGroup[r]}}},[i("span",{staticClass:"c-bar-overlay",domProps:{innerHTML:e._s(e.barSymbol(r))}})])}),0),i("div"),i("div",{staticClass:"c-info-list"},[i("div",{staticClass:"c-total-mult"},[i("b",[e._v(" "+e._s(e.totalString())+" ")]),i("span",{staticClass:"c-display-settings"},[e.hasSeenPowers&&e.allowPowerToggle?i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Change Display for Power effects",expression:"'Change Display for Power effects'"}],staticClass:"o-primary-btn c-change-display-btn",attrs:{off:"^N",on:"×N"},model:{value:e.replacePowers,callback:function(n){e.replacePowers=n},expression:"replacePowers"}}):e._e(),e.groups.length>1?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Change Multiplier Grouping",expression:"'Change Multiplier Grouping'"}],staticClass:"o-primary-btn c-change-display-btn fas fa-arrows-rotate",on:{click:e.changeGroup}}):e._e()],1)]),e.isEmpty?i("div",{staticClass:"c-no-effect"},[e._v(" No Active Effects "),i("br"),i("br"),e._v(" "+e._s(e.disabledText)+" ")]):e._l(e.entries,function(n,r){return i("div",{key:n.key,on:{mouseover:function(a){e.mouseoverIndex=r},mouseleave:function(a){e.mouseoverIndex=-1}}},[e.shouldShowEntry(n)?i("div",{class:e.singleEntryClass(r)},[i("div",{on:{click:function(a){e.showGroup[r]=!e.showGroup[r]}}},[i("span",{class:e.expandIcon(r),style:e.expandIconStyle(r)}),e._v(" "+e._s(e.entryString(r))+" ")]),e.showGroup[r]&&e.hasChildEntries(r)?i("MultiplierBreakdownEntry",{attrs:{resource:n}}):e._e()],1):e._e()])}),e.isDilated&&!e.isEmpty?i("div",[i("div",{staticClass:"c-single-entry c-dilation-entry"},[i("div",[e._v(" "+e._s(e.dilationString())+" ")])])]):e._e(),e.resource.key==="AD_total"?i("div",{staticClass:"c-no-effect"},[i("div",[e._v(' "Base AD Production" is the amount of Antimatter that you would be producing with your current AD upgrades as if you had waited a fixed amount of time ('+e._s(e.formatInt(10))+"-"+e._s(e.formatInt(40))+" seconds depending on your AD count) after a Sacrifice. This may misrepresent your actual production if your ADs have been producing for a while, but the relative mismatch will become smaller as you progress further in the game and numbers become larger. ")]),e.inNC12?i("div",[e._v(" The breakdown in this tab within Normal Challenge 12 may be inaccurate for some entries, and might count extra multipliers which apply to all Antimatter Dimensions rather than just the ones which are displayed. ")]):e._e()]):e._e()],2)])},M6e=[],P6e=X(I6e,R6e,M6e,!1,null,"c8030d60");const O6e=P6e.exports,z1=[{id:0,key:"AM",text:"Antimatter Production"},{id:1,key:"tickspeed",text:"Tickspeed"},{id:2,key:"AD",text:"Antimatter Dimensions"},{id:3,key:"IP",text:"Infinity Points"},{id:4,key:"ID",text:"Infinity Dimensions"},{id:5,key:"infinities",text:"Infinities"},{id:6,key:"replicanti",text:"Replicanti Speed"},{id:7,key:"EP",text:"Eternity Points"},{id:8,key:"TD",text:"Time Dimensions"},{id:9,key:"eternities",text:"Eternities"},{id:10,key:"DT",text:"Dilated Time"},{id:11,key:"gamespeed",text:"Game Speed"}],N6e={name:"MultiplierBreakdownTab",components:{MultiplierBreakdownEntry:O6e},data(){return{availableOptions:[],currentID:player.options.multiplierTab.currTab}},computed:{currentKey(){return z1.find(t=>t.id===this.currentID).key},resource(){return V5(`${this.currentKey}_total`)},resourceSymbols(){return GameDatabase.multiplierTabValues[this.currentKey].total.overlay}},methods:{update(){this.availableOptions=z1.map(t=>({...t,isActive:this.checkActiveKey(t.key)})).filter(t=>t.isActive)},checkActiveKey(t){const e=GameDatabase.multiplierTabValues[t].total.isActive;return typeof e=="function"?e():e},accessProp(t){return typeof t=="function"?t():t},subtabClassObject(t){return{"c-multiplier-subtab-btn":!0,"c-multiplier-subtab-btn--active":t.key===this.currentKey}},clickSubtab(t){this.currentID=this.availableOptions[t].id,player.options.multiplierTab.currTab=z1.find(e=>e.key===this.currentKey).id}}};var G6e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-stats-tab"},[i("div",{staticClass:"l-multiplier-subtab-btn-container"},e._l(e.availableOptions,function(n,r){return i("button",{key:n.key+n.isActive,class:e.subtabClassObject(n),on:{click:function(a){return e.clickSubtab(r)}}},[e._v(" "+e._s(n.text)+" ")])}),0),i("div",{staticClass:"c-list-container"},[e._l(e.resourceSymbols,function(n){return i("span",{key:n},[i("span",{staticClass:"c-symbol-overlay",domProps:{innerHTML:e._s(n)}})])}),i("MultiplierBreakdownEntry",{key:e.resource.key,attrs:{resource:e.resource,"is-root":!0}}),e._m(0)],2)])},U6e=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-multiplier-tab-text-line"},[t._v(" Note: Entries are only expandable if they contain multiple sources which can be different values. For example, any effects which affect all Dimensions of any type equally will not expand into a list of eight identical numbers. "),e("br"),e("b",[t._v(" Some entries may cause lag if expanded out fully. Resizing happens over 200 ms (instead of instantly) in order to reduce possible adverse effects due to photosensitivity. This may cause some visual weirdness after prestige events. ")])])}],L6e=X(N6e,G6e,U6e,!1,null,"4a04cd32");const B6e=L6e.exports,$6e={name:"NormalAchievement",components:{EffectDisplay:oo,HintText:mc},props:{achievement:{type:Object,required:!0},isObscured:{type:Boolean,required:!1}},data(){return{isDisabled:!1,isUnlocked:!1,isMouseOver:!1,isCancer:!1,showUnlockState:!1,realityUnlocked:!1,garbleTimer:0,garbleKey:0,achievementTime:0}},computed:{id(){return this.achievement.id},displayId(){return this.config.displayId??this.id},config(){return this.achievement.config},styleObject(){return{"background-position":`-${(this.achievement.column-1)*104}px -${(this.achievement.row-1)*104}px`}},classObject(){return{"o-achievement":!0,"o-achievement--disabled":this.isDisabled,"o-achievement--locked":!this.isUnlocked&&!this.isDisabled&&!this.isObscured,"o-achievement--unlocked":this.isUnlocked,"o-achievement--waiting":!this.isUnlocked&&this.isPreRealityAchievement&&!this.isDisabled,"o-achievement--blink":!this.isUnlocked&&this.id===78&&!this.isDisabled,"o-achievement--normal":!this.isCancer&&!this.isObscured,"o-achievement--cancer":this.isCancer&&!this.isObscured,"o-achievement--hidden":this.isObscured}},indicatorIconClass(){return this.isUnlocked?"fas fa-check":this.isPreRealityAchievement&&!this.isDisabled?"far fa-clock":"fas fa-times"},indicatorClassObject(){return{"o-achievement__indicator":!0,"o-achievement__indicator--disabled":this.isDisabled,"o-achievement__indicator--locked":!this.isUnlocked&&!this.isPreRealityAchievement&&!this.isDisabled,"o-achievement__indicator--waiting":!this.isUnlocked&&this.isPreRealityAchievement&&!this.isDisabled}},rewardClassObject(){return{"o-achievement__reward":!0,"o-achievement__reward--disabled":this.isDisabled,"o-achievement__reward--locked":!this.isUnlocked&&!this.isPreRealityAchievement&&!this.isDisabled,"o-achievement__reward--waiting":!this.isUnlocked&&this.isPreRealityAchievement&&!this.isDisabled}},isPreRealityAchievement(){return this.realityUnlocked&&this.achievement.row<=13},hasReward(){return this.config.reward!==void 0&&!this.isObscured},garbledNameTemplate(){return this.makeGarbledTemplate(this.config.name)},garbledIDTemplate(){return this.makeGarbledTemplate(this.displayId)},garbledDescriptionTemplate(){return this.makeGarbledTemplate(this.config.description)},achievedTime(){return player.speedrun.isActive?this.achievementTime===void 0?"Not Achieved yet":this.achievementTime===0?"Given at Speedrun start":`Achieved after ${TimeSpan.fromMilliseconds(this.achievementTime).toStringShort()}`:null}},beforeDestroy(){clearTimeout(this.mouseOverInterval)},methods:{update(){this.isDisabled=Pelle.disabledAchievements.includes(this.id)&&Pelle.isDoomed,this.isUnlocked=this.achievement.isUnlocked&&!this.isDisabled,this.isCancer=Theme.current().name==="S4"||player.secretUnlocks.cancerAchievements,this.showUnlockState=player.options.showHintText.achievementUnlockStates,this.realityUnlocked=PlayerProgress.realityUnlocked(),this.processedName=this.processText(this.config.name,this.garbledNameTemplate),this.processedId=this.processText(this.displayId,this.garbledIDTemplate),this.processedDescription=this.processText(this.config.description,this.garbledDescriptionTemplate),this.garbleTimer++,this.isObscured?this.garbleKey=10*this.id+Math.floor(this.garbleTimer/3):this.garbleKey=this.id,player.speedrun.isActive&&(this.achievementTime=player.speedrun.achievementTimes[this.id])},onMouseEnter(){clearTimeout(this.mouseOverInterval),this.isMouseOver=!0},onMouseLeave(){this.mouseOverInterval=setTimeout(()=>this.isMouseOver=!1,300)},makeGarbledTemplate(t){const e=`${t}`;let i="";for(let n=0;n<e.length;n++)if(e[n]===" ")i+=" ";else{const r=e[n].charCodeAt();i+=String.fromCharCode(33+(r*r+n*n)%93)}return i},processText(t,e){if(!this.isObscured)return t;const i=zn.randomCrossWords(e);let n="";for(let r=0;r<i.length;r++)e[r]===" "?n+=" ":n+=i[r];return n}}};var F6e=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject,style:e.styleObject,on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[i("HintText",{key:e.garbleKey,staticClass:"l-hint-text--achievement",attrs:{type:"achievements"}},[e._v(" "+e._s(e.processedId)+" ")]),i("div",{staticClass:"o-achievement__tooltip"},[e.isMouseOver?[i("div",{staticClass:"o-achievement__tooltip__name"},[e._v(" "+e._s(e.processedName)+" ("+e._s(e.processedId)+") ")]),i("div",{staticClass:"o-achievement__tooltip__description"},[e._v(" "+e._s(e.processedDescription)+" ")]),e.config.reward?i("div",{staticClass:"o-achievement__tooltip__reward"},[e.isObscured?e._e():i("span",{class:{"o-pelle-disabled":e.isDisabled}},[e._v(" Reward: "+e._s(e.config.reward)+" "),e.config.formatEffect?i("EffectDisplay",{attrs:{br:"",config:e.config}}):e._e()],1)]):e._e(),e.achievedTime?i("div",{staticClass:"o-achievement-time"},[e._v(" "+e._s(e.achievedTime)+" ")]):e._e()]:e._e()],2),e.showUnlockState?i("div",{class:e.indicatorClassObject},[i("i",{class:e.indicatorIconClass})]):e._e(),e.hasReward?i("div",{class:e.rewardClassObject},[i("i",{staticClass:"fas fa-star"})]):e._e()],1)},H6e=[],V6e=X($6e,F6e,H6e,!1,null,"6979b143");const Y6e=V6e.exports,q6e={name:"NormalAchievementRow",components:{NormalAchievement:Y6e},props:{row:{type:Array,required:!0},isObscured:{type:Boolean,required:!1}},data(){return{isCompleted:!1,isHidden:!1}},computed:{classObject(){return{"l-achievement-grid__row":!0,"c-achievement-grid__row--completed":this.isCompleted}}},methods:{update(){this.isCompleted=this.row.every(t=>t.isUnlocked),this.isHidden=this.isCompleted&&player.options.hideCompletedAchievementRows}}};var W6e=function(){var e=this,i=e._self._c;return e.isHidden?e._e():i("div",{class:e.classObject},e._l(e.row,function(n,r){return i("normal-achievement",{key:r,staticClass:"l-achievement-grid__cell",attrs:{achievement:n,"is-obscured":e.isObscured}})}),1)},j6e=[],z6e=X(q6e,W6e,j6e,!1,null,null);const X6e=z6e.exports,K6e={name:"SwapAchievementImagesButton",data(){return{canSwapImages:!1,isCancerImages:!1,isDoomed:!1}},computed:{swapImagesButton(){const t=this.isDoomed?".":":";return this.isCancerImages?"😂":t},imageSwapperStyleObject(){return this.canSwapImages?{cursor:"pointer"}:{}}},methods:{update(){this.isDoomed=Pelle.isDoomed;const t=Theme.current().name==="S4";this.canSwapImages=!t&&Themes.find("S4").isAvailable(),this.isCancerImages=t||player.secretUnlocks.cancerAchievements},swapImages(){this.canSwapImages&&(player.secretUnlocks.cancerAchievements=!player.secretUnlocks.cancerAchievements)}}};var Z6e=function(){var e=this,i=e._self._c;return i("span",{style:e.imageSwapperStyleObject,on:{click:e.swapImages}},[e._v(e._s(e.swapImagesButton))])},Q6e=[],J6e=X(K6e,Z6e,Q6e,!1,null,null);const e8e=J6e.exports,t8e={name:"NormalAchievementsTab",components:{SwapAchievementImagesButton:e8e,NormalAchievementRow:X6e,PrimaryToggleButton:ln},data(){return{achievementPower:0,achTPEffect:0,achCountdown:0,totalCountdown:0,missingAchievements:0,showAutoAchieve:!1,isAutoAchieveActive:!1,hideCompletedRows:!1,achMultBreak:!1,achMultToIDS:!1,achMultToTDS:!1,achMultToBH:!1,achMultToTP:!1,achMultToTT:!1,renderedRowIndices:[]}},computed:{isDoomed:()=>Pelle.isDoomed,rows:()=>Achievements.allRows,renderedRows(){return this.rows.filter((t,e)=>this.renderedRowIndices.includes(e))},boostText(){const t=formatX(this.achievementPower,2,3),e=formatX(this.achTPEffect,2,3),i=[],n=[];return n.push("Antimatter"),this.achMultToIDS&&n.push("Infinity"),this.achMultToTDS&&n.push("Time"),i.push(`${makeEnumeration(n)} Dimensions: ${t}`),this.achMultToTP&&i.push(`Tachyon Particles: ${e}`),this.achMultToBH&&i.push(`Black Hole Power: ${t}`),this.achMultToTT&&i.push(`Time Theorem production: ${t}`),`${i.join("<br>")}`}},watch:{isAutoAchieveActive(t){player.reality.autoAchieve=t},hideCompletedRows(t){player.options.hideCompletedAchievementRows=t,this.startRowRendering()}},created(){this.startRowRendering()},beforeDestroy(){cancelAnimationFrame(this.renderAnimationId)},methods:{update(){const t=getGameSpeedupFactor();this.achievementPower=Achievements.power,this.achTPEffect=RealityUpgrade(8).config.effect(),this.achCountdown=Achievements.timeToNextAutoAchieve/t,this.totalCountdown=((Achievements.preReality.countWhere(e=>!e.isUnlocked)-1)*Achievements.period+Achievements.timeToNextAutoAchieve)/t,this.missingAchievements=Achievements.preReality.countWhere(e=>!e.isUnlocked),this.showAutoAchieve=PlayerProgress.realityUnlocked()&&!Perk.achievementGroup5.isBought,this.isAutoAchieveActive=player.reality.autoAchieve,this.hideCompletedRows=player.options.hideCompletedAchievementRows,this.achMultBreak=BreakInfinityUpgrade.achievementMult.canBeApplied,this.achMultToIDS=Achievement(75).isUnlocked,this.achMultToTDS=EternityUpgrade.tdMultAchs.isBought,this.achMultToTP=RealityUpgrade(8).isBought,this.achMultToBH=VUnlocks.achievementBH.canBeApplied,this.achMultToTT=Ra.unlocks.achievementTTMult.canBeApplied},startRowRendering(){const t=[],e=[];for(let s=0;s<this.rows.length;s++)(this.rows[s].every(c=>c.isUnlocked)?t:e).push(s);const i=e.filter(s=>this.renderedRowIndices.includes(s)),n=e.filter(s=>!this.renderedRowIndices.includes(s));let r;player.options.hideCompletedAchievementRows?(this.renderedRowIndices=t.concat(i),r=n):(this.renderedRowIndices=i,r=t.concat(n));const a=()=>{for(let o=0;o<2;o++){if(r.length===0)return;this.renderedRowIndices.push(r.shift())}this.renderAnimationId=requestAnimationFrame(a)};a()},isRendered(t){return this.renderedRowIndices.includes(t)},isObscured(t){return this.isDoomed?!1:t===17},timeDisplay,timeDisplayNoDecimals}};var i8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-achievements-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Hide completed rows:"},model:{value:e.hideCompletedRows,callback:function(n){e.hideCompletedRows=n},expression:"hideCompletedRows"}}),e.showAutoAchieve?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Auto Achievements:"},model:{value:e.isAutoAchieveActive,callback:function(n){e.isAutoAchieveActive=n},expression:"isAutoAchieveActive"}}):e._e()],1),i("div",{staticClass:"c-achievements-tab__header c-achievements-tab__header--multipliers"},[e.isDoomed?i("span",[e._v(" All Achievement multipliers have been disabled"),i("SwapAchievementImagesButton")],1):i("span",[e._v(" Achievements provide a multiplier to"),i("SwapAchievementImagesButton"),i("div",{domProps:{innerHTML:e._s(e.boostText)}})],1)]),e._m(0),e.showAutoAchieve?i("div",{staticClass:"c-achievements-tab__header"},[e.achCountdown>0?i("div",[e._v(" Automatically gain the next missing Achievement in "+e._s(e.timeDisplayNoDecimals(e.achCountdown))),e.isAutoAchieveActive?e._e():i("span",[e._v(" once Auto is turned on")]),e._v(". (left-to-right, top-to-bottom) ")]):e.missingAchievements!==0?i("div",[e._v(" Automatically gain the next missing Achievement as soon as you enable Auto Achievements. (left-to-right, top-to-bottom) ")]):e._e(),e.totalCountdown>0?i("div",[e._v(" You will regain all remaining achievements after "+e._s(e.timeDisplayNoDecimals(e.totalCountdown))+" if Auto Achievement "),e.isAutoAchieveActive?i("span",[e._v("stays enabled")]):i("span",[e._v("is turned on")]),e._v(". ")]):e._e(),i("br")]):e._e(),i("div",{staticClass:"l-achievement-grid"},e._l(e.renderedRows,function(n,r){return i("NormalAchievementRow",{key:r,attrs:{row:n,"is-obscured":e.isObscured(r)}})}),1)])},n8e=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-achievements-tab__header"},[t._v(" Achievements with a "),e("i",{staticClass:"fas fa-star"}),t._v(" icon also give an additional reward. ")])}],r8e=X(t8e,i8e,n8e,!1,null,null);const a8e=r8e.exports,s8e={name:"NormalChallengeBox",components:{ChallengeBox:F5,DescriptionDisplay:Qa},props:{challenge:{type:Object,required:!0}},data(){return{isDoomed:!1,isDisabled:!1,isRunning:!1,isCompleted:!1,isBroken:!1,isUnlocked:!1,lockedAt:new Decimal}},computed:{descriptionDisplayConfig(){return this.isUnlocked?this.challenge.config:{description:`Infinity ${formatInt(this.challenge.config.lockedAt)} times to unlock.`}},name(){return`C${this.challenge.id}`},overrideLabel(){return this.isBroken?"Broken":""}},methods:{update(){this.isDisabled=this.challenge.isDisabled,this.isUnlocked=this.challenge.isUnlocked,this.isRunning=this.challenge.isOnlyActiveChallenge,this.lockedAt=this.challenge.config.lockedAt,this.isBroken=Enslaved.isRunning&&Enslaved.BROKEN_CHALLENGES.includes(this.challenge.id),this.isCompleted=this.challenge.isCompleted&&!this.isBroken}}};var o8e=function(){var e=this,i=e._self._c;return i("ChallengeBox",{staticClass:"c-challenge-box--normal",attrs:{name:e.name,"is-unlocked":e.isUnlocked,"is-running":e.isRunning,"is-completed":e.isCompleted,"override-label":e.overrideLabel,"locked-at":e.lockedAt},on:{start:function(n){return e.challenge.requestStart()}},scopedSlots:e._u([{key:"top",fn:function(){return[i("DescriptionDisplay",{attrs:{config:e.descriptionDisplayConfig}})]},proxy:!0},{key:"bottom",fn:function(){return[i("span",{class:{"o-pelle-disabled":e.isDisabled}},[e._v("Reward: "+e._s(e.challenge.config.reward))])]},proxy:!0}])})},l8e=[],c8e=X(s8e,o8e,l8e,!1,null,"809f51fd");const u8e=c8e.exports,d8e={name:"NormalChallengesTab",components:{ChallengeGrid:Ix,ChallengeTabHeader:Rx,NormalChallengeBox:u8e},computed:{challenges(){return NormalChallenges.all}}};var h8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-challenges-tab"},[i("ChallengeTabHeader"),i("div",[e._v(" Some Normal Challenges have requirements to be able to run that challenge. ")]),i("div",[e._v(" If you have an active Big Crunch Autobuyer, it will attempt to Crunch as soon as possible when reaching Infinite antimatter. ")]),i("ChallengeGrid",{attrs:{challenges:e.challenges},scopedSlots:e._u([{key:"default",fn:function({challenge:n}){return[i("NormalChallengeBox",{attrs:{challenge:n}})]}}])})],1)},f8e=[],p8e=X(d8e,h8e,f8e,!1,null,"adb13550");const m8e=p8e.exports,y8e={name:"OptionsButton",components:{PrimaryButton:mt}};var g8e=function(){var e=this,i=e._self._c;return i("PrimaryButton",{staticClass:"o-primary-btn--option l-options-grid__button",on:{click:e.emitClick}},[e._t("default")],2)},v8e=[],b8e=X(y8e,g8e,v8e,!1,null,null);const Mx=b8e.exports,_8e={name:"OptionsGameplayTab",components:{OpenModalHotkeysButton:TE,OptionsButton:Mx,PrimaryToggleButton:ln,SliderComponent:cu},data(){return{offlineProgress:!1,hibernationCatchup:!1,hotkeys:!1,offlineSlider:0,offlineTicks:0,automaticTabSwitching:!1,infinityUnlocked:!1,automatorUnlocked:!1,automatorLogSize:0}},computed:{sliderPropsOfflineTicks(){return{min:22,max:54,interval:1,width:"100%",tooltip:!1}},sliderPropsAutomatorLogSize(){return{min:50,max:500,interval:50,width:"100%",tooltip:!1}}},watch:{offlineProgress(t){player.options.offlineProgress=t},hibernationCatchup(t){player.options.hibernationCatchup=t},hotkeys(t){player.options.hotkeys=t},offlineSlider(t){player.options.offlineTicks=this.parseOfflineSlider(t)},automaticTabSwitching(t){player.options.automaticTabSwitching=t},automatorLogSize(t){player.options.automatorEvents.maxEntries=parseInt(t,10)}},created(){const t=player.options.offlineTicks,e=Math.floor(Math.log10(t)),i=t/Math.pow(10,e)-1;this.offlineSlider=9*e+i},methods:{update(){const t=player.options;this.offlineProgress=t.offlineProgress,this.hibernationCatchup=t.hibernationCatchup,this.hotkeys=t.hotkeys,this.offlineTicks=player.options.offlineTicks,this.automaticTabSwitching=t.automaticTabSwitching,this.infinityUnlocked=PlayerProgress.current.isInfinityUnlocked,this.automatorUnlocked=Player.automatorUnlocked,this.automatorLogSize=t.automatorEvents.maxEntries},parseOfflineSlider(t){const e=parseInt(t,10);return(1+e%9)*Math.pow(10,Math.floor(e/9))},adjustSliderValueOfflineTicks(t){this.offlineSlider=t,player.options.offlineTicks=this.parseOfflineSlider(t)},adjustSliderValueAutomatorLogSize(t){this.automatorLogSize=t,player.options.automatorEvents.maxEntries=this.automatorLogSize}}};var w8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-options-tab"},[i("div",{staticClass:"l-options-grid"},[i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.confirmationOptions.show()"}},[e._v(" Open Confirmation Options ")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Hotkeys:",on:"Enabled",off:"Disabled"},model:{value:e.hotkeys,callback:function(n){e.hotkeys=n},expression:"hotkeys"}}),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button l-toggle-button",attrs:{label:"Switch tabs on some events (e.g. entering challenges):"},model:{value:e.automaticTabSwitching,callback:function(n){e.automaticTabSwitching=n},expression:"automaticTabSwitching"}})],1),i("div",{staticClass:"l-options-grid__row"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Offline progress:"},model:{value:e.offlineProgress,callback:function(n){e.offlineProgress=n},expression:"offlineProgress"}}),i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Offline ticks: "+e._s(e.formatInt(e.offlineTicks)))]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.offlineSlider},on:{input:function(n){return e.adjustSliderValueOfflineTicks(n)}}},"SliderComponent",e.sliderPropsOfflineTicks,!1))],1),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Run suspended time as offline:"},model:{value:e.hibernationCatchup,callback:function(n){e.hibernationCatchup=n},expression:"hibernationCatchup"}})],1),i("div",{staticClass:"l-options-grid__row"},[e.automatorUnlocked?i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Automator Log Max: "+e._s(e.formatInt(parseInt(e.automatorLogSize))))]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.automatorLogSize},on:{input:function(n){return e.adjustSliderValueAutomatorLogSize(n)}}},"SliderComponent",e.sliderPropsAutomatorLogSize,!1))],1):e._e()]),i("OpenModalHotkeysButton")],1)])},E8e=[],T8e=X(_8e,w8e,E8e,!1,null,"18c4bcf9");const C8e=T8e.exports,k8e={name:"AutosaveIntervalSlider",components:{SliderComponent:cu},props:{min:{type:Number,required:!0},max:{type:Number,required:!0},interval:{type:Number,required:!0}},data(){return{sliderInterval:10}},computed:{sliderProps(){return{min:this.min,max:this.max,interval:this.interval,width:"100%",tooltip:!1}}},methods:{update(){this.sliderInterval=player.options.autosaveInterval/1e3},adjustSliderValue(t){this.sliderInterval=t,player.options.autosaveInterval=this.sliderInterval*1e3,GameOptions.refreshAutosaveInterval()}}};var S8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Autosave interval: "+e._s(e.formatInt(e.sliderInterval))+"s")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.sliderInterval},on:{input:function(n){return e.adjustSliderValue(n)}}},"SliderComponent",e.sliderProps,!1))],1)},A8e=[],x8e=X(k8e,S8e,A8e,!1,null,null);const D8e=x8e.exports,I8e={name:"SaveFileName",components:{},data(){return{saveFileName:""}},methods:{update(){this.saveFileName=player.options.saveFileName},removeNotAvailableCharacters(t){return t.replace(/[^a-zA-Z0-9 -]/gu,"")},handleChange(t){const e=this.removeNotAvailableCharacters(t.target.value.trim());player.options.saveFileName=e,t.target.value=e}}};var R8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--input l-options-grid__button"},[i("b",[e._v("Save file name:")]),i("span",{attrs:{"ach-tooltip":"Set a custom name (up to 16 alphanumeric characters, including space and hyphen)"}},[i("input",{staticClass:"c-custom-save-name__input",attrs:{type:"text",maxlength:"16",placeholder:"Custom save name"},domProps:{value:e.saveFileName},on:{change:e.handleChange}})])])},M8e=[],P8e=X(I8e,R8e,M8e,!1,null,"d9f2f934");const O8e=P8e.exports,N8e={name:"OptionsSavingTab",components:{AutosaveIntervalSlider:D8e,OpenModalHotkeysButton:TE,OptionsButton:Mx,PrimaryToggleButton:ln,SaveFileName:O8e},data(){return{cloudAvailable:!1,cloudEnabled:!1,forceCloudOverwrite:!1,showCloudModal:!1,syncSaveIntervals:!1,showTimeSinceSave:!1,hideGoogleName:!1,loggedIn:!1,userName:"",canSpeedrun:!1,inSpeedrun:!1,creditsClosed:!1,canModifySeed:!1}},computed:{modalTooltip(){return`The game will detect certain situations where you might not want to overwrite your cloud save, and show
        you a modal with more information if this is ON.`},overwriteTooltip(){return this.showCloudModal?"This setting does nothing since the modal is being shown.":this.forceCloudOverwrite?"Your local save will always overwrite your cloud save no matter what.":"Save conflicts will prevent your local save from being saved to the cloud."},STEAM(){return eG}},watch:{cloudEnabled(t){player.options.cloudEnabled=t},forceCloudOverwrite(t){player.options.forceCloudOverwrite=t},showCloudModal(t){player.options.showCloudModal=t},syncSaveIntervals(t){player.options.syncSaveIntervals=t},showTimeSinceSave(t){player.options.showTimeSinceSave=t},hideGoogleName(t){player.options.hideGoogleName=t}},methods:{update(){const t=player.options;this.cloudAvailable=Cloud.isAvailable,this.cloudEnabled=t.cloudEnabled,this.forceCloudOverwrite=t.forceCloudOverwrite,this.showCloudModal=t.showCloudModal,this.syncSaveIntervals=t.syncSaveIntervals,this.showTimeSinceSave=t.showTimeSinceSave,this.hideGoogleName=t.hideGoogleName,this.loggedIn=Cloud.loggedIn,this.canSpeedrun=player.speedrun.isUnlocked,this.inSpeedrun=player.speedrun.isActive,this.canModifySeed=Speedrun.canModifySeed(),this.creditsClosed=GameEnd.creditsEverClosed,this.loggedIn&&(this.userName=Cloud.user.displayName)},importAsFile(t){if(t.target.files.length===0)return;const e=new FileReader;e.onload=function(){GameStorage.offlineEnabled=player.options.offlineProgress,GameStorage.offlineTicks=player.options.offlineTicks,GameStorage.import(e.result)},e.readAsText(t.target.files[0])},openSeedModal(){this.canModifySeed?Modal.modifySeed.show():Modal.message.show(`You cannot modify your seed any more. Glyph RNG has already been used to generate
          at least one Glyph on this run.`)}}};var G8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-options-tab"},[i("div",{staticClass:"l-options-grid"},[i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.export()"}},[e._v(" Export save ")]),i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.import.show()"}},[e._v(" Import save ")]),i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.hardReset.show()"}},[e._v(" RESET THE GAME ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.save(false, true)"}},[e._v(" Save game ")]),i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.loadGame.show()"}},[e._v(" Choose save ")]),i("AutosaveIntervalSlider",{attrs:{min:10,max:60,interval:1}})],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.exportAsFile()"}},[e._v(" Export save as file ")]),i("OptionsButton",{staticClass:"c-file-import-button",class:{"o-pelle-disabled-pointer":e.creditsClosed}},[i("input",{staticClass:"c-file-import",attrs:{type:"file",accept:".txt"},on:{change:e.importAsFile}}),i("label",{attrs:{for:"file"}},[e._v("Import save from file")])]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Display time since save:"},model:{value:e.showTimeSinceSave,callback:function(n){e.showTimeSinceSave=n},expression:"showTimeSinceSave"}})],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.backupWindows.show()"}},[e._v(" Open Automatic Save Backup Menu ")]),i("SaveFileName")],1),i("div",{staticClass:"l-options-grid__row"},[e.canSpeedrun?i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.enterSpeedrun.show()"}},[e._v(" Start Speedrun ")]):e._e(),e.inSpeedrun?i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed,"o-primary-btn--disabled":!e.canModifySeed},on:{click:function(n){return e.openSeedModal()}}},[e._v(" Change Glyph RNG Seed ")]):e._e()],1),i("OpenModalHotkeysButton")],1),e.cloudAvailable?i("h2",{staticClass:"c-cloud-options-header"},[e.hideGoogleName?i("span",[e._v("Logged in to Google "),i("i",[e._v("(name hidden)")])]):e.loggedIn?i("span",[e._v("Logged in as "+e._s(e.userName))]):i("span",[e._v("Not logged in")])]):e._e(),e.loggedIn?i("div",[e.cloudEnabled?i("span",[e._v("Cloud Saving will occur automatically every 10 minutes.")]):i("span",[e._v("Cloud Saving has been disabled on this save.")])]):e._e(),e.cloudAvailable?i("div",{staticClass:"l-options-grid"},[e.STEAM?e._e():i("div",{staticClass:"l-options-grid__row"},[e.loggedIn?i("OptionsButton",{attrs:{onclick:"GameOptions.logout()"}},[e._v(" Disconnect Google Account and disable Cloud Saving ")]):i("OptionsButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This will connect your Google Account to your Antimatter Dimensions savefiles",expression:"'This will connect your Google Account to your Antimatter Dimensions savefiles'"}],class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameOptions.login()"}},[e._v(" Login with Google to enable Cloud Saving ")]),e.loggedIn?i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This will hide your Google Account name from the UI for privacy. Saving/loading is unaffected.",expression:"'This will hide your Google Account name from the UI for privacy. Saving/loading is unaffected.'"}],staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Hide Google Account name:"},model:{value:e.hideGoogleName,callback:function(n){e.hideGoogleName=n},expression:"hideGoogleName"}}):e._e()],1),e.loggedIn?i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameOptions.cloudSave()"}},[e._v(" Cloud save ")]),i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameOptions.cloudLoad()"}},[e._v(" Cloud load ")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Force local save before cloud saving:"},model:{value:e.syncSaveIntervals,callback:function(n){e.syncSaveIntervals=n},expression:"syncSaveIntervals"}})],1):e._e(),e.loggedIn?i("div",{staticClass:"l-options-grid__row"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Automatic cloud saving/loading:"},model:{value:e.cloudEnabled,callback:function(n){e.cloudEnabled=n},expression:"cloudEnabled"}}),i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.modalTooltip,expression:"modalTooltip"}],staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Show modal if possible saving conflict:"},model:{value:e.showCloudModal,callback:function(n){e.showCloudModal=n},expression:"showCloudModal"}}),i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.overwriteTooltip,expression:"overwriteTooltip"}],staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Force cloud saving despite conflicts:"},model:{value:e.forceCloudOverwrite,callback:function(n){e.forceCloudOverwrite=n},expression:"forceCloudOverwrite"}})],1):e._e()]):e._e()])},U8e=[],L8e=X(N8e,G8e,U8e,!1,null,null);const B8e=L8e.exports,$8e={name:"SelectNotationDropdown",computed:{notations:()=>Notations.all}};var F8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-select-notation"},[i("div",{staticClass:"l-select-notation__inner"},e._l(e.notations,function(n){return i("div",{key:n.name,staticClass:"o-primary-btn l-select-notation__item c-select-notation__item",on:{click:function(r){return n.setAsCurrent()}}},[e._v(" "+e._s(n.name)+" ")])}),0)])},H8e=[],V8e=X($8e,F8e,H8e,!1,null,null);const Y8e=V8e.exports,q8e={name:"SelectSidebarDropdown",computed:{resourceDB:()=>GameDatabase.sidebarResources,resources(){return this.resourceDB.filter(t=>t.isAvailable())}},methods:{setResource(t){player.options.sidebarResourceID=t}}};var W8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},[i("div",{key:"Default",staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(n){return e.setResource(0)}}},[e._v(" Latest Resource ")]),e._l(e.resources,function(n){return i("div",{key:n.name,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(r){return e.setResource(n.id)}}},[e._v(" "+e._s(n.optionName)+" ")])})],2)])},j8e=[],z8e=X(q8e,W8e,j8e,!1,null,null);const X8e=z8e.exports,K8e={name:"SelectThemeDropdown",data(){return{availableThemeNames:[]}},computed:{themes(){return this.availableThemeNames.map(t=>Themes.find(t))}},methods:{update(){this.availableThemeNames=Themes.available().map(t=>t.name)}}};var Z8e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},e._l(e.themes,function(n){return i("div",{key:n.name,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(r){return n.set()}}},[e._v(" "+e._s(n.displayName())+" ")])}),0)])},Q8e=[],J8e=X(K8e,Z8e,Q8e,!1,null,null);const eVe=J8e.exports,tVe={name:"UpdateRateSlider",components:{SliderComponent:cu},data(){return{updateRate:0}},computed:{sliderProps(){return{min:33,max:200,interval:1,width:"100%",tooltip:!1}}},methods:{update(){this.updateRate=player.options.updateRate},adjustSliderValue(t){this.updateRate=t,player.options.updateRate=this.updateRate,GameOptions.refreshUpdateRate()}}};var iVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Update rate: "+e._s(e.formatInt(e.updateRate))+" ms")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.updateRate},on:{input:function(n){return e.adjustSliderValue(n)}}},"SliderComponent",e.sliderProps,!1))],1)},nVe=[],rVe=X(tVe,iVe,nVe,!1,null,null);const aVe=rVe.exports,sVe={name:"OptionsVisualTab",components:{UpdateRateSlider:aVe,PrimaryToggleButton:ln,ExpandingControlBox:dc,OptionsButton:Mx,OpenModalHotkeysButton:TE,SelectThemeDropdown:eVe,SelectNotationDropdown:Y8e,SelectSidebarDropdown:X8e},data(){return{theme:"",notation:"",sidebarResource:"",headerTextColored:!0}},computed:{sidebarDB:()=>GameDatabase.sidebarResources,themeLabel(){return`Theme: ${Themes.find(this.theme).displayName()}`},notationLabel(){return`Notation: ${this.notation}`},sidebarLabel(){return`Sidebar (Modern UI): ${this.sidebarResource}`},UILabel(){return`UI: ${this.$viewModel.newUI?"Modern":"Classic"}`}},watch:{headerTextColored(t){player.options.headerTextColored=t}},methods:{update(){const t=player.options;this.theme=Theme.currentName(),this.notation=t.notation,this.sidebarResource=player.options.sidebarResourceID===0?"Latest Resource":this.sidebarDB.find(e=>e.id===player.options.sidebarResourceID).optionName,this.headerTextColored=t.headerTextColored}}};var oVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-options-tab"},[i("div",{staticClass:"l-options-grid"},[i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option_font-large",attrs:{onclick:"GameOptions.toggleUI()"}},[e._v(" "+e._s(e.UILabel)+" ")]),i("UpdateRateSlider"),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.newsOptions.show();"}},[e._v(" Open News Options ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("ExpandingControlBox",{staticClass:"l-options-grid__button c-options-grid__notations",attrs:{"button-class":"o-primary-btn o-primary-btn--option l-options-grid__notations-header",label:e.themeLabel},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("SelectThemeDropdown")]},proxy:!0}])}),i("ExpandingControlBox",{staticClass:"l-options-grid__button c-options-grid__notations",attrs:{"button-class":"o-primary-btn o-primary-btn--option l-options-grid__notations-header",label:e.notationLabel},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("SelectNotationDropdown")]},proxy:!0}])}),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.notation.show();"}},[e._v(" Open Exponent Notation Options ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.animationOptions.show();"}},[e._v(" Open Animation Options ")]),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.infoDisplayOptions.show()"}},[e._v(" Open Info Display Options ")]),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.awayProgressOptions.show()"}},[e._v(" Open Away Progress Options ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.hiddenTabs.show()"}},[e._v(" Modify Visible Tabs ")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Relative prestige gain text coloring:"},model:{value:e.headerTextColored,callback:function(n){e.headerTextColored=n},expression:"headerTextColored"}}),e.$viewModel.newUI?i("ExpandingControlBox",{staticClass:"l-options-grid__button c-options-grid__notations",attrs:{"button-class":"o-primary-btn o-primary-btn--option l-options-grid__notations-header",label:e.sidebarLabel},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("SelectSidebarDropdown")]},proxy:!0}],null,!1,409945354)}):e._e()],1),i("OpenModalHotkeysButton")],1)])},lVe=[],cVe=X(sVe,oVe,lVe,!1,null,null);const uVe=cVe.exports;function dVe(t){let e=t.filter(r=>r[0]!==Number.MAX_VALUE);e.length===0&&(e=[t[0]]);const i=t.map(r=>r.length).max(),n=[];for(let r=0;r<i;r++){if(typeof e[0][r]=="string"){n.push("");continue}const a=typeof e[0][r]=="number",s=e.map(o=>o[r]).reduce(a?Number.sumReducer:Decimal.sumReducer);n.push(a?s/e.length:Decimal.div(s,e.length))}return n}const hVe={name:"PastPrestigeRunsContainer",props:{layer:{type:Object,required:!0}},data(){return{isRealityUnlocked:!1,resourceType:!1,selectedResources:[],resourceTitles:[],showRealTime:!1,runs:[],hasEmptyRecord:!1,shown:!0,hasChallenges:!1,longestRow:0,hasIM:!1}},computed:{averageRun(){return dVe(this.runs)},dropDownIconClass(){return this.shown?"far fa-minus-square":"far fa-plus-square"},points(){const t=this.layer.currency;return t==="RM"&&this.hasIM?"iM Cap":t},condition(){return this.layer.condition()},plural(){return this.layer.plural},singular(){return this.layer.name},getRuns(){return this.layer.getRuns},hasRealTime:()=>PlayerProgress.seenAlteredSpeed()},methods:{update(){this.runs=this.clone(this.getRuns()),this.hasEmptyRecord=this.runs[0][0]===Number.MAX_VALUE,this.runs.push(this.averageRun),this.isRealityUnlocked=PlayerProgress.current.isRealityUnlocked,this.shown=player.shownRuns[this.singular],this.resourceType=player.options.statTabResources,this.showRate=this.resourceType===RECENT_PRESTIGE_RESOURCE.RATE,this.hasChallenges=this.runs.map(i=>this.challengeText(i)).some(i=>i),this.hasIM=MachineHandler.currentIMCap>0;const t=[this.points,`${this.points} Rate`,this.plural,`${this.singular} Rate`];switch(this.resourceType){case RECENT_PRESTIGE_RESOURCE.ABSOLUTE_GAIN:this.selectedResources=[0,2];break;case RECENT_PRESTIGE_RESOURCE.RATE:this.selectedResources=[1,3];break;case RECENT_PRESTIGE_RESOURCE.CURRENCY:this.selectedResources=[0,1];break;case RECENT_PRESTIGE_RESOURCE.PRESTIGE_COUNT:this.selectedResources=[2,3];break;default:throw new Error("Unrecognized Statistics tab resource type")}this.resourceTitles=[t[this.selectedResources[0]],t[this.selectedResources[1]]];const e=i=>{let n=i.length;for(;n>0;){const r=i[n-1];if(typeof r=="string"&&r!==""||typeof r!="string"&&Decimal.neq(r,0))return n;n--}return 0};this.longestRow=this.runs.map(i=>e(i)).max()},clone(t){return t.map(e=>e.map(i=>i instanceof Decimal?Decimal.fromDecimal(i):i))},infoArray(t,e){var a;let i;e===0?i="Last":e===10?i="Average":i=`${formatInt(e+1)} ago`;const n=[i,this.gameTime(t)];this.hasRealTime&&n.push(this.realTime(t));const r=[this.prestigeCurrencyGain(t),this.prestigeCurrencyRate(t),this.prestigeCountGain(t),this.prestigeCountRate(t)];n.push(r[this.selectedResources[0]]),n.push(r[this.selectedResources[1]]),this.hasChallenges&&n.push(this.challengeText(t));for(let s=0;s<((a=this.layer.extra)==null?void 0:a.length)&&n.length<=this.longestRow;s++){if(!this.layer.showExtra[s]())continue;const o=this.layer.formatExtra[s],c=t[s+5]??0;this.layer.allowRate[s]&&this.showRate?n.push(this.rateText(t,t[s+5])):n.push(o(c))}return n},infoCol(){var e;const t=["Run",this.hasRealTime?"Game Time":"Time in Run"];this.hasRealTime&&t.push("Real Time"),t.push(...this.resourceTitles),this.hasChallenges&&t.push("Challenge");for(let i=0;i<((e=this.layer.extra)==null?void 0:e.length)&&t.length<=this.longestRow;i++)this.layer.showExtra[i]()&&t.push(this.layer.allowRate[i]&&this.showRate?this.layer.rateString[i]:this.layer.extra[i]);return t},gameTime(t){return timeDisplayShort(t[0])},realTime(t){return timeDisplayShort(t[1])},prestigeCurrencyGain(t){return this.hasIM&&this.layer.name==="Reality"?`${format(t[7],2)} iM`:`${format(t[2],2)} ${this.points}`},prestigeCountGain(t){return quantify(this.singular,t[3])},prestigeCurrencyRate(t){return this.hasIM&&this.layer.name==="Reality"?"N/A":this.rateText(t,t[2])},prestigeCountRate(t){return this.rateText(t,t[3])},rateText(t,e){const i=t[1],n=ratePerMinute(e,i);return Decimal.lt(n,1)?`${format(Decimal.mul(n,60),2,2)} per hour`:`${format(n,2,2)} per min`},challengeText(t){const e=t[4];return e==="The Nameless Ones"?"Nameless":e},toggleShown(){player.shownRuns[this.singular]=!player.shownRuns[this.singular]},cellStyle(t,e){let i;switch(t){case 0:i="7rem";break;case 3:case 4:i=this.layer.name==="Reality"?"15rem":"20rem";break;case 5:i=this.layer.name==="Reality"?"10rem":"20rem";break;default:i="13rem"}return{width:i,border:"0.05rem solid #999999",margin:"-0.05rem",padding:"0.2rem 0","border-bottom-width":e?"0.3rem":"0.1rem","font-weight":e?"bold":null,color:"var(--color-text)"}}}};var fVe=function(){var e=this,i=e._self._c;return e.condition?i("div",[i("div",{staticClass:"c-past-runs-header",on:{click:e.toggleShown}},[i("span",{staticClass:"o-run-drop-down-icon"},[i("i",{class:e.dropDownIconClass})]),i("span",[i("h3",[e._v("Last "+e._s(e.formatInt(10))+" "+e._s(e.plural)+":")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.shown,expression:"shown"}]},[i("div",{staticClass:"c-row-container"},e._l(e.infoCol(),function(n,r){return i("span",{key:r,style:e.cellStyle(r,!0)},[e._v(" "+e._s(n)+" ")])}),0),e._l(e.runs,function(n,r){return i("div",{key:r},[n[0]===Number.MAX_VALUE?i("span",{staticClass:"c-empty-row"},[r===10?i("i",[e._v(" An average cannot be calculated with no "+e._s(e.plural)+". ")]):i("i",[e._v(" You have not done "+e._s(e.formatInt(r+1))+" "+e._s(r===0?e.singular:e.plural)+" yet. ")])]):i("span",{staticClass:"c-row-container"},e._l(e.infoArray(n,r),function(a,s){return i("span",{key:10*r+s,style:e.cellStyle(s,!1)},[e._v(" "+e._s(a)+" ")])}),0)])}),i("br")],2)]):e._e()},pVe=[],mVe=X(hVe,fVe,pVe,!1,null,"afe2ae2c");const yVe=mVe.exports,gVe={name:"PastPrestigeRunsTab",components:{PastPrestigeRunsContainer:yVe},data(){return{layers:{reality:{name:"Reality",plural:"Realities",currency:"RM",condition:()=>PlayerProgress.realityUnlocked(),getRuns:()=>player.records.recentRealities,extra:["Glyph Level","Relic Shards"],showExtra:[()=>!0,()=>TeresaUnlocks.effarig.canBeApplied],formatExtra:[t=>formatInt(t),t=>format(t,2)],allowRate:[!1,!0],rateString:["","Relic Shard Rate"]},eternity:{name:"Eternity",plural:"Eternities",currency:"EP",condition:()=>PlayerProgress.eternityUnlocked(),getRuns:()=>player.records.recentEternities,extra:["Tachyon Particles"],showExtra:[()=>PlayerProgress.dilationUnlocked()],formatExtra:[t=>format(t,2)],allowRate:[!1]},infinity:{name:"Infinity",plural:"Infinities",currency:"IP",condition:()=>PlayerProgress.infinityUnlocked(),getRuns:()=>player.records.recentInfinities}},resourceType:!1}},computed:{resourceText(){switch(this.resourceType){case RECENT_PRESTIGE_RESOURCE.ABSOLUTE_GAIN:return"total resource gain";case RECENT_PRESTIGE_RESOURCE.RATE:return"resource gain rate";case RECENT_PRESTIGE_RESOURCE.CURRENCY:return"prestige currency";case RECENT_PRESTIGE_RESOURCE.PRESTIGE_COUNT:return"prestige count";default:throw new Error("Unrecognized Statistics tab resource type")}}},methods:{update(){this.resourceType=player.options.statTabResources},cycleButton(){const t=Object.keys(RECENT_PRESTIGE_RESOURCE).length;player.options.statTabResources=(player.options.statTabResources+1)%t}}};var vVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-stats-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("button",{staticClass:"o-primary-btn o-primary-btn--subtab-option",on:{click:function(n){return e.cycleButton()}}},[e._v(" Showing "+e._s(e.resourceText)+" ")])]),e._l(e.layers,function(n){return i("PastPrestigeRunsContainer",{key:n.name,attrs:{layer:n}})})],2)},bVe=[],_Ve=X(gVe,vVe,bVe,!1,null,null);const wVe=_Ve.exports,EVe={name:"CustomizeableTooltip",props:{tooltipContentStyle:{type:Object,required:!1,default:()=>({})},tooltipArrowStyle:{type:Object,required:!1,default:()=>({})},left:{type:String,required:!1,default:""},top:{type:String,required:!1,default:""},right:{type:String,required:!1,default:""},bottom:{type:String,required:!1,default:""},contentClass:{type:[Object,String],required:!1,default:""},tooltipClass:{type:[Object,String],required:!1,default:""},mode:{type:String,required:!1,default:"top"},show:{type:Boolean,required:!1}},data(){return{hovering:!1,mainContent:null,isDarkTheme:!1}},computed:{positionStyle(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},tooltipType(){return`c-tooltip--${this.mode}`},contentTransform(){const t=this.mode==="top"||this.mode==="bottom"?"X":"Y";return`translate${t}(${this.showNegativeSign(t)}50%)`},tooltipTransform(){switch(this.mode){case"top":return`translate(${this.showNegativeSign("X")}50%, -100%)`;case"bottom":return`translate(${this.showNegativeSign("X")}50%, 100%)`;case"right":return`translate(100%, ${this.showNegativeSign("Y")}50%)`;case"left":return`translate(-100%, ${this.showNegativeSign("Y")}50%)`;default:return""}},showTooltip(){return this.show||this.hovering},tooltipContentLightDarkClass(){return this.isDarkTheme?"c-tooltip-content--dark":""},tooltipArrowLightDarkClass(){return this.isDarkTheme?"c-tooltip-arrow--dark":""},tooltipInternalClass(){return{"c-tooltip-show":this.showTooltip,[this.tooltipType]:!0}},tooltipContentClass(){return[this.tooltipInternalClass,this.tooltipClass,this.tooltipContentLightDarkClass]},tooltipArrowClass(){return[this.tooltipInternalClass,this.tooltipArrowLightDarkClass]}},methods:{update(){this.isDarkTheme=Theme.current().isDark()},showNegativeSign(t){return t==="X"?this.left?"-":"":this.top?"-":""}}};var TVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-custom-tooltip"},[i("div",{staticClass:"c-main-content",class:e.contentClass,style:{...e.positionStyle,transform:e.contentTransform},on:{mouseenter:function(n){e.hovering=!0},mouseleave:function(n){e.hovering=!1}}},[e._t("mainContent")],2),i("div",{staticClass:"c-tooltip-content",class:e.tooltipContentClass,style:[e.tooltipContentStyle,e.positionStyle,{transform:e.tooltipTransform}]},[e._t("tooltipContent")],2),i("div",{staticClass:"c-tooltip-arrow",class:e.tooltipArrowClass,style:[e.tooltipArrowStyle,e.positionStyle,{transform:e.tooltipTransform}]})])},CVe=[],kVe=X(EVe,TVe,CVe,!1,null,"5ff4f479");const kE=kVe.exports,SVe={name:"PelleUpgrade",components:{DescriptionDisplay:Qa,CostDisplay:fc,CustomizeableTooltip:kE},props:{upgrade:{type:Object,required:!0},faded:{type:Boolean,required:!1},galaxyGenerator:{type:Boolean,required:!1},showImprovedEstimate:{type:Boolean,required:!1}},data(){return{canBuy:!1,isBought:!1,purchases:0,currentTimeEstimate:new Decimal(0),projectedTimeEstimate:new Decimal(0),isCapped:!1,hovering:!1,hasRemnants:!1,galaxyCap:0,notAffordable:!1}},computed:{config(){return this.upgrade.config},effectText(){if(!this.config.formatEffect)return!1;const t=this.isCapped?"Capped:":"Currently:",e=r=>this.config.formatEffect(this.config.effect(r)),i=e(this.purchases),n=!this.isCapped&&this.hovering?e(this.purchases+1):void 0;return{prefix:t,value:i,next:n}},timeEstimate(){return!this.hasTimeEstimate||!this.hasRemnants?null:this.notAffordable?"Never affordable due to Generated Galaxy cap":this.currentTimeEstimate},hasTimeEstimate(){return!(this.canBuy||this.isBought||this.isCapped||this.galaxyGenerator&&this.config.currencyLabel!=="Galaxy")},shouldEstimateImprovement(){return this.showImprovedEstimate&&this.hasTimeEstimate},estimateImprovement(){return this.shouldEstimateImprovement?Pelle.canArmageddon?this.projectedTimeEstimate.startsWith(">")?this.projectedTimeEstimate:`${this.currentTimeEstimate} ➜ ${this.projectedTimeEstimate}`:`${this.currentTimeEstimate}`:""}},methods:{update(){this.canBuy=this.upgrade.canBeBought&&!this.faded,this.isBought=this.upgrade.isBought,this.isCapped=this.upgrade.isCapped,this.purchases=player.celestials.pelle.rebuyables[this.upgrade.config.id],this.currentTimeEstimate=TimeSpan.fromSeconds(this.secondsUntilCost(this.galaxyGenerator?GalaxyGenerator.gainPerSecond:Pelle.realityShardGainPerSecond).toNumber()).toTimeEstimate(),this.projectedTimeEstimate=TimeSpan.fromSeconds(this.secondsUntilCost(Pelle.nextRealityShardGain).toNumber()).toTimeEstimate(),this.hasRemnants=Pelle.cel.remnants>0,this.galaxyCap=GalaxyGenerator.generationCap;const t=GameDatabase.celestials.pelle.galaxyGeneratorUpgrades;this.notAffordable=(this.config===t.additive||this.config===t.multiplicative)&&Decimal.gt(this.upgrade.cost,this.galaxyCap-GalaxyGenerator.generatedGalaxies+player.galaxies)},secondsUntilCost(t){const e=this.galaxyGenerator?player.galaxies+GalaxyGenerator.galaxies:Currency.realityShards.value;return Decimal.sub(this.upgrade.cost,e).div(t)}}};var AVe=function(){var e=this,i=e._self._c;return i("button",{staticClass:"c-pelle-upgrade",class:{"c-pelle-upgrade--unavailable":!e.canBuy&&!(e.isBought||e.isCapped),"c-pelle-upgrade--bought":e.isBought||e.isCapped,"c-pelle-upgrade--faded":e.faded,"c-pelle-upgrade--galaxyGenerator":e.galaxyGenerator},on:{click:function(n){!e.faded&&e.upgrade.purchase()},mouseover:function(n){e.hovering=!0},mouseleave:function(n){e.hovering=!1}}},[i("CustomizeableTooltip",{attrs:{show:e.shouldEstimateImprovement,left:"50%",top:"0"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.estimateImprovement)+" ")]},proxy:!0}])}),e.timeEstimate?i("CustomizeableTooltip",{attrs:{left:"50%",top:"0","content-class":"l-fill-container"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.timeEstimate)+" ")]},proxy:!0}],null,!1,1945308655)}):e._e(),i("DescriptionDisplay",{attrs:{config:e.config}}),i("div",{staticClass:"l-pelle-upgrade-gap"}),e.effectText?i("div",[e._v(" "+e._s(e.effectText.prefix)+" "+e._s(e.effectText.value)+" "),e.effectText.next?[e._v(" ➜ "),i("span",{class:{"c-improved-effect":e.canBuy,"c-improved-effect--unavailable":!e.canBuy}},[e._v(" "+e._s(e.effectText.next)+" ")])]:e._e(),i("div",{staticClass:"l-pelle-upgrade-gap"})],2):e._e(),e.isCapped?e._e():i("CostDisplay",{attrs:{config:e.config,name:e.galaxyGenerator?e.config.currencyLabel:"Reality Shard"}})],1)},xVe=[],DVe=X(SVe,AVe,xVe,!1,null,"f23b5500");const Y5=DVe.exports,IVe={name:"GalaxyGeneratorPanel",components:{PelleUpgrade:Y5},data(){return{isUnlocked:!1,galaxies:0,generatedGalaxies:0,galaxiesPerSecond:0,cap:0,isCapped:!1,capRift:null,sacrificeActive:!1,isCollapsed:!1,barWidth:0,capRiftName:""}},computed:{collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"},upgrades(){return GalaxyGeneratorUpgrades.all},galaxyText(){let t=format(Math.max(this.galaxies,0),2);return this.galaxies<0&&(t+=` [${format(this.galaxies,2)}]`),t},sacrificeText(){return this.capRift.galaxyGeneratorText.replace("$value",this.capRiftName)},emphasisedStart(){return Math.pow(this.generatedGalaxies/this.cap,.45)}},methods:{update(){this.isUnlocked=Pelle.hasGalaxyGenerator,this.isCapped=GalaxyGenerator.isCapped,this.isCollapsed=player.celestials.pelle.collapsed.galaxies&&!this.isCapped,!(this.isCollapsed||!this.isUnlocked)&&(this.galaxies=player.galaxies+GalaxyGenerator.galaxies,this.generatedGalaxies=GalaxyGenerator.generatedGalaxies,this.galaxiesPerSecond=GalaxyGenerator.gainPerSecond,this.cap=GalaxyGenerator.generationCap,this.capRift=GalaxyGenerator.capRift,this.sacrificeActive=GalaxyGenerator.sacrificeActive,this.barWidth=this.isCapped?this.capRift.reducedTo:this.emphasisedStart,this.capRift&&(this.capRiftName=zn.wordCycle(this.capRift.name)))},increaseCap(){GalaxyGenerator.isCapped&&GalaxyGenerator.startSacrifice()},toggleCollapse(){player.celestials.pelle.collapsed.galaxies=!this.isCollapsed},unlock(){player.celestials.pelle.galaxyGenerator.unlocked=!0,Pelle.quotes.galaxyGeneratorUnlock.show()}}};var RVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-pelle-panel-container"},[i("div",{staticClass:"c-pelle-panel-title"},[e.isCapped?e._e():i("i",{staticClass:"c-collapse-icon-clickable",class:e.collapseIcon,on:{click:e.toggleCollapse}}),e._v(" Galaxy Generator ")]),e.isCollapsed?e._e():i("div",{staticClass:"l-pelle-content-container"},[e.isUnlocked?i("div",[i("div",[e._v(" You have a total of "),i("span",{staticClass:"c-galaxies-amount"},[e._v(e._s(e.galaxyText))]),e._v(" Galaxies. "),i("span",{staticClass:"c-galaxies-amount"},[e._v("+"+e._s(e.format(e.galaxiesPerSecond,2,1))+"/s")])]),i("div",[i("button",{staticClass:"c-increase-cap",class:{"c-increase-cap-available":e.isCapped&&e.capRift&&!e.sacrificeActive,"tutorial--glow":e.cap===1/0},on:{click:e.increaseCap}},[i("div",{staticClass:"c-increase-cap-background",style:{width:`${e.barWidth*100}%`}}),e.isCapped&&e.capRift?i("div",{staticClass:"c-increase-cap-text"},[e._v(" "+e._s(e.sacrificeText)+". "),i("br"),i("br"),e.sacrificeActive?i("span",{staticClass:"c-big-text"},[e._v(" Getting rid of all that "+e._s(e.capRiftName)+"... ")]):i("span",{staticClass:"c-big-text"},[e._v(" Sacrifice your "+e._s(e.capRiftName)+" ")])]):i("div",{staticClass:"c-increase-cap-text c-medium-text"},[e._v(" "+e._s(e.format(e.generatedGalaxies,2))+" / "+e._s(e.format(e.cap,2))+" Galaxies generated ")])])]),i("div",{staticClass:"l-galaxy-generator-upgrades-container"},e._l(e.upgrades,function(n){return i("PelleUpgrade",{key:n.config.id,attrs:{upgrade:n,"galaxy-generator":!0}})}),1)]):i("button",{staticClass:"c-generator-unlock-button",on:{click:e.unlock}},[e._v(" Unlock the Galaxy Generator ")])])])},MVe=[],PVe=X(IVe,RVe,MVe,!1,null,"6bb918e0");const OVe=PVe.exports,NVe={name:"PelleRiftBar",components:{CustomizeableTooltip:kE},props:{rift:{type:Object,required:!0}},data(){return{isActive:!1,isMaxed:!1,percentage:0,reducedTo:0,hasEffectiveFill:!1,selectedHoverMilestone:this.rift.milestones[0],remToPx:parseInt(getComputedStyle(document.documentElement).fontSize,10),effects:[],selectedMilestoneResourceText:"",selectedMilestoneDescriptionText:""}},computed:{tooltipArrowStyle(){return{borderTop:"0.55rem solid var(--color-pelle--base)"}}},methods:{update(){const t=this.rift;this.effects=t.effects,this.isActive=t.isActive,this.isMaxed=t.isMaxed||Pelle.hasGalaxyGenerator,this.percentage=t.percentage,this.reducedTo=t.reducedTo,this.hasEffectiveFill=t.config.key==="decay"&&PelleRifts.chaos.milestones[0].canBeApplied,this.selectedMilestoneResourceText=this.milestoneResourceText(this.selectedHoverMilestone),this.selectedMilestoneDescriptionText=this.milestoneDescriptionText(this.selectedHoverMilestone)},hasMilestone(t){return t.canBeApplied},milestoneResourceText(t){const e=this.rift;return`${formatPercents(t.requirement)}
      (${this.formatRift(e.config.percentageToFill(t.requirement))}       ${e.id===3?zn.wordCycle(PelleRifts.decay.name):e.drainResource})`},milestoneDescriptionText(t){return typeof t.description=="string"?t.description:t.description()},formatRift(t){return typeof t=="number"?`${formatInt(100*t)}%`:format(t,2)},toggle(){this.isMaxed||this.rift.toggle()},barOverlay(){const t=this.percentage>1;return{"o-pelle-rift-bar-permanent":!t&&this.hasEffectiveFill,"o-pelle-rift-bar-overfilled":t}},handleMilestoneRequirementTooltipDisplay(t){const e=t.clientX-this.$refs.pelleRiftBar.getBoundingClientRect().x,i=this.rift.milestones.filter(n=>{const r=Math.abs(n.requirement*31.6-e/this.remToPx);return r<1&&(n.dist=r),r<1}).map(n=>{const r=n.dist;return delete n.dist,{dist:r,m:n}});i.length&&(this.selectedHoverMilestone=i.sort((n,r)=>n.dist-r.dist)[0].m)},tooltipContentClass(){return{"c-pelle-milestone-tooltip":!0,"c-pelle-milestone-tooltip--unlocked":this.hasMilestone(this.selectedHoverMilestone)}}}};var GVe=function(){var e=this,i=e._self._c;return i("div",{ref:"pelleRiftBar",staticClass:"c-pelle-rift-bar",class:{"c-pelle-rift-bar-overfill-container":e.percentage>1,"c-pelle-rift-bar--idle":!e.isActive&&!e.isMaxed,"c-pelle-rift-bar--filling":e.isActive},on:{mousemove:e.handleMilestoneRequirementTooltipDisplay,click:e.toggle}},[i("div",{staticClass:"l-overflow-hidden"},[i("div",{class:e.barOverlay()}),i("div",{staticClass:"o-pelle-rift-bar-fill",style:{width:`${Math.clampMax(e.percentage*100,100)}%`}}),e.reducedTo<1?i("div",{staticClass:"o-pelle-rift-bar-reducedto",style:{width:`${Math.clampMax(100-e.reducedTo*100,100)}%`}}):e._e(),i("div",{staticClass:"o-pelle-rift-bar-overlay"}),e.isActive&&!e.isMaxed?i("div",{staticClass:"o-pelle-rift-bar-active-fill"}):e._e(),e._l(e.rift.milestones,function(n,r){return i("div",{key:"milestone-line-"+r,staticClass:"o-pelle-rift-bar-milestone-line",class:{"o-pelle-rift-bar-milestone-line--unlocked":e.hasMilestone(n),"o-pelle-rift-bar-milestone-line--disabled":e.reducedTo<n.requirement},style:{left:`calc(${n.requirement*100}% - 0.25rem)`}})})],2),i("div",{staticClass:"o-pelle-rift-bar-percentage"},[e._v(" "+e._s(e.formatPercents(e.percentage,3))+" "),e.isMaxed?e._e():i("span",[e._v("("+e._s(e.isActive?"Filling":"Idle")+")")])]),i("CustomizeableTooltip",{staticClass:"o-pelle-rift-bar-milestone-hover-container",attrs:{"tooltip-class":e.tooltipContentClass(),"tooltip-arrow-style":e.tooltipArrowStyle,left:`calc(${e.selectedHoverMilestone.requirement*100}% - 0.1rem)`,"content-class":"o-pelle-rift-bar-milestone-hover-area"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.selectedMilestoneResourceText)+" "),i("br"),i("br"),e._v(" "+e._s(e.selectedMilestoneDescriptionText)+" ")]},proxy:!0}])})],1)},UVe=[],LVe=X(NVe,GVe,UVe,!1,null,"0d96335d");const BVe=LVe.exports,$Ve={name:"PelleStrike",components:{ExpandingControlBox:dc},props:{strike:{type:Object,required:!0}},data(){return{strikeReward:""}},methods:{update(){this.strikeReward=this.strike.reward()}}};var FVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-pelle-strike-container"},[i("ExpandingControlBox",{attrs:{"container-class":"c-pelle-strike"},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-pelle-strike-header"},[e._v(" ▼ "+e._s(e.strike.requirement)+" ▼ ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("div",{staticClass:"c-pelle-strike-dropdown"},[i("span",[e._v("Penalty: "+e._s(e.strike.penalty))]),i("br"),i("span",[e._v("Reward: "+e._s(e.strikeReward))])])]},proxy:!0}])})],1)},HVe=[],VVe=X($Ve,FVe,HVe,!1,null,null);const YVe=VVe.exports,qVe={name:"PelleRift",components:{PelleStrike:YVe,PelleRiftBar:BVe},props:{strike:{type:Object,required:!0}},data(){return{hasStrike:!1,isActive:!1,isMaxed:!1,totalFill:new Decimal,resource:new Decimal,hasEffectiveFill:!1,effects:[]}},computed:{rift(){return this.strike.rift},specialRift(){return this.rift.id===3},infoTooltip(){return`The Replicanti requirement for the 2nd Rift is based on the total amount you have ever filled, including
        any amount drained to fill this Rift.`}},methods:{update(){if(this.hasStrike=this.strike.hasStrike,!this.hasStrike)return;const t=this.rift;this.effects=this.rift.effects,this.isActive=t.isActive,this.isMaxed=t.isMaxed||Pelle.hasGalaxyGenerator,this.setValue("totalFill",t.totalFill),this.setValue("resource",t.fillCurrency.value),this.hasEffectiveFill=t.key==="decay"&&PelleRifts.chaos.milestones[0].canBeApplied},setValue(t,e){typeof e=="number"?this[t]=e:this[t].copyFrom(e)},formatRift(t){return typeof t=="number"?`${formatInt(100*t)}%`:format(t,2)},riftName(){return zn.wordCycle(this.rift.name,!0)},drainResource(){return this.specialRift?zn.wordCycle(this.rift.drainResource):this.rift.drainResource}}};var WVe=function(){var e=this,i=e._self._c;return e.hasStrike?i("div",{staticClass:"c-pelle-single-bar"},[i("div",{staticClass:"c-pelle-rift"},[i("div",{staticClass:"c-pelle-rift-row"},[i("div",{staticClass:"c-pelle-rift-column c-pelle-rift-status"},[i("h2",{staticClass:"c-pelle-rift-name-header"},[e._v(" "+e._s(e.riftName())+" ")]),i("div",{staticClass:"c-pelle-rift-rift-info-container"},e._l(e.effects,function(n,r){return i("div",{key:r},[e._v(" "+e._s(n||"")+" ")])}),0)]),i("div",{staticClass:"c-pelle-rift-column"},[i("PelleStrike",{attrs:{strike:e.strike}}),i("PelleRiftBar",{attrs:{rift:e.rift}})],1),i("div",{staticClass:"c-pelle-rift-status"},[i("div",{staticClass:"c-pelle-rift-fill-status"},[i("h2",{staticClass:"c-pelle-rift-name-header"},[e._v(" "+e._s(e.riftName())+" ")]),i("div",{staticClass:"c-pelle-rift-rift-info-container"},[e._v(" Drains "+e._s(e.drainResource())+" to fill. "),e.specialRift?i("span",{attrs:{"ach-tooltip":e.infoTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]):e._e(),i("br"),e.isMaxed?e._e():[e._v(" Current Amount: "+e._s(e.formatRift(e.resource))+" ")],i("br"),e._v(" Total Filled: "+e._s(e.formatRift(e.rift.totalFill))+" ")],2)])])])])]):e._e()},jVe=[],zVe=X(qVe,WVe,jVe,!1,null,"bc4139f2");const XVe=zVe.exports,KVe={name:"PelleBarPanel",components:{PelleRift:XVe},data(){return{decayRate:0,isCollapsed:!1}},computed:{collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"},strikes(){return PelleStrikes.all}},methods:{update(){this.decayRate=Pelle.riftDrainPercent,this.isCollapsed=player.celestials.pelle.collapsed.rifts},toggleCollapse(){player.celestials.pelle.collapsed.rifts=!this.isCollapsed}}};var ZVe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-pelle-panel-container"},[i("div",{staticClass:"c-pelle-panel-title"},[i("i",{staticClass:"c-collapse-icon-clickable",class:e.collapseIcon,on:{click:e.toggleCollapse}}),e._v(" Pelle Strikes and Rifts ")]),e.isCollapsed?e._e():i("div",{staticClass:"l-pelle-content-container"},[e._v(" Rifts can be activated by clicking on their bars. "),e.strikes.length>1?i("span",[e._v("You cannot activate more than two Rifts at once.")]):i("br"),e._v(" When active, Rifts consume "+e._s(e.formatPercents(e.decayRate))+" of another resource per second. "),i("br"),e._v(" Rift effects apply even when not activated, and are based on the total amount drained. "),i("b",{staticClass:"o-strike-warning"},[e._v("Pelle Strike penalties are permanent and remain active even after Armageddon!")]),i("div",{staticClass:"c-pelle-bar-container"},e._l(e.strikes,function(n){return i("PelleRift",{key:n.config.id,attrs:{strike:n}})}),1)])])},QVe=[],JVe=X(KVe,ZVe,QVe,!1,null,"37c7e8d6");const eYe=JVe.exports,tYe={name:"RemnantGainFactor",components:{ExpandingControlBox:dc},props:{hide:{type:Boolean,required:!1,default:!1}},data(){return{best:{am:new Decimal(0),ip:new Decimal(0),ep:new Decimal(0)},dilationMult:[1,1,1],remnants:0,remnantsGain:0}},computed:{opacity(){return+!this.hide}},methods:{update(){this.best.am.copyFrom(player.celestials.pelle.records.totalAntimatter),this.best.ip.copyFrom(player.celestials.pelle.records.totalInfinityPoints),this.best.ep.copyFrom(player.celestials.pelle.records.totalEternityPoints),this.dilationMult=PelleStrikes.dilation.hasStrike?[500,10,5]:[1,1,1],this.remnants=Pelle.cel.remnants,this.remnantsGain=Pelle.remnantsGain}}};var iYe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-remnant-factors-container"},[i("ExpandingControlBox",{style:{opacity:e.opacity},attrs:{"container-class":"c-remnant-factors",label:"Remnant Gain Factors"},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("div",{staticClass:"c-remnant-factors-text"},[e._v(" Best AM: "+e._s(e.format(e.best.am,2,2))),i("br"),e._v(" Best IP: "+e._s(e.format(e.best.ip,2,2))),i("br"),e._v(" Best EP: "+e._s(e.format(e.best.ep,2,2))),i("br"),i("br"),i("div",{staticClass:"l-remnant-factors-row"},[i("div",{staticClass:"l-remnant-factors-col l-remnant-factors-col--first"},[i("div",{staticClass:"l-remnant-factors-item"},[e._v(" log10(log10(am)"+e._s(e.dilationMult[0]>1?`*${e.dilationMult[0]}`:"")+" + 2) ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" log10(log10(ip)"+e._s(e.dilationMult[1]>1?`*${e.dilationMult[1]}`:"")+" + 2) ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" log10(log10(ep)"+e._s(e.dilationMult[2]>1?`*${e.dilationMult[2]}`:"")+" + 2) ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Static divisor ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Static power ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Existing Remnants ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Final amount ")])]),i("div",{staticClass:"l-remnant-factors-col"},[i("div",{staticClass:"l-remnant-factors-item"}),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" + ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" + ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" / ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" ^ ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" - ")])]),i("div",{staticClass:"l-remnant-factors-col"},[i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(Math.log10(e.best.am.add(1).log10()*e.dilationMult[0]+2),2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(Math.log10(e.best.ip.add(1).log10()*e.dilationMult[1]+2),2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(Math.log10(e.best.ep.add(1).log10()*e.dilationMult[2]+2),2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(1.64,2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(7.5,2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(e.remnants,2,0))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(e.remnantsGain,2,e.remnantsGain>=1?0:2))+" ")])])])])]},proxy:!0}])})],1)},nYe=[],rYe=X(tYe,iYe,nYe,!1,null,null);const aYe=rYe.exports,sYe={name:"PelleUpgradePanel",components:{ArmageddonButton:w5,PelleUpgradeVue:Y5,RemnantGainFactor:aYe},data(){return{showBought:!1,isCollapsed:!1,isHovering:!1,remnants:0,realityShards:new Decimal(0),shardRate:new Decimal(0),upgrades:[],boughtUpgrades:[]}},computed:{collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"},rebuyables:()=>PelleUpgrade.rebuyables,visibleUpgrades(){return this.upgrades.slice(0,5)},fadedUpgrades(){return this.upgrades.slice(5,10)},allUpgrades(){let t=[];return this.showBought&&(t=this.boughtUpgrades),t=t.concat(this.visibleUpgrades),t},showImprovedEstimate(){return this.isHovering&&!this.shardRate.eq(0)}},methods:{update(){this.showBought=Pelle.cel.showBought,this.isCollapsed=player.celestials.pelle.collapsed.upgrades,this.remnants=Pelle.cel.remnants,this.realityShards.copyFrom(Pelle.cel.realityShards),this.shardRate.copyFrom(Pelle.realityShardGainPerSecond),this.upgrades=PelleUpgrade.singles.filter(t=>!t.isBought),this.boughtUpgrades=PelleUpgrade.singles.filter(t=>t.isBought)},toggleBought(){Pelle.cel.showBought=!Pelle.cel.showBought,this.$recompute("upgrades")},toggleCollapse(){player.celestials.pelle.collapsed.upgrades=!this.isCollapsed}}};var oYe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-pelle-panel-container"},[i("div",{staticClass:"c-pelle-panel-title"},[i("i",{staticClass:"c-collapse-icon-clickable",class:e.collapseIcon,on:{click:e.toggleCollapse}}),e._v(" Pelle Upgrades ")]),e.isCollapsed?e._e():i("div",{staticClass:"l-pelle-content-container"},[i("div",{staticClass:"c-armageddon-container"},[i("div",[i("div",{staticClass:"c-armageddon-button-container",on:{mouseover:function(n){e.isHovering=!0},mouseleave:function(n){e.isHovering=!1}}},[i("ArmageddonButton")],1),i("RemnantGainFactor",{attrs:{hide:e.showImprovedEstimate}})],1),i("div",{staticClass:"c-armageddon-resources-container"},[i("div",[e._v(" You have "),i("span",{staticClass:"c-remnants-amount"},[e._v(e._s(e.format(e.remnants,2)))]),e._v(" Remnants. ")]),i("div",[e._v(" You have "),i("span",{staticClass:"c-remnants-amount"},[e._v(e._s(e.format(e.realityShards,2)))]),e._v(" Reality Shards. "),i("span",{staticClass:"c-remnants-amount"},[e._v("+"+e._s(e.format(e.shardRate,2,2))+"/s")])])])]),i("div",{staticClass:"c-pelle-upgrade-container"},e._l(e.rebuyables,function(n){return i("PelleUpgradeVue",{key:n.config.id,attrs:{upgrade:n,"show-improved-estimate":e.showImprovedEstimate}})}),1),i("button",{staticClass:"o-pelle-button",on:{click:e.toggleBought}},[e._v(" "+e._s(e.showBought?"Showing bought upgrades":"Bought upgrades hidden")+" ")]),e.allUpgrades.length?i("div",{staticClass:"c-pelle-upgrade-container"},[e._l(e.allUpgrades,function(n){return i("PelleUpgradeVue",{key:n.config.id,attrs:{upgrade:n,"show-improved-estimate":e.showImprovedEstimate}})}),e._l(e.fadedUpgrades,function(n){return i("PelleUpgradeVue",{key:n.config.id,attrs:{upgrade:n,faded:""}})})],2):i("div",[e._v(" No upgrades to show! ")])])])},lYe=[],cYe=X(sYe,oYe,lYe,!1,null,"c71fc570");const uYe=cYe.exports,dYe={name:"PelleTab",components:{PelleBarPanel:eYe,PelleUpgradePanel:uYe,GalaxyGeneratorPanel:OVe,CelestialQuoteHistory:Xf},data(){return{isDoomed:!1,canEnterPelle:!1,completedRows:0,cappedResources:0,hasStrike:!1,hasGalaxyGenerator:!1}},computed:{symbol(){return Pelle.symbol},totalRows(){return Achievements.prePelleRows.length},totalAlchemyResources(){return AlchemyResources.all.length}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.isDoomed||(this.completedRows=Achievements.prePelleRows.countWhere(t=>t.every(e=>e.isUnlocked)),this.cappedResources=AlchemyResources.all.countWhere(t=>t.capped),this.canEnterPelle=this.completedRows===this.totalRows&&this.cappedResources===this.totalAlchemyResources),this.hasStrike=PelleStrikes.all.some(t=>t.hasStrike),this.hasGalaxyGenerator=PelleRifts.recursion.milestones[2].canBeApplied||GalaxyGenerator.spentGalaxies>0},toggleBought(){Pelle.cel.showBought=!Pelle.cel.showBought,this.$recompute("upgrades")},showModal(){Modal.pelleEffects.show()},enterDoomModal(){Modal.armageddon.show()}}};var hYe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-pelle-celestial-tab"},[e.isDoomed?i("div",{staticClass:"l-pelle-all-content-container"},[i("CelestialQuoteHistory",{attrs:{celestial:"pelle"}}),i("div",{staticClass:"button-container"},[i("button",{staticClass:"o-pelle-button",on:{click:e.showModal}},[e._v(" Show effects in Doomed Reality ")])]),i("br"),e.hasGalaxyGenerator?i("GalaxyGeneratorPanel"):e._e(),e.hasStrike?i("PelleBarPanel"):e._e(),i("PelleUpgradePanel")],1):e.canEnterPelle?i("button",{staticClass:"pelle-doom-button",on:{click:e.enterDoomModal}},[e._v(" Doom"),i("br"),e._v("Your"),i("br"),e._v("Reality "),i("div",{staticClass:"pelle-icon-container"},[i("span",{staticClass:"pelle-icon"},[e._v(e._s(e.symbol))])])]):i("div",{staticClass:"pelle-unlock-requirements"},[e._v(" You must have "+e._s(e.formatInt(e.totalRows))+" rows of Achievements and all of your Glyph Alchemy Resources capped to unlock Pelle, Celestial of Antimatter. "),i("br"),i("br"),e._v(" "+e._s(e.formatInt(e.completedRows))+" / "+e._s(e.formatInt(e.totalRows))+" Achievement rows completed "),i("br"),e._v(" "+e._s(e.formatInt(e.cappedResources))+" / "+e._s(e.formatInt(e.totalAlchemyResources))+" capped Alchemy Resources ")])])},fYe=[],pYe=X(dYe,hYe,fYe,!1,null,"86baeebd");const mYe=pYe.exports,yYe={name:"PreviousSpeedrunInfo",props:{prevRunInfo:{type:Object,required:!1,default:()=>{}},index:{type:Number,required:!0}},computed:{segmentAttr(){return{icon:`fas o-icon ${this.prevRunInfo.isSegmented?"fa-stopwatch-20":"fa-stopwatch"}`,text:this.prevRunInfo.isSegmented?"Segmented":"Single Segment"}},stdAttr(){return{icon:`fas fa-coins o-icon ${this.prevRunInfo.usedSTD?"l-icon-on":"l-icon-off"}`,text:this.prevRunInfo.usedSTD?"Used STD Upgrades":"No STDs used"}},offlineAttr(){const t=this.prevRunInfo.offlineTimeUsed/this.prevRunInfo.records.max();let e;return t===0?e="fa-eye":t<.1?e="fa-computer":t<.6?e="fa-moon":e="fa-power-off",{icon:`fas o-icon ${e}`,text:`${t===0?"No":formatPercents(t,1)} Offline Time`}},seedAttr(){let t;switch(this.prevRunInfo.seedSelection){case SPEEDRUN_SEED_STATE.UNKNOWN:t="fa-question";break;case SPEEDRUN_SEED_STATE.FIXED:t="fa-gamepad";break;case SPEEDRUN_SEED_STATE.RANDOM:t="fa-dice";break;case SPEEDRUN_SEED_STATE.PLAYER:t="fa-user-pen";break;default:throw new Error("Unrecognized speedrun seed option in previous run subtab")}return{icon:`fas ${t} o-icon`,text:Speedrun.seedModeText(this.prevRunInfo)}},iconAttrs(){return[this.offlineAttr,this.segmentAttr,this.stdAttr,this.seedAttr]},startDate(){return Time.toDateTimeString(this.prevRunInfo.startDate)},finalTime(){return TimeSpan.fromMilliseconds(this.prevRunInfo.records.max()).toStringShort(!0,!0)}}};var gYe=function(){var e=this,i=e._self._c;return e.prevRunInfo?i("div",{staticClass:"c-icon-container"},[i("span",[e._v("Run "+e._s(e.index))]),i("span",[e._v(e._s(e.prevRunInfo.name))]),e._l(e.iconAttrs,function(n){return i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.text,expression:"attr.text"}],key:n.icon,class:n.icon})}),i("span",[e._v("Started: "+e._s(e.startDate))]),i("span",[e._v("Final Time: "+e._s(e.finalTime))])],2):i("div",{staticClass:"c-no-record"},[e._v(" No speedrun records found for run "+e._s(e.index)+". ")])},vYe=[],bYe=X(yYe,gYe,vYe,!1,null,"279778e1");const _Ye=bYe.exports,wYe={name:"SpeedrunMilestoneCompare",props:{milestone:{type:Object,required:!0},currTime:{type:Number,required:!1,default:0},refTime:{type:Number,required:!1,default:0},bestTime:{type:Number,required:!0},runIndices:{type:Array,required:!0}},data(){return{realTime:0}},computed:{classObject(){const t=this.currTime>0&&this.refTime>0;return{"l-speedrun-milestone-entry":!0,"l-milestone-slow":t&&this.currTime>this.refTime,"l-milestone-fast":t&&this.currTime<this.refTime,"l-milestone-fastest":t&&this.currTime<this.bestTime}}},methods:{update(){this.realTime=player.records.realTimePlayed},timeString(t,e){const i=TimeSpan.fromMilliseconds(t).toStringShort(!0,!0),n=this.currTime>0?this.currTime-t:this.realTime-t;let r=TimeSpan.fromMilliseconds(Math.abs(n)).toStringShort(!0,!0);return r=`${this.currTime>t?"-":"+"}${r}`,t>0?`${i}${e?` (${r})`:""}`:"Not reached yet"},timeStyle(t){const e=t===[this.currTime,this.refTime,this.bestTime].filter(i=>i!==0).min();return{color:"var(--color-text)",opacity:e?1:.85,"font-weight":e?"bold":null}}}};var EYe=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject},[i("span",{staticClass:"l-milestone-title"},[e._v(e._s(e.milestone.name))]),i("span",{style:e.timeStyle(e.currTime)},[e._v("Current run: "+e._s(e.timeString(e.currTime)))]),e.refTime?i("span",{style:e.timeStyle(e.refTime)},[e._v(" Run "+e._s(e.runIndices[0])+": "+e._s(e.timeString(e.refTime,!0))+" ")]):e._e(),i("span",{style:e.timeStyle(e.bestTime)},[e._v("Best ("+e._s(e.runIndices[1])+"): "+e._s(e.timeString(e.bestTime,!0)))])])},TYe=[],CYe=X(wYe,EYe,TYe,!1,null,"b9670f28");const kYe=CYe.exports,SYe={name:"PreviousSpeedrunTab",components:{PrimaryButton:mt,SpeedrunMilestoneCompare:kYe,PreviousSpeedrunInfo:_Ye},data(){return{milestoneTimes:[],isSpectating:!1,selectedRun:0,runPage:0}},computed:{milestones:()=>GameDatabase.speedrunMilestones,previousRuns(){const t=Object.keys(player.speedrun.previousRuns),e=[];for(const i of t){const n=player.speedrun.previousRuns[i];n.id=Number(i),e.push(n)}return e},bestPreviousTimes(){const t=GameDatabase.speedrunMilestones.length+1,e=Array.repeat(0,t),i=[...e];for(const r of Object.keys(player.speedrun.previousRuns)){const a=player.speedrun.previousRuns[r].records;for(let s=0;s<t;s++)a[s]!==0&&(a[s]<e[s]||e[s]===0)&&(e[s]=a[s],i[s]=r)}const n=Array.repeat({},t);for(let r=0;r<t;r++)n[r]={time:e[r],index:i[r]};return n},numRuns(){return Object.keys(this.previousRuns).length},highestIndex(){return Math.max(this.previousRuns.map(t=>Number(t.id)).max(),player.records.fullGameCompletions)},spectateText(){return this.isSpectating?"Numbers here are unaffected by END so that you can see your final records.":null}},methods:{update(){this.milestoneTimes=[...player.speedrun.records],this.isSpectating=GameEnd.endState>END_STATE_MARKERS.SPECTATE_GAME},selectRun(t){this.selectedRun=t},findRun(t){return this.previousRuns.find(e=>(e==null?void 0:e.id)===10*this.runPage+t)},changePage(t){this.runPage=Math.clamp(this.runPage+t,0,Math.floor(this.highestIndex/10))}}};var AYe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-previous-runs"},[i("b",[e._v("You have completed "+e._s(e.quantify("speedrun",e.numRuns,0,0,n=>n))+" prior to this playthrough.")]),i("b",[e._v("Statistics of previous runs are below, mouseover icons for more details.")]),i("b",[e._v("Click the magnifying glass to compare the milestones on a particular run to this run.")]),i("b",[e._v(e._s(e.spectateText))]),i("br"),e.highestIndex>10?i("div",{staticClass:"c-run-page-nav"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option fas fa-arrow-left",class:{"o-primary-btn--disabled":e.runPage===0},on:{click:function(n){return e.changePage(-1)}}}),e._v(" Showing runs "+e._s(10*e.runPage+1)+" to "+e._s(10*(e.runPage+1))+" ("+e._s(e.highestIndex)+" total runs) "),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option fas fa-arrow-right",class:{"o-primary-btn--disabled":e.runPage+1>e.highestIndex/10},on:{click:function(n){return e.changePage(1)}}})],1):e._e(),i("div",{staticClass:"c-previous-runs"},e._l(10,function(n){return i("span",{key:n},[10*e.runPage+n<=e.highestIndex?i("span",{staticClass:"c-single-run"},[e.findRun(n)?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option fas fa-magnifying-glass",class:{"o-selected-btn":e.selectedRun===10*e.runPage+n},on:{click:function(r){return e.selectRun(10*e.runPage+n)}}}):e._e(),i("PreviousSpeedrunInfo",{attrs:{"prev-run-info":e.findRun(n),index:10*e.runPage+n}})],1):e._e()])}),0),i("br"),e._m(0),i("div",{staticClass:"l-speedrun-milestone-tab"},e._l(e.milestones,function(n){return i("SpeedrunMilestoneCompare",{key:n.id,attrs:{milestone:n,"curr-time":e.milestoneTimes[n.id],"ref-time":e.selectedRun?e.previousRuns.find(r=>r.id===e.selectedRun).records[n.id]:null,"best-time":e.bestPreviousTimes[n.id].time,"run-indices":[e.selectedRun,e.bestPreviousTimes[n.id].index]}})}),1)])},xYe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-legend"},[e("div",{staticClass:"c-legend-cell"},[e("span",{staticClass:"o-box l-milestone-none"}),t._v(" Not reached this run ")]),e("div",{staticClass:"c-legend-cell"},[e("span",{staticClass:"o-box l-milestone-slow"}),t._v(" Slower than comparison ")]),e("div",{staticClass:"c-legend-cell"},[e("span",{staticClass:"o-box l-milestone-fast"}),t._v(" Faster than comparison ")]),e("div",{staticClass:"c-legend-cell"},[e("span",{staticClass:"o-box l-milestone-fastest"}),t._v(" Faster than best ")])])}],DYe=X(SYe,AYe,xYe,!1,null,"35b9b218");const IYe=DYe.exports,RYe={name:"RaPetLevelBar",props:{petConfig:{type:Object,required:!0}},data(){return{isUnlocked:!1,level:0,memories:0,requiredMemories:0,nextLevelEstimate:0}},computed:{pet(){return this.petConfig.pet},shiftDown(){return ui.view.shiftDown},unlocks(){return this.pet.unlocks},importantLevels(){return this.unlocks.map(t=>t.level)},barStyle(){return{width:`${100*Math.min(1,this.memories/this.requiredMemories)}%`,background:this.pet.color}},petStyle(){return{"background-color":this.pet.color}},prevGoal(){const t=this.importantLevels.filter(e=>e<=this.level);return Math.clampMax(t.max(),15)},nextGoal(){const t=this.importantLevels.filter(e=>e>this.level);return t.length===0?25:t.min()},currentLevelGoal(){return this.level+1},classObject(){const t=this.memories>=this.requiredMemories,e=this.pet;return{"c-ra-level-up-btn":!0,"c-ra-pet-btn--available":t,[`c-ra-pet-btn--${e.id}`]:t}},nextUnlock(){return this.pet.unlocks.find(e=>e.level===this.level+1)??!1},showNextScalingUpgrade(){switch(this.pet.name){case"Teresa":return Math.min(12,Math.floor(this.level/2))!==Math.min(12,Math.floor((this.level+1)/2));case"Effarig":return AlchemyResources.all.filter(t=>t.unlockedAt===this.level+1).length>0;case"Enslaved":return!0;case"V":return Math.min(Math.floor(this.level/6),4)!==Math.min(Math.floor((this.level+1)/6),4);default:return!1}},nextScalingUpgrade(){const t=AlchemyResources.all.filter(e=>e.unlockedAt===this.level+1)[0];switch(this.pet.name){case"Teresa":return"You can charge an additional Infinity Upgrade";case"Effarig":return`Unlock the ${t.name} resource in Glyph Alchemy, which
          ${t.description}`;case"Enslaved":return`${formatX(20)} to stored game time, and you can store an additional hour of real time`;case"V":return"You can purchase an additional Triad Study";default:return"false"}},reward(){return typeof this.nextUnlock.reward=="function"?this.nextUnlock.reward():this.nextUnlock.reward}},methods:{update(){const t=this.pet;this.isUnlocked=t.isUnlocked,this.isUnlocked&&(this.memories=t.memories,this.level=t.level,this.requiredMemories=t.requiredMemories,this.nextLevelEstimate=Ra.timeToGoalString(this.pet,this.requiredMemories-this.memories))},isImportant(t){return this.importantLevels.includes(t)}}};var MYe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-ra-bar-container"},[i("div",{staticClass:"c-ra-exp-bar"},[i("div",{staticClass:"c-ra-exp-bar-inner",style:e.barStyle})]),i("div",{class:e.classObject,on:{click:function(n){return e.pet.levelUp()}}},[i("span",{staticClass:"fas fa-arrow-up"}),i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" Level "+e._s(e.pet.name)+" to "+e._s(e.formatInt(e.level+1))+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" "+e._s(e.reward)+" "),e.showNextScalingUpgrade?i("div",{style:{"margin-top":e.nextUnlock.reward?"0.6rem":"0"}},[e._v(" "+e._s(e.nextScalingUpgrade)+" ")]):e._e()]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__footer"},[e._v(" Cost: "+e._s(e.quantify("Memory",e.requiredMemories,2,2))+" "),e.memories<=e.requiredMemories?i("span",[e._v(e._s(e.nextLevelEstimate))]):e._e()])])])])},PYe=[],OYe=X(RYe,MYe,PYe,!1,null,null);const NYe=OYe.exports,GYe={name:"RaUpgradeIcon",props:{unlock:{type:Object,required:!0}},data(){return{isUnlocked:!1,level:0,description:""}},computed:{petID(){return this.unlock.pet.id},petName(){return this.unlock.pet.name},icon(){return this.unlock.displayIcon},classObject(){return{"c-ra-upgrade-icon":!0,"c-ra-upgrade-icon--inactive":!this.isUnlocked,[`c-ra-upgrade-icon--${this.petID}`]:!0}},isUseless(){return this.unlock.disabledByPelle}},methods:{update(){const t=this.unlock;this.isUnlocked=t.isUnlocked,this.level=t.level,this.description=t.reward}}};var UYe=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject},[i("div",{domProps:{innerHTML:e._s(e.icon)}}),i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" "+e._s(e.petName)+" Level "+e._s(e.formatInt(e.level))+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description",class:{"o-pelle-disabled":e.isUseless}},[e._v(" "+e._s(e.description)+" ")])])])},LYe=[],BYe=X(GYe,UYe,LYe,!1,null,"3044a86a");const $Ye=BYe.exports,FYe={name:"RaPet",components:{RaUpgradeIcon:$Ye,RaPetLevelBar:NYe},props:{petConfig:{type:Object,required:!0}},data(){return{isUnlocked:!1,isRaCapped:!1,isCapped:!1,level:0,memories:0,requiredMemories:0,memoryChunks:0,memoryChunksPerSecond:0,memoriesPerSecond:0,memoryMultiplier:1,canGetMemoryChunks:!1,memoryUpgradeCost:0,chunkUpgradeCost:0,memoryUpgradeCapped:!1,chunkUpgradeCapped:!1,currentMemoryMult:0,currentChunkMult:0,nextMemoryUpgradeEstimate:"",nextMemoryChunkUpgradeEstimate:""}},computed:{levelCap(){return Ra.levelCap},showScalingUpgrade(){return this.petConfig.scalingUpgradeVisible(this.level)},scalingUpgradeText(){return this.petConfig.scalingUpgradeText(this.level)},pet(){return this.petConfig.pet},name(){return this.pet.name},petStyle(){return{color:this.pet.color}},unlocks(){return this.pet.unlocks},chunkTooltip(){return`Based on ${this.pet.chunkGain}`},memoryGainTooltip(){return`Based on ${this.pet.memoryGain}`}},methods:{update(){this.isRaCapped=Ra.totalPetLevel===Ra.maxTotalPetLevel;const t=this.pet;this.isCapped=t.level===Ra.levelCap,this.isUnlocked=t.isUnlocked,this.isUnlocked&&(this.level=t.level,this.memories=t.memories,this.requiredMemories=t.requiredMemories,this.memoryChunks=t.memoryChunks,this.memoryChunksPerSecond=t.memoryChunksPerSecond,this.memoriesPerSecond=t.memoryChunks*Ra.productionPerMemoryChunk*this.currentMemoryMult,this.canGetMemoryChunks=t.canGetMemoryChunks,this.memoryMultiplier=t.memoryProductionMultiplier,this.memoryUpgradeCost=t.memoryUpgradeCost,this.chunkUpgradeCost=t.chunkUpgradeCost,this.memoryUpgradeCapped=t.memoryUpgradeCapped,this.chunkUpgradeCapped=t.chunkUpgradeCapped,this.currentMemoryMult=t.memoryUpgradeCurrentMult,this.currentChunkMult=t.chunkUpgradeCurrentMult,this.nextMemoryUpgradeEstimate=Ra.timeToGoalString(t,this.memoryUpgradeCost-this.memories),this.nextMemoryChunkUpgradeEstimate=Ra.timeToGoalString(t,this.chunkUpgradeCost-this.memories))},nextUnlockLevel(){const t=this.pet.unlocks.map(e=>e.level).filter(e=>e>this.level);return t.length===0?25:t.min()},upgradeClassObject(t){const e=t==="memory"?this.memoryUpgradeCost<=this.memories:this.chunkUpgradeCost<=this.memories,i=t==="memory"?this.memoryUpgradeCapped:this.chunkUpgradeCapped,n=this.pet;return{"c-ra-pet-upgrade":!0,"c-ra-pet-upgrade-memory":t==="memory","c-ra-pet-upgrade-chunk":t==="chunk","c-ra-pet-btn--available":e,[`c-ra-pet-btn--${n.id}`]:e,"c-ra-pet-btn--available__capped":i,[`c-ra-pet-btn--${n.id}__capped`]:i}},barStyle(t){const e=t==="memory"?this.memoryUpgradeCost:this.chunkUpgradeCost,i=t==="memory"&&this.memoryUpgradeCapped||t==="chunk"&&this.chunkUpgradeCapped?e:this.memories;return{width:`${100*Math.min(1,i/e)}%`,background:this.pet.color}}}};var HYe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("div",{staticClass:"l-ra-pet-container"},[i("div",{staticClass:"c-ra-pet-header",style:e.petStyle},[i("div",{staticClass:"c-ra-pet-title"},[e._v(" "+e._s(e.pet.id==="enslaved"?"Nameless":e.name)+" Level "+e._s(e.formatInt(e.level))+"/"+e._s(e.formatInt(e.levelCap))+" ")]),e.showScalingUpgrade?i("div",{key:e.level},[e._v(" "+e._s(e.scalingUpgradeText)+" ")]):i("br"),e.isCapped?e._e():i("div",[i("div",[e._v(" "+e._s(e.name)+" "+e._s(e.pet.id==="enslaved"?"have":"has")+" "+e._s(e.quantify("Memory",e.memories,2))+" ")])]),e.isCapped?e._e():i("div",{staticClass:"l-ra-pet-middle-container"},[i("div",{staticClass:"l-ra-pet-upgrade-container"},[i("div",{staticClass:"l-ra-pet-upgrade c-ra-pet-upgrade__top"},[i("div",{class:e.upgradeClassObject("memory"),on:{click:function(n){return e.pet.purchaseMemoryUpgrade()}}},[i("span",{staticClass:"fas fa-brain"}),e.memoryUpgradeCapped?i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" "+e._s(e.name)+"'s Recollection ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Capped: "+e._s(e.formatX(e.currentMemoryMult,2,2))+" ")])]):i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" "+e._s(e.name)+"'s Recollection ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Gain "+e._s(e.formatPercents(.3))+" more Memories ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__footer"},[e._v(" Cost: "+e._s(e.quantify("Memory",e.memoryUpgradeCost,2,2))+" "),e.memories<=e.memoryUpgradeCost?i("span",[e._v(" "+e._s(e.nextMemoryUpgradeEstimate)+" ")]):e._e(),i("br"),e._v(" Currently: "+e._s(e.formatX(e.currentMemoryMult,2,2))+" ")])])]),i("div",{staticClass:"c-ra-upgrade-bar"},[i("div",{staticClass:"c-ra-upgrade-bar__inner",style:e.barStyle("memory")})])]),i("div",{staticClass:"l-ra-pet-upgrade c-ra-pet-upgrade__bottom"},[i("div",{class:e.upgradeClassObject("chunk"),on:{click:function(n){return e.pet.purchaseChunkUpgrade()}}},[i("span",{staticClass:"fas fa-dice-d6"}),e.chunkUpgradeCapped?i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" "+e._s(e.name)+"'s Fragmentation ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Capped: "+e._s(e.formatX(e.currentChunkMult,2,2))+" ")])]):i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" "+e._s(e.name)+"'s Fragmentation ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Gain "+e._s(e.formatPercents(.5))+" more Memory Chunks ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__footer"},[e._v(" Cost: "+e._s(e.quantify("Memory",e.chunkUpgradeCost,2,2))+" "),e.memories<=e.chunkUpgradeCost?i("span",[e._v(" "+e._s(e.nextMemoryChunkUpgradeEstimate)+" ")]):e._e(),i("br"),e._v(" Currently: "+e._s(e.formatX(e.currentChunkMult,2,2))+" ")])])]),i("div",{staticClass:"c-ra-upgrade-bar c-ra-upgrade-bar--bottom"},[i("div",{staticClass:"c-ra-upgrade-bar__inner",style:e.barStyle("chunk")})])])]),e.isCapped?e._e():i("RaPetLevelBar",{attrs:{"pet-config":e.petConfig}})],1),e.isCapped?e._e():i("div",[i("div",[e._v(" "+e._s(e.quantify("Memory Chunk",e.memoryChunks,2,2))+", "+e._s(e.quantify("Memory",e.memoriesPerSecond,2,2))+"/sec ")]),i("div",[e._v(" Gaining "+e._s(e.quantify("Memory Chunk",e.memoryChunksPerSecond,2,2))+"/sec "),i("span",{attrs:{"ach-tooltip":e.chunkTooltip}},[i("i",{staticClass:"fas fa-question-circle"})])])]),e.memoryMultiplier>1&&!e.isRaCapped?i("div",[e._v(" Multiplying all Memory production by "+e._s(e.format(e.memoryMultiplier,2,3))+" "),i("span",{attrs:{"ach-tooltip":e.memoryGainTooltip}},[i("i",{staticClass:"fas fa-question-circle"})])]):e.isRaCapped?e._e():i("br"),e.isRaCapped?i("div",{staticClass:"l-ra-pet-postcompletion-spacer"}):i("br"),i("div",{staticClass:"l-ra-pet-milestones"},e._l(e.unlocks,function(n,r){return i("RaUpgradeIcon",{key:25*e.level+r,attrs:{unlock:n}})}),1)])]):e._e()},VYe=[],YYe=X(FYe,HYe,VYe,!1,null,"8f1ac903");const qYe=YYe.exports,WYe={name:"RaPetRemembranceButton",props:{petConfig:{type:Object,required:!0}},data(){return{isUnlocked:!1,hasRemembrance:!1}},computed:{pet(){return this.petConfig.pet},name(){return this.pet.name},petStyle(){return{backgroundColor:this.hasRemembrance?this.pet.color:"#555","box-shadow":this.hasRemembrance?"0.1rem 0.1rem 0.1rem rgba(0, 0, 0, 0.7)":"","border-color":this.hasRemembrance?"black":""}}},methods:{update(){const t=this.pet;this.isUnlocked=t.isUnlocked,this.isUnlocked&&(this.hasRemembrance=t.hasRemembrance)},toggleRemembrance(){Ra.petWithRemembrance=Ra.petWithRemembrance===this.pet.name?"":this.pet.name}}};var jYe=function(){var e=this,i=e._self._c;return e.isUnlocked?i("button",{staticClass:"c-ra-pet-remembrance-button",style:e.petStyle,on:{click:e.toggleRemembrance}},[e.hasRemembrance?i("span",[e._v(" Remembrance given to "+e._s(e.name)+" ")]):i("span",[e._v(" Give Remembrance to "+e._s(e.name)+" ")])]):e._e()},zYe=[],XYe=X(WYe,jYe,zYe,!1,null,null);const KYe=XYe.exports,ZYe={name:"RaTab",components:{RaPet:qYe,RaPetRemembranceButton:KYe,CelestialQuoteHistory:Xf},data(){return{memoriesPerChunk:0,showReality:!1,isRaCapped:!1,totalLevels:0,showRemembrance:!1,hasRemembrance:!1,remembranceReq:0,remembranceMult:1,remembranceNerf:1,petWithRemembrance:"",isRunning:!1,memoryBoosts:""}},computed:{laitelaUnlock:()=>Laitela.isUnlocked,pets:()=>[{pet:Ra.pets.teresa,scalingUpgradeVisible:()=>Ra.unlocks.chargedInfinityUpgrades.isUnlocked,scalingUpgradeText:()=>`You can Charge ${quantifyInt("Infinity Upgrade",Ra.totalCharges)}.`},{pet:Ra.pets.effarig,scalingUpgradeVisible:()=>AlchemyResources.all.filter(t=>t.isUnlocked).length>0,scalingUpgradeText:()=>{const t=AlchemyResources.all.filter(e=>e.isUnlocked).length;return`You have unlocked ${quantifyInt("Alchemy Resource",t)}.`}},{pet:Ra.pets.enslaved,scalingUpgradeVisible:()=>Ra.unlocks.improvedStoredTime.isUnlocked,scalingUpgradeText:()=>`Stored game time
          ${formatX(Ra.unlocks.improvedStoredTime.effects.gameTimeAmplification.effectOrDefault(1),2)} and real time
          +${formatInt(Ra.unlocks.improvedStoredTime.effects.realTimeCap.effectOrDefault(0)/(1e3*3600))} hours`},{pet:Ra.pets.v,scalingUpgradeVisible:()=>Ra.unlocks.unlockHardV.isUnlocked,scalingUpgradeText:()=>{const t=Ra.unlocks.unlockHardV.effectOrDefault(0);return`You have unlocked ${quantifyInt("Triad Study",t)}.`}}],petStyle(){return{color:this.petWithRemembrance===""?"white":this.pets.find(t=>t.pet.name===this.petWithRemembrance).pet.color}},runButtonClassObject(){return{"c-ra-run-button__icon":!0,"c-ra-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runDescription(){return GameDatabase.celestials.descriptions[4].effects().replace(/^\w/u,t=>t.toUpperCase()).split(`
`)},memoryDescription(){return`Within Ra's Reality, Memory Chunks for Celestial Memories
        will be generated based on certain resource amounts.`},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.memoriesPerChunk=Ra.productionPerMemoryChunk,this.isRaCapped=Ra.totalPetLevel===100,this.totalLevels=Ra.totalPetLevel,this.showRemembrance=Ra.unlocks.effarigUnlock.canBeApplied,this.hasRemembrance=Ra.remembrance.isUnlocked,this.remembranceReq=Ra.remembrance.requiredLevels,this.remembranceMult=Ra.remembrance.multiplier,this.remembranceNerf=Ra.remembrance.nerf,this.petWithRemembrance=Ra.petWithRemembrance,this.isRunning=Ra.isRunning,this.memoryBoosts=Ra.memoryBoostResources},startRun(){this.isDoomed||Modal.celestials.show({name:"Ra's",number:4})},toggleMode(){Ra.toggleMode()}}};var QYe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-ra-celestial-tab"},[i("div",{staticClass:"c-ra-memory-header"},[i("CelestialQuoteHistory",{attrs:{celestial:"ra"}}),e.isRaCapped?i("div",[e._v(" All Memories have been returned. ")]):i("div",[e._v(" Each Memory Chunk generates a base of one Memory per second"),e.memoriesPerChunk>1?i("span",[e._v(", which has been increased to "+e._s(e.quantify("Memory",e.memoriesPerChunk,2,3))+" per second")]):e._e(),e._v(". "),i("br"),e._v(" Storing real time prevents Memory Chunk generation, but Memories will still be gained normally. "),e.memoriesPerChunk>1?i("span",[i("br"),e._v(" This is being increased due to "+e._s(e.memoryBoosts)+". ")]):e._e()])],1),e._m(0),i("div",{staticClass:"l-ra-all-pets-container"},e._l(e.pets,function(n,r){return i("RaPet",{key:r,attrs:{"pet-config":n}})}),1),i("div",{staticClass:"l-ra-non-pets"},[i("button",{staticClass:"c-ra-run-button"},[i("h2",{class:{"o-pelle-disabled":e.isDoomed}},[e.isRunning?i("span",[e._v("You are in ")]):i("span",[e._v("Start ")]),e._v(" Ra's Reality ")]),i("div",{class:e.runButtonClassObject,on:{click:e.startRun}},[i("span",{staticClass:"c-ra-run-button__icon__sigil fas fa-sun"})]),e._l(e.runDescription,function(n,r){return i("span",{key:r+"-ra-run-desc"},[e._v(" "+e._s(n)+" ")])}),i("br"),i("span",[e._v(" "+e._s(e.memoryDescription)+" ")])],2),e.showRemembrance&&!e.isRaCapped?i("div",{staticClass:"c-ra-remembrance-unlock"},[i("h1",{style:e.petStyle},[e._v(" Remembrance ")]),i("span",{style:e.petStyle},[e._v(" Whichever Celestial has Remembrance will get "+e._s(e.formatX(e.remembranceMult))+" Memory Chunk gain. The other Celestials will get "+e._s(e.formatX(e.remembranceNerf,1,1))+" Memory Chunk gain. ")]),e.hasRemembrance?i("div",{staticClass:"c-ra-remembrance-unlock-inner"},e._l(e.pets,function(n,r){return i("RaPetRemembranceButton",{key:r,attrs:{"pet-config":n}})}),1):i("div",{staticClass:"c-ra-remembrance-unlock-inner"},[e._v(" Unlocked by getting "+e._s(e.formatInt(e.remembranceReq))+" total Celestial Memory levels (you need "+e._s(e.formatInt(e.remembranceReq-e.totalLevels))+" more) ")])]):e._e()])])},JYe=[function(){var t=this,e=t._self._c;return e("div",[t._v(" Mouse-over the icons below the bar to see descriptions of upgrades, "),e("br"),t._v(" and mouse-over "),e("i",{staticClass:"fas fa-question-circle"}),t._v(" icons for specific resource information. ")])}],e9e=X(ZYe,QYe,JYe,!1,null,null);const t9e=e9e.exports,i9e={name:"RealityUpgradeButton",components:{PrimaryToggleButton:ln,DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc,HintText:mc},props:{upgrade:{type:Object,required:!0}},data(){return{isAvailableForPurchase:!1,automatorPoints:!1,canBeBought:!1,isRebuyable:!1,isBought:!1,isPossible:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,canBeLocked:!1,hasRequirementLock:!1}},computed:{config(){return this.upgrade.config},classObject(){return{"c-reality-upgrade-btn--useless":this.isUseless,"c-reality-upgrade-btn--bought":this.isBought&&!this.isUseless,"c-reality-upgrade-btn--unavailable":!this.isBought&&!this.canBeBought&&this.isAvailableForPurchase,"c-reality-upgrade-btn--possible":!this.isAvailableForPurchase&&this.isPossible,"c-reality-upgrade-btn--locked":!this.isAvailableForPurchase&&!this.isPossible}},requirementConfig(){return{description:this.config.requirement}},canLock(){return this.config.canLock&&!(this.isAvailableForPurchase||this.isBought)},isUseless(){return Pelle.disabledRUPGs.includes(this.upgrade.id)&&Pelle.isDoomed}},watch:{isAutobuyerOn(t){Autobuyer.realityUpgrade(this.upgrade.id).isActive=t}},methods:{update(){const t=this.upgrade;this.isAvailableForPurchase=t.isAvailableForPurchase,this.automatorPoints=this.config.automatorPoints,this.canBeBought=t.canBeBought,this.isRebuyable=t.isRebuyable,this.isBought=!t.isRebuyable&&t.isBought,this.isPossible=t.isPossible,this.isAutoUnlocked=Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied,this.canBeLocked=t.config.canLock&&!this.isAvailableForPurchase,this.hasRequirementLock=t.hasPlayerLock,this.isRebuyable&&(this.isAutobuyerOn=Autobuyer.realityUpgrade(t.id).isActive)},toggleLock(t){this.isRebuyable||t.toggleMechanicLock()}}};var n9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn",class:e.classObject,on:{click:[function(n){return!n.shiftKey||n.ctrlKey||n.altKey||n.metaKey?null:e.toggleLock(e.upgrade)},function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:e.upgrade.purchase()}]}},[i("HintText",{staticClass:"l-hint-text--reality-upgrade c-hint-text--reality-upgrade",attrs:{type:"realityUpgrades"}},[e._v(" "+e._s(e.config.name)+" ")]),i("span",{class:{"o-pelle-disabled":e.isUseless}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.$viewModel.shiftDown===e.isAvailableForPurchase&&!e.isRebuyable?[i("br"),i("DescriptionDisplay",{staticClass:"c-reality-upgrade-btn__requirement",attrs:{config:e.requirementConfig,label:"Requirement:"}})]:[i("EffectDisplay",{attrs:{config:e.config,br:""}}),e.isBought?e._e():i("CostDisplay",{attrs:{config:e.config,br:"",name:"Reality Machine"}})],e.automatorPoints&&!e.isBought?i("b",[e._v(" (+"+e._s(e.formatInt(e.automatorPoints))+" AP) ")]):e._e()],2)],1),e.canBeLocked?i("div",{staticClass:"o-requirement-lock"},[e.hasRequirementLock?i("i",{staticClass:"fas fa-lock"}):e.canLock?i("i",{staticClass:"fas fa-lock-open"}):e._e()]):e._e(),e.isRebuyable&&e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):e._e()],1)},r9e=[],a9e=X(i9e,n9e,r9e,!1,null,"0d02a306");const s9e=a9e.exports,o9e={name:"RealityUpgradesTab",components:{RealityUpgradeButton:s9e},computed:{upgrades:()=>RealityUpgrades.all,costScalingTooltip:()=>`Prices start increasing faster above ${format(1e30)} RM and then even faster
      above ${format(Decimal.NUMBER_MAX_VALUE,1)} RM`,possibleTooltip:()=>`Checkered upgrades are impossible to unlock this Reality. Striped upgrades are
      still possible.`,lockTooltip:()=>`This will only function if you have not already failed the condition or
      unlocked the upgrade.`},methods:{id(t,e){return(t-1)*5+e-1}}};var l9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-reality-upgrade-grid"},[i("div",{staticClass:"c-reality-upgrade-infotext"},[e._v(" Mouseover "),i("i",{staticClass:"fas fa-question-circle"}),e._v(" icons for additional information. "),i("br"),e._v(" The first row of upgrades can be purchased endlessly for increasing costs "),i("span",{attrs:{"ach-tooltip":e.costScalingTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]),e._v(" and the rest are single-purchase. "),i("br"),e._v(" Single-purchase upgrades also have requirements which, once completed, permanently unlock the ability to purchase the upgrades at any point. "),i("span",{attrs:{"ach-tooltip":e.possibleTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),e._v(" Locked upgrades show their requirement and effect by default; unlocked ones show their effect, current bonus, and cost. Hold shift to swap this behavior. "),i("br"),e._v(" You can shift-click upgrades with "),i("i",{staticClass:"fas fa-lock-open"}),e._v(" to make the game prevent you from doing anything this Reality which would cause you to fail their unlock condition. "),i("span",{attrs:{"ach-tooltip":e.lockTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),e._v(" Every completed row of purchased upgrades increases your Glyph level by "+e._s(e.formatInt(1))+". ")]),e._l(5,function(n){return i("div",{key:n,staticClass:"l-reality-upgrade-grid__row"},e._l(5,function(r){return i("RealityUpgradeButton",{key:e.id(n,r),attrs:{upgrade:e.upgrades[e.id(n,r)]}})}),1)})],2)},c9e=[],u9e=X(o9e,l9e,c9e,!1,null,"76cefb28");const d9e=u9e.exports,h9e={name:"ReplicantiUpgradeButton",components:{PrimaryButton:mt,PrimaryToggleButton:ln},props:{setup:{type:Object,required:!0}},data(){return{description:"",canBeBought:!1,costDescription:"",isCapped:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,isEC8Running:!1}},computed:{upgrade(){return this.setup.upgrade}},watch:{isAutobuyerOn(t){Autobuyer.replicantiUpgrade(this.upgrade.id).isActive=t}},methods:{update(){const t=this.setup,e=t.upgrade;this.description=t.formatDescription(e.value),this.canBeBought=e.canBeBought,this.isCapped=e.isCapped,this.isCapped||(this.costDescription=t.formatCost(e.cost));const i=Autobuyer.replicantiUpgrade(e.id);this.isAutoUnlocked=i.isUnlocked,this.isAutobuyerOn=i.isActive,this.isEC8Running=EternityChallenge(8).isRunning}}};class X1{constructor(e,i,n){this.upgrade=e,this.formatDescription=i,this.formatCost=n}}var f9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group l-replicanti-upgrade-button"},[i("PrimaryButton",{staticClass:"o-primary-btn--replicanti-upgrade",attrs:{enabled:e.canBeBought},on:{click:function(n){return e.upgrade.purchase()}}},[i("span",{domProps:{innerHTML:e._s(e.description)}}),e.isCapped?e._e():[i("br"),i("span",[e._v(e._s(e.costDescription))])]],2),e.isAutoUnlocked&&!e.isEC8Running?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--replicanti-upgrade-toggle",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):e._e()],1)},p9e=[],m9e=X(h9e,f9e,p9e,!1,null,"d4c91ef4");const y9e=m9e.exports,g9e={name:"ReplicantiGainText",data(){return{remainingTimeText:"",galaxyText:""}},methods:{update(){const t=player.options.updateRate,e=1e3/t,i=Decimal.divide(getGameSpeedupForDisplay()*t*Math.log(player.replicanti.chance+1),getReplicantiInterval()),n=i.dividedBy(Math.LN10),r=Decimal.divide(getGameSpeedupForDisplay()*t*Math.log(player.replicanti.chance+1),getReplicantiInterval(!1)).dividedBy(Math.LN10),a=Replicanti.amount,s=Replicanti.isUncapped&&a.log10()>LOG10_MAX_VALUE;if(s){const C=Math.log10(ReplicantiGrowth.scaleFactor)/ReplicantiGrowth.scaleLog10,k=i.times(C).plus(1).pow(e/C),S=Pelle.isDoomed?100:1e3,x=Decimal.pow10(S*Math.floor(a.log10()/S+1)),D=Decimal.divide(t/1e3,i.times(C)).times(x.divide(a).pow(C).minus(1)),B=D.eq(0)?"an extremely long time":`${TimeSpan.fromSeconds(D.toNumber())}`;this.remainingTimeText=`You are gaining ${formatX(k,2,1)} Replicanti per second (${B} until ${format(x)})`}else this.remainingTimeText="";const o=LOG10_MAX_VALUE/(e*n.toNumber());let c=(LOG10_MAX_VALUE-a.log10())/(e*n.toNumber());c<0&&(c=0);const d=r.times(e/LOG10_MAX_VALUE),p=C=>50*Math.log((C+49.5)/49.5);let m,y,_;RealityUpgrade(6).isBought&&!Pelle.isDoomed?(m=d.divide(RealityUpgrade(6).effectValue),y=p(Replicanti.galaxies.max+Replicanti.galaxies.extra)-p(Replicanti.galaxies.extra),_=p(Replicanti.galaxies.bought+Replicanti.galaxies.extra)-p(Replicanti.galaxies.extra)):(m=d,y=Replicanti.galaxies.max,_=Replicanti.galaxies.bought);const w=d.reciprocal();if(this.remainingTimeText===""&&(c===0?this.remainingTimeText=`At Infinite Replicanti (normally takes
            ${TimeSpan.fromSeconds(w.toNumber())})`:a.lt(100)?this.remainingTimeText=`Approximately ${TimeSpan.fromSeconds(c)} remaining
            until Infinite Replicanti`:this.remainingTimeText=`${TimeSpan.fromSeconds(c)} remaining until Infinite Replicanti`),Replicanti.galaxies.max===0&&!s&&(this.remainingTimeText+=` (${TimeSpan.fromSeconds(o)} total)`),Replicanti.galaxies.max>0)if(player.replicanti.galaxies===Replicanti.galaxies.max)this.galaxyText="You have reached the maximum amount of Replicanti Galaxies";else{this.galaxyText=`You are gaining a Replicanti Galaxy every
            ${TimeSpan.fromSeconds(w.toNumber())}`,d.gte(1)&&(this.galaxyText=`You are gaining ${quantify("Replicanti Galaxy",d,2,1)} per second`);const C=Decimal.divide(y-_,m).toNumber(),k=Replicanti.galaxies.gain;let S=k*w.toNumber();if(Achievement(126).isUnlocked&&!Pelle.isDoomed){const O=a.log10()/LOG10_MAX_VALUE-k;S+=O*w.toNumber()}const x=k>0?S:w.toNumber()-c;this.galaxyText+=` (all Replicanti Galaxies within
            ${TimeSpan.fromSeconds(Math.clampMin(C-x,0))})`}else this.galaxyText=""}}};var v9e=function(){var e=this,i=e._self._c;return i("p",[e._v(e._s(e.remainingTimeText)),i("br"),e._v(e._s(e.galaxyText))])},b9e=[],_9e=X(g9e,v9e,b9e,!1,null,"b9733ca0");const w9e=_9e.exports,E9e={name:"ReplicantiGalaxyButton",components:{PrimaryButton:mt,PrimaryToggleButton:ln},data(){return{isAvailable:!1,isAutoUnlocked:!1,isAutoActive:!1,isAutoEnabled:!1,isDivideUnlocked:!1,boughtGalaxies:0,extraGalaxies:0}},computed:{resetActionDisplay(){return this.isDivideUnlocked&&!Pelle.isDoomed?`Divide Replicanti by ${format(Number.MAX_VALUE,1,1)}`:"Reset Replicanti amount"},galaxyCountDisplay(){const t=this.boughtGalaxies,e=this.extraGalaxies;return`Currently: ${e>0?`${formatInt(t)}+${formatInt(e)}`:formatInt(t)}`},autobuyer(){return Autobuyer.replicantiGalaxy},autobuyerTextDisplay(){const t=this.isAutoActive,e=!this.isAutoEnabled;return`Auto Galaxy ${t?"ON":"OFF"}${e?" (disabled)":""}`}},methods:{update(){const t=Replicanti.galaxies;this.isAvailable=t.canBuyMore,this.boughtGalaxies=t.bought,this.extraGalaxies=t.extra,this.isDivideUnlocked=Achievement(126).isUnlocked;const e=Autobuyer.replicantiGalaxy;this.isAutoUnlocked=e.isUnlocked,this.isAutoActive=e.isActive,this.isAutoEnabled=e.isEnabled},handleAutoToggle(t){Autobuyer.replicantiGalaxy.isActive=t,this.update()},handleClick(){replicantiGalaxyRequest()}}};var T9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group"},[i("PrimaryButton",{staticClass:"o-primary-btn--replicanti-galaxy",attrs:{enabled:e.isAvailable},on:{click:e.handleClick}},[e._v(" "+e._s(e.resetActionDisplay)+" for a Replicanti Galaxy "),i("br"),e._v(" "+e._s(e.galaxyCountDisplay)+" ")]),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--replicanti-galaxy-toggle",attrs:{value:e.isAutoActive,on:e.autobuyerTextDisplay,off:e.autobuyerTextDisplay},on:{input:e.handleAutoToggle}}):e._e()],1)},C9e=[],k9e=X(E9e,T9e,C9e,!1,null,"f81b9c1c");const S9e=k9e.exports,A9e={name:"ReplicantiTab",components:{PrimaryButton:mt,ReplicantiGainText:w9e,ReplicantiUpgradeButton:y9e,ReplicantiGalaxyButton:S9e},data(){return{isUnlocked:!1,isUnlockAffordable:!1,isInEC8:!1,ec8Purchases:0,amount:new Decimal,mult:new Decimal,hasTDMult:!1,multTD:new Decimal,hasDTMult:!1,multDT:new Decimal,hasIPMult:!1,multIP:new Decimal,hasRaisedCap:!1,replicantiCap:new Decimal,capMultText:"",distantRG:0,remoteRG:0,effarigInfinityBonusRG:0,isUncapped:!1,nextEffarigRGThreshold:0,canSeeGalaxyButton:!1,unlockCost:new Decimal,scrambledText:"",maxReplicanti:new Decimal,estimateToMax:0}},computed:{isDoomed:()=>Pelle.isDoomed,replicantiChanceSetup(){return new X1(ReplicantiUpgrade.chance,t=>`Replicate chance: ${formatPercents(t)}`,t=>`+${formatPercents(.01)} Costs: ${format(t)} IP`)},replicantiIntervalSetup(){const t=ReplicantiUpgrade.interval;function e(i){const n=t.applyModifiers(i),r=n.toNumber();return Number.isFinite(r)&&r>1&&t.isCapped?TimeSpan.fromMilliseconds(r).toStringShort(!1):n.lt(.01)?`< ${format(.01,2,2)}ms`:n.gt(1e3)?`${format(n.div(1e3),2,2)}s`:`${format(n,2,2)}ms`}return new X1(t,i=>`Interval: ${e(i)}`,i=>`➜ ${e(t.nextValue)} Costs: ${format(i)} IP`)},maxGalaxySetup(){const t=ReplicantiUpgrade.galaxies;return new X1(t,e=>{let i="Max Replicanti Galaxies: ";const n=t.extra;if(n>0){const r=e+n;i+=`<br>${formatInt(e)} + ${formatInt(n)} = ${formatInt(r)}`}else i+=formatInt(e);return i},e=>`+${formatInt(1)} Costs: ${format(e)} IP`)},boostText(){const t=[];if(t.push(`a <span class="c-replicanti-description__accent">${formatX(this.mult,2,2)}</span>
        multiplier on all Infinity Dimensions`),this.hasTDMult&&t.push(`a <span class="c-replicanti-description__accent">${formatX(this.multTD,2,2)}</span>
          multiplier on all Time Dimensions from a Dilation Upgrade`),this.hasDTMult){const e=GlyphAlteration.isAdded("replication")?"and Replicanti speed ":"";t.push(`a <span class="c-replicanti-description__accent">${formatX(this.multDT,2,2)}</span>
          multiplier to Dilated Time ${e}from Glyphs`)}return this.hasIPMult&&t.push(`a <span class="c-replicanti-description__accent">${formatX(this.multIP)}</span>
          multiplier to Infinity Points from Glyph Alchemy`),t.length===1?`${t[0]}.`:t.length===2?`${t[0]}<br> and ${t[1]}.`:`${t.slice(0,-1).join(",<br>")},<br> and ${t[t.length-1]}.`},hasMaxText:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,toMaxTooltip(){return this.amount.lte(this.replicantiCap)?null:this.estimateToMax.lt(.01)?"Currently Increasing":TimeSpan.fromSeconds(this.estimateToMax.toNumber()).toStringShort()}},methods:{update(){if(this.isUnlocked=Replicanti.areUnlocked,this.unlockCost=new Decimal(1e140).dividedByEffectOf(PelleRifts.vacuum.milestones[1]),this.isDoomed&&(this.scrambledText=this.vacuumText()),!this.isUnlocked){this.isUnlockAffordable=Currency.infinityPoints.gte(this.unlockCost);return}if(this.isInEC8=EternityChallenge(8).isRunning,this.isInEC8&&(this.ec8Purchases=player.eterc8repl),this.amount.copyFrom(Replicanti.amount),this.mult.copyFrom(replicantiMult()),this.hasTDMult=DilationUpgrade.tdMultReplicanti.isBought,this.multTD.copyFrom(DilationUpgrade.tdMultReplicanti.effectValue),this.hasDTMult=getAdjustedGlyphEffect("replicationdtgain")!==0&&!Pelle.isDoomed,this.multDT=Math.clampMin(Decimal.log10(Replicanti.amount)*getAdjustedGlyphEffect("replicationdtgain"),1),this.hasIPMult=AlchemyResource.exponential.amount>0&&!this.isDoomed,this.multIP=Replicanti.amount.powEffectOf(AlchemyResource.exponential),this.isUncapped=PelleRifts.vacuum.milestones[1].canBeApplied,this.hasRaisedCap=EffarigUnlock.infinity.isUnlocked&&!this.isUncapped,this.replicantiCap.copyFrom(replicantiCap()),this.hasRaisedCap){const t=this.replicantiCap.div(Decimal.NUMBER_MAX_VALUE);this.capMultText=TimeStudy(31).canBeApplied?`Base: ${formatX(t.pow(1/TimeStudy(31).effectValue),2)}; after TS31: ${formatX(t,2)}`:formatX(t,2)}this.distantRG=ReplicantiUpgrade.galaxies.distantRGStart,this.remoteRG=ReplicantiUpgrade.galaxies.remoteRGStart,this.effarigInfinityBonusRG=Effarig.bonusRG,this.nextEffarigRGThreshold=Decimal.NUMBER_MAX_VALUE.pow(Effarig.bonusRG+2),this.canSeeGalaxyButton=Replicanti.galaxies.max>=1||PlayerProgress.eternityUnlocked(),this.maxReplicanti.copyFrom(player.records.thisReality.maxReplicanti),this.estimateToMax=this.calculateEstimate()},vacuumText(){return zn.wordCycle(PelleRifts.vacuum.name)},calculateEstimate(){const t=player.options.updateRate,e=Decimal.divide(getGameSpeedupForDisplay()*t*Math.log(player.replicanti.chance+1),getReplicantiInterval()),i=Math.log10(ReplicantiGrowth.scaleFactor)/ReplicantiGrowth.scaleLog10,n=this.maxReplicanti;return Decimal.divide(t/1e3,e.times(i)).times(n.divide(this.amount).pow(i).minus(1))}}};var x9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-replicanti-tab"},[i("br"),e.isUnlocked?[e.isDoomed?i("div",{staticClass:"modified-cap"},[e._v(" Your Replicanti cap has been removed due to the second "+e._s(e.scrambledText)+" milestone. ")]):e.hasRaisedCap?i("div",{staticClass:"modified-cap"},[e._v(" Completion of Effarig's Infinity is giving you the following rewards: "),i("br"),e._v(" Your Replicanti cap without TS192 is now "+e._s(e.format(e.replicantiCap,2))+" ("+e._s(e.capMultText)+") "),i("br"),e._v(" "+e._s(e.quantifyInt("extra Replicanti Galaxy",e.effarigInfinityBonusRG))+" (Next Replicanti Galaxy at "+e._s(e.format(e.nextEffarigRGThreshold,2))+" cap) ")]):e._e(),i("p",{staticClass:"c-replicanti-description"},[e._v(" You have "),i("span",{staticClass:"c-replicanti-description__accent"},[e._v(e._s(e.format(e.amount,2,0)))]),e._v(" Replicanti, translated to "),i("br"),i("span",{domProps:{innerHTML:e._s(e.boostText)}})]),e.hasMaxText?i("div",{staticClass:"c-replicanti-description"},[e._v(" Your maximum Replicanti reached this Reality is "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.toMaxTooltip,expression:"toMaxTooltip"}],staticClass:"max-accent"},[e._v(e._s(e.format(e.maxReplicanti,2)))]),e._v(". ")]):e._e(),i("br"),e.isInEC8?i("div",[e._v(" You have "+e._s(e.quantifyInt("purchase",e.ec8Purchases))+" left within Eternity Challenge 8. ")]):e._e(),i("div",{staticClass:"l-replicanti-upgrade-row"},[i("ReplicantiUpgradeButton",{attrs:{setup:e.replicantiChanceSetup}}),i("ReplicantiUpgradeButton",{attrs:{setup:e.replicantiIntervalSetup}}),i("ReplicantiUpgradeButton",{attrs:{setup:e.maxGalaxySetup}})],1),i("div",[e._v(" The Max Replicanti Galaxy upgrade can be purchased endlessly, but costs increase "),i("br"),e._v(" more rapidly above "+e._s(e.formatInt(e.distantRG))+" Replicanti Galaxies and even more so above "+e._s(e.formatInt(e.remoteRG))+" Replicanti Galaxies. ")]),i("br"),i("br"),i("ReplicantiGainText"),i("br"),e.canSeeGalaxyButton?i("ReplicantiGalaxyButton"):e._e()]:i("PrimaryButton",{staticClass:"o-primary-btn--replicanti-unlock",attrs:{enabled:e.isUnlockAffordable,onclick:"Replicanti.unlock();"}},[e._v(" Unlock Replicanti "),i("br"),e._v(" Cost: "+e._s(e.format(e.unlockCost))+" IP ")])],2)},D9e=[],I9e=X(A9e,x9e,D9e,!1,null,"37bf26ae");const R9e=I9e.exports,M9e={name:"SecretAchievement",components:{HintText:mc},props:{achievement:{type:Object,required:!0}},data(){return{isUnlocked:!1,isMouseOver:!1,showUnlockState:!1}},computed:{id(){return this.achievement.id},config(){return this.achievement.config},styleObject(){if(this.isUnlocked)return{"background-position":`-${(this.achievement.column-1)*104}px -${(this.achievement.row-1)*104}px`}},classObject(){return{"o-achievement":!0,"o-achievement--hidden":!this.isUnlocked,"o-achievement--unlocked":this.isUnlocked,"o-achievement--secret":!0}},indicatorIconClass(){return this.isUnlocked?"fas fa-check":"fas fa-times"},indicatorClassObject(){return{"o-achievement__indicator":!0,"o-achievement__indicator--locked":!this.isUnlocked}}},beforeDestroy(){clearTimeout(this.mouseOverInterval)},methods:{update(){this.isUnlocked=this.achievement.isUnlocked,this.showUnlockState=player.options.showHintText.achievementUnlockStates},onMouseEnter(){clearTimeout(this.mouseOverInterval),this.isMouseOver=!0},onMouseLeave(){this.mouseOverInterval=setTimeout(()=>this.isMouseOver=!1,300)},onClick(){this.id===11&&SecretAchievement(11).unlock()}}};var P9e=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject,style:e.styleObject,on:{click:e.onClick,mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[i("HintText",{staticClass:"l-hint-text--achievement",attrs:{type:"achievements"}},[e._v(" S"+e._s(e.id)+" ")]),i("div",{staticClass:"o-achievement__tooltip"},[e.isMouseOver?[i("div",{staticClass:"o-achievement__tooltip__name"},[e._v(" "+e._s(e.config.name)+" (S"+e._s(e.id)+") ")]),e.isUnlocked?i("div",{staticClass:"o-achievement__tooltip__description"},[e._v(" "+e._s(e.config.description)+" ")]):e._e()]:e._e()],2),e.showUnlockState?i("div",{class:e.indicatorClassObject},[i("i",{class:e.indicatorIconClass})]):e._e()],1)},O9e=[],N9e=X(M9e,P9e,O9e,!1,null,null);const G9e=N9e.exports,U9e={name:"SecretAchievementRow",components:{SecretAchievement:G9e},props:{row:{type:Array,required:!0}},data(){return{isCompleted:!1}},computed:{classObject(){return{"l-achievement-grid__row":!0,"c-achievement-grid__row--completed":this.isCompleted}}},methods:{update(){this.isCompleted=this.row.every(t=>t.isUnlocked)}}};var L9e=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject},e._l(e.row,function(n,r){return i("SecretAchievement",{key:r,staticClass:"l-achievement-grid__cell",attrs:{achievement:n}})}),1)},B9e=[],$9e=X(U9e,L9e,B9e,!1,null,null);const F9e=$9e.exports,H9e={name:"SecretAchievementTab",components:{SecretAchievementRow:F9e},computed:{rows:()=>SecretAchievements.allRows}};var V9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-achievements-tab"},[e._m(0),i("div",{staticClass:"l-achievement-grid"},e._l(e.rows,function(n,r){return i("secret-achievement-row",{key:r,attrs:{row:n}})}),1)])},Y9e=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-achievements-tab__header"},[e("span",[t._v(" Secret Achievements are optional and give no bonuses. ")])])}],q9e=X(H9e,V9e,Y9e,!1,null,null);const W9e=q9e.exports;var q5={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(typeof self<"u"?self:Ci,function(){return function(i){var n={};function r(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return i[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=i,r.c=n,r.d=function(a,s,o){r.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:o})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,s){if(1&s&&(a=r(a)),8&s||4&s&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),2&s&&typeof a!="string")for(var c in a)r.d(o,c,(function(d){return a[d]}).bind(null,c));return o},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=1)}([function(i,n,r){},function(i,n,r){r.r(n);var a=typeof window<"u"?window.HTMLElement:Object,s={mounted:function(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn:function(_){if(this.isActive&&_.target!==this.$el&&!this.$el.contains(_.target)){var w=this.container?this.container:this.isFullPage?null:this.$el.parentElement;(this.isFullPage||w&&w.contains(_.target))&&(_.preventDefault(),this.$el.focus())}}},beforeDestroy:function(){document.removeEventListener("focusin",this.focusIn)}};function o(_,w,C,k,S,x,O,D){var B,P=typeof _=="function"?_.options:_;return w&&(P.render=w,P.staticRenderFns=C,P._compiled=!0),{exports:_,options:P}}var c=o({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}},function(){var _=this.$createElement,w=this._self._c||_;return w("svg",{attrs:{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height,stroke:this.color}},[w("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[w("g",{attrs:{transform:"translate(1 1)","stroke-width":"2"}},[w("circle",{attrs:{"stroke-opacity":".25",cx:"18",cy:"18",r:"18"}}),w("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[w("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.8s",repeatCount:"indefinite"}})],1)])])])},[]).exports,d=o({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}},function(){var _=this.$createElement,w=this._self._c||_;return w("svg",{attrs:{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:this.color,width:this.width,height:this.height}},[w("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[w("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),w("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),w("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"}},[w("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),w("animate",{attrs:{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),w("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[w("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),w("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])},[]).exports,p=o({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}},function(){var _=this.$createElement,w=this._self._c||_;return w("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:this.height,width:this.width,fill:this.color}},[w("rect",{attrs:{x:"0",y:"13",width:"4",height:"5"}},[w("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}}),w("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}})]),w("rect",{attrs:{x:"10",y:"13",width:"4",height:"5"}},[w("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}}),w("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}})]),w("rect",{attrs:{x:"20",y:"13",width:"4",height:"5"}},[w("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}}),w("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}})])])},[]).exports,m=o({name:"vue-loading",mixins:[s],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,a],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:function(){}},color:String,backgroundColor:String,blur:{type:String,default:"2px"},opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},data:function(){return{isActive:this.active}},components:{Spinner:c,Dots:d,Bars:p},beforeMount:function(){this.programmatic&&(this.container?(this.isFullPage=!1,this.container.appendChild(this.$el)):document.body.appendChild(this.$el))},mounted:function(){this.programmatic&&(this.isActive=!0),document.addEventListener("keyup",this.keyPress)},methods:{cancel:function(){this.canCancel&&this.isActive&&(this.hide(),this.onCancel.apply(null,arguments))},hide:function(){var _=this;this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(function(){var w;_.$destroy(),(w=_.$el).remove!==void 0?w.remove():w.parentNode.removeChild(w)},150))},disableScroll:function(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vld-shown")},enableScroll:function(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vld-shown")},keyPress:function(_){_.keyCode===27&&this.cancel()}},watch:{active:function(_){this.isActive=_},isActive:function(_){_?this.disableScroll():this.enableScroll()}},computed:{bgStyle:function(){return{background:this.backgroundColor,opacity:this.opacity,backdropFilter:"blur(".concat(this.blur,")")}}},beforeDestroy:function(){document.removeEventListener("keyup",this.keyPress)}},function(){var _=this,w=_.$createElement,C=_._self._c||w;return C("transition",{attrs:{name:_.transition}},[C("div",{directives:[{name:"show",rawName:"v-show",value:_.isActive,expression:"isActive"}],staticClass:"vld-overlay is-active",class:{"is-full-page":_.isFullPage},style:{zIndex:_.zIndex},attrs:{tabindex:"0","aria-busy":_.isActive,"aria-label":"Loading"}},[C("div",{staticClass:"vld-background",style:_.bgStyle,on:{click:function(k){return k.preventDefault(),_.cancel(k)}}}),C("div",{staticClass:"vld-icon"},[_._t("before"),_._t("default",[C(_.loader,{tag:"component",attrs:{color:_.color,width:_.width,height:_.height}})]),_._t("after")],2)])])},[]).exports,y=function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return{show:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,x={programmatic:!0},O=Object.assign({},w,k,x),D=new(_.extend(m))({el:document.createElement("div"),propsData:O}),B=Object.assign({},C,S);return Object.keys(B).map(function(P){D.$slots[P]=B[P]}),D}}};r(0),m.install=function(_){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=y(_,w,C);_.$loading=k,_.prototype.$loading=k},n.default=m}]).default})})(q5);var j9e=q5.exports;const z9e=oc(j9e),X9e={name:"ShopButton",props:{purchase:{type:Object,required:!0}},data(){return{currentMult:0,nextMult:0,canAfford:!1,iapDisabled:!1,cost:0,hasChosen:!1,chosenSet:"",lockedCount:0}},computed:{isSingleCosmeticSet(){return this.purchase.config.key==="singleCosmeticSet"},isAllCosmeticSets(){return this.purchase.config.key==="allCosmeticSets"},allSetsUnlocked(){return(this.isSingleCosmeticSet||this.isAllCosmeticSets)&&!this.lockedCount}},methods:{update(){var t;this.currentMult=this.purchase.currentMultForDisplay,this.nextMult=this.purchase.nextMultForDisplay,this.canAfford=this.purchase.canBeBought,this.iapDisabled=!ShopPurchaseData.isIAPEnabled,this.cost=Math.clampMin(this.purchase.cost,0),this.hasChosen=GlyphAppearanceHandler.chosenFromModal!==null,this.chosenSet=((t=GlyphAppearanceHandler.chosenFromModal)==null?void 0:t.name)??"Not Selected",this.lockedCount=GlyphAppearanceHandler.lockedSets.length},openSelectionModal(){Modal.cosmeticSetChoice.show()},performPurchase(){this.isSingleCosmeticSet&&!this.hasChosen||this.purchase.purchase()},purchaseButtonObject(){const t=this.isSingleCosmeticSet&&!this.hasChosen||this.allSetsUnlocked;return{"o-shop-button-button":!0,"o-shop-button-button--disabled":!this.canAfford||t}}}};var K9e=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-shop-button-container"},[i("div",{staticClass:"o-shop-button-description"},[e._v(" "+e._s(e.purchase.description)+" "),i("br"),e.purchase.shouldDisplayMult?i("span",{staticClass:"o-shop-button-multiplier",class:{"o-shop-button-multiplier--disabled":e.iapDisabled}},[e._v(" Currently "+e._s(e.purchase.formatEffect(e.currentMult))+", next: "+e._s(e.purchase.formatEffect(e.nextMult))+" ")]):e._e()]),i("div",[e.isSingleCosmeticSet?i("div",[e.allSetsUnlocked?i("div",{staticClass:"o-shop-button-multiplier"},[e._v(" All Sets unlocked! ")]):i("div",[i("button",{staticClass:"o-shop-button-button",on:{click:e.openSelectionModal}},[e._v(" Choose Set ")]),e._v(" Chosen Set: "+e._s(e.chosenSet)+" ")])]):e._e(),e.isAllCosmeticSets?i("div",{staticClass:"o-shop-button-multiplier"},[e.allSetsUnlocked?i("div",[e._v(" All Sets unlocked! ")]):i("div",[e._v(" Will unlock "+e._s(e.quantify("set",e.lockedCount))+" ")])]):e._e()]),i("button",{class:e.purchaseButtonObject(),on:{click:e.performPurchase}},[e._v(" Cost: "+e._s(e.cost)+" "),i("img",{staticClass:"o-shop-button-button__img",attrs:{src:pE}})]),e.purchase.isUnlocked()?e._e():i("div",{staticClass:"o-shop-button-locked-text"},[e._v(" This affects a feature you have not unlocked yet ("+e._s(e.purchase.lockText)+") ")])])},Z9e=[],Q9e=X(X9e,K9e,Z9e,!1,null,"65863291");const J9e=Q9e.exports,eqe={name:"ShopTab",components:{ShopButton:J9e,Loading:z9e,PrimaryButton:mt},data(){return{availableSTD:0,spentSTD:0,isLoading:!1,IAPsEnabled:!1,creditsClosed:!1,loggedIn:!1,username:"",canRespec:!1,respecTimeStr:""}},computed:{STEAM(){return eG},purchases(){return ShopPurchase.all},enableText(){return`In-app Purchases: ${this.IAPsEnabled?"Enabled":"Disabled"}`},respecText(){return this.loggedIn?this.canRespec?null:"No respec available! (Purchase STDs or wait 3 days since your last one)":"Not logged in!"},hiddenName(){return player.options.hideGoogleName}},methods:{update(){var t;this.availableSTD=ShopPurchaseData.availableSTD,this.spentSTD=ShopPurchaseData.spentSTD,this.isLoading=!!player.IAP.checkoutSession.id,this.IAPsEnabled=player.IAP.enabled,this.creditsClosed=GameEnd.creditsEverClosed,this.loggedIn=Cloud.loggedIn,this.username=(t=Cloud.user)==null?void 0:t.displayName,this.canRespec=ShopPurchaseData.canRespec,!ShopPurchaseData.respecAvailable&&!this.canRespec&&(this.respecTimeStr=ShopPurchaseData.timeUntilRespec.toStringShort())},showStore(){this.creditsClosed||(SecretAchievement(33).unlock(),this.loggedIn?Modal.shop.show():Modal.message.show("You cannot purchase STD coins without logging in first."))},onCancel(){jn.cancelPurchase(!1)},respec(){this.creditsClosed||!this.loggedIn||!this.canRespec||ShopPurchaseData.respecRequest()},toggleEnable(){ShopPurchaseData.availableSTD<0||(player.IAP.enabled=!player.IAP.enabled,ShopPurchaseData.isIAPEnabled&&Speedrun.setSTDUse(!0))},respecClass(){return{"o-primary-btn--subtab-option":!0,"o-pelle-disabled-pointer":this.creditsClosed,"o-primary-btn--disabled":!this.loggedIn||!this.canRespec}}}};var tqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"tab shop"},[i("div",{staticClass:"c-shop-disclaimer"},[e._v(" Disclaimer: These are not required to progress in the game, they are just for supporting the developer. The game is balanced without the use of any microtransactions. ")]),i("div",[e._v(" Note: Shop purchases made on the Android, Steam, and Web versions are separate and non-transferable due to legal reasons. ")]),i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Disable in-app-purchases:"},on:{click:function(n){return e.toggleEnable()}}},[e._v(" "+e._s(e.enableText)+" ")]),e.STEAM?e._e():i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.respecText,expression:"respecText"}],class:e.respecClass(),on:{click:function(n){return e.respec()}}},[e._v(" Respec Shop ")])],1),e.loggedIn&&!e.canRespec&&!e.STEAM?i("div",[e._v(" Time until respec available: "+e._s(e.respecTimeStr)+" ")]):e._e(),e.loggedIn?i("div",{staticClass:"c-login-info"},[e.STEAM?[e._v(" You are logged in as "+e._s(e.username)+". ")]:[e.hiddenName?i("span",[e._v("You are logged in. "),i("i",[e._v("(name hidden)")])]):i("span",[e._v("You are logged in as "+e._s(e.username)+".")]),i("button",{staticClass:"o-shop-button-button",attrs:{onclick:"GameOptions.logout()"}},[e._v(" Disconnect Google Account ")])]],2):i("div",{staticClass:"c-login-info"},[e._v(" You must be logged in to purchase STD coins or use these upgrades. "),i("button",{staticClass:"o-shop-button-button",attrs:{onclick:"GameOptions.login()"}},[e._v(" Login with Google ")])]),i("div",{staticClass:"c-shop-header"},[i("span",[e._v("You have "+e._s(e.availableSTD))]),i("img",{staticClass:"c-shop-header__img",attrs:{src:pE}}),i("button",{staticClass:"o-shop-button-button",class:{"o-shop-button-button--disabled":!e.loggedIn},on:{click:function(n){return e.showStore()}}},[e._v(" Buy More ")])]),e._v(" Note: All numbers on this page are intentionally unaffected by your notation settings "),i("div",{staticClass:"l-shop-buttons-container"},e._l(e.purchases,function(n){return i("ShopButton",{key:n.key,attrs:{purchase:n}})}),1),i("loading",{attrs:{active:e.isLoading,"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":!0}})],1)},iqe=[],nqe=X(eqe,tqe,iqe,!1,null,"ff59336f");const rqe=nqe.exports,aqe={name:"SpeedrunMilestoneSingle",props:{milestone:{type:Object,required:!0},display:{type:Boolean,required:!1,default:!1},time:{type:Number,required:!1,default:0}},computed:{displayName(){return this.display?this.milestone.name:"???"},description(){return this.display?typeof this.milestone.description=="function"?this.milestone.description():this.milestone.description:""},timeDisplay(){return this.time?`Completed in ${TimeSpan.fromMilliseconds(this.time).toStringShort(!0,!0,!0)}`:"Not reached yet"},classObject(){return{"l-speedrun-milestone-entry":!0,"l-speedrun-milestone-entry--completed":this.time}}}};var sqe=function(){var e=this,i=e._self._c;return i("div",{class:e.classObject},[i("b",[e._v(e._s(e.displayName))]),i("i",[e._v(e._s(e.description))]),e._v(" "+e._s(e.timeDisplay)+" ")])},oqe=[],lqe=X(aqe,sqe,oqe,!1,null,null);const cqe=lqe.exports,uqe={name:"SpeedrunMilestonesTab",components:{PrimaryToggleButton:ln,SpeedrunMilestoneSingle:cqe},data(){return{milestoneTimes:[],maxMilestone:1,startTimeStr:"",displayAll:!1,isSpectating:!1}},computed:{milestones:()=>GameDatabase.speedrunMilestones,spectateText(){return this.isSpectating?"Times here are unaffected by END so that you can see your final records":null}},watch:{displayAll(t){player.speedrun.displayAllMilestones=t}},methods:{update(){this.milestoneTimes=[...player.speedrun.records],this.maxMilestone=this.milestoneTimes.map(t=>!!t).lastIndexOf(!0)+1,this.startTimeStr=player.speedrun.startDate===0?"Speedrun not started yet.":`Speedrun started at ${Time.toDateTimeString(player.speedrun.startDate)}`,this.displayAll=player.speedrun.displayAllMilestones,this.isSpectating=GameEnd.endState>END_STATE_MARKERS.SPECTATE_GAME}}};var dqe=function(){var e=this,i=e._self._c;return i("div",[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Describe all milestones:"},model:{value:e.displayAll,callback:function(n){e.displayAll=n},expression:"displayAll"}}),i("br"),i("b",[e._v(e._s(e.startTimeStr))]),i("br"),i("b",[e._v(e._s(e.spectateText))]),i("br"),i("div",{staticClass:"l-speedrun-milestone-tab"},e._l(e.milestones,function(n){return i("SpeedrunMilestoneSingle",{key:n.id,attrs:{milestone:n,display:e.displayAll||n.id<=e.maxMilestone,time:e.milestoneTimes[n.id]}})}),1)],1)},hqe=[],fqe=X(uqe,dqe,hqe,!1,null,null);const pqe=fqe.exports,mqe={proton:new Decimal("2.82e-45"),estimate(t){if(!t)return["There is no antimatter yet."];if(t.gt(DC.E100000))return[`If you wrote ${formatInt(3)} numbers a second, it would take you`,TimeSpan.fromSeconds(t.log10()/3).toString(),"to write down your antimatter amount."];const e=new Decimal("4.22419e-105"),i=t.times(e);if(i.gt(this.proton)){const r=this.macroScale(i),a=format(i.dividedBy(r.amount),2,1);return[`If every antimatter were a planck volume, you would have
        enough to ${r.verb} ${a} ${r.name}`]}const n=this.microScale(t);return[`If every antimatter were ${format(this.proton.div(n.amount).div(t),2,1)} ${n.name},
      you would have enough to make a proton.`]},microScale(t){const e=this.microObjects;for(let i=0;i<e.length;i++){const n=e[i];if(t.times(n.amount).lt(this.proton))return n}throw"Cannot determine smallest antimatter scale"},macroScale(t){const e=this.macroObjects,i=e.last();if(t.gte(i.amount))return i;let n=0,r=e.length;for(;n!==r;){const a=Math.floor((n+r)/2);e[a].amount.lte(t)?n=a+1:r=a}return e[r-1]},microObjects:[{amount:new Decimal("1e-54"),name:"attometers cubed"},{amount:new Decimal("1e-63"),name:"zeptometers cubed"},{amount:new Decimal("1e-72"),name:"yoctometers cubed"},{amount:new Decimal("4.22419e-105"),name:"planck volumes"}],macroObjects:[{amount:new Decimal("2.82e-45"),name:"protons",verb:"make"},{amount:new Decimal("1e-42"),name:"nuclei",verb:"make"},{amount:new Decimal("7.23e-30"),name:"Hydrogen atoms",verb:"make"},{amount:new Decimal("5e-21"),name:"viruses",verb:"make"},{amount:new Decimal("9e-17"),name:"red blood cells",verb:"make"},{amount:new Decimal("6.2e-11"),name:"grains of sand",verb:"make"},{amount:new Decimal("5e-8"),name:"grains of rice",verb:"make"},{amount:new Decimal("3.555e-6"),name:"teaspoons",verb:"fill"},{amount:new Decimal("7.5e-4"),name:"wine bottles",verb:"fill"},{amount:DC.D1,name:"fridge-freezers",verb:"fill"},{amount:new Decimal("2.5e3"),name:"Olympic-sized swimming pools",verb:"fill"},{amount:new Decimal("2.6006e6"),name:"Great Pyramids of Giza",verb:"make"},{amount:new Decimal("3.3e8"),name:"Great Walls of China",verb:"make"},{amount:new Decimal("5e12"),name:"large asteroids",verb:"make"},{amount:new Decimal("4.5e17"),name:"dwarf planets",verb:"make"},{amount:new Decimal("1.08e21"),name:"Earths",verb:"make"},{amount:new Decimal("1.53e24"),name:"Jupiters",verb:"make"},{amount:new Decimal("1.41e27"),name:"Suns",verb:"make"},{amount:new Decimal("5e32"),name:"red giants",verb:"make"},{amount:new Decimal("8e36"),name:"hypergiant stars",verb:"make"},{amount:new Decimal("1.7e45"),name:"nebulas",verb:"make"},{amount:new Decimal("1.7e48"),name:"Oort clouds",verb:"make"},{amount:new Decimal("3.3e55"),name:"Local Bubbles",verb:"make"},{amount:new Decimal("3.3e61"),name:"galaxies",verb:"make"},{amount:new Decimal("5e68"),name:"Local Groups",verb:"make"},{amount:new Decimal("1e73"),name:"Sculptor Voids",verb:"make"},{amount:new Decimal("3.4e80"),name:"observable universes",verb:"make"},{amount:new Decimal("1e113"),name:"Dimensions",verb:"make"},{amount:DC.C2P1024,name:"Infinity Dimensions",verb:"make"},{amount:new Decimal("1e65000"),name:"Time Dimensions",verb:"make"}]},yqe={name:"StatisticsTab",components:{PrimaryButton:mt},data(){return{isDoomed:!1,realTimeDoomed:TimeSpan.zero,totalAntimatter:new Decimal(0),realTimePlayed:TimeSpan.zero,timeSinceCreation:0,uniqueNews:0,totalNews:0,secretAchievementCount:0,infinity:{isUnlocked:!1,count:new Decimal(0),banked:new Decimal(0),projectedBanked:new Decimal(0),bankRate:new Decimal(0),hasBest:!1,best:TimeSpan.zero,this:TimeSpan.zero,thisReal:TimeSpan.zero,bestRate:new Decimal(0)},eternity:{isUnlocked:!1,count:new Decimal(0),hasBest:!1,best:TimeSpan.zero,this:TimeSpan.zero,thisReal:TimeSpan.zero,bestRate:new Decimal(0)},reality:{isUnlocked:!1,count:0,best:TimeSpan.zero,bestReal:TimeSpan.zero,this:TimeSpan.zero,thisReal:TimeSpan.zero,totalTimePlayed:TimeSpan.zero,bestRate:new Decimal(0),bestRarity:0},matterScale:[],lastMatterTime:0,paperclips:0,fullTimePlayed:0}},computed:{infinityCountString(){const t=this.infinity.count;return t.gt(0)?`${this.formatDecimalAmount(t)} ${pluralize("Infinity",t.floor())}`:"no Infinities"},eternityCountString(){const t=this.eternity.count;return t.gt(0)?`${this.formatDecimalAmount(t)} ${pluralize("Eternity",t.floor())}`:"no Eternities"},fullGameCompletions(){return player.records.fullGameCompletions},startDate(){return Time.toDateTimeString(player.records.gameCreatedTime)},saveAge(){return TimeSpan.fromMilliseconds(this.timeSinceCreation)}},methods:{update(){const t=player.records;this.totalAntimatter.copyFrom(t.totalAntimatter),this.realTimePlayed.setFrom(t.realTimePlayed),this.fullTimePlayed=TimeSpan.fromMilliseconds(t.previousRunRealTime+t.realTimePlayed),this.uniqueNews=NewsHandler.uniqueTickersSeen,this.totalNews=player.news.totalSeen,this.secretAchievementCount=SecretAchievements.all.filter(m=>m.isUnlocked).length,this.timeSinceCreation=Date.now()-player.records.gameCreatedTime;const e=PlayerProgress.current,i=e.isInfinityUnlocked,n=this.infinity,r=t.bestInfinity;n.isUnlocked=i,i&&(n.count.copyFrom(Currency.infinities),n.banked.copyFrom(Currency.infinitiesBanked),n.projectedBanked=new Decimal(0).plusEffectsOf(Achievement(131).effects.bankedInfinitiesGain,TimeStudy(191)),n.bankRate=n.projectedBanked.div(Math.clampMin(33,t.thisEternity.time)).times(6e4),n.hasBest=r.time<999999999999,n.best.setFrom(r.time),n.this.setFrom(t.thisInfinity.time),n.bestRate.copyFrom(r.bestIPminEternity));const a=e.isEternityUnlocked,s=this.eternity,o=t.bestEternity;s.isUnlocked=a,a&&(s.count.copyFrom(Currency.eternities),s.hasBest=o.time<999999999999,s.best.setFrom(o.time),s.this.setFrom(t.thisEternity.time),s.bestRate.copyFrom(o.bestEPminReality));const c=e.isRealityUnlocked,d=this.reality,p=t.bestReality;d.isUnlocked=c,c&&(d.count=Math.floor(Currency.realities.value),d.best.setFrom(p.time),d.bestReal.setFrom(p.realTime),d.this.setFrom(t.thisReality.time),d.totalTimePlayed.setFrom(t.totalTimePlayed),n.thisReal.setFrom(t.thisInfinity.realTime),n.bankRate=n.projectedBanked.div(Math.clampMin(33,t.thisEternity.realTime)).times(6e4),s.thisReal.setFrom(t.thisEternity.realTime),d.thisReal.setFrom(t.thisReality.realTime),d.bestRate.copyFrom(p.RMmin),d.bestRarity=Math.max(strengthToRarity(p.glyphStrength),0)),this.updateMatterScale(),this.isDoomed=Pelle.isDoomed,this.realTimeDoomed.setFrom(player.records.realTimeDoomed),this.paperclips=player.news.specialTickerData.paperclips},formatDecimalAmount(t){return t.gt(1e9)?format(t,3):formatInt(Math.floor(t.toNumber()))},updateMatterScale(){Date.now()-this.lastMatterTime>1e3&&(this.matterScale=mqe.estimate(Currency.antimatter.value),this.lastMatterTime=Date.now())},realityClassObject(){return{"c-stats-tab-title":!0,"c-stats-tab-reality":!this.isDoomed,"c-stats-tab-doomed":this.isDoomed}}}};var gqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-stats-tab"},[i("div",[i("PrimaryButton",{attrs:{onclick:"Modal.catchup.show(0)"}},[e._v(" View Content Summary ")]),i("div",{staticClass:"c-stats-tab-title c-stats-tab-general"},[e._v(" General ")]),i("div",{staticClass:"c-stats-tab-general"},[i("div",[e._v("You have made a total of "+e._s(e.format(e.totalAntimatter,2,1))+" antimatter.")]),i("div",[e._v("You have played for "+e._s(e.realTimePlayed)+". (real time)")]),e.reality.isUnlocked?i("div",[e._v(" Your existence has spanned "+e._s(e.reality.totalTimePlayed)+" of time. (game time) ")]):e._e(),i("div",[e._v(" Your save was created on "+e._s(e.startDate)+" ("+e._s(e.saveAge)+" ago) ")]),i("br"),i("div",[e._v(" You have seen "+e._s(e.quantifyInt("news message",e.totalNews))+" in total. ")]),i("div",[e._v(" You have seen "+e._s(e.quantifyInt("unique news message",e.uniqueNews))+". ")]),i("div",[e._v(" You have unlocked "+e._s(e.quantifyInt("Secret Achievement",e.secretAchievementCount))+". ")]),e.paperclips?i("div",[e._v(" You have "+e._s(e.quantifyInt("useless paperclip",e.paperclips))+". ")]):e._e(),e.fullGameCompletions?i("div",[i("br"),i("b",[e._v(" You have completed the entire game "+e._s(e.quantifyInt("time",e.fullGameCompletions))+". "),i("br"),e._v(" You have played for "+e._s(e.fullTimePlayed)+" across all playthroughs. ")])]):e._e()]),i("div",[i("br"),i("div",{staticClass:"c-matter-scale-container c-stats-tab-general"},[e._l(e.matterScale,function(n,r){return i("div",{key:r},[e._v(" "+e._s(n)+" ")])}),e.matterScale.length<2?i("br"):e._e(),e.matterScale.length<3?i("br"):e._e()],2)]),i("br")],1),e.infinity.isUnlocked?i("div",{staticClass:"c-stats-tab-subheader c-stats-tab-general"},[i("div",{staticClass:"c-stats-tab-title c-stats-tab-infinity"},[e._v(" Infinity ")]),i("div",[e._v(" You have "+e._s(e.infinityCountString)),e.eternity.isUnlocked?i("span",[e._v(" this Eternity")]):e._e(),e._v(". ")]),e.infinity.banked.gt(0)?i("div",[e._v(" You have "+e._s(e.formatDecimalAmount(e.infinity.banked.floor()))+" "+e._s(e.pluralize("Banked Infinity",e.infinity.banked.floor()))+". ")]):e._e(),e.infinity.hasBest?i("div",[e._v(" Your fastest Infinity was "+e._s(e.infinity.best.toStringShort())+". ")]):i("div",[e._v(" You have no fastest Infinity"),e.eternity.isUnlocked?i("span",[e._v(" this Eternity")]):e._e(),e._v(". ")]),i("div",[e._v(" You have spent "+e._s(e.infinity.this.toStringShort())+" in this Infinity. "),e.reality.isUnlocked?i("span",[e._v(" ("+e._s(e.infinity.thisReal.toStringShort())+" real time) ")]):e._e()]),i("div",[e._v(" Your best Infinity Points per minute "),e.eternity.count.gt(0)?i("span",[e._v("this Eternity ")]):e._e(),e._v(" is "+e._s(e.format(e.infinity.bestRate,2,2))+". ")]),i("br")]):e._e(),e.eternity.isUnlocked?i("div",{staticClass:"c-stats-tab-subheader c-stats-tab-general"},[i("div",{staticClass:"c-stats-tab-title c-stats-tab-eternity"},[e._v(" Eternity ")]),i("div",[e._v(" You have "+e._s(e.eternityCountString)),e.reality.isUnlocked?i("span",[e._v(" this Reality")]):e._e(),e._v(". ")]),e.infinity.projectedBanked.gt(0)?i("div",[e._v(" You will gain "+e._s(e.formatDecimalAmount(e.infinity.projectedBanked.floor()))+" "+e._s(e.pluralize("Banked Infinity",e.infinity.projectedBanked.floor()))+" on Eternity ("+e._s(e.formatDecimalAmount(e.infinity.bankRate))+" per minute). ")]):e.infinity.banked.gt(0)?i("div",[e._v(" You will gain no Banked Infinities on Eternity. ")]):e._e(),e.eternity.hasBest?i("div",[e._v(" Your fastest Eternity was "+e._s(e.eternity.best.toStringShort())+". ")]):i("div",[e._v(" You have no fastest Eternity"),e.reality.isUnlocked?i("span",[e._v(" this Reality")]):e._e(),e._v(". ")]),i("div",[e._v(" You have spent "+e._s(e.eternity.this.toStringShort())+" in this Eternity. "),e.reality.isUnlocked?i("span",[e._v(" ("+e._s(e.eternity.thisReal.toStringShort())+" real time) ")]):e._e()]),i("div",[e._v(" Your best Eternity Points per minute "),e.reality.isUnlocked?i("span",[e._v("this Reality ")]):e._e(),e._v(" is "+e._s(e.format(e.eternity.bestRate,2,2))+". ")]),i("br")]):e._e(),e.reality.isUnlocked?i("div",{staticClass:"c-stats-tab-subheader c-stats-tab-general"},[i("div",{class:e.realityClassObject()},[e._v(" "+e._s(e.isDoomed?"Doomed Reality":"Reality")+" ")]),i("div",[e._v("You have "+e._s(e.quantifyInt("Reality",e.reality.count))+".")]),i("div",[e._v("Your fastest game-time Reality was "+e._s(e.reality.best.toStringShort())+".")]),i("div",[e._v("Your fastest real-time Reality was "+e._s(e.reality.bestReal.toStringShort())+".")]),i("div",{class:{"c-stats-tab-doomed":e.isDoomed}},[e._v(" You have spent "+e._s(e.reality.this.toStringShort())+" in this "+e._s(e.isDoomed?"Armageddon":"Reality")+". ("+e._s(e.reality.thisReal.toStringShort())+" real time) ")]),e.isDoomed?i("div",{staticClass:"c-stats-tab-doomed"},[e._v(" You have been Doomed for "+e._s(e.realTimeDoomed.toStringShort())+", real time. ")]):e._e(),i("div",[e._v(" Your best Reality Machines per minute is "+e._s(e.format(e.reality.bestRate,2,2))+". ")]),i("div",[e._v("Your best Glyph rarity is "+e._s(e.formatRarity(e.reality.bestRarity))+".")]),i("br")]):e._e()])},vqe=[],bqe=X(yqe,gqe,vqe,!1,null,"1b229bf9");const _qe=bqe.exports,wqe={name:"PerkShopUpgradeButton",components:{DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc},props:{upgrade:{type:Object,required:!0}},data(){return{isAvailableForPurchase:!1,isCapped:!1}},computed:{isDoomed:()=>Pelle.isDoomed,classObject(){return{"o-teresa-shop-button":!0,"o-teresa-shop-button--available":this.isAvailableForPurchase&&!this.isCapped,"o-teresa-shop-button--capped":this.isCapped,"o-teresa-shop-button--pelle-disabled":this.isDoomed&&(this.upgrade===PerkShopUpgrade.musicGlyph||this.upgrade===PerkShopUpgrade.fillMusicGlyph)}}},methods:{update(){this.isAvailableForPurchase=this.upgrade.isAvailableForPurchase,this.isCapped=this.upgrade.isCapped}}};var Eqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{class:e.classObject,on:{click:function(n){return e.upgrade.purchase()}}},[i("DescriptionDisplay",{attrs:{config:e.upgrade.config,length:70}}),i("br"),i("EffectDisplay",{attrs:{config:e.upgrade.config}}),i("br"),e.isCapped?e._e():i("CostDisplay",{attrs:{config:e.upgrade.config,name:"Perk Point"}})],1)])},Tqe=[],Cqe=X(wqe,Eqe,Tqe,!1,null,"ef38d24e");const kqe=Cqe.exports,Sqe={name:"TeresaTab",components:{GlyphSetPreview:Yf,PerkShopUpgradeButton:kqe,CelestialQuoteHistory:Xf,CustomizeableTooltip:kE},data(){return{pour:!1,time:new Date().getTime(),pouredAmount:0,isPouredAmountCapped:!1,rm:new Decimal(0),percentage:"",possibleFillPercentage:"",rmMult:0,bestAM:new Decimal(0),bestAMSet:[],lastMachines:new Decimal(0),runReward:0,perkPoints:0,hasReality:!1,hasEPGen:!1,hasPerkShop:!1,raisedPerkShop:!1,isRunning:!1,canUnlockNextPour:!1}},computed:{unlockInfos:()=>TeresaUnlocks.all,pouredAmountCap:()=>Teresa.pouredAmountCap,showRunReward(){return this.bestAM.gt(1)},upgrades(){const t=[PerkShopUpgrade.glyphLevel,PerkShopUpgrade.rmMult,PerkShopUpgrade.bulkDilation,PerkShopUpgrade.autoSpeed,PerkShopUpgrade.musicGlyph];return this.raisedPerkShop&&t.push(PerkShopUpgrade.fillMusicGlyph),t},runButtonClassObject(){return{"c-teresa-run-button__icon":!0,"c-teresa-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},pourButtonClassObject(){return{"o-teresa-shop-button":!0,"c-teresa-pour":!0,"o-teresa-shop-button--available":!this.isPouredAmountCapped,"o-teresa-shop-button--capped":this.isPouredAmountCapped,"c-teresa-pour--unlock-available":this.canUnlockNextPour,"c-disabled-pour":this.isPouredAmountCapped}},pourText(){return this.isPouredAmountCapped?"Filled":"Pour RM"},runDescription(){return GameDatabase.celestials.descriptions[0].effects()},lastMachinesString(){return this.lastMachines.lt(DC.E10000)?`${quantify("Reality Machine",this.lastMachines,2)}`:`${quantify("Imaginary Machine",this.lastMachines.dividedBy(DC.E10000),2)}`},unlockInfoTooltipArrowStyle(){return{borderRight:"0.5rem solid var(--color-teresa--base)"}},isDoomed:()=>Pelle.isDoomed},methods:{update(){const t=new Date().getTime();if(this.pour){const e=(t-this.time)/1e3;Teresa.pourRM(e)}else Teresa.timePoured=0;this.time=t,this.pouredAmount=player.celestials.teresa.pouredAmount,this.isPouredAmountCapped=this.pouredAmount===this.pouredAmountCap,this.percentage=`${(Teresa.fill*100).toFixed(2)}%`,this.possibleFillPercentage=`${(Teresa.possibleFill*100).toFixed(2)}%`,this.rmMult=Teresa.rmMultiplier,this.hasReality=TeresaUnlocks.run.isUnlocked,this.hasEPGen=TeresaUnlocks.epGen.isUnlocked,this.hasPerkShop=TeresaUnlocks.shop.isUnlocked,this.raisedPerkShop=Ra.unlocks.perkShopIncrease.canBeApplied,this.bestAM.copyFrom(player.celestials.teresa.bestRunAM),this.bestAMSet=Glyphs.copyForRecords(player.celestials.teresa.bestAMSet),this.lastMachines.copyFrom(player.celestials.teresa.lastRepeatedMachines),this.runReward=Teresa.runRewardMultiplier,this.perkPoints=Currency.perkPoints.value,this.rm.copyFrom(Currency.realityMachines),this.isRunning=Teresa.isRunning,this.canUnlockNextPour=TeresaUnlocks.all.filter(e=>this.rm.plus(this.pouredAmount).gte(e.price)&&!e.isUnlocked).length>0},startRun(){this.isDoomed||Modal.celestials.show({name:"Teresa's",number:0})},unlockDescriptionHeight(t){const e=TeresaUnlocks[Teresa.lastUnlock].price;return`calc(${(100*(Math.log1p(t.price)/Math.log1p(e))).toFixed(2)}% - 0.1rem)`},hasUnlock(t){return t.isUnlocked},unlockInfoTooltipClass(t){return{"c-teresa-unlock-description":!0,"c-teresa-unlock-description--unlocked":this.hasUnlock(t)}}}};var Aqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-teresa-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"teresa"}}),i("div",[e._v(" You have "+e._s(e.quantify("Reality Machine",e.rm,2,2))+". ")]),i("div",{staticClass:"l-mechanics-container"},[e.hasReality?i("div",{staticClass:"l-teresa-mechanic-container"},[i("div",{staticClass:"c-teresa-unlock c-teresa-run-button"},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Start Teresa's Reality. ")]),i("div",{class:e.runButtonClassObject,on:{click:function(n){return e.startRun()}}},[e._v(" Ϟ ")]),e._v(" "+e._s(e.runDescription)+" "),i("br"),i("br"),i("div",[e._v(" This Reality can be repeated for a stronger reward based on the antimatter gained within it. "),i("br"),i("br"),e.showRunReward?i("span",[e._v(" Your record antimatter in Teresa's Reality is "+e._s(e.format(e.bestAM,2))+", achieved with "+e._s(e.lastMachinesString)+". "),i("br"),i("br"),e._v(" Glyph Set used: "),i("GlyphSetPreview",{attrs:{text:"Teresa's Best Glyph Set","text-hidden":!0,"force-name-color":!1,glyphs:e.bestAMSet}})],1):i("span",[e._v(" You have not completed Teresa's Reality yet. ")])])]),e.showRunReward?i("div",{staticClass:"c-teresa-unlock"},[e._v(" Teresa Reality reward: Glyph Sacrifice power "+e._s(e.formatX(e.runReward,2,2))+" ")]):e._e(),e.hasEPGen?i("div",{staticClass:"c-teresa-unlock"},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Every second, you gain "+e._s(e.formatPercents(.01))+" of your peaked Eternity Points per minute this Reality. ")])]):e._e()]):e._e(),i("div",{staticClass:"l-rm-container l-teresa-mechanic-container"},[i("button",{class:e.pourButtonClassObject,on:{mousedown:function(n){e.pour=!0},touchstart:function(n){e.pour=!0},mouseup:function(n){e.pour=!1},touchend:function(n){e.pour=!1},mouseleave:function(n){e.pour=!1}}},[e._v(" "+e._s(e.pourText)+" ")]),i("div",{staticClass:"c-rm-store"},[i("div",{staticClass:"c-rm-store-inner c-rm-store-inner--light",style:{height:e.possibleFillPercentage}}),i("div",{staticClass:"c-rm-store-inner",style:{height:e.percentage}},[i("div",{staticClass:"c-rm-store-label"},[e._v(" "+e._s(e.formatX(e.rmMult,2,2))+" RM gain "),i("br"),e._v(" "+e._s(e.format(e.pouredAmount,2,2))+"/"+e._s(e.format(e.pouredAmountCap,2,2))+" ")])]),e._l(e.unlockInfos,function(n){return i("CustomizeableTooltip",{key:n.id,attrs:{"content-class":"c-teresa-unlock-description--hover-area",bottom:e.unlockDescriptionHeight(n),right:"0",mode:"right",show:!0,"tooltip-arrow-style":e.unlockInfoTooltipArrowStyle,"tooltip-class":e.unlockInfoTooltipClass(n)},scopedSlots:e._u([{key:"mainContent",fn:function(){return[i("div",{staticClass:"c-teresa-milestone-line",class:{"c-teresa-milestone-line--unlocked":e.hasUnlock(n)}})]},proxy:!0},{key:"tooltipContent",fn:function(){return[i("b",{class:{"o-pelle-disabled":n.pelleDisabled}},[e._v(" "+e._s(e.format(n.price,2,2))+": "+e._s(n.description)+" ")])]},proxy:!0}],null,!0)})})],2)]),e.hasPerkShop?i("div",{staticClass:"c-teresa-shop"},[i("span",{staticClass:"o-teresa-pp"},[e._v(" You have "+e._s(e.quantify("Perk Point",e.perkPoints,2,0))+". ")]),e._l(e.upgrades,function(n){return i("PerkShopUpgradeButton",{key:n.id,attrs:{upgrade:n}})}),e._v(" You can now modify the appearance of your Glyphs to look like Music Glyphs. ")],2):i("div",{staticClass:"l-rm-container-labels l-teresa-mechanic-container"})])],1)},xqe=[],Dqe=X(Sqe,Aqe,xqe,!1,null,"04f7c9a6");const Iqe=Dqe.exports,Rqe={name:"DilationButton",data(){return{isUnlocked:!1,isRunning:!1,hasGain:!1,requiredForGain:new Decimal,canEternity:!1,eternityGoal:new Decimal,tachyonGain:new Decimal,remnantRequirement:0,showRequirement:!1,creditsClosed:!1}},computed:{disableText(){return Pelle.isDoomed?"Dilation is permanent.":"Disable Dilation."}},methods:{update(){this.isUnlocked=PlayerProgress.dilationUnlocked(),this.isRunning=player.dilation.active,this.remnantRequirement=Pelle.remnantRequirementForDilation,this.showRequirement=Pelle.isDoomed&&!Pelle.canDilateInPelle,this.isRunning&&(this.canEternity=Player.canEternity,this.hasGain=getTachyonGain(!1).gt(0),this.canEternity&&this.hasGain?this.tachyonGain.copyFrom(getTachyonGain(!0)):this.hasGain?this.eternityGoal.copyFrom(Player.eternityGoal):this.requiredForGain.copyFrom(getTachyonReq()),this.creditsClosed=GameEnd.creditsEverClosed)},dilate(){this.creditsClosed||startDilatedEternityRequest()}}};var Mqe=function(){var e=this,i=e._self._c;return i("button",{staticClass:"o-dilation-btn",class:e.isUnlocked?"o-dilation-btn--unlocked":"o-dilation-btn--locked",on:{click:function(n){return e.dilate()}}},[e.isUnlocked?e.isRunning?e.canEternity&&e.hasGain?i("span",[e._v(" "+e._s(e.disableText)+" "),i("br"),e._v(" Gain "+e._s(e.quantify("Tachyon Particle",e.tachyonGain,2,1))+". ")]):e.hasGain?i("span",[e._v(" "+e._s(e.disableText)+" "),i("br"),e._v(" Reach "+e._s(e.quantify("Infinity Point",e.eternityGoal,1,0))+" to Eternity and gain Tachyon Particles. ")]):i("span",[e._v(" "+e._s(e.disableText)+" "),i("br"),e._v(" Reach "+e._s(e.format(e.requiredForGain,2,1))+" antimatter to gain more Tachyon Particles. ")]):i("span",[e._v(" Dilate time. "),e.showRequirement?i("div",[e._v(" Requires "+e._s(e.format(e.remnantRequirement,2))+" Remnants ")]):e._e()]):i("span",[e._v("Purchase the Dilation Study to unlock.")])])},Pqe=[],Oqe=X(Rqe,Mqe,Pqe,!1,null,"c6906d5a");const Nqe=Oqe.exports,Gqe={name:"DilationUpgradeButton",components:{PrimaryToggleButton:ln,DescriptionDisplay:Qa,EffectDisplay:oo,CostDisplay:fc,CustomizeableTooltip:kE},props:{upgrade:{type:Object,required:!0},isRebuyable:{type:Boolean,required:!1,default:!1},showTooltip:{type:Boolean,required:!0}},data(){return{isBought:!1,isCapped:!1,isAffordable:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,boughtAmount:0,currentDT:new Decimal(0),currentDTGain:new Decimal(0),timeEstimate:"",isHovering:!1,hideEstimate:!1}},computed:{classObject(){return this.isUseless?{"o-dilation-upgrade o-pelle-disabled-pointer":!0,"o-pelle-disabled o-dilation-upgrade--useless":this.upgrade.id===7||this.upgrade.id===3}:{"o-dilation-upgrade":!0,"o-dilation-upgrade--rebuyable":this.isRebuyable,"o-dilation-upgrade--available":!this.isBought&&!this.isCapped&&this.isAffordable,"o-dilation-upgrade--unavailable":!this.isBought&&!this.isCapped&&!this.isAffordable,"o-dilation-upgrade--bought":this.isBought,"o-dilation-upgrade--capped":this.isCapped}},isUseless(){const t=this.upgrade.id===3||this.upgrade.id===7;return Pelle.isDoomed&&t}},watch:{isAutobuyerOn(t){Autobuyer.dilationUpgrade(this.upgrade.id).isActive=t}},methods:{update(){const t=this.upgrade;if(this.currentDT.copyFrom(Currency.dilatedTime.value),this.currentDTGain.copyFrom(getDilationGainPerSecond()),this.hideEstimate=this.isAffordable||this.isCapped||this.upgrade.isBought||this.isUseless,this.timeEstimate=this.hideEstimate?null:getDilationTimeEstimate(this.upgrade.cost),this.isRebuyable){this.isAffordable=t.isAffordable,this.isCapped=t.isCapped;const e=Autobuyer.dilationUpgrade(t.id);if(this.boughtAmount=t.boughtAmount,!e)return;this.isAutoUnlocked=e.isUnlocked,this.isAutobuyerOn=e.isActive;return}this.isBought=t.isBought,this.isBought||(this.isAffordable=t.isAffordable)}}};var Uqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{class:e.classObject,attrs:{"ach-tooltip":e.timeEstimate},on:{click:function(n){return e.upgrade.purchase()},mouseover:function(n){e.isHovering=!0},mouseleave:function(n){e.isHovering=!1}}},[e.timeEstimate?i("CustomizeableTooltip",{attrs:{show:e.showTooltip&&!e.isHovering&&!e.hideEstimate,left:"50%",top:"0"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.timeEstimate)+" ")]},proxy:!0}],null,!1,1945308655)}):e._e(),i("span",[i("DescriptionDisplay",{attrs:{config:e.upgrade.config,length:70,name:"o-dilation-upgrade__description"}}),i("EffectDisplay",{key:e.boughtAmount,attrs:{br:"",config:e.upgrade.config}})],1),!e.isBought&&!e.isCapped?i("CostDisplay",{attrs:{br:"",config:e.upgrade.config,name:"Dilated Time"}}):e._e()],1),e.isRebuyable&&e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--dilation-upgrade-toggle",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):e._e()],1)},Lqe=[],Bqe=X(Gqe,Uqe,Lqe,!1,null,"674bcdc2");const $qe=Bqe.exports,Fqe={name:"TimeDilationTab",components:{DilationButton:Nqe,DilationUpgradeButton:$qe},data(){return{tachyons:new Decimal,dilatedTime:new Decimal,dilatedTimeIncome:new Decimal,galaxyThreshold:new Decimal,baseGalaxies:0,totalGalaxies:0,tachyonGalaxyGain:1,hasPelleDilationUpgrades:!1,galaxyTimeEstimate:"",maxDT:new Decimal,toMaxTooltip:"",isHovering:!1}},computed:{rebuyables(){return[DilationUpgrade.dtGain,DilationUpgrade.galaxyThreshold,DilationUpgrade.tachyonGain]},upgrades(){return[[DilationUpgrade.doubleGalaxies,DilationUpgrade.tdMultReplicanti,DilationUpgrade.ndMultDT],[DilationUpgrade.ipMultDT,DilationUpgrade.timeStudySplit,DilationUpgrade.dilationPenalty]]},dilatedTimeGainText(){return`${this.dilatedTimeIncome.gte(0)?"+":""}${format(this.dilatedTimeIncome,2,1)}`},pelleRebuyables(){return[DilationUpgrade.dtGainPelle,DilationUpgrade.galaxyMultiplier,DilationUpgrade.tickspeedPower]},pelleUpgrades(){return[DilationUpgrade.galaxyThresholdPelle,DilationUpgrade.flatDilationMult]},ttGenerator(){return DilationUpgrade.ttGenerator},baseGalaxyText(){return`${formatInt(this.baseGalaxies)} Base`},hasMaxText:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,allRebuyables(){const t=[];return t.push(this.rebuyables),this.hasPelleDilationUpgrades&&t.push(this.pelleRebuyables),t},allSingleUpgrades(){const t=[];return t.push(...this.upgrades),this.hasPelleDilationUpgrades&&t.push(this.pelleUpgrades),t.push([this.ttGenerator]),t}},methods:{update(){this.tachyons.copyFrom(Currency.tachyonParticles),this.dilatedTime.copyFrom(Currency.dilatedTime);const t=getDilationGainPerSecond().times(getGameSpeedupForDisplay());if(this.galaxyTimeEstimate=getDilationTimeEstimate(this.galaxyThreshold),PelleRifts.paradox.isActive){const i=player.options.updateRate/1e3,n=1-(1-Pelle.riftDrainPercent)**i,r=this.dilatedTime.add(t.times(i)).times(n/i);this.dilatedTimeIncome=t.minus(r)}else this.dilatedTimeIncome=t;this.galaxyThreshold.copyFrom(player.dilation.nextThreshold),this.baseGalaxies=player.dilation.baseTachyonGalaxies,this.totalGalaxies=player.dilation.totalTachyonGalaxies,this.hasPelleDilationUpgrades=PelleRifts.paradox.milestones[0].canBeApplied,this.baseGalaxies<500&&DilationUpgrade.doubleGalaxies.isBought?this.tachyonGalaxyGain=DilationUpgrade.doubleGalaxies.effectValue:this.tachyonGalaxyGain=1,this.tachyonGalaxyGain*=DilationUpgrade.galaxyMultiplier.effectValue,this.maxDT.copyFrom(player.records.thisReality.maxDT);const e=getDilationTimeEstimate(this.maxDT);this.dilatedTimeIncome.lte(0)?this.toMaxTooltip="No DT gain":this.toMaxTooltip=e.startsWith("<")?"Currently Increasing":e}}};var Hqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-dilation-tab"},[i("span",[e._v(" You have "),i("span",{staticClass:"c-dilation-tab__tachyons"},[e._v(e._s(e.format(e.tachyons,2,1)))]),e._v(" "+e._s(e.pluralize("Tachyon Particle",e.tachyons))+". ")]),i("div",{on:{mouseover:function(n){e.isHovering=!0},mouseleave:function(n){e.isHovering=!1}}},[i("DilationButton")],1),i("span",[e._v(" You have "),i("span",{staticClass:"c-dilation-tab__dilated-time"},[e._v(e._s(e.format(e.dilatedTime,2,1)))]),e._v(" Dilated Time. "),i("span",{staticClass:"c-dilation-tab__dilated-time-income"},[e._v(e._s(e.dilatedTimeGainText)+"/s")])]),i("span",[e._v(" Next "),e.tachyonGalaxyGain>1?i("span",[e._v(e._s(e.formatInt(e.tachyonGalaxyGain)))]):e._e(),e._v(" "+e._s(e.pluralize("Tachyon Galaxy",e.tachyonGalaxyGain))+" at "),i("span",{staticClass:"c-dilation-tab__galaxy-threshold",attrs:{"ach-tooltip":e.galaxyTimeEstimate}},[e._v(e._s(e.format(e.galaxyThreshold,2,1)))]),e._v(" Dilated Time, gained total of "),i("span",{staticClass:"c-dilation-tab__galaxies",attrs:{"ach-tooltip":e.baseGalaxyText}},[e._v(e._s(e.formatInt(e.totalGalaxies)))]),e._v(" "+e._s(e.pluralize("Tachyon Galaxy",e.totalGalaxies))+" ")]),e.hasMaxText?i("span",[e._v(" Your maximum Dilated Time reached this Reality is "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.toMaxTooltip,expression:"toMaxTooltip"}],staticClass:"max-accent"},[e._v(e._s(e.format(e.maxDT,2,1)))]),e._v(". ")]):e._e(),i("div",{staticClass:"l-dilation-upgrades-grid"},[e._l(e.allRebuyables,function(n,r){return i("div",{key:"rebuyable"+r,staticClass:"l-dilation-upgrades-grid__row"},e._l(n,function(a){return i("DilationUpgradeButton",{key:a.id,staticClass:"l-dilation-upgrades-grid__cell",attrs:{upgrade:a,"is-rebuyable":!0,"show-tooltip":e.isHovering}})}),1)}),e._l(e.allSingleUpgrades,function(n,r){return i("div",{key:"single"+r,staticClass:"l-dilation-upgrades-grid__row"},e._l(n,function(a){return i("DilationUpgradeButton",{key:a.id,staticClass:"l-dilation-upgrades-grid__cell",attrs:{upgrade:a,"is-rebuyable":!1,"show-tooltip":e.isHovering}})}),1)})],2)])},Vqe=[],Yqe=X(Fqe,Hqe,Vqe,!1,null,"b92e6b41");const qqe=Yqe.exports,Wqe={name:"ClassicTimeDimensionRow",components:{GenericDimensionRowText:sy,PrimaryButton:mt,PrimaryToggleButton:ln},props:{tier:{type:Number,required:!0},areAutobuyersUnlocked:{type:Boolean,required:!0}},data(){return{isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,rateOfChange:new Decimal(0),cost:new Decimal(0),isAvailableForPurchase:!1,isAutobuyerOn:!1,requirementReached:!1,realityUnlocked:!1,showTTCost:!1,ttCost:0,ttGen:new Decimal,currTT:new Decimal}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${TimeDimension(this.tier).shortDisplayName} Time Dimension`},buttonContents(){return this.showTTCost?this.formattedTTCost:this.formattedEPCost},tooltipContents(){return this.showTTCost?`${this.formattedEPCost}<br>${this.timeEstimate}`:this.isCapped?`Nameless prevents the purchase of more than ${format(1)} Time Dimension`:`Purchased ${quantifyInt("time",this.bought)}`},showRow(){return this.realityUnlocked||this.isUnlocked||this.requirementReached},formattedTTCost(){return`Unlock: ${format(this.ttCost)} TT`},formattedEPCost(){return this.isCapped?"Capped":`${this.showCostTitle?"Cost: ":""}${format(this.cost,2)} EP`},hasLongText(){return this.buttonContents.length>20},showCostTitle(){return this.cost.exponent<1e5},timeEstimate(){if(!this.showTTCost||this.ttGen.eq(0))return"";const t=Decimal.sub(this.ttCost,this.currTT).dividedBy(this.ttGen);return t.gt(0)?`Enough TT in ${TimeSpan.fromSeconds(t.toNumber()).toStringShort()}`:""}},watch:{isAutobuyerOn(t){Autobuyer.timeDimension(this.tier).isActive=t}},methods:{update(){const t=this.tier,e=TimeDimension(t);this.isCapped=Enslaved.isRunning&&e.bought>0,this.isUnlocked=e.isUnlocked,this.multiplier.copyFrom(e.multiplier),this.amount.copyFrom(e.amount),this.bought=e.bought,t<8&&this.rateOfChange.copyFrom(e.rateOfChange),this.cost.copyFrom(e.cost),this.isAvailableForPurchase=e.isAvailableForPurchase,this.isUnlocked||(this.isAvailableForPurchase=e.requirementReached),this.requirementReached=e.requirementReached,this.isAutobuyerOn=Autobuyer.timeDimension(this.tier).isActive,this.realityUnlocked=PlayerProgress.realityUnlocked(),this.showTTCost=!this.isUnlocked&&!this.shiftDown,this.tier>4&&(this.ttCost=TimeStudy.timeDimension(this.tier).cost),this.currTT.copyFrom(Currency.timeTheorems.value),this.ttGen.copyFrom(getTTPerSecond().times(getGameSpeedupFactor()))},buyTimeDimension(){if(!this.isUnlocked){TimeDimension(this.tier).tryUnlock();return}buySingleTimeDimension(this.tier)},buyMaxTimeDimension(){buyMaxTimeDimension(this.tier)}}};var jqe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.requirementReached}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--buy-td o-primary-btn--buy-dim c-dim-tooltip-container",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyTimeDimension}},[e._v(" "+e._s(e.buttonContents)+" "),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[i("span",{domProps:{innerHTML:e._s(e.tooltipContents)}})])]),e.areAutobuyersUnlocked?i("PrimaryToggleButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyMaxTimeDimension}},[e._v(" Buy Max ")])],1)],1)},zqe=[],Xqe=X(Wqe,jqe,zqe,!1,null,null);const Kqe=Xqe.exports,Zqe={name:"ClassicTimeDimensionsTab",components:{PrimaryButton:mt,TimeDimensionRow:Kqe},data(){return{totalUpgrades:0,multPerTickspeed:0,tickspeedSoftcap:0,timeShards:new Decimal(0),upgradeThreshold:new Decimal(0),shardsPerSecond:new Decimal(0),incomeType:"",areAutobuyersUnlocked:!1,showLockedDimCostNote:!0}},computed:{costIncreases:()=>TimeDimension(1).costIncreaseThresholds},methods:{update(){this.showLockedDimCostNote=!TimeDimension(8).isUnlocked&&player.realities>=1,this.totalUpgrades=player.totalTickGained,this.multPerTickspeed=FreeTickspeed.multToNext,this.tickspeedSoftcap=FreeTickspeed.softcap,this.timeShards.copyFrom(Currency.timeShards),this.upgradeThreshold.copyFrom(FreeTickspeed.fromShards(Currency.timeShards.value).nextShards),this.shardsPerSecond.copyFrom(TimeDimension(1).productionPerRealSecond),this.incomeType=EternityChallenge(7).isRunning?"Eighth Infinity Dimensions":"Time Shards",this.areAutobuyersUnlocked=Autobuyer.timeDimension(1).isUnlocked},maxAll(){tryUnlockTimeDimensions(),maxAllTimeDimensions()},toggleAllAutobuyers(){toggleAllTimeDims()}}};var Qqe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-time-dim-tab l-centered-vertical-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Max all ")]),e.areAutobuyersUnlocked?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Toggle all autobuyers ")]):e._e()],1),i("div",[i("p",[e._v(" You have gained "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatInt(e.totalUpgrades)))]),e._v(" Tickspeed upgrades from "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.timeShards,2,1)))]),e._v(" Time Shards. ")]),i("p",[e._v(" Next Tickspeed upgrade at "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.upgradeThreshold,2,1)))]),e._v(", increasing by "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatX(e.multPerTickspeed,2,2)))]),e._v(" per Tickspeed upgrade gained. ")])]),i("div",[e._v(" The amount each additional upgrade requires will start increasing above "+e._s(e.formatInt(e.tickspeedSoftcap))+" Tickspeed upgrades. ")]),i("div",[e._v(" You are getting "+e._s(e.format(e.shardsPerSecond,2,0))+" "+e._s(e.incomeType)+" per second. ")]),i("div",{staticClass:"l-dimensions-container"},e._l(8,function(n){return i("TimeDimensionRow",{key:n,attrs:{tier:n,"are-autobuyers-unlocked":e.areAutobuyersUnlocked}})}),1),i("div",[e._v(" Time Dimension costs jump at "+e._s(e.format(e.costIncreases[0],2,2))+" and "+e._s(e.format(e.costIncreases[1]))+" Eternity Points, "),i("br"),e._v(" and costs increase much faster after "+e._s(e.format(e.costIncreases[2]))+" Eternity Points. "),i("br"),e.showLockedDimCostNote?i("div",[e._v(" Hold shift to see the Eternity Point cost for locked Time Dimensions. ")]):e._e(),e._v(" Any 8th Time Dimensions purchased above "+e._s(e.format(1e8))+" will not further increase the multiplier. ")])])},Jqe=[],eWe=X(Zqe,Qqe,Jqe,!1,null,null);const tWe=eWe.exports,iWe={name:"ModernTimeDimensionRow",components:{GenericDimensionRowText:sy,PrimaryButton:mt,PrimaryToggleButton:ln},props:{tier:{type:Number,required:!0},areAutobuyersUnlocked:{type:Boolean,required:!0}},data(){return{isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,rateOfChange:new Decimal(0),cost:new Decimal(0),isAvailableForPurchase:!1,isAutobuyerOn:!1,requirementReached:!1,realityUnlocked:!1,showTTCost:!1,ttCost:0,ttGen:new Decimal,currTT:new Decimal}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${TimeDimension(this.tier).shortDisplayName} Time Dimension`},buttonContents(){return this.showTTCost?this.formattedTTCost:this.formattedEPCost},tooltipContents(){return this.showTTCost?`${this.formattedEPCost}<br>${this.timeEstimate}`:this.isCapped?`Nameless prevents the purchase of more than ${format(1)} Time Dimension`:`Purchased ${quantifyInt("time",this.bought)}`},showRow(){return this.realityUnlocked||this.isUnlocked||this.requirementReached},formattedTTCost(){return`Unlock: ${format(this.ttCost)} TT`},formattedEPCost(){return this.isCapped?"Capped":`${this.showCostTitle?"Cost: ":""}${format(this.cost,2)} EP`},hasLongText(){return this.buttonContents.length>20},showCostTitle(){return this.cost.exponent<1e5},timeEstimate(){if(!this.showTTCost||this.ttGen.eq(0))return"";const t=Decimal.sub(this.ttCost,this.currTT).dividedBy(this.ttGen);return t.gt(0)?`Enough TT in ${TimeSpan.fromSeconds(t.toNumber()).toStringShort()}`:""}},watch:{isAutobuyerOn(t){Autobuyer.timeDimension(this.tier).isActive=t}},methods:{update(){const t=this.tier,e=TimeDimension(t);this.isCapped=Enslaved.isRunning&&e.bought>0,this.isUnlocked=e.isUnlocked,this.multiplier.copyFrom(e.multiplier),this.amount.copyFrom(e.amount),this.bought=e.bought,t<8&&this.rateOfChange.copyFrom(e.rateOfChange),this.cost.copyFrom(e.cost),this.isAvailableForPurchase=e.isAvailableForPurchase,this.isUnlocked||(this.isAvailableForPurchase=e.requirementReached),this.requirementReached=e.requirementReached,this.isAutobuyerOn=Autobuyer.timeDimension(this.tier).isActive,this.realityUnlocked=PlayerProgress.realityUnlocked(),this.showTTCost=!this.isUnlocked&&!this.shiftDown,this.tier>4&&(this.ttCost=TimeStudy.timeDimension(this.tier).cost),this.currTT.copyFrom(Currency.timeTheorems.value),this.ttGen.copyFrom(getTTPerSecond().times(getGameSpeedupFactor()))},buyTimeDimension(){if(!this.isUnlocked){TimeDimension(this.tier).tryUnlock();return}buySingleTimeDimension(this.tier)},buyMaxTimeDimension(){buyMaxTimeDimension(this.tier)}}};var nWe=function(){var e=this,i=e._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-row-time-dim l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.requirementReached}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container c-modern-dim-tooltip-container"},[i("div",{staticClass:"c-modern-dim-purchase-count-tooltip"},[i("span",{domProps:{innerHTML:e._s(e.tooltipContents)}})]),i("PrimaryButton",{staticClass:"o-primary-btn--buy-td o-primary-btn o-primary-btn--new o-primary-btn--buy-dim",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyTimeDimension}},[e._v(" "+e._s(e.buttonContents)+" ")]),e.areAutobuyersUnlocked?i("PrimaryToggleButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{label:"Auto:"},model:{value:e.isAutobuyerOn,callback:function(n){e.isAutobuyerOn=n},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyMaxTimeDimension}},[e._v(" Buy Max ")])],1)],1)},rWe=[],aWe=X(iWe,nWe,rWe,!1,null,"ededf91c");const sWe=aWe.exports,oWe={name:"NewTimeDimensionsTab",components:{PrimaryButton:mt,NewTimeDimensionRow:sWe},data(){return{totalUpgrades:0,multPerTickspeed:0,tickspeedSoftcap:0,timeShards:new Decimal(0),upgradeThreshold:new Decimal(0),shardsPerSecond:new Decimal(0),incomeType:"",areAutobuyersUnlocked:!1,showLockedDimCostNote:!0}},computed:{costIncreases:()=>TimeDimension(1).costIncreaseThresholds},methods:{update(){this.showLockedDimCostNote=!TimeDimension(8).isUnlocked&&player.realities>=1,this.totalUpgrades=player.totalTickGained,this.multPerTickspeed=FreeTickspeed.multToNext,this.tickspeedSoftcap=FreeTickspeed.softcap,this.timeShards.copyFrom(Currency.timeShards),this.upgradeThreshold.copyFrom(FreeTickspeed.fromShards(Currency.timeShards.value).nextShards),this.shardsPerSecond.copyFrom(TimeDimension(1).productionPerSecond),this.incomeType=EternityChallenge(7).isRunning?"Eighth Infinity Dimensions":"Time Shards",this.areAutobuyersUnlocked=Autobuyer.timeDimension(1).isUnlocked},maxAll(){tryUnlockTimeDimensions(),maxAllTimeDimensions()},toggleAllAutobuyers(){toggleAllTimeDims()}}};var lWe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-time-dim-tab l-centered-vertical-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Max all ")]),e.areAutobuyersUnlocked?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Toggle all autobuyers ")]):e._e()],1),i("div",[i("p",[e._v(" You have gained "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatInt(e.totalUpgrades)))]),e._v(" Tickspeed upgrades from "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.timeShards,2,1)))]),e._v(" Time Shards. ")]),i("p",[e._v(" Next Tickspeed upgrade at "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.upgradeThreshold,2,1)))]),e._v(", increasing by "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatX(e.multPerTickspeed,2,2)))]),e._v(" per Tickspeed upgrade gained. ")])]),i("div",[e._v(" The amount each additional upgrade requires will start increasing above "+e._s(e.formatInt(e.tickspeedSoftcap))+" Tickspeed upgrades. ")]),i("div",[e._v("You are getting "+e._s(e.format(e.shardsPerSecond,2,0))+" "+e._s(e.incomeType)+" per second.")]),i("div",{staticClass:"l-dimensions-container"},e._l(8,function(n){return i("NewTimeDimensionRow",{key:n,attrs:{tier:n,"are-autobuyers-unlocked":e.areAutobuyersUnlocked}})}),1),i("div",[e._v(" Time Dimension costs jump at "+e._s(e.format(e.costIncreases[0],2,2))+" and "+e._s(e.format(e.costIncreases[1]))+" Eternity Points, "),i("br"),e._v(" and costs increase much faster after "+e._s(e.format(e.costIncreases[2]))+" Eternity Points. "),i("br"),e.showLockedDimCostNote?i("div",[e._v(" Hold shift to see the Eternity Point cost for locked Time Dimensions. ")]):e._e(),e._v(" Any 8th Time Dimensions purchased above "+e._s(e.format(1e8))+" will not further increase the multiplier. ")])])},cWe=[],uWe=X(oWe,lWe,cWe,!1,null,null);const dWe=uWe.exports,hWe={name:"TimeDimensionsTab",components:{ClassicTimeDimensionsTab:tWe,ModernTimeDimensionsTab:dWe},computed:{activeComponent(){return this.$viewModel.newUI?"ModernTimeDimensionsTab":"ClassicTimeDimensionsTab"}}};var fWe=function(){var e=this,i=e._self._c;return i(e.activeComponent,{tag:"component"})},pWe=[],mWe=X(hWe,fWe,pWe,!1,null,null);const yWe=mWe.exports,gWe={name:"DilationTimeStudy",components:{DescriptionDisplay:Qa,TimeStudyButton:mE},props:{setup:{type:Object,required:!0}},data(){return{showRequirement:!1,maxTT:new Decimal,currTT:new Decimal,ttGen:new Decimal}},computed:{study(){return this.setup.study},id(){return this.study.id},requirement(){return this.id===1?`Requirement: ${formatInt(5)} EC11 and EC12 completions
          and ${formatInt(this.maxTT)}/${formatInt(TimeStudy.dilation.totalTimeTheoremRequirement)}
          total Time Theorems`:this.id===6?`Requirement: ${format("1e4000")} Eternity Points`:""},theoremTimeEstimate(){if(this.study.isBought||!this.study.cost||this.ttGen.eq(0))return null;const t=Decimal.sub(this.study.cost,this.currTT).dividedBy(this.ttGen);return t.gt(0)?`Enough TT in ${TimeSpan.fromSeconds(t.toNumber()).toStringShort()}`:null}},methods:{update(){this.id===1&&(this.maxTT.copyFrom(Currency.timeTheorems.max),this.showRequirement=!this.study.isBought&&!Perk.bypassECDilation.canBeApplied),this.id===6&&(this.showRequirement=!Pelle.isDoomed),this.currTT.copyFrom(Currency.timeTheorems.value),this.ttGen.copyFrom(getTTPerSecond().times(getGameSpeedupFactor()))},clickHandler(){switch(this.id){case 1:return()=>Tab.eternity.dilation.show();case 2:case 3:case 4:case 5:return()=>Tab.dimensions.time.show();case 6:return()=>Tab.reality.glyphs.show();default:throw new Error("Unrecognized Dilation study was clicked")}}}};var vWe=function(){var e=this,i=e._self._c;return i("TimeStudyButton",{attrs:{setup:e.setup,"ach-tooltip":e.theoremTimeEstimate,"special-click":e.clickHandler()}},[i("DescriptionDisplay",{attrs:{config:e.study.config}}),e.showRequirement?[i("br"),i("span",[e._v(e._s(e.requirement))])]:e._e()],2)},bWe=[],_We=X(gWe,vWe,bWe,!1,null,"903e186f");const B2=_We.exports,wWe={name:"ECTimeStudy",components:{TimeStudyButton:mE,HintText:mc},props:{setup:{type:Object,required:!0}},data(){return{hasRequirement:!1,requirement:{current:new Decimal,total:new Decimal},completions:0,showTotalCompletions:!1,isRunning:!1,isUnlocked:!1}},computed:{study(){return this.setup.study},id(){return this.study.id},config(){return this.study.config},hasNumberRequirement(){return typeof this.study.requirementCurrent=="number"},formatValue(){return this.config.secondary.formatValue},needsFirstLinebreak(){return this.study.id===7},needsSecondLinebreak(){return[3,4,7].includes(this.study.id)}},methods:{update(){var r;const t=this.id,e=this.study,i=EternityChallenge(t);if(this.hasRequirement=!Perk.studyECRequirement.isBought&&!e.wasRequirementPreviouslyMet,this.completions=i.completions,this.showTotalCompletions=!Enslaved.isRunning||t!==1,this.isRunning=((r=EternityChallenge.current)==null?void 0:r.id)===t,this.isUnlocked=i.isUnlocked,!this.hasRequirement||t>10)return;const n=this.requirement;this.hasNumberRequirement?(n.total=e.requirementTotal,n.current=Math.min(e.requirementCurrent,n.total)):(n.total.copyFrom(e.requirementTotal),n.current.copyFrom(e.requirementCurrent.min(n.total)))}}};var EWe=function(){var e=this,i=e._self._c;return i("TimeStudyButton",{attrs:{setup:e.setup}},[i("HintText",{staticClass:"l-hint-text--time-study",attrs:{type:"studies"}},[e._v(" EC"+e._s(e.id)+" ")]),e._v(" Eternity Challenge "+e._s(e.id)+" ("+e._s(e.formatInt(e.completions))),e.showTotalCompletions?i("span",[e._v("/"+e._s(e.formatInt(5)))]):e._e(),e._v(") "),e.hasRequirement?[i("br"),e._v(" Requirement: "),e.needsFirstLinebreak?i("br"):e._e(),e.config.secondary.path?i("span",[e._v("Use only the "+e._s(e.config.secondary.path)+" path")]):i("span",[e._v(" "+e._s(e.formatValue(e.requirement.current))+"/"+e._s(e.formatValue(e.requirement.total))+" "),e.needsSecondLinebreak?i("br"):e._e(),e._v(" "+e._s(e.config.secondary.resource)+" ")])]:e._e(),e.isUnlocked&&!e.isRunning?i("span",[i("br"),e._v("Double click to start")]):e.isRunning?i("span",[i("br"),e._v("Currently Running")]):e._e()],2)},TWe=[],CWe=X(wWe,EWe,TWe,!1,null,"a0e332fa");const $2=CWe.exports,kWe={name:"EnslavedTimeStudy",props:{setup:{type:Object,required:!0}},data(){return{isVisible:player.celestials.enslaved.hasSecretStudy}},computed:{enslavedTT:()=>100,styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"l-time-study":!0,"o-time-study":!0,"o-time-study--bought":!0,"o-time-study-normal":!0,"o-time-study-normal--bought":!0,"o-time-study--enslaved":!0,"o-time-study--enslaved-unlocked":this.isVisible}}},methods:{update(){this.isVisible=Enslaved.isRunning&&player.celestials.enslaved.hasSecretStudy},handleClick(){!Enslaved.isRunning||player.celestials.enslaved.hasSecretStudy||(player.celestials.enslaved.hasSecretStudy=!0,EnslavedProgress.secretStudy.giveProgress(),Currency.timeTheorems.add(this.enslavedTT))}}};var SWe=function(){var e=this,i=e._self._c;return i("button",{ref:"study",class:e.classObject,style:e.styleObject,on:{click:e.handleClick}},[i("span",[e._v(" ... you ... have great potential ... "),i("br"),i("br"),e._v(" Cost: "+e._s(e.format(-e.enslavedTT))+" Time Theorems ")])])},AWe=[],xWe=X(kWe,SWe,AWe,!1,null,"fe391706");const DWe=xWe.exports,IWe={name:"HiddenTimeStudyConnection",props:{setup:{type:Object,required:!0},isEnslaved:{type:Boolean,required:!1,default:!1}},data(){return{isVisible:!1}},computed:{classObject(){return{"o-time-study-connection":!0,"o-time-study-connection--bought":!0,"o-time-study-connection--secret":!0,"o-time-study-connection--secret-unlocked":this.isVisible}}},methods:{update(){this.isVisible=this.isEnslaved?Enslaved.isRunning&&player.celestials.enslaved.hasSecretStudy:player.secretUnlocks.viewSecretTS},percents(t){return`${t*100}%`}}};var RWe=function(){var e=this,i=e._self._c;return i("line",{class:e.classObject,attrs:{x1:e.percents(e.setup.x1),y1:e.percents(e.setup.y1),x2:e.percents(e.setup.x2),y2:e.percents(e.setup.y2)}})},MWe=[],PWe=X(IWe,RWe,MWe,!1,null,"7b3dd00d");const OWe=PWe.exports,NWe={name:"NormalTimeStudy",components:{DescriptionDisplay:Qa,EffectDisplay:oo,HintText:mc,TimeStudyButton:mE},props:{setup:{type:Object,required:!0}},data:()=>({showCost:!0,showSTCost:!1}),computed:{study(){return this.setup.study},hintText(){const t=this.study.id;if(!this.setup.path)return t;const e=NormalTimeStudies.pathList.find(i=>i.path===this.setup.path);return`${t} ${e.name}`},isUseless(){return Pelle.uselessTimeStudies.includes(this.study.id)&&Pelle.isDoomed}},methods:{update(){this.showCost=this.study.id!==192||!Enslaved.isRunning,this.showSTCost=VUnlocks.vAchievementUnlock.isUnlocked&&!TimeStudy(this.study.id).isBought&&TimeStudy(this.study.id).costsST()&&!Pelle.isDoomed}}};var GWe=function(){var e=this,i=e._self._c;return i("TimeStudyButton",{attrs:{setup:e.setup,"show-cost":e.showCost,"show-st-cost":e.showSTCost}},[i("HintText",{staticClass:"l-hint-text--time-study",attrs:{type:"studies"}},[e._v(" "+e._s(e.hintText)+" ")]),i("span",{class:{"o-pelle-disabled":e.isUseless}},[i("DescriptionDisplay",{attrs:{config:e.study.config}}),i("EffectDisplay",{attrs:{br:"",config:e.study.config}})],1)],1)},UWe=[],LWe=X(NWe,GWe,UWe,!1,null,"2e003f1c");const F2=LWe.exports,BWe={name:"SecretTimeStudy",props:{setup:{type:Object,required:!0}},data(){return{isVisible:player.secretUnlocks.viewSecretTS}},computed:{styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"l-time-study":!0,"o-time-study":!0,"o-time-study--bought":!0,"o-time-study-normal":!0,"o-time-study-normal--bought":!0,"o-time-study--secret":!this.isVisible,"o-time-study--secret-unlocked":this.isVisible}}},methods:{update(){this.isVisible=player.secretUnlocks.viewSecretTS},handleClick(){if(this.isVisible){const t=Date.now();t-ui.lastClickTime<750?(ui.lastClickTime=0,player.secretUnlocks.viewSecretTS=!1):ui.lastClickTime=t}else ui.lastClickTime=0,player.secretUnlocks.viewSecretTS||(player.secretUnlocks.viewSecretTS=!0,this.$refs.study.addEventListener("transitionend",function t(e){SecretAchievement(21).unlock(),e.target.removeEventListener(e.type,t)}))}}};var $We=function(){var e=this,i=e._self._c;return i("button",{ref:"study",class:e.classObject,style:e.styleObject,on:{click:e.handleClick}},[e._m(0)])},FWe=[function(){var t=this,e=t._self._c;return e("span",[t._v(" Unlock a Secret Achievement "),e("br"),e("br"),t._v(" (Double click to hide) ")])}],HWe=X(BWe,$We,FWe,!1,null,"f42259c7");const VWe=HWe.exports,YWe={name:"TriadTimeStudy",components:{DescriptionDisplay:Qa,EffectDisplay:oo,HintText:mc,TimeStudyButton:mE},props:{setup:{type:Object,required:!0}},computed:{study(){return this.setup.study},id(){return this.study.id},config(){return this.study.config}}};var qWe=function(){var e=this,i=e._self._c;return i("TimeStudyButton",{staticClass:"o-time-study--triad",attrs:{setup:e.setup,"show-st-cost":!0}},[i("HintText",{staticClass:"l-hint-text--time-study",attrs:{type:"studies"}},[e._v(" "+e._s(e.id)+" Triad ")]),i("DescriptionDisplay",{attrs:{config:e.study.config}}),i("EffectDisplay",{attrs:{br:"",config:e.study.config}})],1)},WWe=[],jWe=X(YWe,qWe,WWe,!1,null,"e6ce1e32");const H2=jWe.exports,zWe={name:"TimeStudiesTab",components:{PrimaryButton:mt,NormalTimeStudy:F2,ECTimeStudy:$2,EnslavedTimeStudy:DWe,DilationTimeStudy:B2,TriadTimeStudy:H2,SecretTimeStudy:VWe,TimeStudyConnection:Z0e,HiddenTimeStudyConnection:OWe},data(){return{respec:player.respec,layoutType:{},vLevel:0,renderedStudyCount:0,renderedConnectionCount:0,isEnslaved:!1,delayTimer:0}},computed:{layout(){return _m.create(this.layoutType)},allStudies(){return this.layout.studies},studies(){return this.allStudies.slice(0,this.renderedStudyCount)},allConnections(){return this.layout.connections},connections(){return this.allConnections.slice(0,this.renderedConnectionCount)},treeStyleObject(){return{width:`${this.layout.width}rem`,height:`${this.layout.height}rem`}},respecClassObject(){return{"o-primary-btn--subtab-option":!0,"o-primary-btn--respec-active":this.respec}}},watch:{respec(t){player.respec=t},vLevel(){this.$recompute("layout")}},created(){const t=()=>{let e=!1;this.renderedStudyCount<this.allStudies.length&&(this.renderedStudyCount+=2,e=!0),this.renderedConnectionCount<this.allConnections.length&&(this.renderedConnectionCount+=2,e=!0),e&&(this.renderAnimationId=requestAnimationFrame(t))};t(),this.on$(GAME_EVENT.REALITY_RESET_AFTER,()=>{this.delayTimer=player.celestials.enslaved.hasSecretStudy?Date.now():0}),document.body.scrollTop=0},beforeDestroy(){cancelAnimationFrame(this.renderAnimationId)},methods:{update(){this.respec=player.respec,this.layoutType=_m.current,this.vLevel=Ra.pets.v.level,this.isEnslaved=Enslaved.isRunning||Date.now()-this.delayTimer<1e3},studyComponent(t){switch(t.type){case TIME_STUDY_TYPE.NORMAL:return F2;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return $2;case TIME_STUDY_TYPE.DILATION:return B2;case TIME_STUDY_TYPE.TRIAD:return H2}throw"Unknown Time Study type"},exportStudyTree(){player.timestudy.studies.length===0?GameUI.notify.error("You cannot export an empty Time Study Tree!"):(copyToClipboard(GameCache.currentStudyTree.value.exportString),GameUI.notify.info("Exported current Time Studies to your clipboard"))}}};var XWe=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-time-studies-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.exportStudyTree}},[e._v(" Export tree ")]),i("PrimaryButton",{class:e.respecClassObject,on:{click:function(n){e.respec=!e.respec}}},[e._v(" Respec Time Studies on next Eternity ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",attrs:{onclick:"Modal.studyString.show({ id: -1 })"}},[e._v(" Import tree ")])],1),i("div",{staticClass:"l-time-study-tree l-time-studies-tab__tree",style:e.treeStyleObject},[e._l(e.studies,function(n){return i(e.studyComponent(n.study),{key:n.study.type.toString()+n.study.id.toString(),tag:"component",attrs:{setup:n}})}),i("SecretTimeStudy",{attrs:{setup:e.layout.secretStudy}}),e.isEnslaved?i("EnslavedTimeStudy",{attrs:{setup:e.layout.enslavedStudy}}):e._e(),i("svg",{staticClass:"l-time-study-connection",style:e.treeStyleObject},[e._l(e.connections,function(n,r){return i("TimeStudyConnection",{key:"connection"+r,attrs:{setup:n}})}),i("HiddenTimeStudyConnection",{attrs:{setup:e.layout.secretStudyConnection}}),e.isEnslaved?i("HiddenTimeStudyConnection",{attrs:{setup:e.layout.enslavedStudyConnection,"is-enslaved":e.isEnslaved}}):e._e()],2)],2)])},KWe=[],ZWe=X(zWe,XWe,KWe,!1,null,"ccd879de");const QWe=ZWe.exports,JWe={name:"VUnlockRequirement",props:{dbEntry:{type:Object,required:!0}},data(){return{resource:new Decimal(0),progress:0}},computed:{barProgressStyle(){return{background:this.progress===1?"var(--color-v--base)":"#6b5f2e",width:`${100*this.progress}%`}},textStyle(){return{color:this.progress===1?"black":"var(--color-text)","border-color":"var(--color-text)"}}},methods:{update(){this.resource.copyFrom(new Decimal(this.dbEntry.resource())),this.progress=Math.clampMax(this.dbEntry.progress(),1)}}};var eje=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-v-unlock-bar",style:e.textStyle},[i("div",{staticClass:"c-v-unlock-bar__progress",style:e.barProgressStyle}),e._v(" "+e._s(e.dbEntry.format(e.resource))+" / "+e._s(e.dbEntry.format(e.dbEntry.requirement))+" "+e._s(e.dbEntry.name)+" ")])},tje=[],ije=X(JWe,eje,tje,!1,null,null);const nje=ije.exports,rje={name:"VTab",components:{CelestialQuoteHistory:Xf,VUnlockRequirement:nje,PrimaryButton:mt,GlyphSetPreview:Yf},data(){return{mainUnlock:!1,canUnlockCelestial:!1,totalUnlocks:0,pp:0,showReduction:!1,runRecords:[],runGlyphs:[],isFlipped:!1,wantsFlipped:!0,isRunning:!1,hasAlchemy:!1}},computed:{mainUnlockDB:()=>GameDatabase.celestials.v.mainUnlock,celestialUnlockClassObject(){return{"o-v-milestone":!0,"o-v-milestone--unlocked":this.canUnlockCelestial,"c-v-unlock-button--enabled":this.canUnlockCelestial}},hexGrid(){return this.isFlipped&&this.wantsFlipped?[VRunUnlocks.all[6],{},{},{},{isRunButton:!0},VRunUnlocks.all[7],VRunUnlocks.all[8],{},{}]:[VRunUnlocks.all[0],VRunUnlocks.all[1],{},VRunUnlocks.all[5],{isRunButton:!0},VRunUnlocks.all[2],VRunUnlocks.all[4],VRunUnlocks.all[3],{}]},vUnlock:()=>VUnlocks.vAchievementUnlock,runMilestones(){return[[VUnlocks.shardReduction,VUnlocks.adPow,VUnlocks.fastAutoEC],[VUnlocks.autoAutoClean,VUnlocks.achievementBH,VUnlocks.raUnlock]]},runButtonClassObject(){return{"l-v-hexagon":!0,"c-v-run-button":!0,"c-v-run-button--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runDescription(){return GameDatabase.celestials.descriptions[3].effects().replace(/^\w/u,t=>t.toUpperCase())},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.mainUnlock=VUnlocks.vAchievementUnlock.isUnlocked,this.canUnlockCelestial=V.canUnlockCelestial,this.totalUnlocks=V.spaceTheorems,this.pp=Currency.perkPoints.value,this.showReduction=VUnlocks.shardReduction.isUnlocked,this.runRecords=Array.from(player.celestials.v.runRecords),this.runGlyphs=player.celestials.v.runGlyphs.map(t=>Glyphs.copyForRecords(t)),this.isFlipped=V.isFlipped,this.wantsFlipped=player.celestials.v.wantsFlipped,this.isRunning=V.isRunning,this.hasAlchemy=Ra.unlocks.unlockGlyphAlchemy.canBeApplied},unlockCelestial(){V.canUnlockCelestial&&V.unlockCelestial()},startRun(){this.isDoomed||Modal.celestials.show({name:"V's",number:3})},has(t){return t.isUnlocked},mode(t){return t.config.mode===vo.SUBTRACTION?"reduced":"divided"},reductionValue(t){return t.config.mode===vo.SUBTRACTION?formatInt(t.reduction):format(Decimal.pow10(t.reduction))},showRecord(t){return this.runRecords[t.id]>0||t.completions>0},reduceGoals(t){if(!Currency.perkPoints.purchase(t.reductionCost))return;const e=t.config.reductionStepSize?t.config.reductionStepSize:1;player.celestials.v.goalReductionSteps[t.id]+=e;for(const i of VRunUnlocks.all)i.tryComplete();V.checkForUnlocks()},reductionTooltip(t){return`Spend ${quantify("Perk Point",t.reductionCost,2,0)}
        to reduce goal by ${format(t.config.perReductionStep)}`},hexColor(t){const e=t.completions,i=t.config.values.length;if(e===i)return"var(--color-v--base)";const n=255-5*e,r=255-10*e,a=255-20*e;return`rgb(${n},${r},${a})`},toggleFlipped(){player.celestials.v.wantsFlipped=!this.wantsFlipped},createCursedGlyph(){Glyphs.giveCursedGlyph()}}};var aje=function(){var e=this,i=e._self._c;return i("div",{staticClass:"l-v-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"v"}}),e.mainUnlock?i("div",[e.isFlipped?i("div",{staticClass:"c-v-info-text"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleFlipped}},[e.wantsFlipped?i("span",[e._v("Hide")]):i("span",[e._v("Show")]),e._v(" Hard V ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option l-cursed-glyph-creation",on:{click:e.createCursedGlyph}},[e._v(" Create a Cursed Glyph ")]),i("br"),e._v(" Cursed Glyphs can be created here or in the Effarig tab. "),i("br"),e._v(" Cursed Glyphs count as "+e._s(e.formatInt(-3))+" Glyphs for the purposes of all requirements related to Glyph count. "),i("br"),e.isDoomed?e._e():i("span",[e._v("The Black Hole can now be used to slow down time if they are both permanent.")]),i("br"),i("br"),e._v(" Each Hard V-Achievement counts as two V-Achievements and will award "+e._s(e.formatInt(2))+" Space Theorems instead of "+e._s(e.formatInt(1))+". "),i("br"),e._v(" Goal reduction is significantly more expensive for Hard V-Achievements. ")],1):e._e(),e.showReduction?i("div",{staticClass:"c-v-info-text"},[e._v(" You have "+e._s(e.quantify("Perk Point",e.pp,2,0))+". ")]):e._e(),i("div",{staticClass:"l-v-unlocks-container"},e._l(e.hexGrid,function(n,r){return i("li",{key:r+"-v-hex",style:[n.isRunButton?{zIndex:1}:{zIndex:0}]},[n.config?i("div",{staticClass:"l-v-hexagon c-v-unlock",style:"background-color: "+e.hexColor(n)},[i("p",{staticClass:"o-v-unlock-name"},[n.canBeReduced&&e.showReduction?i("br"):e._e(),e._v(e._s(n.config.name)+" ")]),i("p",{staticClass:"o-v-unlock-desc",domProps:{innerHTML:e._s(n.formattedDescription)}}),e.has(e.runMilestones[0][0])&&n.isReduced?i("p",{staticClass:"o-v-unlock-goal-reduction"},[e._v(" Goal has been "+e._s(e.mode(n))+" by "+e._s(e.reductionValue(n))+" ")]):e._e(),i("p",{staticClass:"o-v-unlock-amount"},[e._v(" "+e._s(e.formatInt(n.completions))+"/"+e._s(e.formatInt(n.config.values.length))+" done ")]),e.showRecord(n)?i("div",[i("p",{staticClass:"o-v-unlock-record"},[e._v(" Best: "+e._s(n.config.formatRecord(e.runRecords[n.id]))+" ")]),i("p",[i("GlyphSetPreview",{attrs:{glyphs:e.runGlyphs[n.id],text:n.config.name,"text-hidden":!0}})],1),n.canBeReduced&&e.showReduction?i("div",[i("div",{staticClass:"l-v-goal-reduction-spacer"}),i("button",{staticClass:"o-primary-btn l-v-reduction",class:{"o-primary-btn--disabled":!n.canBeReduced||e.pp<n.reductionCost},attrs:{"ach-tooltip":e.reductionTooltip(n)},on:{click:function(a){return e.reduceGoals(n)}}},[i("i",{staticClass:"fas fa-angle-double-down"})])]):e._e()]):e._e()]):n.isRunButton?i("div",{class:e.runButtonClassObject,on:{click:function(a){return e.startRun()}}},[i("b",{staticClass:"o-v-start-text",class:{"o-pelle-disabled":e.isDoomed}},[e.isRunning?i("span",[e._v("You are in ")]):i("span",[e._v("Start ")]),e._v(" V's Reality. ")]),i("br"),i("div",{style:{"font-size":e.hasAlchemy?"1.2rem":""}},[e._v(" "+e._s(e.runDescription)+" ")]),i("div",{staticClass:"c-v-run-button__line c-v-run-button__line--1"}),i("div",{staticClass:"c-v-run-button__line c-v-run-button__line--2"}),i("div",{staticClass:"c-v-run-button__line c-v-run-button__line--3"})]):i("div",[i("div",{staticClass:"l-v-hexagon l-placeholder-invisible"})])])}),0),i("div",{staticClass:"c-v-info-text"},[e._v(" V-Achievements can only be completed within V's Reality, but are permanent and do not reset upon leaving and re-entering the Reality. ")]),i("div",{staticClass:"c-v-info-text"},[e._v(" You have "+e._s(e.formatInt(e.totalUnlocks))+" V-Achievements done. "),e.isDoomed?e._e():i("span",[e._v(" You gain "+e._s(e.formatInt(1))+" Space Theorem for each completion, allowing you to purchase Time Studies which are normally locked. "),i("br"),e._v(" Space Theorems can also be used as a Currency in the Automator. ")])]),i("br"),i("div",{staticClass:"l-v-milestones-grid"},e._l(e.runMilestones,function(n,r){return i("div",{key:r+"-v-ms-row",staticClass:"l-v-milestones-grid__row"},e._l(n,function(a,s){return i("div",{key:s+r*10+"-v-ms",staticClass:"o-v-milestone",class:{"o-v-milestone--unlocked":e.has(a)}},[i("div",{class:{"o-pelle-disabled":e.isDoomed}},[i("p",[e._v(e._s(a.description))]),i("p",[e._v("Reward: "+e._s(a.rewardText))]),a.formattedEffect?i("p",[e._v(" Currently: "),i("b",[e._v(e._s(a.formattedEffect))])]):e._e()])])}),0)}),0)]):i("div",{staticClass:"c-v-info-text"},[e._l(e.mainUnlockDB,function(n){return i("v-unlock-requirement",{key:n.name,attrs:{"db-entry":n}})}),i("div",{staticClass:"l-v-milestones-grid__row"},[i("div",{class:e.celestialUnlockClassObject,on:{click:e.unlockCelestial}},[i("p",[e._v(e._s(e.vUnlock.description))]),i("p",[e._v(e._s(e.vUnlock.rewardText))])])])],2)],1)},sje=[],oje=X(rje,aje,sje,!1,null,"d238a752");const lje=oje.exports,cje={AntimatterDimensionsTab:lUe,InfinityDimensionsTab:IHe,TimeDimensionsTab:yWe,OptionsSavingTab:B8e,OptionsVisualTab:uVe,OptionsGameplayTab:C8e,StatisticsTab:_qe,ChallengeRecordsTab:O$e,PastPrestigeRunsTab:wVe,GlyphSetRecordsTab:l3e,SpeedrunMilestonesTab:pqe,PreviousSpeedrunTab:IYe,NormalAchievementsTab:a8e,SecretAchievementTab:W9e,TeresaTab:Iqe,EffarigTab:J$e,EnslavedTab:rFe,VTab:lje,RaTab:t9e,LaitelaTab:S6e,PelleTab:mYe,AutobuyersTab:SLe,AutomatorTab:JLe,NormalChallengesTab:m8e,InfinityChallengesTab:aHe,EternityChallengesTab:MFe,InfinityUpgradesTab:$He,BreakInfinityTab:jBe,ReplicantiTab:R9e,TimeStudiesTab:QWe,EternityUpgradesTab:n3e,EternityMilestonesTab:HFe,TimeDilationTab:qqe,GlyphsTab:N4e,RealityUpgradesTab:d9e,ImaginaryUpgradesTab:q4e,PerksTab:xL,BlackHoleTab:PBe,AlchemyTab:eGe,CelestialNavigationTab:C$e,ShopTab:rqe,MultiplierBreakdownTab:B6e},eg={entries:[{name:"Windows Media Player",action(){const t=["https://www.youtube.com/watch?v=dQw4w9WgXcQ","https://youtu.be/rP42C-4zL3w?t=2","https://www.youtube.com/watch?v=fTaWKbD3UK8","https://www.youtube.com/watch?v=fLbP6qpI1YI"];window.open(t[Math.floor(Math.random()*t.length)])},image:"desktop--windows-media-player.png"},{name:"Discord",action(){window.open("https://discord.gg/ST9NaXa")},image:"desktop--discord-logo.png"},{name:"Games",action(){Modal.s12Games.show()},image:"desktop--games.png"}],selected:-1};let K1=!1;const uje={name:"DesktopIcons",data(){return{DesktopIcons:eg}},mounted(){document.body.addEventListener("click",this.clearSelected)},beforeDestroy(){document.body.removeEventListener("click",this.clearSelected),this.clearSelected()},methods:{clearSelected(){K1||(eg.selected=-1)},handleClick(t){eg.selected!==t?(eg.selected=t,K1=!0,setTimeout(()=>K1=!1,0)):eg.entries[t].action()}}};var dje=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-s12-desktop-icons-container"},e._l(e.DesktopIcons.entries,function(n,r){return i("div",{key:n.name,staticClass:"c-s12-desktop-icon",class:{"c-s12-desktop-icon--selected":e.DesktopIcons.selected===r},on:{click:function(a){return e.handleClick(r)}}},[i("div",{staticClass:"c-s12-desktop-icon__inner"},[i("img",{staticClass:"c-s12-desktop-icon__img",attrs:{src:`/images/s12/${n.image}`}}),i("div",{staticClass:"c-s12-desktop-icon__text"},[e._v(" "+e._s(n.name)+" ")])])])}),0)},hje=[],fje=X(uje,dje,hje,!1,null,"950bd5e2");const pje=fje.exports;let V2;const kd={isMinimised:!1,tabs:{hoveringTab:void 0,setHoveringTab(t){this.hoveringTab=t.id,clearTimeout(V2)},unsetHoveringTab(t=!1){if(t){this.hoveringTab=void 0;return}V2=setTimeout(()=>this.hoveringTab=void 0,1e3)},tabButtonPositions:[]}},mje={name:"S12Ui",components:{BigCrunchButton:_x,HeaderChallengeDisplay:Ex,HeaderChallengeEffects:Tx,NewsTicker:kx,HeaderBlackHole:wx,HeaderPrestigeGroup:Cx,GameSpeedDisplay:EE,GameUiComponentFixed:R5,BackgroundAnimations:_5},data(){return{bigCrunch:!1,hasReality:!1,newGameKey:"",tabName:"",S12Windows:kd}},computed:{news(){return this.$viewModel.news},topPadding(){return this.$viewModel.news?"":"padding-top: 3.9rem"},isOldUi(){return!this.$viewModel.newUI}},methods:{update(){const t=!player.break&&Player.canCrunch;this.bigCrunch=t&&Time.bestInfinityRealTime.totalMinutes>1,this.hasReality=PlayerProgress.realityUnlocked(),this.newGameKey=Pelle.isDoomed,this.tabName=Tabs.current[this.$viewModel.subtab].name}}};var yje=function(){var e=this,i=e._self._c;return i("div",{staticClass:"c-s12-window__outer",class:e.S12Windows.isMinimised?"c-s12-window__outer--minimised":"",attrs:{id:"page"}},[i("link",{attrs:{rel:"stylesheet",type:"text/css",href:e.isOldUi?"stylesheets/old-ui.css":"stylesheets/new-ui-styles.css"}}),i("span",{staticClass:"c-s12-close-button",on:{click:function(n){e.S12Windows.isMinimised=!0}}}),i("span",{staticClass:"c-modal__title"},[e._v(" "+e._s(e.tabName)+" ")]),i("div",{key:e.newGameKey,staticClass:"game-container c-s12-window__inner",class:e.isOldUi?"c-old-ui l-old-ui":"",style:e.topPadding},[i("GameUiComponentFixed"),i("BackgroundAnimations"),i("div",{staticClass:"c-s12-window__content-container"},[e.news?i("NewsTicker"):e._e(),i("BigCrunchButton"),e.bigCrunch?e._e():i("div",{staticClass:"tab-container"},[i("HeaderPrestigeGroup"),i("div",{staticClass:"information-header"},[i("HeaderChallengeDisplay"),i("HeaderChallengeEffects"),e.hasReality?i("GameSpeedDisplay"):e._e(),e.hasReality?i("br"):e._e(),i("HeaderBlackHole")],1),e._t("default")],2)],1)],1)])},gje=[],vje=X(mje,yje,gje,!1,null,"57cd7965");const bje=vje.exports,_je={name:"S12Subtabs",props:{tab:{type:Object,required:!0}},data(){return{isAvailable:!0,isHidden:!1,subtabVisibilities:[],tabName:"",S12Windows:kd,windowWidth:0,left:"0px",useCompact:!1}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.isHidden=this.tab.isHidden,this.subtabVisibilities=this.tab.subtabs.map(t=>t.isAvailable),this.windowWidth=window.innerWidth,this.useCompact=this.subtabVisibilities.reduce((t,e)=>t+e)*180>window.innerWidth-10,this.left=this.getSubtabsPosition()},isCurrentSubtab(t){return player.options.lastOpenSubtab[this.tab.id]===t&&!kd.isMinimised},getSubtabsPosition(){if(!this.$refs.subtabs)return"0px";const t=kd.tabs.tabButtonPositions[this.tab.id],i=5+this.$refs.subtabs.offsetWidth/2,n=this.windowWidth-i;return this.isAvailable,this.isHidden,`${Math.clamp(t,i,n)}px`}}};var wje=function(){var e=this,i=e._self._c;return i("div",{ref:"subtabs",staticClass:"c-s12-subtabs",class:{"c-s12-subtabs--show":e.S12Windows.tabs.hoveringTab===e.tab.id,"c-s12-subtabs--compact":e.useCompact},style:{left:e.left},on:{mouseenter:function(n){return e.S12Windows.tabs.setHoveringTab(e.tab)},mouseleave:function(n){return e.S12Windows.tabs.unsetHoveringTab()}}},[e._l(e.tab.subtabs,function(n,r){return[e.subtabVisibilities[r]?i("div",{key:r,staticClass:"c-s12-subtab-btn",class:{"c-s12-subtab-btn--active":e.isCurrentSubtab(n.id)},on:{click:function(a){n.show(!0),e.S12Windows.isMinimised=!1,e.S12Windows.tabs.unsetHoveringTab(!0)}}},[i("span",{staticClass:"c-s12-subtab-btn__text"},[e.useCompact?i("span",{staticClass:"c-s12-subtab-btn__symbol--small",domProps:{innerHTML:e._s(n.symbol)}}):e._e(),e._v(" "+e._s(n.name)+" ")]),e.useCompact?e._e():i("span",{staticClass:"c-s12-subtab-btn__symbol",domProps:{innerHTML:e._s(n.symbol)}}),n.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]):e._e()]})],2)},Eje=[],Tje=X(_je,wje,Eje,!1,null,"3233322d");const Cje=Tje.exports,kje={name:"TaskbarIcon",props:{tab:{type:Object,required:!0},tabPosition:{type:Number,required:!0}},data(){return{isAvailable:!0,isHidden:!1,hasNotification:!1,tabName:"",S12Windows:kd}},computed:{isCurrentTab(){return this.tab.isOpen&&!kd.isMinimised}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.isHidden=this.tab.isHidden,this.hasNotification=this.tab.hasNotification,this.tabPosition<Pelle.endTabNames.length?this.tabName=Pelle.transitionText(this.tab.name,Pelle.endTabNames[this.tabPosition],Math.clamp(GameEnd.endState-this.tab.id%4/10,0,1)):this.tabName=this.tab.name,kd.tabs.tabButtonPositions[this.tab.id]=this.getSubtabsPosition()},getSubtabsPosition(){return this.$refs.taskbarIcon?this.$refs.taskbarIcon.offsetLeft+this.$refs.taskbarIcon.offsetWidth/2:"0px"}}};var Sje=function(){var e=this,i=e._self._c;return i("div",{ref:"taskbarIcon",class:{"c-taskbar-icon":!0,"c-taskbar-icon--active":e.isCurrentTab},attrs:{title:e.tab.name},on:{mouseenter:function(n){return e.S12Windows.tabs.setHoveringTab(e.tab)},mouseleave:function(n){return e.S12Windows.tabs.unsetHoveringTab()},click:function(n){e.tab.show(!0),e.S12Windows.isMinimised=!1,e.S12Windows.tabs.unsetHoveringTab(!0)}}},[i("img",{staticClass:"c-taskbar-icon__image",attrs:{src:`/images/s12/${e.tab.key}.png`}}),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])},Aje=[],xje=X(kje,Sje,Aje,!1,null,"e1b6823b");const Dje=xje.exports,Ije=""+new URL("../images/s12/win7-start-menu-inactive.png",import.meta.url).href,Rje=new Audio("audio/s12-startup.mp3"),Mje={name:"S12Taskbar",components:{TaskbarIcon:Dje,S12Subtabs:Cje},data(){return{isHidden:!1,tabVisibilities:[],S12Windows:kd,startupSound:Rje}},computed:{tabs:()=>Tabs.newUI},methods:{update(){this.isHidden=AutomatorData.isEditorFullscreen,this.tabVisibilities=Tabs.newUI.map(t=>!t.isHidden&&t.isAvailable)}}};var Pje=function(){var e=this,i=e._self._c;return e.isHidden?e._e():i("span",[i("div",{staticClass:"c-taskbar"},[i("img",{staticClass:"c-start-icon",attrs:{src:Ije},on:{click:function(n){return e.startupSound.play()}}}),e._l(e.tabs,function(n,r){return[e.tabVisibilities[r]?i("TaskbarIcon",{key:n.name,attrs:{tab:n,"tab-position":r}}):e._e()]}),i("div",{staticClass:"c-s12-show-desktop",on:{click:function(n){e.S12Windows.isMinimised=!0}}})],2),e._l(e.tabs,function(n,r){return[e.tabVisibilities[r]?i("S12Subtabs",{key:n.name,attrs:{tab:n}}):e._e()]})],2)},Oje=[],Nje=X(Mje,Pje,Oje,!1,null,"25ab85c0");const Gje=Nje.exports,Uje={name:"S12UiFixed",components:{PopupModal:D5,ModalProgressBar:A5,CelestialQuoteModal:C5,CelestialQuoteHistoryDisplay:T5,FadeAway:S5,CreditsContainer:k5,SpectateGame:I5,NewGame:x5,S12Taskbar:Gje},data(){return{ending:!1}},computed:{view(){return this.$viewModel}},methods:{update(){this.ending=GameEnd.endState>=END_STATE_MARKERS.FADE_AWAY&&!GameEnd.creditsClosed}}};var Lje=function(){var e=this,i=e._self._c;return i("span",[i("div",{staticClass:"c-game-ui--fixed"},[e.view.modal.progressBar?i("ModalProgressBar"):e.view.quotes.current?i("CelestialQuoteModal",{attrs:{quote:e.view.quotes.current}}):e.view.quotes.history?i("CelestialQuoteHistoryDisplay",{attrs:{quotes:e.view.quotes.history}}):e.view.modal.current?i("PopupModal",{attrs:{modal:e.view.modal.current}}):e._e(),e.ending?i("FadeAway"):e._e(),e.ending?i("CreditsContainer"):e._e(),e.ending?i("NewGame"):e._e(),i("SpectateGame")],1),i("S12Taskbar")],1)},Bje=[],$je=X(Uje,Lje,Bje,!1,null,"a0bd9078");const Fje=$je.exports,Hje={name:"GameUIComponent",components:{...cje,ClassicUi:EOe,ModernUi:kNe,GameUiComponentFixed:R5,BackgroundAnimations:_5,S12Ui:bje,S12UiFixed:Fje,S12DesktopIcons:pje},computed:{view(){return this.$viewModel},isThemeS12(){return this.view.theme==="S12"},uiLayout(){return this.isThemeS12?"S12Ui":this.view.newUI?"ModernUi":"ClassicUi"},containerClass(){return this.view.newUI?"new-ui":"old-ui"},page(){return Tabs.current[this.$viewModel.subtab].config.component},themeCss(){return`stylesheets/theme-${this.view.theme}.css`}}};var Vje=function(){var e=this,i=e._self._c;return e.view.initialized?i("div",{staticClass:"ui-wrapper",class:e.containerClass,attrs:{id:"ui-container"}},[i("div",{staticClass:"c-game-ui",attrs:{id:"ui"}},[i(e.uiLayout,{tag:"component"},[i(e.page,{tag:"component",staticClass:"c-game-tab"})],1),e.isThemeS12?i("S12DesktopIcons"):e._e(),e.view.theme!=="Normal"?i("link",{attrs:{type:"text/css",rel:"stylesheet",href:e.themeCss}}):e._e()],1),e.isThemeS12?e._e():i("GameUiComponentFixed"),e.isThemeS12?e._e():i("BackgroundAnimations"),e.isThemeS12?i("S12UiFixed"):e._e()],1):e._e()},Yje=[],qje=X(Hje,Vje,Yje,!1,null,"f8d85e37");const Y2=qje.exports;Vue.mixin({computed:{$viewModel(){return v5.view}},created(){this.update&&(this.on$(GAME_EVENT.UPDATE,this.update),Fl.initialized&&this.update());const t=Object.create(null),e=this._computedWatchers;if(e){for(const i in e)Wje(e[i],i,t);this.$recompute=i=>t[i]=!t[i],Vue.observable(t)}},destroyed(){EventHub.ui.offAll(this)},methods:{emitClick(){this.$emit("click")},emitInput(t){this.$emit("input",t)},emitClose(){this.$emit("close")},on$(t,e){EventHub.ui.on(t,e,this)},format,formatInt,formatPercents,formatRarity,formatX,formatPow,formatPostBreak,pluralize,quantify,quantifyInt}});function Wje(t,e,i){const n=t.getter;i[e]=!0,t.getter=r=>(i[e],n.call(r,r))}const Fl={notify:ARe,events:[],flushPromise:void 0,initialized:!1,globalClickListener:null,touchDevice:"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch,dispatch(t,e){const i=this.events.indexOf(t);i!==-1&&this.events.splice(i,1),t!==GAME_EVENT.UPDATE&&this.events.push([t,e]),!this.flushPromise&&(this.flushPromise=Promise.resolve().then(this.flushEvents.bind(this)))},flushEvents(){this.flushPromise=void 0;for(const t of this.events)EventHub.ui.dispatch(t[0],t[1]);EventHub.ui.dispatch(GAME_EVENT.UPDATE),this.events=[]},update(){this.dispatch(GAME_EVENT.UPDATE)}},jje=function(){let t=0;return{next:()=>t++}}();ay.options.defaultClass="general-tooltip";ay.options.popover.defaultBaseClass="general-tooltip";ay.options.defaultTemplate='<div role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>';Vue.use(ay);(function(){const t=Vue.config.optionMergeStrategies.methods;Vue.config.optionMergeStrategies.methods=(e,i,n,r)=>{const a=t(e,i,n,r),s=o=>o&&o.update;return!s(e)||!s(i)||(a.update=function(){e.update.call(this),i.update.call(this)}),a}})();kRe(Vue);SRe(Vue);Vue.use(CRe,{config:{id:"UA-77268961-1"}});const zje=new Vue({el:"#ui",components:{GameUIComponent:Y2},data:v5,computed:{notation(){return Notations.find(this.notationName)},currentGlyphTooltip(){return this.view.tabs.reality.currentGlyphTooltip},scrollWindow(){return this.view.scrollWindow},newUI(){return this.view.newUI}},watch:{currentGlyphTooltip(t){t!==-1&&!Fl.globalClickListener?(Fl.globalClickListener=()=>{this.view.tabs.reality.currentGlyphTooltip=-1,document.removeEventListener("click",Fl.globalClickListener),Fl.globalClickListener=null},document.addEventListener("click",Fl.globalClickListener)):t===-1&&Fl.globalClickListener&&(document.removeEventListener("click",Fl.globalClickListener),Fl.globalClickListener=null)},scrollWindow(t,e){t!==0&&e===0&&this.scroll(Date.now())}},methods:{scroll(t){const e=Date.now();this.view.scrollWindow&&(window.scrollBy(0,this.view.scrollWindow*(e-t)/2),setTimeout(()=>this.scroll(e),20))}},render:t=>t(Y2)});class Xje extends mn{constructor(e){super(e),this._row=Math.floor(this.id/10),this._column=this.id%10,this._bitmask=1<<this.column-1,this._inverseBitmask=~this._bitmask,this.registerEvents(e.checkEvent,i=>this.tryUnlock(i))}get name(){return this.config.name}get row(){return this._row}get column(){return this._column}get isPreReality(){return this.row<14}get isPrePelle(){return this.row<18}get isUnlocked(){return(player.achievementBits[this.row-1]&this._bitmask)!==0}get isDisabled(){return Pelle.isDisabled("achievements")&&Pelle.disabledAchievements.includes(this.id)}get isEffectActive(){return this.isUnlocked&&!this.isDisabled}tryUnlock(e){this.isUnlocked||this.config.checkRequirement(e)&&this.unlock()}lock(){player.achievementBits[this.row-1]&=this._inverseBitmask}unlock(e){this.isUnlocked||(player.achievementBits[this.row-1]|=this._bitmask,(this.id===85||this.id===93)&&Autobuyer.bigCrunch.bumpAmount(4),this.id===55&&!PlayerProgress.realityUnlocked()&&Modal.message.show(`Since you performed an Infinity in under a minute, the UI changed on the screen.
        Instead of the Dimensions disappearing, they stay and the Big Crunch button appears on top of them.
        This is purely visual, and is there to prevent flickering.`,{},3),(this.id===148||this.id===166)&&GameCache.staticGlyphWeights.invalidate(),e?GameUI.notify.reality(`Automatically unlocked: ${this.name}`):(GameUI.notify.success(`Achievement: ${this.name}`),df.activateAchievement(this.id)),player.speedrun.isActive&&!player.speedrun.achievementTimes[this.id]&&(player.speedrun.achievementTimes[this.id]=Math.floor(player.records.realTimePlayed)),ar._power.invalidate(),EventHub.dispatch(GAME_EVENT.ACHIEVEMENT_UNLOCKED))}}const $k=Xje.createAccessor(GameDatabase.achievements.normal),ar={all:$k.index.compact(),get preReality(){return ar.all.filter(t=>t.isPreReality)},get prePelle(){return ar.all.filter(t=>t.isPrePelle)},get allRows(){const t=ar.all.map(e=>e.row).max();return ar.rows(1,t)},get preRealityRows(){const t=ar.preReality.map(e=>e.row).max();return ar.rows(1,t)},get prePelleRows(){const t=ar.prePelle.map(e=>e.row).max();return ar.rows(1,t)},rows:(t,e)=>Array.range(t,e).map(ar.row),row:t=>Array.range(t*10+1,8).map($k),get effectiveCount(){return ar.all.countWhere(e=>e.isUnlocked)},get period(){return GameCache.achievementPeriod.value},autoAchieveUpdate(t){if(PlayerProgress.realityUnlocked()){if(!player.reality.autoAchieve||RealityUpgrade(8).isLockingMechanics){player.reality.achTimer=Math.clampMax(player.reality.achTimer+t,this.period);return}if(!ar.preReality.every(e=>e.isUnlocked)&&(player.reality.achTimer+=t,!(player.reality.achTimer<this.period))){for(const e of ar.preReality.filter(i=>!i.isUnlocked))if(e.unlock(!0),player.reality.achTimer-=this.period,player.reality.achTimer<this.period)break;player.reality.gainedAutoAchievements=!0}}},get timeToNextAutoAchieve(){return!PlayerProgress.realityUnlocked()||GameCache.achievementPeriod.value===0||ar.preReality.countWhere(t=>!t.isUnlocked)===0?0:this.period-player.reality.achTimer},_power:new Lazy(()=>{const t=ar.allRows.countWhere(n=>n.every(r=>r.isUnlocked)),e=Math.pow(1.25,t)*Math.pow(1.03,ar.effectiveCount),i=getAdjustedGlyphEffect("effarigachievement")*Ra.unlocks.achievementPower.effectOrDefault(1);return Math.pow(e,i)}),get power(){return Pelle.isDisabled("achievementMult")?1:ar._power.value},updateSteamStatus(){for(const t of ar.all.filter(e=>e.isUnlocked))df.activateAchievement(t.id)}};EventHub.logic.on(GAME_EVENT.PERK_BOUGHT,()=>{player.reality.achTimer=Math.clampMax(player.reality.achTimer,ar.period)});class Kje extends mn{constructor(e){super(e),this._row=Math.floor(this.id/10),this._column=this.id%10,this._bitmask=1<<this.column-1,this._inverseBitmask=~this._bitmask,this.registerEvents(e.checkEvent,i=>this.tryUnlock(i))}get name(){return this.config.name}get row(){return this._row}get column(){return this._column}get isUnlocked(){return(player.secretAchievementBits[this.row-1]&this._bitmask)!==0}tryUnlock(e){this.isUnlocked||this.config.checkRequirement(e)&&this.unlock()}unlock(){this.isUnlocked||(player.secretAchievementBits[this.row-1]|=this._bitmask,GameUI.notify.success(`Secret Achievement: ${this.name}`),EventHub.dispatch(GAME_EVENT.ACHIEVEMENT_UNLOCKED))}lock(){player.secretAchievementBits[this.row-1]&=this._inverseBitmask}}const Fk=Kje.createAccessor(GameDatabase.achievements.secret),g0={all:Fk.index.compact(),get allRows(){const t=g0.all.map(e=>e.row).max();return g0.rows(1,t)},rows:(t,e)=>Array.range(t,e).map(g0.row),row:t=>Array.range(t*10+1,8).map(Fk)};class B_{constructor(e){this.time=0,this.realTime=e}reset(){this.time=0}advance(){const e=this.realTime?Time.unscaledDeltaTime.totalSeconds:Time.deltaTime;this.time+=e}check(e,i){return e?(this.advance(),this.time>=i):(this.reset(),!1)}}const Zje={marathon1:new B_(!1),marathon2:new B_(!1),pain:new B_(!0),stats:new B_(!0)},W5=["powerpow","infinitypow","replicationpow","timepow","dilationpow","timeshardpow","powermult","powerdimboost","powerbuy10","dilationTTgen","infinityinfmult","infinityIP","timeEP","dilationDT","replicationdtgain","replicationspeed","timeetermult","dilationgalaxyThreshold","infinityrate","replicationglyphlevel","timespeed","effarigrm","effarigglyph","effarigblackhole","effarigachievement","effarigforgotten","effarigdimensions","effarigantimatter","cursedgalaxies","cursedtickspeed","curseddimensions","cursedEP","realityglyphlevel","realitygalaxies","realityrow1pow","realityDTglyph","companiondescription","companionEP"],Qje=["power","infinity","replication","time","dilation","effarig"],Jje=W5.mapToObject(t=>t,(t,e)=>e);function j5(t){return t*2.5/100+1}function e7e(t){return(t-1)*100/2.5}const Jl={inventory:[],active:[],unseen:[],unequipped:[],levelBoost:0,factorsOpen:!1,bestUndoGlyphCount:0,get inventoryList(){return player.reality.glyphs.inventory},get sortedInventoryList(){return this.inventoryList.sort((t,e)=>-t.level*t.strength+e.level*e.strength)},get activeList(){return player.reality.glyphs.active},get activeWithoutCompanion(){return this.activeList.filter(t=>t.type!=="companion")},get allGlyphs(){return this.inventoryList.concat(this.activeList)},get glyphIndexArray(){return this.inventory.filter(t=>t).map(t=>t.idx)},findFreeIndex(t){this.validate();const e=i=>t?i<this.protectedSlots:i>=this.protectedSlots;return this.inventory.findIndex((i,n)=>i===null&&e(n))},get freeInventorySpace(){return this.validate(),this.inventory.filter((t,e)=>t===null&&e>=this.protectedSlots).length},get activeSlotCount(){return Pelle.isDoomed?PelleRifts.vacuum.milestones[0].canBeApplied?1:0:3+Effects.sum(RealityUpgrade(9),RealityUpgrade(24))},get protectedSlots(){return 10*player.reality.glyphs.protectedRows},get totalSlots(){return 120},changeProtectedRows(t){const e=Math.clamp(player.reality.glyphs.protectedRows+t,0,this.totalSlots/10-1),i=e-player.reality.glyphs.protectedRows;if(i>0){let n=0;for(;n<i;){let r=!1;for(let a=this.protectedSlots/10+n;!r&&a<this.totalSlots/10;a++)r=r||this.moveGlyphRow(a,a+1);if(!r)break;this.glyphIndexArray.some(a=>Math.floor(a/10)===this.protectedSlots/10)||n++}}else{let n=0;for(;n<-i;){let r=!1;for(let a=this.protectedSlots/10-n-1;!r&&a>0;a--)r=r||this.moveGlyphRow(a,a-1);if(!r)break;if(!this.glyphIndexArray.some(a=>Math.floor(a/10)===this.protectedSlots/10-1)){n++;for(let a=this.protectedSlots/10-n;a<this.totalSlots/10;a++)this.moveGlyphRow(a,a-1)}}}player.reality.glyphs.protectedRows=e,this.validate(),GameCache.glyphInventorySpace.invalidate()},moveGlyphRow(t,e){if(!player.reality.moveGlyphsOnProtection||t>=this.totalSlots/10||e>=this.totalSlots/10)return!1;if(this.glyphIndexArray.some(i=>Math.floor(i/10)===e)){if([...Array(10).keys()].some(n=>this.inventory[10*t+n]!==null&&this.inventory[10*e+n]!==null))return!1;for(let n=0;n<10;n++){const r=this.inventory[10*t+n];r!==null&&this.moveToSlot(r,10*e+n)}return this.validate(),!0}for(let i=0;i<10;i++){const n=this.inventory[10*t+i];n!==null&&this.moveToSlot(n,10*e+i)}return this.validate(),!0},refreshActive(){this.active=new Array(this.activeSlotCount).fill(null);for(const t of player.reality.glyphs.active){if(this.active[t.idx])throw new Error("Stacked active glyphs?");this.active[t.idx]=t}},refresh(){this.refreshActive(),this.inventory=new Array(this.totalSlots).fill(null);const t=[];for(const e of player.reality.glyphs.inventory)this.inventory[e.idx]?t.push(e):this.inventory[e.idx]=e;for(;t.length;){const e=this.findFreeIndex();if(e>=0){const i=t.shift();this.inventory[e]=i,i.idx=e}else break}for(;t.length;)this.removeFromInventory(t.pop());this.validate(),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)},findByValues(t,e,i={level,strength,effects}){const n=(s,o,c)=>{switch(s){case-1:return c-o;case 0:return o===c?0:-1;case 1:return o-c}return!1},r=(s,o)=>(s&o)===s?countValuesFromBitmask(o-s):-countValuesFromBitmask(s-(s&o)),a=[];for(const s of e){const o=s.type===t.type;let c;switch(i.effects){case-1:c=r(s.effects,t.effects);break;case 0:c=s.effects===t.effects?0:-1;break;case 1:c=r(t.effects,s.effects);break}const d=n(i.strength,s.strength,t.strength)/2.5,p=n(i.level,s.level,t.level)/5e3,m=s.symbol===t.symbol;o&&c>=0&&d>=0&&p>=0&&m&&a.push({glyph:s,gap:d+p+c/10})}return a.sort((s,o)=>s.gap-o.gap),a.map(s=>s.glyph)},findById(t){return player.reality.glyphs.inventory.find(e=>e.id===t)},findByInventoryIndex(t){return this.inventory[t]},activeGlyph(t){return this.active[t]},equip(t,e){const i=Pelle.isDisabled("glyphs")||["effarig","reality","cursed"].includes(t.type);if(Pelle.isDoomed&&i||GameEnd.creditsEverClosed)return;if(t.type!=="companion"){if(RealityUpgrade(9).isLockingMechanics){if(this.activeWithoutCompanion.length>0){RealityUpgrade(9).tryShowWarningModal("equip another non-Companion Glyph");return}if(t.level<3){RealityUpgrade(9).tryShowWarningModal(`equip a Glyph whose level is less than ${formatInt(3)}`);return}}if(RealityUpgrade(24).isLockingMechanics&&this.activeWithoutCompanion.length===0){RealityUpgrade(24).tryShowWarningModal();return}if(ImaginaryUpgrade(25).isLockingMechanics&&this.activeWithoutCompanion.length===1){ImaginaryUpgrade(25).tryShowWarningModal();return}}if(this.validate(),this.findByInventoryIndex(t.idx)!==t)throw new Error("Inconsistent inventory indexing");let n=-1;if(["effarig","reality"].includes(t.type)&&(n=this.active.findIndex(r=>r&&r.type===t.type)),this.active[e]===null){if(n>=0){Modal.message.show(`You may only have one ${t.type.capitalize()} Glyph equipped!`,{closeEvent:GAME_EVENT.GLYPHS_CHANGED});return}this.removeFromInventory(t),this.saveUndo(e),player.reality.glyphs.active.push(t),t.idx=e,this.active[e]=t,this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate()}else{if(n>=0&&n!==e){Modal.message.show(`You may only have one ${t.type.capitalize()} Glyph equipped!`,{closeEvent:GAME_EVENT.GLYPHS_CHANGED});return}if(!player.options.confirmations.glyphReplace){this.swapIntoActive(t,e);return}Modal.glyphReplace.show({targetSlot:e,inventoryIndex:t.idx})}this.removeVisualFlag("unseen",t),this.removeVisualFlag("unequipped",t)},unequipAll(t=!1){this.unequipped=[];const e=t?!1:player.options.respecIntoProtected;for(;player.reality.glyphs.active.length;){const r=this.findFreeIndex(e);if(r<0)break;const a=player.reality.glyphs.active.pop();this.active[a.idx]=null,this.addToInventory(a,r,!0)}this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(!0);const i=player.reality.glyphs.active.length,n=player.records.recentRealities[0][1]<3e3;if(i&&!n){const r=player.options.respecIntoProtected?"Protected slots":"Main Inventory",a=this.findFreeIndex(!player.options.respecIntoProtected)!==-1;setTimeout(()=>Modal.message.show(`${quantifyInt("Glyph",i)} could not be unequipped due to lack
        of space. Free up some space in your ${r}${a?" or switch where you are unequipping to":""}
        in order to unequip ${i===1?"it":"them"}.`,{closeEvent:GAME_EVENT.GLYPHS_CHANGED}),50)}return EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),!player.reality.glyphs.active.length},unequip(t,e){if(this.active[t]===null)return;const i=player.reality.glyphs.active.findIndex(r=>r.idx===t);if(i<0)return;const n=player.reality.glyphs.active.splice(i,1)[0];this.active[t]=null,this.addToInventory(n,e,!0),this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(!0),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)},updateRealityGlyphEffects(){if(player.reality.glyphs.active.filter(e=>e.type==="reality")[0]===void 0){this.levelBoost=0;return}this.levelBoost=getAdjustedGlyphEffectUncached("realityglyphlevel")},moveToSlot(t,e){this.inventory[e]===null?this.moveToEmpty(t,e):this.swap(t,this.inventory[e])},moveToEmpty(t,e){if(this.validate(),this.findByInventoryIndex(t.idx)!==t)throw new Error("Inconsistent inventory indexing");if(this.inventory[e]===null)this.inventory[t.idx]=null,this.inventory[e]=t,t.idx=e,EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED);else throw new Error("Attempted glyph move into non-empty slot");this.validate()},swap(t,e){if(t.idx===e.idx)return;this.validate(),this.inventory[t.idx]=e,this.inventory[e.idx]=t;const i=t.idx;t.idx=e.idx,e.idx=i,this.validate(),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)},addToInventory(t,e,i=!1){this.validate(),i||(t.id=GlyphGenerator.makeID());const n=e<this.protectedSlots;let r=this.findFreeIndex(n);r<0||(e!==void 0&&this.inventory[e]===null&&(r=e),this.inventory[r]=t,t.idx=r,this.applyGamespeed(t),player.records.bestReality.glyphStrength=Math.clampMin(player.records.bestReality.glyphStrength,t.strength),player.reality.glyphs.inventory.push(t),e===void 0&&!i&&this.addVisualFlag("unseen",t),i&&this.addVisualFlag("unequipped",t),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate())},addVisualFlag(t,e){this[t].includes(e.id)||this[t].push(e.id)},removeVisualFlag(t,e){const i=Jl[t].indexOf(e.id);i>-1&&Jl[t].splice(i,1)},isMusicGlyph(t){return(t==null?void 0:t.cosmetic)==="music"},removeFromInventory(t){if(t.idx===null)return;this.validate();const e=player.reality.glyphs.inventory.indexOf(t);e<0||(this.inventory[t.idx]=null,player.reality.glyphs.inventory.splice(e,1),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate())},validate(){for(const t of player.reality.glyphs.inventory)if(this.inventory[t.idx]!==t)throw new Error("validation error");for(let t=0;t<this.inventory.length;++t)if(this.inventory[t]&&this.inventory[t].idx!==t)throw new Error("backwards validation error")},sort(t){const e=player.reality.glyphs.inventory.filter(o=>o.idx>=this.protectedSlots),i=GameCache.glyphInventorySpace.value,n=["power","infinity","replication","time","dilation","effarig","reality","cursed","companion"],r=n.mapToObject(o=>o,()=>({glyphs:[],padding:0}));for(const o of e)r[o.type].glyphs.push(o);let a=0;for(const o of Object.values(r))o.glyphs.sort(t),o.padding=Math.ceil(o.glyphs.length/10)*10-o.glyphs.length,a+=o.padding;for(;a>i;){let o=n[0];for(const d of n)r[d].padding>r[o].padding&&(o=d);const c=r[o].padding>5?5:1;a-=c,r[o].padding-=c}let s=this.protectedSlots;for(const o of Object.values(r)){for(const c of o.glyphs)this.inventory[s]?this.swap(this.inventory[s],c):this.moveToEmpty(c,s),++s;s+=o.padding}player.reality.autoCollapse&&this.collapseEmptySlots()},sortByLevel(){this.sort((t,e)=>e.level-t.level)},sortByPower(){this.sort((t,e)=>e.level*e.strength-t.level*t.strength)},sortByScore(){this.sort((t,e)=>AutoGlyphProcessor.filterValue(e)-AutoGlyphProcessor.filterValue(t))},sortByEffect(){function t(e){return parseInt(((1<<30)+(e>>>0)).toString(2).split("").reverse().join(""),2)}this.sort((e,i)=>t(i.effects)-t(e.effects))},isObjectivelyUseless(t,e,i){if(player.reality.applyFilterToPurge&&AutoGlyphProcessor.wouldKeep(t))return!1;function n(c,d,p){for(const m of p)if(m.compareValues(m.effect(c.level,c.strength),m.effect(d.level,d.strength))>0)return!0;return!1}const r=(i??this.inventory).concat(this.active).filter(c=>c!==null&&c.type===t.type&&c.id!==t.id&&(c.level>=t.level||c.strength>=t.strength)&&(c.effects&t.effects)===t.effects);let a=t.type==="effarig"||t.type==="reality"?1:5;if(a=Math.clampMax(a,e),r.length<a)return!1;const s=getGlyphEffectsFromBitmask(t.effects).filter(c=>c.id.startsWith(t.type));return r.countWhere(c=>!n(t,c,s))>=a},autoClean(t=5,e=!0){const i=t<5;let n=0;const r=e?void 0:this.fakePurgeInventory();if(!GlyphSacrificeHandler.canSacrifice)return n;for(let a=this.totalSlots-1;a>=this.protectedSlots;--a){const s=(r??this.inventory)[a];s===null||s.type==="companion"||s.type==="cursed"&&t!==0||(s.color!==void 0||s.symbol!==void 0)&&!i||(t===0||this.isObjectivelyUseless(s,t,r))&&(e?AutoGlyphProcessor.getRidOfGlyph(s):r.splice(r.indexOf(s),1),n++)}return player.reality.autoCollapse&&e&&this.collapseEmptySlots(),n},fakePurgeInventory(){return this.inventory.map(t=>t===null?null:{id:t.id,type:t.type,level:t.level,strength:t.strength,effects:t.effects,color:t.color,symbol:t.symbol})},harshAutoClean(){this.autoClean(1)},deleteAllUnprotected(){this.autoClean(0)},deleteAllRejected(t=!0){let e=0;for(const i of Jl.inventory)i!==null&&i.idx>=this.protectedSlots&&!AutoGlyphProcessor.wouldKeep(i)&&(t&&AutoGlyphProcessor.getRidOfGlyph(i),e++);return player.reality.autoCollapse&&t&&this.collapseEmptySlots(),e},collapseEmptySlots(){const t=player.reality.glyphs.inventory.filter(e=>e.idx>=this.protectedSlots).sort((e,i)=>e.idx-i.idx);for(let e=0;e<t.length;e++)this.moveToSlot(t[e],this.protectedSlots+e)},processSortingAfterReality(){switch(VUnlocks.autoAutoClean.canBeApplied&&player.reality.autoAutoClean&&this.autoClean(),player.reality.autoSort){case AUTO_SORT_MODE.NONE:break;case AUTO_SORT_MODE.LEVEL:this.sortByLevel();break;case AUTO_SORT_MODE.POWER:this.sortByPower();break;case AUTO_SORT_MODE.EFFECT:this.sortByEffect();break;case AUTO_SORT_MODE.SCORE:this.sortByScore();break;default:throw new Error("Unrecognized auto-sort mode")}},get levelCap(){return 1e6},get instabilityThreshold(){return 1e3+getAdjustedGlyphEffect("effarigglyph")+ImaginaryUpgrade(7).effectOrDefault(0)},get hyperInstabilityThreshold(){return 3e3+this.instabilityThreshold},clearUndo(){player.reality.glyphs.undo=[]},saveUndo(t){const e={targetSlot:t,am:new Decimal(Currency.antimatter.value),ip:new Decimal(Currency.infinityPoints.value),ep:new Decimal(Currency.eternityPoints.value),tt:Currency.timeTheorems.max.minus(TimeTheorems.totalPurchased()),ecs:EternityChallenges.all.map(i=>i.completions),thisInfinityTime:player.records.thisInfinity.time,thisInfinityRealTime:player.records.thisInfinity.realTime,thisEternityTime:player.records.thisEternity.time,thisEternityRealTime:player.records.thisEternity.realTime,thisRealityTime:player.records.thisReality.time,thisRealityRealTime:player.records.thisReality.realTime,storedTime:player.celestials.enslaved.stored,dilationStudies:player.dilation.studies.toBitmask(),dilationUpgrades:player.dilation.upgrades.toBitmask(),dilationRebuyables:DilationUpgrades.rebuyable.mapToObject(i=>i.id,i=>i.boughtAmount),tp:new Decimal(Currency.tachyonParticles.value),dt:new Decimal(Currency.dilatedTime.value)};player.reality.glyphs.undo.push(e)},undo(){const t=Jl.findFreeIndex(player.options.respecIntoProtected);if(t===-1||player.reality.glyphs.undo.length===0)return;const e=player.reality.glyphs.undo.pop();if(this.bestUndoGlyphCount=player.requirementChecks.reality.maxGlyphs,this.unequip(e.targetSlot,t),finishProcessReality({reset:!0,glyphUndo:!0,restoreCelestialState:!0}),Currency.antimatter.value=new Decimal(e.am),Currency.infinityPoints.value=new Decimal(e.ip),Currency.eternityPoints.value=new Decimal(e.ep),Currency.timeTheorems.value=new Decimal(e.tt),EternityChallenges.all.map((i,n)=>i.completions=e.ecs[n]),player.records.thisInfinity.time=e.thisInfinityTime,player.records.thisInfinity.realTime=e.thisInfinityRealTime,player.records.thisEternity.time=e.thisEternityTime,player.records.thisEternity.realTime=e.thisEternityRealTime,player.records.thisReality.time=e.thisRealityTime,player.records.thisReality.realTime=e.thisRealityRealTime,player.celestials.enslaved.stored=e.storedTime||0,e.dilationStudies){player.dilation.studies=Array.fromBitmask(e.dilationStudies),player.dilation.upgrades=new Set(Array.fromBitmask(e.dilationUpgrades));for(const i of Object.keys(e.dilationRebuyables))DilationUpgrades.fromId(i).boughtAmount=e.dilationRebuyables[i];Currency.tachyonParticles.value=new Decimal(e.tp),Currency.dilatedTime.value=new Decimal(e.dt)}Player.automatorUnlocked&&AutomatorBackend.state.forceRestart&&AutomatorBackend.start(player.reality.automator.state.editorScript)},copyForRecords(t){return t.map(e=>({type:e.type,level:e.level,strength:e.strength,effects:e.effects,color:e.color,symbol:e.symbol})).sort((e,i)=>i.effects-e.effects)},updateMaxGlyphCount(t=!1){const e=this.activeWithoutCompanion,i=e.length-4*e.filter(n=>n&&n.type==="cursed").length;t&&(player.requirementChecks.reality.maxGlyphs=i),player.requirementChecks.reality.maxGlyphs=Math.max(player.requirementChecks.reality.maxGlyphs,i)},applyGamespeed(t){Ra.unlocks.allGamespeedGlyphs.canBeApplied&&BASIC_GLYPH_TYPES.includes(t.type)&&(t.effects|=1<<GlyphEffects.timespeed.bitmaskIndex,t.type==="time"&&(t.effects|=1<<GlyphEffects.timeshardpow.bitmaskIndex))},swapIntoActive(t,e){this.removeFromInventory(t),this.unequip(e,t.idx),finishProcessReality({reset:!0,glyphUndo:!1,restoreCelestialState:!0}),player.reality.glyphs.active.push(t),this.active[e]=t,t.idx=e,this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(!0),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate()},hash(t){let e=1;for(const i of t){const n=Math.pow(i.level,2)*Math.pow(i.strength,4)*i.effects*i.type.charCodeAt(0);e*=n}return e},giveCursedGlyph(){if(GameCache.glyphInventorySpace.value===0){Modal.message.show("No available inventory space; Sacrifice some Glyphs to free up space.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED});return}this.allGlyphs.filter(e=>e!==null&&e.type==="cursed").length>=5?GameUI.notify.error(`You don't need more than ${format(5)} Cursed Glyphs!`):(this.addToInventory(GlyphGenerator.cursedGlyph()),GameUI.notify.error("Created a Cursed Glyph"))}};class t7e extends mn{}const i7e=mapGameDataToObject(GameDatabase.reality.glyphSacrifice,t=>new t7e(t));function n7e(){for(let t=0;t<player.reality.glyphs.active.length;t++)Hk(player.reality.glyphs.active[t]);player.reality.glyphs.inventory=player.reality.glyphs.inventory.filter(t=>t.idx<Jl.totalSlots);for(let t=0;t<player.reality.glyphs.inventory.length;t++)Hk(player.reality.glyphs.inventory[t]);Jl.updateRealityGlyphEffects(),Jl.refresh()}function Hk(t){t.color===void 0&&t.symbol===void 0&&(t.level=Math.max(1,Math.round(t.level)),t.rawLevel===void 0&&(t.rawLevel=t.level<1e3?t.level:(Math.pow(.004*t.level-3,2)-1)*125+1e3),t.strength===1&&(t.strength=1.5),t.strength=Math.min(j5(100),t.strength))}function r7e(t){return GlyphRarities.find(e=>t>=e.minStrength)}function a7e(t,e=Jl.levelBoost,i=!1){const n=t.level;if(!i){if(Pelle.isDoomed)return Math.min(n,Pelle.glyphMaxLevel);if(Enslaved.isRunning)return Math.max(n,Enslaved.glyphLevelMin);if(Effarig.isRunning)return Math.min(n,Effarig.glyphLevelCap)}return BASIC_GLYPH_TYPES.includes(t.type)?n+e:n}function s7e(){Jl.unequipAll()||Modal.message.show("Some of your Glyphs could not be unequipped due to lack of inventory space.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED}),player.reality.respec=!1}class z5{constructor(e,i){this.id=e.id,this._defaultSymbol=e.symbol,this._defaultColor=e.color,this.preventBlur=e.preventBlur??!1,this.isUnlocked=e.isUnlocked,this._canCustomize=e.canCustomize,this.fixedSymbolColor=e.fixedSymbolColor??!1,this.isCosmetic=i}get canCustomize(){var e,i;return(!this.isCosmetic||(((e=this.isUnlocked)==null?void 0:e.call(this))??!0))&&(((i=this._canCustomize)==null?void 0:i.call(this))??!0)}get defaultSymbol(){return{symbol:this._defaultSymbol,blur:!this.preventBlur}}get defaultColor(){const e=this.id==="reality"?zl.realityColor:this._defaultColor,i=!zl.isLightBG;return{border:e,bg:i===(this.id==="cursed")?"white":"black"}}get currentSymbol(){const e=player.reality.glyphs.cosmetics.symbolMap[this.id];return!player.reality.glyphs.cosmetics.active||!e?this.defaultSymbol:{symbol:e,blur:!(this.preventBlur||zl.unblurredSymbols.includes(e))}}get currentColor(){const e=player.reality.glyphs.cosmetics.colorMap[this.id];return!player.reality.glyphs.cosmetics.active||!e?this.defaultColor:{...zl.getColorProps(e),str:e}}get ignoreRarityColor(){return this.isCosmetic||this.fixedSymbolColor}}const o7e=mapGameDataToObject(GameDatabase.reality.glyphTypes,t=>new z5(t,!1)),l7e=mapGameDataToObject(GameDatabase.reality.cosmeticGlyphs,t=>new z5(t,!0)),qp={...o7e,...l7e,get list(){return Object.keys({...GameDatabase.reality.glyphTypes,...GameDatabase.reality.cosmeticGlyphs}).map(t=>qp[t])}},zl={setInModal:null,chosenFromModal:null,get cosmeticsEnabled(){return player.reality.glyphs.cosmetics.active},get symbolMap(){return player.reality.glyphs.cosmetics.symbolMap},get colorMap(){return player.reality.glyphs.cosmetics.colorMap},get availableSymbols(){return Object.values(GameDatabase.reality.glyphCosmeticSets).filter(t=>this.unlockedSets.includes(t.id)).map(t=>t.symbol).filter(t=>t)},get availableColors(){const t=Object.values(GameDatabase.reality.glyphCosmeticSets).filter(s=>this.unlockedSets.includes(s.id)).flatMap(s=>s.color).sort((s,o)=>{const c=d=>{const m=d.split("#")[1],y=[parseInt(m.substring(0,2),16)/255,parseInt(m.substring(2,4),16)/255,parseInt(m.substring(4),16)/255],_=Math.min(...y),w=Math.max(...y);if(w-_<.3)return w;let C;return y[0]===w?C=(y[1]-y[2])/(w-_):y[1]===w?C=2+(y[2]-y[1])/(w-_):C=4+(y[0]-y[1])/(w-_),6+(C+6)%6};return c(s)-c(o)}).filter(s=>s),e=t.filter(s=>s.charAt(0)==="B"),i=t.filter(s=>s.charAt(0)==="W"),n=e.length>i.length?e:i,r=e.length>i.length?i:e,a=[];for(let s=0;s<n.length;s++)s<r.length?a.push([n[s],r[s]]):a.push([n[s]]);return a},get availableTypes(){return Object.values(GameDatabase.reality.cosmeticGlyphs).map(t=>qp[t.id]).filter(t=>t.isUnlocked()).map(t=>t.id)},get unblurredSymbols(){return Object.values(GameDatabase.reality.glyphCosmeticSets).filter(t=>t.preventBlur).map(t=>t.symbol).flat()},get expectedSetCount(){return ShopPurchaseData.singleCosmeticSet+player.records.fullGameCompletions},get isLightBG(){switch(player.options.glyphBG){case GLYPH_BG_SETTING.AUTO:return!Theme.current().isDark();case GLYPH_BG_SETTING.LIGHT:return!0;case GLYPH_BG_SETTING.DARK:return!1;default:throw new Error("Unrecognized Glyph BG setting")}},getBorderColor(t){return t==="cursed"&&!qp.cursed.currentColor.str?this.isLightBG?"#ffffff":"#000000":qp[t].currentColor.border},getRarityColor(t,e){const i=getRarity(t),r=`${qp[e].currentColor.bg==="white"?"light":"dark"}${player.options.highContrastRarity?"HighContrast":"Color"}`;return i[r]},getColorProps(t){return(t==null?void 0:t.charAt(1))!=="#"?{border:t,bg:this.isLightBG?"white":"black"}:{border:t.substring(1),bg:t.charAt(0)==="B"?"black":"white"}},getBaseColor(t){const e=!this.isLightBG;return t?e?"white":"black":e?"black":"white"},get realityColor(){const t=[182,100,34,3,178,182],e=[127,221,170,169,65,127],i=[51,23,72,244,227,51],n=Date.now()%1e4,r=Math.floor(n/2e3),a=n/2e3-r;return`rgb(${t[r]*(1-a)+t[r+1]*a},
      ${e[r]*(1-a)+e[r+1]*a},
      ${i[r]*(1-a)+i[r+1]*a})`},get unlockedSets(){return ShopPurchase.allCosmeticSets>0?Object.keys(GameDatabase.reality.glyphCosmeticSets):[...new Set(player.reality.glyphs.cosmetics.unlockedFromNG.concat(ShopPurchaseData.unlockedCosmetics))]},get lockedSets(){return Object.keys(GameDatabase.reality.glyphCosmeticSets).filter(t=>!this.unlockedSets.includes(t))},unlockSet(){var r;const t=this.lockedSets,e=(r=zl.chosenFromModal)==null?void 0:r.id;let i;if(e&&t.includes(e))i=e;else if(!e&&t.length>0)i=t[Math.floor(Math.random()*t.length)];else return;player.reality.glyphs.cosmetics.unlockedFromNG.push(i);const n=GameDatabase.reality.glyphCosmeticSets[i];GameUI.notify.info(`You have unlocked the "${n.name}" Set for Glyph cosmetics!`,1e4),zl.chosenFromModal=null,this.applyNotification()},applyNotification(){TabNotification.newGlyphCosmetic.clearTrigger(),TabNotification.newGlyphCosmetic.tryTrigger(),player.reality.glyphs.cosmetics.glowNotification=!0},clearInvalidCosmetics(){const t=player.reality.glyphs.active.concat(player.reality.glyphs.inventory),e=zl.availableSymbols.flat(),i=zl.availableSymbols.flat();for(const r of t)e.includes(r.symbol)||(r.symbol=void 0),i.includes(r.color)||(r.color=void 0),zl.availableTypes.includes(r.cosmetic)||(r.cosmetic=void 0);const n=player.reality.glyphs.cosmetics;for(const r of Object.keys(n.symbolMap)){const a=n.symbolMap[r];e.includes(a)||(n.symbolMap[r]=void 0)}for(const r of Object.keys(n.colorMap)){const a=n.symbolMap[r];i.includes(a)||(n.colorMap[r]=void 0)}}};class Z1{constructor(e,i){this._id=e,this._adjustApply=i.adjustApply}applyEffect(e){let i=Dv(this._id);this._adjustApply!==void 0&&(i=this._adjustApply(i)),e(i)}}const c7e={dimBoostPower:new Z1("powerdimboost",{adjustApply:t=>Math.max(1,t)}),ipMult:new Z1("infinityIP",{adjustApply:t=>Decimal.max(1,t)}),epMult:new Z1("timeEP",{adjustApply:t=>Decimal.max(1,t)})};function u7e(t){return h7e(t).value}function Dv(t){return GameCache.glyphEffects.value[t]}function d7e(t){return GlyphEffects[t].conversion(Dv(t))}function Px(t){if(!orderedEffectList.includes(t))throw new Error(`Unknown Glyph effect requested "${t}"'`);return player.reality.glyphs.active.filter(e=>(1<<GlyphEffects[t].bitmaskIndex&e.effects)!==0).filter(e=>generatedTypes.includes(e.type)===GlyphEffects[t].isGenerated).map(e=>X5(t,e))}function h7e(t){return GlyphEffects[t].combine(Px(t))}function f7e(t){let e="",i="";for(let n=0;n<GLYPH_TYPES.length;n++)if(t.substring(0,GLYPH_TYPES[n].length)===GLYPH_TYPES[n]){e=GLYPH_TYPES[n],i=t.substring(GLYPH_TYPES[n].length);break}return[e,i]}function p7e(t,e,i,n){const r=Ea.isDoomed&&n!=="companion"?Ea.glyphStrength:i;return getGlyphEffectsFromBitmask(t).map(a=>({id:a.id,value:a.effect(e,r)}))}function X5(t,e){const i=GlyphEffects[t];if(e.effects&1<<i.bitmaskIndex)return i.effect(getAdjustedGlyphLevel(e),Ea.isDoomed?Ea.glyphStrength:e.strength)}function m7e(t){let e=0,i=t;for(;i!==0;)e+=i&1,i>>=1;return e}function y7e(){let t=orderedEffectList.map(a=>({effect:a,values:Px(a)})).filter(a=>a.values.length>0).map(a=>({id:a.effect,value:GlyphEffects[a.effect].combine(a.values)}));const e=t.map(a=>a.id),i=["cursedgalaxies","curseddimensions","cursedEP"],n=["realitygalaxies","effarigdimensions","timeEP"],r=[ti.multiply,ti.multiply,ti.multiplyDecimal];for(let a=0;a<i.length;a++)if(e.includes(i[a])&&e.includes(n[a])){const s=r[a]([Dv(i[a]),Dv(n[a])]);Decimal.lt(s,1)?(t=t.filter(o=>o.id!==n[a]),t.filter(o=>o.id===i[a])[0].value.value=s):(t=t.filter(o=>o.id!==i[a]),t.filter(o=>o.id===n[a])[0].value.value=s)}return t}class am{static get SECOND_GAUSSIAN_DEFAULT_VALUE(){return 1e6}constructor(e,i){this.seed=e,this.secondGaussian=i}uniform(){const e=xorshift32Update(this.seed);return this.seed=e,e*23283064365386963e-26+.5}normal(){if(this.secondGaussian!==am.SECOND_GAUSSIAN_DEFAULT_VALUE){const r=this.secondGaussian;return this.secondGaussian=am.SECOND_GAUSSIAN_DEFAULT_VALUE,r}let e=0,i=0,n=0;do e=this.uniform()*2-1,i=this.uniform()*2-1,n=e*e+i*i;while(n>=1||n===0);return n=Math.sqrt(-2*Math.log(n)/n),this.secondGaussian=i*n,e*n}finalize(){throw new NotImplementedError}get isFake(){throw new NotImplementedError}}const yo={uniformityGroups:4,get isUniformityActive(){return player.realities<=5*this.uniformityGroups},fakeSeed:Date.now()%Math.pow(2,32),fakeSecondGaussian:null,RealGlyphRNG:class extends am{constructor(){super(player.reality.seed,player.reality.secondGaussian)}finalize(){player.reality.seed=this.seed,player.reality.secondGaussian=this.secondGaussian}get isFake(){return!1}},FakeGlyphRNG:class extends am{constructor(){super(yo.fakeSeed,yo.fakeSecondGaussian)}finalize(){yo.fakeSeed=this.seed,yo.fakeSecondGaussian=this.secondGaussian}get isFake(){return!0}},MusicGlyphRNG:class extends am{constructor(){super(player.reality.musicSeed,player.reality.musicSecondGaussian)}finalize(){player.reality.musicSeed=this.seed,player.reality.musicSecondGaussian=this.secondGaussian}get isFake(){return!1}},startingGlyph(t){return{id:void 0,idx:null,type:"power",strength:1.5,level:t.actualLevel,rawLevel:t.rawLevel,effects:makeGlyphEffectBitmask(["powerpow"])}},randomGlyph(t,e,i=null){const n=e||new yo.RealGlyphRNG,r=this.randomStrength(n),a=i||this.randomType(n);let s=this.randomNumberOfEffects(a,r,t.actualLevel,n);a!=="effarig"&&s>4&&(s=4);const o=this.generateEffects(a,s,n);return e===void 0&&n.finalize(),{id:void 0,idx:null,type:a,strength:r,level:t.actualLevel,rawLevel:t.rawLevel,effects:o}},realityGlyph(t){const e=rarityToStrength(100),i=this.generateRealityEffects(t),n=makeGlyphEffectBitmask(i);return{id:void 0,idx:null,type:"reality",strength:e,level:t,rawLevel:t,effects:n}},cursedGlyph(){const t=rarityToStrength(100),e=makeGlyphEffectBitmask(orderedEffectList.filter(i=>i.match("cursed*")));return{id:void 0,idx:null,type:"cursed",strength:t,level:6666,rawLevel:6666,effects:e}},doomedGlyph(t){const e=GlyphEffects.all.filter(r=>r.id.startsWith(t));e.push(GlyphEffects.timespeed);let i=0;for(const r of e)i|=1<<r.bitmaskIndex;const n=Math.max(player.records.bestReality.glyphLevel,5e3);return{id:void 0,idx:null,type:t,strength:3.5,level:n,rawLevel:n,effects:i}},companionGlyph(t){const e=rarityToStrength(t.log10()/1e6),i=orderedEffectList.filter(r=>r.match("companion*")),n=makeGlyphEffectBitmask(i);return{id:void 0,idx:null,type:"companion",strength:e,level:1,rawLevel:1,effects:n}},musicGlyph(){const t=new yo.MusicGlyphRNG,e=this.randomGlyph({actualLevel:Math.floor(player.records.bestReality.glyphLevel*.8),rawLevel:1},t);return t.finalize(),e.cosmetic="music",e.fixedCosmetic="music",e},makeID(){return this.maxID+1},get maxID(){return player.reality.glyphs.active.concat(player.reality.glyphs.inventory).reduce((t,e)=>Math.max(t,e.id),0)},get strengthMultiplier(){return Effects.max(1,RealityUpgrade(16))},randomStrength(t){if(Ra.unlocks.maxGlyphRarityAndShardSacrificeBoost.canBeApplied)return rarityToStrength(100);let e=yo.gaussianBellCurve(t)*yo.strengthMultiplier;const n=(Ra.unlocks.extraGlyphChoicesAndRelicShardRarityAlwaysMax.canBeApplied?1:t.uniform())*Effarig.maxRarityBoost+Effects.sum(Achievement(146),GlyphSacrifice.effarig);return e+=n/40,e=Math.ceil(e*400)/400,Math.min(e,rarityToStrength(100))},randomNumberOfEffects(t,e,i,n){const r=n.uniform(),a=n.uniform();if(t!=="effarig"&&Ra.unlocks.glyphEffectCount.canBeApplied)return 4;const s=Ra.unlocks.glyphEffectCount.canBeApplied?7:4;let o=Math.min(s,Math.floor(Math.pow(r,1-Math.pow(i*e,.5)/100)*1.5+1));return RealityUpgrade(17).isBought&&a<Effects.max(0,RealityUpgrade(17))&&(o=Math.min(o+1,s)),Ra.unlocks.glyphEffectCount.canBeApplied?Math.max(o,4):o},generateRealityEffects(t){const e=realityGlyphEffectLevelThresholds.filter(n=>n<=t).length;return GlyphEffects.all.filter(n=>n.glyphTypes.includes("reality")).sort((n,r)=>n.bitmaskIndex-r.bitmaskIndex).map(n=>n.id).slice(0,e)},generateEffects(t,e,i){const n=GlyphTypes[t].effects.mapToObject(a=>a.bitmaskIndex,()=>i.uniform());if(Array.range(0,7-GlyphTypes[t].effects.length).forEach(()=>i.uniform()),t==="effarig"){const a=n[20]<n[21]?20:21;n[a]=-1}for(const a of[0,12,16])a in n&&(n[a]=2);return Object.keys(n).sort((a,s)=>n[s]-n[a]).slice(0,e).map(Number).toBitmask()},randomType(t,e=[]){const i=generatedTypes.filter(a=>EffarigUnlock.reality.isUnlocked||a!=="effarig"),n=i.map(a=>e.countWhere(s=>s===a)).max(),r=e.length===0?[]:i.filter(a=>e.countWhere(s=>s===a)===n);return GlyphTypes.random(t,r)},uniformGlyphs(t,e,i){const n=Math.floor((i-1)/5),r=(i-1)%5,a=player.reality.initialSeed,s=permutationIndex(5,(31+a%7)*n+a%1123),o=Array.repeat(0,5);for(let y=0;y<r;y++)for(let _=0;_<5;_++)_!==s[y]&&o[_]++;const c=[],d=[16,12,8,0,4],p=Array.range(0,5);p.splice(s[r],1);for(let y=0;y<4;y++){const _=p[y],w=permutationIndex(4,5*_+(7+a%5)*n+a%11);c.push(d[_]+w[o[_]])}const m=[];for(let y=0;y<4;++y){const _=yo.randomGlyph(t,e,BASIC_GLYPH_TYPES[p[y]]),w=(a+i+y)%2===0?1<<c[y]:_.effects|1<<c[y],C=RealityUpgrade(17).isBought?3:2;if(countValuesFromBitmask(w)>C){const S=getGlyphEffectsFromBitmask(_.effects).filter(O=>O.isGenerated).map(O=>O.bitmaskIndex).filter(O=>![0,12,16].includes(O)),x=S[Math.abs(a+i)%S.length];_.effects=w&~(1<<x)}else _.effects=w;const k={power:16,infinity:12,time:0};k[_.type]!==void 0&&(_.effects|=1<<k[_.type]),m.push(_)}return m},getRNG(t){return t?new yo.FakeGlyphRNG:new yo.RealGlyphRNG},gaussianBellCurve(t){const e=Math.sqrt(Math.abs(t.normal(),0)+1);return-.111749606737+e*(.900603878243551+e*(.229108274476697+e*-.017962545983249))},copy(t){return t&&rv({},t)}},g7e={maxSacrificeForEffects:1e100,get logTotalSacrifice(){return BASIC_GLYPH_TYPES.reduce((t,e)=>t+Math.log10(Math.clampMin(player.reality.glyphs.sac[e],1)),0)},get canSacrifice(){return RealityUpgrade(19).isBought},get isRefining(){return Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&AutoGlyphProcessor.sacMode!==AUTO_GLYPH_REJECT.SACRIFICE},handleSpecialGlyphTypes(t){switch(t.type){case"companion":return Modal.deleteCompanion.show(),!0;case"cursed":return Glyphs.removeFromInventory(t),!0}return!1},removeGlyph(t,e=!1){this.handleSpecialGlyphTypes(t)||(this.canSacrifice?this.isRefining?this.attemptRefineGlyph(t,e):this.sacrificeGlyph(t,e):this.deleteGlyph(t,e))},deleteGlyph(t,e){e||!player.options.confirmations.glyphSacrifice?Glyphs.removeFromInventory(t):Modal.glyphDelete.show({idx:t.idx})},glyphSacrificeGain(t){if(!this.canSacrifice||Pelle.isDoomed)return 0;if(t.type==="reality")return .01*t.level*Achievement(171).effectOrDefault(1)*1e3;const e=Math.pow(Math.clampMax(t.level,1e4)+10,2.5),i=1+Math.clampMin(t.level-1e4,0)/100,n=Ra.unlocks.maxGlyphRarityAndShardSacrificeBoost.effectOrDefault(1);return Math.pow(e*i*t.strength*Teresa.runRewardMultiplier*Achievement(171).effectOrDefault(1)*1e3,n)},sacrificeGlyph(t,e=!1){if(Pelle.isDoomed||this.handleSpecialGlyphTypes(t))return;const i=this.glyphSacrificeGain(t);if(!e&&player.options.confirmations.glyphSacrifice){Modal.glyphSacrifice.show({idx:t.idx,gain:i});return}player.reality.glyphs.sac[t.type]+=i,GameCache.logTotalGlyphSacrifice.invalidate(),Glyphs.removeFromInventory(t),EventHub.dispatch(GAME_EVENT.GLYPH_SACRIFICED,t)},glyphAlchemyResource(t){const e=GlyphTypes[t.type];return AlchemyResources.all[e.alchemyResource]},levelRefinementValue(t){return Math.pow(t,3)/1e8},glyphRefinementEfficiency:1,glyphRawRefinementGain(t){if(!Ra.unlocks.unlockGlyphAlchemy.canBeApplied)return 0;const e=this.levelRefinementValue(t.level),i=strengthToRarity(t.strength)/100;return this.glyphRefinementEfficiency*e*i},glyphRefinementGain(t){if(!Ra.unlocks.unlockGlyphAlchemy.canBeApplied||!generatedTypes.includes(t.type))return 0;const e=this.glyphAlchemyResource(t);if(!e.isUnlocked)return 0;const i=this.glyphRawRefinementGain(t);if(e.cap===0)return i;const n=this.glyphEffectiveCap(t)-e.amount;return Math.clamp(n,0,i)},glyphEffectiveCap(t){const i=this.glyphAlchemyResource(t).cap,n=this.highestRefinementValue(t),r=Math.clampMin(i,n);return Math.clampMax(r,Ra.alchemyResourceCap)},highestRefinementValue(t){return this.glyphRawRefinementGain(t)/this.glyphRefinementEfficiency},attemptRefineGlyph(t,e){if(t.type==="reality")return;if(t.type==="cursed"){Glyphs.removeFromInventory(t);return}const i=AlchemyResource.decoherence.isUnlocked;if(!Ra.unlocks.unlockGlyphAlchemy.canBeApplied||this.glyphRefinementGain(t)===0&&!i||i&&AlchemyResources.base.every(r=>r.data.amount>=Ra.alchemyResourceCap)){this.sacrificeGlyph(t,e);return}if(!player.options.confirmations.glyphRefine||e){this.refineGlyph(t);return}const n=this.glyphAlchemyResource(t);Modal.glyphRefine.show({idx:t.idx,resourceName:n.name,resourceAmount:n.amount,gain:this.glyphRefinementGain(t),cap:n.cap})},refineGlyph(t){if(Pelle.isDoomed)return;const e=this.glyphAlchemyResource(t);if(!e.isUnlocked){Glyphs.removeFromInventory(t);return}const i=this.glyphRawRefinementGain(t),n=this.glyphRefinementGain(t);e.amount+=n;const r=i*AlchemyResource.decoherence.effectValue;for(const a of ALCHEMY_BASIC_GLYPH_TYPES)if(a!==t.type){const s=GlyphTypes[a],o=AlchemyResources.all[s.alchemyResource],c=Math.max(o.cap,o.amount);o.amount=Math.clampMax(o.amount+r,c)}e.isBaseResource&&(e.highestRefinementValue=this.highestRefinementValue(t)),Glyphs.removeFromInventory(t)}},v7e={get scoreMode(){return player.reality.glyphs.filter.select},set scoreMode(t){player.reality.glyphs.filter.select=t},get sacMode(){return player.reality.glyphs.filter.trash},set sacMode(t){player.reality.glyphs.filter.trash=t},get types(){return player.reality.glyphs.filter.types},bitmaskIndexOffset(t){switch(t){case"time":return 0;case"dilation":return 4;case"replication":return 8;case"infinity":return 12;case"power":return 16;case"effarig":return 20;default:throw new Error("Unknown glyph type mode in bitmaskIndexOffset")}},filterValue(t){const e=this.types[t.type];if(["companion","reality"].includes(t.type))return 1/0;if(t.type==="cursed")return-1/0;switch(this.scoreMode){case AUTO_GLYPH_SCORE.LOWEST_SACRIFICE:return player.reality.glyphs.sac[t.type]>=GlyphSacrifice[t.type].cap?-1/0:-player.reality.glyphs.sac[t.type];case AUTO_GLYPH_SCORE.EFFECT_COUNT:return strengthToRarity(t.strength)/1e3+getGlyphEffectsFromBitmask(t.effects,0,0).filter(i=>i.isGenerated).length;case AUTO_GLYPH_SCORE.RARITY_THRESHOLD:return strengthToRarity(t.strength);case AUTO_GLYPH_SCORE.SPECIFIED_EFFECT:{const i=countValuesFromBitmask(t.effects);if(i<e.effectCount)return strengthToRarity(t.strength)-200*(e.effectCount-i);const n=countValuesFromBitmask(e.specifiedMask-(e.specifiedMask&t.effects));return strengthToRarity(t.strength)-200*n}case AUTO_GLYPH_SCORE.EFFECT_SCORE:{const i=getGlyphEffectsFromBitmask(t.effects,0,0).filter(a=>a.isGenerated).map(a=>a.bitmaskIndex),n=this.bitmaskIndexOffset(t.type),r=i.map(a=>e.effectScores[a-n]?e.effectScores[a-n]:0).sum();return strengthToRarity(t.strength)+r}case AUTO_GLYPH_SCORE.LOWEST_ALCHEMY:{const i=AlchemyResource[t.type],n=GlyphSacrificeHandler.glyphRefinementGain(t);return i.isUnlocked&&n>0?-i.amount:Number.NEGATIVE_INFINITY}case AUTO_GLYPH_SCORE.ALCHEMY_VALUE:return AlchemyResource[t.type].isUnlocked?GlyphSacrificeHandler.glyphRefinementGain(t):Number.NEGATIVE_INFINITY;default:throw new Error("Unknown glyph score mode in score assignment")}},thresholdValue(t){if(this.types[t.type]===void 0)return-Number.MAX_VALUE;switch(this.scoreMode){case AUTO_GLYPH_SCORE.EFFECT_COUNT:return player.reality.glyphs.filter.simple;case AUTO_GLYPH_SCORE.RARITY_THRESHOLD:case AUTO_GLYPH_SCORE.SPECIFIED_EFFECT:return this.types[t.type].rarity;case AUTO_GLYPH_SCORE.EFFECT_SCORE:return this.types[t.type].score;case AUTO_GLYPH_SCORE.LOWEST_SACRIFICE:case AUTO_GLYPH_SCORE.LOWEST_ALCHEMY:case AUTO_GLYPH_SCORE.ALCHEMY_VALUE:return Number.MAX_VALUE;default:throw new Error("Unknown glyph score mode in threshold check")}},wouldKeep(t){return this.filterValue(t)>=this.thresholdValue(t)},pick(t){const e=i=>{const n=this.filterValue(i),r=this.thresholdValue(i);return r===Number.MAX_VALUE?n:n-r};return t.map(i=>({glyph:i,score:e(i)})).reduce((i,n)=>i.score>n.score?i:n).glyph},getRidOfGlyph(t){if(t.type==="cursed"||t.type==="companion"){GlyphSacrificeHandler.deleteGlyph(t,!0);return}switch(this.sacMode){case AUTO_GLYPH_REJECT.SACRIFICE:GlyphSacrificeHandler.sacrificeGlyph(t,!0);break;case AUTO_GLYPH_REJECT.REFINE:GlyphSacrificeHandler.attemptRefineGlyph(t,!0);break;case AUTO_GLYPH_REJECT.REFINE_TO_CAP:GlyphSacrificeHandler.glyphRefinementGain(t)===0?GlyphSacrificeHandler.sacrificeGlyph(t,!0):GlyphSacrificeHandler.attemptRefineGlyph(t,!0);break;default:throw new Error("Unknown auto Glyph Sacrifice mode")}},hasNegativeEffectScore(){return this.scoreMode===AUTO_GLYPH_SCORE.EFFECT_SCORE&&Object.values(this.types).map(t=>t.effectScores.min()).min()<0},filterModeName(t){switch(t){case AUTO_GLYPH_SCORE.LOWEST_SACRIFICE:return"Lowest Total Glyph Sacrifice";case AUTO_GLYPH_SCORE.EFFECT_COUNT:return"Number of Effects";case AUTO_GLYPH_SCORE.RARITY_THRESHOLD:return"Rarity Threshold";case AUTO_GLYPH_SCORE.SPECIFIED_EFFECT:return"Specified Effect";case AUTO_GLYPH_SCORE.EFFECT_SCORE:return"Effect Score";case AUTO_GLYPH_SCORE.LOWEST_ALCHEMY:return"Lowest Alchemy Resource";case AUTO_GLYPH_SCORE.ALCHEMY_VALUE:return"Refinement Value";default:return"Invalid Glyph filter mode"}},trashModeDesc(t){switch(t){case AUTO_GLYPH_REJECT.SACRIFICE:return"Always sacrifice";case AUTO_GLYPH_REJECT.REFINE:return"Always refine";case AUTO_GLYPH_REJECT.REFINE_TO_CAP:return"Refine to cap, then sacrifice";default:return"Invalid Glyph trash mode"}}};function b7e(){const t=K5(),e=d=>Math.pow(Math.clampMin(1,Math.log(5*d)),3/2),i=Object.values(t).map(d=>e(d.value)).sum(),n=d=>100*e(t[d].value)/i,r=["ep","repl","dt","eternities"],a=[];for(const d of r)a.push({key:d,percent:n(d)});const s=d=>d-Math.floor(d),o=a.sort((d,p)=>s(p.percent)-s(d.percent)).map(d=>d.key),c=100-a.map(d=>Math.floor(d.percent)).reduce((d,p)=>d+p);for(let d=0;d<r.length;d++){const p=o[d];player.celestials.effarig.glyphWeights[p]=Math.floor(n(p))+(d<c?1:0)}}function K5(){let t=Player.canEternity?Currency.eternityPoints.value.plus(gainedEternityPoints()):Currency.eternityPoints.value;t=Decimal.max(player.records.thisReality.maxEP,t);const e=.016,i=Math.pow(Math.max(1,t.pLog10()),.5)*e,n=.4+getAdjustedGlyphEffect("replicationglyphlevel"),r=.025,a=Math.pow(Math.max(1,player.records.thisReality.maxReplicanti.log10()),n)*r,s=1.3+getAdjustedGlyphEffect("realityDTglyph"),o=.025,c=Math.pow(Math.max(1,player.records.thisReality.maxDT.pLog10()),s)*o,d=Effects.max(1,RealityUpgrade(18));return{ep:{name:"EP",value:i,coeff:e,exp:.5},repl:{name:"Replicanti",value:a,coeff:r,exp:n},dt:{name:"DT",value:c,coeff:o,exp:s},eternities:{name:"Eternities",value:d,coeff:.45,exp:.5}}}function _7e(){const t=K5(),e=GameCache.staticGlyphWeights.value,i=1/3,n=5,r=player.celestials.effarig.glyphWeights,a=(_,w)=>{const C=_.value,k=Math.pow(4*w,i);_.value=C>0?Math.pow(C*n,k)/n:0,_.coeff=Math.pow(n,k-1)*Math.pow(_.coeff,k),_.exp*=k};a(t.ep,r.ep/100),a(t.repl,r.repl/100),a(t.dt,r.dt/100),a(t.eternities,r.eternities/100);const s=Ra.unlocks.relicShardGlyphLevelBoost.effectOrDefault(0);let o=t.ep.value*t.repl.value*t.dt.value*t.eternities.value*e.perkShop+s;const c=SingularityMilestone.glyphLevelFromSingularities.effectOrDefault(1);o*=c;let d=o;const p=(_,w,C)=>{if(_<w)return _;const k=(_-w)/C;return w+.5*C*(Math.sqrt(1+4*k)-1)};d=p(d,e.instability,500),d=p(d,e.hyperInstability,400);const m=d>0?o/d:1,y=e.realityUpgrades+e.achievements;return o+=y,d+=y,{ep:t.ep,repl:t.repl,dt:t.dt,eter:t.eternities,perkShop:e.perkShop,scalePenalty:m,rowFactor:e.realityUpgrades,achievementFactor:e.achievements,shardFactor:s,singularityEffect:c,rawLevel:o,actualLevel:Math.max(1,d)}}function w7e(){const t=Effects.max(1,PerkShopUpgrade.glyphLevel),e=Glyphs.instabilityThreshold,i=Glyphs.hyperInstabilityThreshold,n=[Array.range(1,5).every(a=>RealityUpgrade(a).boughtAmount>0)].concat(Array.range(1,4).map(a=>Array.range(1,5).every(s=>RealityUpgrade(5*a+s).isBought))).filter(a=>a).length,r=Effects.sum(Achievement(148),Achievement(166));return{perkShop:t,instability:e,hyperInstability:i,realityUpgrades:n,achievements:r}}const Vk={deltaTime:new TimeSpan(0),unscaledDeltaTime:new TimeSpan(0),update(t,e){this.unscaledDeltaTime=TimeSpan.fromMilliseconds(t),this.deltaTime=TimeSpan.fromMilliseconds(e)}},E7e={fromMilliseconds(t){return TimeSpan.fromMilliseconds(t())},toMilliseconds(t,e){Guard.isTimeSpan(t),e(t.totalMilliseconds)},toDateTimeString(t){return new Date(t).toString().replace(/^.{4}(.*:..:..).*$/u,"$1")},get deltaTimeFull(){return Vk.deltaTime},get deltaTime(){return this.deltaTimeFull.totalSeconds},get deltaTimeMs(){return this.deltaTimeFull.totalMilliseconds},get unscaledDeltaTime(){return Vk.unscaledDeltaTime},get totalTimePlayed(){return this.fromMilliseconds(()=>player.records.totalTimePlayed)},set totalTimePlayed(t){this.toMilliseconds(t,e=>player.records.totalTimePlayed=e)},get timeSinceBlackHole(){return this.fromMilliseconds(()=>{const t=player.records.totalTimePlayed-player.records.timePlayedAtBHUnlock;return Math.max(0,t)})},get realTimeDoomed(){return this.fromMilliseconds(()=>player.records.realTimeDoomed)},set realTimeDoomed(t){this.toMilliseconds(t,e=>player.records.realTimeDoomed=e)},get realTimePlayed(){return this.fromMilliseconds(()=>player.records.realTimePlayed)},set realTimePlayed(t){this.toMilliseconds(t,e=>player.records.realTimePlayed=e)},get thisInfinity(){return this.fromMilliseconds(()=>player.records.thisInfinity.time)},set thisInfinity(t){this.toMilliseconds(t,e=>player.records.thisInfinity.time=e)},get thisInfinityRealTime(){return this.fromMilliseconds(()=>player.records.thisInfinity.realTime)},set thisInfinityRealTime(t){this.toMilliseconds(t,e=>player.records.thisInfinity.realTime=e)},get bestInfinity(){return this.fromMilliseconds(()=>player.records.bestInfinity.time)},set bestInfinity(t){this.toMilliseconds(t,e=>player.records.bestInfinity.time=e)},get bestInfinityRealTime(){return this.fromMilliseconds(()=>player.records.bestInfinity.realTime)},set bestInfinityRealTime(t){this.toMilliseconds(t,e=>player.records.bestInfinity.realTime=e)},get thisEternity(){return this.fromMilliseconds(()=>player.records.thisEternity.time)},set thisEternity(t){this.toMilliseconds(t,e=>player.records.thisEternity.time=e)},get thisEternityRealTime(){return this.fromMilliseconds(()=>player.records.thisEternity.realTime)},set thisEternityRealTime(t){this.toMilliseconds(t,e=>player.records.thisEternity.realTime=e)},get bestEternity(){return this.fromMilliseconds(()=>player.records.bestEternity.time)},set bestEternity(t){this.toMilliseconds(t,e=>player.records.bestEternity.time=e)},get bestEternityRealTime(){return this.fromMilliseconds(()=>player.records.bestEternity.realTime)},set bestEternityRealTime(t){this.toMilliseconds(t,e=>player.records.bestEternity.realTime=e)},get thisReality(){return this.fromMilliseconds(()=>player.records.thisReality.time)},set thisReality(t){this.toMilliseconds(t,e=>player.records.thisReality.time=e)},get thisRealityRealTime(){return this.fromMilliseconds(()=>player.records.thisReality.realTime)},set thisRealityRealTime(t){this.toMilliseconds(t,e=>player.records.thisReality.realTime=e)},get bestReality(){return this.fromMilliseconds(()=>player.records.bestReality.time)},set bestReality(t){this.toMilliseconds(t,e=>player.records.bestReality.time=e)},get bestRealityRealTime(){return this.fromMilliseconds(()=>player.records.bestReality.realTime)},set bestRealityRealTime(t){this.toMilliseconds(t,e=>player.records.bestReality.realTime=e)},get worstChallenge(){return this.fromMilliseconds(()=>GameCache.worstChallengeTime.value)},get challengeSum(){return this.fromMilliseconds(()=>GameCache.challengeTimeSum.value)},get infinityChallengeSum(){return this.fromMilliseconds(()=>GameCache.infinityChallengeTimeSum.value)}};function Z5(){let t=Replicanti.galaxies.bought;t*=1+Effects.sum(TimeStudy(132),TimeStudy(133)),t+=Replicanti.galaxies.extra;const e=Math.min(Replicanti.galaxies.bought,ReplicantiUpgrade.galaxies.value);t+=e*Effects.sum(EternityChallenge(8).reward);let i=player.dilation.totalTachyonGalaxies;return i*=1+Math.max(0,Replicanti.amount.log10()/1e6)*AlchemyResource.alternation.effectValue,Math.max(player.galaxies+GalaxyGenerator.galaxies+t+i,0)}function Yk(){if(InfinityChallenge(3).isRunning)return DC.D1;if(Ra.isRunning)return DC.C1D1_1245;let t=Z5();const e=Effects.product(InfinityUpgrade.galaxyBoost,InfinityUpgrade.galaxyBoost.chargedEffect,BreakInfinityUpgrade.galaxyBoost,TimeStudy(212),TimeStudy(232),Achievement(86),Achievement(178),InfinityChallenge(5).reward,PelleUpgrade.galaxyPower,PelleRifts.decay.milestones[1]);if(t<3){let r=.8892841262783459;player.galaxies===1&&(r=1/1.11888888),player.galaxies===2&&(r=1/1.11267177),NormalChallenge(5).isRunning&&(r=1/1.08,player.galaxies===1&&(r=1/1.07632),player.galaxies===2&&(r=1/1.072));const a=.02*e;return Pelle.isDoomed&&(t*=.5),t*=Pelle.specialGlyphEffect.power,DC.D0_01.clampMin(r-t*a)}let i=.8;return NormalChallenge(5).isRunning&&(i=.83),t-=2,t*=e,t*=getAdjustedGlyphEffect("cursedgalaxies"),t*=getAdjustedGlyphEffect("realitygalaxies"),t*=1+ImaginaryUpgrade(9).effectOrDefault(0),Pelle.isDoomed&&(t*=.5),t*=Pelle.specialGlyphEffect.power,DC.D0_965.pow(t-2).times(i)}function T7e(){return!tl.isAvailableForPurchase||!tl.isAffordable?!1:(NormalChallenge(9).isRunning&&tl.multiplySameCosts(),Tutorial.turnOffEffect(TUTORIAL_STATE.TICKSPEED),Currency.antimatter.subtract(tl.cost),player.totalTickBought++,player.records.thisInfinity.lastBuyTime=player.records.thisInfinity.time,player.requirementChecks.permanent.singleTickspeed++,NormalChallenge(2).isRunning&&(player.chall2Pow=0),GameUI.update(),!0)}function C7e(){if(!tl.isAvailableForPurchase||!tl.isAffordable)return;let t=!1;if(Tutorial.turnOffEffect(TUTORIAL_STATE.TICKSPEED),NormalChallenge(9).isRunning){const e=Player.infinityGoal;let i=tl.cost;for(;Currency.antimatter.gt(i)&&i.lt(e);)tl.multiplySameCosts(),Currency.antimatter.subtract(i),player.totalTickBought++,t=!0,i=tl.cost}else{const e=tl.costScale.getMaxBought(player.totalTickBought,Currency.antimatter.value,1);if(e===null)return;Currency.antimatter.subtract(Decimal.pow10(e.logPrice)),player.totalTickBought+=e.quantity,t=!0}t&&(player.records.thisInfinity.lastBuyTime=player.records.thisInfinity.time,NormalChallenge(2).isRunning&&(player.chall2Pow=0))}function k7e(){player.totalTickBought=0,player.chall9TickspeedCostBumps=0}const tl={get isUnlocked(){return AntimatterDimension(2).bought>0||EternityMilestone.unlockAllND.isReached||PlayerProgress.realityUnlocked()},get isAvailableForPurchase(){return this.isUnlocked&&!EternityChallenge(9).isRunning&&!Laitela.continuumActive&&(player.break||this.cost.lt(Decimal.NUMBER_MAX_VALUE))},get isAffordable(){return Currency.antimatter.gte(this.cost)},get multiplier(){return Yk()},get current(){const t=Effarig.isRunning?Effarig.tickspeed:this.baseValue.powEffectOf(DilationUpgrade.tickspeedPower);return player.dilation.active||PelleStrikes.dilation.hasStrike?dilatedValueOf(t):t},get cost(){return this.costScale.calculateCost(player.totalTickBought+player.chall9TickspeedCostBumps)},get costScale(){return new ExponentialCostScaling({baseCost:1e3,baseIncrease:10,costScale:Player.tickSpeedMultDecrease,scalingCostThreshold:Number.MAX_VALUE})},get continuumValue(){return this.isUnlocked?this.costScale.getContinuumValue(Currency.antimatter.value,1)*Laitela.matterExtraPurchaseFactor:0},get baseValue(){return DC.E3.timesEffectsOf(Achievement(36),Achievement(45),Achievement(66),Achievement(83)).times(Yk().pow(this.totalUpgrades))},get totalUpgrades(){let t;return Laitela.continuumActive?t=this.continuumValue:t=player.totalTickBought,t+player.totalTickGained},get perSecond(){return Decimal.divide(1e3,this.current)},multiplySameCosts(){for(const t of AntimatterDimensions.all)t.cost.e===this.cost.e&&t.costBumps++}},Ko={BASE_SOFTCAP:3e5,GROWTH_RATE:6e-6,GROWTH_EXP:2,multToNext:1.33,get amount(){return player.totalTickGained},get softcap(){let t=Ko.BASE_SOFTCAP;return Enslaved.has(ENSLAVED_UNLOCKS.FREE_TICKSPEED_SOFTCAP)&&(t+=1e5),t},fromShards(t){const e=1+(Effects.min(1.33,TimeStudy(171))-1)*Math.max(getAdjustedGlyphEffect("cursedtickspeed"),1),i=Math.log(e),n=t.ln(),r=Math.max(0,n/i);if(r<=Ko.softcap)return this.multToNext=e,{newAmount:Math.ceil(r),nextShards:Decimal.pow(e,Math.ceil(r))};const a=Ko.softcap*i,s=(n-a)/i,o=Ko.GROWTH_RATE/Ko.GROWTH_EXP/i,c=k=>o*Math.pow(Math.max(k,0),Ko.GROWTH_EXP)+k,d=k=>Ko.GROWTH_EXP*o*Math.pow(Math.max(k,0),Ko.GROWTH_EXP-1)+1,p=k=>k-(c(k)-s)/d(k);let m,y=Math.min(s,Math.pow(s/o,1/Ko.GROWTH_EXP)),_=0;do m=y,y=p(y);while(y<m&&++_<100);const w=Math.floor(y),C=Decimal.exp(a+c(w+1)*i);return this.multToNext=Decimal.exp((c(w+1)-c(w))*i),{newAmount:w+Ko.softcap,nextShards:C}}};function S7e(){let t=DC.D1;return t=t.times(Achievements.power),t=t.times(ShopPurchase.dimPurchases.currentMult),t=t.times(ShopPurchase.allDimPurchases.currentMult),t=t.times(1e6),EternityChallenge(9).isRunning||(t=t.times(Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate).max(1))),t=t.timesEffectsOf(BreakInfinityUpgrade.totalAMMult,BreakInfinityUpgrade.currentAMMult,BreakInfinityUpgrade.achievementMult,BreakInfinityUpgrade.slowestChallengeMult,InfinityUpgrade.totalTimeMult,InfinityUpgrade.thisInfinityTimeMult,Achievement(48),Achievement(56),Achievement(65),Achievement(72),Achievement(73),Achievement(74),Achievement(76),Achievement(84),Achievement(91),Achievement(92),TimeStudy(91),TimeStudy(101),TimeStudy(161),TimeStudy(193),InfinityChallenge(3),InfinityChallenge(3).reward,InfinityChallenge(8),EternityChallenge(10),AlchemyResource.dimensionality,PelleUpgrade.antimatterDimensionMult),t=t.dividedByEffectOf(InfinityChallenge(6)),t=t.times(getAdjustedGlyphEffect("powermult")),t=t.times(Currency.realityMachines.value.powEffectOf(AlchemyResource.force)),Pelle.isDoomed&&(t=t.dividedBy(10)),t}function A7e(t){if(t<1||t>8)throw new Error(`Invalid Antimatter Dimension tier ${t}`);if(NormalChallenge(10).isRunning&&t>6)return DC.D1;if(EternityChallenge(11).isRunning)return Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate).max(1).times(DimBoost.multiplierToNDTier(t)).times(1e6);let e=DC.D1;e=x7e(e,t),e=D7e(e,t);const i=getAdjustedGlyphEffect("dilationpow");return player.dilation.active||PelleStrikes.dilation.hasStrike?e=dilatedValueOf(e.pow(i)):Enslaved.isRunning&&(e=dilatedValueOf(e)),e=e.timesEffectOf(DilationUpgrade.ndMultDT),Effarig.isRunning?e=Effarig.multiplier(e):V.isRunning&&(e=e.pow(.5)),AlchemyResource.inflation.isUnlocked&&e.gte(AlchemyResource.inflation.effectValue)&&(e=e.pow(1.05)),e}function x7e(t,e){let i=t.times(GameCache.antimatterDimensionCommonMultiplier.value),n;Laitela.continuumActive?n=Hn(e).continuumValue:n=Math.floor(Hn(e).bought/10),i=i.times(Decimal.pow(Cf.buyTenMultiplier,n)),i=i.times(DimBoost.multiplierToNDTier(e));let r=DC.D1.timesEffectsOf(Hn(e).infinityUpgrade,BreakInfinityUpgrade.infinitiedMult);return r=r.pow(TimeStudy(31).effectOrDefault(1)),i=i.times(r),e===1&&(i=i.timesEffectsOf(InfinityUpgrade.unspentIPMult,InfinityUpgrade.unspentIPMult.chargedEffect,Achievement(28),Achievement(31),Achievement(68),Achievement(71),TimeStudy(234))),e===8&&(i=i.times(Sacrifice.totalBoost)),i=i.timesEffectsOf(e===8?Achievement(23):null,e<8?Achievement(34):null,e<=4?Achievement(64):null,e<8?TimeStudy(71):null,e===8?TimeStudy(214):null,e>1&&e<8?InfinityChallenge(8).reward:null),Achievement(43).isUnlocked&&(i=i.times(1+e/100)),i=i.clampMin(1),i}function D7e(t,e){let i=t;const n=getAdjustedGlyphEffect("powerpow"),r=getAdjustedGlyphEffect("effarigdimensions");return InfinityChallenge(4).isRunning&&player.postC4Tier!==e&&(i=i.pow(InfinityChallenge(4).effectValue)),InfinityChallenge(4).isCompleted&&(i=i.pow(InfinityChallenge(4).reward.effectValue)),i=i.pow(n*r*Ra.momentumValue),i=i.powEffectsOf(Hn(e).infinityUpgrade.chargedEffect,InfinityUpgrade.totalTimeMult.chargedEffect,InfinityUpgrade.thisInfinityTimeMult.chargedEffect,AlchemyResource.power,Achievement(183),PelleRifts.paradox),i=i.pow(getAdjustedGlyphEffect("curseddimensions")),i=i.pow(VUnlocks.adPow.effectOrDefault(1)),PelleStrikes.infinity.hasStrike&&(i=i.pow(.5)),i}function SE(t){t===1&&Tutorial.turnOffEffect(TUTORIAL_STATE.DIM1),t===2&&Tutorial.turnOffEffect(TUTORIAL_STATE.DIM2),Achievement(10+t).unlock(),Achievement(23).tryUnlock(),player.speedrun.isActive&&!player.speedrun.hasStarted&&Speedrun.startTimer(),NormalChallenge(2).isRunning&&(player.chall2Pow=0),(NormalChallenge(4).isRunning||InfinityChallenge(1).isRunning)&&Cf.resetAmountUpToTier(t-1),player.postC4Tier=t,player.records.thisInfinity.lastBuyTime=player.records.thisInfinity.time,t!==8&&(player.requirementChecks.eternity.onlyAD8=!1),t!==1&&(player.requirementChecks.eternity.onlyAD1=!1),t===8&&(player.requirementChecks.infinity.noAD8=!1),t===1&&(player.requirementChecks.eternity.noAD1=!1)}function AE(t){const e=Hn(t);if(Laitela.continuumActive||!e.isAvailableForPurchase||!e.isAffordable)return!1;const i=e.cost;return t===8&&Enslaved.isRunning&&Hn(8).bought>=1?!1:(e.currencyAmount=e.currencyAmount.minus(i),e.boughtBefore10===9&&e.challengeCostBump(),e.amount=e.amount.plus(1),e.bought++,t===1&&Achievement(28).tryUnlock(),SE(t),!0)}function I7e(t){const e=Hn(t);if(Laitela.continuumActive||!e.isAvailableForPurchase||!e.isAffordableUntil10)return!1;const i=e.costUntil10;return t===8&&Enslaved.isRunning?AE(8):(e.currencyAmount=e.currencyAmount.minus(i),e.challengeCostBump(),e.amount=e.amount.plus(e.remainingUntil10),e.bought+=e.remainingUntil10,SE(t),!0)}function R7e(t){const e=Hn(t);if(Laitela.continuumActive||!e.isAvailableForPurchase||!e.isAffordable)return!1;const i=e.howManyCanBuy,n=e.cost.times(i);return t===8&&Enslaved.isRunning?AE(8):(e.currencyAmount=e.currencyAmount.minus(n),e.challengeCostBump(),e.amount=e.amount.plus(i),e.bought+=i,SE(t),!0)}function q2(t){if(Laitela.continuumActive)return;const e=Hn(t);e.challengeCostBump(),e.amount=Decimal.round(e.amount.plus(e.remainingUntil10)),e.bought+=e.remainingUntil10,SE(t)}function M7e(){if(!Laitela.continuumActive){player.requirementChecks.infinity.maxAll=!0;for(let t=1;t<9;t++)Q5(t);buyMaxTickSpeed()}}function Q5(t,e=1/0){const i=Hn(t);if(Laitela.continuumActive||!i.isAvailableForPurchase||!i.isAffordableUntil10)return;const n=i.costUntil10;let r=e;const a=Player.infinityGoal;if(i.cost.gt(a)&&Player.isInAntimatterChallenge)return;if(t===8&&Enslaved.isRunning){AE(8);return}if(i.currencyAmount.gte(n)&&(i.currencyAmount=i.currencyAmount.minus(n),q2(t),r--),r<=0)return;if(NormalChallenge(9).isRunning||InfinityChallenge(5).isRunning){for(;i.isAffordableUntil10&&i.cost.lt(a)&&r>0;)i.currencyAmount=i.currencyAmount.minus(i.costUntil10),q2(t),r--;return}const s=i.costScale.getMaxBought(Math.floor(i.bought/10)+i.costBumps,i.currencyAmount,10);if(s===null)return;let o=s.quantity;o>r&&(o=r),i.amount=i.amount.plus(10*o).round(),i.bought+=10*o,i.currencyAmount=i.currencyAmount.minus(Decimal.pow10(s.logPrice))}class P7e extends hE{constructor(e){super(()=>player.dimensions.antimatter,e);const i=[null,10,100,1e4,1e6,1e9,1e13,1e18,1e24];this._baseCost=i[e];const n=[null,1e3,1e4,1e5,1e6,1e8,1e10,1e12,1e15];this._baseCostMultiplier=n[e];const r=[null,10,100,100,500,2500,2e4,2e5,4e6];this._c6BaseCost=r[e];const a=[null,1e3,5e3,1e4,12e3,18e3,26e3,32e3,42e3];this._c6BaseCostMultiplier=a[e]}get costScale(){return new ExponentialCostScaling({baseCost:NormalChallenge(6).isRunning?this._c6BaseCost:this._baseCost,baseIncrease:NormalChallenge(6).isRunning?this._c6BaseCostMultiplier:this._baseCostMultiplier,costScale:Player.dimensionMultDecrease,scalingCostThreshold:Number.MAX_VALUE})}get cost(){return this.costScale.calculateCost(Math.floor(this.bought/10)+this.costBumps)}get costBumps(){return this.data.costBumps}set costBumps(e){this.data.costBumps=e}get boughtBefore10(){return this.bought%10}get remainingUntil10(){return 10-this.boughtBefore10}get costUntil10(){return this.cost.times(this.remainingUntil10)}get howManyCanBuy(){const e=this.currencyAmount.dividedBy(this.cost);return Decimal.floor(Decimal.max(Decimal.min(e,10-this.boughtBefore10),0)).toNumber()}get infinityUpgrade(){switch(this.tier){case 1:case 8:return InfinityUpgrade.dim18mult;case 2:case 7:return InfinityUpgrade.dim27mult;case 3:case 6:return InfinityUpgrade.dim36mult;case 4:case 5:return InfinityUpgrade.dim45mult}return!1}get rateOfChange(){const e=this.tier;if(e===8||e>3&&EternityChallenge(3).isRunning||e>6&&NormalChallenge(12).isRunning)return DC.D0;let i;return e===7&&EternityChallenge(7).isRunning?i=InfinityDimension(1).productionPerSecond.times(10):NormalChallenge(12).isRunning?i=Hn(e+2).productionPerSecond:i=Hn(e+1).productionPerSecond,i.times(10).dividedBy(this.amount.max(1)).times(getGameSpeedupForDisplay())}get isProducing(){const e=this.tier;return EternityChallenge(3).isRunning&&e>4||NormalChallenge(10).isRunning&&e>6||Laitela.isRunning&&e>Laitela.maxAllowedDimension?!1:this.totalAmount.gt(0)}get currencyAmount(){return this.tier>=3&&NormalChallenge(6).isRunning?Hn(this.tier-2).amount:Currency.antimatter.value}set currencyAmount(e){this.tier>=3&&NormalChallenge(6).isRunning?Hn(this.tier-2).amount=e:Currency.antimatter.value=e}get continuumValue(){return this.isAvailableForPurchase?this.tier===8&&Enslaved.isRunning?1:this.costScale.getContinuumValue(this.currencyAmount,10)*Laitela.matterExtraPurchaseFactor:0}get continuumAmount(){return Laitela.continuumActive?Math.floor(10*this.continuumValue):0}get totalAmount(){return this.amount.max(this.continuumAmount)}get isAffordable(){return Laitela.continuumActive||!player.break&&this.cost.gt(Decimal.NUMBER_MAX_VALUE)?!1:this.cost.lte(this.currencyAmount)}get isAffordableUntil10(){return!player.break&&this.cost.gt(Decimal.NUMBER_MAX_VALUE)?!1:this.costUntil10.lte(this.currencyAmount)}get isAvailableForPurchase(){if(!EternityMilestone.unlockAllND.isReached&&this.tier>DimBoost.totalBoosts+4)return!1;const e=this.tier===1||Hn(this.tier-1).totalAmount.gt(0);return!EternityMilestone.unlockAllND.isReached&&!e?!1:this.tier<7||!NormalChallenge(10).isRunning}reset(){this.amount=DC.D0,this.bought=0,this.costBumps=0}resetAmount(){this.amount=DC.D0}challengeCostBump(){InfinityChallenge(5).isRunning?this.multiplyIC5Costs():NormalChallenge(9).isRunning&&this.multiplySameCosts()}multiplySameCosts(){for(const e of Cf.all.filter(i=>i.tier!==this.tier))e.cost.e===this.cost.e&&e.costBumps++;Tickspeed.cost.e===this.cost.e&&player.chall9TickspeedCostBumps++}multiplyIC5Costs(){for(const e of Cf.all.filter(i=>i.tier!==this.tier))(this.tier<=4&&e.cost.lt(this.cost)||this.tier>=5&&e.cost.gt(this.cost))&&e.costBumps++}get multiplier(){return GameCache.antimatterDimensionFinalMultipliers[this.tier].value}get cappedProductionInNormalChallenges(){return player.break&&!NormalChallenge.isRunning||InfinityChallenge.isRunning||Enslaved.isRunning?Decimal.MAX_VALUE:DC.E1E7}get productionPerSecond(){const e=this.tier;if(Laitela.isRunning&&e>Laitela.maxAllowedDimension)return DC.D0;let i=this.totalAmount;NormalChallenge(12).isRunning&&(e===2&&(i=i.pow(1.6)),e===4&&(i=i.pow(1.4)),e===6&&(i=i.pow(1.2)));let n=i.times(this.multiplier).times(Tickspeed.perSecond);if(NormalChallenge(2).isRunning&&(n=n.times(player.chall2Pow)),e===1&&(NormalChallenge(3).isRunning&&(n=n.times(player.chall3Pow)),n.gt(10))){const r=n.log10();n=Decimal.pow10(Math.pow(r,getAdjustedGlyphEffect("effarigantimatter")))}return n=n.min(this.cappedProductionInNormalChallenges),n}}const Hn=P7e.createAccessor(),Cf={all:Hn.index.compact(),reset(){for(const t of Cf.all)t.reset();GameCache.dimensionMultDecrease.invalidate()},resetAmountUpToTier(t){for(const e of Cf.all.slice(0,t))e.resetAmount()},get buyTenMultiplier(){if(NormalChallenge(7).isRunning)return DC.D2.min(1+DimBoost.totalBoosts/5);let t=DC.D2.plusEffectsOf(Achievement(141).effects.buyTenMult,EternityChallenge(3).reward);return t=t.timesEffectsOf(InfinityUpgrade.buy10Mult,Achievement(58)).times(getAdjustedGlyphEffect("powerbuy10")),t=t.pow(getAdjustedGlyphEffect("effarigforgotten")).powEffectOf(InfinityUpgrade.buy10Mult.chargedEffect),t=t.pow(ImaginaryUpgrade(14).effectOrDefault(1)),t},tick(t){const e=!player.break||Player.isInAntimatterChallenge;if(e&&Currency.antimatter.gte(Player.infinityGoal))return;let i=EternityChallenge(3).isRunning?3:7,n=1;NormalChallenge(12).isRunning&&(i--,n++);for(let r=i;r>=1;--r)Hn(r+n).produceDimensions(Hn(r),t/10);Hn(1).amount.gt(0)&&(player.requirementChecks.eternity.noAD1=!1),Hn(1).produceCurrency(Currency.antimatter,t),NormalChallenge(12).isRunning&&Hn(2).produceCurrency(Currency.antimatter,t),e&&Currency.antimatter.dropTo(Player.infinityGoal)}};function O7e(){let t=new Decimal(ShopPurchase.allDimPurchases.currentMult).times(1e3).timesEffectsOf(Achievement(75),TimeStudy(82),TimeStudy(92),TimeStudy(162),InfinityChallenge(1).reward,InfinityChallenge(6).reward,EternityChallenge(4).reward,EternityChallenge(9).reward,EternityUpgrade.idMultEP,EternityUpgrade.idMultEternities,EternityUpgrade.idMultICRecords,AlchemyResource.dimensionality,ImaginaryUpgrade(8),PelleRifts.recursion.milestones[1]);return Replicanti.areUnlocked&&Replicanti.amount.gt(1)&&(t=t.times(replicantiMult())),t}function N7e(){const t=Autobuyer.infinityDimension(1).isActive;for(let e=1;e<9;e++)Autobuyer.infinityDimension(e).isActive=!t}class G7e extends hE{constructor(e){super(()=>player.dimensions.infinity,e);const i=[void 0,DC.E1100,DC.E1900,DC.E2400,DC.E10500,DC.E30000,DC.E45000,DC.E54000,DC.E60000];this._unlockRequirement=i[e];const n=[null,1e3,1e6,1e8,1e10,1e15,1e20,1e25,1e30];this._costMultiplier=n[e];const r=[null,50,30,10,5,5,5,5,5];this._powerMultiplier=r[e];const a=[null,1e8,1e9,1e10,1e20,1e140,1e200,1e250,1e280];this._baseCost=new Decimal(a[e]),this.ipRequirement=a[1]}get cost(){return this.data.cost}set cost(e){this.data.cost=e}get baseAmount(){return this.data.baseAmount}set baseAmount(e){this.data.baseAmount=e}get isUnlocked(){return this.data.isUnlocked}set isUnlocked(e){this.data.isUnlocked=e}get amRequirement(){return this._unlockRequirement}get antimatterRequirementReached(){return player.records.thisEternity.maxAM.gte(this.amRequirement)}get hasIPUnlock(){return this.tier===1&&!PlayerProgress.eternityUnlocked()}get ipRequirementReached(){return!this.hasIPUnlock||Currency.infinityPoints.value.gte(this.ipRequirement)}get canUnlock(){return(Perk.bypassIDAntimatter.canBeApplied||this.antimatterRequirementReached)&&this.ipRequirementReached}get isAvailableForPurchase(){return sm.canBuy()&&this.isUnlocked&&this.isAffordable&&!this.isCapped}get isAffordable(){return Currency.infinityPoints.gte(this.cost)}get rateOfChange(){const e=this.tier;let i=DC.D0;e===8?(EternityChallenge(7).reward.applyEffect(r=>i=r.times(10)),EternityChallenge(7).isRunning&&EternityChallenge(7).applyEffect(r=>i=r.times(10))):i=Zo(e+1).productionPerSecond;const n=Decimal.max(this.amount,1);return i.times(10).dividedBy(n).times(getGameSpeedupForDisplay())}get productionPerSecond(){if(EternityChallenge(2).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&this.tier>Laitela.maxAllowedDimension)return DC.D0;let e=this.amount;return EternityChallenge(11).isRunning?e.times(1e3):(EternityChallenge(7).isRunning&&(e=e.times(Tickspeed.perSecond)),e.times(this.multiplier))}get multiplier(){const e=this.tier;if(EternityChallenge(11).isRunning)return DC.E3;let i=GameCache.infinityDimensionCommonMultiplier.value.timesEffectsOf(e===1?Achievement(94):null,e===4?TimeStudy(72):null,e===1?EternityChallenge(2).reward:null);return i=i.times(Decimal.pow(this.powerMultiplier,Math.floor(this.baseAmount/10))),e===1&&(i=i.times(PelleRifts.decay.milestones[0].effectOrDefault(1))),i=i.pow(getAdjustedGlyphEffect("infinitypow")),i=i.pow(getAdjustedGlyphEffect("effarigdimensions")),i=i.pow(getAdjustedGlyphEffect("curseddimensions")),i=i.powEffectOf(AlchemyResource.infinity),i=i.pow(Ra.momentumValue),i=i.powEffectOf(PelleRifts.paradox),(player.dilation.active||PelleStrikes.dilation.hasStrike)&&(i=dilatedValueOf(i)),Effarig.isRunning?i=Effarig.multiplier(i):V.isRunning&&(i=i.pow(.5)),PelleStrikes.powerGalaxies.hasStrike&&(i=i.pow(.5)),i}get isProducing(){const e=this.tier;return EternityChallenge(2).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&e>Laitela.maxAllowedDimension?!1:this.amount.gt(0)}get baseCost(){return this._baseCost}get costMultiplier(){let e=this._costMultiplier;return EternityChallenge(12).reward.applyEffect(i=>e=Math.pow(e,i)),e}get powerMultiplier(){return new Decimal(this._powerMultiplier).timesEffectsOf(this._tier===8?GlyphSacrifice.infinity:null).pow(ImaginaryUpgrade(14).effectOrDefault(1))}get purchases(){return this.data.baseAmount/10}get purchaseCap(){return Enslaved.isRunning?1:sm.capIncrease+(this.tier===8?Number.MAX_VALUE:sm.HARDCAP_PURCHASES)}get isCapped(){return this.purchases>=this.purchaseCap}get hardcapIPAmount(){return this._baseCost.times(Decimal.pow(this.costMultiplier,this.purchaseCap))}resetAmount(){this.amount=new Decimal(this.baseAmount)}fullReset(){this.cost=new Decimal(this.baseCost),this.amount=DC.D0,this.bought=0,this.baseAmount=0,this.isUnlocked=!1}unlock(){return this.isUnlocked?!0:this.canUnlock?(this.isUnlocked=!0,EventHub.dispatch(GAME_EVENT.INFINITY_DIMENSION_UNLOCKED,this.tier),this.tier===1&&!PlayerProgress.eternityUnlocked()&&Tab.dimensions.infinity.show(),!0):!1}buySingle(){if(!this.isUnlocked)return this.unlock();if(!this.isAvailableForPurchase)return!1;if(ImaginaryUpgrade(15).isLockingMechanics){const e=this.tier===1?"purchase a 1st Infinity Dimension":"purchase a Dimension which will produce 1st IDs";return ImaginaryUpgrade(15).tryShowWarningModal(e),!1}return Currency.infinityPoints.purchase(this.cost),this.cost=Decimal.round(this.cost.times(this.costMultiplier)),this.amount=this.amount.plus(10),this.baseAmount+=10,EternityChallenge(8).isRunning&&(player.eterc8ids-=1),!0}buyMax(e){if(!this.isAvailableForPurchase)return!1;if(ImaginaryUpgrade(15).isLockingMechanics){const r=this.tier===1?"purchase a 1st Infinity Dimension":"purchase a Dimension which will produce 1st IDs";return e||ImaginaryUpgrade(15).tryShowWarningModal(r),!1}let i=this.purchaseCap-this.purchases;EternityChallenge(8).isRunning&&(i=Math.clampMax(i,player.eterc8ids));const n=new LinearCostScaling(Currency.infinityPoints.value,this.cost,this.costMultiplier,i);return n.purchases<=0?!1:(Currency.infinityPoints.purchase(n.totalCost),this.cost=this.cost.times(n.totalCostMultiplier),this.amount=this.amount.plus(10*n.purchases),this.baseAmount+=10*n.purchases,EternityChallenge(8).isRunning&&(player.eterc8ids-=n.purchases),!0)}}const Zo=G7e.createAccessor(),sm={all:Zo.index.compact(),HARDCAP_PURCHASES:2e6,unlockNext(){Zo(8).isUnlocked||this.next().unlock()},next(){if(Zo(8).isUnlocked)throw"All Infinity Dimensions are unlocked";return this.all.first(t=>!t.isUnlocked)},resetAmount(){Currency.infinityPower.reset();for(const t of sm.all)t.resetAmount()},fullReset(){for(const t of sm.all)t.fullReset()},get capIncrease(){return Math.floor(Tesseracts.capIncrease())},get totalDimCap(){return this.HARDCAP_PURCHASES+this.capIncrease},canBuy(){return!EternityChallenge(2).isRunning&&!EternityChallenge(10).isRunning&&(!EternityChallenge(8).isRunning||player.eterc8ids>0)},canAutobuy(){return this.canBuy()&&!EternityChallenge(8).isRunning},tick(t){for(let e=8;e>1;e--)Zo(e).produceDimensions(Zo(e-1),t/10);EternityChallenge(7).isRunning?NormalChallenge(10).isRunning||Zo(1).produceDimensions(AntimatterDimension(7),t):Zo(1).produceCurrency(Currency.infinityPower,t),player.requirementChecks.reality.maxID1=player.requirementChecks.reality.maxID1.clampMin(Zo(1).amount)},tryAutoUnlock(){if(!(!EternityMilestone.autoUnlockID.isReached||Zo(8).isUnlocked)){for(const t of this.all)if(!t.unlock())break}},buyMax(){const t=this.all.filter(e=>e.unlock());t.slice().reverse().forEach(e=>{e.purchases===0&&e.buySingle()}),t.forEach(e=>e.buyMax(!1))},get powerConversionRate(){const t=PelleRifts.paradox.milestones[2].effectOrDefault(1);return(7+getAdjustedGlyphEffect("infinityrate")+PelleUpgrade.infConversion.effectOrDefault(0))*t}};function Tw(t,e=!1){const i=ja(t);if(t>4){if(!TimeStudy.timeDimension(t).isBought)return!1;if(RealityUpgrade(13).isLockingMechanics&&Currency.eternityPoints.gte(i.cost))return e||RealityUpgrade(13).tryShowWarningModal(),!1}return Currency.eternityPoints.lt(i.cost)||Enslaved.isRunning&&i.bought>0?!1:ImaginaryUpgrade(15).isLockingMechanics&&EternityChallenge(7).completions>0?(e||ImaginaryUpgrade(15).tryShowWarningModal(`purchase a Time Dimension,
        which will produce Infinity Dimensions through EC7`),!1):(Currency.eternityPoints.subtract(i.cost),i.amount=i.amount.plus(1),i.bought+=1,i.cost=i.nextCost(i.bought),!0)}function U7e(){for(const t of Tb.all)t.amount=new Decimal(t.bought);e4()}function L7e(){for(const t of Tb.all)t.cost=new Decimal(t.baseCost),t.amount=DC.D0,t.bought=0}function B7e(){const t=Autobuyer.timeDimension(1).isActive;for(let e=1;e<9;e++)Autobuyer.timeDimension(e).isActive=!t}function J5(t,e=1,i=!1){const n=Currency.eternityPoints.value.times(e),r=ja(t);if(n.lt(r.cost))return!1;if(t>4){if(!TimeStudy.timeDimension(t).isBought)return!1;if(RealityUpgrade(13).isLockingMechanics)return i||RealityUpgrade(13).tryShowWarningModal(),!1}if(ImaginaryUpgrade(15).isLockingMechanics&&EternityChallenge(7).completions>0)return i||ImaginaryUpgrade(15).tryShowWarningModal(`purchase a Time Dimension,
        which will produce Infinity Dimensions through EC7`),!1;if(Enslaved.isRunning)return Tw(t);const a=bulkBuyBinarySearch(n,{costFunction:s=>r.nextCost(s),cumulative:!0,firstCost:r.cost},r.bought);return a?(Currency.eternityPoints.subtract(a.purchasePrice),r.amount=r.amount.plus(a.quantity),r.bought+=a.quantity,r.cost=r.nextCost(r.bought),!0):!1}function $7e(){for(let i=8;i>0&&ja(i).bought===0;i--)Tw(i,!0);for(let i=8;i>0;i--)J5(i,.01,!0);const t=i=>RealityUpgrade(13).isLockingMechanics?i<5:!0,e=Tb.all.filter(i=>i.isUnlocked&&t(i.tier));for(let i=0;i<1e3;i++){const n=e.reduce((r,a)=>a.cost.gte(r.cost)?r:a);if(!Tw(n.tier,!0))break}}function F7e(){let t=new Decimal(ShopPurchase.allDimPurchases.currentMult).times(1e3).timesEffectsOf(Achievement(105),Achievement(128),TimeStudy(93),TimeStudy(103),TimeStudy(151),TimeStudy(221),TimeStudy(301),EternityChallenge(1).reward,EternityChallenge(10).reward,EternityUpgrade.tdMultAchs,EternityUpgrade.tdMultTheorems,EternityUpgrade.tdMultRealTime,Replicanti.areUnlocked&&Replicanti.amount.gt(1)?DilationUpgrade.tdMultReplicanti:null,Pelle.isDoomed?null:RealityUpgrade(22),AlchemyResource.dimensionality,PelleRifts.chaos);return EternityChallenge(9).isRunning&&(t=t.times(Decimal.pow(Math.clampMin(Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate/7).log2(),1),4).clampMin(1))),t}function e4(){for(let t=1;t<=8;t++){const e=ja(t);e.cost=e.nextCost(e.bought)}}class H7e extends hE{constructor(e){super(()=>player.dimensions.time,e);const i=[null,DC.D1,DC.D5,DC.E2,DC.E3,DC.E2350,DC.E2650,DC.E3000,DC.E3350];this._baseCost=i[e];const n=[null,3,9,27,81,24300,72900,218700,656100];this._costMultiplier=n[e];const r=[null,7322,4627,3382,2665,833,689,562,456];this._e6000ScalingAmount=r[e];const a=[Decimal.NUMBER_MAX_VALUE,DC.E1300,DC.E6000];this._costIncreaseThresholds=a}get cost(){return this.data.cost}set cost(e){this.data.cost=e}nextCost(e){if(this._tier>4&&e<this.e6000ScalingAmount){const s=Decimal.pow(this.costMultiplier,e).times(this.baseCost);return PelleRifts.paradox.milestones[0].canBeApplied?s.div("1e2250").pow(.5):s}const i=[1,1.5,2.2];for(let s=0;s<this._costIncreaseThresholds.length;s++){const o=Decimal.pow(this.costMultiplier*i[s],e).times(this.baseCost);if(o.lt(this._costIncreaseThresholds[s]))return o}let n=this.costMultiplier;this._tier<=4&&(n*=2.2);const r=this.e6000ScalingAmount+(e-this.e6000ScalingAmount)*Tb.scalingPast1e6000,a=Decimal.pow(n,r).times(this.baseCost);return PelleRifts.paradox.milestones[0].canBeApplied&&this._tier>4?a.div("1e2250").pow(.5):a}get isUnlocked(){return this._tier<5||TimeStudy.timeDimension(this._tier).isBought}get isAvailableForPurchase(){return this.isAffordable}get isAffordable(){return Currency.eternityPoints.gte(this.cost)}get multiplier(){const e=this._tier;if(EternityChallenge(11).isRunning)return DC.E3;let i=GameCache.timeDimensionCommonMultiplier.value.timesEffectsOf(e===1?TimeStudy(11):null,e===3?TimeStudy(73):null,e===4?TimeStudy(227):null);const n=ja(e),r=e===8?Math.clampMax(n.bought,1e8):n.bought;return i=i.times(Decimal.pow(n.powerMultiplier,r)),i=i.pow(getAdjustedGlyphEffect("timepow")),i=i.pow(getAdjustedGlyphEffect("effarigdimensions")),i=i.pow(getAdjustedGlyphEffect("curseddimensions")),i=i.powEffectOf(AlchemyResource.time),i=i.pow(Ra.momentumValue),i=i.pow(ImaginaryUpgrade(11).effectOrDefault(1)),i=i.powEffectOf(PelleRifts.paradox),(player.dilation.active||PelleStrikes.dilation.hasStrike)&&(i=dilatedValueOf(i)),Effarig.isRunning?i=Effarig.multiplier(i):V.isRunning&&(i=i.pow(.5)),i}get productionPerSecond(){if(EternityChallenge(1).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&this.tier>Laitela.maxAllowedDimension)return DC.D0;if(EternityChallenge(11).isRunning)return this.amount.times(1e3);let e=this.amount.times(this.multiplier);return EternityChallenge(7).isRunning&&(e=e.times(Tickspeed.perSecond)),this._tier===1&&!EternityChallenge(7).isRunning&&(e=e.pow(getAdjustedGlyphEffect("timeshardpow"))),e}get rateOfChange(){const e=this._tier;if(e===8)return DC.D0;const i=ja(e+1).productionPerSecond,n=Decimal.max(this.amount,1);return i.times(10).dividedBy(n).times(getGameSpeedupForDisplay())}get isProducing(){const e=this.tier;return EternityChallenge(1).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&e>Laitela.maxAllowedDimension?!1:this.amount.gt(0)}get baseCost(){return this._baseCost}get costMultiplier(){return this._costMultiplier}get powerMultiplier(){return DC.D4.timesEffectsOf(this._tier===8?GlyphSacrifice.time:null).pow(ImaginaryUpgrade(14).effectOrDefault(1))}get e6000ScalingAmount(){return this._e6000ScalingAmount}get costIncreaseThresholds(){return this._costIncreaseThresholds}get requirementReached(){return this._tier<5||TimeStudy.timeDimension(this._tier).isAffordable&&TimeStudy.timeDimension(this._tier-1).isBought}tryUnlock(){this.isUnlocked||TimeStudy.timeDimension(this._tier).purchase()}}const ja=H7e.createAccessor(),Tb={all:ja.index.compact(),get scalingPast1e6000(){return 4},tick(t){for(let e=8;e>1;e--)ja(e).produceDimensions(ja(e-1),t/10);EternityChallenge(7).isRunning?ja(1).produceDimensions(InfinityDimension(8),t):ja(1).produceCurrency(Currency.timeShards,t),EternityChallenge(7).reward.applyEffect(e=>{InfinityDimension(8).amount=InfinityDimension(8).amount.plus(e.times(t/1e3))})}};function V7e(){if(!ja(8).isUnlocked)for(let t=5;t<=8;++t)ja(t).isUnlocked||ja(t).tryUnlock()}function W2(t){return t.allowedDimPathCount===2&&t.currDimPathCount<2&&TimeStudy.preferredPaths.dimension.path.length<2?(GameUI.notify.error("You haven't selected a second preferred Dimension path."),!0):!1}function Y7e(t,e=-1){let i=[];const n=Math.floor(t/10)*10-1,r=TimeStudy(t).path,a=GameCache.currentStudyTree.value,s=(p,m)=>[...Array(Math.clampMin(m-p+1,0)).keys()].map(y=>y+p),o=!Perk.studyECRequirement.isBought;if(i.push(t),i.push(...s(11,Math.min(n,70))),i.push(t),t<71)return i;if(t<111)return i.push(...NormalTimeStudies.paths[r].filter(p=>p<=t)),i;if(e===11&&o)i.push(...NormalTimeStudies.paths[TIME_STUDY_PATH.ANTIMATTER_DIM].filter(p=>p<=t));else if(e===12&&o)i.push(...NormalTimeStudies.paths[TIME_STUDY_PATH.TIME_DIM].filter(p=>p<=t));else if(a.currDimPathCount===a.allowedDimPathCount||a.allowedDimPathCount===3)i.push(...TimeStudy.preferredPaths.dimension.studies),i.push(...s(71,103));else if(TimeStudy.preferredPaths.dimension.path.length>0)i.push(...TimeStudy.preferredPaths.dimension.studies);else if(a.currDimPathCount===0)return GameUI.notify.error("You haven't selected a preferred Dimension path."),i;t>=111&&i.push(111);const c=W2(a);if(t<121)return i;if(t<151)return i.push(...NormalTimeStudies.paths[TimeStudy(t).path].filter(p=>p<=t)),i;const d=a.pacePaths.map(p=>NormalTimeStudies.pathList.find(m=>m.name===p).path);if(V.isFullyCompleted&&!Pelle.isDoomed){const p=NormalTimeStudies.paths[TIME_STUDY_PATH.ACTIVE].concat(NormalTimeStudies.paths[TIME_STUDY_PATH.PASSIVE]).concat(NormalTimeStudies.paths[TIME_STUDY_PATH.IDLE]);i.push(...p)}else if(d.length===1)i.push(...NormalTimeStudies.paths[d[0]]);else if(TimeStudy.preferredPaths.pace.path!==0)i.push(...TimeStudy.preferredPaths.pace.studies);else if(d.length===0)return GameUI.notify.error("You haven't selected a preferred Pace path."),i;return i.push(...s(151,Math.min(t,201))),t<201||(o&&(e===11||e===12)||(TimeStudyTree.commitToGameState(i),i=[],TimeStudy.preferredPaths.dimension.path.length>0&&(i.push(...TimeStudy.preferredPaths.dimension.studies),TimeStudyTree.commitToGameState(i),i=[]),c||W2(GameCache.currentStudyTree.value),i.push(...s(211,Math.min(n,214))),i.push(t)),t<221||!V.isFullyCompleted)||i.push(...s(221,Math.max(t,234))),i}function q7e(t){for(const i of TimeStudy.boughtNormalTS())i.refund();player.timestudy.studies=[],GameCache.timeStudies.invalidate(),player.celestials.v.STSpent=0;const e=TimeStudy.eternityChallenge.current();e!==void 0&&(e.refund(),player.challenge.eternity.unlocked=0),t||Tab.eternity.studies.show(),GameCache.currentStudyTree.invalidate()}class xE extends mn{constructor(e,i){super(e),this.type=i}get cost(){return this.config.cost}get STCost(){const e=this.config.STCost;return VUnlocks.raUnlock.canBeApplied?e-2:e}refund(){Currency.timeTheorems.add(this.cost)}get isAffordable(){return Currency.timeTheorems.gte(this.cost)}get canBeBought(){return!0}}let W7e=class v0{constructor(e){switch(this.spentTheorems=[0,0],this.invalidStudies=[],this.purchasedStudies=[],this.selectedStudies=[],this.startEC=!1,typeof e){case"string":v0.isValidImportString(e)&&this.attemptBuyArray(this.parseStudyImport(e),!1);break;case"object":this.attemptBuyArray([...e],!1),this.selectedStudies=[...e];break;case"undefined":break;default:throw new Error("Unrecognized input parameter for TimeStudyTree constructor")}}static isValidImportString(e){if(e.trim()==="")return!1;let i=e.replaceAll(/ +/gu,"");return v0.sets.forEach((n,r)=>i=i.replaceAll(new RegExp(`${r},?`,"gu"),"")),/^,?((\d{2,3}(-\d{2,3})?)\b,?)*(\|\d{1,2}!?)?$/iu.test(i)}static get currentStudies(){const e=player.timestudy.studies.map(i=>TimeStudy(i));return player.challenge.eternity.unlocked!==0&&e.push(TimeStudy.eternityChallenge(player.challenge.eternity.unlocked)),e}static getECFromString(e){if(!this.isValidImportString(e))return 0;const i=e.split("|");return i.length<1?0:parseInt(i[1],10)}static commitToGameState(e,i=!0,n=!1){for(const r of e){const a=typeof r=="number"?TimeStudy(r):r;a&&!a.isBought&&a.purchase(i),n&&a instanceof ECTimeStudyState&&EternityChallenge(a.id).start(i)}GameCache.currentStudyTree.invalidate()}static get sets(){return new Map([["antimatter",[71,81,91,101]],["infinity",[72,82,92,102]],["time",[73,83,93,103]],["active",[121,131,141]],["passive",[122,132,142]],["idle",[123,133,143]],["light",[221,223,225,227,231,233]],["dark",[222,224,226,228,232,234]],...Ra.unlocks.unlockHardV.canBeApplied?[["triad",[301,302,303,304].slice(0,Ra.unlocks.unlockHardV.effectOrDefault(0))]]:[]])}static truncateInput(e){let i=e.toLowerCase();return this.sets.forEach((n,r)=>i=i.replace(r,n.join())),i.replace(/[|,]$/u,"").replaceAll(" ","").replace(/,{2,}/gu,",").replace(/,\|/gu,"|")}static formatStudyList(e){return e.toLowerCase().replaceAll(" ","").replaceAll(",",", ").replace("|"," | ")}parseStudyImport(e){const i=GameDatabase.eternity.timeStudies.normal.map(c=>c.id),n=[],r=v0.truncateInput(e).split("|")[0];if(r.length){const c=r.split(",");for(const d of c){const p=d.split("-"),m=p[1]?this.studyRangeToArray(p[0],p[1]):p;for(const y of m)if(i.includes(parseInt(y,10))){const _=TimeStudy(y);this.selectedStudies.push(_),n.push(_)}else this.invalidStudies.push(y)}}const a=e.split("|")[1];if(this.startEC=e.endsWith("!"),!a)return n;const s=parseInt(a,10);return!GameDatabase.eternity.timeStudies.ec.map(c=>c.id).includes(s)&&s!==0?(this.invalidStudies.push(`EC${s}`),n):(s!==0&&n.push(TimeStudy.eternityChallenge(s)),n)}studyRangeToArray(e,i){const n=[],r=this.checkTimeStudyNumber(e),a=this.checkTimeStudyNumber(i);if(r!==0&&a!==0)for(let s=r;s<=a;s++)TimeStudy(s)&&n.push(s);return n}checkTimeStudyNumber(e){const i=parseFloat(e);return!TimeStudy(i)||TimeStudy(i).isTriad&&!Ra.canBuyTriad?0:i}attemptBuyArray(e,i){for(const n of e){const r=typeof n=="object"?n:TimeStudy(n);this.hasRequirements(r)&&this.buySingleStudy(r,i)}}hasRequirements(e,i=!1){var s;if(!e||this.purchasedStudies.includes(e))return!1;const n=o=>typeof o=="number"?this.purchasedStudies.includes(TimeStudy(o)):o(),r=e.config;let a;switch(r.reqType){case TS_REQUIREMENT_TYPE.AT_LEAST_ONE:a=r.requirement.some(o=>n(o));break;case TS_REQUIREMENT_TYPE.ALL:a=r.requirement.every(o=>n(o));break;case TS_REQUIREMENT_TYPE.DIMENSION_PATH:a=r.requirement.every(o=>n(o))&&this.currDimPathCount<this.allowedDimPathCount;break;default:throw Error(`Unrecognized TS requirement type: ${this.reqType}`)}if(e instanceof ECTimeStudyState){if(this.purchasedStudies.some(m=>m instanceof ECTimeStudyState))return!1;const o=!Perk.studyECRequirement.isBought&&((s=e.config.secondary.forbiddenStudies)==null?void 0:s.some(m=>n(m)));if(i)return a&&!o;const d=player.timestudy.theorem.plus(TimeTheorems.calculateTimeStudiesCost()).subtract(this.spentTheorems[0]).gte(e.cost),p=Perk.studyECRequirement.isBought||e.isEntryGoalMet;return a&&!o&&(e.isBought||p&&d)}return a}buySingleStudy(e,i){const n=e.config,r=VUnlocks.raUnlock.effectOrDefault(0),a=n.STCost&&n.requiresST.some(c=>this.purchasedStudies.includes(TimeStudy(c)))?Math.clampMin(n.STCost-r,0):0,s=Pelle.isDoomed?0:V.spaceTheorems,o=this.spentTheorems[1]+a<=s;if(i){const c=Currency.timeTheorems.value.add(GameCache.currentStudyTree.value.spentTheorems[0]).clampMax(Number.MAX_VALUE).toNumber();if(!(this.spentTheorems[0]+n.cost<=c)||!o)return}s===0&&a>0||(this.spentTheorems[0]+=n.cost,this.spentTheorems[1]+=a,this.purchasedStudies.push(e))}get currDimPathCount(){return[71,72,73].countWhere(e=>this.purchasedStudies.includes(TimeStudy(e)))}get allowedDimPathCount(){return DilationUpgrade.timeStudySplit.isBought?3:this.purchasedStudies.includes(TimeStudy(201))?2:1}get dimensionPaths(){const e=new Set,i=[TIME_STUDY_PATH.ANTIMATTER_DIM,TIME_STUDY_PATH.INFINITY_DIM,TIME_STUDY_PATH.TIME_DIM];for(const n of i){const r=NormalTimeStudies.pathList.find(a=>a.path===n);for(const a of this.purchasedStudies)if(r.studies.includes(a.id)){e.add(r.name);break}}return Array.from(e)}get pacePaths(){const e=new Set,i=[TIME_STUDY_PATH.ACTIVE,TIME_STUDY_PATH.PASSIVE,TIME_STUDY_PATH.IDLE];for(const n of i){const r=NormalTimeStudies.pathList.find(a=>a.path===n);for(const a of this.purchasedStudies)if(r.studies.includes(a.id)){e.add(r.name);break}}return Array.from(e)}get ec(){const e=this.purchasedStudies.find(i=>i instanceof ECTimeStudyState);return e?e.id:0}get exportString(){return`${this.purchasedStudies.filter(e=>e instanceof NormalTimeStudyState).map(e=>e.id).join(",")}|${this.ec}${player.challenge.eternity.current===0?"":"!"}`}};const kf={};kf.pathList=[{path:TIME_STUDY_PATH.ANTIMATTER_DIM,studies:[71,81,91,101],name:"Antimatter Dims"},{path:TIME_STUDY_PATH.INFINITY_DIM,studies:[72,82,92,102],name:"Infinity Dims"},{path:TIME_STUDY_PATH.TIME_DIM,studies:[73,83,93,103],name:"Time Dims"},{path:TIME_STUDY_PATH.ACTIVE,studies:[121,131,141],name:"Active"},{path:TIME_STUDY_PATH.PASSIVE,studies:[122,132,142],name:"Passive"},{path:TIME_STUDY_PATH.IDLE,studies:[123,133,143],name:"Idle"},{path:TIME_STUDY_PATH.LIGHT,studies:[221,223,225,227,231,233],name:"Light"},{path:TIME_STUDY_PATH.DARK,studies:[222,224,226,228,232,234],name:"Dark"}];kf.paths=kf.pathList.mapToObject(t=>t.path,t=>t.studies);let Sm=class extends xE{constructor(e){const i=e.id>300?TIME_STUDY_TYPE.TRIAD:TIME_STUDY_TYPE.NORMAL;super(e,i);const n=kf.pathList.find(r=>r.studies.includes(this.id));this._path=(n==null?void 0:n.path)??TIME_STUDY_PATH.NONE}get isUnlocked(){var e,i;return((i=(e=this.config).unlocked)==null?void 0:i.call(e))??!0}get isTriad(){return this.id>300}get isBought(){return GameCache.timeStudies.value[this.id]}costsST(){return this.config.requiresST&&this.config.requiresST.some(e=>gi(e).isBought)}checkRequirement(){const e=n=>typeof n=="number"?gi(n).isBought:n(),i=GameCache.currentStudyTree.value;switch(this.config.reqType){case TS_REQUIREMENT_TYPE.AT_LEAST_ONE:return this.config.requirement.some(n=>e(n));case TS_REQUIREMENT_TYPE.ALL:return this.config.requirement.every(n=>e(n));case TS_REQUIREMENT_TYPE.DIMENSION_PATH:return this.config.requirement.every(n=>e(n))&&i&&i.currDimPathCount<i.allowedDimPathCount;default:throw Error(`Unrecognized TS requirement type: ${this.reqType}`)}}checkSetRequirement(){return this.costsST()?!Pelle.isDisabled("V")&&V.availableST>=this.STCost:!0}get canBeBought(){return this.checkRequirement()&&this.checkSetRequirement()}get isEffectActive(){return this.isBought}purchase(e=!1){return this.isBought||!this.isAffordable||!this.canBeBought||GameEnd.creditsEverClosed?!1:ImaginaryUpgrade(19).isLockingMechanics&&player.timestudy.studies.length===8?(e||ImaginaryUpgrade(19).tryShowWarningModal(),!1):(this.costsST()&&(player.celestials.v.STSpent+=this.STCost),player.timestudy.studies.push(this.id),player.requirementChecks.reality.maxStudies=Math.clampMin(player.requirementChecks.reality.maxStudies,player.timestudy.studies.length),this.id>300&&(player.requirementChecks.reality.noTriads=!1),Currency.timeTheorems.subtract(this.cost),GameCache.timeStudies.invalidate(),TimeStudyTree.commitToGameState([gi(this.id)]),this.id===181&&Pelle.isDoomed&&Achievement(186).unlock(),!0)}purchaseUntil(){TimeStudyTree.commitToGameState(buyStudiesUntil(this.id))}get path(){return this._path}};Sm.studies=mapGameData(GameDatabase.eternity.timeStudies.normal,t=>new Sm(t));Sm.all=Sm.studies.filter(t=>t!==void 0);function gi(t){return Sm.studies[t]}gi.boughtNormalTS=function(){return player.timestudy.studies.map(t=>gi(t))};gi.preferredPaths={dimension:{get path(){return player.timestudy.preferredPaths[0]},set path(t){const e=[1,2,3];player.timestudy.preferredPaths[0]=t.filter(i=>e.includes(i))},get studies(){return player.timestudy.preferredPaths[0].flatMap(t=>kf.paths[t])},get usePriority(){return this.path.length>1||gi(201).isBought||DilationUpgrade.timeStudySplit.isBought||PlayerProgress.realityUnlocked()}},pace:{get path(){return player.timestudy.preferredPaths[1]},set path(t){const e=[4,5,6];player.timestudy.preferredPaths[1]=e.includes(t)?t:0},get studies(){return kf.paths[player.timestudy.preferredPaths[1]]}}};let Am=class extends xE{constructor(e){super(e,TIME_STUDY_TYPE.ETERNITY_CHALLENGE),this.invalidateRequirement()}get isBought(){return player.challenge.eternity.unlocked===this.id}purchase(e){if(GameEnd.creditsEverClosed)return!1;EternityChallenge(this.id).hasUnlocked=!0;const i=Date.now();if(this.isBought&&player.challenge.eternity.current===0&&!e)i-ui.lastClickTime<750?(ui.lastClickTime=0,EternityChallenge(this.id).requestStart()):ui.lastClickTime=i;else if(!this.isBought&&this.canBeBought)return ui.lastClickTime=0,player.challenge.eternity.unlocked=this.id,e||Tab.challenges.eternity.show(),player.challenge.eternity.requirementBits|=1<<this.id,Currency.timeTheorems.subtract(this.cost),TimeStudyTree.commitToGameState([gi.eternityChallenge(this.id)]),!0;return!1}purchaseUntil(){const e=[void 0,171,171,171,143,42,121,111,123,151,181,181,181];this.purchase(),TimeStudyTree.commitToGameState(buyStudiesUntil(e[this.id],this.id)),this.id===11?gi(191).purchase():this.id===12&&gi(193).purchase(),this.purchase()}get canBeBought(){return!this.isAffordable||player.challenge.eternity.unlocked!==0||!this.config.requirement.some(e=>gi(e).isBought)?!1:this.allSecondaryRequirementsMet}get challenge(){return EternityChallenge(this.id)}get requirementTotal(){return this.config.secondary.required(this.challenge.completions)}get requirementCurrent(){const e=this.config.secondary.current();return this.cachedCurrentRequirement===void 0?this.cachedCurrentRequirement=e:typeof e=="number"?this.cachedCurrentRequirement=Math.max(this.cachedCurrentRequirement,e):this.cachedCurrentRequirement=this.cachedCurrentRequirement.clampMin(e),this.cachedCurrentRequirement}get allSecondaryRequirementsMet(){return Perk.studyECRequirement.isBought||!this.hasForbiddenStudies&&this.isEntryGoalMet}get hasForbiddenStudies(){var e;return(e=this.config.secondary.forbiddenStudies)==null?void 0:e.some(i=>gi(i).isBought)}get isEntryGoalMet(){if(this.wasRequirementPreviouslyMet||this.config.secondary.forbiddenStudies)return!0;const e=this.requirementCurrent,i=this.requirementTotal;return typeof e=="number"?e>=i:e.gte(i)}get wasRequirementPreviouslyMet(){return this.id===11||this.id===12?!1:(player.challenge.eternity.requirementBits&1<<this.id)!==0}invalidateRequirement(){this.cachedCurrentRequirement=void 0}};Am.studies=mapGameData(GameDatabase.eternity.timeStudies.ec,t=>new Am(t));gi.eternityChallenge=function(t){return Am.studies[t]};gi.eternityChallenge.current=function(){return player.challenge.eternity.unlocked?gi.eternityChallenge(player.challenge.eternity.unlocked):void 0};Am.invalidateCachedRequirements=function(){Am.studies.forEach(t=>t.invalidateRequirement())};let Sf=class extends xE{constructor(e){super(e,TIME_STUDY_TYPE.DILATION)}get isBought(){return player.dilation.studies.includes(this.id)}get canBeBought(){return this.isAffordable&&this.config.requirement()}get description(){return this.config.description}get cost(){return typeof this.config.cost=="function"?this.config.cost():this.config.cost}get totalTimeTheoremRequirement(){return this.id===1?12900:0}purchase(e=!1){if(this.isBought||!this.canBeBought)return!1;if(this.id===1){if(e||Tab.eternity.dilation.show(),Perk.autounlockDilation1.canBeApplied)for(const i of[4,5,6])player.dilation.upgrades.add(i);if(Perk.autounlockDilation2.canBeApplied)for(const i of[7,8,9])player.dilation.upgrades.add(i);Pelle.isDoomed||Currency.tachyonParticles.bumpTo(Perk.startTP.effectOrDefault(0)),Ra.unlocks.unlockDilationStartingTP.canBeApplied&&!isInCelestialReality()&&!Pelle.isDoomed&&Currency.tachyonParticles.bumpTo(getTP(Ra.unlocks.unlockDilationStartingTP.effectOrDefault(0),!1)),TabNotification.dilationAfterUnlock.tryTrigger()}return this.id===6&&(PlayerProgress.realityUnlocked()||EventHub.dispatch(GAME_EVENT.REALITY_FIRST_UNLOCKED),Perk.autounlockReality.isBought||Tab.reality.glyphs.show()),player.dilation.studies.push(this.id),Currency.timeTheorems.subtract(this.cost),!0}};Sf.studies=mapGameData(GameDatabase.eternity.timeStudies.dilation,t=>new Sf(t));gi.dilation=Sf.studies[1];gi.timeDimension=function(t){return Sf.studies[t-3]};gi.reality=Sf.studies[6];gi.boughtDilationTS=function(){return player.dilation.studies.map(t=>Sf.studies[t])};let t4=class{constructor(e,i,n){this._from=e,this._to=i,this._override=n}get from(){return this._from}get to(){return this._to}get isOverridden(){return this._override!==void 0&&this._override()}get isSatisfied(){return this.isOverridden||this._from.isBought}};gi.allConnections=function(){const t=n=>gi(n),e=n=>gi.eternityChallenge(n);return[[t(11),t(21)],[t(11),t(22)],[t(21),t(31)],[t(22),t(33)],[t(22),t(32)],[t(31),t(41)],[t(32),t(42)],[t(41),t(51)],[t(42),t(51)],[t(42),e(5)],[t(42),t(62),()=>!Perk.bypassEC5Lock.isBought],[t(51),t(61)],[e(5),t(62),()=>Perk.bypassEC5Lock.isBought],[t(61),t(71)],[t(61),t(72)],[t(61),t(73)],[t(71),t(81)],[t(72),t(82)],[t(73),t(83)],[t(81),t(91)],[t(82),t(92)],[t(83),t(93)],[t(91),t(101)],[t(92),t(102)],[t(93),t(103)],[t(101),t(111)],[t(102),t(111)],[t(103),t(111)],[t(111),e(7)],[t(111),t(121)],[t(111),t(122)],[t(111),t(123)],[t(121),t(131)],[t(122),t(132)],[t(123),t(133)],[t(121),e(6)],[t(123),e(8)],[t(131),t(141)],[t(132),t(142)],[t(133),t(143)],[t(141),t(151)],[t(142),t(151)],[t(143),t(151)],[t(143),e(4)],[t(151),e(9)],[t(151),t(161)],[t(151),t(162)],[t(161),t(171)],[t(162),t(171)],[t(171),e(1)],[t(171),e(2)],[t(171),e(3)],[t(171),t(181),()=>!Perk.bypassEC1Lock.isBought||!Perk.bypassEC2Lock.isBought||!Perk.bypassEC3Lock.isBought],[e(1),t(181),()=>Perk.bypassEC1Lock.isBought],[e(2),t(181),()=>Perk.bypassEC2Lock.isBought],[e(3),t(181),()=>Perk.bypassEC3Lock.isBought],[t(181),e(10)],[e(10),t(191)],[e(10),t(192)],[e(10),t(193)],[t(192),t(201)],[t(191),t(211)],[t(191),t(212)],[t(193),t(213)],[t(193),t(214)],[t(211),t(221)],[t(211),t(222)],[t(212),t(223)],[t(212),t(224)],[t(213),t(225)],[t(213),t(226)],[t(214),t(227)],[t(214),t(228)],[t(221),t(231)],[t(222),t(231)],[t(223),t(232)],[t(224),t(232)],[t(225),t(233)],[t(226),t(233)],[t(227),t(234)],[t(228),t(234)],[t(231),e(11)],[t(232),e(11)],[t(233),e(12)],[t(234),e(12)],[e(11),gi.dilation],[e(12),gi.dilation],[gi.dilation,gi.timeDimension(5)],[gi.timeDimension(5),gi.timeDimension(6)],[gi.timeDimension(6),gi.timeDimension(7)],[gi.timeDimension(7),gi.timeDimension(8)],[gi.timeDimension(8),gi.reality]].map(n=>new t4(n[0],n[1],n[2]))}();class j7e{constructor(e,i){this.tier=e,this.amount=i}get isSatisfied(){return AntimatterDimension(this.tier).totalAmount.gte(this.amount)}}let bo=class cs{static get power(){if(NormalChallenge(8).isRunning)return DC.D1;let e=Effects.max(2,InfinityUpgrade.dimboostMult,InfinityChallenge(7).reward,InfinityChallenge(7),TimeStudy(81)).toDecimal().timesEffectsOf(TimeStudy(83),TimeStudy(231),Achievement(117),Achievement(142),GlyphEffect.dimBoostPower,PelleRifts.recursion.milestones[0]).powEffectsOf(InfinityUpgrade.dimboostMult.chargedEffect);return GlyphAlteration.isAdded("effarig")&&(e=e.pow(getSecondaryGlyphEffect("effarigforgotten"))),e}static multiplierToNDTier(e){const i=cs.power.pow(this.purchasedBoosts+1-e).clampMin(1),n=cs.power.times(ImaginaryUpgrade(24).effectOrDefault(1)).pow(this.imaginaryBoosts).clampMin(1);return i.times(n)}static get maxDimensionsUnlockable(){return NormalChallenge(10).isRunning?6:8}static get canUnlockNewDimension(){return cs.purchasedBoosts+4<cs.maxDimensionsUnlockable}static get maxBoosts(){return Ra.isRunning?0:InfinityChallenge(1).isRunning?2:NormalChallenge(8).isRunning?5:1/0}static get canBeBought(){return!(cs.purchasedBoosts>=this.maxBoosts||player.records.thisInfinity.maxAM.gt(Player.infinityGoal)&&(!player.break||Player.isInAntimatterChallenge))}static get lockText(){if(cs.purchasedBoosts>=this.maxBoosts){if(Ra.isRunning)return"Locked (Ra's Reality)";if(InfinityChallenge(1).isRunning)return"Locked (Infinity Challenge 1)";if(NormalChallenge(8).isRunning)return"Locked (8th Antimatter Dimension Autobuyer Challenge)"}return null}static get requirement(){return this.bulkRequirement(1)}static bulkRequirement(e){const i=cs.purchasedBoosts+e,n=Math.min(i+3,this.maxDimensionsUnlockable);let r=20;const a=Effects.sum(TimeStudy(211),TimeStudy(222));return n===6&&NormalChallenge(10).isRunning?r+=Math.round((i-3)*(20-a)):n===8&&(r+=Math.round((i-5)*(15-a))),EternityChallenge(5).isRunning&&(r+=Math.pow(i-1,3)+i-1),r-=Effects.sum(InfinityUpgrade.resetBoost),InfinityChallenge(5).isCompleted&&(r-=1),r*=InfinityUpgrade.resetBoost.chargedEffect.effectOrDefault(1),r=Math.round(r),new j7e(n,r)}static get unlockedByBoost(){if(cs.lockText!==null)return cs.lockText;const e=cs.purchasedBoosts,i=EternityMilestone.unlockAllND.isReached;let n="";!i&&e<cs.maxDimensionsUnlockable-4?n=`unlock the ${e+5}th Dimension`:e===4&&!NormalChallenge(10).isRunning&&!EternityChallenge(3).isRunning&&(n="unlock Sacrifice");const r=`give a ${formatX(cs.power,2,1)} multiplier `;let a="to the 1st Dimension";e>0&&(a=`to Dimensions 1-${Math.min(e+1,8)}`),e>=cs.maxDimensionsUnlockable-1&&(a="to all Dimensions");let s;return NormalChallenge(8).isRunning?s=n:n===""?s=`${r} ${a}`:s=`${n} and ${r} ${a}`,s===""?"Dimension Boosts are currently useless":(Perk.antimatterNoReset.isBought||Achievement(111).canBeApplied)&&(!Pelle.isDoomed||PelleUpgrade.dimBoostResetsNothing.isBought)?s[0].toUpperCase()+s.substring(1):`Reset your Dimensions to ${s}`}static get purchasedBoosts(){return Math.floor(player.dimensionBoosts)}static get imaginaryBoosts(){return Ra.isRunning?0:ImaginaryUpgrade(12).effectOrDefault(0)*ImaginaryUpgrade(23).effectOrDefault(1)}static get totalBoosts(){return Math.floor(this.purchasedBoosts+this.imaginaryBoosts)}static get startingDimensionBoosts(){return InfinityUpgrade.skipResetGalaxy.isBought?4:InfinityUpgrade.skipReset3.isBought?3:InfinityUpgrade.skipReset2.isBought?2:InfinityUpgrade.skipReset1.isBought?1:0}};function Wp(t,e=!1,i=!1,n=!1){if(Currency.antimatter.gt(Player.infinityLimit))return;const r=Math.min(t,bo.maxBoosts-player.dimensionBoosts);EventHub.dispatch(GAME_EVENT.DIMBOOST_BEFORE,r),player.dimensionBoosts=Math.max(0,player.dimensionBoosts+r),resetChallengeStuff();const a=Pelle.isDoomed?PelleUpgrade.dimBoostResetsNothing.canBeApplied:Perk.antimatterNoReset.canBeApplied;(e||!a)&&(AntimatterDimensions.reset(),player.sacrificed=DC.D0,resetTickspeed()),i4(n);const s=Pelle.isDoomed?PelleUpgrade.dimBoostResetsNothing.canBeApplied:Achievement(111).isUnlocked||Perk.antimatterNoReset.canBeApplied;!i&&s?Currency.antimatter.bumpTo(Currency.antimatter.startingValue):Currency.antimatter.reset(),EventHub.dispatch(GAME_EVENT.DIMBOOST_AFTER,r)}function i4(t){t||Player.isInAntimatterChallenge||(InfinityUpgrade.skipResetGalaxy.isBought&&player.dimensionBoosts<4?(player.dimensionBoosts=4,player.galaxies===0&&(player.galaxies=1)):InfinityUpgrade.skipReset3.isBought&&player.dimensionBoosts<3?player.dimensionBoosts=3:InfinityUpgrade.skipReset2.isBought&&player.dimensionBoosts<2?player.dimensionBoosts=2:InfinityUpgrade.skipReset1.isBought&&player.dimensionBoosts<1&&(player.dimensionBoosts=1))}function z7e(t){if(!(Currency.antimatter.gt(Player.infinityLimit)||!bo.requirement.isSatisfied)&&bo.canBeBought&&!GameEnd.creditsEverClosed){if(player.options.confirmations.dimensionBoost){Modal.dimensionBoost.show({bulk:t});return}n4(t)}}function n4(t){Currency.antimatter.gt(Player.infinityLimit)||!bo.requirement.isSatisfied||bo.canBeBought&&(Tutorial.turnOffEffect(TUTORIAL_STATE.DIMBOOST),BreakInfinityUpgrade.autobuyMaxDimboosts.isBought&&t?X7e():Wp(1))}function X7e(){if(bo.canUnlockNewDimension){bo.requirement.isSatisfied&&Wp(1);return}const t=bo.bulkRequirement(1);if(!t.isSatisfied)return;const e=bo.bulkRequirement(2);if(!e.isSatisfied){Wp(1);return}const i=e.amount-t.amount,n=AntimatterDimension(t.tier);let r=Math.min(Number.MAX_VALUE,1+Math.floor((n.totalAmount.toNumber()-t.amount)/i));if(bo.bulkRequirement(r).isSatisfied){Wp(r);return}let a=2;for(;r!==a+1;){const s=Math.floor((r+a)/2);bo.bulkRequirement(s).isSatisfied?a=s:r=s}Wp(a)}let om=class{static get isVisible(){return Achievement(18).isUnlocked||PlayerProgress.realityUnlocked()}static get canSacrifice(){return DimBoost.purchasedBoosts>4&&!EternityChallenge(3).isRunning&&this.nextBoost.gt(1)&&AntimatterDimension(8).totalAmount.gt(0)&&Currency.antimatter.lt(Player.infinityLimit)&&!Enslaved.isRunning}static get disabledCondition(){return NormalChallenge(10).isRunning?"8th Dimensions are disabled":EternityChallenge(3).isRunning?"Eternity Challenge 3":DimBoost.purchasedBoosts<5?`Requires ${formatInt(5)} Dimension Boosts`:Enslaved.isRunning?"Nameless Reality (nice try)":AntimatterDimension(8).totalAmount.eq(0)?"No 8th Antimatter Dimensions":this.nextBoost.lte(1)?`${formatX(1)} multiplier`:Player.isInAntimatterChallenge?"Challenge goal reached":"Need to Crunch"}static getSacrificeDescription(e){const i=(o,c)=>o in e?e[o]:c;let n=2,r=1,a=`(log₁₀(AD1)/${formatInt(10)})`;i("Challenge8isRunning",NormalChallenge(8).isRunning)?(n=1,a="x"):i("InfinityChallenge2isCompleted",InfinityChallenge(2).isCompleted)&&(n=1/120,r=3,a="AD1");const s=(1+(i("Achievement32",Achievement(32).isEffectActive)?Achievement(32).config.effect:0)+(i("Achievement57",Achievement(57).isEffectActive)?Achievement(57).config.effect:0))*(1+(i("Achievement88",Achievement(88).isEffectActive)?Achievement(88).config.effect:0)+(i("TimeStudy228",TimeStudy(228).isEffectActive)?TimeStudy(228).config.effect:0))*n;return a+(s===1?"":formatPow(s,r,r))}static get sacrificeExponent(){let e;NormalChallenge(8).isRunning?e=1:InfinityChallenge(2).isCompleted?e=1/120:e=2;const i=1+Effects.sum(Achievement(32),Achievement(57)),n=1+Effects.sum(Achievement(88),TimeStudy(228)),r=TimeStudy(304).effectOrDefault(1);return e*i*n*r}static get nextBoost(){const e=AntimatterDimension(1).amount;if(e.eq(0))return DC.D1;const i=player.sacrificed.clampMin(1);let n;return NormalChallenge(8).isRunning?n=e.pow(.05).dividedBy(i.pow(.04)).clampMin(1).times(e.pow(.05).dividedBy(i.plus(e).pow(.04))):InfinityChallenge(2).isCompleted?n=e.dividedBy(i):n=new Decimal(e.log10()/10/Math.max(i.log10()/10,1)),n.clampMin(1).pow(this.sacrificeExponent)}static get totalBoost(){if(player.sacrificed.eq(0))return DC.D1;if(NormalChallenge(8).isRunning)return player.chall8TotalSacrifice;let e;return InfinityChallenge(2).isCompleted?e=player.sacrificed:e=new Decimal(player.sacrificed.log10()/10),e.clampMin(1).pow(this.sacrificeExponent)}};function r4(){if(!om.canSacrifice||(!player.break||!InfinityChallenge.isRunning&&NormalChallenge.isRunning)&&Currency.antimatter.gt(Decimal.NUMBER_MAX_VALUE)||NormalChallenge(8).isRunning&&om.totalBoost.gte(Decimal.NUMBER_MAX_VALUE))return!1;EventHub.dispatch(GAME_EVENT.SACRIFICE_RESET_BEFORE);const t=om.nextBoost;player.chall8TotalSacrifice=player.chall8TotalSacrifice.times(t),player.sacrificed=player.sacrificed.plus(AntimatterDimension(1).amount);const e=Achievement(118).canBeApplied;return NormalChallenge(8).isRunning?(e||AntimatterDimensions.reset(),Currency.antimatter.reset()):e||AntimatterDimensions.resetAmountUpToTier(NormalChallenge(12).isRunning?6:7),player.requirementChecks.infinity.noSacrifice=!1,EventHub.dispatch(GAME_EVENT.SACRIFICE_RESET_AFTER),!0}function K7e(){!om.isVisible||!om.canSacrifice||(player.options.confirmations.sacrifice?Modal.sacrifice.show():r4())}function a4(){gl.display("a-implode",2)}function Z7e(){const t=Player.antimatterChallenge;if(!t&&!NormalChallenge(1).isCompleted&&NormalChallenge(1).complete(),!t)return;InfinityChallenge.isRunning&&!InfinityChallenge.current.isCompleted&&TabNotification.ICUnlock.clearTrigger(),t.complete(),t.updateChallengeTime(),player.options.retryChallenge||(player.challenge.normal.current=0,player.challenge.infinity.current=0)}function Q7e(){Player.canCrunch&&(GameEnd.creditsEverClosed||(player.options.confirmations.bigCrunch&&(!PlayerProgress.infinityUnlocked()||player.break)?Modal.bigCrunch.show():s4()))}function s4(t=!1){Player.canCrunch&&(!t&&player.options.animations.bigCrunch&&!gl.isDisplaying?(a4(),setTimeout(qk,1e3)):qk())}function qk(t=!1,e=Player.isInAntimatterChallenge&&player.options.retryChallenge){!t&&!Player.canCrunch||(Player.canCrunch&&(EventHub.dispatch(GAME_EVENT.BIG_CRUNCH_BEFORE),J7e(),Pelle.isDoomed&&PelleStrikes.infinity.trigger()),o4(e),EventHub.dispatch(GAME_EVENT.BIG_CRUNCH_AFTER))}function J7e(){eze();const t=gainedInfinityPoints();Currency.infinityPoints.add(t),Currency.infinities.add(gainedInfinities().round()),tze(!PlayerProgress.infinityUnlocked()),ize()}function eze(){player.records.bestInfinity.bestIPminEternity=player.records.bestInfinity.bestIPminEternity.clampMin(player.records.thisInfinity.bestIPmin),player.records.thisInfinity.bestIPmin=DC.D0,player.records.thisEternity.bestInfinitiesPerMs=player.records.thisEternity.bestInfinitiesPerMs.clampMin(gainedInfinities().round().dividedBy(Math.clampMin(33,player.records.thisInfinity.realTime)));const t=gainedInfinityPoints();if(addInfinityTime(player.records.thisInfinity.time,player.records.thisInfinity.realTime,t,gainedInfinities().round()),player.records.bestInfinity.time=Math.min(player.records.bestInfinity.time,player.records.thisInfinity.time),player.records.bestInfinity.realTime=Math.min(player.records.bestInfinity.realTime,player.records.thisInfinity.realTime),player.requirementChecks.reality.noInfinities=!1,!player.requirementChecks.infinity.maxAll){const e=t.dividedBy(Math.clampMin(33,player.records.thisInfinity.realTime));player.records.thisEternity.bestIPMsWithoutMaxAll=Decimal.max(e,player.records.thisEternity.bestIPMsWithoutMaxAll)}}function tze(t){const e=player.records.bestInfinity.time>6e4&&!player.break,i=Player.isInAntimatterChallenge;Z7e(),t?Tab.infinity.upgrades.show():(e||i&&!player.options.retryChallenge)&&Tab.dimensions.antimatter.show()}function o4(t){const e=Replicanti.amount,i=player.replicanti.galaxies;l4(t);let n=0;Achievement(95).isUnlocked&&!Pelle.isDoomed&&(Replicanti.amount=e,n+=Math.min(i,1)),TimeStudy(33).isBought&&!Pelle.isDoomed&&(n+=Math.floor(i/2)),PelleUpgrade.replicantiGalaxyNoReset.canBeApplied&&(n=i),player.replicanti.galaxies=Math.clampMax(n,i)}function ize(){EternityChallenge(4).tryFail()||Effarig.isRunning&&!EffarigUnlock.infinity.isUnlocked&&(EffarigUnlock.infinity.unlock(),beginProcessReality(getRealityProps(!0)))}function l4(t){player.dimensionBoosts=0,player.galaxies=0,player.records.thisInfinity.maxAM=DC.D0,Currency.antimatter.reset(),softReset(0,!0,!0,t),InfinityDimensions.resetAmount(),player.replicanti.unl&&(Replicanti.amount=DC.D1),player.replicanti.galaxies=0,player.records.thisInfinity.time=0,player.records.thisInfinity.lastBuyTime=0,player.records.thisInfinity.realTime=0,Player.resetRequirements("infinity"),AchievementTimers.marathon2.reset()}function nze(t){if(InfinityUpgrade.ipGen.isBought){const e=Time.bestInfinity.totalMilliseconds*10;let i;t>=1e300*e?i=Decimal.div(t,e):(player.partInfinityPoint+=t/e,i=Math.floor(player.partInfinityPoint),player.partInfinityPoint-=i);let n=player.records.bestInfinity.time>=999999999999?DC.D0:InfinityUpgrade.ipGen.effectValue;Laitela.isRunning&&(n=dilatedValueOf(n));const r=new Decimal(i).times(n);Currency.infinityPoints.add(r)}Currency.infinityPoints.add(BreakInfinityUpgrade.ipGen.effectOrDefault(DC.D0).times(t/6e4))}class rze extends mn{constructor(e,i){super(e),this._upgrade=i}get isEffectActive(){return this._upgrade.isBought&&this._upgrade.isCharged}}class c4 extends Df{constructor(e){super(e),e.charged&&(this._chargedEffect=new rze(e.charged,this))}get currency(){return Currency.infinityPoints}get set(){return player.infinityUpgrades}get isAvailableForPurchase(){var e,i;return((i=(e=this.config).checkRequirement)==null?void 0:i.call(e))??!0}get isEffectActive(){return this.isBought&&!this.isCharged}get chargedEffect(){return this._chargedEffect}purchase(){return super.purchase()?(this.config.id.includes("skip")&&skipResetsIfPossible(),EventHub.dispatch(GAME_EVENT.INFINITY_UPGRADE_BOUGHT),!0):this.canCharge?(this.charge(),EventHub.dispatch(GAME_EVENT.INFINITY_UPGRADE_CHARGED),!0):!1}get hasChargeEffect(){return this.config.charged!==void 0}get isCharged(){return player.celestials.ra.charged.has(this.id)}get canCharge(){return this.isBought&&this.hasChargeEffect&&!this.isCharged&&Ra.chargesLeft!==0&&!Pelle.isDisabled("chargedInfinityUpgrades")}charge(){player.celestials.ra.charged.add(this.id)}disCharge(){player.celestials.ra.charged.delete(this.id)}}function aze(){if(Effarig.isRunning&&Effarig.currentStage===EFFARIG_STAGES.INFINITY)return DC.D1;let t=DC.D1.times(ShopPurchase.IPPurchases.currentMult).times(1e3).timesEffectsOf(TimeStudy(41),TimeStudy(51),TimeStudy(141),TimeStudy(142),TimeStudy(143),Achievement(85),Achievement(93),Achievement(116),Achievement(125),Achievement(141).effects.ipGain,ds.ipMult,DilationUpgrade.ipMultDT,GlyphEffect.ipMult);return t=t.times(Replicanti.amount.powEffectOf(AlchemyResource.exponential)),t}function sze(){const t=[ds.totalTimeMult,ds.dim18mult,ds.dim36mult,ds.resetBoost,ds.buy10Mult,ds.dim27mult,ds.dim45mult,ds.galaxyBoost,ds.thisInfinityTimeMult,ds.unspentIPMult,ds.dimboostMult,ds.ipGen];for(const e of t)e.isCharged&&e.disCharge();player.celestials.ra.disCharge=!1,EventHub.dispatch(GAME_EVENT.INFINITY_UPGRADES_DISCHARGED)}class oze extends mn{get cost(){return this.purchaseCount>=this.purchasesAtIncrease?this.config.costIncreaseThreshold.times(Decimal.pow(this.costIncrease,this.purchaseCount-this.purchasesAtIncrease)):Decimal.pow(this.costIncrease,this.purchaseCount+1)}get purchaseCount(){return player.IPMultPurchases}get purchasesAtIncrease(){return this.config.costIncreaseThreshold.log10()-1}get hasIncreasedCost(){return this.purchaseCount>=this.purchasesAtIncrease}get costIncrease(){return this.hasIncreasedCost?1e10:10}get isCapped(){return this.cost.gte(this.config.costCap)}get isBought(){return this.isCapped}get isRequirementSatisfied(){return Achievement(41).isUnlocked}get canBeBought(){return!Pelle.isDoomed&&!this.isCapped&&Currency.infinityPoints.gte(this.cost)&&this.isRequirementSatisfied}purchase(e=1){this.canBeBought&&(TimeStudy(181).isBought||Autobuyer.bigCrunch.bumpAmount(DC.D2.pow(e)),Currency.infinityPoints.subtract(Decimal.sumGeometricSeries(e,this.cost,this.costIncrease,0)),player.IPMultPurchases+=e,GameUI.update())}buyMax(){if(this.canBeBought){if(!this.hasIncreasedCost){const e=Currency.infinityPoints.value.clampMax(this.config.costIncreaseThreshold),i=Decimal.affordGeometricSeries(e,this.cost,this.costIncrease,0).toNumber();if(i<=0)return;this.purchase(i)}if(this.hasIncreasedCost){const e=Currency.infinityPoints.value.clampMax(this.config.costCap),i=Decimal.affordGeometricSeries(e,this.cost,this.costIncrease,0).toNumber();if(i<=0)return;this.purchase(i)}}}}const ds=mapGameDataToObject(GameDatabase.infinity.upgrades,t=>t.id==="ipMult"?new oze(t):new c4(t));class u4 extends Df{get currency(){return Currency.infinityPoints}get set(){return player.infinityUpgrades}onPurchased(){this.id==="postGalaxy"&&(pb.upgrade5e11IP.tryComplete(),PelleStrikes.powerGalaxies.trigger())}}class lze extends tu{get currency(){return Currency.infinityPoints}get boughtAmount(){return player.infinityRebuyables[this.id]}set boughtAmount(e){player.infinityRebuyables[this.id]=e}get isCapped(){return this.boughtAmount===this.config.maxUpgrades}onPurchased(){var e,i;(i=(e=this.config).onPurchased)==null||i.call(e)}}const cze=mapGameDataToObject(GameDatabase.infinity.breakUpgrades,t=>t.rebuyable?new lze(t):new u4(t));function uze(t){if(jc(11).isRunning||InfinityChallenge(6).isRunning){if(AntimatterDimension(2).amount.neq(0)){Currency.matter.bumpTo(1);const e=1.03+Math.clampMax(DimBoost.totalBoosts,400)/200+Math.clampMax(player.galaxies,100)/100;Currency.matter.multiply(Decimal.pow(e,t/20))}if(Currency.matter.gt(Currency.antimatter.value)&&jc(11).isRunning&&!Player.canCrunch){const e=[Currency.antimatter.value,Currency.matter.value];softReset(0,!0,!0),Modal.message.show(`Your ${format(e[0],2,2)} antimatter was annihilated
        by ${format(e[1],2,2)} matter.`,{closeEvent:GAME_EVENT.BIG_CRUNCH_AFTER},1)}}jc(3).isRunning&&(player.chall3Pow=player.chall3Pow.times(DC.D1_00038.pow(t/100)).clampMax(Decimal.NUMBER_MAX_VALUE)),jc(2).isRunning&&(player.chall2Pow=Math.min(player.chall2Pow+t/100/1800,1)),InfinityChallenge(2).isRunning&&(player.ic2Count>=400?(AntimatterDimension(8).amount.gt(0)&&sacrificeReset(),player.ic2Count%=400):player.ic2Count+=Math.clamp(Date.now()-player.lastUpdate,1,216e5))}class dze extends mn{get isQuickResettable(){return this.config.isQuickResettable}get isRunning(){const e=this.id!==9&&this.id!==12;return player.challenge.normal.current===this.id||e&&InfinityChallenge(1).isRunning}get isOnlyActiveChallenge(){return player.challenge.normal.current===this.id}get isUnlocked(){if(PlayerProgress.eternityUnlocked()||this.id===0)return!0;const e=GameDatabase.challenges.normal[this.id-1].lockedAt;return Currency.infinitiesTotal.gte(e)}get isDisabled(){return Pelle.isDoomed}get lockedAt(){return GameDatabase.challenges.normal[this.id].lockedAt}requestStart(){if(Tab.challenges.isUnlocked&&!GameEnd.creditsEverClosed){if(!player.options.confirmations.challenges){this.start();return}Modal.startNormalChallenge.show(this.id)}}start(){this.id===1||this.isOnlyActiveChallenge||Tab.challenges.isUnlocked&&(bigCrunchReset(!0,!0),player.challenge.normal.current=this.id,player.challenge.infinity.current=0,Enslaved.isRunning&&EternityChallenge(6).isRunning&&this.id===10&&(EnslavedProgress.challengeCombo.giveProgress(),Enslaved.quotes.ec6C10.show()),Enslaved.isRunning||Tab.dimensions.antimatter.show())}get isCompleted(){return(player.challenge.normal.completedBits&1<<this.id)!==0}complete(){player.challenge.normal.completedBits|=1<<this.id,Achievement(52).tryUnlock(),Achievement(53).tryUnlock(),TabNotification.newAutobuyer.clearTrigger(),GameCache.cheapestAntimatterAutobuyer.invalidate()}get goal(){return Enslaved.isRunning&&Enslaved.BROKEN_CHALLENGES.includes(this.id)?DC.E1E15:Decimal.NUMBER_MAX_VALUE}updateChallengeTime(){player.challenge.normal.bestTimes[this.id-2]<=player.records.thisInfinity.time||(player.challenge.normal.bestTimes[this.id-2]=player.records.thisInfinity.time,GameCache.challengeTimeSum.invalidate(),GameCache.worstChallengeTime.invalidate())}exit(){player.challenge.normal.current=0,bigCrunchReset(!0,!1),Enslaved.isRunning||Tab.dimensions.antimatter.show()}}const jc=dze.createAccessor(GameDatabase.challenges.normal);Object.defineProperty(jc,"current",{get:()=>player.challenge.normal.current>0?jc(player.challenge.normal.current):void 0});Object.defineProperty(jc,"isRunning",{get:()=>player.challenge.normal.current!==0});const d4={all:jc.index.compact(),completeAll(){for(const t of d4.all)t.complete()},clearCompletions(){player.challenge.normal.completedBits=0}};function hze(){if(EternityMilestone.autoIC.isReached){const t=Gh.all.filter(e=>e.isUnlocked&&!e.isCompleted);for(const e of t)e.complete()}}class fze extends mn{constructor(e,i){super(e),this._challenge=i}get isEffectActive(){return this._challenge.isCompleted}}class pze extends mn{constructor(e){super(e),this._reward=new fze(e.reward,this)}get unlockAM(){return this.config.unlockAM}get isUnlocked(){return player.records.thisEternity.maxAM.gte(this.unlockAM)||Achievement(133).isUnlocked&&!Pelle.isDoomed||PelleUpgrade.keepInfinityChallenges.canBeApplied&&Pelle.cel.records.totalAntimatter.gte(this.unlockAM)}get isRunning(){return player.challenge.infinity.current===this.id}requestStart(){if(this.isUnlocked&&!GameEnd.creditsEverClosed){if(!player.options.confirmations.challenges){this.start();return}Modal.startInfinityChallenge.show(this.id)}}start(){!this.isUnlocked||this.isRunning||(bigCrunchReset(!0,!0),player.challenge.normal.current=0,player.challenge.infinity.current=this.id,Enslaved.isRunning||Tab.dimensions.antimatter.show(),player.break=!0,EternityChallenge.isRunning&&Achievement(115).unlock())}get isCompleted(){return(player.challenge.infinity.completedBits&1<<this.id)!==0}complete(){player.challenge.infinity.completedBits|=1<<this.id,EventHub.dispatch(GAME_EVENT.INFINITY_CHALLENGE_COMPLETED)}get isEffectActive(){return this.isRunning}get reward(){return this._reward}get isQuickResettable(){return this.config.isQuickResettable}get goal(){return this.config.goal}updateChallengeTime(){player.challenge.infinity.bestTimes[this.id-1]<=player.records.thisInfinity.time||(player.challenge.infinity.bestTimes[this.id-1]=player.records.thisInfinity.time,GameCache.infinityChallengeTimeSum.invalidate())}exit(){player.challenge.infinity.current=0,bigCrunchReset(!0,!1),Enslaved.isRunning||Tab.dimensions.antimatter.show()}}const xm=pze.createAccessor(GameDatabase.challenges.infinity);Object.defineProperty(xm,"current",{get:()=>player.challenge.infinity.current>0?xm(player.challenge.infinity.current):void 0});Object.defineProperty(xm,"isRunning",{get:()=>xm.current!==void 0});const Gh={all:xm.index.compact(),completeAll(){for(const t of Gh.all)t.complete()},clearCompletions(){player.challenge.infinity.completedBits=0},get nextIC(){return Gh.all.find(t=>!t.isUnlocked)},get nextICUnlockAM(){var t;return(t=this.nextIC)==null?void 0:t.unlockAM},notifyICUnlock(t){if(!EternityMilestone.autoIC.isReached&&Gh.nextIC!==void 0){for(const e of Gh.all)if(!(e.isUnlocked||e.isCompleted)){if(t.lt(e.unlockAM))break;TabNotification.ICUnlock.clearTrigger(),GameUI.notify.infinity(`You have unlocked Infinity Challenge ${e.id}`,7e3),TabNotification.ICUnlock.tryTrigger()}}},get completed(){return Gh.all.filter(t=>t.isCompleted)}};function mze(t){player.records.bestEternity.time=Math.min(player.records.thisEternity.time,player.records.bestEternity.time),Currency.eternityPoints.add(gainedEternityPoints());const e=g4();if(Currency.eternities.eq(0)&&e.lte(10)&&Tab.dimensions.time.show(),Currency.eternities.add(e),EternityChallenge.isRunning){const i=EternityChallenge.current;if(i.addCompletion(!1),Perk.studyECBulk.isBought){let n=0;for(;!i.isFullyCompleted&&i.canBeCompleted;)i.addCompletion(!1),n++;AutomatorData.lastECCompletionCount=n,Enslaved.isRunning&&n>5&&EnslavedProgress.ec1.giveProgress()}player.challenge.eternity.requirementBits&=~(1<<i.id),respecTimeStudies(t)}addEternityTime(player.records.thisEternity.time,player.records.thisEternity.realTime,gainedEternityPoints(),e),player.records.thisReality.bestEternitiesPerMs=player.records.thisReality.bestEternitiesPerMs.clampMin(e.div(Math.clampMin(33,player.records.thisEternity.realTime))),player.records.bestEternity.bestEPminReality=player.records.bestEternity.bestEPminReality.max(player.records.thisEternity.bestEPmin),Currency.infinitiesBanked.value=Currency.infinitiesBanked.value.plusEffectsOf(Achievement(131).effects.bankedInfinitiesGain,TimeStudy(191)),Effarig.isRunning&&!EffarigUnlock.eternity.isUnlocked&&(EffarigUnlock.eternity.unlock(),beginProcessReality(getRealityProps(!0)))}function h4(){gl.display("a-eternify",3)}function yze(){Player.canEternity&&(GameEnd.creditsEverClosed||vze())}function Wk(t,e,i={}){i.switchingDilation&&!Player.canEternity&&(t=!0);const n=player.timestudy.studies.length===0;if(!t){if(!Player.canEternity)return!1;if(RealityUpgrade(10).isLockingMechanics)return RealityUpgrade(10).tryShowWarningModal(),!1;if(RealityUpgrade(12).isLockingMechanics&&EternityChallenge(1).isRunning)return RealityUpgrade(12).tryShowWarningModal(),!1;EventHub.dispatch(GAME_EVENT.ETERNITY_RESET_BEFORE),mze(e),player.requirementChecks.reality.noEternities=!1}return player.dilation.active&&rewardTP(),t&&(player.challenge.eternity.current=0),p4(),m4(),!Iv.keepAutobuyers.isReached&&!(Pelle.isDoomed&&PelleUpgrade.keepAutobuyers.canBeApplied)&&(player.break=!1),player.challenge.eternity.current=0,!i.enteringEC&&!Pelle.isDoomed&&(player.dilation.active=!1),resetInfinityRuns(),InfinityDimensions.fullReset(),Replicanti.reset(),resetChallengeStuff(),AntimatterDimensions.reset(),!i.enteringEC&&player.respec&&(n&&SecretAchievement(34).unlock(),respecTimeStudies(e),player.respec=!1),Currency.infinityPoints.reset(),InfinityDimensions.resetAmount(),player.records.thisInfinity.bestIPmin=DC.D0,player.records.bestInfinity.bestIPminEternity=DC.D0,player.records.thisEternity.bestEPmin=DC.D0,player.records.thisEternity.bestInfinitiesPerMs=DC.D0,player.records.thisEternity.bestIPMsWithoutMaxAll=DC.D0,resetTimeDimensions(),resetTickspeed(),playerInfinityUpgradesOnReset(),AchievementTimers.marathon2.reset(),y4(),player.records.thisInfinity.maxAM=DC.D0,player.records.thisEternity.maxAM=DC.D0,Currency.antimatter.reset(),ECTimeStudyState.invalidateCachedRequirements(),PelleStrikes.eternity.trigger(),EventHub.dispatch(GAME_EVENT.ETERNITY_RESET_AFTER),!0}function f4(t){if(!Player.canEternity)return!1;const e=!gl.isDisplaying&&!RealityUpgrade(10).isLockingMechanics&&!(RealityUpgrade(12).isLockingMechanics&&EternityChallenge(1).isRunning)&&(player.dilation.active&&player.options.animations.dilation||!player.dilation.active&&player.options.animations.eternity);return e?player.dilation.active?animateAndUndilate(t):(h4(),setTimeout(()=>{Wk(),t&&t()},2250)):(Wk(),t&&t()),e}function p4(t){NormalChallenges.clearCompletions(),PelleUpgrade.keepInfinityChallenges.canBeApplied||InfinityChallenges.clearCompletions(),(!t&&Iv.keepAutobuyers.isReached||Pelle.isDoomed)&&NormalChallenges.completeAll(),Achievement(133).isUnlocked&&!Pelle.isDoomed&&InfinityChallenges.completeAll(),player.challenge.normal.current=0,player.challenge.infinity.current=0}function m4(){player.sacrificed=DC.D0,Currency.infinities.reset(),player.records.bestInfinity.time=999999999999,player.records.bestInfinity.realTime=999999999999,player.records.thisInfinity.time=0,player.records.thisInfinity.lastBuyTime=0,player.records.thisInfinity.realTime=0,player.dimensionBoosts=Iv.keepInfinityUpgrades.isReached?4:0,player.galaxies=Iv.keepInfinityUpgrades.isReached?1:0,player.partInfinityPoint=0,player.partInfinitied=0,player.IPMultPurchases=0,Currency.infinityPower.reset(),Currency.timeShards.reset(),player.records.thisEternity.time=0,player.records.thisEternity.realTime=0,player.totalTickGained=0,player.eterc8ids=50,player.eterc8repl=40,Player.resetRequirements("eternity")}function y4(){if(player.eternityUpgrades.size<3&&Perk.autounlockEU1.canBeApplied)for(const t of[1,2,3])player.eternityUpgrades.add(t)}function gze(){if(player.eternityUpgrades.size<6&&Perk.autounlockEU2.canBeApplied){const t=DE.all.filter(e=>e.id>3);for(const e of t)player.eternityPoints.gte(e.cost/1e10)&&player.eternityUpgrades.add(e.id)}}function vze(){player.dilation.active&&player.options.confirmations.dilation?Modal.exitDilation.show():player.options.confirmations.eternity?Modal.eternity.show():f4()}function g4(){return Pelle.isDisabled("eternityMults")?new Decimal(1e3):new Decimal(getAdjustedGlyphEffect("timeetermult")).times(1e3).timesEffectsOf(RealityUpgrade(3),Achievement(113)).pow(AlchemyResource.eternity.effectValue)}let v4=class{constructor(e){this.config=e}get isReached(){return Pelle.isDoomed&&this.config.givenByPelle?this.config.givenByPelle():Currency.eternities.gte(this.config.eternities)}};const Iv=mapGameDataToObject(GameDatabase.eternity.milestones,t=>new v4(t));class bze extends Df{get currency(){return Currency.eternityPoints}get set(){return player.eternityUpgrades}}class _ze extends mn{constructor(){super({}),this.cachedCost=new Lazy(()=>this.costAfterCount(player.epmultUpgrades)),this.cachedEffectValue=new Lazy(()=>DC.D5.pow(player.epmultUpgrades))}get isAffordable(){return!Pelle.isDoomed&&Currency.eternityPoints.gte(this.cost)}get cost(){return this.cachedCost.value}get boughtAmount(){return player.epmultUpgrades}set boughtAmount(e){const i=Math.clampMin(e-player.epmultUpgrades,0);player.epmultUpgrades=e,this.cachedCost.invalidate(),this.cachedEffectValue.invalidate(),Autobuyer.eternity.bumpAmount(DC.D5.pow(i))}get isCustomEffect(){return!0}get effectValue(){return this.cachedEffectValue.value}purchase(){return this.isAffordable?(Currency.eternityPoints.subtract(this.cost),++this.boughtAmount,!0):!1}buyMax(e){if(!this.isAffordable)return!1;if(RealityUpgrade(15).isLockingMechanics)return e||RealityUpgrade(15).tryShowWarningModal(),!1;const i=bulkBuyBinarySearch(Currency.eternityPoints.value,{costFunction:this.costAfterCount,cumulative:!0,firstCost:this.cost},this.boughtAmount);return i?(Currency.eternityPoints.subtract(i.purchasePrice),this.boughtAmount+=i.quantity,!0):!1}reset(){this.boughtAmount=0}get costIncreaseThresholds(){return[DC.E100,Decimal.NUMBER_MAX_VALUE,DC.E1300,DC.E4000]}costAfterCount(e){const i=DE.epMult.costIncreaseThresholds,n=[50,100,500,1e3];for(let r=0;r<i.length;r++){const a=Decimal.pow(n[r],e).times(500);if(a.lt(i[r]))return a}return DC.E3.pow(e+Math.pow(Math.clampMin(e-1334,0),1.2)).times(500)}}const DE=mapGameDataToObject(GameDatabase.eternity.upgrades,t=>new bze(t));DE.epMult=new _ze;function b4(){initializeChallengeCompletions(),initializeResourcesAfterEternity(),resetInfinityRuns(),InfinityDimensions.fullReset(),Replicanti.reset(),resetChallengeStuff(),AntimatterDimensions.reset(),player.replicanti.galaxies=0,Currency.infinityPoints.reset(),InfinityDimensions.resetAmount(),player.records.bestInfinity.bestIPminEternity=DC.D0,player.records.thisEternity.bestEPmin=DC.D0,resetTimeDimensions(),resetTickspeed(),player.records.thisInfinity.maxAM=DC.D0,player.records.thisEternity.maxAM=DC.D0,Currency.antimatter.reset(),playerInfinityUpgradesOnReset(),AchievementTimers.marathon2.reset(),ECTimeStudyState.invalidateCachedRequirements()}class wze extends mn{constructor(e,i){const n=e.effect,r=Lf([{},e]);r.effect=()=>n(i.completions),super(r),this._challenge=i}get isEffectActive(){return this._challenge.completions>0}}let _4=class extends mn{constructor(e){super(e),this._fullId=`eterc${this.id}`,this._reward=new wze(e.reward,this)}get fullId(){return this._fullId}get isUnlocked(){return player.challenge.eternity.unlocked===this.id}get isRunning(){return player.challenge.eternity.current===this.id}get isEffectActive(){return this.isRunning}get hasUnlocked(){return(player.reality.unlockedEC&1<<this.id)!==0}set hasUnlocked(e){e&&(player.reality.unlockedEC|=1<<this.id)}get completions(){const e=player.eternityChalls[this.fullId];return e===void 0?0:e}set completions(e){player.eternityChalls[this.fullId]=Math.min(e,this.maxCompletions)}get maxCompletions(){return Enslaved.isRunning&&this.id===1?1e3:5}get remainingCompletions(){return this.maxCompletions-this.completions}get isFullyCompleted(){return this.completions===this.maxCompletions}get maxValidCompletions(){if(this.id!==4&&this.id!==12)return this.maxCompletions;let e=this.completions;for(;e<this.maxCompletions&&this.isWithinRestrictionAtCompletions(e);)e++;return e}get gainedCompletionStatus(){const e={gainedCompletions:0,hasMoreCompletions:!1,totalCompletions:this.completions};if(this.isFullyCompleted)return e;if(!Perk.studyECBulk.isBought)return this.canBeCompleted&&(++e.totalCompletions,e.gainedCompletions=1),e;let i=this.completionsAtIP(player.records.thisEternity.maxIP);const n=this.maxValidCompletions;return i>n&&(i=n,e.failedRestriction=this.config.failedRestriction),e.totalCompletions=i,e.gainedCompletions=i-this.completions,e.hasMoreCompletions=this.completions+e.gainedCompletions<this.maxCompletions,e.nextGoalAt=this.goalAtCompletions(e.totalCompletions),e}get initialGoal(){return Pelle.isDoomed&&this.config.pelleGoal?this.config.pelleGoal:this.config.goal}get goalIncrease(){return Pelle.isDoomed&&this.config.pelleGoalIncrease?this.config.pelleGoalIncrease:this.config.goalIncrease}get currentGoal(){return this.goalAtCompletions(this.completions)}get isGoalReached(){return player.records.thisEternity.maxIP.gte(this.currentGoal)}get canBeCompleted(){return this.isGoalReached&&this.isWithinRestriction}goalAtCompletions(e){return e>0?this.initialGoal.times(this.goalIncrease.pow(Math.min(e,this.maxCompletions-1))):this.initialGoal}completionsAtIP(e){if(e.lt(this.initialGoal))return 0;const i=1+e.dividedBy(this.initialGoal).log10()/this.goalIncrease.log10();return Math.min(Math.floor(i),this.maxCompletions)}addCompletion(e=!1){this.completions++,(this.id===4||this.id===12)&&e&&this.tryFail(!0),this.id===6&&GameCache.dimensionMultDecrease.invalidate(),this.id===11&&GameCache.tickSpeedMultDecrease.invalidate()}requestStart(){if(!(!Tab.challenges.eternity.isUnlocked||this.isRunning)&&!GameEnd.creditsEverClosed){if(!player.options.confirmations.challenges){this.start();return}this.isUnlocked&&Modal.startEternityChallenge.show(this.id)}}start(e){if(Af.isRunning||!this.isUnlocked)return!1;const i=player.requirementChecks.reality.slowestBH<=1e-300;if(this.id===12&&ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&i)return e||ImaginaryUpgrade(24).tryShowWarningModal("enter Eternity Challenge 12"),!1;if(this.id===7&&ImaginaryUpgrade(15).isLockingMechanics&&TimeDimension(1).amount.gt(0))return e||ImaginaryUpgrade(15).tryShowWarningModal("enter Eternity Challenge 7"),!1;const n=getGameSpeedupFactor();return Player.canEternity&&eternity(!1,e,{enteringEC:!0}),player.challenge.eternity.current=this.id,this.id===12&&(n<.001&&SecretAchievement(42).unlock(),player.requirementChecks.reality.slowestBH=1),Enslaved.isRunning&&(this.id===6&&this.completions===5&&EnslavedProgress.ec6.giveProgress(),!e&&EnslavedProgress.challengeCombo.hasProgress&&Tab.challenges.normal.show()),b4(),!0}get reward(){return this._reward}get isWithinRestriction(){return this.isWithinRestrictionAtCompletions(this.completions)}isWithinRestrictionAtCompletions(e){return this.config.restriction===void 0||this.config.checkRestriction(this.config.restriction(e))}exit(e){Player.isInAntimatterChallenge&&Player.antimatterChallenge.exit(),player.challenge.eternity.current=0,e||(player.respec=!0),eternity(!0)}fail(e=!1){this.exit(!1);let i;e?this.id===4?i=n=>`Auto Eternity Challenge completion completed Eternity Challenge ${this.id} and made the next tier require having less Infinities (${quantifyInt("Infinity",n)} or less) than you had`:this.id===12&&(i=n=>`Auto Eternity Challenge completion completed Eternity Challenge ${this.id} and made the next tier require spending less time in it (${quantify("in-game second",n,0,1)} or less) than you had spent`):this.id===4?i=n=>`You failed Eternity Challenge ${this.id} due to having more than ${quantifyInt("Infinity",n)}`:this.id===12&&(i=n=>`You failed Eternity Challenge ${this.id} due to spending more than ${quantify("in-game second",n,0,1)} in it`),Modal.message.show(`${i(this.config.restriction(this.completions))}, which has caused you to exit it.`,{closeEvent:GAME_EVENT.REALITY_RESET_AFTER},1),EventHub.dispatch(GAME_EVENT.CHALLENGE_FAILED)}tryFail(e=!1){return this.isRunning&&!this.isWithinRestriction?(this.fail(e),!0):!1}};const Af=_4.createAccessor(GameDatabase.challenges.eternity);Object.defineProperty(Af,"current",{get:()=>player.challenge.eternity.current>0?Af(player.challenge.eternity.current):void 0});Object.defineProperty(Af,"isRunning",{get:()=>player.challenge.eternity.current!==0});const wg={all:Af.index.compact(),get completions(){return wg.all.map(t=>t.completions).sum()},get maxCompletions(){return wg.all.map(t=>t.maxCompletions).sum()},get remainingCompletions(){return wg.all.map(t=>t.remainingCompletions).sum()},autoComplete:{tick(){const t=TimeDimension(1).amount.gt(0),e=RealityUpgrade(12).isLockingMechanics||ImaginaryUpgrade(15).isLockingMechanics&&t&&!Array.range(1,6).some(r=>!Af(r).isFullyCompleted);if(!player.reality.autoEC||Pelle.isDisabled("autoec")||e){player.reality.lastAutoEC=Math.clampMax(player.reality.lastAutoEC,this.interval);return}if(Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied){let r=this.nextChallenge;for(;r!==void 0;){for(;!r.isFullyCompleted;)r.addCompletion(!0);if(r=this.nextChallenge,ImaginaryUpgrade(15).isLockingMechanics&&(r==null?void 0:r.id)===7&&t)break}return}const i=this.interval;let n=this.nextChallenge;for(;player.reality.lastAutoEC-i>0&&n!==void 0;)player.reality.lastAutoEC-=i,n.addCompletion(!0),n=this.nextChallenge;player.reality.lastAutoEC%=i},get nextChallenge(){return wg.all.find(t=>!t.isFullyCompleted)},get interval(){if(!Perk.autocompleteEC1.canBeApplied)return 1/0;let t=Effects.min(Number.MAX_VALUE,Perk.autocompleteEC1,Perk.autocompleteEC2,Perk.autocompleteEC3);return t/=VUnlocks.fastAutoEC.effectOrDefault(1),TimeSpan.fromMinutes(t).totalMilliseconds}}},$n={glyphs:[],realityProps:void 0,get active(){return Modal.reality.isOpen},get choiceCount(){return Effects.max(1,Perk.firstPerk)*Ra.unlocks.extraGlyphChoicesAndRelicShardRarityAlwaysMax.effectOrDefault(1)},glyphUncommonGuarantee(t,e){const n=e.uniform();let r;do r=GlyphGenerator.randomStrength(e);while(r<1.5);t.some(a=>a.strength>=1.5)||(t[Math.floor(n*t.length)].strength=r)},glyphList(t,e,i){const n=Math.clampMin(t,4);let r=[];const a=i.rng||new GlyphGenerator.RealGlyphRNG,s=[];if(GlyphGenerator.isUniformityActive)r=GlyphGenerator.uniformGlyphs(e,a,player.realities);else{for(let o=0;o<n;++o)s.push(GlyphGenerator.randomType(a,s));for(let o=0;o<n;++o)r.push(GlyphGenerator.randomGlyph(e,a,s[o]))}return this.glyphUncommonGuarantee(r,a),r=r.slice(0,t),!i.rng&&i.isChoosingGlyph&&a.finalize(),r},generate(t,e=gainedGlyphLevel()){this.glyphs=this.glyphList(t,e,{isChoosingGlyph:!0})},update(t){if(this.realityProps!==void 0){if(t.rawLevel>this.realityProps.gainedGlyphLevel.rawLevel){this.realityProps.gainedGlyphLevel.rawLevel=t.rawLevel;for(const e of this.glyphs)e.rawLevel=t.rawLevel}if(t.actualLevel>this.realityProps.gainedGlyphLevel.actualLevel){this.realityProps.gainedGlyphLevel.actualLevel=t.actualLevel;for(const e of this.glyphs)e.level=t.actualLevel,calculateGlyph(e)}}},select(t,e){const i=this.glyphs[t];e?GlyphSacrificeHandler.removeGlyph(i,!0):GameCache.glyphInventorySpace.value>0?Glyphs.addToInventory(i):AutoGlyphProcessor.getRidOfGlyph(i),this.glyphs=[],this.realityProps=void 0},get upcomingGlyphs(){return Perk.firstPerk.isEffectActive?this.glyphList(this.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1}):[this.glyphList(4,gainedGlyphLevel(),{isChoosingGlyph:!1})[this.indexWithoutSTART]]},get indexWithoutSTART(){const t=player.realities*(player.reality.initialSeed%5+3);return permutationIndex(4,t)[0]}};function IE(){return player.records.thisReality.maxEP.exponent>=4e3&&TimeStudy.reality.isBought}function w4(t){const e=Enslaved.boostReality?Enslaved.realityBoostRatio-1:0,n=(AlchemyResource.multiversal.effectValue+1)*(e+1)+player.partSimulatedReality-1;return t&&(player.partSimulatedReality=n-Math.floor(n)),Math.floor(n)}function Eze(){if(!($n.active||!IE())&&!GameEnd.creditsEverClosed){if(player.options.confirmations.glyphSelection||ui.view.shiftDown){Modal.reality.show();return}if(GameCache.glyphInventorySpace.value===0){Modal.message.show("No available inventory space; free up space by shift-clicking Glyphs to get rid of them.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED});return}E4(!1)}}function E4(t,e){player.options.animations.reality?(T4(),setTimeout(jk,3e3,t,e)):jk(t,e)}function jk(t,e){if(IE()){if(player.realities===0)player.reality.seed=player.reality.initialSeed,Glyphs.addToInventory(GlyphGenerator.startingGlyph(gainedGlyphLevel())),Glyphs.addToInventory(GlyphGenerator.companionGlyph(Currency.eternityPoints.value));else if(Perk.firstPerk.isEffectActive)if($n.generate($n.choiceCount),e===void 0)if(EffarigUnlock.glyphFilter.isUnlocked){const i=AutoGlyphProcessor.pick($n.glyphs);(player.options.confirmations.glyphSelection?t:!AutoGlyphProcessor.wouldKeep(i))||GameCache.glyphInventorySpace.value===0?AutoGlyphProcessor.getRidOfGlyph(i):Glyphs.addToInventory(i)}else $n.select(Math.floor(Math.random()*$n.choiceCount),t);else $n.select(e,t);else $n.generate(4),$n.select($n.indexWithoutSTART,t);Nx(Ox(!1,!0)),PerkNetwork.updatePerkColor()}}function T4(){document.getElementById("ui").style.userSelect="none",document.getElementById("ui").style.animation="a-realize 10s 1",document.getElementById("realityanimbg").style.animation="a-realizebg 10s 1",document.getElementById("realityanimbg").style.display="block",Theme.current().isDark()?document.getElementById("realityanimbg").style.filter="invert(1)":document.getElementById("realityanimbg").style.filter="",setTimeout(()=>{document.getElementById("realityanimbg").play(),document.getElementById("realityanimbg").currentTime=0,document.getElementById("realityanimbg").play()},2e3),setTimeout(()=>{document.getElementById("ui").style.userSelect="auto",document.getElementById("ui").style.animation="",document.getElementById("realityanimbg").style.animation="",document.getElementById("realityanimbg").style.display="none"},1e4)}function Tze(t,e){let i;const n=$n.glyphList($n.choiceCount,t,{rng:e});let r;EffarigUnlock.glyphFilter.isUnlocked?(i=AutoGlyphProcessor.pick(n),r=AutoGlyphProcessor.wouldKeep(i)):(i=n[0],r=!0),r&&GameCache.glyphInventorySpace.value>0?Glyphs.addToInventory(i):AutoGlyphProcessor.getRidOfGlyph(i)}function Ox(t,e=!1){const i={glyphUndo:!1,restoreCelestialState:!1};return t?Object.assign(i,{reset:!0}):Object.assign(i,{reset:!1,gainedRM:MachineHandler.gainedRealityMachines,gainedGlyphLevel:gainedGlyphLevel(),gainedShards:Effarig.shardsGained,simulatedRealities:w4(!0),alreadyGotGlyph:e})}function Cze(){$n.active||!IE()||Nx(Ox(!1,!1))}function kze(t){const e=t.gainedRM.dividedBy(Math.clampMin(5e-4,Time.thisRealityRealTime.totalMinutes));player.records.bestReality.RMmin.lt(e)&&(player.records.bestReality.RMmin=e,player.records.bestReality.RMminSet=Glyphs.copyForRecords(Glyphs.active.filter(i=>i!==null))),player.records.bestReality.glyphLevel<t.gainedGlyphLevel.actualLevel&&(player.records.bestReality.glyphLevel=t.gainedGlyphLevel.actualLevel,player.records.bestReality.glyphLevelSet=Glyphs.copyForRecords(Glyphs.active.filter(i=>i!==null))),player.records.bestReality.time=Math.min(player.records.thisReality.time,player.records.bestReality.time),player.records.thisReality.realTime<player.records.bestReality.realTime&&(player.records.bestReality.realTime=player.records.thisReality.realTime,player.records.bestReality.speedSet=Glyphs.copyForRecords(Glyphs.active.filter(i=>i!==null)))}function Sze(t){const e=t.simulatedRealities+1,i=e+binomialDistribution(e,Achievement(154).effectOrDefault(0)),n=Currency.realityMachines.gte(MachineHandler.hardcapRM)?DC.D0:t.gainedRM;if(Currency.realityMachines.add(n.times(e)),kze(t),addRealityTime(player.records.thisReality.time,player.records.thisReality.realTime,n,t.gainedGlyphLevel.actualLevel,i,e,MachineHandler.projectedIMCap),Currency.realities.add(i*1e3),Currency.perkPoints.add(i*1e3),TeresaUnlocks.effarig.canBeApplied&&Currency.relicShards.add(t.gainedShards*e),e>1&&Enslaved.boostReality&&(Time.thisRealityRealTime.totalSeconds<1?player.celestials.enslaved.storedReal*=1-Time.thisRealityRealTime.totalSeconds:player.celestials.enslaved.storedReal=0,Enslaved.boostReality=!1),Teresa.isRunning){const r=Teresa.runRewardMultiplier,a=Teresa.rewardMultiplier(player.antimatter),o=`You have completed Teresa's Reality! ${a>r?`Since you gained more Antimatter, you increased your
      Glyph Sacrifice multiplier from ${format(r,2,2)} to ${format(a,2,2)}`:`You did not gain more Antimatter during this run, so the Glyph Sacrifice multiplier
      from Teresa did not increase`}.`;if(Modal.message.show(o,{},2),Currency.antimatter.gt(player.celestials.teresa.bestRunAM)){player.celestials.teresa.bestRunAM=Currency.antimatter.value,player.celestials.teresa.bestAMSet=Glyphs.copyForRecords(Glyphs.active.filter(d=>d!==null));let c;Currency.imaginaryMachines.value===0?c=player.reality.maxRM:c=DC.E10000.times(Currency.imaginaryMachines.value),player.celestials.teresa.lastRepeatedMachines=player.celestials.teresa.lastRepeatedMachines.clampMin(c)}Teresa.quotes.completeReality.show()}Effarig.isRunning&&!EffarigUnlock.reality.isUnlocked&&(EffarigUnlock.reality.unlock(),Effarig.quotes.completeReality.show()),Enslaved.isRunning&&Enslaved.completeRun(),V.isRunning&&V.quotes.realityComplete.show()}function Nx(t){if(t.reset){zk(t);return}EventHub.dispatch(GAME_EVENT.REALITY_RESET_BEFORE);const e=t.simulatedRealities+(t.alreadyGotGlyph?0:1),i=GlyphGenerator.getRNG(!1),n=gainedGlyphLevel();if(zk(t),e<100){for(let m=0;m<e;m++)if($n.generate($n.choiceCount,n),EffarigUnlock.glyphFilter.isUnlocked){const y=$n.glyphList($n.choiceCount,t.gainedGlyphLevel,{rng:i}),_=AutoGlyphProcessor.pick(y);!AutoGlyphProcessor.wouldKeep(_)||GameCache.glyphInventorySpace.value===0?AutoGlyphProcessor.getRidOfGlyph(_):Glyphs.addToInventory(_)}else $n.select(Math.floor(Math.random()*$n.choiceCount),!1);Glyphs.processSortingAfterReality();return}const r={};let a=!1;const s={toGenerate:0,sampleStats:generatedTypes.map(m=>({type:m,count:0,totalSacrifice:0,varProdSacrifice:0})),totalStats:{count:0,totalSacrifice:0,varProdSacrifice:0}},o=(m,y)=>{const _=m.totalSacrifice/m.count;m.totalSacrifice+=y,m.count++;const w=m.totalSacrifice/m.count;m.count!==1&&(m.varProdSacrifice+=(y-_)*(y-w))},c=(m,y)=>{if(m.count===0)return 0;const _=m.totalSacrifice/m.count,w=Math.sqrt(m.varProdSacrifice/m.count);return normalDistribution(_*y,w*Math.sqrt(y))},d=()=>{if(a){const m=$n.glyphList($n.choiceCount,t.gainedGlyphLevel,{rng:i}),y=AutoGlyphProcessor.pick(m),_=GlyphSacrificeHandler.glyphSacrificeGain(y),w=s.sampleStats.find(C=>C.type===y.type);o(w,_),o(s.totalStats,_)}else Tze(t.gainedGlyphLevel,i),VUnlocks.autoAutoClean.canBeApplied&&player.reality.autoAutoClean&&Glyphs.autoClean()},p=Math.min(e,1e4);Async.run(d,e,{batchSize:100,maxTime:33,sleepTime:1,asyncEntry:m=>{GameIntervals.stop(),ui.$viewModel.modal.progressBar={label:"Simulating Amplified Reality",info:()=>`The game is currently calculating all the resources you would gain from repeating the
            Reality you just completed ${formatInt(e)} more times. Pressing "Quick Glyphs" with
            more than ${formatInt(p)} Glyphs remaining will speed up the calculation by automatically
            sacrificing all the remaining Glyphs you would get. Pressing "Skip Glyphs" will ignore all resources
            related to Glyphs and stop the simulation after giving all other resources.
            ${Ra.unlocks.unlockGlyphAlchemy.canBeApplied?`Pressing either button to speed up
            simulation will not update any resources within Glyph Alchemy.`:""}`,progressName:"Realities",current:m,max:e,startTime:Date.now(),buttons:[{text:"Quick Glyphs",condition:(y,_)=>_-y>p,click:()=>{a=!0,s.toGenerate=r.remaining,r.maxIter-=r.remaining-p,r.remaining=p,ui.$viewModel.modal.progressBar.max=r.maxIter}},{text:"Skip Glyphs",condition:()=>!0,click:()=>{r.maxIter-=r.remaining,r.remaining=0}}]}},asyncProgress:m=>{ui.$viewModel.modal.progressBar.current=m},asyncExit:()=>{ui.$viewModel.modal.progressBar=void 0,GameIntervals.start()},then:()=>{if(s.toGenerate>0)if(AutoGlyphProcessor.scoreMode===AUTO_GLYPH_SCORE.LOWEST_SACRIFICE){let m=c(s.totalStats,s.toGenerate);const y=generatedTypes.filter(k=>EffarigUnlock.reality.isUnlocked||k!=="effarig"),_=y.map(k=>player.reality.glyphs.sac[k]).sort((k,S)=>k-S),w=[];for(const k of y)w.push({type:k,value:player.reality.glyphs.sac[k]});const C=Object.values(w).sort((k,S)=>k.value-S.value);for(let k=0;k<_.length-1;k++){let S=0;for(let O=0;O<=k;O++)S+=_[k+1]-_[O];const x=Math.clampMax(S,m);m-=x;for(let O=0;O<=k;O++)_[O]+=x/(k+1);if(m===0)break}for(let k=0;k<_.length;k++)_[k]+=m/_.length;for(let k=0;k<_.length;k++)player.reality.glyphs.sac[C[k].type]=_[k]}else for(const m of s.sampleStats){const y=s.toGenerate*m.count/p;player.reality.glyphs.sac[m.type]+=c(m,y)}},progress:r}),Glyphs.processSortingAfterReality()}function zk(t){const e=Currency.eternityPoints.value.plus(gainedEternityPoints());player.records.bestReality.bestEP.lt(e)&&(player.records.bestReality.bestEP=new Decimal(e),player.records.bestReality.bestEPSet=Glyphs.copyForRecords(Glyphs.active.filter(a=>a!==null)));const i=player.records.thisReality.realTime,n=t.reset;n||Sze(t),t.glyphUndo||(Glyphs.clearUndo(),player.reality.respec&&respecGlyphs(),player.celestials.ra.disCharge&&disChargeAll()),player.options.automatorEvents.clearOnReality&&AutomatorData.clearEventLog(),Player.automatorUnlocked&&AutomatorBackend.state.forceRestart&&AutomatorBackend.start(AutomatorBackend.state.topLevelScript);const r=k4();if(recalculateAllGlyphs(),Glyphs.updateMaxGlyphCount(!0),player.sacrificed=DC.D0,Dze(),initializeChallengeCompletions(!0),Currency.infinities.reset(),Currency.infinitiesBanked.reset(),player.records.bestInfinity.time=999999999999,player.records.bestInfinity.realTime=999999999999,player.records.thisInfinity.time=0,player.records.thisInfinity.lastBuyTime=0,player.records.thisInfinity.realTime=0,player.dimensionBoosts=0,player.galaxies=0,player.partInfinityPoint=0,player.partInfinitied=0,player.break=!1,player.IPMultPurchases=0,Currency.infinityPower.reset(),Currency.timeShards.reset(),Replicanti.reset(!0),Currency.eternityPoints.reset(),EternityUpgrade.epMult.reset(),PelleUpgrade.eternitiesNoReset.canBeApplied||Currency.eternities.reset(),player.records.thisEternity.time=0,player.records.thisEternity.realTime=0,player.records.bestEternity.time=999999999999,player.records.bestEternity.realTime=999999999999,PelleUpgrade.keepEternityUpgrades.canBeApplied||player.eternityUpgrades.clear(),player.totalTickGained=0,PelleUpgrade.keepEternityChallenges.canBeApplied||(player.eternityChalls={}),player.reality.unlockedEC=0,player.reality.lastAutoEC=0,player.challenge.eternity.current=0,PelleUpgrade.timeStudiesNoReset.canBeApplied||(player.challenge.eternity.unlocked=0),player.challenge.eternity.requirementBits=0,player.respec=!1,player.eterc8ids=50,player.eterc8repl=40,t.glyphUndo?player.requirementChecks.reality.maxGlyphs=Math.max(Glyphs.bestUndoGlyphCount,player.requirementChecks.reality.maxGlyphs):Player.resetRequirements("reality"),player.records.thisReality.time=0,player.records.thisReality.realTime=0,player.records.thisReality.maxReplicanti=DC.D0,PelleUpgrade.timeStudiesNoReset.canBeApplied||Currency.timeTheorems.reset(),player.celestials.v.STSpent=0,PelleUpgrade.timeStudiesNoReset.canBeApplied||(player.dilation.studies=[],player.dilation.active=!1),PelleUpgrade.dilationUpgradesNoReset.canBeApplied||(player.dilation.upgrades.clear(),player.dilation.rebuyables={1:0,2:0,3:0,11:0,12:0,13:0}),PelleUpgrade.tachyonParticlesNoReset.canBeApplied||Currency.tachyonParticles.reset(),player.dilation.nextThreshold=DC.E3,player.dilation.baseTachyonGalaxies=0,player.dilation.totalTachyonGalaxies=0,Currency.dilatedTime.reset(),player.records.thisInfinity.maxAM=DC.D0,player.records.thisEternity.maxAM=DC.D0,player.records.thisReality.maxDT=DC.D0,player.dilation.lastEP=DC.DM1,Currency.antimatter.reset(),Enslaved.autoReleaseTick=0,player.celestials.enslaved.hasSecretStudy=!1,player.celestials.laitela.entropy=0,playerInfinityUpgradesOnReset(),resetInfinityRuns(),resetEternityRuns(),InfinityDimensions.fullReset(),fullResetTimeDimensions(),resetChallengeStuff(),AntimatterDimensions.reset(),secondSoftReset(!1),player.celestials.ra.peakGamespeed=1,InfinityDimensions.resetAmount(),player.records.thisInfinity.bestIPmin=DC.D0,player.records.bestInfinity.bestIPminEternity=DC.D0,player.records.thisEternity.bestEPmin=DC.D0,player.records.thisEternity.bestInfinitiesPerMs=DC.D0,player.records.thisEternity.bestIPMsWithoutMaxAll=DC.D0,player.records.bestEternity.bestEPminReality=DC.D0,player.records.thisReality.bestEternitiesPerMs=DC.D0,player.records.thisReality.bestRSmin=0,player.records.thisReality.bestRSminVal=0,resetTimeDimensions(),resetTickspeed(),AchievementTimers.marathon2.reset(),Currency.infinityPoints.reset(),RealityUpgrade(10).isBought?C4():Tab.dimensions.antimatter.show(),Lazy.invalidateAll(),ECTimeStudyState.invalidateCachedRequirements(),EventHub.dispatch(GAME_EVENT.REALITY_RESET_AFTER),TeresaUnlocks.startEU.canBeApplied)for(const a of[1,2,3,4,5,6])player.eternityUpgrades.add(a);else RealityUpgrade(14).isBought&&applyEU1();n||Ra.applyAlchemyReactions(i),player.reality.gainedAutoAchievements=!1,player.reality.hasCheckedFilter=!1,(t.restoreCelestialState||player.options.retryCelestial)&&Aze(r),Pelle.isDoomed&&PelleUpgrade.keepAutobuyers.canBeApplied&&Autobuyer.bigCrunch.hasMaxedInterval&&(player.break=!0)}function Aze(t){player.celestials.teresa.run=t.teresa,player.celestials.teresa.run&&Teresa.initializeRun(),player.celestials.effarig.run=t.effarig,player.celestials.effarig.run&&Effarig.initializeRun(),player.celestials.enslaved.run=t.enslaved,player.celestials.enslaved.run&&Enslaved.initializeRun(),player.celestials.v.run=t.v,player.celestials.v.run&&V.initializeRun(),player.celestials.ra.run=t.ra,player.celestials.ra.run&&Ra.initializeRun(),player.celestials.laitela.run=t.laitela,player.celestials.laitela.run&&Laitela.initializeRun()}function C4(){if(NormalChallenges.completeAll(),PelleUpgrade.replicantiStayUnlocked.canBeApplied&&(Replicanti.amount=Replicanti.amount.clampMin(1),Replicanti.unlock(!0)),!Pelle.isDisabled("rupg10")){player.auto.antimatterDims.all=player.auto.antimatterDims.all.map(t=>({isUnlocked:!0,cost:1e14,interval:100,bulk:1e10,mode:t.mode,priority:t.priority,isActive:t.isActive,lastTick:player.records.realTimePlayed}));for(const t of Autobuyers.all)t.data.interval!==void 0&&(t.data.interval=100);player.dimensionBoosts=Math.max(4,player.dimensionBoosts),player.galaxies=Math.max(1,player.galaxies),player.break=!0,Currency.eternities.bumpTo(100),Replicanti.amount=Replicanti.amount.clampMin(1),Replicanti.unlock(!0),applyEU1()}}function k4(){const t={teresa:player.celestials.teresa.run,effarig:player.celestials.effarig.run,enslaved:player.celestials.enslaved.run,v:player.celestials.v.run,ra:player.celestials.ra.run,laitela:player.celestials.laitela.run};return player.celestials.teresa.run=!1,player.celestials.effarig.run=!1,Enslaved.isRunning&&(player.celestials.enslaved.run=!1,(Tabs.current.isHidden||Tabs.current._currentSubtab.isHidden)&&Tab.celestials.enslaved.show(),AutomatorData.recalculateErrors()),player.celestials.v.run=!1,player.celestials.ra.run=!1,player.celestials.laitela.run=!1,t}function xze(){return Object.values(player.celestials).some(t=>t.run)}function Dze(){if(!Perk.achievementGroup5.isBought){for(const t of Achievements.preReality)t.lock();player.reality.achTimer=0}}const lm={get scaleLog10(){return Math.log10(Number.MAX_VALUE)},get scaleFactor(){return PelleStrikes.eternity.hasStrike&&Dt.amount.gte(DC.E2000)?10:Pelle.isDoomed?2:AlchemyResource.cardinality.effectValue}};function Xk(t){t>0&&(player.replicanti.galaxies+=t,player.requirementChecks.eternity.noRG=!1,(Pelle.isDoomed?PelleUpgrade.replicantiGalaxyEM40.canBeApplied:EternityMilestone.replicantiNoReset.isReached)||(player.dimensionBoosts=0,softReset(0,!0,!0)))}function Gx(t){if(RealityUpgrade(6).isLockingMechanics){t||RealityUpgrade(6).tryShowWarningModal();return}if(!Dt.galaxies.canBuyMore)return;const e=Dt.galaxies.gain;e<1||(player.replicanti.timer=0,Dt.amount=PelleUpgrade.replicantiGalaxyEM40.canBeApplied?Dt.amount:Achievement(126).isUnlocked&&!Pelle.isDoomed?Decimal.pow10(Dt.amount.log10()-LOG10_MAX_VALUE*e):DC.D1,Xk(e))}function Ize(){Dt.galaxies.canBuyMore&&(RealityUpgrade(6).isLockingMechanics?RealityUpgrade(6).tryShowWarningModal():player.options.confirmations.replicantiGalaxy?Modal.replicantiGalaxy.show():Gx(!1))}function Rze(t,e){const i=e&&!RealityUpgrade(6).isLockingMechanics,n=DC.E1.pow(t.plus(Dt.amount.log10()));if(t.gt(Number.MAX_VALUE)||n.eq(0))return i&&Xk(Dt.galaxies.max-player.replicanti.galaxies),Dt.amount=_o(),t;if(!i){const d=t.minus(_o().log10()-Dt.amount.log10()).clampMin(0);return Dt.amount=Decimal.min(n,_o()),d}const r=Decimal.NUMBER_MAX_VALUE.log10(),a=t.toNumber()+Dt.amount.log10(),s=PelleUpgrade.replicantiGalaxyEM40.canBeApplied?Math.floor(Dt.galaxies.max-player.replicanti.galaxies):Math.floor(Math.min(a/r,Dt.galaxies.max-player.replicanti.galaxies)),o=r*s+_o().log10()-Dt.amount.log10(),c=t.minus(o).clampMin(0);return Dt.amount=PelleUpgrade.replicantiGalaxyEM40.canBeApplied?Decimal.pow10(a):Decimal.pow10(a-r*s).clampMax(_o()),Xk(s),c}function Cw(t,e){let i=e||player.replicanti.interval;const n=Dt.amount,r=t===void 0?n.gt(_o()):t;if(i=new Decimal(i),(TimeStudy(133).isBought&&!Achievement(138).isUnlocked||r)&&(i=i.times(10)),r){let a=(n.log10()-_o().log10())/lm.scaleLog10;PelleStrikes.eternity.hasStrike&&n.gte(DC.E2000)&&(a-=Math.log10(5)*(2e3-_o().log10())/lm.scaleLog10),i=i.times(Decimal.pow(lm.scaleFactor,a))}return i=i.divide(S4(r)),V.isRunning&&(i=i.pow(2)),i}function S4(t){let e=DC.D1;if(e=e.times(PelleRifts.decay.effectValue),e=e.times(Pelle.specialGlyphEffect.replication),e=e.times(ShopPurchase.replicantiPurchases.currentMult),e=e.times(1e3),Pelle.isDisabled("replicantiIntervalMult"))return e;const i=Effects.product(TimeStudy(62),TimeStudy(213),RealityUpgrade(2),RealityUpgrade(6),RealityUpgrade(23));return e=e.times(i),TimeStudy(132).isBought&&(e=e.times(Perk.studyPassive.isBought?3:1.5)),!t&&Achievement(134).isUnlocked&&(e=e.times(2)),e=e.times(getAdjustedGlyphEffect("replicationspeed")),GlyphAlteration.isAdded("replication")&&(e=e.times(Math.clampMin(Decimal.log10(Dt.amount)*getSecondaryGlyphEffect("replicationdtgain"),1))),e=e.timesEffectsOf(AlchemyResource.replication,Ra.unlocks.continuousTTBoost.effects.replicanti),e}function _o(){return EffarigUnlock.infinity.canBeApplied?Currency.infinitiesTotal.value.pow(TimeStudy(31).isBought?120:30).clampMin(1).times(Decimal.NUMBER_MAX_VALUE):Decimal.NUMBER_MAX_VALUE}function Mze(t){if(!player.replicanti.unl)return;const e=Dt.amount;PerformanceStats.start("Replicanti"),EventHub.dispatch(GAME_EVENT.REPLICANTI_TICK_BEFORE);const i=Cw(!1),n=Dt.isUncapped,r=Dt.galaxies.areBeingBought;let a=Decimal.divide(t+player.replicanti.timer,i);a.lt(100)?player.replicanti.timer=a.minus(a.floor()).times(i).toNumber():player.replicanti.timer=0,a=a.floor();const s=Dt.amount.times(player.replicanti.chance);if(a.gte(100)||s.gte(10)&&a.gte(1)){let o=Math.log10(lm.scaleFactor)/lm.scaleLog10;V.isRunning&&(o*=2);let c=a.times(Math.log(player.replicanti.chance+1)).times(LOG10_E);if((!n||Dt.amount.lte(_o()))&&(c=Rze(c,r)),n&&Dt.amount.gte(_o())&&c.gt(0)){const d=Cw(!0).div(i);c=c.div(d),Dt.amount=Decimal.exp(c.div(LOG10_E).times(o).plus(1).ln()/o+Dt.amount.clampMin(1).ln())}}else if(a.gt(1)){const o=Math.floor(a.toNumber()*Math.log2(1+player.replicanti.chance)),c=a.toNumber()-o/Math.log2(1+player.replicanti.chance);Dt.amount=Dt.amount.times(DC.D2.pow(poissonDistribution(o)));for(let p=0;p<Math.floor(c);p++){const m=binomialDistribution(Dt.amount,player.replicanti.chance);Dt.amount=Dt.amount.plus(m)}const d=c-Math.floor(c);player.replicanti.timer+=i.times(d).toNumber()}else if(a.eq(1)){const o=binomialDistribution(Dt.amount,player.replicanti.chance);Dt.amount=Dt.amount.plus(o)}if(n||(Dt.amount=Decimal.min(_o(),Dt.amount)),Pelle.isDoomed&&Dt.amount.log10()-e.log10()>308&&(Dt.amount=e.times(1e308)),r&&Dt.amount.gte(Decimal.NUMBER_MAX_VALUE)){const o=Autobuyer.replicantiGalaxy,c=o.canTick&&o.isEnabled;Gx(c&&!Dt.galaxies.isPlayerHoldingR)}player.records.thisReality.maxReplicanti=player.records.thisReality.maxReplicanti.clampMin(Dt.amount),EventHub.dispatch(GAME_EVENT.REPLICANTI_TICK_AFTER),PerformanceStats.end()}function Pze(){return Decimal.pow(Decimal.log2(Dt.amount.clampMin(1)),2).plusEffectOf(TimeStudy(21)).timesEffectOf(TimeStudy(102)).clampMin(1).pow(getAdjustedGlyphEffect("replicationpow"))}class Q1{get id(){throw new NotImplementedError}get value(){throw new NotImplementedError}set value(e){throw new NotImplementedError}get nextValue(){throw new NotImplementedError}get cost(){throw new NotImplementedError}set cost(e){throw new Error("Use baseCost to set cost")}get costIncrease(){throw new NotImplementedError}get baseCost(){return this.cost}set baseCost(e){throw new NotImplementedError}get cap(){}get isCapped(){return!1}get autobuyerMilestone(){throw new NotImplementedError}get canBeBought(){return!this.isCapped&&Currency.infinityPoints.gte(this.cost)&&player.eterc8repl!==0}purchase(){this.canBeBought&&(Currency.infinityPoints.subtract(this.cost),this.baseCost=Decimal.times(this.baseCost,this.costIncrease),this.value=this.nextValue,EternityChallenge(8).isRunning&&player.eterc8repl--,GameUI.update())}autobuyerTick(){for(;this.canBeBought;)this.purchase()}}const b0={chance:new class extends Q1{get id(){return 1}get value(){return player.replicanti.chance}set value(e){player.replicanti.chance=e}get nextValue(){return this.nearestPercent(this.value+.01)}get cost(){return player.replicanti.chanceCost.dividedByEffectOf(PelleRifts.vacuum.milestones[1])}get baseCost(){return player.replicanti.chanceCost}set baseCost(e){player.replicanti.chanceCost=e}get costIncrease(){return 1e15}get cap(){return 1}get isCapped(){return this.nearestPercent(this.value)>=this.cap}get autobuyerMilestone(){return EternityMilestone.autobuyerReplicantiChance}autobuyerTick(){let e=Currency.infinityPoints.value.times(this.costIncrease-1).dividedBy(this.cost).plus(1).log(this.costIncrease);if(e=Math.round((Math.min(this.value+.01*Math.floor(e),this.cap)-this.value)*100),e<=0)return;const i=this.cost.times(Decimal.pow(this.costIncrease,e).minus(1).dividedBy(this.costIncrease-1));Currency.infinityPoints.subtract(i),this.baseCost=this.baseCost.times(Decimal.pow(this.costIncrease,e)),this.value=this.nearestPercent(this.value+.01*e)}nearestPercent(e){return Math.round(100*e)/100}},interval:new class extends Q1{get id(){return 2}get value(){return player.replicanti.interval}set value(e){player.replicanti.interval=e}get nextValue(){return Math.max(this.value*.9,this.cap)}get cost(){return player.replicanti.intervalCost.dividedByEffectOf(PelleRifts.vacuum.milestones[1])}get baseCost(){return player.replicanti.intervalCost}set baseCost(e){player.replicanti.intervalCost=e}get costIncrease(){return 1e10}get cap(){return Effects.min(50,TimeStudy(22))}get isCapped(){return this.value<=this.cap}get autobuyerMilestone(){return EternityMilestone.autobuyerReplicantiInterval}applyModifiers(e){return Cw(void 0,e)}},galaxies:new class extends Q1{get id(){return 3}get value(){return player.replicanti.boughtGalaxyCap}set value(e){player.replicanti.boughtGalaxyCap=e}get nextValue(){return this.value+1}get cost(){return this.baseCost.dividedByEffectsOf(TimeStudy(233),PelleRifts.vacuum.milestones[1])}get baseCost(){return player.replicanti.galCost}set baseCost(e){player.replicanti.galCost=e}get distantRGStart(){return 100+Effects.sum(GlyphSacrifice.replication)}get remoteRGStart(){return 1e3+Effects.sum(GlyphSacrifice.replication)}get costIncrease(){const e=this.value;let i=EternityChallenge(6).isRunning?DC.E2.pow(e).times(DC.E2):DC.E5.pow(e).times(DC.E25);return e>=this.distantRGStart&&(i=i.times(DC.E50.pow(e-this.distantRGStart+5))),e>=this.remoteRGStart&&(i=i.times(DC.E5.pow(Math.pow(e-this.remoteRGStart+1,2)))),i}get autobuyerMilestone(){return EternityMilestone.autobuyerReplicantiMaxGalaxies}get extra(){return Effects.max(0,TimeStudy(131))+PelleRifts.decay.milestones[2].effectOrDefault(0)}autobuyerTick(){const e=bulkBuyBinarySearch(Currency.infinityPoints.value,{costFunction:i=>this.baseCostAfterCount(i).dividedByEffectOf(TimeStudy(233)),firstCost:this.cost,cumulative:!0},this.value);e&&(Currency.infinityPoints.subtract(e.purchasePrice),this.value+=e.quantity,this.baseCost=this.baseCostAfterCount(this.value))}baseCostAfterCount(e){const n=EternityChallenge(6).isRunning?2:25,r=EternityChallenge(6).isRunning?2:5,a=100+Effects.sum(GlyphSacrifice.replication),s=1e3+Effects.sum(GlyphSacrifice.replication);let o=170+e*n+e*(e-1)/2*r;if(e>a){const p=e-a;o+=50*p*(p+2*5-1)/2}if(e>s){const d=e-s;o+=5*d*(d+1)*(2*d+1)/6}return Decimal.pow10(o)}}},Dt={get areUnlocked(){return player.replicanti.unl},reset(t=!1){const e=t?!1:EternityMilestone.unlockReplicanti.isReached;player.replicanti={unl:e,amount:e?DC.D1:DC.D0,timer:0,chance:.01,chanceCost:DC.E150,interval:1e3,intervalCost:DC.E140,boughtGalaxyCap:0,galaxies:0,galCost:DC.E170}},unlock(t=!1){const e=DC.E140.dividedByEffectOf(PelleRifts.vacuum.milestones[1]);player.replicanti.unl||(t||Currency.infinityPoints.gte(e))&&(t||Currency.infinityPoints.subtract(e),player.replicanti.unl=!0,player.replicanti.timer=0,Dt.amount=DC.D1)},get amount(){return player.replicanti.amount},set amount(t){player.replicanti.amount=t},get chance(){return b0.chance.value},galaxies:{isPlayerHoldingR:!1,get bought(){return player.replicanti.galaxies},get extra(){return Math.floor((Effects.sum(TimeStudy(225),TimeStudy(226))+Effarig.bonusRG)*TimeStudy(303).effectOrDefault(1))},get total(){return this.bought+this.extra},get max(){return b0.galaxies.value+b0.galaxies.extra},get canBuyMore(){return Dt.amount.gte(Decimal.NUMBER_MAX_VALUE)?this.bought<this.max:!1},get areBeingBought(){const t=Autobuyer.replicantiGalaxy;return t.canTick&&t.isEnabled||!player.options.confirmations.replicantiGalaxy&&this.isPlayerHoldingR},get gain(){if(!this.canBuyMore)return 0;if(Achievement(126).isUnlocked){const t=Dt.galaxies.max-player.replicanti.galaxies,e=Dt.amount.log10();return PelleUpgrade.replicantiGalaxyEM40.canBeApplied?t:Math.min(t,Math.floor(e/LOG10_MAX_VALUE))}return 1}},get isUncapped(){return TimeStudy(192).isBought||PelleRifts.vacuum.milestones[1].canBeApplied}};let ys=class{get amount(){throw new NotImplementedError}set amount(e){throw new NotImplementedError}add(e){this.amount+=e}get currency(){throw new NotImplementedError}get cost(){return this.costBase.times(this.costIncrement.pow(this.amount))}get costBase(){throw new NotImplementedError}get costIncrement(){throw new NotImplementedError}get bulkPossible(){return Perk.ttFree.canBeApplied?Math.floor(this.currency.value.divide(this.cost).log10()/this.costIncrement.log10()+1):Decimal.affordGeometricSeries(this.currency.value,this.cost,this.costIncrement,0).toNumber()}bulkCost(e){return this.cost.times(this.costIncrement.pow(e-1))}purchase(e){if(!this.canAfford)return!1;let i=!1;const n=this.bulkPossible,r=a=>Perk.ttFree.canBeApplied?this.currency.gte(a):this.currency.purchase(a);return e&&r(this.bulkCost(n))&&(Currency.timeTheorems.add(n),this.add(n),i=!0),r(this.cost)&&(Currency.timeTheorems.add(1),this.add(1),i=!0),i&&(player.requirementChecks.reality.noPurchasedTT=!1),A4.totalPurchased()>114&&PelleStrikes.ECs.trigger(),i}get canAfford(){return this.currency.gte(this.cost)&&!player.eternities.eq(0)}reset(){this.amount=0}};ys.am=new class extends ys{get amount(){return player.timestudy.amBought}set amount(t){player.timestudy.amBought=t}get currency(){return Currency.antimatter}get costBase(){return DC.E20000}get costIncrement(){return DC.E20000}};ys.ip=new class extends ys{get amount(){return player.timestudy.ipBought}set amount(t){player.timestudy.ipBought=t}get currency(){return Currency.infinityPoints}get costBase(){return DC.D1}get costIncrement(){return DC.E100}};ys.ep=new class extends ys{get amount(){return player.timestudy.epBought}set amount(t){player.timestudy.epBought=t}get currency(){return Currency.eternityPoints}get costBase(){return DC.D1}get costIncrement(){return DC.D2}bulkCost(t){return Perk.ttFree.canBeApplied?this.cost.times(this.costIncrement.pow(t-1)):this.costIncrement.pow(t+this.amount).subtract(this.cost)}};const A4={checkForBuying(t){return!0},buyOne(t=!1,e){return!this.checkForBuying(t)||!ys[e].purchase(!1)?0:1},buyOneOfEach(){if(!this.checkForBuying(!0))return 0;const t=this.buyOne(!0,"am"),e=this.buyOne(!0,"ip"),i=this.buyOne(!0,"ep");return t+e+i},buyMax(t=!1){if(!this.checkForBuying(t))return 0;const e=ys.am.purchase(!0),i=ys.ip.purchase(!0),n=ys.ep.purchase(!0);return e+i+n},totalPurchased(){return ys.am.amount+ys.ip.amount+ys.ep.amount},calculateTimeStudiesCost(){let t=TimeStudy.boughtNormalTS().map(i=>i.cost).reduce(Number.sumReducer,0);const e=TimeStudy.eternityChallenge.current();return e!==void 0&&(t+=e.cost),Enslaved.isRunning&&player.celestials.enslaved.hasSecretStudy&&(t-=100),t}};class kw extends wS{constructor(e){super(e),this.registerEvents(e.checkEvent,()=>this.tryUnlock())}get automatorPoints(){return this.config.automatorPoints?this.config.automatorPoints:0}get name(){return this.config.name}get shortDescription(){return this.config.shortDescription?this.config.shortDescription():""}get requirement(){return typeof this.config.requirement=="function"?this.config.requirement():this.config.requirement}get lockEvent(){return typeof this.config.lockEvent=="function"?this.config.lockEvent():this.config.lockEvent}get currency(){return Currency.realityMachines}get bitIndex(){return this.id}get bits(){return player.reality.upgradeBits}set bits(e){player.reality.upgradeBits=e}get hasPlayerLock(){return(player.reality.reqLock.reality&1<<this.bitIndex)!==0}set hasPlayerLock(e){e?player.reality.reqLock.reality|=1<<this.bitIndex:player.reality.reqLock.reality&=~(1<<this.bitIndex)}get isLockingMechanics(){var i,n;const e=((n=(i=this.config).bypassLock)==null?void 0:n.call(i))??!1;return this.hasPlayerLock&&this.isPossible&&!e&&!this.isAvailableForPurchase}setMechanicLock(e){this.hasPlayerLock=e}toggleMechanicLock(){this.hasPlayerLock=!this.hasPlayerLock}tryShowWarningModal(e){this.isPossible&&!this.isAvailableForPurchase&&Modal.upgradeLock.show({upgrade:this,isImaginary:!1,specialLockText:e})}get isAvailableForPurchase(){return(player.reality.upgReqs&1<<this.id)!==0}get isPossible(){return this.config.hasFailed?!this.config.hasFailed():!0}tryUnlock(){!(PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought)||this.isAvailableForPurchase||!this.config.checkRequirement()||(player.reality.upgReqs|=1<<this.id,GameUI.notify.reality(`You've unlocked a Reality Upgrade: ${this.config.name}`),this.hasPlayerLock=!1)}onPurchased(){EventHub.dispatch(GAME_EVENT.REALITY_UPGRADE_BOUGHT);const e=this.id;(e===9||e===24)&&Glyphs.refreshActive(),e===10&&(applyRUPG10(),playerInfinityUpgradesOnReset(),EventHub.dispatch(GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT)),e===20&&player.blackHole[0].unlocked&&(player.blackHole[1].unlocked=!0),GameCache.staticGlyphWeights.invalidate()}}class Oze extends tu{get currency(){return Currency.realityMachines}get boughtAmount(){return player.reality.rebuyables[this.id]}set boughtAmount(e){player.reality.rebuyables[this.id]=e}}kw.index=mapGameData(GameDatabase.reality.upgrades,t=>t.id<6?new Oze(t):new kw(t));const Nze=t=>kw.index[t],Gze={all:kw.index.compact(),get allBought(){return(player.reality.upgradeBits>>6)+1===1<<GameDatabase.reality.upgrades.length-5}};class Sw extends wS{constructor(e){super(e),this.registerEvents(e.checkEvent,()=>this.tryUnlock())}get name(){return this.config.name}get requirement(){return typeof this.config.requirement=="function"?this.config.requirement():this.config.requirement}get lockEvent(){return typeof this.config.lockEvent=="function"?this.config.lockEvent():this.config.lockEvent}get currency(){return Currency.imaginaryMachines}get bitIndex(){return this.id}get bits(){return player.reality.imaginaryUpgradeBits}set bits(e){player.reality.imaginaryUpgradeBits=e}get hasPlayerLock(){return(player.reality.reqLock.imaginary&1<<this.bitIndex)!==0}set hasPlayerLock(e){e?player.reality.reqLock.imaginary|=1<<this.bitIndex:player.reality.reqLock.imaginary&=~(1<<this.bitIndex)}get isLockingMechanics(){return this.hasPlayerLock&&this.isPossible&&!this.isAvailableForPurchase}setMechanicLock(e){this.hasPlayerLock=e}toggleMechanicLock(){this.hasPlayerLock=!this.hasPlayerLock}tryShowWarningModal(e){this.isPossible&&!this.isAvailableForPurchase&&Modal.upgradeLock.show({upgrade:this,isImaginary:!0,specialLockText:e})}get isAvailableForPurchase(){return(player.reality.imaginaryUpgReqs&1<<this.id)!==0}get isPossible(){return this.config.hasFailed?!this.config.hasFailed():!0}get canBeApplied(){return super.canBeApplied&&!this.pelleDisabled}get pelleDisabled(){return Pelle.isDoomed&&this.config.isDisabledInDoomed}tryUnlock(){!MachineHandler.isIMUnlocked||this.isAvailableForPurchase||!this.config.checkRequirement()||(player.reality.imaginaryUpgReqs|=1<<this.id,GameUI.notify.reality(`You've unlocked an Imaginary Upgrade: ${this.config.name}`),this.hasPlayerLock=!1)}onPurchased(){if(EventHub.dispatch(GAME_EVENT.REALITY_UPGRADE_BOUGHT),this.id>=15&&this.id<=18&&(DarkMatterDimension(this.id-14).amount=DC.D1,this.id===17&&Laitela.quotes.thirdDMD.show()),this.id>=15&&this.id<=19&&(TabNotification.laitelaUnlock.clearTrigger(),TabNotification.laitelaUnlock.tryTrigger()),this.id===21&&Laitela.quotes.finalRowIM.show(),this.id===22)for(const e of Object.keys(player.reality.glyphs.sac))player.reality.glyphs.sac[e]=x4(22).effectValue;this.id===25&&TabNotification.pelleUnlock.tryTrigger()}}class Uze extends tu{get currency(){return Currency.imaginaryMachines}get boughtAmount(){return player.reality.imaginaryRebuyables[this.id]}get canBeApplied(){return super.canBeApplied&&!this.pelleDisabled}get pelleDisabled(){return Pelle.isDoomed}set boughtAmount(e){player.reality.imaginaryRebuyables[this.id]=e}onPurchased(){this.id===7&&GameCache.staticGlyphWeights.invalidate()}}Sw.index=mapGameData(GameDatabase.reality.imaginaryUpgrades,t=>t.id<=10?new Uze(t):new Sw(t));const x4=t=>Sw.index[t],Lze={all:Sw.index.compact(),get totalRebuyables(){const t=player.reality.imaginaryRebuyables;let e=0;for(const i in t)e+=t[i];return e},get totalSinglePurchase(){return this.all.countWhere(t=>t.isBought)},get allBought(){return(player.reality.imaginaryUpgradeBits>>6)+1===1<<GameDatabase.reality.imaginaryUpgrades.length-5}};class Bze extends Df{constructor(e){super(e),this.connectedPerks=[]}get automatorPoints(){return this.config.automatorPoints?this.config.automatorPoints:0}get label(){return this.config.label}get shortDescription(){return this.config.shortDescription?this.config.shortDescription():""}get currency(){return Currency.perkPoints}get set(){return player.reality.perks}get cost(){return 1}get isAvailableForPurchase(){return this.id===0||this.connectedPerks.some(e=>e.isBought)}get canBeApplied(){return this.isBought&&!(Pelle.isDoomed&&Pelle.uselessPerks.includes(this.id))}initializeConnections(){this.connectedPerks=GameDatabase.reality.perkConnections[this.id].map(e=>Dm.find(e))}onPurchased(){if(this.config.bumpCurrency!==void 0&&this.config.bumpCurrency(),this.label==="EU1"&&Currency.eternities.gt(0)&&applyEU1(),this.label==="ACHNR"){Achievements.preReality.some(e=>!e.isUnlocked)&&(player.reality.gainedAutoAchievements=!0);for(const e of Achievements.preReality)e.unlock(!0)}GameCache.achievementPeriod.invalidate(),GameCache.buyablePerks.invalidate(),EventHub.dispatch(GAME_EVENT.PERK_BOUGHT)}}const D4=mapGameDataToObject(GameDatabase.reality.perks,t=>new Bze(t)),Dm={all:D4.all,find(t){return Dm.all.find(e=>e.id===t)}};for(const t of Dm.all)t.initializeConnections();function $ze(){player.reality.perks.every(t=>Dm.find(t)!==void 0)||(dev.respecPerks(),Currency.perkPoints.gte(Dm.all.length)?(dev.buyAllPerks(),Modal.message.show("Some of your Perks were invalid, but you auto-bought all valid perks.")):Modal.message.show("Some of your Perks were invalid, so your Perks have been reset and your Perk Points refunded."))}function I4(){gl.display("a-dilate",2),setTimeout(()=>{Ux(),Pelle.isDoomed&&PelleStrikes.dilation.trigger()},1e3)}function R4(t){gl.display("a-undilate",2),setTimeout(()=>{eternity(!1,!1,{switchingDilation:!0}),t&&t()},1e3)}function Fze(){if(!PlayerProgress.dilationUnlocked()||Pelle.isDoomed&&!Pelle.canDilateInPelle)return;const t=player.options.animations.dilation&&!gl.isDisplaying;player.dilation.active?player.options.confirmations.dilation?Modal.exitDilation.show():t?R4():eternity(!1,!1,{switchingDilation:!0}):player.options.confirmations.dilation?Modal.enterDilation.show():t?I4():Ux()}function Ux(t){return!PlayerProgress.dilationUnlocked()||GameEnd.creditsEverClosed?!1:player.dilation.active?(eternity(!1,t,{switchingDilation:!0}),!1):(Achievement(136).unlock(),eternity(!1,t,{switchingDilation:!0}),player.dilation.active=!0,Pelle.isDoomed&&PelleStrikes.dilation.trigger(),!0)}const Hze=[null,"dtGain","galaxyThreshold","tachyonGain","doubleGalaxies","tdMultReplicanti","ndMultDT","ipMultDT","timeStudySplit","dilationPenalty","ttGenerator","dtGainPelle","galaxyMultiplier","tickspeedPower","galaxyThresholdPelle","flatDilationMult"];function M4(t,e=1){if(GameEnd.creditsEverClosed)return!1;const i=Xa[Hze[t]];if(t>3&&t<11){if(player.dilation.upgrades.has(t)||!Currency.dilatedTime.purchase(i.cost))return!1;player.dilation.upgrades.add(t),t===4&&(player.dilation.totalTachyonGalaxies*=2)}else{const n=player.dilation.rebuyables[t];if(Currency.dilatedTime.lt(i.cost)||n>=i.config.purchaseCap)return!1;let r=Decimal.affordGeometricSeries(Currency.dilatedTime.value,i.config.initialCost,i.config.increment,n).toNumber();r=Math.clampMax(r,e),r=Math.clampMax(r,i.config.purchaseCap-n);const a=Decimal.sumGeometricSeries(r,i.config.initialCost,i.config.increment,n);if(Currency.dilatedTime.subtract(a),player.dilation.rebuyables[t]+=r,t===2&&((!Perk.bypassTGReset.isBought||Pelle.isDoomed)&&Currency.dilatedTime.reset(),player.dilation.nextThreshold=DC.E3,player.dilation.baseTachyonGalaxies=0,player.dilation.totalTachyonGalaxies=0),t===3&&!Pelle.isDisabled("tpMults")){let s=Effects.max(1,Perk.retroactiveTP1,Perk.retroactiveTP2,Perk.retroactiveTP3,Perk.retroactiveTP4);Enslaved.isRunning&&(s=Math.pow(s,Enslaved.tachyonNerf)),Currency.tachyonParticles.multiply(Decimal.pow(s,r))}}return!0}function Vze(t){const i=3.65*(t===void 0?Xa.galaxyThreshold.effectValue:t)+.35,n=getAdjustedGlyphEffect("dilationgalaxyThreshold"),r=n===0?1:n,a=Xa.galaxyThresholdPelle.canBeApplied?Xa.galaxyThresholdPelle.effectValue:1;return(1+i*r)**a}function P4(){if(Pelle.isDoomed){const e=Currency.tachyonParticles.value.pow(PelleRifts.paradox.milestones[1].effectOrDefault(1));return new Decimal(e).timesEffectsOf(Xa.dtGain,Xa.dtGainPelle,Xa.flatDilationMult).times(ShopPurchase.dilatedTimePurchases.currentMult**.5).times(Pelle.specialGlyphEffect.dilation).div(1e5).times(1e3)}let t=new Decimal(Currency.tachyonParticles.value).times(1e3).timesEffectsOf(Xa.dtGain,Achievement(132),Achievement(137),RealityUpgrade(1),AlchemyResource.dilation,Ra.unlocks.continuousTTBoost.effects.dilatedTime,Ra.unlocks.peakGamespeedDT);return t=t.times(getAdjustedGlyphEffect("dilationDT")),t=t.times(ShopPurchase.dilatedTimePurchases.currentMult),t=t.times(Math.clampMin(Decimal.log10(Replicanti.amount)*getAdjustedGlyphEffect("replicationdtgain"),1)),Enslaved.isRunning&&!t.eq(0)&&(t=Decimal.pow10(Math.pow(t.plus(1).log10(),.85)-1)),V.isRunning&&(t=t.pow(.5)),t}function Lx(){if(Pelle.isDisabled("tpMults"))return new Decimal(1e3);const t=Enslaved.isRunning?Enslaved.tachyonNerf:1;return DC.D1.times(1e3).timesEffectsOf(Xa.tachyonGain,GlyphSacrifice.dilation,Achievement(132),RealityUpgrade(4),RealityUpgrade(8),RealityUpgrade(15)).pow(t)}function Yze(){Currency.tachyonParticles.bumpTo(Bx(player.records.thisEternity.maxAM,!0)),player.dilation.lastEP=Currency.eternityPoints.value}function O4(t,e){if(!Player.canEternity&&e)return DC.D0;const i=isInCelestialReality()||Pelle.isDoomed?t:Ra.unlocks.unlockDilationStartingTP.effectOrDefault(t);let n=Decimal.pow(Decimal.log10(i)/400,1.5);return Enslaved.isRunning&&(n=n.pow(Enslaved.tachyonNerf)),n}function Bx(t,e){return O4(t,e).times(Lx())}function qze(t){return Bx(Currency.antimatter.value,t).minus(Currency.tachyonParticles.value).clampMin(0)}function Wze(){let t=Currency.tachyonParticles.value.dividedBy(Lx());return Enslaved.isRunning&&(t=t.pow(1/Enslaved.tachyonNerf)),Decimal.pow10(t.times(Math.pow(400,1.5)).pow(2/3).toNumber())}function jze(t){const e=P4(),i=e.times(getGameSpeedupForDisplay()),n=Currency.dilatedTime.value;if(e.eq(0))return null;if(PelleRifts.paradox.isActive){const r=Pelle.riftDrainPercent,a=i.minus(Decimal.multiply(t,r)),s=i.minus(n.times(r));return a.lt(0)?"Never affordable due to Rift drain":TimeSpan.fromSeconds(s.div(a).ln()/r).toTimeEstimate()}return TimeSpan.fromSeconds(Decimal.sub(t,n).div(i).toNumber()).toTimeEstimate()}function zze(t){const e=t.log10(),i=.75*Effects.product(Xa.dilationPenalty);return Decimal.pow10(Math.sign(e)*Math.pow(Math.abs(e),i))}class Xze extends Df{get currency(){return Currency.dilatedTime}get set(){return player.dilation.upgrades}onPurchased(){this.id===4&&(player.dilation.totalTachyonGalaxies*=2),this.id===10&&pb.upgradeTTgen.tryComplete()}}class Kze extends tu{get currency(){return Currency.dilatedTime}get boughtAmount(){return player.dilation.rebuyables[this.id]}set boughtAmount(e){player.dilation.rebuyables[this.id]=e}get isCapped(){return this.config.reachedCap()}purchase(e){M4(this.config.id,e)}}const Xa=mapGameDataToObject(GameDatabase.eternity.dilation,t=>t.rebuyable?new Kze(t):new Xze(t)),Zze={rebuyable:[Xa.dtGain,Xa.galaxyThreshold,Xa.tachyonGain],fromId:t=>Xa.all.find(e=>e.id===Number(t))};class J1{constructor(e){const{getAmount:i,setAmount:n,calculateValue:r,initialCost:a,costMult:s}=e;this.incrementAmount=()=>n(i()+1),this._lazyValue=new Lazy(()=>r(i())),this._lazyCost=new Lazy(()=>getHybridCostScaling(i(),1e30,a,s,.2,DC.E310,1e5,10)),this.id=e.id,this.hasAutobuyer=e.hasAutobuyer,this.onPurchase=e.onPurchase}get value(){return this._lazyValue.value}get cost(){return this._lazyCost.value}get isAffordable(){return Currency.realityMachines.gte(this.cost)}purchase(){if(!this.isAffordable||this.value===0)return;const e=ta(this.id),i=e.isCharged?1-e.stateProgress:e.stateProgress;Currency.realityMachines.purchase(this.cost),this.incrementAmount(),this._lazyValue.invalidate(),this._lazyCost.invalidate(),this.onPurchase&&this.onPurchase();const n=e.isCharged?e.duration:e.interval;e.updatePhase(n*i-e.phase),e.isPermanent&&(player.blackHole[this.id-1].active=!0),EventHub.dispatch(GAME_EVENT.BLACK_HOLE_UPGRADE_BOUGHT)}}class Aw{constructor(e){this.id=e+1;const i=[1,1e3];this.intervalUpgrade=new J1({id:this.id,getAmount:()=>this._data.intervalUpgrades,setAmount:n=>this._data.intervalUpgrades=n,calculateValue:n=>3600/Math.pow(10,e)*Math.pow(.8,n),initialCost:15*i[e],costMult:3.5,hasAutobuyer:!1,onPurchase:()=>{this.isCharged||(this._data.phase=Math.clampMax(this.interval,this._data.phase))}}),this.powerUpgrade=new J1({id:this.id,getAmount:()=>this._data.powerUpgrades,setAmount:n=>this._data.powerUpgrades=n,calculateValue:n=>180/Math.pow(2,e)*Math.pow(1.35,n),initialCost:20*i[e],costMult:2,hasAutobuyer:!0}),this.durationUpgrade=new J1({id:this.id,getAmount:()=>this._data.durationUpgrades,setAmount:n=>this._data.durationUpgrades=n,calculateValue:n=>(10-e*3)*Math.pow(1.3,n),initialCost:10*i[e],costMult:4,hasAutobuyer:!1})}get _data(){return player.blackHole[this.id-1]}get rawInterval(){return this.intervalUpgrade.value*Achievement(145).effectOrDefault(1)}get interval(){return this.isPermanent?0:this.rawInterval}get power(){return this.powerUpgrade.value*Achievement(158).effectOrDefault(1)}get duration(){return this.durationUpgrade.value*Achievement(155).effectOrDefault(1)}get isUnlocked(){return this._data.unlocked&&!Enslaved.isRunning&&!Pelle.isDisabled("blackhole")}get isCharged(){return this._data.active}get timeWithPreviousActiveToNextStateChange(){return this.isCharged?this.duration-this.phase:this.interval-this.phase}get timeToNextStateChange(){const e=this.timeWithPreviousActiveToNextStateChange;return this.id===1?e:this.isCharged?ta(1).isCharged?Math.min(e,ta(1).timeToNextStateChange):ta(1).timeToNextStateChange:ta(1).timeUntilTimeActive(e)}timeUntilTimeActive(e){let i=e;if(this.isCharged){if(i<this.timeToNextStateChange)return i;i-=this.timeToNextStateChange}let n=this.isCharged?this.timeToNextStateChange+this.interval:this.timeToNextStateChange;return n+=Math.floor(i/this.duration)*this.cycleLength,n+=i%this.duration,n}get stateProgress(){return this.isCharged?1-this.phase/this.duration:this.phase/this.interval}get displayState(){if(Pelle.isDisabled("blackhole"))return'<i class="fas fa-ban"></i> Disabled';if(Enslaved.isAutoReleasing)return Enslaved.autoReleaseTick<3?'<i class="fas fa-compress-arrows-alt u-fa-padding"></i> Pulsing':'<i class="fas fa-expand-arrows-alt u-fa-padding"></i> Pulsing';if(Enslaved.isStoringGameTime)return'<i class="fas fa-compress-arrows-alt"></i> Charging';if(Ha.areNegative)return'<i class="fas fa-caret-left"></i> Inverted';if(Ha.arePaused)return'<i class="fas fa-pause"></i> Paused';if(this.isPermanent)return'<i class="fas fa-infinity"></i> Permanent';const e=TimeSpan.fromSeconds(this.timeToNextStateChange).toStringShort(!0);return this.isActive?`<i class="fas fa-play"></i> Active (${e})`:`<i class="fas fa-redo"></i> Inactive (${e})`}get isActive(){return this.isCharged&&(this.id===1||ta(this.id-1).isActive)&&!Pelle.isDisabled("blackhole")}get dutyCycle(){return this.duration/(this.rawInterval+this.duration)}get isPermanent(){return this.dutyCycle>=.9999}get phase(){return this._data.phase}get cycleLength(){return this.interval+this.duration}updatePhase(e){this.isPermanent||(this._data.phase+=e,this.phase>=this.cycleLength&&(this._data.activations+=Math.floor(this.phase/this.cycleLength),this._data.phase%=this.cycleLength),this.isCharged?this.phase>=this.duration&&(this._data.phase-=this.duration,this._data.active=!1,GameUI.notify.showBlackHoles&&GameUI.notify.blackHole(`${this.description(!0)} duration ended.`)):this.phase>=this.interval&&(this._data.phase-=this.interval,this._data.activations++,this._data.active=!0,GameUI.notify.showBlackHoles&&GameUI.notify.blackHole(`${this.description(!0)} has activated!`)))}realTimeWhileActive(e){const i=this.timeUntilNextDeactivation,n=this.interval,r=this.duration,a=this.cycleLength,s=Math.min(i,r),o=Math.floor((e-i)/a),c=r*o,d=(e-i+a)%a,p=Math.max(d-n,0);return s+c+p}get timeUntilNextDeactivation(){return this.isCharged?this.duration-this.phase:this.cycleLength-this.phase}description(e){return RealityUpgrade(20).isBought?`Black Hole ${this.id}`:e?"The Black Hole":"the Black Hole"}}Aw.list=Array.range(0,2).map(t=>new Aw(t));function ta(t){return Aw.list[t-1]}const Ha={ACCELERATION_TIME:5,get list(){return Aw.list},get canBeUnlocked(){return Currency.realityMachines.gte(100)&&!this.areUnlocked},get areUnlocked(){return ta(1).isUnlocked},unlock(){this.canBeUnlocked&&(player.blackHole[0].unlocked=!0,Currency.realityMachines.purchase(100),player.records.timePlayedAtBHUnlock=player.records.totalTimePlayed,EventHub.dispatch(GAME_EVENT.BLACK_HOLE_UNLOCKED))},togglePause:(t=!1)=>{if(!Ha.areUnlocked)return;const e=player.requirementChecks.reality.slowestBH<=1e-300;if(ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&e){t||ImaginaryUpgrade(24).tryShowWarningModal("uninvert your Black Hole");return}player.blackHolePause&&(player.requirementChecks.reality.slowestBH=1),player.blackHolePause=!player.blackHolePause,player.blackHolePauseTime=player.records.realTimePlayed;const i=RealityUpgrade(20).isBought?"Black Holes":"Black Hole",n=player.blackHolePause?Ha.areNegative?"inverted":"paused":"unpaused",r=t?"automatically ":"";GameUI.notify.blackHole(`${i} ${r}${n}`)},get unpauseAccelerationFactor(){return this.arePermanent?1:Math.clamp((player.records.realTimePlayed-player.blackHolePauseTime)/(1e3*this.ACCELERATION_TIME),0,1)},get arePaused(){return player.blackHolePause},get areNegative(){return this.arePaused&&!Enslaved.isRunning&&!Laitela.isRunning&&player.blackHoleNegative<1},get arePermanent(){return Ha.list.every(t=>t.isPermanent)},updatePhases(t){if(!this.areUnlocked||this.arePaused)return;const e=t/1e3,[i,n]=this.autoPauseData(e),r=this.realTimePeriodsWithBlackHoleActive(n,!0);for(const a of this.list){if(!a.isUnlocked)break;a.updatePhase(r[a.id-1])}i&&Ha.togglePause(!0)},calculateOfflineTick(t,e,i){const n=this.calculateSpeedups(),r=this.calculateGameTimeFromRealTime(t,n);if(e===1)return[t,r/t];const a=this.binarySearch(0,t,o=>this.calculateGameTimeFromRealTime(o,n)*e/r,1,i),s=this.calculateGameTimeFromRealTime(a,n)/a;return[a,s]},binarySearch(t,e,i,n,r){let a;for(let s=0;s<100;++s){a=(t+e)/2;const o=i(a)-n;if(Math.abs(o)<r)break;o<0?t=a:e=a}return a},calculateSpeedups(){const t=[GAME_SPEED_EFFECT.FIXED_SPEED,GAME_SPEED_EFFECT.TIME_GLYPH,GAME_SPEED_EFFECT.SINGULARITY_MILESTONE,GAME_SPEED_EFFECT.NERFS],e=getGameSpeedupFactor(t),i=[e];t.push(GAME_SPEED_EFFECT.BLACK_HOLE);for(const n of this.list){if(!n.isUnlocked)break;i.push(getGameSpeedupFactor(t,n.id)/e)}return i},calculateGameTimeFromRealTime(t,e){const[i,n]=this.autoPauseData(t),r=this.realTimePeriodsWithBlackHoleEffective(n,e);return r[0]+=t-n,r.map((a,s)=>a*e[s]).sum()},realTimePeriodsWithBlackHoleEffective(t){const e=this.realTimePeriodsWithBlackHoleActive(t),i=[];for(let n=0;n<e.length-1;n++)i.push(e[n]-e[n+1]);return i.push(e.last()),i},realTimePeriodsWithBlackHoleActive(t){const e=[t];for(const i of this.list){if(!i.isUnlocked)break;const n=i.realTimeWhileActive(e.last());e.push(n)}return e},timeToNextPause(t,e=100){if(t===1){const d=ta(1);if(d.interval<=Ha.ACCELERATION_TIME)return null;const p=(d.isCharged?d.duration:0)+d.interval-d.phase;return p<Ha.ACCELERATION_TIME?p+d.duration+d.interval-Ha.ACCELERATION_TIME:p-Ha.ACCELERATION_TIME}const i=[ta(1).isCharged,ta(2).isCharged],n=[ta(1).phase,ta(2).phase],r=[ta(1).duration,ta(2).duration],a=[ta(1).interval,ta(2).interval];if(a[0]<=Ha.ACCELERATION_TIME&&a[1]<=Ha.ACCELERATION_TIME)return null;const s=[[a[0]],[r[0],a[1]],[r[0],r[1]]];let o=0,c=0;for(let d=0;d<e;d++){const p=i[0]?i[1]?2:1:0,m=s[p],y=p>0?Math.min(m[0]-n[0],m[1]-n[1]):m[0]-n[0];if(p===2){if(o>=Ha.ACCELERATION_TIME)return c-Ha.ACCELERATION_TIME;o=0}else o+=y;c+=y,p>0&&(n[1]+=y,n[1]>=m[1]&&(i[1]=!i[1],n[1]-=m[1])),n[0]+=y,n[0]>=m[0]&&(i[0]=!i[0],n[0]-=m[0])}return null},autoPauseData(t){if(this.arePaused)return[!1,0];if(player.blackHoleAutoPauseMode===BLACK_HOLE_PAUSE_MODE.NO_PAUSE)return[!1,t];const e=this.timeToNextPause(player.blackHoleAutoPauseMode);return e===null||e<1e-9||e>t?[!1,t]:[!0,e]}},Qze={get baseRMCap(){return DC.E1000},get hardcapRM(){return this.baseRMCap.times(ImaginaryUpgrade(6).effectOrDefault(1))},get distanceToRMCap(){return this.hardcapRM.minus(Currency.realityMachines.value)},get realityMachineMultiplier(){return ShopPurchase.RMPurchases.currentMult*Teresa.rmMultiplier*Effects.max(1,PerkShopUpgrade.rmMult)*getAdjustedGlyphEffect("effarigrm")*Achievement(167).effectOrDefault(1)*1e3},get uncappedRM(){let t=player.records.thisReality.maxEP.plus(gainedEternityPoints()).log10();PlayerProgress.realityUnlocked()||t>6e3&&(t-=(t-6e3)*.75);let e=DC.E3.pow(t/4e3-1);return e.gte(1)&&e.lt(10)&&(e=new Decimal(27/4e3*t-26)),e=e.times(this.realityMachineMultiplier),e.floor()},get gainedRealityMachines(){return this.uncappedRM.clampMax(this.hardcapRM)},get isIMUnlocked(){return Currency.realityMachines.value.gte(this.hardcapRM)||Currency.imaginaryMachines.gt(0)},get baseIMCap(){return Math.pow(Math.clampMin(this.uncappedRM.log10()-1e3,0),2)*Math.pow(Math.clampMin(this.uncappedRM.log10()-1e5,1),.2)},get currentIMCap(){return player.reality.iMCap*ImaginaryUpgrade(13).effectOrDefault(1)},get projectedIMCap(){return this.baseIMCap*ImaginaryUpgrade(13).effectOrDefault(1)},updateIMCap(){this.uncappedRM.gte(this.baseRMCap)&&this.baseIMCap>player.reality.iMCap&&(player.records.bestReality.iMCapSet=Glyphs.copyForRecords(Glyphs.active.filter(t=>t!==null)),player.reality.iMCap=this.baseIMCap)},get scaleTimeForIM(){return 60/ImaginaryUpgrade(20).effectOrDefault(1)/1e3},gainedImaginaryMachines(t){return(this.currentIMCap-Currency.imaginaryMachines.value)*(1-Math.pow(2,-t/1e3/this.scaleTimeForIM))},estimateIMTimer(t){const e=this.currentIMCap;if(e<=t)return 1/0;const i=Currency.imaginaryMachines.value;return Math.max(0,Math.log2(e/(e-t))-Math.log2(e/(e-i)))*this.scaleTimeForIM}},Wt={};Wt.hardReset=function(){GameStorage.hardReset()};Wt.giveAllAchievements=function(){const t=Achievements.all.concat(SecretAchievements.all);for(const e of t)e.unlock()};Wt.multiplyEverythingBy=function(t){t=new Decimal(t),Object.keys(player).forEach(e=>{typeof player[e]=="number"&&(player[e]*=t.toNumber()),player[e]instanceof Decimal&&Decimal.isFinite(player[e])&&(player[e]=player[e].times(t)),typeof player[e]=="object"&&!Decimal.isFinite(player[e])&&Object.keys(player[e]).forEach(i=>{typeof player[e][i]=="number"&&!Decimal.isFinite(player[e][i])&&(player[e][i]*=t.toNumber()),player[e][i]instanceof Decimal&&(player[e][i]=player[e][i].times(t))})})};Wt.doubleEverything=function(){Wt.multiplyEverythingBy(2)};Wt.tripleEverything=function(){Wt.multiplyEverythingBy(3)};Wt.barrelRoll=function(){gl.display("a-barrel-roll",5)};Wt.spin3d=function(){document.body.style.animation===""?document.body.style.animation="a-spin3d 3s infinite":document.body.style.animation=""};Wt.spin4d=function(){document.body.style.animation===""?document.body.style.animation="a-spin4d 3s infinite":document.body.style.animation=""};Wt.cancerize=function(){Theme.tryUnlock("Design"),Notation.emoji.setAsCurrent()};Wt.fixSave=function(){const e=JSON.stringify(player,GameSaveSerializer.jsonConverter).replace(/NaN/gui,"10"),i=JSON.parse(e);if(!i||GameStorage.checkPlayerObject(i)!==""){Modal.message.show("Could not fix the save.");return}GameStorage.loadPlayerObject(i),GameStorage.save()};Wt.updateTDCosts=function(){for(let t=1;t<9;t++){const e=TimeDimension(t);e.cost=e.nextCost(e.bought)}};Wt.refundTimeDims=function(){for(const t of TimeDimensions.all)t.bought=0;Wt.updateTDCosts()};Wt.refundEPMult=function(){player.epmultUpgrades=0};Wt.refundDilStudies=function(){for(const t of GameDatabase.eternity.timeStudies.dilation)player.dilation.studies.includes(t.id)&&(player.dilation.studies.splice(player.dilation.studies.indexOf(t.id),1),console.log(document.getElementById(`removed dilstudy${t.id}`)),Currency.timeTheorems.add(t.cost))};Wt.resetDilation=function(){player.dilation.dilatedTime=DC.D0,player.dilation.tachyonParticles=DC.D0,player.dilation.rebuyables[1]=0,player.dilation.rebuyables[2]=0,player.dilation.rebuyables[3]=0,player.dilation.baseTachyonGalaxies=0,player.dilation.totalTachyonGalaxies=0};Wt.giveSpecialGlyph=function(t,e,i,n=i){if(GameCache.glyphInventorySpace.value===0)return;const r=GlyphGenerator.randomGlyph({actualLevel:i,rawLevel:n});r.symbol=e,r.color=t,Glyphs.addToInventory(r)};Wt.giveGlyph=function(t,e=t){GameCache.glyphInventorySpace.value!==0&&Glyphs.addToInventory(GlyphGenerator.randomGlyph({actualLevel:t,rawLevel:e}))};Wt.giveRealityGlyph=function(t){GameCache.glyphInventorySpace.value!==0&&Glyphs.addToInventory(GlyphGenerator.realityGlyph(t))};Wt.setCompanionGlyphEP=function(t){const e=player.reality.glyphs.active.concat(player.reality.glyphs.inventory).filter(i=>i.type==="companion")[0];e.strength=rarityToStrength(t.log10()/1e6)};Wt.decriminalize=function(){SecretAchievement(23).lock(),EventHub.dispatch(GAME_EVENT.ACHIEVEMENT_UNLOCKED)};Wt.removeAch=function(t){if(t==="all"){const e=Achievements.all.concat(SecretAchievements.all);for(const i of e)i.lock();return"removed all achievements"}return typeof t=="number"?Achievement(t).lock():t.startsWith("r")?Achievement(parseInt(t.slice(1),10)).lock():t.startsWith("s")?SecretAchievement(parseInt(t.slice(1),10)).lock():"failed to delete achievement"};window.nextNewsMessageId=void 0;Wt.setNextNewsMessage=function(t){nextNewsMessageId=t};Wt.implode=function(){bigCrunchAnimation()};Wt.eternify=function(){eternityAnimation()};Wt.dilate=function(){animateAndDilate()};Wt.undilate=function(){animateAndUndilate()};Wt.realize=function(){runRealityAnimation()};Wt.respecPerks=function(){player.reality.perkPoints+=player.reality.perks.size,player.reality.perks=new Set,GameCache.achievementPeriod.invalidate(),GameCache.buyablePerks.invalidate()};function Jze(){return window.location.href.split("//")[1].length>20||N4()}function N4(){const t=window.location.href;return t.includes("file")||t.includes("127.0.0.1")||t.includes("localhost")}Wt.togglePerformanceStats=function(){PerformanceStats.toggle()};Wt.buyAllPerks=function(){const t=[],e=[Perk.firstPerk];for(;e.length>0&&!(player.reality.perkPoints<1);){const i=e.shift();t.push(i),e.push(...i.connectedPerks.filter(n=>!t.includes(n))),i.purchase()}};Wt.printResourceTotals=function(){console.log(`Antimatter: e${Currency.antimatter.exponent.toPrecision(3)}`),console.log(`RM: e${Math.round(MachineHandler.gainedRealityMachines.log10())}`),console.log(`Glyph level: ${100*Math.floor(gainedGlyphLevel().actualLevel/100+.5)}`),console.log(`Tickspeed: e${-Tickspeed.current.exponent.toPrecision(3)}`),console.log(`Gamespeed: ${Math.pow(getGameSpeedupFactor(),1.2).toPrecision(1)}`);const t=100*Math.floor(player.galaxies/100+.5),e=100*Math.floor(Replicanti.galaxies.total/100+.5),i=100*Math.floor(player.dilation.totalTachyonGalaxies/100+.5);console.log(`Galaxies: ${t}+${e}+${i} (${t+e+i})`),console.log(`Tick reduction: e${-Math.round(getTickSpeedMultiplier().log10())}`);let n=DC.D1;for(let s=1;s<=8;s++)n=n.times(AntimatterDimension(s).multiplier);console.log(`AD mults: e${n.log10().toPrecision(3)}`);let r=DC.D1;for(let s=1;s<=8;s++)r=r.times(InfinityDimension(s).multiplier);console.log(`ID mults: e${r.log10().toPrecision(3)}`);let a=DC.D1;for(let s=1;s<=8;s++)a=a.times(TimeDimension(s).multiplier);console.log(`TD mults: e${a.log10().toPrecision(3)}`),console.log(`Tickspeed from TD: ${formatWithCommas(1e3*Math.floor(player.totalTickGained/1e3+.5))}`),console.log(`Infinities: e${Math.round(player.infinities.log10())}`),console.log(`Eternities: e${Math.round(player.eternities.log10())}`),console.log(`Replicanti: e${formatWithCommas(1e5*Math.floor(Replicanti.amount.log10()/1e5+.5))}`),console.log(`TT: e${Math.round(player.timestudy.theorem.log10())}`),console.log(`DT: e${Math.round(player.dilation.dilatedTime.log10())}`),console.log(`TP: e${Math.round(player.dilation.tachyonParticles.log10())}`)};Wt.unlockCelestialQuotes=function(t){Quotes[t].all.forEach(e=>e.show())};Wt.presentCelestialQuotes=function(t){Quotes[t].all.forEach(e=>e.present())};Wt.testReplicantiCode=function(t,e=!1){const i=[[function(){player.infinities=DC.E12,player.celestials.effarig.unlockBits=64}],[function(){player.replicanti.interval=1}],[function(){player.timestudy.studies.push(33)}],[function(){player.timestudy.studies.push(62)}],[function(){player.timestudy.studies.push(131)},function(){player.timestudy.studies.push(132)},function(){player.timestudy.studies.push(133)},function(){player.timestudy.studies.push(131,132,133)}],[function(){player.timestudy.studies.push(192)}],[function(){player.timestudy.studies.push(213)}],[function(){player.timestudy.studies.push(225)}],[function(){player.timestudy.studies.push(226)}],[function(){player.achievementBits[8]|=16}],[function(){player.achievementBits[12]|=8}],[function(){player.achievementBits[12]|=128}],[function(){player.reality.perks=new Set([32])}],[function(){Autobuyer.replicantiGalaxy.isActive=!0}],[function(){Replicanti.galaxies.isPlayerHoldingR=!0}],[function(){player.replicanti.boughtGalaxyCap=100},function(){player.replicanti.boughtGalaxyCap=100,player.replicanti.galaxies=50}],[function(){player.reality.upgReqs=64,player.reality.upgradeBits=64}]],n=i.map(o=>o.length+1).reduce((o,c)=>o*c),r=[],a=function(o){Replicanti.galaxies.isPlayerHoldingR=!1,GameStorage.loadPlayerObject(Player.defaultStart),player.infinities=DC.D1,player.infinityPoints=DC.E150,Replicanti.unlock(),player.replicanti.chance=1;for(let d=0;d<i.length;d++){const p=i.slice(0,d).map(y=>y.length+1).reduce((y,_)=>y*_,1),m=[()=>{}].concat(i[d])[Math.floor(o/p)%(i[d].length+1)];m()}function c(){for(let d=0;d<=5;d++)replicantiLoop(Math.pow(10,d)),r.push(Notation.scientific.formatDecimal(Replicanti.amount,5,5)),r.push(player.replicanti.galaxies),r.push(Replicanti.galaxies.total)}c(),player.antimatter=DC.E309,player.records.thisInfinity.maxAM=DC.E309,bigCrunchReset(),c()};if(t===void 0){if(4e3*10007<n)throw new Error("Prime p is not large enough to go through all situations.");for(let d=0;d<4e3;d++){const p=d*10007%n;d%100===0&&console.log(`Considering situation #${d}/4000 (${p})`),a(p)}}else a(t);const s=bm.sha512_256(r.toString());if(console.log(s),e)debugger;return s};Wt.testGlyphs=function(t){const e=t.glyphLevel||6500,i=t.duration||4e3;let n=Date.now();const r=GameSaveSerializer.serialize(player),a=(x,O)=>({type:x,level:e,strength:3.5,rawLevel:e,idx:null,id:n++,effects:makeGlyphEffectBitmask(O)}),s=x=>a(x,GlyphTypes[x].effects.map(O=>O.id)),o=[a("effarig",["effarigantimatter","effarigdimensions","effarigforgotten","effarigblackhole"]),a("effarig",["effarigantimatter","effarigdimensions","effarigforgotten","effarigachievement"])];function c(x,O){if(O.length===0)return[];if(x===0)return[[]];const D=c(x,O.slice(1)),B=c(x-1,O);return B.forEach(P=>P.push(O[0])),B.concat(D)}const d=c(5,BASIC_GLYPH_TYPES).map(x=>x.map(O=>s(O))),p=c(4,BASIC_GLYPH_TYPES).map(x=>x.map(O=>s(O))),m=o.map(x=>p.map(O=>[x].concat(O))),y=d.concat(...m);function _(x){player.reality.glyphs.active=y[x].map((O,D)=>(O.idx=D,O)),Glyphs.active=Array.from(player.reality.glyphs.active),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)}function w(x){return x.type==="effarig"?o.findIndex(O=>O.id===x.id).toString():GLYPH_SYMBOLS[x.type]}function C(x,O,D=!1){return x.length>=O?x:D?" ".repeat(O-x.length)+x:x+" ".repeat(O-x.length)}function k(x){const O=C(`${Math.floor(100*(x+1)/y.length)}%`,4,!0),D=C(MachineHandler.gainedRealityMachines.toPrecision(2),9),B=C(gainedGlyphLevel().actualLevel,4),P=C(player.eternityPoints.exponent.toString(),6),R=C(player.infinityPoints.exponent.toString(),8),I=C(Currency.antimatter.exponent.toString(),12),F=DimBoost.purchasedBoosts,$=Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies,L=y[x].map(w).sum();console.log(`${O} ${L} rm=${D} gl=${B} ep=${P} ip=${R} am=${I} dimboosts=${F} galaxies=${$}`),GameStorage.offlineEnabled=!1,GameStorage.import(r),x<y.length-1&&setTimeout(S,100,x+1)}function S(x){_(x),AutomatorBackend.start(),setTimeout(k,i,x)}S(0)};Wt.unlockAutomator=function(){player.reality.automator.forceUnlock=!0};Wt.forceCloudSave=async function(){const t=await Cloud.load(),e=GameSaveSerializer.deserialize(t),i=GameStorage.currentSlot;e.saves||(e.saves=[]),e.saves[i]=GameStorage.saves[i],Cloud.save(i)};Wt.unlockAllCosmeticSets=function(){player.reality.glyphs.cosmetics.unlockedFromNG=Object.keys(GameDatabase.reality.glyphCosmeticSets)};const eXe={BITS_PER_MASK:31,addSeenNews(t){if(!GameDatabase.news.map(r=>r.id).includes(t))return;const e=t.match(/([a-z]+)(\d+)/u),i=e[1],n=parseInt(e[2],10);for(player.news.seen[i]||(player.news.seen[i]=[]);this.BITS_PER_MASK*player.news.seen[i].length<=n;)player.news.seen[i].push(0);player.news.seen[i][Math.floor(n/this.BITS_PER_MASK)]|=1<<n%this.BITS_PER_MASK,player.news.totalSeen++},hasSeenNews(t){const e=t.match(/([a-z]+)(\d+)/u),i=e[1],n=parseInt(e[2],10),r=player.news.seen[i];return!r||this.BITS_PER_MASK*r.length<n?!1:(r[Math.floor(n/this.BITS_PER_MASK)]|=1<<n%this.BITS_PER_MASK)!==0},get uniqueTickersSeen(){let t=0;for(const e of Object.values(player.news.seen))for(const i of e)t+=countValuesFromBitmask(i);return t}},$x={},Lc={totalSTD:0,spentSTD:0,respecAvailable:!1,lastRespec:"",unlockedCosmetics:[],get availableSTD(){return this.totalSTD-this.spentSTD},get isIAPEnabled(){return Cloud.loggedIn&&this.availableSTD>=0&&player.IAP.enabled},get timeUntilRespec(){const t=Date.now()-new Date(Lc.lastRespec).getTime();return TimeSpan.fromMilliseconds(3*86400*1e3-t)},get canRespec(){return this.respecAvailable||this.timeUntilRespec.totalDays<=0},updateLocalSTD(t){this.totalSTD=t.totalSTD,this.spentSTD=t.spentSTD,this.respecAvailable=t.respecAvailable,this.lastRespec=t.lastRespec??0,this.unlockedCosmetics=[...t.unlockedCosmetics??[]];for(const e of Object.keys(GameDatabase.shopPurchases))this[e]=t[e]??0;this.allCosmeticSets>0&&(this.unlockedCosmetics=Object.keys(GameDatabase.reality.glyphCosmeticSets)),Lc.isIAPEnabled&&Speedrun.setSTDUse(!0),GameStorage.save()},clearLocalSTD(){this.totalSTD=0,this.spentSTD=0,this.respecAvailable=!1,this.unlockedCosmetics=[];for(const t of Object.keys(GameDatabase.shopPurchases))this[t]=0},async syncSTD(t=!0,e=void 0){if(!Cloud.loggedIn)return;let i;if(e)i=e;else try{i=await(await fetch(`${STD_BACKEND_URL}/STDData?user=${Cloud.user.id}`)).json()}catch{GameUI.notify.error("Could not sync STD purchases!",1e4);return}t&&i.totalSTD>0&&GameUI.notify.info("STD purchases successfully loaded!",1e4),this.updateLocalSTD(i)},respecRequest(){player.options.confirmations.respecIAP?Modal.respecIAP.show():this.respecAll()},async respecAll(){if(!this.canRespec){GameUI.notify.error("You do not have a respec available",1e4);return}let t;try{t=await fetch(`${STD_BACKEND_URL}/respec`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:Cloud.user.id})})}catch{GameUI.notify.error("Unable to respec STD purchases!",1e4);return}const e=await t.json();e.success?GameUI.notify.info("STD respec successful!",1e4):GameUI.notify.error("No purchases to respec!",1e4),this.updateLocalSTD(e.data)}};for(const t of Object.keys(GameDatabase.shopPurchases))Lc[t]=0;class tXe extends tu{get currency(){return Lc.availableSTD}get isAffordable(){return this.currency>=this.cost}get description(){const e=this.config.description;return typeof e=="function"?e():e}get cost(){const e=this.config.cost;return typeof e=="function"?e():e}get purchases(){return Lc[this.config.key]??0}set purchases(e){Number.isFinite(e)&&(Lc[this.config.key]=e)}isUnlocked(){var e,i;return player.records.fullGameCompletions>0||(((i=(e=this.config).isUnlocked)==null?void 0:i.call(e))??!0)}get lockText(){return this.config.lockText}get shouldDisplayMult(){return!!this.config.multiplier}get currentMult(){return this.shouldDisplayMult?this.config.multiplier(Lc.isIAPEnabled?this.purchases:0):""}get nextMult(){return this.shouldDisplayMult?this.config.multiplier(Lc.isIAPEnabled?this.purchases+1:0):""}get currentMultForDisplay(){return this.shouldDisplayMult?this.config.multiplier(this.purchases):""}get nextMultForDisplay(){return this.shouldDisplayMult?this.config.multiplier(this.purchases+1):""}formatEffect(e){var i,n;return((n=(i=this.config).formatEffect)==null?void 0:n.call(i,e))||formatX(e,2,0)}async purchase(){var n;if(!this.canBeBought||GameEnd.creditsEverClosed||this.config.instantPurchase&&ui.$viewModel.modal.progressBar)return!1;const e=this.config.key==="singleCosmeticSet"?(n=GlyphAppearanceHandler.chosenFromModal)==null?void 0:n.id:void 0;return(df.isActive?await df.purchaseShopItem(this.config.key,this.cost,e):await jn.buyUpgrade(this.config.key,e))?(player.IAP.enabled&&Speedrun.setSTDUse(!0),this.config.instantPurchase&&this.config.onPurchase(),GameUI.update(),!0):!1}}const iXe=mapGameDataToObject(GameDatabase.shopPurchases,t=>new tXe(t));$x.purchaseTimeSkip=function(){Speedrun.setSTDUse(!0),simulateTime(3600*6)};$x.purchaseLongerTimeSkip=function(){Speedrun.setSTDUse(!0),simulateTime(3600*24)};class nXe{constructor(e,i){this._parent=e,this.config=i}get name(){return this.config.name}get symbol(){return this.config.symbol}get isPermanentlyHidden(){return this.config.hideAt<GameEnd.endState&&!GameEnd.creditsClosed}get hidable(){return this.config.hidable}get isHidden(){return Enslaved.isRunning||Pelle.hasGalaxyGenerator?!1:(player.options.hiddenSubtabBits[this._parent.id]&1<<this.id)!==0&&this.hidable}get isUnlocked(){return this.config.condition===void 0||this.config.condition()}get isAvailable(){return!this.isPermanentlyHidden&&(this.isOpen||!this.isHidden&&this.isUnlocked)}get hasNotification(){return player.tabNotifications.has(this._parent.key+this.key)}get key(){return this.config.key}get id(){return this.config.id}show(e){this._parent.show(e,this)}unhideTab(){this._parent.unhideTab(),player.options.hiddenSubtabBits[this._parent.id]&=~(1<<this.id)}toggleVisibility(){this._parent.id===Ud.current.id&&this.id===Ud.current._currentSubtab.id||(player.options.hiddenSubtabBits[this._parent.id]^=1<<this.id,G4())}get isOpen(){return ui.view.tab===this._parent.key&&ui.view.subtab===this.key}}function j2(t,e){return e.find(i=>i.id===player.options.lastOpenSubtab[t])??e[0]}function rXe(t,e){const i=t.filter(s=>s.isAvailable),n=i.indexOf(e),r=ui.view.shiftDown?-1:1;let a=n+r;return a=a<0?i.length-1:a,a=a>i.length-1?0:a,i[a]}class aXe{constructor(e){this.config=e,this.isOpened=!1;const i=[];for(const n of e.subtabs){const r=new nXe(this,n);this[n.key]=r,i.push(r)}this.subtabs=i,this._currentSubtab=j2(this.id,i)}get name(){return this.config.name}get key(){return this.config.key}get id(){return this.config.id}get isPermanentlyHidden(){return this.config.hideAt<GameEnd.endState&&!GameEnd.creditsClosed}get hidable(){return this.config.hidable}get isHidden(){if(Enslaved.isRunning||Pelle.hasGalaxyGenerator)return!1;const e=this.subtabs.some(i=>i.isAvailable);return((player.options.hiddenTabBits&1<<this.id)!==0||!e)&&this.hidable}get isUnlocked(){return this.config.condition===void 0||this.config.condition()}get isAvailable(){return!this.isPermanentlyHidden&&(this.isOpen||!this.isHidden&&this.isUnlocked)}get isOpen(){return ui.view.tab===this.key}get hasNotification(){return this.subtabs.some(e=>e.hasNotification)}show(e,i=void 0){if(!e&&!player.options.automaticTabSwitching||Quote.isOpen)return;i!==void 0?(Enslaved.isRunning||i.unhideTab(),this._currentSubtab=i):ui.view.tab===this.key&&ui.view.initialized&&e?this._currentSubtab=rXe(this.subtabs,this._currentSubtab):this._currentSubtab=j2(this.id,this.subtabs),this._currentSubtab.isUnlocked||this.resetToUnlocked(),this._currentSubtab.isAvailable||this.resetToAvailable(),ui.view.tab=this.key,ui.view.subtab=this._currentSubtab.key;const n=this.key+this._currentSubtab.key;player.tabNotifications.has(n)&&player.tabNotifications.delete(n),e&&Modal.hideAll(),EventHub.dispatch(GAME_EVENT.TAB_CHANGED,this,this._currentSubtab)}unhideTab(){player.options.hiddenTabBits&=~(1<<this.id)}toggleVisibility(){this.id!==Ud.current.id&&(player.options.hiddenTabBits^=1<<this.id,G4())}resetToAvailable(){this._currentSubtab=this.subtabs.find(e=>e.isAvailable),this._currentSubtab===void 0&&(this._currentSubtab=this.subtabs[0],this._currentSubtab.unhideTab())}resetToUnlocked(){this._currentSubtab=this.subtabs.find(e=>e.isUnlocked)}}const wn=GameDatabase.tabs.mapToObject(t=>t.key,t=>new aXe(t)),Ud=function(){return{all:Object.values(wn),get current(){return Ud.all.find(t=>t.isOpen)},oldUI:[wn.dimensions,wn.options,wn.statistics,wn.achievements,wn.automation,wn.challenges,wn.infinity,wn.eternity,wn.reality,wn.celestials,wn.shop],newUI:[wn.dimensions,wn.automation,wn.challenges,wn.infinity,wn.eternity,wn.reality,wn.celestials,wn.achievements,wn.statistics,wn.options,wn.shop],get currentUIFormat(){return ui.view.newUI?this.newUI:this.oldUI}}}(),G4=()=>{Ud.all.filter(t=>t.isUnlocked&&t.hidable).every(t=>t.isHidden)&&SecretAchievement(47).unlock()};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,()=>{const t=Ud.current.id;player.options.lastOpenTab=t,player.options.lastOpenSubtab[t]=Ud.current._currentSubtab.id});class sXe{constructor(e){if(this.config=e,e.events)for(const i of e.events)EventHub.logic.on(i,this.tryTrigger.bind(this),this)}get triggered(){return player.triggeredTabNotificationBits&1<<this.config.id}tryTrigger(){if(!this.config.condition()||this.triggered)return;const e=`${Tabs.current.key}${Tabs.current._currentSubtab.key}`;this.config.tabsToHighLight.map(i=>i.parent+i.tab).forEach(i=>{i!==e&&player.tabNotifications.add(i)}),player.triggeredTabNotificationBits|=1<<this.config.id;for(const i of this.config.tabsToHighLight){const n=Tabs.all.find(a=>a.config.key===i.parent),r=n.subtabs.find(a=>a.key===i.tab);n.unhideTab(),r.unhideTab()}}clearTrigger(){player.triggeredTabNotificationBits&=-1-(1<<this.config.id),this.config.tabsToHighLight.map(e=>e.parent+e.tab).forEach(e=>player.tabNotifications.delete(e))}}const oXe=mapGameDataToObject(GameDatabase.tabNotifications,t=>new sXe(t));let lXe=class{constructor(e,i){switch(this.lines=[],this.warnings=[],i){case"Climb EP":this.templateClimbEP(e);break;case"Grind Eternities":this.templateGrindEternities(e);break;case"Grind Infinities":this.templateGrindInfinities(e);break;case"Complete Eternity Challenge":this.templateDoEC(e);break;case"Unlock Dilation":this.templateUnlockDilation(e);break;default:throw new Error(`Unrecognized template name ${i} in ScriptTemplate`)}}format(e){return typeof e=="number"?Math.round(e):e.lte(1e3)?e.toNumber().toFixed(2):`${e.mantissa.toFixed(2)}e${e.exponent}`}storeTreeData(e){const i=e.treeNowait?" nowait":"";if(e.treePreset){const n=player.timestudy.presets.map((a,s)=>({...a,id:s+1})).find(a=>a.name===e.treePreset||a.id===Number(e.treePreset)),r=n.name?`name ${n.name}`:`id ${n.id}`;this.storedTreeStr=`studies${i} load ${r}`,this.storedTreeObj=new TimeStudyTree(n.studies)}else this.storedTreeStr=`studies${i} purchase ${e.treeStudies}`,this.storedTreeObj=new TimeStudyTree(e.treeStudies);this.storedTreeObj.invalidStudies.length>0&&this.warnings.push("Tree contains invalid Study IDs"),this.storedTreeObj.purchasedStudies.length<this.storedTreeObj.selectedStudies.length&&(this.warnings.push("Tree structure results in some unbought studies when imported with an empty tree"),e.treeNowait||this.warnings.push('Automator may possibly get stuck with "Keep buying Studies" setting'))}parseAutobuyerProp(e,i){switch(e){case"mult":return`${this.format(i)} x highest`;case"time":return`${this.format(i)} seconds`;default:throw new Error(`Unrecognized autobuyer mode ${e} in automator script templates`)}}templateClimbEP(e){this.lines.push("// Template: Climb EP"),this.lines.push(`notify "Running Template Climb EP (to ${format(e.finalEP)})"`),this.storeTreeData(e),this.lines.push(`auto infinity ${this.parseAutobuyerProp(e.autoInfMode,e.autoInfValue)}`),this.lines.push(`auto eternity ${this.parseAutobuyerProp(e.autoEterMode,e.autoEterValue)}`),this.lines.push(`while ep < ${this.format(e.finalEP)} {`),this.lines.push(` ${this.storedTreeStr}`),this.lines.push(" studies respec"),this.lines.push(" wait eternity"),this.lines.push("}")}templateGrindEternities(e){this.lines.push("// Template: Grind Eternities"),this.lines.push(`notify "Running Template Grind Eternities (to ${format(e.eternities)})"`),this.storeTreeData(e),this.lines.push(this.storedTreeStr),this.lines.push("auto eternity 0 ep");const i=Number.MAX_VALUE/Currency.infinityPoints.startingValue.toNumber()*5;this.lines.push(`auto infinity ${this.format(Decimal.pow(i,1/e.crunchesPerEternity))} x highest`),this.lines.push(`wait eternities > ${this.format(e.eternities)}`),this.lines.push("auto eternity off")}templateGrindInfinities(e){if(this.lines.push("// Template: Grind Infinities"),this.lines.push(`notify "Running Template Grind Infinities (to ${format(e.infinities)})"`),this.storeTreeData(e),this.lines.push(this.storedTreeStr),this.lines.push("auto eternity off"),this.lines.push("auto infinity 5s"),e.isBanked){const i=this.storedTreeObj.purchasedStudies.includes(TimeStudy(191));i||this.warnings.push(`TS191 is not reachable from an empty tree; banking anything in this template
        will require Achievement "${Achievement(131).name}"`);const n=i?.1:.05;this.lines.push("// Note: This template attempts to get all the Banked Infinities within a single Eternity"),this.lines.push(`wait infinities > ${this.format(e.infinities.dividedBy(n),2)}`),this.lines.push("eternity")}else this.lines.push(`wait infinities > ${this.format(e.infinities,2)}`)}templateDoEC(e){this.lines.push("// Template: Complete Eternity Challenge"),this.lines.push(`notify "Running Template Complete Eternity Challenge (EC${e.ec})"`),this.lines.push("eternity respec"),this.storeTreeData(e),this.lines.push(this.storedTreeStr);const i=this.storedTreeObj;i.ec===0?(this.lines.push(`unlock ec ${e.ec}`),i.hasRequirements(TimeStudy.eternityChallenge(e.ec),!0)||this.warnings.push("Specified Study Tree cannot reach specified EC")):i.ec!==e.ec&&this.warnings.push("Specified Study Tree already has a different EC unlocked"),this.lines.push(`auto infinity ${this.parseAutobuyerProp(e.autoInfMode,e.autoInfValue)}`),this.lines.push("auto eternity off"),TimeStudy.eternityChallenge(e.ec)||this.warnings.push("Specified template EC does not exist"),this.lines.push(`start ec ${e.ec}`),e.completions>5&&this.warnings.push(`ECs cannot be completed more than ${formatInt(5)} times`),this.lines.push(`wait pending completions >= ${e.completions}`),this.lines.push("eternity")}templateUnlockDilation(e){this.lines.push("// Template: Unlock Dilation"),this.lines.push('notify "Running Template Unlock Dilation"'),this.storeTreeData(e),[231,232,233,234].some(i=>this.storedTreeObj.purchasedStudies.includes(TimeStudy(i)))||this.warnings.push("Specified Study Tree cannot reach Dilation"),this.lines.push("auto infinity off"),this.lines.push(`auto eternity ${this.parseAutobuyerProp(e.autoEterMode,e.autoEterValue)}`),this.lines.push(`while total tt < ${this.format(TimeStudy.dilation.totalTimeTheoremRequirement)} {`),this.lines.push(` ${this.storedTreeStr}`),this.lines.push(" studies respec"),this.lines.push(" wait eternity"),this.lines.push("}"),this.lines.push("unlock dilation")}get script(){return this.lines.join(`
`)}};const cXe=Object.freeze(Object.defineProperty({__proto__:null,AUTOMATOR_COMMAND_STATUS:Xo,AUTOMATOR_MODE:go,AUTOMATOR_TYPE:Er,AUTOMATOR_VAR_TYPES:v7,Achievement:$k,AchievementTimers:Zje,Achievements:ar,AlchemyReactions:XF,AlchemyResource:Sv,AlchemyResources:_k,AntimatterDimension:Hn,AntimatterDimensions:Cf,AutoBackupSlots:Oh,AutoGlyphProcessor:v7e,Autobuyer:Kt,Autobuyers:wo,AutomatorBackend:Vc,AutomatorData:zs,AutomatorHighlighter:OC,AutomatorPoints:b7,AutomatorScript:cd,AutomatorScroller:NC,AwayProgressTypes:fg,BACKUP_SLOT_TYPE:Ya,BlackHole:ta,BlackHoles:Ha,BreakInfinityUpgrade:cze,BreakInfinityUpgradeState:u4,Celestials:Ede,Cloud:hw,ConfirmationTypes:jC,CosmeticGlyphTypes:qp,Currency:ni,DarkMatterDimension:Ih,DarkMatterDimensionState:QF,DarkMatterDimensions:fw,DeltaTimeState:Vk,DilationTimeStudyState:Sf,DilationUpgrade:Xa,DilationUpgrades:Zze,DimBoost:bo,ECTimeStudyState:Am,EFFARIG_STAGES:$a,END_STATE_MARKERS:i3,ENSLAVED_UNLOCKS:bk,Effarig:Nd,EffarigUnlock:f0,Enslaved:fs,EnslavedProgress:p0,EternityChallenge:Af,EternityChallengeState:_4,EternityChallenges:wg,EternityMilestone:Iv,EternityMilestoneState:v4,EternityUpgrade:DE,FreeTickspeed:Ko,GALAXY_TYPE:$u,Galaxy:gd,GalaxyGenerator:_de,GalaxyGeneratorUpgrade:t3,GalaxyGeneratorUpgrades:Mp,GameCache:Vp,GameEnd:wde,GameIntervals:OL,GameKeyboard:Ji,GameOptions:Jwe,GameSaveSerializer:Hu,GameStorage:c0,GameUI:Fl,GlyphAlteration:ide,GlyphAppearanceHandler:zl,GlyphEffect:c7e,GlyphEffectOrder:Jje,GlyphEffects:Kw,GlyphGenerator:yo,GlyphSacrifice:i7e,GlyphSacrificeHandler:g7e,GlyphSelection:$n,GlyphTypes:iA,Glyphs:Jl,ImaginaryUpgrade:x4,ImaginaryUpgrades:Lze,InfinityChallenge:xm,InfinityChallenges:Gh,InfinityDimension:Zo,InfinityDimensions:sm,InfinityUpgrade:ds,InfinityUpgradeState:c4,Laitela:Td,LineEnum:xU,MachineHandler:Qze,Modal:Te,NG:Bue,NewsHandler:eXe,NormalChallenge:jc,NormalChallenges:d4,NormalTimeStudies:kf,NormalTimeStudyState:Sm,Notation:qi,Notations:HF,POWER_DE_PER_ASCENSION:ZF,POWER_DM_PER_ASCENSION:KF,Pelle:Ea,PelleRifts:Ks,PelleStrikes:gde,PelleUpgrade:ea,PelleUpgradeState:e3,PerformanceStats:VJ,Perk:D4,PerkShopUpgrade:que,Perks:Dm,Player:ML,PlayerProgress:sn,Quote:VF,Quotes:Vd,Ra:li,RealityUpgrade:Nze,RealityUpgrades:Gze,RebuyablePelleUpgradeState:JF,Replicanti:Dt,ReplicantiGrowth:lm,ReplicantiUpgrade:b0,Sacrifice:om,ScriptTemplate:lXe,SecretAchievement:Fk,SecretAchievements:g0,ShopPurchase:iXe,ShopPurchaseData:Lc,Singularity:pde,SingularityMilestone:Vg,SingularityMilestones:Av,Speedrun:zue,SpeedrunMilestone:pb,TUTORIAL_STATE:Xu,Tab:wn,TabNotification:oXe,Tabs:Ud,Teresa:Ef,TeresaUnlocks:YF,Tesseracts:qF,Theme:yi,Themes:wm,Tickspeed:tl,Time:E7e,TimeDimension:ja,TimeDimensions:Tb,TimeStudy:gi,TimeStudyConnection:t4,TimeStudyState:xE,TimeStudyTree:W7e,TimeTheoremPurchaseType:ys,TimeTheorems:A4,Tutorial:Lue,UIID:jje,V:jl,VRunUnlock:WF,VRunUnlocks:jF,VUnlocks:ad,animateAndDilate:I4,animateAndEternity:f4,animateAndUndilate:R4,antimatterDimensionCommonMultiplier:S7e,applyEU1:y4,applyEU2:gze,applyRUPG10:C4,autoAdjustGlyphWeights:b7e,autoReality:Cze,beginProcessReality:Nx,bigCrunchAnimation:a4,bigCrunchReset:qk,bigCrunchResetRequest:s4,bigCrunchResetValues:o4,blockifyTextAutomator:Zg,buyAsManyAsYouCanBuy:R7e,buyDilationUpgrade:M4,buyManyDimension:I7e,buyMaxDimension:Q5,buyMaxTickSpeed:C7e,buyMaxTimeDimension:J5,buyOneDimension:AE,buySingleTimeDimension:Tw,buyStudiesUntil:Y7e,buyTickSpeed:T7e,calculateGlyph:Hk,checkPerkValidity:$ze,clearCelestialRuns:k4,countValuesFromBitmask:m7e,dev:Wt,dilatedValueOf:zze,disChargeAll:sze,effectiveBaseGalaxies:Z5,eternity:Wk,eternityAnimation:h4,eternityResetRequest:yze,findGlyphTypeEffects:DL,finishProcessReality:zk,forbiddenConstantPatterns:kU,fullResetTimeDimensions:L7e,gainedEternities:g4,generatedTypes:Qje,getActiveGlyphEffects:y7e,getAdjustedGlyphEffect:Dv,getAdjustedGlyphEffectUncached:u7e,getAdjustedGlyphLevel:a7e,getBaseTP:O4,getDilationGainPerSecond:P4,getDilationTimeEstimate:jze,getDimensionFinalMultiplierUncached:A7e,getGlyphEffectValues:Px,getGlyphEffectValuesFromBitmask:p7e,getGlyphEffectsFromBitmask:IL,getGlyphIDsFromBitmask:mQ,getGlyphLevelInputs:_7e,getRarity:r7e,getRealityProps:Ox,getReplicantiInterval:Cw,getSecondaryGlyphEffect:d7e,getSingleGlyphEffectFromBitmask:X5,getTP:Bx,getTachyonGain:qze,getTachyonGalaxyMult:Vze,getTachyonReq:Wze,getTickSpeedMultiplier:Yk,guardFromNaNValues:PL,hasCompilationErrors:SU,infinityDimensionCommonMultiplier:O7e,initializeChallengeCompletions:p4,initializeResourcesAfterEternity:m4,isDevEnvironment:Jze,isInCelestialReality:xze,isLocalEnvironment:N4,isRealityAvailable:IE,isSecretImport:tEe,makeGlyphEffectBitmask:pQ,manualBigCrunchResetRequest:Q7e,manualRequestDimensionBoost:z7e,manualRequestGalaxyReset:Iee,maxAll:M7e,maxAllTimeDimensions:$7e,orderedEffectList:W5,preProductionGenerateIP:nze,processManualReality:jk,rarityToStrength:j5,realityGlyphEffectLevelThresholds:fQ,recalculateAllGlyphs:n7e,replicantiCap:_o,replicantiGalaxy:Gx,replicantiGalaxyRequest:Ize,replicantiLoop:Mze,replicantiMult:Pze,requestDimensionBoost:n4,requestGalaxyReset:WL,requestManualReality:Eze,resetTickspeed:k7e,resetTimeDimensions:U7e,respecGlyphs:s7e,respecTimeStudies:q7e,rewardTP:Yze,runRealityAnimation:T4,sacrificeBtnClick:K7e,sacrificeReset:r4,secondSoftReset:l4,separateEffectKey:f7e,shop:$x,shortcuts:YL,simulatedRealityCount:w4,skipResetsIfPossible:i4,softReset:Wp,startDilatedEternity:Ux,startDilatedEternityRequest:Fze,startEternityChallenge:b4,startManualReality:E4,staticGlyphWeights:w7e,strengthToRarity:e7e,tachyonGainMultiplier:Lx,timeDimensionCommonMultiplier:F7e,toggleAllInfDims:N7e,toggleAllTimeDims:B7e,totalIPMult:aze,totalReplicantiSpeedMult:S4,tryCompleteInfinityChallenges:hze,tryImportSecret:iEe,tryUnlockTimeDimensions:V7e,ui:zje,updateNormalAndInfinityChallenges:uze,updateTimeDimensionCosts:e4,validateLine:PC},Symbol.toStringTag,{value:"Module"})),uXe=/((CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(11[_.]0|11[_.]([1-9]|\d{2,})|11[_.]2|11[_.]([3-9]|\d{2,})|(1[2-9]|[2-9]\d|\d{3,})[_.]\d+|12[_.]5|12[_.]([6-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})[_.]\d+|14[_.]0|14[_.]([1-9]|\d{2,})|14[_.]4|14[_.]([5-9]|\d{2,})|14[_.]8|14[_.](9|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})[_.]\d+|15[_.]6|15[_.]([7-9]|\d{2,})|15[_.]8|15[_.](9|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})[_.]\d+|16[_.]0|16[_.]([1-9]|\d{2,})|16[_.]5|16[_.]([6-9]|\d{2,})|(1[7-9]|[2-9]\d|\d{3,})[_.]\d+|17[_.]1|17[_.]([2-9]|\d{2,})|(1[8-9]|[2-9]\d|\d{3,})[_.]\d+)(?:[_.]\d+)?)|(CFNetwork\/8.* Darwin\/17\.0\.\d+)|(CFNetwork\/8.* Darwin\/17\.2\.\d+)|(CFNetwork\/8.* Darwin\/17\.3\.\d+)|(CFNetwork\/8.* Darwin\/17\.\d+)|(Opera\/.+Opera Mobi.+Version\/(80\.0|80\.([1-9]|\d{2,})|(8[1-9]|9\d|\d{3,})\.\d+))|(Opera\/(80\.0|80\.([1-9]|\d{2,})|(8[1-9]|9\d|\d{3,})\.\d+).+Opera Mobi)|(Opera Mobi.+Opera(?:\/|\s+)(80\.0|80\.([1-9]|\d{2,})|(8[1-9]|9\d|\d{3,})\.\d+))|((?:Chrome).*OPR\/(109\.0|109\.([1-9]|\d{2,})|(11\d|[2-9]\d\d|\d{4,})\.\d+|111\.0|111\.([1-9]|\d{2,})|(11[2-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+)\.\d+)|(SamsungBrowser\/(25\.0|25\.([1-9]|\d{2,})|(2[6-9]|[3-9]\d|\d{3,})\.\d+))|(Edge\/(125(?:\.0)?|125(?:\.([1-9]|\d{2,}))?|(12[6-9]|1[3-9]\d|[2-9]\d\d|\d{4,})(?:\.\d+)?))|((Chromium|Chrome)\/(79\.0|79\.([1-9]|\d{2,})|([8-9]\d|\d{3,})\.\d+|103\.0|103\.([1-9]|\d{2,})|(10[4-9]|1[1-9]\d|[2-9]\d\d|\d{4,})\.\d+|109\.0|109\.([1-9]|\d{2,})|(11\d|[2-9]\d\d|\d{4,})\.\d+|116\.0|116\.([1-9]|\d{2,})|(11[7-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|120\.0|120\.([1-9]|\d{2,})|(12[1-9]|1[3-9]\d|[2-9]\d\d|\d{4,})\.\d+)(?:\.\d+)?)|(Version\/(15\.6|15\.([7-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+|16\.3|16\.([4-9]|\d{2,})|16\.6|16\.([7-9]|\d{2,})|(1[7-9]|[2-9]\d|\d{3,})\.\d+|17\.4|17\.([5-9]|\d{2,})|(1[8-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(115\.0|115\.([1-9]|\d{2,})|(11[6-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|127\.0|127\.([1-9]|\d{2,})|(12[8-9]|1[3-9]\d|[2-9]\d\d|\d{4,})\.\d+)\.\d+)|(Firefox\/(115\.0|115\.([1-9]|\d{2,})|(11[6-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|127\.0|127\.([1-9]|\d{2,})|(12[8-9]|1[3-9]\d|[2-9]\d\d|\d{4,})\.\d+)(pre|[ab]\d+[a-z]*)?)/;if(GlobalErrorHandler.handled)throw new Error("Initialization failed");GlobalErrorHandler.cleanStart=!0;function dXe(){const t=new Set(["timeMult","dimMult","timeMult2","skipReset1","skipReset2","unspentBonus","27Mult","18Mult","36Mult","resetMult","skipReset3","passiveGen","45Mult","resetBoost","galaxyBoost","skipResetGalaxy","ipOffline"]),e=new Set(["timeMult","dimMult","timeMult2","skipReset1","skipReset2","unspentBonus","27Mult","18Mult","36Mult","resetMult","skipReset3","passiveGen","45Mult","resetBoost","galaxyBoost","skipResetGalaxy","totalMult","currentMult","postGalaxy","challengeMult","achievementMult","infinitiedMult","infinitiedGeneration","autoBuyerUpgrade","autobuyMaxDimboosts","ipOffline"]);if(PelleUpgrade.keepBreakInfinityUpgrades.canBeApplied){player.infinityUpgrades=new Set([...player.infinityUpgrades].filter(i=>e.has(i)));return}if(PelleUpgrade.keepInfinityUpgrades.canBeApplied){player.infinityUpgrades=new Set([...player.infinityUpgrades].filter(i=>t.has(i))),player.infinityRebuyables=[0,0,0],GameCache.tickSpeedMultDecrease.invalidate(),GameCache.dimensionMultDecrease.invalidate();return}RealityUpgrade(10).isBought||EternityMilestone.keepBreakUpgrades.isReached?(player.infinityUpgrades=e,player.infinityRebuyables=[8,7,10]):EternityMilestone.keepInfinityUpgrades.isReached?(player.infinityUpgrades=t,player.infinityRebuyables=[0,0,0]):(player.infinityUpgrades.clear(),player.infinityRebuyables=[0,0,0]),Pelle.isDoomed&&(player.infinityUpgrades.clear(),player.infinityRebuyables=[0,0,0]),GameCache.tickSpeedMultDecrease.invalidate(),GameCache.dimensionMultDecrease.invalidate()}function hXe(){if(Autobuyer.bigCrunch.hasMaxedInterval&&!InfinityChallenge.isRunning){for(const t of Autobuyers.all)t.data.interval!==void 0&&t.maxIntervalForFree();Achievement(61).tryUnlock(),player.break=!player.break,TabNotification.ICUnlock.tryTrigger(),EventHub.dispatch(player.break?GAME_EVENT.BREAK_INFINITY:GAME_EVENT.FIX_INFINITY),GameUI.update()}}function xw(){const t=Effects.min(308,Achievement(103),TimeStudy(111));if(Pelle.isDisabled("IPMults"))return Decimal.pow10(player.records.thisInfinity.maxAM.log10()/t-.75).timesEffectsOf(PelleRifts.vacuum).times(Pelle.specialGlyphEffect.infinity).times(1e3).floor();let e=player.break?Decimal.pow10(player.records.thisInfinity.maxAM.log10()/t-.75):new Decimal(308/t);return Effarig.isRunning&&Effarig.currentStage===EFFARIG_STAGES.ETERNITY&&(e=e.min(DC.E200)),e=e.times(GameCache.totalIPMult.value),Teresa.isRunning?e=e.pow(.55):V.isRunning?e=e.pow(.5):Laitela.isRunning&&(e=dilatedValueOf(e)),GlyphAlteration.isAdded("infinity")&&(e=e.pow(getSecondaryGlyphEffect("infinityIP"))),e.floor()}function U4(){return Pelle.isDisabled("EPMults")?Pelle.specialGlyphEffect.time.timesEffectOf(PelleRifts.vacuum.milestones[2]).times(1e3):getAdjustedGlyphEffect("cursedEP").times(ShopPurchase.EPPurchases.currentMult).times(1e3).timesEffectsOf(EternityUpgrade.epMult,TimeStudy(61),TimeStudy(122),TimeStudy(121),TimeStudy(123),RealityUpgrade(12),GlyphEffect.epMult)}function Dw(){let t=DC.D5.pow(player.records.thisEternity.maxIP.plus(xw()).log10()/(308-PelleRifts.recursion.effectValue.toNumber())-.7).times(U4());return Teresa.isRunning?t=t.pow(.55):V.isRunning?t=t.pow(.5):Laitela.isRunning&&(t=dilatedValueOf(t)),GlyphAlteration.isAdded("time")&&(t=t.pow(getSecondaryGlyphEffect("timeEP"))),t.floor()}function fXe(t){return Decimal.pow10(308*(Decimal.log(Decimal.divide(t,U4()),5)+.7)).clampMin(Number.MAX_VALUE)}function L4(){const t=getGlyphLevelInputs();let e=Math.floor(t.rawLevel);isFinite(e)||(e=0);let i=Math.floor(t.actualLevel);return isFinite(i)||(i=0),{rawLevel:e,actualLevel:i}}function pXe(){player.chall2Pow=1,player.chall3Pow=DC.D0_01,Currency.matter.reset(),player.chall8TotalSacrifice=DC.D1,player.postC4Tier=1}function mXe(t,e){return Decimal.divide(t,e/(60*1e3))}function yXe(t,e,i,n){let r="";player.challenge.normal.current&&(r=`Normal Challenge ${player.challenge.normal.current}`),player.challenge.infinity.current&&(r=`Infinity Challenge ${player.challenge.infinity.current}`),player.records.recentInfinities.pop(),player.records.recentInfinities.unshift([t,e,i,n,r]),GameCache.bestRunIPPM.invalidate()}function gXe(){player.records.recentInfinities=Array.from({length:10},()=>[Number.MAX_VALUE,Number.MAX_VALUE,DC.D1,DC.D1,""]),GameCache.bestRunIPPM.invalidate()}function B4(t,e){return Autobuyer.bigCrunch.autoInfinitiesAvailable(e)?Decimal.floor(player.records.thisEternity.bestInfinitiesPerMs.times(t).dividedBy(2)):DC.D0}function vXe(t,e,i,n){let r="";if(player.challenge.eternity.current){const s=player.challenge.eternity.current,o=EternityChallenge(s);r=`${player.dilation.active?"Dilated EC":"Eternity Challenge"} ${s} (${formatInt(o.completions)}/${formatInt(o.maxCompletions)})`}else player.dilation.active&&(r="Time Dilation");const a=player.dilation.active?getTachyonGain():DC.D0;player.records.recentEternities.pop(),player.records.recentEternities.unshift([t,e,i,n,r,a]),GameCache.averageRealTimePerEternity.invalidate()}function bXe(){player.records.recentEternities=Array.from({length:10},()=>[Number.MAX_VALUE,Number.MAX_VALUE,DC.D1,DC.D1,"",DC.D0]),GameCache.averageRealTimePerEternity.invalidate()}function $4(t,e){return Autobuyer.eternity.autoEternitiesAvailable(e)?Decimal.floor(player.records.thisReality.bestEternitiesPerMs.times(t).dividedBy(2)):DC.D0}function _Xe(){return player.options.offlineProgress&&!Autobuyer.bigCrunch.autoInfinitiesAvailable()&&!Autobuyer.eternity.autoEternitiesAvailable()}function F4(t){return!EternityMilestone.autoEP.isReached||!_Xe()?DC.D0:player.records.bestEternity.bestEPminReality.times(TimeSpan.fromMilliseconds(t).totalMinutes/4)}function wXe(t,e,i,n,r,a,s){let o="";const c=[Teresa,Effarig,Enslaved,V,Ra,Laitela];for(const p of c)p.isRunning&&(o=p.displayName);const d=Effarig.shardsGained;player.records.recentRealities.pop(),player.records.recentRealities.unshift([t,e,i.times(a),r,o,n,d*a,s])}function H4(){if(EternityChallenge(4).isRunning)return DC.D1;if(Pelle.isDisabled("InfinitiedMults"))return DC.E3;let t=Effects.max(1,Achievement(87)).toDecimal();return t=t.timesEffectsOf(TimeStudy(32),RealityUpgrade(5),RealityUpgrade(7),Achievement(131).effects.infinitiesGain,Achievement(164),Ra.unlocks.continuousTTBoost.effects.infinity),t=t.times(1e3),t=t.times(getAdjustedGlyphEffect("infinityinfmult")),t=t.powEffectOf(SingularityMilestone.infinitiedPow),t}function EXe(){GameStorage.save(),location.reload(!0)}const Jr={FIXED_SPEED:1,TIME_GLYPH:2,BLACK_HOLE:3,TIME_STORAGE:4,SINGULARITY_MILESTONE:5,NERFS:6};function Bc(t,e){let i;if(t===void 0?i=[Jr.FIXED_SPEED,Jr.TIME_GLYPH,Jr.BLACK_HOLE,Jr.TIME_STORAGE,Jr.SINGULARITY_MILESTONE,Jr.NERFS]:i=t,i.includes(Jr.FIXED_SPEED)&&EternityChallenge(12).isRunning)return 1/1e3;let n=1;if(Achievement(154).isUnlocked&&(n*=1e3),i.includes(Jr.BLACK_HOLE)){if(BlackHoles.areNegative)n*=player.blackHoleNegative;else if(!BlackHoles.arePaused)for(const r of BlackHoles.list){if(!r.isUnlocked||!(e===void 0?r.isActive:r.id<=e))break;n*=Math.pow(r.power,BlackHoles.unpauseAccelerationFactor),n*=VUnlocks.achievementBH.effectOrDefault(1)}}if(i.includes(Jr.SINGULARITY_MILESTONE)&&(n*=SingularityMilestone.gamespeedFromSingularities.effectOrDefault(1)),i.includes(Jr.TIME_GLYPH)&&(n*=getAdjustedGlyphEffect("timespeed"),n=Math.pow(n,getAdjustedGlyphEffect("effarigblackhole"))),Enslaved.isStoringGameTime&&i.includes(Jr.TIME_STORAGE)){const r=Ra.unlocks.autoPulseTime.canBeApplied?.99:1;n=n*(1-r)+r}if(i.includes(Jr.NERFS)){if(Effarig.isRunning)n=Effarig.multiplier(n).toNumber();else if(Laitela.isRunning){const r=Math.clampMax(Time.thisRealityRealTime.totalMinutes,1);n=Math.pow(n,r)}}return n*=PelleUpgrade.timeSpeedMult.effectValue.toNumber(),n=Math.clamp(n,1e-300,1e300),n}function TXe(){const t=Bc();return Enslaved.isAutoReleasing&&Enslaved.canRelease(!0)&&!BlackHoles.areNegative&&!Pelle.isDisabled("blackhole")?Math.max(Enslaved.autoReleaseSpeed,t):t}function Kk(t){return Ra.memoryTick(t,!Enslaved.isStoringRealTime),AlchemyResource.momentum.isUnlocked&&(player.celestials.ra.momentumTime+=t*Achievement(175).effectOrDefault(1)*1e3),DarkMatterDimensions.tick(t),Enslaved.isStoringRealTime?(player.records.realTimePlayed+=t,player.records.thisInfinity.realTime+=t,player.records.thisEternity.realTime+=t,player.records.thisReality.realTime+=t,Enslaved.storeRealTime(),Autobuyers.tick(),GameUI.update(),!0):!1}function Zk(t,e={}){if(PerformanceStats.start("Frame Time"),PerformanceStats.start("Game Update"),EventHub.dispatch(GAME_EVENT.GAME_TICK_BEFORE),Speedrun.isPausedAtStart()||GameEnd.creditsEverClosed){GameUI.update();return}let i=t;const n=Date.now(),r=i===void 0?Math.clamp(n-player.lastUpdate,1,864e5):i;if(GameStorage.ignoreBackupTimer||(player.backupTimer+=r),player.options.hibernationCatchup&&t===void 0&&r>6e4){GameIntervals.gameLoop.stop(),Y4(r/1e3,!0),Kk(r);return}if(Kk(r))return;Enslaved.isAutoReleasing&&Enslaved.autoReleaseTick++,Enslaved.autoReleaseTick>=5?(Enslaved.autoReleaseTick=0,Enslaved.useStoredTime(!0),Enslaved.isReleaseTick=!0):Enslaved.isReleaseTick||(Enslaved.nextTickDiff=r),(Enslaved.isReleaseTick||i===void 0)&&(i=Enslaved.nextTickDiff),Autobuyers.tick(),Tutorial.tutorialLoop(),Achievement(165).isUnlocked&&player.celestials.effarig.autoAdjustGlyphWeights&&autoAdjustGlyphWeights(),GameCache.antimatterDimensionCommonMultiplier.invalidate(),GameCache.antimatterDimensionFinalMultipliers.invalidate(),GameCache.infinityDimensionCommonMultiplier.invalidate(),GameCache.timeDimensionCommonMultiplier.invalidate(),GameCache.totalIPMult.invalidate();const a=r,s=EternityChallenge(12).isRunning;if(!Enslaved.isReleaseTick&&!s){let m;if(e.blackHoleSpeedup===void 0?m=Bc():m=e.blackHoleSpeedup,Enslaved.isStoringGameTime&&!s){const y=Bc(),_=Bc([Jr.FIXED_SPEED,Jr.TIME_GLYPH,Jr.BLACK_HOLE,Jr.SINGULARITY_MILESTONE]),w=Ra.unlocks.improvedStoredTime.effects.gameTimeAmplification.effectOrDefault(1),C=player.celestials.enslaved.stored;player.celestials.enslaved.stored=Math.clampMax(player.celestials.enslaved.stored+i*(_-y)*w,Enslaved.timeCap),Enslaved.currentBlackHoleStoreAmountPerMs=(player.celestials.enslaved.stored-C)/i,m=y}i*=m}else s&&(i*=Bc(),Enslaved.currentBlackHoleStoreAmountPerMs=0);player.celestials.ra.peakGamespeed=Math.max(player.celestials.ra.peakGamespeed,Bc()),Enslaved.isReleaseTick=!1,Achievement(188).isUnlocked||(player.records.realTimeDoomed+=r,player.records.realTimePlayed+=r,player.records.totalTimePlayed+=i,player.records.thisInfinity.realTime+=r,player.records.thisInfinity.time+=i,player.records.thisEternity.realTime+=r,Enslaved.isRunning&&Enslaved.feltEternity&&!EternityChallenge(12).isRunning?player.records.thisEternity.time+=i*(1+Currency.eternities.value.clampMax(1e66).toNumber()):player.records.thisEternity.time+=i,player.records.thisReality.realTime+=r,player.records.thisReality.time+=i),DeltaTimeState.update(r,i),updateNormalAndInfinityChallenges(i),preProductionGenerateIP(i),Pelle.isDoomed||kXe(),DXe(r),IXe(r);const o=AlchemyResource.uncountability.effectValue*Time.unscaledDeltaTime.totalSeconds;Currency.realities.add(o),Currency.perkPoints.add(o),Perk.autocompleteEC1.canBeApplied&&(player.reality.lastAutoEC+=r),EternityChallenge(12).tryFail(),Achievements._power.invalidate(),TimeDimensions.tick(i),InfinityDimensions.tick(i),AntimatterDimensions.tick(i);const c=Math.clampMin(FreeTickspeed.fromShards(Currency.timeShards.value).newAmount-player.totalTickGained,0);player.totalTickGained+=c,CXe(),tryCompleteInfinityChallenges(),EternityChallenges.autoComplete.tick(),replicantiLoop(i),PlayerProgress.dilationUnlocked()&&Currency.dilatedTime.add(getDilationGainPerSecond().times(i/1e3)),RXe(),Currency.timeTheorems.add(V4().times(i/1e3)),InfinityDimensions.tryAutoUnlock(),BlackHoles.updatePhases(a),Ra.unlocks.autoUnlockDilation.canBeApplied&&Currency.timeTheorems.max.gte(TimeStudy.dilation.totalTimeTheoremRequirement)&&!isInCelestialReality()&&!Pelle.isDoomed&&(Currency.timeTheorems.add(TimeStudy.dilation.cost),TimeStudy.dilation.purchase(!0)),SXe(),GlyphSelection.active&&GlyphSelection.update(L4());const d=player.dilation.active&&Ra.unlocks.autoTP.canBeApplied,p=!isInCelestialReality()&&Ra.unlocks.unlockDilationStartingTP.canBeApplied;if((d||p)&&!Pelle.isDoomed&&rewardTP(),Enslaved.canTickHintTimer&&(player.celestials.enslaved.hintUnlockProgress+=Enslaved.isRunning?r:r*.4,player.celestials.enslaved.hintUnlockProgress>=TimeSpan.fromHours(5).totalMilliseconds&&(EnslavedProgress.hintsUnlocked.giveProgress(),Enslaved.quotes.hintUnlock.show())),AXe(r),Achievements.autoAchieveUpdate(i),V.checkForUnlocks(),AutomatorBackend.update(r),Pelle.gameLoop(r),GalaxyGenerator.loop(r),GameEnd.gameLoop(r),Enslaved.canAmplify||(Enslaved.boostReality=!1),GameEnd.endState<END_STATE_MARKERS.CREDITS_START){if(Tabs.current.isPermanentlyHidden){const m=Tabs.all.reverse().find(y=>!y.isPermanentlyHidden&&y.id!==10);m?m.show(!0):[...Tab.dimensions.subtabs].reverse().find(y=>!y.isPermanentlyHidden).show(!0)}Tabs.current.subtabs.find(m=>m.isOpen).isPermanentlyHidden&&[...Tab.dimensions.subtabs].reverse().find(m=>!m.isPermanentlyHidden).show(!0)}EventHub.dispatch(GAME_EVENT.GAME_TICK_AFTER),GameUI.update(),player.lastUpdate=n,PerformanceStats.end("Game Update")}function CXe(){const t=xw().dividedBy(Math.clampMin(5e-4,Time.thisInfinityRealTime.totalMinutes));t.gt(player.records.thisInfinity.bestIPmin)&&Player.canCrunch&&(player.records.thisInfinity.bestIPmin=t,player.records.thisInfinity.bestIPminVal=xw());const e=Dw().dividedBy(Math.clampMin(5e-4,Time.thisEternityRealTime.totalMinutes));e.gt(player.records.thisEternity.bestEPmin)&&Player.canEternity&&(player.records.thisEternity.bestEPmin=e,player.records.thisEternity.bestEPminVal=Dw());const i=Effarig.shardsGained/Math.clampMin(5e-4,Time.thisRealityRealTime.totalMinutes);i>player.records.thisReality.bestRSmin&&isRealityAvailable()&&(player.records.thisReality.bestRSmin=i,player.records.thisReality.bestRSminVal=Effarig.shardsGained)}function kXe(){let t=0;if(RealityUpgrade(14).isBought&&(t=DC.D1.times(1e3).timesEffectsOf(Achievement(113),RealityUpgrade(3),RealityUpgrade(14)),t=Decimal.times(t,getAdjustedGlyphEffect("timeetermult")),t=new Decimal(Time.deltaTime).times(Decimal.pow(t,AlchemyResource.eternity.effectValue)),player.reality.partEternitied=player.reality.partEternitied.plus(t),Currency.eternities.add(player.reality.partEternitied.floor()),player.reality.partEternitied=player.reality.partEternitied.sub(player.reality.partEternitied.floor())),!EternityChallenge(4).isRunning){let e=DC.D0;BreakInfinityUpgrade.infinitiedGen.isBought&&(e=e.plus(.5*Time.deltaTimeMs/Math.clampMin(50,player.records.bestInfinity.time)),e=e.times(1e3).timesEffectsOf(RealityUpgrade(5),RealityUpgrade(7),Ra.unlocks.continuousTTBoost.effects.infinity),e=e.times(getAdjustedGlyphEffect("infinityinfmult"))),RealityUpgrade(11).isBought&&(e=e.plus(RealityUpgrade(11).effectValue.times(Time.deltaTime))),EffarigUnlock.eternity.isUnlocked&&(e=e.plus(H4().times(Currency.eternities.value.minus(t.div(2).floor())).times(Time.deltaTime))),e=e.plus(player.partInfinitied),Currency.infinities.add(e.floor()),player.partInfinitied=e.minus(e.floor()).toNumber()}}function SXe(){if(!TimeDimension(8).isUnlocked&&Perk.autounlockTD.canBeApplied)for(let t=5;t<=8;++t)TimeStudy.timeDimension(t).purchase();Perk.autounlockDilation3.canBeApplied&&buyDilationUpgrade(DilationUpgrade.ttGenerator.id),Perk.autounlockReality.canBeApplied&&TimeStudy.reality.purchase(!0),applyEU2()}function AXe(t){const e=player.celestials.laitela;if(Laitela.isRunning&&(e.entropy>=0&&(e.entropy+=t/1e3*Laitela.entropyGainPerSecond),e.entropy>=1)){let i=`Lai'tela's Reality has been destabilized after ${Time.thisRealityRealTime.toStringShort()}.`;e.entropy=-1;const n={fastestCompletion:e.fastestCompletion,difficultyTier:e.difficultyTier,realityReward:Laitela.realityReward};e.thisCompletion=Time.thisRealityRealTime.totalSeconds,e.fastestCompletion=Math.min(e.thisCompletion,e.fastestCompletion),clearCelestialRuns();const r=Time.thisRealityRealTime.totalSeconds<30;if(r){e.difficultyTier++,e.fastestCompletion=300,i+=xXe(Laitela.maxAllowedDimension+1);for(const a of Laitela.quotes.all)a.requirement&&a.show()}if(Laitela.realityReward>n.realityReward){i+=`<br><br>Dark Matter Multiplier: ${formatX(n.realityReward,2,2)}
      ➜ ${formatX(Laitela.realityReward,2,2)}<br>Best Completion Time: `;const a=n.fastestCompletion===3600||n.fastestCompletion===300&&n.difficultyTier>0;i+=`${a?"None":TimeSpan.fromSeconds(n.fastestCompletion).toStringShort()} ➜
        ${r?"Destabilized":TimeSpan.fromSeconds(e.fastestCompletion).toStringShort()}
        <br>Highest Active Dimension: ${r?`${formatInt(8-n.difficultyTier)} ➜`:""}
        ${formatInt(8-e.difficultyTier)}`,player.records.bestReality.laitelaSet=Glyphs.copyForRecords(Glyphs.active.filter(s=>s!==null))}else i+=` You need to destabilize in faster than
        ${TimeSpan.fromSeconds(e.fastestCompletion).toStringShort()} to improve your multiplier.`;Laitela.isFullyDestabilized&&pb.completeFullDestabilize.tryComplete(),Modal.message.show(i,{},2)}}function xXe(t){switch(t){case 1:return`<br><br>Lai'tela's Reality will now completely disable production from all Dimensions.
        The Reality can still be entered, but further destabilization is no longer possible.
        For completely destabilizing the Reality, you also get an additional ${formatX(8)} to Dark Energy gain.`;case 2:return`<br><br>Lai'tela's Reality will now disable production from all 2nd Dimensions during
      future runs, but the reward will be ${formatInt(100)} times stronger than before. Completely destabilizing
      the Reality for the final Dimension will give you an additional ${formatX(8)} to Dark Energy gain.`;case 3:return`<br><br>Lai'tela's Reality will now disable production from all 3rd Dimensions during
        future runs, but the reward will be ${formatInt(100)} times stronger than before.`;case 8:return`<br><br>Lai'tela's Reality will now disable production from all 8th Dimensions during
        future runs, but the reward will be ${formatInt(100)} times stronger than before. This boost can be
        repeated for each remaining Dimension by reaching destabilization within ${formatInt(30)} seconds again.`;default:return`<br><br>Lai'tela's Reality will now disable production from all
        ${t}th Dimensions during future runs, but the reward will be
        ${formatInt(100)} times stronger than before.`}}function DXe(t){if(Currency.infinityPoints.add(TimeStudy(181).effectOrDefault(0)),TeresaUnlocks.epGen.canBeApplied&&Currency.eternityPoints.add(player.records.thisEternity.bestEPmin.times(DC.D0_01).times(Bc()*t/1e3).timesEffectOf(Ra.unlocks.continuousTTBoost.effects.autoPrestige)),InfinityUpgrade.ipGen.isCharged){const e=MachineHandler.gainedRealityMachines.timesEffectsOf(InfinityUpgrade.ipGen.chargedEffect).times(t/1e3);Currency.realityMachines.add(e)}PelleRifts.chaos.milestones[2].canBeApplied&&Currency.eternityPoints.add(Dw().div(10).times(t/1e3))}function IXe(t){MachineHandler.updateIMCap(),Currency.imaginaryMachines.add(MachineHandler.gainedImaginaryMachines(t))}function RXe(){const t=Effects.max(1,DilationUpgrade.doubleGalaxies),e=1e3,i=getTachyonGalaxyMult();player.dilation.baseTachyonGalaxies=Math.max(player.dilation.baseTachyonGalaxies,1+Math.floor(Decimal.log(Currency.dilatedTime.value.dividedBy(1e3),i))),player.dilation.nextThreshold=DC.E3.times(new Decimal(i).pow(player.dilation.baseTachyonGalaxies)),player.dilation.totalTachyonGalaxies=Math.min(player.dilation.baseTachyonGalaxies*t,e)+Math.max(player.dilation.baseTachyonGalaxies*t-e,0)/t,player.dilation.totalTachyonGalaxies*=DilationUpgrade.galaxyMultiplier.effectValue}function V4(){let t=Effects.product(Ra.unlocks.continuousTTBoost.effects.ttGen,Ra.unlocks.achievementTTMult,Achievement(137),Achievement(156));GlyphAlteration.isAdded("dilation")&&(t*=getSecondaryGlyphEffect("dilationTTgen"));const e=Teresa.isRunning||Enslaved.isRunning||Pelle.isDoomed?0:getAdjustedGlyphEffect("dilationTTgen")*t;let n=(DilationUpgrade.ttGenerator.isBought?DilationUpgrade.ttGenerator.effectValue.times(Pelle.isDoomed?1:t):DC.D0).add(e);return n.gt(1)&&(n=n.pow(SingularityMilestone.theoremPowerFromSingularities.effectOrDefault(1))),n}function z2(t,e){if(t>600){const i=Lf([{},player]);Modal.awayProgress.show({playerBefore:e,playerAfter:i,seconds:t})}GameUI.notify.showBlackHoles=!0}function Y4(t,e,i){if(t<0)return;let n=Math.floor(t*20);GameUI.notify.showBlackHoles=!1;const r=GameStorage.maxOfflineTicks(1e3*t,GameStorage.offlineTicks??player.options.offlineTicks);n>r&&!i?n=r:n>50&&!e&&i&&(n=50);const a=Lf([{},player]);let s;BlackHoles.areUnlocked&&!BlackHoles.arePaused?s=BlackHoles.calculateGameTimeFromRealTime(t,BlackHoles.calculateSpeedups()):s=Bc()*t;const o=B4(s*1e3),c=$4(s*1e3);c.gt(0)?Currency.eternities.add(c):o.gt(0)?Currency.infinities.add(o):Currency.eternityPoints.add(F4(t*1e3)),InfinityUpgrade.ipOffline.isBought&&player.options.offlineProgress&&Currency.infinityPoints.add(player.records.thisEternity.bestIPMsWithoutMaxAll.times(t*1e3/2)),EventHub.dispatch(GAME_EVENT.OFFLINE_CURRENCY_GAINED);let d=t,p=m=>{const y=d/m;Zk(1e3*y),d-=y};if(BlackHoles.areUnlocked&&!BlackHoles.arePaused&&(p=m=>{const[y,_]=BlackHoles.calculateOfflineTick(d,m,1e-4);d-=y,Zk(1e3*y,{blackHoleSpeedup:_})}),i){GameIntervals.stop();for(let m=50;m>0;m--)p(m);GameStorage.postLoadStuff(),z2(t,a)}else{const m={};ui.view.modal.progressBar={},Async.run(p,n,{batchSize:1,maxTime:60,sleepTime:1,asyncEntry:y=>{GameIntervals.stop(),ui.$viewModel.modal.progressBar={label:"Offline Progress Simulation",info:()=>`The game is being run at a lower accuracy in order to quickly calculate the resources you
              gained while you were away. See the How To Play entry on "Offline Progress" for technical details. If
              you are impatient and want to get back to the game sooner, you can click the "Speed up" button to
              simulate the rest of the time with half as many ticks (down to a minimum of ${formatInt(500)} ticks
              remaining). The "SKIP" button will instead use all the remaining offline time in ${formatInt(10)}
              ticks.`,progressName:"Ticks",current:y,max:n,startTime:Date.now(),buttons:[{text:"Speed up",condition:(_,w)=>w-_>500,click:()=>{const _=Math.clampMin(Math.floor(m.remaining/2),500);m.maxIter-=m.remaining-_,m.remaining=_,ui.$viewModel.modal.progressBar.max=m.maxIter}},{text:"SKIP",condition:(_,w)=>w-_>10,click:()=>{m.maxIter-=m.remaining-10,m.remaining=10}}]}},asyncProgress:y=>{ui.$viewModel.modal.progressBar.current=y},asyncExit:()=>{ui.$viewModel.modal.progressBar=void 0,GameStorage.postLoadStuff()},then:()=>z2(t,a),progress:m})}}window.onload=function(){const t=Fx();GameUI.initialized=t,ui.view.initialized=t,setTimeout(()=>{$h.updateZoom(),document.getElementById("loading").style.display="none"},500),t||(GameIntervals.stop(),document.getElementById("loading").style.display="none",document.getElementById("browser-warning").style.display="flex")};window.onfocus=function(){q4(!1)};window.onblur=function(){GameKeyboard.stopSpins()};function q4(t){ui.view.shiftDown=t}function MXe(t){Replicanti.galaxies.isPlayerHoldingR=t}function Fx(){return uXe.test(navigator.userAgent)}function W4(){console.log("🌌 Antimatter Dimensions: x1000 Update 🌌"),console.log("Current Version: 0.901 (pre-release)"),$h.initialize(),df.initialize(),hw.init(),GameStorage.load(),Tabs.all.find(t=>t.config.id===player.options.lastOpenTab).show(!0),jn.init()}window.tweenTime=0;let $_;function j4(t){if(requestAnimationFrame(j4),t===void 0||$_===void 0){$_=t;return}let e=t-$_;$_=t,player.dilation.active&&(e/=Pelle.isDoomed?1.5:10),tweenTime+=e,Va.update(tweenTime)}j4();const PXe=Object.freeze(Object.defineProperty({__proto__:null,GAME_SPEED_EFFECT:Jr,addEternityTime:vXe,addInfinityTime:yXe,addRealityTime:wXe,breakInfinity:hXe,browserCheck:Fx,gainedEternityPoints:Dw,gainedGlyphLevel:L4,gainedInfinities:H4,gainedInfinityPoints:xw,gameLoop:Zk,getEternitiedMilestoneReward:$4,getGameSpeedupFactor:Bc,getGameSpeedupForDisplay:TXe,getInfinitiedMilestoneReward:B4,getOfflineEPGain:F4,getTTPerSecond:V4,init:W4,playerInfinityUpgradesOnReset:dXe,ratePerMinute:mXe,realTimeMechanics:Kk,requiredIPForEP:fXe,resetChallengeStuff:pXe,resetEternityRuns:bXe,resetInfinityRuns:gXe,setHoldingR:MXe,setShiftKey:q4,simulateTime:Y4,updateRefresh:EXe},Symbol.toStringTag,{value:"Module"}));function Yd(t){for(const e in t){if(e==="default")continue;const i=t[e];if(window[e]!==void 0)throw`Property ${e} already exists in global context`;window[e]=i}}Yd(FY);Yd(Gq);Yd(O7);Yd(F7);Yd(W7);Yd(hQ);Yd(cXe);Yd(PXe);Fx()&&W4();
